(self.webpackChunk=self.webpackChunk||[]).push([[6503],{7578:function(pe,x,e){"use strict";var ie=e(68181),W=(0,ie.Z)({scriptUrl:["//at.alicdn.com/t/font_3354854_ds8pa06q1qa.js"]});x.Z=W},79320:function(pe,x,e){"use strict";e.r(x);var ie=e(93303),W=e(40762),ue=e(57310),Q=e(83008),j=e(54598),s=e(189),d=e(72327),f=e(7335),C=e(68540),h=e(57836),c=e(72912),O=e(73742),B=e(84263),p=e(65709),i=e(81615),P=e(28102),T=e(38815),v=e(42273),ye=e(53086),S=e(85141),y=e(12924),l=e.n(y),ce=e(72002),J=e(38557),ve=e(87920),de=e(73174),ge=e(11223),Ee=e(51487),m=e(5003),a=e(75664),M=e(5515),k=e(76769),I=e(97349),A=e(41488),z=e(49245),ae=e(1858),H=e(7578),w=S.Z.Text,Y=[{key:"log",tab:"\u65E5\u5FD7"},{key:"script",tab:"\u811A\u672C"}],ne={".py":"python",".js":"javascript",".sh":"shell",".ts":"typescript"},U=navigator.language||navigator.languages[0],K=R=>{var N,X,V,$=R.cron,Z=$===void 0?{}:$,se=R.handleCancel,D=R.visible,L=R.theme,re=R.isPhone,Be=(0,y.useState)("log"),Ae=(0,v.Z)(Be,2),q=Ae[0],qe=Ae[1],be=(0,y.useState)(!0),xe=(0,v.Z)(be,2),et=xe[0],we=xe[1],fe=(0,y.useState)([]),Ve=(0,v.Z)(fe,2),tt=Ve[0],G=Ve[1],vt=(0,y.useState)(""),Pe=(0,v.Z)(vt,2),Le=Pe[0],at=Pe[1],_=(0,y.useState)(""),ze=(0,v.Z)(_,2),De=ze[0],Ne=ze[1],nt=(0,y.useState)(!1),$e=(0,v.Z)(nt,2),je=$e[0],ee=$e[1],te=(0,y.useRef)(null),lt=(0,y.useState)({}),Se=(0,v.Z)(lt,2),_e=Se[0],Ce=Se[1],st=(0,y.useState)(""),Fe=(0,v.Z)(st,2),rt=Fe[0],Te=Fe[1],it=(0,y.useState)(Y),Ie=(0,v.Z)(it,2),Re=Ie[0],We=Ie[1],ot=(0,y.useState)({}),Ue=(0,v.Z)(ot,2),o=Ue[0],me=Ue[1],ut={log:l().createElement(T.ZP,{dataSource:tt,loading:et,renderItem:u=>l().createElement(T.ZP.Item,{className:"log-item",onClick:()=>Ye(u)},l().createElement(ce.Z,{style:{marginRight:10}}),u.directory,"/",u.filename)}),script:_e.filename&&l().createElement(ae.ZP,{language:ne[_e.filename.slice(-3)]||"",theme:L,value:De,options:{fontSize:12,lineNumbersMinChars:3,fontFamily:"Source Code Pro",folding:!1,glyphMargin:!1,wordWrap:"on"},onMount:(u,le)=>{console.log(le),te.current=u}})},Ye=u=>{localStorage.setItem("logCron",o.id),Te("".concat(A.Z.apiPrefix,"logs/").concat(u.filename,"?path=").concat(u.directory||"")),I.W.get("".concat(A.Z.apiPrefix,"logs/").concat(u.filename,"?path=").concat(u.directory||"")).then(le=>{at(le.data),ee(!0)})},Qe=u=>{qe(u)},ke=()=>{we(!0),I.W.get("".concat(A.Z.apiPrefix,"crons/").concat(Z.id,"/logs")).then(u=>{u.code===200&&G(u.data)}).finally(()=>we(!1))},ct=()=>{var u=Z.command.split(" ");if(u[0]==="task"){We(Re),u[1].startsWith("/ql/data/scripts")&&(u[1]=u[1].replace("/ql/data/scripts/",""));var le=u[1].split("/"),Ze=(0,v.Z)(le,2),b=Ze[0],Oe=Ze[1];Oe||(Oe=b,b=""),Ce({parent:b,filename:Oe}),I.W.get("".concat(A.Z.apiPrefix,"scripts/").concat(Oe,"?path=").concat(b||"")).then(_t=>{Ne(_t.data)})}else We([Re[0]])},He=()=>{i.Z.confirm({title:"\u786E\u8BA4\u4FDD\u5B58",content:l().createElement(l().Fragment,null,"\u786E\u8BA4\u4FDD\u5B58\u6587\u4EF6",l().createElement(w,{style:{wordBreak:"break-all"},type:"warning"},_e.filename)," ","\uFF0C\u4FDD\u5B58\u540E\u4E0D\u53EF\u6062\u590D"),onOk(){var u=te.current?te.current.getValue().replace(/\r\n/g,`
`):De;return new Promise((le,Ze)=>{I.W.put("".concat(A.Z.apiPrefix,"scripts"),{data:{filename:_e.filename,path:_e.parent||"",content:u}}).then(b=>{b.code===200?(Ne(u),B.ZP.success("\u4FDD\u5B58\u6210\u529F")):B.ZP.error(b),le(null)}).catch(b=>Ze(b))})},onCancel(){console.log("Cancel")}})},dt=()=>{i.Z.confirm({title:"\u786E\u8BA4\u8FD0\u884C",content:l().createElement(l().Fragment,null,"\u786E\u8BA4\u8FD0\u884C\u5B9A\u65F6\u4EFB\u52A1"," ",l().createElement(w,{style:{wordBreak:"break-all"},type:"warning"},o.name)," ","\u5417"),onOk(){I.W.put("".concat(A.Z.apiPrefix,"crons/run"),{data:[o.id]}).then(u=>{u.code===200?(me((0,c.Z)((0,c.Z)({},o),{},{status:M.CrontabStatus.running})),setTimeout(()=>{ke()},1e3)):B.ZP.error(u)})},onCancel(){console.log("Cancel")}})},Ge=()=>{i.Z.confirm({title:"\u786E\u8BA4\u505C\u6B62",content:l().createElement(l().Fragment,null,"\u786E\u8BA4\u505C\u6B62\u5B9A\u65F6\u4EFB\u52A1"," ",l().createElement(w,{style:{wordBreak:"break-all"},type:"warning"},o.name)," ","\u5417"),onOk(){I.W.put("".concat(A.Z.apiPrefix,"crons/stop"),{data:[o.id]}).then(u=>{u.code===200?me((0,c.Z)((0,c.Z)({},o),{},{status:M.CrontabStatus.idle})):B.ZP.error(u)})},onCancel(){console.log("Cancel")}})},Et=()=>{i.Z.confirm({title:"\u786E\u8BA4".concat(o.isDisabled===1?"\u542F\u7528":"\u7981\u7528"),content:l().createElement(l().Fragment,null,"\u786E\u8BA4",o.isDisabled===1?"\u542F\u7528":"\u7981\u7528","\u5B9A\u65F6\u4EFB\u52A1"," ",l().createElement(w,{style:{wordBreak:"break-all"},type:"warning"},o.name)," ","\u5417"),onOk(){I.W.put("".concat(A.Z.apiPrefix,"crons/").concat(o.isDisabled===1?"enable":"disable"),{data:[o.id]}).then(u=>{u.code===200?me((0,c.Z)((0,c.Z)({},o),{},{isDisabled:o.isDisabled===1?0:1})):B.ZP.error(u)})},onCancel(){console.log("Cancel")}})},Je=()=>{i.Z.confirm({title:"\u786E\u8BA4".concat(o.isPinned===1?"\u53D6\u6D88\u7F6E\u9876":"\u7F6E\u9876"),content:l().createElement(l().Fragment,null,"\u786E\u8BA4",o.isPinned===1?"\u53D6\u6D88\u7F6E\u9876":"\u7F6E\u9876","\u5B9A\u65F6\u4EFB\u52A1"," ",l().createElement(w,{style:{wordBreak:"break-all"},type:"warning"},o.name)," ","\u5417"),onOk(){I.W.put("".concat(A.Z.apiPrefix,"crons/").concat(o.isPinned===1?"unpin":"pin"),{data:[o.id]}).then(u=>{u.code===200?me((0,c.Z)((0,c.Z)({},o),{},{isPinned:o.isPinned===1?0:1})):B.ZP.error(u)})},onCancel(){console.log("Cancel")}})},Me=()=>{var u,le=te.current._domElement;(u=le.parentElement)===null||u===void 0||u.requestFullscreen()};return(0,y.useEffect)(()=>{Z&&Z.id&&(me(Z),ke(),ct())},[Z]),l().createElement(i.Z,{title:l().createElement("div",{className:"crontab-title-wrapper"},l().createElement("div",null,l().createElement("span",null,o.name),((N=o.labels)===null||N===void 0?void 0:N.length)>0&&o.labels[0]!==""&&l().createElement(h.Z,{type:"vertical"}),((X=o.labels)===null||X===void 0?void 0:X.length)>0&&o.labels[0]!==""&&((V=o.labels)===null||V===void 0?void 0:V.map((u,le)=>l().createElement(f.Z,{color:"blue",style:{marginRight:5}},u)))),l().createElement("div",{className:"operations"},l().createElement(Q.Z,{title:o.status===M.CrontabStatus.idle?"\u8FD0\u884C":"\u505C\u6B62"},l().createElement(s.Z,{type:"link",icon:o.status===M.CrontabStatus.idle?l().createElement(J.Z,null):l().createElement(ve.Z,null),size:"small",onClick:o.status===M.CrontabStatus.idle?dt:Ge})),l().createElement(Q.Z,{title:o.isDisabled===1?"\u542F\u7528":"\u7981\u7528"},l().createElement(s.Z,{type:"link",icon:l().createElement(H.Z,{type:o.isDisabled===1?"ql-icon-enable":"ql-icon-disable"}),size:"small",onClick:Et})),l().createElement(Q.Z,{title:o.isPinned===1?"\u53D6\u6D88\u7F6E\u9876":"\u7F6E\u9876"},l().createElement(s.Z,{type:"link",icon:l().createElement(H.Z,{type:o.isPinned===1?"ql-icon-untop":"ql-icon-top"}),size:"small",onClick:Je})))),centered:!0,visible:D,forceRender:!0,footer:!1,onCancel:()=>se(),wrapClassName:"crontab-detail",width:re?"":"80vw"},l().createElement("div",{className:"card-wrapper"},l().createElement(W.Z,null,l().createElement("div",{className:"cron-detail-info-item"},l().createElement("div",{className:"cron-detail-info-title"},"\u4EFB\u52A1"),l().createElement("div",{className:"cron-detail-info-value"},o.command))),l().createElement(W.Z,{style:{marginTop:10}},l().createElement("div",{className:"cron-detail-info-item"},l().createElement("div",{className:"cron-detail-info-title"},"\u72B6\u6001"),l().createElement("div",{className:"cron-detail-info-value"},(!o.isDisabled||o.status!==M.CrontabStatus.idle)&&l().createElement(l().Fragment,null,o.status===M.CrontabStatus.idle&&l().createElement(f.Z,{icon:l().createElement(de.Z,null),color:"default"},"\u7A7A\u95F2\u4E2D"),o.status===M.CrontabStatus.running&&l().createElement(f.Z,{icon:l().createElement(ge.Z,{spin:!0}),color:"processing"},"\u8FD0\u884C\u4E2D"),o.status===M.CrontabStatus.queued&&l().createElement(f.Z,{icon:l().createElement(Ee.Z,null),color:"default"},"\u961F\u5217\u4E2D")),o.isDisabled===1&&o.status===M.CrontabStatus.idle&&l().createElement(f.Z,{icon:l().createElement(m.Z,null),color:"error"},"\u5DF2\u7981\u7528"))),l().createElement("div",{className:"cron-detail-info-item"},l().createElement("div",{className:"cron-detail-info-title"},"\u5B9A\u65F6"),l().createElement("div",{className:"cron-detail-info-value"},o.schedule)),l().createElement("div",{className:"cron-detail-info-item"},l().createElement("div",{className:"cron-detail-info-title"},"\u6700\u540E\u8FD0\u884C\u65F6\u95F4"),l().createElement("div",{className:"cron-detail-info-value"},o.last_execution_time?new Date(o.last_execution_time*1e3).toLocaleString(U,{hour12:!1}).replace(" 24:"," 00:"):"-")),l().createElement("div",{className:"cron-detail-info-item"},l().createElement("div",{className:"cron-detail-info-title"},"\u6700\u540E\u8FD0\u884C\u65F6\u957F"),l().createElement("div",{className:"cron-detail-info-value"},o.last_running_time?(0,k.E)(o.last_running_time):"-")),l().createElement("div",{className:"cron-detail-info-item"},l().createElement("div",{className:"cron-detail-info-title"},"\u4E0B\u6B21\u8FD0\u884C\u65F6\u95F4"),l().createElement("div",{className:"cron-detail-info-value"},o.nextRunTime&&o.nextRunTime.toLocaleString(U,{hour12:!1}).replace(" 24:"," 00:")))),l().createElement(W.Z,{style:{marginTop:10},tabList:Re,activeTabKey:q,onTabChange:u=>{Qe(u)},tabBarExtraContent:q==="script"&&l().createElement(l().Fragment,null,l().createElement(s.Z,{type:"primary",style:{marginRight:8},onClick:He},"\u4FDD\u5B58"),l().createElement(s.Z,{type:"primary",icon:l().createElement(a.Z,null),onClick:Me}))},ut[q])),l().createElement(z.default,{visible:je,handleCancel:()=>{ee(!1)},cron:Z,data:Le,logUrl:rt}))};x.default=K},5515:function(pe,x,e){"use strict";e.r(x),e.d(x,{CrontabStatus:function(){return G}});var ie=e(74582),W=e(48401),ue=e(36600),Q=e(81051),j=e(54598),s=e(189),d=e(64690),f=e(62786),C=e(53178),h=e(40441),c=e(73742),O=e(84263),B=e(65709),p=e(81615),i=e(42273),P=e(56457),T=e(40971),v=e(72912),ye=e(57310),S=e(83008),y=e(4543),l=e(53871),ce=e(72327),J=e(7335),ve=e(94068),de=e(42061),ge=e(53086),Ee=e(85141),m=e(12924),a=e.n(m),M=e(67096),k=e(73174),I=e(11223),A=e(51487),z=e(5003),ae=e(38557),H=e(87920),w=e(40493),Y=e(36531),ne=e(69731),U=e(50333),K=e(27478),R=e(77062),N=e(95592),X=e(48487),V=e(52902),$=e(88079),Z=e(41488),se=e(6582),D=e(97349),L=e(29905),re=e(49245),Be=e(79320),Ae=e(38041),q=e.n(Ae),qe=e(76769),be=e(91369),xe=e(8152),et=e(64955),we=e(43849),fe=Ee.Z.Text,Ve=Ee.Z.Paragraph,tt=de.Z.Search,G;(function(_){_[_.running=0]="running",_[_.idle=1]="idle",_[_.disabled=2]="disabled",_[_.queued=3]="queued"})(G||(G={}));var vt={0:0,5:1,3:2,1:3,4:4},Pe;(function(_){_[_.\u542F\u7528=0]="\u542F\u7528",_[_.\u7981\u7528=1]="\u7981\u7528",_[_.\u8FD0\u884C=2]="\u8FD0\u884C",_[_.\u505C\u6B62=3]="\u505C\u6B62",_[_.\u7F6E\u9876=4]="\u7F6E\u9876",_[_.\u53D6\u6D88\u7F6E\u9876=5]="\u53D6\u6D88\u7F6E\u9876"})(Pe||(Pe={}));var Le;(function(_){_[_.enable=0]="enable",_[_.disable=1]="disable",_[_.run=2]="run",_[_.stop=3]="stop",_[_.pin=4]="pin",_[_.unpin=5]="unpin"})(Le||(Le={}));var at=_=>{var ze=_.headerStyle,De=_.isPhone,Ne=_.theme,nt=[{title:"\u540D\u79F0",dataIndex:"name",key:"name",width:150,align:"center",render:(t,n)=>{var r,E;return a().createElement(a().Fragment,null,a().createElement("a",{onClick:()=>{Jt(n)}},((r=n.labels)===null||r===void 0?void 0:r.length)>0&&n.labels[0]!==""?a().createElement(l.Z,{placement:"right",trigger:De?"click":"hover",content:a().createElement("div",null,(E=n.labels)===null||E===void 0?void 0:E.map(g=>a().createElement(J.Z,{color:"blue",style:{cursor:"point"},onClick:F=>{F.stopPropagation(),Ot("label:".concat(g))}},a().createElement("a",null,g))))},n.name||"-"):n.name||"-",n.isPinned?a().createElement("span",null,a().createElement(M.Z,null)):""))},sorter:{compare:(t,n)=>{var r;return t==null||(r=t.name)===null||r===void 0?void 0:r.localeCompare(n==null?void 0:n.name)}}},{title:"\u547D\u4EE4",dataIndex:"command",key:"command",width:250,align:"center",render:(t,n)=>a().createElement(Ve,{style:{wordBreak:"break-all",marginBottom:0,textAlign:"left"},ellipsis:{tooltip:t,rows:2}},t),sorter:{compare:(t,n)=>t.command.localeCompare(n.command)}},{title:"\u5B9A\u65F6\u89C4\u5219",dataIndex:"schedule",key:"schedule",width:110,align:"center",sorter:{compare:(t,n)=>t.schedule.localeCompare(n.schedule)}},{title:"\u6700\u540E\u8FD0\u884C\u65F6\u95F4",align:"center",width:150,sorter:{compare:(t,n)=>t.last_execution_time-n.last_execution_time},render:(t,n)=>{var r=navigator.language||navigator.languages[0];return a().createElement("span",{style:{display:"block"}},n.last_execution_time?new Date(n.last_execution_time*1e3).toLocaleString(r,{hour12:!1}).replace(" 24:"," 00:"):"-")}},{title:"\u6700\u540E\u8FD0\u884C\u65F6\u957F",align:"center",width:120,sorter:{compare:(t,n)=>t.last_running_time-n.last_running_time},render:(t,n)=>n.last_running_time?(0,qe.E)(n.last_running_time):"-"},{title:"\u4E0B\u6B21\u8FD0\u884C\u65F6\u95F4",align:"center",width:150,sorter:{compare:(t,n)=>t.nextRunTime-n.nextRunTime},render:(t,n)=>{var r=navigator.language||navigator.languages[0];return n.nextRunTime.toLocaleString(r,{hour12:!1}).replace(" 24:"," 00:")}},{title:"\u72B6\u6001",key:"status",dataIndex:"status",align:"center",width:85,filters:[{text:"\u8FD0\u884C\u4E2D",value:0},{text:"\u7A7A\u95F2\u4E2D",value:1},{text:"\u5DF2\u7981\u7528",value:2},{text:"\u961F\u5217\u4E2D",value:3}],onFilter:(t,n)=>n.isDisabled&&n.status!==0?t===2:n.status===t,render:(t,n)=>a().createElement(a().Fragment,null,(!n.isDisabled||n.status!==G.idle)&&a().createElement(a().Fragment,null,n.status===G.idle&&a().createElement(J.Z,{icon:a().createElement(k.Z,null),color:"default"},"\u7A7A\u95F2\u4E2D"),n.status===G.running&&a().createElement(J.Z,{icon:a().createElement(I.Z,{spin:!0}),color:"processing"},"\u8FD0\u884C\u4E2D"),n.status===G.queued&&a().createElement(J.Z,{icon:a().createElement(A.Z,null),color:"default"},"\u961F\u5217\u4E2D")),n.isDisabled===1&&n.status===G.idle&&a().createElement(J.Z,{icon:a().createElement(z.Z,null),color:"error"},"\u5DF2\u7981\u7528"))},{title:"\u64CD\u4F5C",key:"action",align:"center",width:100,render:(t,n,r)=>{var E=!De;return a().createElement(T.Z,{size:"middle"},n.status===G.idle&&a().createElement(S.Z,{title:E?"\u8FD0\u884C":""},a().createElement("a",{onClick:g=>{g.stopPropagation(),ta(n,r)}},a().createElement(ae.Z,null))),n.status!==G.idle&&a().createElement(S.Z,{title:E?"\u505C\u6B62":""},a().createElement("a",{onClick:g=>{g.stopPropagation(),aa(n,r)}},a().createElement(H.Z,null))),a().createElement(S.Z,{title:E?"\u65E5\u5FD7":""},a().createElement("a",{onClick:g=>{g.stopPropagation(),u((0,v.Z)((0,v.Z)({},n),{},{timestamp:Date.now()}))}},a().createElement(w.Z,null))),a().createElement(ra,{key:"more",record:n,index:r}))}}],$e=(0,m.useState)([]),je=(0,i.Z)($e,2),ee=je[0],te=je[1],lt=(0,m.useState)(!0),Se=(0,i.Z)(lt,2),_e=Se[0],Ce=Se[1],st=(0,m.useState)(!1),Fe=(0,i.Z)(st,2),rt=Fe[0],Te=Fe[1],it=(0,m.useState)(!1),Ie=(0,i.Z)(it,2),Re=Ie[0],We=Ie[1],ot=(0,m.useState)(),Ue=(0,i.Z)(ot,2),o=Ue[0],me=Ue[1],ut=(0,m.useState)(""),Ye=(0,i.Z)(ut,2),Qe=Ye[0],ke=Ye[1],ct=(0,m.useState)(!1),He=(0,i.Z)(ct,2),dt=He[0],Ge=He[1],Et=(0,m.useState)(),Je=(0,i.Z)(Et,2),Me=Je[0],u=Je[1],le=(0,m.useState)([]),Ze=(0,i.Z)(le,2),b=Ze[0],Oe=Ze[1],_t=(0,m.useState)({}),gt=(0,i.Z)(_t,2),oe=gt[0],mt=gt[1],Rt=(0,m.useState)(),ft=(0,i.Z)(Rt,2),Wt=ft[0],Pt=ft[1],Ut=(0,m.useState)(!1),Dt=(0,i.Z)(Ut,2),Kt=Dt[0],Ct=Dt[1],bt=(0,m.useState)(),Mt=(0,i.Z)(bt,2),xt=Mt[0],wt=Mt[1],Vt=(0,m.useState)(""),Zt=(0,i.Z)(Vt,2),zt=Zt[0],Ot=Zt[1],Nt=(0,m.useState)(),pt=(0,i.Z)(Nt,2),Bt=pt[0],$t=pt[1],jt=(0,m.useState)(!1),ht=(0,i.Z)(jt,2),Yt=ht[0],yt=ht[1],Qt=(0,m.useState)(!1),At=(0,i.Z)(Qt,2),kt=At[0],Lt=At[1],Ht=(0,m.useState)([]),St=(0,i.Z)(Ht,2),Ft=St[0],Gt=St[1],Jt=t=>{var n=t.command.split(" ");if(n[0]==="task"){n[1].startsWith("/ql/data/scripts")&&(n[1]=n[1].replace("/ql/data/scripts/",""));var r=n[1].split("/"),E=(0,i.Z)(r,2),g=E[0],F=E[1];F||(F=g,g=""),xe.m.push("/script?p=".concat(g,"&s=").concat(F))}else n[1]==="repo"&&(location.href=n[2])},Xe=()=>{Ce(!0);var t=oe.page,n=oe.size,r=oe.sorter,E="".concat(Z.Z.apiPrefix,"crons?searchText=").concat(Qe,"&page=").concat(t,"&size=").concat(n);r&&r.field&&(E+="&sortField=".concat(r.field,"&sortType=").concat(r.order==="ascend"?"ASC":"DESC")),D.W.get(E).then(g=>{var F=g.data,Ke=F.data,Ca=F.total;te(Ke.map(It=>(0,v.Z)((0,v.Z)({},It),{},{nextRunTime:q().parseExpression(It.schedule).next().toDate()}))),$t(Ca)}).finally(()=>Ce(!1))},Xt=()=>{me(null),Te(!0)},qt=(t,n)=>{me(t),Te(!0)},ea=(t,n)=>{p.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:a().createElement(a().Fragment,null,"\u786E\u8BA4\u5220\u9664\u5B9A\u65F6\u4EFB\u52A1"," ",a().createElement(fe,{style:{wordBreak:"break-all"},type:"warning"},t.name)," ","\u5417"),onOk(){D.W.delete("".concat(Z.Z.apiPrefix,"crons"),{data:[t.id]}).then(r=>{if(r.code===200){O.ZP.success("\u5220\u9664\u6210\u529F");var E=[...ee],g=E.findIndex(F=>F.id===t.id);g!==-1&&(E.splice(g,1),te(E))}else O.ZP.error(r)})},onCancel(){console.log("Cancel")}})},ta=(t,n)=>{p.Z.confirm({title:"\u786E\u8BA4\u8FD0\u884C",content:a().createElement(a().Fragment,null,"\u786E\u8BA4\u8FD0\u884C\u5B9A\u65F6\u4EFB\u52A1"," ",a().createElement(fe,{style:{wordBreak:"break-all"},type:"warning"},t.name)," ","\u5417"),onOk(){D.W.put("".concat(Z.Z.apiPrefix,"crons/run"),{data:[t.id]}).then(r=>{if(r.code===200){var E=[...ee],g=E.findIndex(F=>F.id===t.id);g!==-1&&(E.splice(g,1,(0,v.Z)((0,v.Z)({},t),{},{status:G.running})),te(E))}else O.ZP.error(r)})},onCancel(){console.log("Cancel")}})},aa=(t,n)=>{p.Z.confirm({title:"\u786E\u8BA4\u505C\u6B62",content:a().createElement(a().Fragment,null,"\u786E\u8BA4\u505C\u6B62\u5B9A\u65F6\u4EFB\u52A1"," ",a().createElement(fe,{style:{wordBreak:"break-all"},type:"warning"},t.name)," ","\u5417"),onOk(){D.W.put("".concat(Z.Z.apiPrefix,"crons/stop"),{data:[t.id]}).then(r=>{if(r.code===200){var E=[...ee],g=E.findIndex(F=>F.id===t.id);g!==-1&&(E.splice(g,1,(0,v.Z)((0,v.Z)({},t),{},{pid:null,status:G.idle})),te(E))}else O.ZP.error(r)})},onCancel(){console.log("Cancel")}})},na=(t,n)=>{p.Z.confirm({title:"\u786E\u8BA4".concat(t.isDisabled===1?"\u542F\u7528":"\u7981\u7528"),content:a().createElement(a().Fragment,null,"\u786E\u8BA4",t.isDisabled===1?"\u542F\u7528":"\u7981\u7528","\u5B9A\u65F6\u4EFB\u52A1"," ",a().createElement(fe,{style:{wordBreak:"break-all"},type:"warning"},t.name)," ","\u5417"),onOk(){D.W.put("".concat(Z.Z.apiPrefix,"crons/").concat(t.isDisabled===1?"enable":"disable"),{data:[t.id]}).then(r=>{if(r.code===200){var E=t.isDisabled===1?0:1,g=[...ee],F=g.findIndex(Ke=>Ke.id===t.id);F!==-1&&(g.splice(F,1,(0,v.Z)((0,v.Z)({},t),{},{isDisabled:E})),te(g))}else O.ZP.error(r)})},onCancel(){console.log("Cancel")}})},la=(t,n)=>{p.Z.confirm({title:"\u786E\u8BA4".concat(t.isPinned===1?"\u53D6\u6D88\u7F6E\u9876":"\u7F6E\u9876"),content:a().createElement(a().Fragment,null,"\u786E\u8BA4",t.isPinned===1?"\u53D6\u6D88\u7F6E\u9876":"\u7F6E\u9876","\u5B9A\u65F6\u4EFB\u52A1"," ",a().createElement(fe,{style:{wordBreak:"break-all"},type:"warning"},t.name)," ","\u5417"),onOk(){D.W.put("".concat(Z.Z.apiPrefix,"crons/").concat(t.isPinned===1?"unpin":"pin"),{data:[t.id]}).then(r=>{if(r.code===200){var E=t.isPinned===1?0:1,g=[...ee],F=g.findIndex(Ke=>Ke.id===t.id);F!==-1&&(g.splice(F,1,(0,v.Z)((0,v.Z)({},t),{},{isPinned:E})),te(g))}else O.ZP.error(r)})},onCancel(){console.log("Cancel")}})},sa=t=>[{label:"\u7F16\u8F91",key:"edit",icon:a().createElement(Y.Z,null)},{label:t.isDisabled===1?"\u542F\u7528":"\u7981\u7528",key:"enableOrDisable",icon:t.isDisabled===1?a().createElement(ne.Z,null):a().createElement(U.Z,null)},{label:"\u5220\u9664",key:"delete",icon:a().createElement(K.Z,null)},{label:t.isPinned===1?"\u53D6\u6D88\u7F6E\u9876":"\u7F6E\u9876",key:"pinOrUnPin",icon:t.isPinned===1?a().createElement(U.Z,null):a().createElement(M.Z,null)}],ra=t=>{var n=t.record,r=t.index;return a().createElement(f.Z,{arrow:{pointAtCenter:!0},placement:"bottomRight",trigger:["click"],overlay:a().createElement(h.Z,{items:sa(n),onClick:E=>{var g=E.key,F=E.domEvent;F.stopPropagation(),ia(g,n,r)}})},a().createElement("a",{onClick:E=>E.stopPropagation()},a().createElement(R.Z,null)))},ia=(t,n,r)=>{switch(t){case"edit":qt(n,r);break;case"enableOrDisable":na(n,r);break;case"delete":ea(n,r);break;case"pinOrUnPin":la(n,r);break;default:break}},oa=t=>{Te(!1),t&&ca(t)},ua=t=>{ke(t.trim())},ca=t=>{var n=ee.findIndex(E=>E.id===t.id),r=[...ee];t.nextRunTime=q().parseExpression(t.schedule).next().toDate(),n===-1?r.unshift(t):r.splice(n,1,(0,v.Z)({},t)),te(r)},da=t=>{D.W.get("".concat(Z.Z.apiPrefix,"crons/").concat(t.id)).then(n=>{var r=ee.findIndex(g=>g.id===t.id),E=[...ee];n.data.nextRunTime=q().parseExpression(n.data.schedule).next().toDate(),r!==-1&&(E.splice(r,1,(0,v.Z)((0,v.Z)({},t),n.data)),te(E))}).finally(()=>Ce(!1))},Ea=t=>{Oe(t),setTimeout(()=>{(b.length===0||t.length===0)&&Pt((0,be.W9)())})},_a={selectedRowIds:b,onChange:Ea},ma=()=>{p.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:a().createElement(a().Fragment,null,"\u786E\u8BA4\u5220\u9664\u9009\u4E2D\u7684\u5B9A\u65F6\u4EFB\u52A1\u5417"),onOk(){D.W.delete("".concat(Z.Z.apiPrefix,"crons"),{data:b}).then(t=>{t.code===200?(O.ZP.success("\u6279\u91CF\u5220\u9664\u6210\u529F"),Oe([]),Xe()):O.ZP.error(t)})},onCancel(){console.log("Cancel")}})},he=t=>{p.Z.confirm({title:"\u786E\u8BA4".concat(Pe[t]),content:a().createElement(a().Fragment,null,"\u786E\u8BA4",Pe[t],"\u9009\u4E2D\u7684\u5B9A\u65F6\u4EFB\u52A1\u5417"),onOk(){D.W.put("".concat(Z.Z.apiPrefix,"crons/").concat(Le[t]),{data:b}).then(n=>{n.code===200?Xe():O.ZP.error(n)})},onCancel(){console.log("Cancel")}})},va=(t,n,r)=>{var E=t.current,g=t.pageSize;mt({page:E,size:g,sorter:r}),localStorage.setItem("pageSize",String(g))},ga=(t,n)=>t.isPinned?"pinned-cron cron":"cron";(0,m.useEffect)(()=>{Me&&(localStorage.setItem("logCron",Me.id),Ge(!0))},[Me]),(0,m.useEffect)(()=>{mt((0,v.Z)((0,v.Z)({},oe),{},{page:1}))},[Qe]),(0,m.useEffect)(()=>{oe.page&&oe.size&&Xe()},[oe]),(0,m.useEffect)(()=>{mt({page:1,size:parseInt(localStorage.getItem("pageSize")||"20"),sorter:{}}),setTimeout(()=>{Pt((0,be.W9)())}),Da()},[]);var Tt=a().createElement(a().Fragment,null,b.length>0&&a().createElement("div",{style:{marginBottom:16}},a().createElement(s.Z,{type:"primary",style:{marginBottom:5},onClick:ma},"\u6279\u91CF\u5220\u9664"),a().createElement(s.Z,{type:"primary",onClick:()=>he(0),style:{marginLeft:8,marginBottom:5}},"\u6279\u91CF\u542F\u7528"),a().createElement(s.Z,{type:"primary",onClick:()=>he(1),style:{marginLeft:8,marginRight:8}},"\u6279\u91CF\u7981\u7528"),a().createElement(s.Z,{type:"primary",style:{marginRight:8},onClick:()=>he(2)},"\u6279\u91CF\u8FD0\u884C"),a().createElement(s.Z,{type:"primary",onClick:()=>he(3)},"\u6279\u91CF\u505C\u6B62"),a().createElement(s.Z,{type:"primary",onClick:()=>he(4),style:{marginLeft:8,marginRight:8}},"\u6279\u91CF\u7F6E\u9876"),a().createElement(s.Z,{type:"primary",onClick:()=>he(5),style:{marginLeft:8,marginRight:8}},"\u6279\u91CF\u53D6\u6D88\u7F6E\u9876"),a().createElement(s.Z,{type:"primary",onClick:()=>We(!0),style:{marginLeft:8,marginRight:8}},"\u6279\u91CF\u4FEE\u6539\u6807\u7B7E"),a().createElement("span",{style:{marginLeft:8}},"\u5DF2\u9009\u62E9",a().createElement("a",null,b==null?void 0:b.length),"\u9879")),a().createElement(Q.Z,{columns:nt,pagination:{current:oe.page,pageSize:oe.size,showSizeChanger:!0,simple:De,total:Bt,showTotal:(t,n)=>"\u7B2C ".concat(n[0],"-").concat(n[1]," \u6761/\u603B\u5171 ").concat(t," \u6761"),pageSizeOptions:[10,20,50,100,200,500,Bt||1e4].sort((t,n)=>t-n)},onRow:t=>({onClick:n=>{wt(t),Ct(!0)}}),dataSource:ee,rowKey:"id",size:"middle",scroll:{x:1e3,y:Wt},loading:_e,rowSelection:_a,rowClassName:ga,onChange:va})),fa=t=>{switch(t){case"new":yt(!0);break;case"manage":Lt(!0);break;default:break}},Pa=a().createElement(h.Z,{onClick:t=>{var n=t.key,r=t.domEvent;r.stopPropagation(),fa(n)},items:[...[...Ft].slice(5).map(t=>({label:t.name,key:t.id,icon:a().createElement(N.Z,null)})),{type:"divider"},{label:"\u65B0\u5EFA\u89C6\u56FE",key:"new",icon:a().createElement(X.Z,null)},{label:"\u89C6\u56FE\u7BA1\u7406",key:"manage",icon:a().createElement(V.Z,null)}]}),Da=()=>{Ce(!0),D.W.get("".concat(Z.Z.apiPrefix,"crons/views")).then(t=>{Gt(t.data)}).finally(()=>{Ce(!1)})};return a().createElement(se.ZP,{className:"ql-container-wrapper crontab-wrapper ql-container-wrapper-has-tab",title:"\u5B9A\u65F6\u4EFB\u52A1",extra:[a().createElement(tt,{placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0\u6216\u8005\u5173\u952E\u8BCD",style:{width:"auto"},enterButton:!0,allowClear:!0,loading:_e,value:zt,onChange:t=>Ot(t.target.value),onSearch:ua}),a().createElement(s.Z,{key:"2",type:"primary",onClick:()=>Xt()},"\u65B0\u5EFA\u4EFB\u52A1")],header:{style:ze}},a().createElement(W.Z,{defaultActiveKey:"all",size:"small",tabPosition:"top",className:"crontab-view",tabBarExtraContent:a().createElement(f.Z,{overlay:Pa,trigger:["click"]},a().createElement("div",{className:"view-more"},a().createElement(T.Z,null,"\u66F4\u591A",a().createElement($.Z,null)),a().createElement("div",{className:"ant-tabs-ink-bar ant-tabs-ink-bar-animated"})))},a().createElement(W.Z.TabPane,{tab:"\u5168\u90E8\u4EFB\u52A1",key:"all"},Tt),[...Ft].slice(0,5).map(t=>a().createElement(W.Z.TabPane,{tab:t.name,key:t.id},Tt))),a().createElement(re.default,{visible:dt,handleCancel:()=>{da(Me),Ge(!1)},cron:Me}),a().createElement(L.default,{visible:rt,handleCancel:oa,cron:o}),a().createElement(L.CronLabelModal,{visible:Re,handleCancel:t=>{We(!1),t&&Xe()},ids:b}),a().createElement(Be.default,{visible:Kt,handleCancel:()=>{Ct(!1)},cron:xt,theme:Ne,isPhone:De}),a().createElement(et.default,{visible:Yt,handleCancel:()=>{yt(!1)}}),a().createElement(we.default,{visible:kt,handleCancel:()=>{Lt(!1)}}))};x.default=at},49245:function(pe,x,e){"use strict";e.r(x);var ie=e(65709),W=e(81615),ue=e(54598),Q=e(189),j=e(73742),s=e(84263),d=e(42273),f=e(71786),C=e(30301),h=e(12924),c=e.n(h),O=e(97349),B=e(41488),p=e(11223),i=e(69731),P=e(59060),T;(function(S){S[S.running=0]="running",S[S.idle=1]="idle",S[S.disabled=2]="disabled",S[S.queued=3]="queued"})(T||(T={}));var v=C.Z.Countdown,ye=S=>{var y=S.cron,l=S.handleCancel,ce=S.visible,J=S.data,ve=S.logUrl,de=(0,h.useState)("\u542F\u52A8\u4E2D..."),ge=(0,d.Z)(de,2),Ee=ge[0],m=ge[1],a=(0,h.useState)(!0),M=(0,d.Z)(a,2),k=M[0],I=M[1],A=(0,h.useState)(!0),z=(0,d.Z)(A,2),ae=z[0],H=z[1],w=(0,h.useState)(!1),Y=(0,d.Z)(w,2),ne=Y[0],U=Y[1],K=(0,h.useState)(""),R=(0,d.Z)(K,2),N=R[0],X=R[1],V=se=>{se&&I(!0),O.W.get(ve||"".concat(B.Z.apiPrefix,"crons/").concat(y.id,"/log")).then(D=>{if(localStorage.getItem("logCron")===String(y.id)){var L=D.data;m(L||"\u6682\u65E0\u65E5\u5FD7"),H(L&&!L.includes("\u6267\u884C\u7ED3\u675F")&&!L.includes("\u91CD\u542F\u9762\u677F")),L&&!L.includes("\u6267\u884C\u7ED3\u675F")&&!L.includes("\u91CD\u542F\u9762\u677F")&&setTimeout(()=>{V()},2e3),L&&L.includes("\u91CD\u542F\u9762\u677F")&&y.status===T.running&&(s.ZP.warning({content:c().createElement("span",null,"\u7CFB\u7EDF\u5C06\u5728",c().createElement(v,{className:"inline-countdown",format:"ss",value:Date.now()+1e3*30}),"\u79D2\u540E\u81EA\u52A8\u5237\u65B0"),duration:10}),setTimeout(()=>{window.location.reload()},3e4))}}).finally(()=>{se&&I(!1)})},$=()=>{localStorage.removeItem("logCron"),l()},Z=()=>c().createElement(c().Fragment,null,(ae||k)&&c().createElement(p.Z,{spin:!0}),!ae&&!k&&c().createElement(i.Z,null),c().createElement("span",{style:{marginLeft:5}},y&&y.name));return(0,h.useEffect)(()=>{y&&y.id&&ce&&V(!0)},[y,ce]),(0,h.useEffect)(()=>{J&&m(J)},[J]),(0,h.useEffect)(()=>{U(document.body.clientWidth<768)},[]),c().createElement(W.Z,{title:Z(),visible:ce,centered:!0,className:"log-modal",bodyStyle:{minHeight:"300px"},forceRender:!0,onOk:()=>$(),onCancel:()=>$(),footer:[c().createElement(Q.Z,{type:"primary",onClick:()=>$()},"\u77E5\u9053\u4E86")]},k?c().createElement(P.Z,null):c().createElement("pre",{style:ne?{fontFamily:"Source Code Pro",width:375,zoom:.83}:{}},Ee))};x.default=ye},29905:function(pe,x,e){"use strict";e.r(x),e.d(x,{CronLabelModal:function(){return Ee},default:function(){return ge}});var ie=e(54598),W=e(189),ue=e(65709),Q=e(81615),j=e(94068),s=e(42061),d=e(57113),f=e(73742),C=e(84263),h=e(72912),c=e(82005),O=e(68476),B=e(69583),p=e(42273),i=e(12924),P=e.n(i),T=e(97349),v=e(41488),ye=e(38041),S=e.n(ye),y=e(72327),l=e(7335),ce=e(72820),J=e(48487),ve=m=>{var a=m.value,M=m.onChange,k=(0,i.useState)(""),I=(0,p.Z)(k,2),A=I[0],z=I[1],ae=(0,i.useState)(!1),H=(0,p.Z)(ae,2),w=H[0],Y=H[1],ne=(0,i.useState)([]),U=(0,p.Z)(ne,2),K=U[0],R=U[1],N=(0,i.useRef)(),X=D=>{var L=K.filter(re=>re!==D);R(L),M==null||M(L)},V=()=>{Y(!0)},$=D=>{z(D.target.value)},Z=()=>{A&&!K.includes(A)&&(R([...K,A]),M==null||M([...K,A])),Y(!1),z("")},se=K.map(D=>{var L=P().createElement(l.Z,{closable:!0,onClose:re=>{re.preventDefault(),X(D)}},D);return P().createElement("span",{key:D,style:{display:"inline-block",marginBottom:8}},L)});return(0,i.useEffect)(()=>{w&&N&&N.current.focus()},[w]),(0,i.useEffect)(()=>{a&&R(a)},[a]),P().createElement(P().Fragment,null,P().createElement(ce.Z,{enter:{scale:.8,opacity:0,type:"from",duration:100},leave:{opacity:0,width:0,scale:0,duration:200},appear:!1},se),w&&P().createElement(s.Z,{ref:N,type:"text",size:"small",style:{width:78},value:A,onChange:$,onBlur:Z,onPressEnter:Z}),!w&&P().createElement(l.Z,{onClick:V,style:{borderStyle:"dashed",cursor:"pointer"}},P().createElement(J.Z,null)," \u65B0\u5EFA"))},de=ve,ge=m=>{var a=m.cron,M=m.handleCancel,k=m.visible,I=B.Z.useForm(),A=(0,p.Z)(I,1),z=A[0],ae=(0,i.useState)(!1),H=(0,p.Z)(ae,2),w=H[0],Y=H[1],ne=function(){var U=(0,c.Z)((0,d.Z)().mark(function K(R){var N,X,V,$,Z;return(0,d.Z)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return Y(!0),N=a?"put":"post",X=(0,h.Z)({},R),a&&(X.id=a.id),D.prev=4,D.next=7,T.W[N]("".concat(v.Z.apiPrefix,"crons"),{data:X});case 7:V=D.sent,$=V.code,Z=V.data,$===200?C.ZP.success(a?"\u66F4\u65B0Cron\u6210\u529F":"\u65B0\u5EFACron\u6210\u529F"):C.ZP.error(Z),Y(!1),M(Z),D.next=18;break;case 15:D.prev=15,D.t0=D.catch(4),Y(!1);case 18:case"end":return D.stop()}},K,null,[[4,15]])}));return function(R){return U.apply(this,arguments)}}();return(0,i.useEffect)(()=>{z.resetFields()},[a,k]),P().createElement(Q.Z,{title:a?"\u7F16\u8F91\u4EFB\u52A1":"\u65B0\u5EFA\u4EFB\u52A1",visible:k,forceRender:!0,centered:!0,maskClosable:!1,onOk:()=>{z.validateFields().then(U=>{ne(U)}).catch(U=>{console.log("Validate Failed:",U)})},onCancel:()=>M(),confirmLoading:w},P().createElement(B.Z,{form:z,layout:"vertical",name:"form_in_modal",initialValues:a},P().createElement(B.Z.Item,{name:"name",label:"\u540D\u79F0"},P().createElement(s.Z,{placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0"})),P().createElement(B.Z.Item,{name:"command",label:"\u547D\u4EE4",rules:[{required:!0,whitespace:!0}]},P().createElement(s.Z.TextArea,{rows:4,autoSize:!0,placeholder:"\u8BF7\u8F93\u5165\u8981\u6267\u884C\u7684\u547D\u4EE4"})),P().createElement(B.Z.Item,{name:"schedule",label:"\u5B9A\u65F6\u89C4\u5219",rules:[{required:!0},{validator:(U,K)=>!K||S().parseExpression(K).hasNext()?Promise.resolve():Promise.reject("Cron\u8868\u8FBE\u5F0F\u683C\u5F0F\u6709\u8BEF")}]},P().createElement(s.Z,{placeholder:"\u79D2(\u53EF\u9009) \u5206 \u65F6 \u5929 \u6708 \u5468"})),P().createElement(B.Z.Item,{name:"labels",label:"\u6807\u7B7E"},P().createElement(de,null))))},Ee=m=>{var a=m.ids,M=m.handleCancel,k=m.visible,I=B.Z.useForm(),A=(0,p.Z)(I,1),z=A[0],ae=(0,i.useState)(!1),H=(0,p.Z)(ae,2),w=H[0],Y=H[1],ne=function(){var K=(0,c.Z)((0,d.Z)().mark(function R(N){return(0,d.Z)().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:z.validateFields().then(function(){var $=(0,c.Z)((0,d.Z)().mark(function Z(se){var D,L,re,Be;return(0,d.Z)().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return Y(!0),D={ids:a,labels:se.labels},q.next=4,T.W[N]("".concat(v.Z.apiPrefix,"crons/labels"),{data:D});case 4:L=q.sent,re=L.code,Be=L.data,re===200?C.ZP.success(N==="post"?"\u6DFB\u52A0Labels\u6210\u529F":"\u5220\u9664Labels\u6210\u529F"):C.ZP.error(Be),Y(!1),M(!0);case 10:case"end":return q.stop()}},Z)}));return function(Z){return $.apply(this,arguments)}}()).catch($=>{console.log("Validate Failed:",$)});case 1:case"end":return V.stop()}},R)}));return function(N){return K.apply(this,arguments)}}();(0,i.useEffect)(()=>{z.resetFields()},[a,k]);var U=[P().createElement(W.Z,{onClick:()=>M(!1)},"\u53D6\u6D88"),P().createElement(W.Z,{type:"primary",danger:!0,onClick:()=>ne("delete")},"\u5220\u9664"),P().createElement(W.Z,{type:"primary",onClick:()=>ne("post")},"\u6DFB\u52A0")];return P().createElement(Q.Z,{title:"\u6279\u91CF\u4FEE\u6539\u6807\u7B7E",visible:k,footer:U,centered:!0,maskClosable:!1,forceRender:!0,onCancel:()=>M(!1),confirmLoading:w},P().createElement(B.Z,{form:z,layout:"vertical",name:"form_in_label_modal"},P().createElement(B.Z.Item,{name:"labels",label:"\u6807\u7B7E"},P().createElement(de,null))))}},76769:function(pe,x,e){"use strict";e.d(x,{E:function(){return ie}});function ie(W){var ue=W*1e3,Q=Math.floor(ue/(24*3600*1e3)),j=ue%(24*3600*1e3),s=Math.floor(j/(3600*1e3)),d=j%(3600*1e3),f=Math.floor(d/(60*1e3)),C=d%(60*1e3),h=Math.round(C/1e3),c=h+"\u79D2";return f>0&&(c=f+"\u5206"+c),s>0&&(c=s+"\u5C0F\u65F6"+c),Q>0&&(c=Q+"\u5929"+c),c}},91369:function(pe,x,e){"use strict";e.d(x,{ZP:function(){return ie},W9:function(){return W},w7:function(){return Q}});function ie(){var j=navigator.userAgent.toLowerCase(),s=v=>v.test(j),d=v=>(j.match(v)||[]).toString().replace(/[^0-9|_.]/g,"").replace(/_/g,"."),f="unknow";s(/windows|win32|win64|wow32|wow64/g)?f="windows":s(/macintosh|macintel/g)?f="macos":s(/x11/g)?f="linux":s(/android|adr/g)?f="android":s(/ios|iphone|ipad|ipod|iwatch/g)&&(f="ios");var C="unknow";f==="windows"?s(/windows nt 5.0|windows 2000/g)?C="2000":s(/windows nt 5.1|windows xp/g)?C="xp":s(/windows nt 5.2|windows 2003/g)?C="2003":s(/windows nt 6.0|windows vista/g)?C="vista":s(/windows nt 6.1|windows 7/g)?C="7":s(/windows nt 6.2|windows 8/g)?C="8":s(/windows nt 6.3|windows 8.1/g)?C="8.1":s(/windows nt 10.0|windows 10/g)&&(C="10"):f==="macos"?C=d(/os x [\d._]+/g):f==="android"?C=d(/android [\d._]+/g):f==="ios"&&(C=d(/os [\d._]+/g));var h="unknow";f==="windows"||f==="macos"||f==="linux"?h="desktop":(f==="android"||f==="ios"||s(/mobile/g))&&(h="mobile");var c="unknow",O="unknow";s(/applewebkit/g)?(c="webkit",s(/edge/g)?O="edge":s(/opr/g)?O="opera":s(/chrome/g)?O="chrome":s(/safari/g)&&(O="safari")):s(/gecko/g)&&s(/firefox/g)?(c="gecko",O="firefox"):s(/presto/g)?(c="presto",O="opera"):s(/trident|compatible|msie/g)&&(c="trident",O="iexplore");var B="unknow";c==="webkit"?B=d(/applewebkit\/[\d._]+/g):c==="gecko"?B=d(/gecko\/[\d._]+/g):c==="presto"?B=d(/presto\/[\d._]+/g):c==="trident"&&(B=d(/trident\/[\d._]+/g));var p="unknow";O==="chrome"?p=d(/chrome\/[\d._]+/g):O==="safari"?p=d(/version\/[\d._]+/g):O==="firefox"?p=d(/firefox\/[\d._]+/g):O==="opera"?p=d(/opr\/[\d._]+/g):O==="iexplore"?p=d(/(msie [\d._]+)|(rv:[\d._]+)/g):O==="edge"&&(p=d(/edge\/[\d._]+/g));var i="none",P="unknow";s(/micromessenger/g)?(i="wechat",P=d(/micromessenger\/[\d._]+/g)):s(/qqbrowser/g)?(i="qq",P=d(/qqbrowser\/[\d._]+/g)):s(/ucbrowser/g)?(i="uc",P=d(/ucbrowser\/[\d._]+/g)):s(/qihu 360se/g)?i="360":s(/2345explorer/g)?(i="2345",P=d(/2345explorer\/[\d._]+/g)):s(/metasr/g)?i="sougou":s(/lbbrowser/g)?i="liebao":s(/maxthon/g)&&(i="maxthon",P=d(/maxthon\/[\d._]+/g));var T=Object.assign({engine:c,engineVs:B,platform:h,supporter:O,supporterVs:p,system:f,systemVs:C},i==="none"?{}:{shell:i,shellVs:P});return console.log(`%c
 .d88b.  d888888b d8b   db  d888b  db       .d88b.  d8b   db  d888b  
.8P  Y8.   \`88'   888o  88 88' Y8b 88      .8P  Y8. 888o  88 88' Y8b 
88    88    88    88V8o 88 88      88      88    88 88V8o 88 88      
88    88    88    88 V8o88 88  ooo 88      88    88 88 V8o88 88  ooo 
\`8P  d8'   .88.   88  V888 88. ~8~ 88booo. \`8b  d8' 88  V888 88. ~8~ 
 \`Y88'Y8 Y888888P VP   V8P  Y888P  Y88888P  \`Y88P'  VP   V8P  Y888P  
                                                                     
                                                                     
`,"color: blue;font-size: 14px;"),console.log(`%c\u5FD8\u5F62\u96E8\u7B20\u70DF\u84D1\uFF0C\u77E5\u5FC3\u7267\u5531\u6A35\u6B4C\u3002\u660E\u6708\u6E05\u98CE\u5171\u6211\uFF0C\u95F2\u4EBA\u4E09\u4E2A\uFF0C\u4ECE\u4ED6\u4ECA\u53E4\u6D88\u78E8\u3002
`,"color: yellow;font-size: 18px;"),console.log(`%c\u9752\u9F99\u8FD0\u884C\u73AF\u5883:

\u7CFB\u7EDF\uFF1A`.concat(T.system,"/").concat(T.systemVs,`
\u6D4F\u89C8\u5668\uFF1A`).concat(T.supporter,"/").concat(T.supporterVs,`
\u5185\u6838\uFF1A`).concat(T.engine,"/").concat(T.engineVs),"color: green;font-size: 14px;font-weight: bold;"),T}function W(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=j.extraHeight,d=j.id;typeof s=="undefined"&&(s=99);var f=null;d?f=document.getElementById(d)?document.getElementById(d).getElementsByClassName("ant-table-thead")[0]:null:f=document.querySelector(".ant-table-wrapper");var C=0;f&&(C=f.getBoundingClientRect().top);var h=document.body.clientHeight-C-s;return h}function ue(j){var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),j.dispatchEvent(s)}function Q(j,s){var d=window.URL||window.webkitURL||window,f=new Blob([s]),C=document.createElementNS("http://www.w3.org/1999/xhtml","a");C.href=d.createObjectURL(f),C.download=j,ue(C)}},91394:function(){}}]);

var zL=Object.defineProperty,UL=Object.defineProperties;var jL=Object.getOwnPropertyDescriptors;var $m=Object.getOwnPropertySymbols;var uv=Object.prototype.hasOwnProperty,hv=Object.prototype.propertyIsEnumerable;var K0=(it,Ee,l)=>Ee in it?zL(it,Ee,{enumerable:!0,configurable:!0,writable:!0,value:l}):it[Ee]=l,Jn=(it,Ee)=>{for(var l in Ee||(Ee={}))uv.call(Ee,l)&&K0(it,l,Ee[l]);if($m)for(var l of $m(Ee))hv.call(Ee,l)&&K0(it,l,Ee[l]);return it},io=(it,Ee)=>UL(it,jL(Ee));var fv=(it,Ee)=>{var l={};for(var C in it)uv.call(it,C)&&Ee.indexOf(C)<0&&(l[C]=it[C]);if(it!=null&&$m)for(var C of $m(it))Ee.indexOf(C)<0&&hv.call(it,C)&&(l[C]=it[C]);return l};var Ao=(it,Ee,l)=>(K0(it,typeof Ee!="symbol"?Ee+"":Ee,l),l);var mg=(it,Ee,l)=>new Promise((C,d)=>{var z=W=>{try{y(l.next(W))}catch(A){d(A)}},O=W=>{try{y(l.throw(W))}catch(A){d(A)}},y=W=>W.done?C(W.value):Promise.resolve(W.value).then(z,O);y((l=l.apply(it,Ee)).next())});(self.webpackChunk=self.webpackChunk||[]).push([[9855],{43837:function(it,Ee,l){"use strict";var C=l(56453),d=l(24255),z=l(30486),O=l(63313),y=l.n(O),W=l(84875),A=l.n(W),M=l(6172),I=l(41129),w=["className","component","viewBox","spin","rotate","tabIndex","onClick","children"],_=O.forwardRef(function(f,m){var a=f.className,x=f.component,k=f.viewBox,T=f.spin,N=f.rotate,L=f.tabIndex,R=f.onClick,b=f.children,P=(0,z.Z)(f,w);(0,I.Kp)(Boolean(x||b),"Should have `component` prop or `children`."),(0,I.C3)();var V=O.useContext(M.Z),H=V.prefixCls,ee=H===void 0?"anticon":H,ae=V.rootClassName,me=A()(ae,ee,a),ge=A()((0,d.Z)({},"".concat(ee,"-spin"),!!T)),re=N?{msTransform:"rotate(".concat(N,"deg)"),transform:"rotate(".concat(N,"deg)")}:void 0,se=(0,C.Z)((0,C.Z)({},I.vD),{},{className:ge,style:re,viewBox:k});k||delete se.viewBox;var X=function(){return x?O.createElement(x,(0,C.Z)({},se),b):b?((0,I.Kp)(Boolean(k)||O.Children.count(b)===1&&O.isValidElement(b)&&O.Children.only(b).type==="use","Make sure that you provide correct `viewBox` prop (default `0 0 1024 1024`) to the icon."),O.createElement("svg",(0,C.Z)((0,C.Z)({},se),{},{viewBox:k}),b)):null},$=L;return $===void 0&&R&&($=-1),O.createElement("span",(0,C.Z)((0,C.Z)({role:"img"},P),{},{ref:m,tabIndex:$,onClick:R,className:me}),X())});_.displayName="AntdIcon",Ee.Z=_},82878:function(it,Ee,l){"use strict";l.d(Ee,{Z:function(){return w}});var C=l(56453),d=l(30486),z=l(63313),O=l.n(z),y=l(43837),W=["type","children"],A=new Set;function M(_){return Boolean(typeof _=="string"&&_.length&&!A.has(_))}function I(_){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,m=_[f];if(M(m)){var a=document.createElement("script");a.setAttribute("src",m),a.setAttribute("data-namespace",m),_.length>f+1&&(a.onload=function(){I(_,f+1)},a.onerror=function(){I(_,f+1)}),A.add(m),document.body.appendChild(a)}}function w(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=_.scriptUrl,m=_.extraCommonProps,a=m===void 0?{}:m;f&&typeof document!="undefined"&&typeof window!="undefined"&&typeof document.createElement=="function"&&(Array.isArray(f)?I(f.reverse()):I([f]));var x=z.forwardRef(function(k,T){var N=k.type,L=k.children,R=(0,d.Z)(k,W),b=null;return k.type&&(b=z.createElement("use",{xlinkHref:"#".concat(N)})),L&&(b=L),z.createElement(y.Z,(0,C.Z)((0,C.Z)((0,C.Z)({},a),R),{},{ref:T}),b)});return x.displayName="Iconfont",x}},53133:function(it,Ee,l){"use strict";l.d(Ee,{Z:function(){return A}});var C=l(56453),d=l(63313),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},O=z,y=l(17536),W=function(I,w){return d.createElement(y.Z,(0,C.Z)((0,C.Z)({},I),{},{ref:w,icon:O}))};W.displayName="EyeOutlined";var A=d.forwardRef(W)},86107:function(it,Ee,l){"use strict";l.d(Ee,{Z:function(){return A}});var C=l(56453),d=l(63313),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"logout",theme:"outlined"},O=z,y=l(17536),W=function(I,w){return d.createElement(y.Z,(0,C.Z)((0,C.Z)({},I),{},{ref:w,icon:O}))};W.displayName="LogoutOutlined";var A=d.forwardRef(W)},82639:function(it,Ee,l){"use strict";l.d(Ee,{Z:function(){return A}});var C=l(56453),d=l(63313),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 000 13.8z"}}]},name:"menu-fold",theme:"outlined"},O=z,y=l(17536),W=function(I,w){return d.createElement(y.Z,(0,C.Z)((0,C.Z)({},I),{},{ref:w,icon:O}))};W.displayName="MenuFoldOutlined";var A=d.forwardRef(W)},58410:function(it,Ee,l){"use strict";l.d(Ee,{Z:function(){return A}});var C=l(56453),d=l(63313),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z"}}]},name:"menu-unfold",theme:"outlined"},O=z,y=l(17536),W=function(I,w){return d.createElement(y.Z,(0,C.Z)((0,C.Z)({},I),{},{ref:w,icon:O}))};W.displayName="MenuUnfoldOutlined";var A=d.forwardRef(W)},95752:function(it,Ee,l){"use strict";l.d(Ee,{Z:function(){return A}});var C=l(56453),d=l(63313),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"},O=z,y=l(17536),W=function(I,w){return d.createElement(y.Z,(0,C.Z)((0,C.Z)({},I),{},{ref:w,icon:O}))};W.displayName="SettingOutlined";var A=d.forwardRef(W)},7361:function(it,Ee,l){"use strict";var C=l(63313),d=l.n(C),z=(0,C.createContext)({});Ee.Z=z},94080:function(it,Ee,l){"use strict";l.d(Ee,{ZP:function(){return da}});var C=l(87981),d=l(11193),z=l(13512),O=d.ZP;O.Header=d.h4,O.Footer=d.$_,O.Content=d.VY,O.Sider=z.Z;var y=O,W=l(24255),A=l(4321),M=l(88769),I=l(30486),w=l(36178),_=l(98243),f=l(6614),m=l(56453),a=l(11527),x=l(69117);function k(Be,ye){var Re=typeof Symbol!="undefined"&&Be[Symbol.iterator]||Be["@@iterator"];if(!Re){if(Array.isArray(Be)||(Re=(0,x.Z)(Be))||ye&&Be&&typeof Be.length=="number"){Re&&(Be=Re);var Je=0,Nt=function(){};return{s:Nt,n:function(){return Je>=Be.length?{done:!0}:{done:!1,value:Be[Je++]}},e:function(vn){throw vn},f:Nt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ot=!0,Vt=!1,an;return{s:function(){Re=Re.call(Be)},n:function(){var vn=Re.next();return Ot=vn.done,vn},e:function(vn){Vt=!0,an=vn},f:function(){try{!Ot&&Re.return!=null&&Re.return()}finally{if(Vt)throw an}}}}var T=l(41883),N=l(15882),L={locale:"zh_CN",today:"\u4ECA\u5929",now:"\u6B64\u523B",backToToday:"\u8FD4\u56DE\u4ECA\u5929",ok:"\u786E\u5B9A",timeSelect:"\u9009\u62E9\u65F6\u95F4",dateSelect:"\u9009\u62E9\u65E5\u671F",weekSelect:"\u9009\u62E9\u5468",clear:"\u6E05\u9664",month:"\u6708",year:"\u5E74",previousMonth:"\u4E0A\u4E2A\u6708 (\u7FFB\u9875\u4E0A\u952E)",nextMonth:"\u4E0B\u4E2A\u6708 (\u7FFB\u9875\u4E0B\u952E)",monthSelect:"\u9009\u62E9\u6708\u4EFD",yearSelect:"\u9009\u62E9\u5E74\u4EFD",decadeSelect:"\u9009\u62E9\u5E74\u4EE3",yearFormat:"YYYY\u5E74",dayFormat:"D\u65E5",dateFormat:"YYYY\u5E74M\u6708D\u65E5",dateTimeFormat:"YYYY\u5E74M\u6708D\u65E5 HH\u65F6mm\u5206ss\u79D2",previousYear:"\u4E0A\u4E00\u5E74 (Control\u952E\u52A0\u5DE6\u65B9\u5411\u952E)",nextYear:"\u4E0B\u4E00\u5E74 (Control\u952E\u52A0\u53F3\u65B9\u5411\u952E)",previousDecade:"\u4E0A\u4E00\u5E74\u4EE3",nextDecade:"\u4E0B\u4E00\u5E74\u4EE3",previousCentury:"\u4E0A\u4E00\u4E16\u7EAA",nextCentury:"\u4E0B\u4E00\u4E16\u7EAA"},R=L,b={placeholder:"\u8BF7\u9009\u62E9\u65F6\u95F4",rangePlaceholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"]},P=b,V={lang:(0,N.Z)({placeholder:"\u8BF7\u9009\u62E9\u65E5\u671F",yearPlaceholder:"\u8BF7\u9009\u62E9\u5E74\u4EFD",quarterPlaceholder:"\u8BF7\u9009\u62E9\u5B63\u5EA6",monthPlaceholder:"\u8BF7\u9009\u62E9\u6708\u4EFD",weekPlaceholder:"\u8BF7\u9009\u62E9\u5468",rangePlaceholder:["\u5F00\u59CB\u65E5\u671F","\u7ED3\u675F\u65E5\u671F"],rangeYearPlaceholder:["\u5F00\u59CB\u5E74\u4EFD","\u7ED3\u675F\u5E74\u4EFD"],rangeMonthPlaceholder:["\u5F00\u59CB\u6708\u4EFD","\u7ED3\u675F\u6708\u4EFD"],rangeQuarterPlaceholder:["\u5F00\u59CB\u5B63\u5EA6","\u7ED3\u675F\u5B63\u5EA6"],rangeWeekPlaceholder:["\u5F00\u59CB\u5468","\u7ED3\u675F\u5468"]},R),timePickerLocale:(0,N.Z)({},P)};V.lang.ok="\u786E\u5B9A";var H=V,ee=H,ae="${label}\u4E0D\u662F\u4E00\u4E2A\u6709\u6548\u7684${type}",me={locale:"zh-cn",Pagination:T.Z,DatePicker:H,TimePicker:P,Calendar:ee,global:{placeholder:"\u8BF7\u9009\u62E9"},Table:{filterTitle:"\u7B5B\u9009",filterConfirm:"\u786E\u5B9A",filterReset:"\u91CD\u7F6E",filterEmptyText:"\u65E0\u7B5B\u9009\u9879",filterCheckall:"\u5168\u9009",filterSearchPlaceholder:"\u5728\u7B5B\u9009\u9879\u4E2D\u641C\u7D22",selectAll:"\u5168\u9009\u5F53\u9875",selectInvert:"\u53CD\u9009\u5F53\u9875",selectNone:"\u6E05\u7A7A\u6240\u6709",selectionAll:"\u5168\u9009\u6240\u6709",sortTitle:"\u6392\u5E8F",expand:"\u5C55\u5F00\u884C",collapse:"\u5173\u95ED\u884C",triggerDesc:"\u70B9\u51FB\u964D\u5E8F",triggerAsc:"\u70B9\u51FB\u5347\u5E8F",cancelSort:"\u53D6\u6D88\u6392\u5E8F"},Modal:{okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",justOkText:"\u77E5\u9053\u4E86"},Popconfirm:{cancelText:"\u53D6\u6D88",okText:"\u786E\u5B9A"},Transfer:{titles:["",""],searchPlaceholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5185\u5BB9",itemUnit:"\u9879",itemsUnit:"\u9879",remove:"\u5220\u9664",selectCurrent:"\u5168\u9009\u5F53\u9875",removeCurrent:"\u5220\u9664\u5F53\u9875",selectAll:"\u5168\u9009\u6240\u6709",removeAll:"\u5220\u9664\u5168\u90E8",selectInvert:"\u53CD\u9009\u5F53\u9875"},Upload:{uploading:"\u6587\u4EF6\u4E0A\u4F20\u4E2D",removeFile:"\u5220\u9664\u6587\u4EF6",uploadError:"\u4E0A\u4F20\u9519\u8BEF",previewFile:"\u9884\u89C8\u6587\u4EF6",downloadFile:"\u4E0B\u8F7D\u6587\u4EF6"},Empty:{description:"\u6682\u65E0\u6570\u636E"},Icon:{icon:"\u56FE\u6807"},Text:{edit:"\u7F16\u8F91",copy:"\u590D\u5236",copied:"\u590D\u5236\u6210\u529F",expand:"\u5C55\u5F00"},PageHeader:{back:"\u8FD4\u56DE"},Form:{optional:"\uFF08\u53EF\u9009\uFF09",defaultValidateMessages:{default:"\u5B57\u6BB5\u9A8C\u8BC1\u9519\u8BEF${label}",required:"\u8BF7\u8F93\u5165${label}",enum:"${label}\u5FC5\u987B\u662F\u5176\u4E2D\u4E00\u4E2A[${enum}]",whitespace:"${label}\u4E0D\u80FD\u4E3A\u7A7A\u5B57\u7B26",date:{format:"${label}\u65E5\u671F\u683C\u5F0F\u65E0\u6548",parse:"${label}\u4E0D\u80FD\u8F6C\u6362\u4E3A\u65E5\u671F",invalid:"${label}\u662F\u4E00\u4E2A\u65E0\u6548\u65E5\u671F"},types:{string:ae,method:ae,array:ae,object:ae,number:ae,date:ae,boolean:ae,integer:ae,float:ae,regexp:ae,email:ae,url:ae,hex:ae},string:{len:"${label}\u987B\u4E3A${len}\u4E2A\u5B57\u7B26",min:"${label}\u6700\u5C11${min}\u4E2A\u5B57\u7B26",max:"${label}\u6700\u591A${max}\u4E2A\u5B57\u7B26",range:"${label}\u987B\u5728${min}-${max}\u5B57\u7B26\u4E4B\u95F4"},number:{len:"${label}\u5FC5\u987B\u7B49\u4E8E${len}",min:"${label}\u6700\u5C0F\u503C\u4E3A${min}",max:"${label}\u6700\u5927\u503C\u4E3A${max}",range:"${label}\u987B\u5728${min}-${max}\u4E4B\u95F4"},array:{len:"\u987B\u4E3A${len}\u4E2A${label}",min:"\u6700\u5C11${min}\u4E2A${label}",max:"\u6700\u591A${max}\u4E2A${label}",range:"${label}\u6570\u91CF\u987B\u5728${min}-${max}\u4E4B\u95F4"},pattern:{mismatch:"${label}\u4E0E\u6A21\u5F0F\u4E0D\u5339\u914D${pattern}"}}},Image:{preview:"\u9884\u89C8"}},ge=me,re=l(63313),se=l.n(re);function X(Be,ye,Re,Je){function Nt(Ot){return Ot instanceof Re?Ot:new Re(function(Vt){Vt(Ot)})}return new(Re||(Re=Promise))(function(Ot,Vt){function an(Hn){try{vn(Je.next(Hn))}catch(Qn){Vt(Qn)}}function yn(Hn){try{vn(Je.throw(Hn))}catch(Qn){Vt(Qn)}}function vn(Hn){Hn.done?Ot(Hn.value):Nt(Hn.value).then(an,yn)}vn((Je=Je.apply(Be,ye||[])).next())})}function $(Be,ye){var Re={label:0,sent:function(){if(Ot[0]&1)throw Ot[1];return Ot[1]},trys:[],ops:[]},Je,Nt,Ot,Vt;return Vt={next:an(0),throw:an(1),return:an(2)},typeof Symbol=="function"&&(Vt[Symbol.iterator]=function(){return this}),Vt;function an(vn){return function(Hn){return yn([vn,Hn])}}function yn(vn){if(Je)throw new TypeError("Generator is already executing.");for(;Re;)try{if(Je=1,Nt&&(Ot=vn[0]&2?Nt.return:vn[0]?Nt.throw||((Ot=Nt.return)&&Ot.call(Nt),0):Nt.next)&&!(Ot=Ot.call(Nt,vn[1])).done)return Ot;switch(Nt=0,Ot&&(vn=[vn[0]&2,Ot.value]),vn[0]){case 0:case 1:Ot=vn;break;case 4:return Re.label++,{value:vn[1],done:!1};case 5:Re.label++,Nt=vn[1],vn=[0];continue;case 7:vn=Re.ops.pop(),Re.trys.pop();continue;default:if(Ot=Re.trys,!(Ot=Ot.length>0&&Ot[Ot.length-1])&&(vn[0]===6||vn[0]===2)){Re=0;continue}if(vn[0]===3&&(!Ot||vn[1]>Ot[0]&&vn[1]<Ot[3])){Re.label=vn[1];break}if(vn[0]===6&&Re.label<Ot[1]){Re.label=Ot[1],Ot=vn;break}if(Ot&&Re.label<Ot[2]){Re.label=Ot[2],Re.ops.push(vn);break}Ot[2]&&Re.ops.pop(),Re.trys.pop();continue}vn=ye.call(Be,Re)}catch(Hn){vn=[6,Hn],Nt=0}finally{Je=Ot=0}if(vn[0]&5)throw vn[1];return{value:vn[0]?vn[1]:void 0,done:!0}}}var j=function(){},ie=j(),J=Object,oe=function(Be){return Be===ie},ce=function(Be){return typeof Be=="function"},we=function(Be,ye){return J.assign({},Be,ye)},Me="undefined",Ke=function(){return typeof window!=Me},De=function(){return typeof document!=Me},be=function(){return Ke()&&typeof window.requestAnimationFrame!=Me},We=new WeakMap,et=0,Kt=function(Be){var ye=typeof Be,Re=Be&&Be.constructor,Je=Re==Date,Nt,Ot;if(J(Be)===Be&&!Je&&Re!=RegExp){if(Nt=We.get(Be),Nt)return Nt;if(Nt=++et+"~",We.set(Be,Nt),Re==Array){for(Nt="@",Ot=0;Ot<Be.length;Ot++)Nt+=Kt(Be[Ot])+",";We.set(Be,Nt)}if(Re==J){Nt="#";for(var Vt=J.keys(Be).sort();!oe(Ot=Vt.pop());)oe(Be[Ot])||(Nt+=Ot+":"+Kt(Be[Ot])+",");We.set(Be,Nt)}}else Nt=Je?Be.toJSON():ye=="symbol"?Be.toString():ye=="string"?JSON.stringify(Be):""+Be;return Nt},_t=!0,tt=function(){return _t},kt=Ke(),Ut=De(),Ft=kt&&window.addEventListener?window.addEventListener.bind(window):j,Te=Ut?document.addEventListener.bind(document):j,Ge=kt&&window.removeEventListener?window.removeEventListener.bind(window):j,Et=Ut?document.removeEventListener.bind(document):j,Wt=function(){var Be=Ut&&document.visibilityState;return oe(Be)||Be!=="hidden"},Ze=function(Be){return Te("visibilitychange",Be),Ft("focus",Be),function(){Et("visibilitychange",Be),Ge("focus",Be)}},xe=function(Be){var ye=function(){_t=!0,Be()},Re=function(){_t=!1};return Ft("online",ye),Ft("offline",Re),function(){Ge("online",ye),Ge("offline",Re)}},ve={isOnline:tt,isVisible:Wt},$e={initFocus:Ze,initReconnect:xe},at=!Ke()||"Deno"in window,Tt=function(Be){return be()?window.requestAnimationFrame(Be):setTimeout(Be,1)},Mt=at?re.useEffect:re.useLayoutEffect,gt=typeof navigator!="undefined"&&navigator.connection,Rt=!at&&gt&&(["slow-2g","2g"].includes(gt.effectiveType)||gt.saveData),Zt=function(Be){if(ce(Be))try{Be=Be()}catch(Je){Be=""}var ye=[].concat(Be);Be=typeof Be=="string"?Be:(Array.isArray(Be)?Be.length:Be)?Kt(Be):"";var Re=Be?"$swr$"+Be:"";return[Be,ye,Re]},hn=new WeakMap,Pe=0,en=1,vt=2,Le=function(Be,ye,Re,Je,Nt,Ot,Vt){Vt===void 0&&(Vt=!0);var an=hn.get(Be),yn=an[0],vn=an[1],Hn=an[3],Qn=yn[ye],Zn=vn[ye];if(Vt&&Zn)for(var pi=0;pi<Zn.length;++pi)Zn[pi](Re,Je,Nt);return Ot&&(delete Hn[ye],Qn&&Qn[0])?Qn[0](vt).then(function(){return Be.get(ye)}):Be.get(ye)},nn=0,sn=function(){return++nn},ei=function(){for(var Be=[],ye=0;ye<arguments.length;ye++)Be[ye]=arguments[ye];return X(void 0,void 0,void 0,function(){var Re,Je,Nt,Ot,Vt,an,yn,vn,Hn,Qn,Zn,pi,Ui,Wi,di,Ni,ns,qs,Ws,Ys,As;return $(this,function(no){switch(no.label){case 0:if(Re=Be[0],Je=Be[1],Nt=Be[2],Ot=Be[3],Vt=typeof Ot=="boolean"?{revalidate:Ot}:Ot||{},an=oe(Vt.populateCache)?!0:Vt.populateCache,yn=Vt.revalidate!==!1,vn=Vt.rollbackOnError!==!1,Hn=Vt.optimisticData,Qn=Zt(Je),Zn=Qn[0],pi=Qn[2],!Zn)return[2];if(Ui=hn.get(Re),Wi=Ui[2],Be.length<3)return[2,Le(Re,Zn,Re.get(Zn),ie,ie,yn,!0)];if(di=Nt,ns=sn(),Wi[Zn]=[ns,0],qs=!oe(Hn),Ws=Re.get(Zn),qs&&(Ys=ce(Hn)?Hn(Ws):Hn,Re.set(Zn,Ys),Le(Re,Zn,Ys)),ce(di))try{di=di(Re.get(Zn))}catch(No){Ni=No}return di&&ce(di.then)?[4,di.catch(function(No){Ni=No})]:[3,2];case 1:if(di=no.sent(),ns!==Wi[Zn][0]){if(Ni)throw Ni;return[2,di]}else Ni&&qs&&vn&&(an=!0,di=Ws,Re.set(Zn,Ws));no.label=2;case 2:return an&&(Ni||(ce(an)&&(di=an(di,Ws)),Re.set(Zn,di)),Re.set(pi,we(Re.get(pi),{error:Ni}))),Wi[Zn][1]=sn(),[4,Le(Re,Zn,di,Ni,ie,yn,!!an)];case 3:if(As=no.sent(),Ni)throw Ni;return[2,an?As:di]}})})},wn=function(Be,ye){for(var Re in Be)Be[Re][0]&&Be[Re][0](ye)},Ne=function(Be,ye){if(!hn.has(Be)){var Re=we($e,ye),Je={},Nt=ei.bind(ie,Be),Ot=j;if(hn.set(Be,[Je,{},{},{},Nt]),!at){var Vt=Re.initFocus(setTimeout.bind(ie,wn.bind(ie,Je,Pe))),an=Re.initReconnect(setTimeout.bind(ie,wn.bind(ie,Je,en)));Ot=function(){Vt&&Vt(),an&&an(),hn.delete(Be)}}return[Be,Nt,Ot]}return[Be,hn.get(Be)[4]]},Fe=function(Be,ye,Re,Je,Nt){var Ot=Re.errorRetryCount,Vt=Nt.retryCount,an=~~((Math.random()+.5)*(1<<(Vt<8?Vt:8)))*Re.errorRetryInterval;!oe(Ot)&&Vt>Ot||setTimeout(Je,an,Nt)},ht=Ne(new Map),Qt=ht[0],dn=ht[1],gn=we({onLoadingSlow:j,onSuccess:j,onError:j,onErrorRetry:Fe,onDiscarded:j,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Rt?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Rt?5e3:3e3,compare:function(Be,ye){return Kt(Be)==Kt(ye)},isPaused:function(){return!1},cache:Qt,mutate:dn,fallback:{}},ve),Ht=function(Be,ye){var Re=we(Be,ye);if(ye){var Je=Be.use,Nt=Be.fallback,Ot=ye.use,Vt=ye.fallback;Je&&Ot&&(Re.use=Je.concat(Ot)),Nt&&Vt&&(Re.fallback=we(Nt,Vt))}return Re},lt=(0,re.createContext)({}),Cn=function(Be){var ye=Be.value,Re=Ht((0,re.useContext)(lt),ye),Je=ye&&ye.provider,Nt=(0,re.useState)(function(){return Je?Ne(Je(Re.cache||Qt),ye):ie})[0];return Nt&&(Re.cache=Nt[0],Re.mutate=Nt[1]),Mt(function(){return Nt?Nt[2]:ie},[]),(0,re.createElement)(lt.Provider,we(Be,{value:Re}))},Ue=function(Be,ye){var Re=(0,re.useState)({})[1],Je=(0,re.useRef)(Be),Nt=(0,re.useRef)({data:!1,error:!1,isValidating:!1}),Ot=(0,re.useCallback)(function(Vt){var an=!1,yn=Je.current;for(var vn in Vt){var Hn=vn;yn[Hn]!==Vt[Hn]&&(yn[Hn]=Vt[Hn],Nt.current[Hn]&&(an=!0))}an&&!ye.current&&Re({})},[]);return Mt(function(){Je.current=Be}),[Je,Nt.current,Ot]},Pt=function(Be){return ce(Be[1])?[Be[0],Be[1],Be[2]||{}]:[Be[0],null,(Be[1]===null?Be[2]:Be[1])||{}]},Lt=function(){return we(gn,(0,re.useContext)(lt))},He=function(Be){return function(){for(var Re=[],Je=0;Je<arguments.length;Je++)Re[Je]=arguments[Je];var Nt=Lt(),Ot=Pt(Re),Vt=Ot[0],an=Ot[1],yn=Ot[2],vn=Ht(Nt,yn),Hn=Be,Qn=vn.use;if(Qn)for(var Zn=Qn.length;Zn-- >0;)Hn=Qn[Zn](Hn);return Hn(Vt,an||vn.fetcher,vn)}},Ve=function(Be,ye,Re){var Je=ye[Be]||(ye[Be]=[]);return Je.push(Re),function(){var Nt=Je.indexOf(Re);Nt>=0&&(Je[Nt]=Je[Je.length-1],Je.pop())}},Se={dedupe:!0},St=function(Be,ye,Re){var Je=Re.cache,Nt=Re.compare,Ot=Re.fallbackData,Vt=Re.suspense,an=Re.revalidateOnMount,yn=Re.refreshInterval,vn=Re.refreshWhenHidden,Hn=Re.refreshWhenOffline,Qn=hn.get(Je),Zn=Qn[0],pi=Qn[1],Ui=Qn[2],Wi=Qn[3],di=Zt(Be),Ni=di[0],ns=di[1],qs=di[2],Ws=(0,re.useRef)(!1),Ys=(0,re.useRef)(!1),As=(0,re.useRef)(Ni),no=(0,re.useRef)(ye),No=(0,re.useRef)(Re),ps=function(){return No.current},Fr=function(){return ps().isVisible()&&ps().isOnline()},Br=function(cr){return Je.set(qs,we(Je.get(qs),cr))},qr=Je.get(Ni),Nr=oe(Ot)?Re.fallback[Ni]:Ot,Uo=oe(qr)?Nr:qr,Ea=Je.get(qs)||{},ua=Ea.error,Fo=!Ws.current,Ha=function(){return Fo&&!oe(an)?an:ps().isPaused()?!1:Vt?oe(Uo)?!1:Re.revalidateIfStale:oe(Uo)||Re.revalidateIfStale},Ir=function(){return!Ni||!ye?!1:Ea.isValidating?!0:Fo&&Ha()},ea=Ir(),sr=Ue({data:Uo,error:ua,isValidating:ea},Ys),Da=sr[0],xa=sr[1],ss=sr[2],or=(0,re.useCallback)(function(cr){return X(void 0,void 0,void 0,function(){var Bo,Qo,dr,Wr,tl,ha,To,Vr,rr,Na,Cl,fa,Ia;return $(this,function(Hr){switch(Hr.label){case 0:if(Bo=no.current,!Ni||!Bo||Ys.current||ps().isPaused())return[2,!1];Wr=!0,tl=cr||{},ha=!Wi[Ni]||!tl.dedupe,To=function(){return!Ys.current&&Ni===As.current&&Ws.current},Vr=function(){var Dc=Wi[Ni];Dc&&Dc[1]===dr&&delete Wi[Ni]},rr={isValidating:!1},Na=function(){Br({isValidating:!1}),To()&&ss(rr)},Br({isValidating:!0}),ss({isValidating:!0}),Hr.label=1;case 1:return Hr.trys.push([1,3,,4]),ha&&(Le(Je,Ni,Da.current.data,Da.current.error,!0),Re.loadingTimeout&&!Je.get(Ni)&&setTimeout(function(){Wr&&To()&&ps().onLoadingSlow(Ni,Re)},Re.loadingTimeout),Wi[Ni]=[Bo.apply(void 0,ns),sn()]),Ia=Wi[Ni],Qo=Ia[0],dr=Ia[1],[4,Qo];case 2:return Qo=Hr.sent(),ha&&setTimeout(Vr,Re.dedupingInterval),!Wi[Ni]||Wi[Ni][1]!==dr?(ha&&To()&&ps().onDiscarded(Ni),[2,!1]):(Br({error:ie}),rr.error=ie,Cl=Ui[Ni],!oe(Cl)&&(dr<=Cl[0]||dr<=Cl[1]||Cl[1]===0)?(Na(),ha&&To()&&ps().onDiscarded(Ni),[2,!1]):(Nt(Da.current.data,Qo)?rr.data=Da.current.data:rr.data=Qo,Nt(Je.get(Ni),Qo)||Je.set(Ni,Qo),ha&&To()&&ps().onSuccess(Qo,Ni,Re),[3,4]));case 3:return fa=Hr.sent(),Vr(),ps().isPaused()||(Br({error:fa}),rr.error=fa,ha&&To()&&(ps().onError(fa,Ni,Re),(typeof Re.shouldRetryOnError=="boolean"&&Re.shouldRetryOnError||ce(Re.shouldRetryOnError)&&Re.shouldRetryOnError(fa))&&Fr()&&ps().onErrorRetry(fa,Ni,Re,or,{retryCount:(tl.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return Wr=!1,Na(),To()&&ha&&Le(Je,Ni,rr.data,rr.error,!1),[2,!0]}})})},[Ni]),Nu=(0,re.useCallback)(ei.bind(ie,Je,function(){return As.current}),[]);if(Mt(function(){no.current=ye,No.current=Re}),Mt(function(){if(!!Ni){var cr=Ni!==As.current,Bo=or.bind(ie,Se),Qo=function(To,Vr,rr){ss(we({error:Vr,isValidating:rr},Nt(Da.current.data,To)?ie:{data:To}))},dr=0,Wr=function(To){if(To==Pe){var Vr=Date.now();ps().revalidateOnFocus&&Vr>dr&&Fr()&&(dr=Vr+ps().focusThrottleInterval,Bo())}else if(To==en)ps().revalidateOnReconnect&&Fr()&&Bo();else if(To==vt)return or()},tl=Ve(Ni,pi,Qo),ha=Ve(Ni,Zn,Wr);return Ys.current=!1,As.current=Ni,Ws.current=!0,cr&&ss({data:Uo,error:ua,isValidating:ea}),Ha()&&(oe(Uo)||at?Bo():Tt(Bo)),function(){Ys.current=!0,tl(),ha()}}},[Ni,or]),Mt(function(){var cr;function Bo(){var dr=ce(yn)?yn(Uo):yn;dr&&cr!==-1&&(cr=setTimeout(Qo,dr))}function Qo(){!Da.current.error&&(vn||ps().isVisible())&&(Hn||ps().isOnline())?or(Se).then(Bo):Bo()}return Bo(),function(){cr&&(clearTimeout(cr),cr=-1)}},[yn,vn,Hn,or]),(0,re.useDebugValue)(Uo),Vt&&oe(Uo)&&Ni)throw no.current=ye,No.current=Re,Ys.current=!1,oe(ua)?or(Se):ua;return{mutate:Nu,get data(){return xa.data=!0,Uo},get error(){return xa.error=!0,ua},get isValidating(){return xa.isValidating=!0,ea}}},Jt=J.defineProperty(Cn,"default",{value:gn}),mn=function(Be){return Zt(Be)[0]},Mn=He(St),kn={moneySymbol:"$",form:{lightFilter:{more:"\u0627\u0644\u0645\u0632\u064A\u062F",clear:"\u0646\u0638\u0641",confirm:"\u062A\u0623\u0643\u064A\u062F",itemUnit:"\u0639\u0646\u0627\u0635\u0631"}},tableForm:{search:"\u0627\u0628\u062D\u062B",reset:"\u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646",submit:"\u0627\u0631\u0633\u0627\u0644",collapsed:"\u0645\u064F\u0642\u0644\u0635",expand:"\u0645\u064F\u0648\u0633\u0639",inputPlaceholder:"\u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u0644\u0625\u062F\u062E\u0627\u0644",selectPlaceholder:"\u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u0644\u0625\u062E\u062A\u064A\u0627\u0631"},alert:{clear:"\u0646\u0638\u0641",selected:"\u0645\u062D\u062F\u062F",item:"\u0639\u0646\u0635\u0631"},pagination:{total:{range:" ",total:"\u0645\u0646",item:"\u0639\u0646\u0627\u0635\u0631"}},tableToolBar:{leftPin:"\u062B\u0628\u062A \u0639\u0644\u0649 \u0627\u0644\u064A\u0633\u0627\u0631",rightPin:"\u062B\u0628\u062A \u0639\u0644\u0649 \u0627\u0644\u064A\u0645\u064A\u0646",noPin:"\u0627\u0644\u063A\u0627\u0621 \u0627\u0644\u062A\u062B\u0628\u064A\u062A",leftFixedTitle:"\u0644\u0635\u0642 \u0639\u0644\u0649 \u0627\u0644\u064A\u0633\u0627\u0631",rightFixedTitle:"\u0644\u0635\u0642 \u0639\u0644\u0649 \u0627\u0644\u064A\u0645\u064A\u0646",noFixedTitle:"\u0625\u0644\u063A\u0627\u0621 \u0627\u0644\u0625\u0644\u0635\u0627\u0642",reset:"\u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646",columnDisplay:"\u0627\u0644\u0623\u0639\u0645\u062F\u0629 \u0627\u0644\u0645\u0639\u0631\u0648\u0636\u0629",columnSetting:"\u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A",fullScreen:"\u0648\u0636\u0639 \u0643\u0627\u0645\u0644 \u0627\u0644\u0634\u0627\u0634\u0629",exitFullScreen:"\u0627\u0644\u062E\u0631\u0648\u062C \u0645\u0646 \u0648\u0636\u0639 \u0643\u0627\u0645\u0644 \u0627\u0644\u0634\u0627\u0634\u0629",reload:"\u062A\u062D\u062F\u064A\u062B",density:"\u0627\u0644\u0643\u062B\u0627\u0641\u0629",densityDefault:"\u0627\u0641\u062A\u0631\u0627\u0636\u064A",densityLarger:"\u0623\u0643\u0628\u0631",densityMiddle:"\u0648\u0633\u0637",densitySmall:"\u0645\u062F\u0645\u062C"},stepsForm:{next:"\u0627\u0644\u062A\u0627\u0644\u064A",prev:"\u0627\u0644\u0633\u0627\u0628\u0642",submit:"\u0623\u0646\u0647\u0649"},loginForm:{submitText:"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644"},editableTable:{action:{save:"\u0623\u0646\u0642\u0630",cancel:"\u0625\u0644\u063A\u0627\u0621 \u0627\u0644\u0623\u0645\u0631",delete:"\u062D\u0630\u0641",add:"\u0625\u0636\u0627\u0641\u0629 \u0635\u0641 \u0645\u0646 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"}},switch:{open:"\u0645\u0641\u062A\u0648\u062D",close:"\u063A\u0644\u0642"}},Nn={moneySymbol:"\u20AC",form:{lightFilter:{more:"M\xE1is",clear:"Limpar",confirm:"Confirmar",itemUnit:"Elementos"}},tableForm:{search:"Cercar",reset:"Netejar",submit:"Enviar",collapsed:"Expandir",expand:"Col\xB7lapsar",inputPlaceholder:"Introdu\xEFu valor",selectPlaceholder:"Seleccioneu valor"},alert:{clear:"Netejar",selected:"Seleccionat",item:"Article"},pagination:{total:{range:" ",total:"de",item:"articles"}},tableToolBar:{leftPin:"Pin a l'esquerra",rightPin:"Pin a la dreta",noPin:"Sense Pin",leftFixedTitle:"Fixat a l'esquerra",rightFixedTitle:"Fixat a la dreta",noFixedTitle:"Sense fixar",reset:"Reiniciar",columnDisplay:"Mostrar Columna",columnSetting:"Configuraci\xF3",fullScreen:"Pantalla Completa",exitFullScreen:"Sortir Pantalla Completa",reload:"Refrescar",density:"Densitat",densityDefault:"Per Defecte",densityLarger:"Llarg",densityMiddle:"Mitj\xE0",densitySmall:"Compacte"},stepsForm:{next:"Seg\xFCent",prev:"Anterior",submit:"Finalizar"},loginForm:{submitText:"Entrar"},editableTable:{action:{save:"Gardar",cancel:"Cancelar",delete:"Eliminar",add:"engadir unha fila de datos"}},switch:{open:"aberto",close:"pechar"}},xn={moneySymbol:"\u20AC",form:{lightFilter:{more:"Mehr",clear:"Zur\xFCcksetzen",confirm:"Best\xE4tigen",itemUnit:"Eintr\xE4ge"}},tableForm:{search:"Suchen",reset:"Zur\xFCcksetzen",submit:"Absenden",collapsed:"Zeige mehr",expand:"Zeige weniger",inputPlaceholder:"Bitte eingeben",selectPlaceholder:"Bitte ausw\xE4hlen"},alert:{clear:"Zur\xFCcksetzen",selected:"Ausgew\xE4hlt",item:"Eintrag"},pagination:{total:{range:" ",total:"von",item:"Eintr\xE4gen"}},tableToolBar:{leftPin:"Links anheften",rightPin:"Rechts anheften",noPin:"Nicht angeheftet",leftFixedTitle:"Links fixiert",rightFixedTitle:"Rechts fixiert",noFixedTitle:"Nicht fixiert",reset:"Zur\xFCcksetzen",columnDisplay:"Angezeigte Reihen",columnSetting:"Einstellungen",fullScreen:"Vollbild",exitFullScreen:"Vollbild verlassen",reload:"Aktualisieren",density:"Abstand",densityDefault:"Standard",densityLarger:"Gr\xF6\xDFer",densityMiddle:"Mittel",densitySmall:"Kompakt"},stepsForm:{next:"Weiter",prev:"Zur\xFCck",submit:"Abschlie\xDFen"},loginForm:{submitText:"Anmelden"},editableTable:{action:{save:"Retten",cancel:"Abbrechen",delete:"L\xF6schen",add:"Hinzuf\xFCgen einer Datenzeile"}},switch:{open:"offen",close:"schlie\xDFen"}},Xn={moneySymbol:"\xA3",form:{lightFilter:{more:"More",clear:"Clear",confirm:"Confirm",itemUnit:"Items"}},tableForm:{search:"Query",reset:"Reset",submit:"Submit",collapsed:"Expand",expand:"Collapse",inputPlaceholder:"Please enter",selectPlaceholder:"Please select"},alert:{clear:"Clear",selected:"Selected",item:"Item"},pagination:{total:{range:" ",total:"of",item:"items"}},tableToolBar:{leftPin:"Pin to left",rightPin:"Pin to right",noPin:"Unpinned",leftFixedTitle:"Fixed the left",rightFixedTitle:"Fixed the right",noFixedTitle:"Not Fixed",reset:"Reset",columnDisplay:"Column Display",columnSetting:"Settings",fullScreen:"Full Screen",exitFullScreen:"Exit Full Screen",reload:"Refresh",density:"Density",densityDefault:"Default",densityLarger:"Larger",densityMiddle:"Middle",densitySmall:"Compact"},stepsForm:{next:"Next",prev:"Previous",submit:"Finish"},loginForm:{submitText:"Login"},editableTable:{action:{save:"Save",cancel:"Cancel",delete:"Delete",add:"add a row of data"}},switch:{open:"open",close:"close"}},Sn={moneySymbol:"$",deleteThisLine:"Delete this line",copyThisLine:"Copy this line",form:{lightFilter:{more:"More",clear:"Clear",confirm:"Confirm",itemUnit:"Items"}},tableForm:{search:"Query",reset:"Reset",submit:"Submit",collapsed:"Expand",expand:"Collapse",inputPlaceholder:"Please enter",selectPlaceholder:"Please select"},alert:{clear:"Clear",selected:"Selected",item:"Item"},pagination:{total:{range:" ",total:"of",item:"items"}},tableToolBar:{leftPin:"Pin to left",rightPin:"Pin to right",noPin:"Unpinned",leftFixedTitle:"Fixed the left",rightFixedTitle:"Fixed the right",noFixedTitle:"Not Fixed",reset:"Reset",columnDisplay:"Column Display",columnSetting:"Settings",fullScreen:"Full Screen",exitFullScreen:"Exit Full Screen",reload:"Refresh",density:"Density",densityDefault:"Default",densityLarger:"Larger",densityMiddle:"Middle",densitySmall:"Compact"},stepsForm:{next:"Next",prev:"Previous",submit:"Finish"},loginForm:{submitText:"Login"},editableTable:{onlyOneLineEditor:"Only one line can be edited",action:{save:"Save",cancel:"Cancel",delete:"Delete",add:"add a row of data"}},switch:{open:"open",close:"close"}},Gn={moneySymbol:"\u20AC",form:{lightFilter:{more:"M\xE1s",clear:"Limpiar",confirm:"Confirmar",itemUnit:"art\xEDculos"}},tableForm:{search:"Buscar",reset:"Limpiar",submit:"Submit",collapsed:"Expandir",expand:"Colapsar",inputPlaceholder:"Ingrese valor",selectPlaceholder:"Seleccione valor"},alert:{clear:"Limpiar",selected:"Seleccionado",item:"Articulo"},pagination:{total:{range:" ",total:"de",item:"art\xEDculos"}},tableToolBar:{leftPin:"Pin a la izquierda",rightPin:"Pin a la derecha",noPin:"Sin Pin",leftFixedTitle:"Fijado a la izquierda",rightFixedTitle:"Fijado a la derecha",noFixedTitle:"Sin Fijar",reset:"Reiniciar",columnDisplay:"Mostrar Columna",columnSetting:"Configuraci\xF3n",fullScreen:"Pantalla Completa",exitFullScreen:"Salir Pantalla Completa",reload:"Refrescar",density:"Densidad",densityDefault:"Por Defecto",densityLarger:"Largo",densityMiddle:"Medio",densitySmall:"Compacto"},stepsForm:{next:"Siguiente",prev:"Anterior",submit:"Finalizar"},loginForm:{submitText:"Entrar"},editableTable:{action:{save:"Guardar",cancel:"Descartar",delete:"Borrar",add:"a\xF1adir una fila de datos"}},switch:{open:"abrir",close:"cerrar"}},ti={moneySymbol:"\u062A\u0648\u0645\u0627\u0646",form:{lightFilter:{more:"\u0628\u06CC\u0634\u062A\u0631",clear:"\u067E\u0627\u06A9 \u06A9\u0631\u062F\u0646",confirm:"\u062A\u0627\u06CC\u06CC\u062F",itemUnit:"\u0645\u0648\u0631\u062F"}},tableForm:{search:"\u062C\u0633\u062A\u062C\u0648",reset:"\u0628\u0627\u0632\u0646\u0634\u0627\u0646\u06CC",submit:"\u062A\u0627\u06CC\u06CC\u062F",collapsed:"\u0646\u0645\u0627\u06CC\u0634 \u0628\u06CC\u0634\u062A\u0631",expand:"\u0646\u0645\u0627\u06CC\u0634 \u06A9\u0645\u062A\u0631",inputPlaceholder:"\u067E\u06CC\u062F\u0627 \u06A9\u0646\u06CC\u062F",selectPlaceholder:"\u0627\u0646\u062A\u062E\u0627\u0628 \u06A9\u0646\u06CC\u062F"},alert:{clear:"\u067E\u0627\u06A9 \u0633\u0627\u0632\u06CC",selected:"\u0627\u0646\u062A\u062E\u0627\u0628",item:"\u0645\u0648\u0631\u062F"},pagination:{total:{range:" ",total:"\u0627\u0632",item:"\u0645\u0648\u0631\u062F"}},tableToolBar:{leftPin:"\u0633\u0646\u062C\u0627\u0642 \u0628\u0647 \u0686\u067E",rightPin:"\u0633\u0646\u062C\u0627\u0642 \u0628\u0647 \u0631\u0627\u0633\u062A",noPin:"\u0633\u0646\u062C\u0627\u0642 \u0646\u0634\u062F\u0647",leftFixedTitle:"\u062B\u0627\u0628\u062A \u0634\u062F\u0647 \u062F\u0631 \u0686\u067E",rightFixedTitle:"\u062B\u0627\u0628\u062A \u0634\u062F\u0647 \u062F\u0631 \u0631\u0627\u0633\u062A",noFixedTitle:"\u0634\u0646\u0627\u0648\u0631",reset:"\u0628\u0627\u0632\u0646\u0634\u0627\u0646\u06CC",columnDisplay:"\u0646\u0645\u0627\u06CC\u0634 \u0647\u0645\u0647",columnSetting:"\u062A\u0646\u0638\u06CC\u0645\u0627\u062A",fullScreen:"\u062A\u0645\u0627\u0645 \u0635\u0641\u062D\u0647",exitFullScreen:"\u062E\u0631\u0648\u062C \u0627\u0632 \u062D\u0627\u0644\u062A \u062A\u0645\u0627\u0645 \u0635\u0641\u062D\u0647",reload:"\u062A\u0627\u0632\u0647 \u0633\u0627\u0632\u06CC",density:"\u062A\u0631\u0627\u06A9\u0645",densityDefault:"\u067E\u06CC\u0634 \u0641\u0631\u0636",densityLarger:"\u0628\u0632\u0631\u06AF",densityMiddle:"\u0645\u062A\u0648\u0633\u0637",densitySmall:"\u06A9\u0648\u0686\u06A9"},stepsForm:{next:"\u0628\u0639\u062F\u06CC",prev:"\u0642\u0628\u0644\u06CC",submit:"\u0627\u062A\u0645\u0627\u0645"},loginForm:{submitText:"\u0648\u0631\u0648\u062F"},editableTable:{action:{save:"\u0630\u062E\u06CC\u0631\u0647",cancel:"\u0644\u063A\u0648",delete:"\u062D\u0630\u0641",add:"\u06CC\u06A9 \u0631\u062F\u06CC\u0641 \u062F\u0627\u062F\u0647 \u0627\u0636\u0627\u0641\u0647 \u06A9\u0646\u06CC\u062F"}},switch:{open:"\u0628\u0627\u0632",close:"\u0646\u0632\u062F\u06CC\u06A9"}},An={moneySymbol:"\u20AC",form:{lightFilter:{more:"Plus",clear:"Effacer",confirm:"Confirmer",itemUnit:"Items"}},tableForm:{search:"Rechercher",reset:"R\xE9initialiser",submit:"Envoyer",collapsed:"Agrandir",expand:"R\xE9duire",inputPlaceholder:"Entrer une valeur",selectPlaceholder:"S\xE9lectionner une valeur"},alert:{clear:"R\xE9initialiser",selected:"S\xE9lectionn\xE9",item:"Item"},pagination:{total:{range:" ",total:"sur",item:"\xE9l\xE9ments"}},tableToolBar:{leftPin:"\xC9pingler \xE0 gauche",rightPin:"\xC9pingler \xE0 gauche",noPin:"Sans \xE9pingle",leftFixedTitle:"Fixer \xE0 gauche",rightFixedTitle:"Fixer \xE0 droite",noFixedTitle:"Non fix\xE9",reset:"R\xE9initialiser",columnDisplay:"Affichage colonne",columnSetting:"R\xE9glages",fullScreen:"Plein \xE9cran",exitFullScreen:"Quitter Plein \xE9cran",reload:"Rafraichir",density:"Densit\xE9",densityDefault:"Par d\xE9faut",densityLarger:"Larger",densityMiddle:"Moyenne",densitySmall:"Compacte"},stepsForm:{next:"Suivante",prev:"Pr\xE9c\xE9dente",submit:"Finaliser"},loginForm:{submitText:"Se connecter"},editableTable:{action:{save:"Sauvegarder",cancel:"Annuler",delete:"Supprimer",add:"ajouter une ligne de donn\xE9es"}},switch:{open:"ouvert",close:"pr\xE8s"}},Bi={moneySymbol:"kn",form:{lightFilter:{more:"Vi\u0161e",clear:"O\u010Disti",confirm:"Potvrdi",itemUnit:"Stavke"}},tableForm:{search:"Pretra\u017Ei",reset:"Poni\u0161ti",submit:"Potvrdi",collapsed:"Ra\u0161iri",expand:"Skupi",inputPlaceholder:"Unesite",selectPlaceholder:"Odaberite"},alert:{clear:"O\u010Disti",selected:"Odaberi",item:"stavke"},pagination:{total:{range:" ",total:"od",item:"stavke"}},tableToolBar:{leftPin:"Prika\u010Di lijevo",rightPin:"Prika\u010Di desno",noPin:"Bez prika\u010Denja",leftFixedTitle:"Fiksiraj lijevo",rightFixedTitle:"Fiksiraj desno",noFixedTitle:"Bez fiksiranja",reset:"Resetiraj",columnDisplay:"Prikaz stupaca",columnSetting:"Postavke",fullScreen:"Puni zaslon",exitFullScreen:"Iza\u0111i iz punog zaslona",reload:"Ponovno u\u010Ditaj",density:"Veli\u010Dina",densityDefault:"Zadano",densityLarger:"Veliko",densityMiddle:"Srednje",densitySmall:"Malo"},stepsForm:{next:"Sljede\u0107i",prev:"Prethodni",submit:"Kraj"},loginForm:{submitText:"Prijava"},editableTable:{action:{save:"Spremi",cancel:"Odustani",delete:"Obri\u0161i",add:"dodajte red podataka"}},switch:{open:"otvori",close:"zatvori"}},oi={moneySymbol:"RP",form:{lightFilter:{more:"Lebih",clear:"Hapus",confirm:"Konfirmasi",itemUnit:"Unit"}},tableForm:{search:"Cari",reset:"Atur ulang",submit:"Kirim",collapsed:"Lebih sedikit",expand:"Lebih banyak",inputPlaceholder:"Masukkan pencarian",selectPlaceholder:"Pilih"},alert:{clear:"Hapus",selected:"Dipilih",item:"Butir"},pagination:{total:{range:" ",total:"Dari",item:"Butir"}},tableToolBar:{leftPin:"Pin kiri",rightPin:"Pin kanan",noPin:"Tidak ada pin",leftFixedTitle:"Rata kiri",rightFixedTitle:"Rata kanan",noFixedTitle:"Tidak tetap",reset:"Atur ulang",columnDisplay:"Tampilan kolom",columnSetting:"Pengaturan",fullScreen:"Layar penuh",exitFullScreen:"Keluar layar penuh",reload:"Atur ulang",density:"Kerapatan",densityDefault:"Standar",densityLarger:"Lebih besar",densityMiddle:"Sedang",densitySmall:"Rapat"},stepsForm:{next:"Selanjutnya",prev:"Sebelumnya",submit:"Selesai"},loginForm:{submitText:"Login"},editableTable:{action:{save:"simpan",cancel:"batal",delete:"hapus",add:"Tambahkan baris data"}},switch:{open:"buka",close:"tutup"}},Yn={moneySymbol:"\u20AC",form:{lightFilter:{more:"pi\xF9",clear:"pulisci",confirm:"conferma",itemUnit:"elementi"}},tableForm:{search:"Filtra",reset:"Pulisci",submit:"Invia",collapsed:"Espandi",expand:"Contrai",inputPlaceholder:"Digita",selectPlaceholder:"Seleziona"},alert:{clear:"Rimuovi",selected:"Selezionati",item:"elementi"},pagination:{total:{range:" ",total:"di",item:"elementi"}},tableToolBar:{leftPin:"Fissa a sinistra",rightPin:"Fissa a destra",noPin:"Ripristina posizione",leftFixedTitle:"Fissato a sinistra",rightFixedTitle:"Fissato a destra",noFixedTitle:"Non fissato",reset:"Ripristina",columnDisplay:"Disposizione colonne",columnSetting:"Impostazioni",fullScreen:"Modalit\xE0 schermo intero",exitFullScreen:"Esci da modalit\xE0 schermo intero",reload:"Ricarica",density:"Grandezza tabella",densityDefault:"predefinito",densityLarger:"Grande",densityMiddle:"Media",densitySmall:"Compatta"},stepsForm:{next:"successivo",prev:"precedente",submit:"finisci"},loginForm:{submitText:"Accedi"},editableTable:{action:{save:"salva",cancel:"annulla",delete:"Delete",add:"add a row of data"}},switch:{open:"open",close:"chiudi"}},Ci={moneySymbol:"\xA5",form:{lightFilter:{more:"\u3082\u3063\u3068",clear:"\u660E\u78BA",confirm:"\u78BA\u8A8D",itemUnit:"\u9805\u76EE"}},tableForm:{search:"\u691C\u7D22",reset:"\u30EA\u30BB\u30C3\u30C8",submit:"\u63D0\u4EA4",collapsed:"\u5C55\u958B",expand:"\u53CE\u7D0D",inputPlaceholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044",selectPlaceholder:"\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044"},alert:{clear:"\u30AF\u30EA\u30A2",selected:"\u9078\u629E\u3057\u305F",item:"\u9805\u76EE"},pagination:{total:{range:"\u8A18\u4E8B",total:"/\u5408\u8A08",item:" "}},tableToolBar:{leftPin:"\u5DE6\u306B\u56FA\u5B9A",rightPin:"\u53F3\u306B\u56FA\u5B9A",noPin:"\u30AD\u30E3\u30F3\u30BB\u30EB",leftFixedTitle:"\u5DE6\u306B\u56FA\u5B9A\u3055\u308C\u305F\u9805\u76EE",rightFixedTitle:"\u53F3\u306B\u56FA\u5B9A\u3055\u308C\u305F\u9805\u76EE",noFixedTitle:"\u56FA\u5B9A\u3055\u308C\u3066\u306A\u3044\u9805\u76EE",reset:"\u30EA\u30BB\u30C3\u30C8",columnDisplay:"\u8868\u793A\u5217",columnSetting:"\u5217\u8868\u793A\u8A2D\u5B9A",fullScreen:"\u30D5\u30EB\u30B9\u30AF\u30EA\u30FC\u30F3",exitFullScreen:"\u7D42\u4E86",reload:"\u66F4\u65B0",density:"\u884C\u9AD8",densityDefault:"\u30C7\u30D5\u30A9\u30EB\u30C8",densityLarger:"\u9ED8\u8BA4",densityMiddle:"\u4E2D",densitySmall:"\u5C0F"},stepsForm:{next:"\u6B21\u306E\u30B9\u30C6\u30C3\u30D7",prev:"\u524D",submit:"\u9001\u4FE1"},loginForm:{submitText:"\u30ED\u30B0\u30A4\u30F3"},editableTable:{action:{save:"\u6551\u3046",cancel:"\u30AD\u30E3\u30F3\u30BB\u30EB",delete:"\u524A\u9664",add:"1\u884C\u306E\u30C7\u30FC\u30BF\u3092\u8FFD\u52A0\u3057\u307E\u3059"}},switch:{open:"\u30AA\u30FC\u30D7\u30F3",close:"\u8FD1\u3044"}},On={moneySymbol:"\u20A9",form:{lightFilter:{more:"\uB354\uBCF4\uAE30",clear:"\uCDE8\uC18C",confirm:"\uD655\uC778",itemUnit:"\uAC74\uC218"}},tableForm:{search:"\uC870\uD68C",reset:"\uCD08\uAE30\uD654",submit:"\uC81C\uCD9C",collapsed:"\uD655\uC7A5",expand:"\uB2EB\uAE30",inputPlaceholder:"\uC785\uB825\uD574 \uC8FC\uC138\uC694",selectPlaceholder:"\uC120\uD0DD\uD574 \uC8FC\uC138\uC694"},alert:{clear:"\uCDE8\uC18C",selected:"\uC120\uD0DD",item:"\uAC74"},pagination:{total:{range:" ",total:"/ \uCD1D",item:"\uAC74"}},tableToolBar:{leftPin:"\uC67C\uCABD\uC73C\uB85C \uD540",rightPin:"\uC624\uB978\uCABD\uC73C\uB85C \uD540",noPin:"\uD540 \uC81C\uAC70",leftFixedTitle:"\uC67C\uCABD\uC73C\uB85C \uACE0\uC815",rightFixedTitle:"\uC624\uB978\uCABD\uC73C\uB85C \uACE0\uC815",noFixedTitle:"\uBE44\uACE0\uC815",reset:"\uCD08\uAE30\uD654",columnDisplay:"\uCEEC\uB7FC \uD45C\uC2DC",columnSetting:"\uC124\uC815",fullScreen:"\uC804\uCCB4 \uD654\uBA74",exitFullScreen:"\uC804\uCCB4 \uD654\uBA74 \uCDE8\uC18C",reload:"\uB2E4\uC2DC \uC77D\uAE30",density:"\uC5EC\uBC31",densityDefault:"\uAE30\uBCF8",densityLarger:"\uB9CE\uC740 \uC5EC\uBC31",densityMiddle:"\uC911\uAC04 \uC5EC\uBC31",densitySmall:"\uC881\uC740 \uC5EC\uBC31"},stepsForm:{next:"\uB2E4\uC74C",prev:"\uC774\uC804",submit:"\uC885\uB8CC"},loginForm:{submitText:"\uB85C\uADF8\uC778"},editableTable:{action:{save:"\uC800\uC7A5",cancel:"\uCDE8\uC18C",delete:"\uC0AD\uC81C",add:"\uB370\uC774\uD130 \uD589 \uCD94\uAC00"}},switch:{open:"\uC5F4",close:"\uAC00\uAE4C \uC6B4"}},Si={moneySymbol:"\u20AE",form:{lightFilter:{more:"\u0418\u043B\u04AF\u04AF",clear:"\u0426\u044D\u0432\u044D\u0440\u043B\u044D\u0445",confirm:"\u0411\u0430\u0442\u0430\u043B\u0433\u0430\u0430\u0436\u0443\u0443\u043B\u0430\u0445",itemUnit:"\u041D\u044D\u0433\u0436\u04AF\u04AF\u0434"}},tableForm:{search:"\u0425\u0430\u0439\u0445",reset:"\u0428\u0438\u043D\u044D\u0447\u043B\u044D\u0445",submit:"\u0418\u043B\u0433\u044D\u044D\u0445",collapsed:"\u04E8\u0440\u0433\u04E9\u0442\u0433\u04E9\u0445",expand:"\u0425\u0443\u0440\u0430\u0430\u0445",inputPlaceholder:"\u0423\u0442\u0433\u0430 \u043E\u0440\u0443\u0443\u043B\u043D\u0430 \u0443\u0443",selectPlaceholder:"\u0423\u0442\u0433\u0430 \u0441\u043E\u043D\u0433\u043E\u043D\u043E \u0443\u0443"},alert:{clear:"\u0426\u044D\u0432\u044D\u0440\u043B\u044D\u0445",selected:"\u0421\u043E\u043D\u0433\u043E\u0433\u0434\u0441\u043E\u043D",item:"\u041D\u044D\u0433\u0436"},pagination:{total:{range:" ",total:"\u041D\u0438\u0439\u0442",item:"\u043C\u04E9\u0440"}},tableToolBar:{leftPin:"\u0417\u04AF\u04AF\u043D \u0442\u0438\u0439\u0448 \u0431\u044D\u0445\u043B\u044D\u0445",rightPin:"\u0411\u0430\u0440\u0443\u0443\u043D \u0442\u0438\u0439\u0448 \u0431\u044D\u0445\u043B\u044D\u0445",noPin:"\u0411\u044D\u0445\u043B\u044D\u0445\u0433\u04AF\u0439",leftFixedTitle:"\u0417\u04AF\u04AF\u043D \u0437\u044D\u0440\u044D\u0433\u0446\u04AF\u04AF\u043B\u044D\u0445",rightFixedTitle:"\u0411\u0430\u0440\u0443\u0443\u043D \u0437\u044D\u0440\u044D\u0433\u0446\u04AF\u04AF\u043B\u044D\u0445",noFixedTitle:"\u0417\u044D\u0440\u044D\u0433\u0446\u04AF\u04AF\u043B\u044D\u0445\u0433\u04AF\u0439",reset:"\u0428\u0438\u043D\u044D\u0447\u043B\u044D\u0445",columnDisplay:"\u0411\u0430\u0433\u0430\u043D\u0430\u0430\u0440 \u0445\u0430\u0440\u0443\u0443\u043B\u0430\u0445",columnSetting:"\u0422\u043E\u0445\u0438\u0440\u0433\u043E\u043E",fullScreen:"\u0411\u04AF\u0442\u044D\u043D \u0434\u044D\u043B\u0433\u044D\u0446\u044D\u044D\u0440",exitFullScreen:"\u0411\u04AF\u0442\u044D\u043D \u0434\u044D\u043B\u0433\u044D\u0446 \u0446\u0443\u0446\u043B\u0430\u0445",reload:"\u0428\u0438\u043D\u044D\u0447\u043B\u044D\u0445",density:"\u0425\u044D\u043C\u0436\u044D\u044D",densityDefault:"\u0425\u044D\u0432\u0438\u0439\u043D",densityLarger:"\u0422\u043E\u043C",densityMiddle:"\u0414\u0443\u043D\u0434",densitySmall:"\u0416\u0438\u0436\u0438\u0433"},stepsForm:{next:"\u0414\u0430\u0440\u0430\u0430\u0445",prev:"\u04E8\u043C\u043D\u04E9\u0445",submit:"\u0414\u0443\u0443\u0441\u0433\u0430\u0445"},loginForm:{submitText:"\u041D\u044D\u0432\u0442\u0440\u044D\u0445"},editableTable:{action:{save:"\u0425\u0430\u0434\u0433\u0430\u043B\u0430\u0445",cancel:"\u0426\u0443\u0446\u043B\u0430\u0445",delete:"\u0423\u0441\u0442\u0433\u0430\u0445",add:"\u041C\u04E9\u0440 \u043D\u044D\u043C\u044D\u0445"}},switch:{open:"\u041D\u044D\u044D\u0445",close:"\u0425\u0430\u0430\u0445"}},Di={moneySymbol:"RM",form:{lightFilter:{more:"Lebih banyak",clear:"Jelas",confirm:"Mengesahkan",itemUnit:"Item"}},tableForm:{search:"Cari",reset:"Menetapkan semula",submit:"Hantar",collapsed:"Kembang",expand:"Kuncup",inputPlaceholder:"Sila masuk",selectPlaceholder:"Sila pilih"},alert:{clear:"Padam",selected:"Dipilih",item:"Item"},pagination:{total:{range:" ",total:"daripada",item:"item"}},tableToolBar:{leftPin:"Pin ke kiri",rightPin:"Pin ke kanan",noPin:"Tidak pin",leftFixedTitle:"Tetap ke kiri",rightFixedTitle:"Tetap ke kanan",noFixedTitle:"Tidak Tetap",reset:"Menetapkan semula",columnDisplay:"Lajur",columnSetting:"Settings",fullScreen:"Full Screen",exitFullScreen:"Keluar Full Screen",reload:"Muat Semula",density:"Densiti",densityDefault:"Biasa",densityLarger:"Besar",densityMiddle:"Tengah",densitySmall:"Kecil"},stepsForm:{next:"Seterusnya",prev:"Sebelumnya",submit:"Selesai"},loginForm:{submitText:"Log Masuk"},editableTable:{action:{save:"Simpan",cancel:"Membatalkan",delete:"Menghapuskan",add:"tambah baris data"}},switch:{open:"Terbuka",close:"Tutup"}},ni={moneySymbol:"z\u0142",form:{lightFilter:{more:"Wi\u0119cej",clear:"Wyczy\u015B\u0107",confirm:"Potwierd\u017A",itemUnit:"Ilo\u015B\u0107"}},tableForm:{search:"Szukaj",reset:"Reset",submit:"Zatwierd\u017A",collapsed:"Poka\u017C wiecej",expand:"Poka\u017C mniej",inputPlaceholder:"Prosz\u0119 poda\u0107",selectPlaceholder:"Prosz\u0119 wybra\u0107"},alert:{clear:"Wyczy\u015B\u0107",selected:"Wybrane",item:"Wpis"},pagination:{total:{range:" ",total:"z",item:"Wpis\xF3w"}},tableToolBar:{leftPin:"Przypnij do lewej",rightPin:"Przypnij do prawej",noPin:"Odepnij",leftFixedTitle:"Przypi\u0119te do lewej",rightFixedTitle:"Przypi\u0119te do prawej",noFixedTitle:"Nieprzypi\u0119te",reset:"Reset",columnDisplay:"Wy\u015Bwietlane wiersze",columnSetting:"Ustawienia",fullScreen:"Pe\u0142en ekran",exitFullScreen:"Zamknij pe\u0142en ekran",reload:"Od\u015Bwie\u017C",density:"Odst\u0119p",densityDefault:"Standard",densityLarger:"Wiekszy",densityMiddle:"Sredni",densitySmall:"Kompaktowy"},stepsForm:{next:"Weiter",prev:"Zur\xFCck",submit:"Abschlie\xDFen"},loginForm:{submitText:"Zaloguj si\u0119"},editableTable:{action:{save:"Zapisa\u0107",cancel:"Anuluj",delete:"Usun\u0105\u0107",add:"dodawanie wiersza danych"}},switch:{open:"otwiera\u0107",close:"zamyka\u0107"}},Kn={moneySymbol:"R$",form:{lightFilter:{more:"Mais",clear:"Limpar",confirm:"Confirmar",itemUnit:"Itens"}},tableForm:{search:"Filtrar",reset:"Limpar",submit:"Confirmar",collapsed:"Expandir",expand:"Colapsar",inputPlaceholder:"Por favor insira",selectPlaceholder:"Por favor selecione"},alert:{clear:"Limpar",selected:"Selecionado(s)",item:"Item(s)"},pagination:{total:{range:" ",total:"de",item:"itens"}},tableToolBar:{leftPin:"Fixar \xE0 esquerda",rightPin:"Fixar \xE0 direita",noPin:"Desfixado",leftFixedTitle:"Fixado \xE0 esquerda",rightFixedTitle:"Fixado \xE0 direita",noFixedTitle:"N\xE3o fixado",reset:"Limpar",columnDisplay:"Mostrar Coluna",columnSetting:"Configura\xE7\xF5es",fullScreen:"Tela Cheia",exitFullScreen:"Sair da Tela Cheia",reload:"Atualizar",density:"Densidade",densityDefault:"Padr\xE3o",densityLarger:"Largo",densityMiddle:"M\xE9dio",densitySmall:"Compacto"},stepsForm:{next:"Pr\xF3ximo",prev:"Anterior",submit:"Enviar"},loginForm:{submitText:"Entrar"},editableTable:{action:{save:"Salvar",cancel:"Cancelar",delete:"Apagar",add:"adicionar uma linha de dados"}},switch:{open:"abrir",close:"fechar"}},Pi={moneySymbol:"\u20BD",form:{lightFilter:{more:"\u0415\u0449\u0435",clear:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C",confirm:"\u041E\u041A",itemUnit:"\u041F\u043E\u0437\u0438\u0446\u0438\u0438"}},tableForm:{search:"\u041D\u0430\u0439\u0442\u0438",reset:"\u0421\u0431\u0440\u043E\u0441",submit:"\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C",collapsed:"\u0420\u0430\u0437\u0432\u0435\u0440\u043D\u0443\u0442\u044C",expand:"\u0421\u0432\u0435\u0440\u043D\u0443\u0442\u044C",inputPlaceholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435",selectPlaceholder:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"},alert:{clear:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C",selected:"\u0412\u044B\u0431\u0440\u0430\u043D\u043E",item:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},pagination:{total:{range:" ",total:"\u0438\u0437",item:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"}},tableToolBar:{leftPin:"\u0417\u0430\u043A\u0440\u0435\u043F\u0438\u0442\u044C \u0441\u043B\u0435\u0432\u0430",rightPin:"\u0417\u0430\u043A\u0440\u0435\u043F\u0438\u0442\u044C \u0441\u043F\u0440\u0430\u0432\u0430",noPin:"\u041E\u0442\u043A\u0440\u0435\u043F\u0438\u0442\u044C",leftFixedTitle:"\u0417\u0430\u043A\u0440\u0435\u043F\u043B\u0435\u043D\u043E \u0441\u043B\u0435\u0432\u0430",rightFixedTitle:"\u0417\u0430\u043A\u0440\u0435\u043F\u043B\u0435\u043D\u043E \u0441\u043F\u0440\u0430\u0432\u0430",noFixedTitle:"\u041D\u0435 \u0437\u0430\u043A\u0440\u0435\u043F\u043B\u0435\u043D\u043E",reset:"\u0421\u0431\u0440\u043E\u0441",columnDisplay:"\u041E\u0442\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0441\u0442\u043E\u043B\u0431\u0446\u0430",columnSetting:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",fullScreen:"\u041F\u043E\u043B\u043D\u044B\u0439 \u044D\u043A\u0440\u0430\u043D",exitFullScreen:"\u0412\u044B\u0439\u0442\u0438 \u0438\u0437 \u043F\u043E\u043B\u043D\u043E\u044D\u043A\u0440\u0430\u043D\u043D\u043E\u0433\u043E \u0440\u0435\u0436\u0438\u043C\u0430",reload:"\u041E\u0431\u043D\u043E\u0432\u0438\u0442\u044C",density:"\u0420\u0430\u0437\u043C\u0435\u0440",densityDefault:"\u041F\u043E \u0443\u043C\u043E\u043B\u0447\u0430\u043D\u0438\u044E",densityLarger:"\u0411\u043E\u043B\u044C\u0448\u043E\u0439",densityMiddle:"\u0421\u0440\u0435\u0434\u043D\u0438\u0439",densitySmall:"\u0421\u0436\u0430\u0442\u044B\u0439"},stepsForm:{next:"\u0421\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0439",prev:"\u041F\u0440\u0435\u0434\u044B\u0434\u0443\u0449\u0438\u0439",submit:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044C"},loginForm:{submitText:"\u0412\u0445\u043E\u0434"},editableTable:{action:{save:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",cancel:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",delete:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",add:"\u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0440\u044F\u0434 \u0434\u0430\u043D\u043D\u044B\u0445"}},switch:{open:"\u041E\u0442\u043A\u0440\u044B\u0442\u044B\u0439 \u0447\u0435\u043C\u043F\u0438\u043E\u043D\u0430\u0442 \u043C\u0438\u0440\u0430 \u043F\u043E \u0442\u0435\u043D\u043D\u0438\u0441\u0443",close:"\u041F\u043E \u0430\u0434\u0440\u0435\u0441\u0443:"}},Vi={moneySymbol:"RSD",form:{lightFilter:{more:"Vi\u0161e",clear:"O\u010Disti",confirm:"Potvrdi",itemUnit:"Stavke"}},tableForm:{search:"Prona\u0111i",reset:"Resetuj",submit:"Po\u0161alji",collapsed:"Pro\u0161iri",expand:"Skupi",inputPlaceholder:"Molimo unesite",selectPlaceholder:"Molimo odaberite"},alert:{clear:"O\u010Disti",selected:"Odabrano",item:"Stavka"},pagination:{total:{range:" ",total:"od",item:"stavki"}},tableToolBar:{leftPin:"Zaka\u010Di levo",rightPin:"Zaka\u010Di desno",noPin:"Nije zaka\u010Deno",leftFixedTitle:"Fiksirano levo",rightFixedTitle:"Fiksirano desno",noFixedTitle:"Nije fiksirano",reset:"Resetuj",columnDisplay:"Prikaz kolona",columnSetting:"Pode\u0161avanja",fullScreen:"Pun ekran",exitFullScreen:"Zatvori pun ekran",reload:"Osve\u017Ei",density:"Veli\u010Dina",densityDefault:"Podrazumevana",densityLarger:"Ve\u0107a",densityMiddle:"Srednja",densitySmall:"Kompaktna"},stepsForm:{next:"Dalje",prev:"Nazad",submit:"Gotovo"},loginForm:{submitText:"Prijavi se"},editableTable:{action:{save:"Sa\u010Duvaj",cancel:"Poni\u0161ti",delete:"Obri\u0161i",add:"dodajte red podataka"}},switch:{open:"\u041E\u0442\u0432\u043E\u0440\u0438\u0442\u0435",close:"\u0417\u0430\u0442\u0432\u043E\u0440\u0438\u0442\u0435"}},Oi={moneySymbol:"\u20BA",form:{lightFilter:{more:"Daha Fazla",clear:"Temizle",confirm:"Onayla",itemUnit:"\xD6\u011Feler"}},tableForm:{search:"Filtrele",reset:"S\u0131f\u0131rla",submit:"G\xF6nder",collapsed:"Daha fazla",expand:"Daha az",inputPlaceholder:"Filtrelemek i\xE7in bir de\u011Fer girin",selectPlaceholder:"Filtrelemek i\xE7in bir de\u011Fer se\xE7in"},alert:{clear:"Temizle",selected:"Se\xE7ili",item:"\xD6\u011Fe"},pagination:{total:{range:" ",total:"Toplam",item:"\xD6\u011Fe"}},tableToolBar:{leftPin:"Sola sabitle",rightPin:"Sa\u011Fa sabitle",noPin:"Sabitlemeyi kald\u0131r",leftFixedTitle:"Sola sabitlendi",rightFixedTitle:"Sa\u011Fa sabitlendi",noFixedTitle:"Sabitlenmedi",reset:"S\u0131f\u0131rla",columnDisplay:"Kolon G\xF6r\xFCn\xFCm\xFC",columnSetting:"Ayarlar",fullScreen:"Tam Ekran",exitFullScreen:"Tam Ekrandan \xC7\u0131k",reload:"Yenile",density:"Kal\u0131nl\u0131k",densityDefault:"Varsay\u0131lan",densityLarger:"B\xFCy\xFCk",densityMiddle:"Orta",densitySmall:"K\xFC\xE7\xFCk"},stepsForm:{next:"S\u0131radaki",prev:"\xD6nceki",submit:"G\xF6nder"},loginForm:{submitText:"Giri\u015F Yap"},editableTable:{action:{save:"Kaydet",cancel:"Vazge\xE7",delete:"Sil",add:"foegje in rige gegevens ta"}},switch:{open:"a\xE7\u0131k",close:"kapatmak"}},_i={moneySymbol:"\u20AB",form:{lightFilter:{more:"Nhi\u1EC1u h\u01A1n",clear:"Trong",confirm:"X\xE1c nh\u1EADn",itemUnit:"M\u1EE5c"}},tableForm:{search:"T\xECm ki\u1EBFm",reset:"L\xE0m l\u1EA1i",submit:"G\u1EEDi \u0111i",collapsed:"M\u1EDF r\u1ED9ng",expand:"Thu g\u1ECDn",inputPlaceholder:"nh\u1EADp d\u1EEF li\u1EC7u",selectPlaceholder:"Vui l\xF2ng ch\u1ECDn"},alert:{clear:"X\xF3a",selected:"\u0111\xE3 ch\u1ECDn",item:"m\u1EE5c"},pagination:{total:{range:" ",total:"tr\xEAn",item:"m\u1EB7t h\xE0ng"}},tableToolBar:{leftPin:"Ghim tr\xE1i",rightPin:"Ghim ph\u1EA3i",noPin:"B\u1ECF ghim",leftFixedTitle:"C\u1ED1 \u0111\u1ECBnh tr\xE1i",rightFixedTitle:"C\u1ED1 \u0111\u1ECBnh ph\u1EA3i",noFixedTitle:"Ch\u01B0a c\u1ED1 \u0111\u1ECBnh",reset:"L\xE0m l\u1EA1i",columnDisplay:"C\u1ED9t hi\u1EC3n th\u1ECB",columnSetting:"C\u1EA5u h\xECnh",fullScreen:"Ch\u1EBF \u0111\u1ED9 to\xE0n m\xE0n h\xECnh",exitFullScreen:"Tho\xE1t ch\u1EBF \u0111\u1ED9 to\xE0n m\xE0n h\xECnh",reload:"L\xE0m m\u1EDBi",density:"M\u1EADt \u0111\u1ED9 hi\u1EC3n th\u1ECB",densityDefault:"M\u1EB7c \u0111\u1ECBnh",densityLarger:"M\u1EB7c \u0111\u1ECBnh",densityMiddle:"Trung b\xECnh",densitySmall:"Ch\u1EADt"},stepsForm:{next:"Sau",prev:"Tr\u01B0\u1EDBc",submit:"K\u1EBFt th\xFAc"},loginForm:{submitText:"\u0110\u0103ng nh\u1EADp"},editableTable:{action:{save:"C\u1EE9u",cancel:"H\u1EE7y",delete:"X\xF3a",add:"th\xEAm m\u1ED9t h\xE0ng d\u1EEF li\u1EC7u"}},switch:{open:"m\u1EDF",close:"\u0111\xF3ng"}},Ye={moneySymbol:"\uFFE5",deleteThisLine:"\u5220\u9664\u6B64\u884C",copyThisLine:"\u590D\u5236\u6B64\u884C",form:{lightFilter:{more:"\u66F4\u591A\u7B5B\u9009",clear:"\u6E05\u9664",confirm:"\u786E\u8BA4",itemUnit:"\u9879"}},tableForm:{search:"\u67E5\u8BE2",reset:"\u91CD\u7F6E",submit:"\u63D0\u4EA4",collapsed:"\u5C55\u5F00",expand:"\u6536\u8D77",inputPlaceholder:"\u8BF7\u8F93\u5165",selectPlaceholder:"\u8BF7\u9009\u62E9"},alert:{clear:"\u53D6\u6D88\u9009\u62E9",selected:"\u5DF2\u9009\u62E9",item:"\u9879"},pagination:{total:{range:"\u7B2C",total:"\u6761/\u603B\u5171",item:"\u6761"}},tableToolBar:{leftPin:"\u56FA\u5B9A\u5728\u5217\u9996",rightPin:"\u56FA\u5B9A\u5728\u5217\u5C3E",noPin:"\u4E0D\u56FA\u5B9A",leftFixedTitle:"\u56FA\u5B9A\u5728\u5DE6\u4FA7",rightFixedTitle:"\u56FA\u5B9A\u5728\u53F3\u4FA7",noFixedTitle:"\u4E0D\u56FA\u5B9A",reset:"\u91CD\u7F6E",columnDisplay:"\u5217\u5C55\u793A",columnSetting:"\u5217\u8BBE\u7F6E",fullScreen:"\u5168\u5C4F",exitFullScreen:"\u9000\u51FA\u5168\u5C4F",reload:"\u5237\u65B0",density:"\u5BC6\u5EA6",densityDefault:"\u6B63\u5E38",densityLarger:"\u9ED8\u8BA4",densityMiddle:"\u4E2D\u7B49",densitySmall:"\u7D27\u51D1"},stepsForm:{next:"\u4E0B\u4E00\u6B65",prev:"\u4E0A\u4E00\u6B65",submit:"\u63D0\u4EA4"},loginForm:{submitText:"\u767B\u5F55"},editableTable:{onlyOneLineEditor:"\u53EA\u80FD\u540C\u65F6\u7F16\u8F91\u4E00\u884C",action:{save:"\u4FDD\u5B58",cancel:"\u53D6\u6D88",delete:"\u5220\u9664",add:"\u6DFB\u52A0\u4E00\u884C\u6570\u636E"}},switch:{open:"\u6253\u5F00",close:"\u5173\u95ED"}},It={moneySymbol:"NT$",form:{lightFilter:{more:"\u66F4\u591A\u7BE9\u9078",clear:"\u6E05\u9664",confirm:"\u78BA\u8A8D",itemUnit:"\u9805"}},tableForm:{search:"\u67E5\u8A62",reset:"\u91CD\u7F6E",submit:"\u63D0\u4EA4",collapsed:"\u5C55\u958B",expand:"\u6536\u8D77",inputPlaceholder:"\u8ACB\u8F38\u5165",selectPlaceholder:"\u8ACB\u9078\u64C7"},alert:{clear:"\u53D6\u6D88\u9078\u64C7",selected:"\u5DF2\u9078\u64C7",item:"\u9805"},pagination:{total:{range:"\u7B2C",total:"\u689D/\u7E3D\u5171",item:"\u689D"}},tableToolBar:{leftPin:"\u56FA\u5B9A\u5230\u5DE6\u908A",rightPin:"\u56FA\u5B9A\u5230\u53F3\u908A",noPin:"\u4E0D\u56FA\u5B9A",leftFixedTitle:"\u56FA\u5B9A\u5728\u5DE6\u5074",rightFixedTitle:"\u56FA\u5B9A\u5728\u53F3\u5074",noFixedTitle:"\u4E0D\u56FA\u5B9A",reset:"\u91CD\u7F6E",columnDisplay:"\u5217\u5C55\u793A",columnSetting:"\u5217\u8A2D\u7F6E",fullScreen:"\u5168\u5C4F",exitFullScreen:"\u9000\u51FA\u5168\u5C4F",reload:"\u5237\u65B0",density:"\u5BC6\u5EA6",densityDefault:"\u6B63\u5E38",densityLarger:"\u9ED8\u8A8D",densityMiddle:"\u4E2D\u7B49",densitySmall:"\u7DCA\u6E4A"},stepsForm:{next:"\u4E0B\u4E00\u500B",prev:"\u4EE5\u524D\u7684",submit:"\u5B8C\u6210"},loginForm:{submitText:"\u767B\u5165"},editableTable:{action:{save:"\u4FDD\u5B58",cancel:"\u53D6\u6D88",delete:"\u522A\u9664",add:"\u6DFB\u52A0\u4E00\u884C\u6578\u64DA"}},switch:{open:"\u6253\u958B",close:"\u95DC\u9589"}};function cn(Be,ye,Re){var Je=ye.replace(/\[(\d+)\]/g,".$1").split("."),Nt=Be,Ot=Re,Vt=k(Je),an;try{for(Vt.s();!(an=Vt.n()).done;){var yn=an.value;if(Ot=Object(Nt)[yn],Nt=Object(Nt)[yn],Ot===void 0)return Re}}catch(vn){Vt.e(vn)}finally{Vt.f()}return Ot}var on=function(ye,Re){return{getMessage:function(Nt,Ot){return cn(Re,Nt,Ot)||Ot},locale:ye}},bn=on("mn_MN",Si),hi=on("ar_EG",kn),En=on("zh_CN",Ye),Zi=on("en_US",Sn),ri=on("en_GB",Xn),ki=on("vi_VN",_i),ui=on("it_IT",Yn),qi=on("ja_JP",Ci),Xs=on("es_ES",Gn),zs=on("ca_ES",Nn),Ki=on("ru_RU",Pi),Os=on("sr_RS",Vi),ai=on("ms_MY",Di),Jo=on("zh_TW",It),co=on("fr_FR",An),Ks=on("pt_BR",Kn),ts=on("ko_KR",On),bo=on("id_ID",oi),Lo=on("de_DE",xn),Us=on("fa_IR",ti),Rs=on("tr_TR",Oi),Ns=on("pl_PL",ni),Vo=on("hr_",Bi),Po={"mn-MN":bn,"ar-EG":hi,"zh-CN":En,"en-US":Zi,"en-GB":ri,"vi-VN":ki,"it-IT":ui,"ja-JP":qi,"es-ES":Xs,"ca-ES":zs,"ru-RU":Ki,"sr-RS":Os,"ms-MY":ai,"zh-TW":Jo,"fr-FR":co,"pt-BR":Ks,"ko-KR":ts,"id-ID":bo,"de-DE":Lo,"fa-IR":Us,"tr-TR":Rs,"pl-PL":Ns,"hr-HR":Vo},$o=Object.keys(Po),go=se().createContext({intl:(0,m.Z)((0,m.Z)({},En),{},{locale:"default"}),valueTypeMap:{}}),Is=go.Consumer,Go=go.Provider,qo=function(ye){if(!ye)return"zh-CN";var Re=ye.toLocaleLowerCase();return $o.find(function(Je){var Nt=Je.toLocaleLowerCase();return Nt.includes(Re)})},Xi=function(){var ye=Lt(),Re=ye.cache;return(0,re.useEffect)(function(){return function(){Re.clear()}},[]),null},Gs=function(ye){var Re=ye.children,Je=ye.autoClearCache,Nt=Je===void 0?!1:Je,Ot=(0,re.useContext)(_.ZP.ConfigContext),Vt=Ot.locale,an=Vt===void 0?_.ZP:se().Fragment,yn=(0,a.jsx)(Is,{children:function(Hn){var Qn,Zn=Vt==null?void 0:Vt.locale,pi=qo(Zn),Ui=Zn&&((Qn=Hn.intl)===null||Qn===void 0?void 0:Qn.locale)==="default"?Po[pi]:Hn.intl||Po[pi],Wi=Vt===void 0?{locale:ge}:{};return(0,a.jsx)(an,(0,m.Z)((0,m.Z)({},Wi),{},{children:(0,a.jsx)(Go,{value:(0,m.Z)((0,m.Z)({},Hn),{},{intl:Ui||En}),children:(0,a.jsxs)(a.Fragment,{children:[Nt&&(0,a.jsx)(Xi,{}),Re]})})}))}});return Nt?(0,a.jsx)(Jt,{value:{provider:function(){return new Map}},children:yn}):yn};function es(){var Be=useContext(_ConfigProvider.ConfigContext),ye=Be.locale,Re=useContext(go),Je=Re.intl;return Je&&Je.locale!=="default"?Je:ye!=null&&ye.locale?Po[qo(ye.locale)]:En}var va=null,tn=null,G=l(28780);function q(Be,ye){var Re=(0,G.Z)(Be,ye),Je=(0,f.Z)(Re,2),Nt=Je[0],Ot=Je[1];return[Nt,Ot]}var fe=q,p=l(14224),F=typeof p!="undefined"&&p.versions!=null&&p.versions.node!=null,Z=function(){return typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.matchMedia!="undefined"&&!F},de=Z;function pe(Be,ye){var Re=typeof Be.pageName=="string"?Be.title:ye;(0,re.useEffect)(function(){de()&&Re&&(document.title=Re)},[Be.title,Re])}var Ie=pe,st=l(42060),ot=l.n(st),pt=l(57699);function mt(Be){for(var ye=[],Re=0;Re<Be.length;){var Je=Be[Re];if(Je==="*"||Je==="+"||Je==="?"){ye.push({type:"MODIFIER",index:Re,value:Be[Re++]});continue}if(Je==="\\"){ye.push({type:"ESCAPED_CHAR",index:Re++,value:Be[Re++]});continue}if(Je==="{"){ye.push({type:"OPEN",index:Re,value:Be[Re++]});continue}if(Je==="}"){ye.push({type:"CLOSE",index:Re,value:Be[Re++]});continue}if(Je===":"){for(var Nt="",Ot=Re+1;Ot<Be.length;){var Vt=Be.charCodeAt(Ot);if(Vt>=48&&Vt<=57||Vt>=65&&Vt<=90||Vt>=97&&Vt<=122||Vt===95){Nt+=Be[Ot++];continue}break}if(!Nt)throw new TypeError("Missing parameter name at "+Re);ye.push({type:"NAME",index:Re,value:Nt}),Re=Ot;continue}if(Je==="("){var an=1,yn="",Ot=Re+1;if(Be[Ot]==="?")throw new TypeError('Pattern cannot start with "?" at '+Ot);for(;Ot<Be.length;){if(Be[Ot]==="\\"){yn+=Be[Ot++]+Be[Ot++];continue}if(Be[Ot]===")"){if(an--,an===0){Ot++;break}}else if(Be[Ot]==="("&&(an++,Be[Ot+1]!=="?"))throw new TypeError("Capturing groups are not allowed at "+Ot);yn+=Be[Ot++]}if(an)throw new TypeError("Unbalanced pattern at "+Re);if(!yn)throw new TypeError("Missing pattern at "+Re);ye.push({type:"PATTERN",index:Re,value:yn}),Re=Ot;continue}ye.push({type:"CHAR",index:Re,value:Be[Re++]})}return ye.push({type:"END",index:Re,value:""}),ye}function xt(Be,ye){ye===void 0&&(ye={});for(var Re=mt(Be),Je=ye.prefixes,Nt=Je===void 0?"./":Je,Ot="[^"+Wn(ye.delimiter||"/#?")+"]+?",Vt=[],an=0,yn=0,vn="",Hn=function(As){if(yn<Re.length&&Re[yn].type===As)return Re[yn++].value},Qn=function(As){var no=Hn(As);if(no!==void 0)return no;var No=Re[yn],ps=No.type,Fr=No.index;throw new TypeError("Unexpected "+ps+" at "+Fr+", expected "+As)},Zn=function(){for(var As="",no;no=Hn("CHAR")||Hn("ESCAPED_CHAR");)As+=no;return As};yn<Re.length;){var pi=Hn("CHAR"),Ui=Hn("NAME"),Wi=Hn("PATTERN");if(Ui||Wi){var di=pi||"";Nt.indexOf(di)===-1&&(vn+=di,di=""),vn&&(Vt.push(vn),vn=""),Vt.push({name:Ui||an++,prefix:di,suffix:"",pattern:Wi||Ot,modifier:Hn("MODIFIER")||""});continue}var Ni=pi||Hn("ESCAPED_CHAR");if(Ni){vn+=Ni;continue}vn&&(Vt.push(vn),vn="");var ns=Hn("OPEN");if(ns){var di=Zn(),qs=Hn("NAME")||"",Ws=Hn("PATTERN")||"",Ys=Zn();Qn("CLOSE"),Vt.push({name:qs||(Ws?an++:""),pattern:qs&&!Ws?Ot:Ws,prefix:di,suffix:Ys,modifier:Hn("MODIFIER")||""});continue}Qn("END")}return Vt}function ft(Be,ye){return wt(xt(Be,ye),ye)}function wt(Be,ye){ye===void 0&&(ye={});var Re=fi(ye),Je=ye.encode,Nt=Je===void 0?function(yn){return yn}:Je,Ot=ye.validate,Vt=Ot===void 0?!0:Ot,an=Be.map(function(yn){if(typeof yn=="object")return new RegExp("^(?:"+yn.pattern+")$",Re)});return function(yn){for(var vn="",Hn=0;Hn<Be.length;Hn++){var Qn=Be[Hn];if(typeof Qn=="string"){vn+=Qn;continue}var Zn=yn?yn[Qn.name]:void 0,pi=Qn.modifier==="?"||Qn.modifier==="*",Ui=Qn.modifier==="*"||Qn.modifier==="+";if(Array.isArray(Zn)){if(!Ui)throw new TypeError('Expected "'+Qn.name+'" to not repeat, but got an array');if(Zn.length===0){if(pi)continue;throw new TypeError('Expected "'+Qn.name+'" to not be empty')}for(var Wi=0;Wi<Zn.length;Wi++){var di=Nt(Zn[Wi],Qn);if(Vt&&!an[Hn].test(di))throw new TypeError('Expected all "'+Qn.name+'" to match "'+Qn.pattern+'", but got "'+di+'"');vn+=Qn.prefix+di+Qn.suffix}continue}if(typeof Zn=="string"||typeof Zn=="number"){var di=Nt(String(Zn),Qn);if(Vt&&!an[Hn].test(di))throw new TypeError('Expected "'+Qn.name+'" to match "'+Qn.pattern+'", but got "'+di+'"');vn+=Qn.prefix+di+Qn.suffix;continue}if(!pi){var Ni=Ui?"an array":"a string";throw new TypeError('Expected "'+Qn.name+'" to be '+Ni)}}return vn}}function _n(Be,ye){var Re=[],Je=Fs(Be,Re,ye);return $n(Je,Re,ye)}function $n(Be,ye,Re){Re===void 0&&(Re={});var Je=Re.decode,Nt=Je===void 0?function(Ot){return Ot}:Je;return function(Ot){var Vt=Be.exec(Ot);if(!Vt)return!1;for(var an=Vt[0],yn=Vt.index,vn=Object.create(null),Hn=function(Zn){if(Vt[Zn]===void 0)return"continue";var pi=ye[Zn-1];pi.modifier==="*"||pi.modifier==="+"?vn[pi.name]=Vt[Zn].split(pi.prefix+pi.suffix).map(function(Ui){return Nt(Ui,pi)}):vn[pi.name]=Nt(Vt[Zn],pi)},Qn=1;Qn<Vt.length;Qn++)Hn(Qn);return{path:an,index:yn,params:vn}}}function Wn(Be){return Be.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function fi(Be){return Be&&Be.sensitive?"":"i"}function Fi(Be,ye){if(!ye)return Be;var Re=Be.source.match(/\((?!\?)/g);if(Re)for(var Je=0;Je<Re.length;Je++)ye.push({name:Je,prefix:"",suffix:"",modifier:"",pattern:""});return Be}function jt(Be,ye,Re){var Je=Be.map(function(Nt){return Fs(Nt,ye,Re).source});return new RegExp("(?:"+Je.join("|")+")",fi(Re))}function vi(Be,ye,Re){return rs(xt(Be,Re),ye,Re)}function rs(Be,ye,Re){Re===void 0&&(Re={});for(var Je=Re.strict,Nt=Je===void 0?!1:Je,Ot=Re.start,Vt=Ot===void 0?!0:Ot,an=Re.end,yn=an===void 0?!0:an,vn=Re.encode,Hn=vn===void 0?function(As){return As}:vn,Qn="["+Wn(Re.endsWith||"")+"]|$",Zn="["+Wn(Re.delimiter||"/#?")+"]",pi=Vt?"^":"",Ui=0,Wi=Be;Ui<Wi.length;Ui++){var di=Wi[Ui];if(typeof di=="string")pi+=Wn(Hn(di));else{var Ni=Wn(Hn(di.prefix)),ns=Wn(Hn(di.suffix));if(di.pattern)if(ye&&ye.push(di),Ni||ns)if(di.modifier==="+"||di.modifier==="*"){var qs=di.modifier==="*"?"?":"";pi+="(?:"+Ni+"((?:"+di.pattern+")(?:"+ns+Ni+"(?:"+di.pattern+"))*)"+ns+")"+qs}else pi+="(?:"+Ni+"("+di.pattern+")"+ns+")"+di.modifier;else pi+="("+di.pattern+")"+di.modifier;else pi+="(?:"+Ni+ns+")"+di.modifier}}if(yn)Nt||(pi+=Zn+"?"),pi+=Re.endsWith?"(?="+Qn+")":"$";else{var Ws=Be[Be.length-1],Ys=typeof Ws=="string"?Zn.indexOf(Ws[Ws.length-1])>-1:Ws===void 0;Nt||(pi+="(?:"+Zn+"(?="+Qn+"))?"),Ys||(pi+="(?="+Zn+"|"+Qn+")")}return new RegExp(pi,fi(Re))}function Fs(Be,ye,Re){return Be instanceof RegExp?Fi(Be,ye):Array.isArray(Be)?jt(Be,ye,Re):vi(Be,ye,Re)}function Js(Be,ye){return ye>>>Be|ye<<32-Be}function gr(Be,ye,Re){return Be&ye^~Be&Re}function Zo(Be,ye,Re){return Be&ye^Be&Re^ye&Re}function ls(Be){return Js(2,Be)^Js(13,Be)^Js(22,Be)}function zi(Be){return Js(6,Be)^Js(11,Be)^Js(25,Be)}function ks(Be){return Js(7,Be)^Js(18,Be)^Be>>>3}function Ss(Be){return Js(17,Be)^Js(19,Be)^Be>>>10}function Mr(Be,ye){return Be[ye&15]+=Ss(Be[ye+14&15])+Be[ye+9&15]+ks(Be[ye+1&15])}var Io=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],us,uo,xo,Sr="0123456789abcdef";function mr(Be,ye){var Re=(Be&65535)+(ye&65535),Je=(Be>>16)+(ye>>16)+(Re>>16);return Je<<16|Re&65535}function Eo(){us=new Array(8),uo=new Array(2),xo=new Array(64),uo[0]=uo[1]=0,us[0]=1779033703,us[1]=3144134277,us[2]=1013904242,us[3]=2773480762,us[4]=1359893119,us[5]=2600822924,us[6]=528734635,us[7]=1541459225}function xi(){var Be,ye,Re,Je,Nt,Ot,Vt,an,yn,vn,Hn=new Array(16);Be=us[0],ye=us[1],Re=us[2],Je=us[3],Nt=us[4],Ot=us[5],Vt=us[6],an=us[7];for(var Qn=0;Qn<16;Qn++)Hn[Qn]=xo[(Qn<<2)+3]|xo[(Qn<<2)+2]<<8|xo[(Qn<<2)+1]<<16|xo[Qn<<2]<<24;for(var Zn=0;Zn<64;Zn++)yn=an+zi(Nt)+gr(Nt,Ot,Vt)+Io[Zn],Zn<16?yn+=Hn[Zn]:yn+=Mr(Hn,Zn),vn=ls(Be)+Zo(Be,ye,Re),an=Vt,Vt=Ot,Ot=Nt,Nt=mr(Je,yn),Je=Re,Re=ye,ye=Be,Be=mr(yn,vn);us[0]+=Be,us[1]+=ye,us[2]+=Re,us[3]+=Je,us[4]+=Nt,us[5]+=Ot,us[6]+=Vt,us[7]+=an}function nt(Be,ye){var Re,Je,Nt=0;Je=uo[0]>>3&63;var Ot=ye&63;for((uo[0]+=ye<<3)<ye<<3&&uo[1]++,uo[1]+=ye>>29,Re=0;Re+63<ye;Re+=64){for(var Vt=Je;Vt<64;Vt++)xo[Vt]=Be.charCodeAt(Nt++);xi(),Je=0}for(var an=0;an<Ot;an++)xo[an]=Be.charCodeAt(Nt++)}function Ae(){var Be=uo[0]>>3&63;if(xo[Be++]=128,Be<=56)for(var ye=Be;ye<56;ye++)xo[ye]=0;else{for(var Re=Be;Re<64;Re++)xo[Re]=0;xi();for(var Je=0;Je<56;Je++)xo[Je]=0}xo[56]=uo[1]>>>24&255,xo[57]=uo[1]>>>16&255,xo[58]=uo[1]>>>8&255,xo[59]=uo[1]&255,xo[60]=uo[0]>>>24&255,xo[61]=uo[0]>>>16&255,xo[62]=uo[0]>>>8&255,xo[63]=uo[0]&255,xi()}function dt(){for(var Be=0,ye=new Array(32),Re=0;Re<8;Re++)ye[Be++]=us[Re]>>>24&255,ye[Be++]=us[Re]>>>16&255,ye[Be++]=us[Re]>>>8&255,ye[Be++]=us[Re]&255;return ye}function Bt(){for(var Be=new String,ye=0;ye<8;ye++)for(var Re=28;Re>=0;Re-=4)Be+=Sr.charAt(us[ye]>>>Re&15);return Be}function Yt(Be){return Eo(),nt(Be,Be.length),Ae(),Bt()}var ln=Yt;function jn(Be){return jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ye){return typeof ye}:function(ye){return ye&&typeof Symbol=="function"&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye},jn(Be)}var ci=["pro_layout_parentKeys","children","icon","flatMenu","indexRoute","routes"];function Li(Be,ye){return Ls(Be)||Ts(Be,ye)||$a(Be,ye)||is()}function is(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ts(Be,ye){var Re=Be==null?null:typeof Symbol!="undefined"&&Be[Symbol.iterator]||Be["@@iterator"];if(Re!=null){var Je=[],Nt=!0,Ot=!1,Vt,an;try{for(Re=Re.call(Be);!(Nt=(Vt=Re.next()).done)&&(Je.push(Vt.value),!(ye&&Je.length===ye));Nt=!0);}catch(yn){Ot=!0,an=yn}finally{try{!Nt&&Re.return!=null&&Re.return()}finally{if(Ot)throw an}}return Je}}function Ls(Be){if(Array.isArray(Be))return Be}function wo(Be,ye){var Re=typeof Symbol!="undefined"&&Be[Symbol.iterator]||Be["@@iterator"];if(!Re){if(Array.isArray(Be)||(Re=$a(Be))||ye&&Be&&typeof Be.length=="number"){Re&&(Be=Re);var Je=0,Nt=function(){};return{s:Nt,n:function(){return Je>=Be.length?{done:!0}:{done:!1,value:Be[Je++]}},e:function(vn){throw vn},f:Nt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ot=!0,Vt=!1,an;return{s:function(){Re=Re.call(Be)},n:function(){var vn=Re.next();return Ot=vn.done,vn},e:function(vn){Vt=!0,an=vn},f:function(){try{!Ot&&Re.return!=null&&Re.return()}finally{if(Vt)throw an}}}}function Ho(Be,ye){if(!(Be instanceof ye))throw new TypeError("Cannot call a class as a function")}function er(Be,ye){for(var Re=0;Re<ye.length;Re++){var Je=ye[Re];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(Be,Je.key,Je)}}function jl(Be,ye,Re){return ye&&er(Be.prototype,ye),Re&&er(Be,Re),Object.defineProperty(Be,"prototype",{writable:!1}),Be}function Pa(Be,ye){if(typeof ye!="function"&&ye!==null)throw new TypeError("Super expression must either be null or a function");Be.prototype=Object.create(ye&&ye.prototype,{constructor:{value:Be,writable:!0,configurable:!0}}),Object.defineProperty(Be,"prototype",{writable:!1}),ye&&tr(Be,ye)}function so(Be){var ye=Oa();return function(){var Je=ar(Be),Nt;if(ye){var Ot=ar(this).constructor;Nt=Reflect.construct(Je,arguments,Ot)}else Nt=Je.apply(this,arguments);return gs(this,Nt)}}function gs(Be,ye){if(ye&&(jn(ye)==="object"||typeof ye=="function"))return ye;if(ye!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yo(Be)}function Yo(Be){if(Be===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Be}function pr(Be){var ye=typeof Map=="function"?new Map:void 0;return pr=function(Je){if(Je===null||!kr(Je))return Je;if(typeof Je!="function")throw new TypeError("Super expression must either be null or a function");if(typeof ye!="undefined"){if(ye.has(Je))return ye.get(Je);ye.set(Je,Nt)}function Nt(){return sa(Je,arguments,ar(this).constructor)}return Nt.prototype=Object.create(Je.prototype,{constructor:{value:Nt,enumerable:!1,writable:!0,configurable:!0}}),tr(Nt,Je)},pr(Be)}function sa(Be,ye,Re){return Oa()?sa=Reflect.construct.bind():sa=function(Nt,Ot,Vt){var an=[null];an.push.apply(an,Ot);var yn=Function.bind.apply(Nt,an),vn=new yn;return Vt&&tr(vn,Vt.prototype),vn},sa.apply(null,arguments)}function Oa(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Be){return!1}}function kr(Be){return Function.toString.call(Be).indexOf("[native code]")!==-1}function tr(Be,ye){return tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Je,Nt){return Je.__proto__=Nt,Je},tr(Be,ye)}function ar(Be){return ar=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Re){return Re.__proto__||Object.getPrototypeOf(Re)},ar(Be)}function Sl(Be){return El(Be)||Ll(Be)||$a(Be)||wd()}function wd(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $a(Be,ye){if(!!Be){if(typeof Be=="string")return cl(Be,ye);var Re=Object.prototype.toString.call(Be).slice(8,-1);if(Re==="Object"&&Be.constructor&&(Re=Be.constructor.name),Re==="Map"||Re==="Set")return Array.from(Be);if(Re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Re))return cl(Be,ye)}}function Ll(Be){if(typeof Symbol!="undefined"&&Be[Symbol.iterator]!=null||Be["@@iterator"]!=null)return Array.from(Be)}function El(Be){if(Array.isArray(Be))return cl(Be)}function cl(Be,ye){(ye==null||ye>Be.length)&&(ye=Be.length);for(var Re=0,Je=new Array(ye);Re<ye;Re++)Je[Re]=Be[Re];return Je}function Uc(Be,ye){if(Be==null)return{};var Re=Ca(Be,ye),Je,Nt;if(Object.getOwnPropertySymbols){var Ot=Object.getOwnPropertySymbols(Be);for(Nt=0;Nt<Ot.length;Nt++)Je=Ot[Nt],!(ye.indexOf(Je)>=0)&&(!Object.prototype.propertyIsEnumerable.call(Be,Je)||(Re[Je]=Be[Je]))}return Re}function Ca(Be,ye){if(Be==null)return{};var Re={},Je=Object.keys(Be),Nt,Ot;for(Ot=0;Ot<Je.length;Ot++)Nt=Je[Ot],!(ye.indexOf(Nt)>=0)&&(Re[Nt]=Be[Nt]);return Re}function lr(Be,ye){var Re=Object.keys(Be);if(Object.getOwnPropertySymbols){var Je=Object.getOwnPropertySymbols(Be);ye&&(Je=Je.filter(function(Nt){return Object.getOwnPropertyDescriptor(Be,Nt).enumerable})),Re.push.apply(Re,Je)}return Re}function mi(Be){for(var ye=1;ye<arguments.length;ye++){var Re=arguments[ye]!=null?arguments[ye]:{};ye%2?lr(Object(Re),!0).forEach(function(Je){$s(Be,Je,Re[Je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Be,Object.getOwnPropertyDescriptors(Re)):lr(Object(Re)).forEach(function(Je){Object.defineProperty(Be,Je,Object.getOwnPropertyDescriptor(Re,Je))})}return Be}function $s(Be,ye,Re){return ye in Be?Object.defineProperty(Be,ye,{value:Re,enumerable:!0,configurable:!0,writable:!0}):Be[ye]=Re,Be}var xs="routes";function zo(Be){return Be.split("?")[0].split("#")[0]}var oo=function(ye){if(!ye.startsWith("http"))return!1;try{var Re=new URL(ye);return!!Re}catch(Je){return!1}},fc=function(ye){var Re=ye.path;if(!Re||Re==="/")try{return"/".concat(ln(JSON.stringify(ye)))}catch(Je){}return Re&&zo(Re)},Qr=function(ye,Re){var Je=ye.name,Nt=ye.locale;return"locale"in ye&&Nt===!1||!Je?!1:ye.locale||"".concat(Re,".").concat(Je)},Ei=function(){var ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"/";return ye.endsWith("/*")?ye.replace("/*","/"):(ye||Re).startsWith("/")||oo(ye)?ye:"/".concat(Re,"/").concat(ye).replace(/\/\//g,"/").replace(/\/\//g,"/")},Ji=function(ye,Re){var Je=ye.menu,Nt=Je===void 0?{}:Je,Ot=ye.indexRoute,Vt=ye.path,an=Vt===void 0?"":Vt,yn=ye.children||ye[xs],vn=Nt.name,Hn=vn===void 0?ye.name:vn,Qn=Nt.icon,Zn=Qn===void 0?ye.icon:Qn,pi=Nt.hideChildren,Ui=pi===void 0?ye.hideChildren:pi,Wi=Nt.flatMenu,di=Wi===void 0?ye.flatMenu:Wi,Ni=Ot&&Object.keys(Ot).join(",")!=="redirect"?[mi({path:an,menu:Nt},Ot)].concat(yn||[]):yn,ns=mi({},ye);if(Hn&&(ns.name=Hn),Zn&&(ns.icon=Zn),Ni&&Ni.length){if(Ui)return delete ns[xs],delete ns.children,ns;var qs=ro(mi(mi({},Re),{},{data:Ni}),ye);if(di)return qs;ns[xs]=qs}return ns},Cs=function(ye){return Array.isArray(ye)&&ye.length>0};function ro(Be){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{path:"/"},Re=Be.data,Je=Be.formatMessage,Nt=Be.parentName,Ot=Be.locale;return!Re||!Array.isArray(Re)?[]:Re.filter(function(Vt){return Vt?Cs(Vt[xs])||Cs(Vt.children)||Vt.path||Vt.originPath||Vt.layout?!0:(Vt.redirect||Vt.unaccessible,!1):!1}).filter(function(Vt){var an,yn;return(Vt==null||(an=Vt.menu)===null||an===void 0?void 0:an.name)||(Vt==null?void 0:Vt.flatMenu)||(Vt==null||(yn=Vt.menu)===null||yn===void 0?void 0:yn.flatMenu)?!0:Vt.menu!==!1}).map(function(Vt){var an=mi({},Vt);return an.unaccessible&&delete an.name,an.path==="*"&&(an.path="."),an.path==="/*"&&(an.path="."),!an.path&&an.originPath&&(an.path=an.originPath),an}).map(function(){var Vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:"/"},an=Vt.children||Vt[xs],yn=Ei(Vt.path,ye?ye.path:"/"),vn=Vt.name,Hn=Qr(Vt,Nt||"menu"),Qn=Hn!==!1&&Ot!==!1&&Je&&Hn?Je({id:Hn,defaultMessage:vn}):vn,Zn=ye.pro_layout_parentKeys,pi=Zn===void 0?[]:Zn,Ui=ye.children,Wi=ye.icon,di=ye.flatMenu,Ni=ye.indexRoute,ns=ye.routes,qs=Uc(ye,ci),Ws=new Set([].concat(Sl(pi),Sl(Vt.parentKeys||[])));ye.key&&Ws.add(ye.key);var Ys=mi(mi(mi({},qs),{},{menu:void 0},Vt),{},{path:yn,locale:Hn,key:Vt.key||fc(mi(mi({},Vt),{},{path:yn})),pro_layout_parentKeys:Array.from(Ws).filter(function(no){return no&&no!=="/"})});if(Qn?Ys.name=Qn:delete Ys.name,Ys.menu===void 0&&delete Ys.menu,Cs(an)){var As=ro(mi(mi({},Be),{},{data:an,parentName:Hn||""}),Ys);Cs(As)&&(Ys[xs]=As,Ys.children=As)}return Ji(Ys,Be)}).flat(1)}var Do=(0,pt.default)(ro,ot()),js=function Be(){var ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ye.filter(function(Re){return Re&&(Re.name||Cs(Re[xs])||Cs(Re.children))&&!Re.hideInMenu&&!Re.redirect}).map(function(Re){var Je=mi({},Re),Nt=Je.children||Je[xs];if(Cs(Nt)&&!Je.hideChildrenInMenu&&Nt.some(function(an){return an&&!!an.name})){var Ot,Vt=Be(Nt);if(Vt.length)return mi(mi({},Je),{},(Ot={},$s(Ot,xs,Vt),$s(Ot,"children",Vt),Ot))}return mi(mi({},Re),{},$s({},xs,void 0))}).filter(function(Re){return Re})},Oo=function(Be){Pa(Re,Be);var ye=so(Re);function Re(){return Ho(this,Re),ye.apply(this,arguments)}return jl(Re,[{key:"get",value:function(Nt){var Ot;try{var Vt=wo(this.entries()),an;try{for(Vt.s();!(an=Vt.n()).done;){var yn=Li(an.value,2),vn=yn[0],Hn=yn[1],Qn=zo(vn);if(!oo(vn)&&Fs(Qn,[]).test(Nt)){Ot=Hn;break}}}catch(Zn){Vt.e(Zn)}finally{Vt.f()}}catch(Zn){Ot=void 0}return Ot}}]),Re}(pr(Map)),Lr=function(ye){var Re=new Oo,Je=function Nt(Ot,Vt){Ot.forEach(function(an){var yn=an.children||an[xs];Cs(yn)&&Nt(yn,an);var vn=Ei(an.path,Vt?Vt.path:"/");Re.set(zo(vn),an)})};return Je(ye),Re},Ga=(0,pt.default)(Lr,ot()),jc=function Be(){var ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ye.map(function(Re){var Je=Re.children||Re[xs];if(Cs(Je)){var Nt=Be(Je);if(Nt.length)return mi(mi({},Re),{},$s({},xs,Nt))}var Ot=mi({},Re);return delete Ot[xs],delete Ot.children,Ot}).filter(function(Re){return Re})},Kc=function(ye,Re,Je,Nt){var Ot=Do({data:ye,formatMessage:Je,locale:Re}),Vt=Nt?jc(Ot):js(Ot),an=Ga(Ot);return{breadcrumb:an,menuData:Vt}},ba=Kc;function yd(Be,ye){var Re=Object.keys(Be);if(Object.getOwnPropertySymbols){var Je=Object.getOwnPropertySymbols(Be);ye&&(Je=Je.filter(function(Nt){return Object.getOwnPropertyDescriptor(Be,Nt).enumerable})),Re.push.apply(Re,Je)}return Re}function _r(Be){for(var ye=1;ye<arguments.length;ye++){var Re=arguments[ye]!=null?arguments[ye]:{};ye%2?yd(Object(Re),!0).forEach(function(Je){Rr(Be,Je,Re[Je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Be,Object.getOwnPropertyDescriptors(Re)):yd(Object(Re)).forEach(function(Je){Object.defineProperty(Be,Je,Object.getOwnPropertyDescriptor(Re,Je))})}return Be}function Rr(Be,ye,Re){return ye in Be?Object.defineProperty(Be,ye,{value:Re,enumerable:!0,configurable:!0,writable:!0}):Be[ye]=Re,Be}var Sd=function Be(){var ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Re={};return ye.forEach(function(Je){if(!(!Je||!Je.key)){var Nt=Je.children||Je[xs];Re[zo(Je.path||Je.key||"/")]=_r({},Je),Re[Je.key||Je.path||"/"]=_r({},Je),Nt&&(Re=_r(_r({},Re),Be(Nt)))}}),Re},Za=Sd,Kl=function(){var ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Re=arguments.length>1?arguments[1]:void 0,Je=arguments.length>2?arguments[2]:void 0;return ye.filter(function(Nt){if(Nt==="/"&&Re==="/")return!0;if(Nt!=="/"&&Nt!=="/*"&&Nt&&!oo(Nt)){var Ot=zo(Nt);try{if(Je&&Fs("".concat(Ot)).test(Re)||Fs("".concat(Ot),[]).test(Re)||Fs("".concat(Ot,"/(.*)")).test(Re))return!0}catch(Vt){}}return!1}).sort(function(Nt,Ot){return Nt===Re?10:Ot===Re?-10:Nt.substr(1).split("/").length-Ot.substr(1).split("/").length})},Dl=function(ye,Re,Je,Nt){var Ot=Za(Re),Vt=Object.keys(Ot),an=Kl(Vt,ye||"/",Nt);return!an||an.length<1?[]:(Je||(an=[an[an.length-1]]),an.map(function(yn){var vn=Ot[yn]||{pro_layout_parentKeys:"",key:""},Hn=new Map,Qn=(vn.pro_layout_parentKeys||[]).map(function(Zn){return Hn.has(Zn)?null:(Hn.set(Zn,!0),Ot[Zn])}).filter(function(Zn){return Zn});return vn.key&&Qn.push(vn),Qn}).flat(1))},Ld=Dl,$l=l(84875),nr=l.n($l),$c=l(71770);function Ya(Be,ye){return oa(Be)||Xr(Be,ye)||dl(Be,ye)||Qa()}function Qa(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dl(Be,ye){if(!!Be){if(typeof Be=="string")return gc(Be,ye);var Re=Object.prototype.toString.call(Be).slice(8,-1);if(Re==="Object"&&Be.constructor&&(Re=Be.constructor.name),Re==="Map"||Re==="Set")return Array.from(Be);if(Re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Re))return gc(Be,ye)}}function gc(Be,ye){(ye==null||ye>Be.length)&&(ye=Be.length);for(var Re=0,Je=new Array(ye);Re<ye;Re++)Je[Re]=Be[Re];return Je}function Xr(Be,ye){var Re=Be&&(typeof Symbol!="undefined"&&Be[Symbol.iterator]||Be["@@iterator"]);if(Re!=null){var Je=[],Nt=!0,Ot=!1,Vt,an;try{for(Re=Re.call(Be);!(Nt=(Vt=Re.next()).done)&&(Je.push(Vt.value),!(ye&&Je.length===ye));Nt=!0);}catch(yn){Ot=!0,an=yn}finally{try{!Nt&&Re.return!=null&&Re.return()}finally{if(Ot)throw an}}return Je}}function oa(Be){if(Array.isArray(Be))return Be}function wa(Be){var ye=typeof window=="undefined",Re=(0,re.useState)(function(){return ye?!1:window.matchMedia(Be).matches}),Je=Ya(Re,2),Nt=Je[0],Ot=Je[1];return(0,re.useLayoutEffect)(function(){if(!ye){var Vt=window.matchMedia(Be),an=function(vn){return Ot(vn.matches)};return Vt.addListener(an),function(){return Vt.removeListener(an)}}},[Be]),Nt}function Gc(Be,ye){return ul(Be)||Nl(Be,ye)||xl(Be,ye)||ra()}function ra(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xl(Be,ye){if(!!Be){if(typeof Be=="string")return Gl(Be,ye);var Re=Object.prototype.toString.call(Be).slice(8,-1);if(Re==="Object"&&Be.constructor&&(Re=Be.constructor.name),Re==="Map"||Re==="Set")return Array.from(Be);if(Re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Re))return Gl(Be,ye)}}function Gl(Be,ye){(ye==null||ye>Be.length)&&(ye=Be.length);for(var Re=0,Je=new Array(ye);Re<ye;Re++)Je[Re]=Be[Re];return Je}function Nl(Be,ye){var Re=Be&&(typeof Symbol!="undefined"&&Be[Symbol.iterator]||Be["@@iterator"]);if(Re!=null){var Je=[],Nt=!0,Ot=!1,Vt,an;try{for(Re=Re.call(Be);!(Nt=(Vt=Re.next()).done)&&(Je.push(Vt.value),!(ye&&Je.length===ye));Nt=!0);}catch(yn){Ot=!0,an=yn}finally{try{!Nt&&Re.return!=null&&Re.return()}finally{if(Ot)throw an}}return Je}}function ul(Be){if(Array.isArray(Be))return Be}var Jr={xs:{maxWidth:575,matchMedia:"(max-width: 575px)"},sm:{minWidth:576,maxWidth:767,matchMedia:"(min-width: 576px) and (max-width: 767px)"},md:{minWidth:768,maxWidth:991,matchMedia:"(min-width: 768px) and (max-width: 991px)"},lg:{minWidth:992,maxWidth:1199,matchMedia:"(min-width: 992px) and (max-width: 1199px)"},xl:{minWidth:1200,maxWidth:1599,matchMedia:"(min-width: 1200px) and (max-width: 1599px)"},xxl:{minWidth:1600,matchMedia:"(min-width: 1600px)"}},hl=function(){var ye="md";if(typeof window=="undefined")return ye;var Re=Object.keys(Jr).find(function(Je){var Nt=Jr[Je].matchMedia;return!!window.matchMedia(Nt).matches});return ye=Re,ye},ao=function(){var ye=wa(Jr.md.matchMedia),Re=wa(Jr.lg.matchMedia),Je=wa(Jr.xxl.matchMedia),Nt=wa(Jr.xl.matchMedia),Ot=wa(Jr.sm.matchMedia),Vt=wa(Jr.xs.matchMedia),an=(0,re.useState)(hl()),yn=Gc(an,2),vn=yn[0],Hn=yn[1];return(0,re.useEffect)(function(){if(Je){Hn("xxl");return}if(Nt){Hn("xl");return}if(Re){Hn("lg");return}if(ye){Hn("md");return}if(Ot){Hn("sm");return}if(Vt){Hn("xs");return}Hn("md")},[ye,Re,Je,Nt,Ot,Vt]),vn},Zc=ao,ya=l(91190),Il=l.n(ya),aa=l(7098),Zl=l(42194);function Ed(Be){var ye=re.createContext(null);function Re(Nt){var Ot=Be(Nt.initialState);return re.createElement(ye.Provider,{value:Ot},Nt.children)}function Je(){var Nt=re.useContext(ye);if(Nt===null)throw new Error("Component must be wrapped with <Container.Provider>");return Nt}return{Provider:Re,useContainer:Je}}function Dd(Be){return Be.useContainer()}function mc(){var Be=(0,re.useState)([]),ye=(0,f.Z)(Be,2),Re=ye[0],Je=ye[1];return{flatMenuKeys:Re,setFlatMenuKeys:Je}}var xd=Ed(mc),Ar=xd,Fa=l(53498),pc=l(15051),Ba=l(58410),Tl=l(82639),Yc=l(2793),fl=l(94100),Ml=l(52113),Qc=l(83235),Yl=l(82878),Sa=l(43837),_c=function(ye){if(!ye||!ye.startsWith("http"))return!1;try{var Re=new URL(ye);return!!Re}catch(Je){return!1}},Ql=_c;function Nd(Be){return/\w.(png|jpg|jpeg|svg|webp|gif|bmp)$/i.test(Be)}var Xl=Nd,Xa={navTheme:"dark",layout:"side",contentWidth:"Fluid",fixedHeader:!1,fixSiderbar:!1,headerHeight:48,iconfontUrl:"",primaryColor:"#1890ff",splitMenus:!1},Wa=Xa,Er=function Be(ye){return(ye||[]).reduce(function(Re,Je){if(Je.key&&Re.push(Je.key),Je.routes){var Nt=Re.concat(Be(Je.routes)||[]);return Nt}return Re},[])},Xc={daybreak:"#1890ff",dust:"#F5222D",volcano:"#FA541C",sunset:"#FAAD14",cyan:"#13C2C2",green:"#52C41A",geekblue:"#2F54EB",purple:"#722ED1"};function vc(Be){return Be&&Xc[Be]?Xc[Be]:Be}function Ja(Be){return Be.map(function(ye){var Re=ye.children||ye.routes,Je=(0,m.Z)({},ye);if(!Je.name||Je.hideInMenu)return null;if(Je&&(Je==null?void 0:Je.routes)){if(!Je.hideChildrenInMenu&&Re.some(function(Nt){return Nt&&Nt.name&&!Nt.hideInMenu}))return(0,m.Z)((0,m.Z)({},ye),{},{children:Ja(Re),routes:Ja(Re)});delete Je.routes,delete Je.children}return Je}).filter(function(ye){return ye})}var Cc=(0,Yl.Z)({scriptUrl:Wa.iconfontUrl}),ir=function(ye){var Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"icon-";if(typeof ye=="string"&&ye!==""){if(Ql(ye)||Xl(ye))return(0,a.jsx)(Sa.Z,{component:function(){return(0,a.jsx)("img",{src:ye,alt:"icon",className:"ant-pro-sider-menu-icon"})}});if(ye.startsWith(Re))return(0,a.jsx)(Cc,{type:ye})}return ye},Jl=(0,Ml.Z)(function Be(ye){var Re=this;(0,Qc.Z)(this,Be),this.props=void 0,this.getNavMenuItems=function(){var Je=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Nt=arguments.length>1?arguments[1]:void 0;return Je.map(function(Ot){return Re.getSubMenuOrItem(Ot,Nt)}).filter(function(Ot){return Ot})},this.getSubMenuOrItem=function(Je,Nt){var Ot=(Je==null?void 0:Je.children)||(Je==null?void 0:Je.routes);if(Array.isArray(Ot)&&Ot.length>0){var Vt=Re.getIntlName(Je),an=Re.props,yn=an.subMenuItemRender,vn=an.prefixCls,Hn=an.menu,Qn=an.iconPrefixes,Zn=Je.icon?(0,a.jsxs)("span",{className:"".concat(vn,"-menu-item"),title:Vt,children:[!Nt&&ir(Je.icon,Qn),(0,a.jsx)("span",{className:"".concat(vn,"-menu-item-title"),children:Vt})]}):(0,a.jsx)("span",{className:"".concat(vn,"-menu-item"),title:Vt,children:Vt}),pi=yn?yn((0,m.Z)((0,m.Z)({},Je),{},{isUrl:!1}),Zn,Re.props):Zn;return{type:(Hn==null?void 0:Hn.type)==="group"?"group":void 0,label:pi,children:Re.getNavMenuItems(Ot,!0),onTitleClick:Je.onTitleClick,key:Je.key||Je.path}}return{label:Re.getMenuItemPath(Je,Nt),title:Re.getIntlName(Je),key:Je.key||Je.path,disabled:Je.disabled,onClick:function(Wi){var di;Ql(Je==null?void 0:Je.path)&&window.open(Je.path,"_blank"),(di=Je.onTitleClick)===null||di===void 0||di.call(Je,Wi)}}},this.getIntlName=function(Je){var Nt=Je.name,Ot=Je.locale,Vt=Re.props,an=Vt.menu,yn=Vt.formatMessage;return Ot&&(an==null?void 0:an.locale)!==!1?yn==null?void 0:yn({id:Ot,defaultMessage:Nt}):Nt},this.getMenuItemPath=function(Je,Nt){var Ot=Re.conversionPath(Je.path||"/"),Vt=Re.props,an=Vt.location,yn=an===void 0?{pathname:"/"}:an,vn=Vt.isMobile,Hn=Vt.onCollapse,Qn=Vt.menuItemRender,Zn=Vt.iconPrefixes,pi=Re.getIntlName(Je),Ui=Re.props.prefixCls,Wi=Nt?null:ir(Je.icon,Zn),di=Ql(Ot),Ni=(0,a.jsxs)("span",{className:nr()("".concat(Ui,"-menu-item"),(0,W.Z)({},"".concat(Ui,"-menu-item-link"),di)),children:[Wi,(0,a.jsx)("span",{className:"".concat(Ui,"-menu-item-title"),children:pi})]});if(Qn){var ns=(0,m.Z)((0,m.Z)({},Je),{},{isUrl:di,itemPath:Ot,isMobile:vn,replace:Ot===yn.pathname,onClick:function(){di&&window.open(Ot,"_blank"),Hn&&Hn(!0)},children:void 0});return Qn(ns,Ni,Re.props)}return Ni},this.conversionPath=function(Je){return Je&&Je.indexOf("http")===0?Je:"/".concat(Je||"").replace(/\/+/g,"/")},this.props=ye}),Id=function(ye,Re){var Je=Re.layout,Nt=Re.collapsed,Ot={};return ye&&!Nt&&["side","mix"].includes(Je||"mix")&&(Ot={openKeys:ye}),Ot},Td=function(ye){var Re=ye.theme,Je=ye.mode,Nt=ye.className,Ot=ye.handleOpenChange,Vt=ye.style,an=ye.menuData,yn=ye.menu,vn=ye.matchMenuKeys,Hn=ye.iconfontUrl,Qn=ye.collapsed,Zn=ye.selectedKeys,pi=ye.onSelect,Ui=ye.openKeys,Wi=(0,re.useRef)([]),di=Ar.useContainer(),Ni=di.flatMenuKeys,ns=fe(yn==null?void 0:yn.defaultOpenAll),qs=(0,f.Z)(ns,2),Ws=qs[0],Ys=qs[1],As=fe(function(){return yn!=null&&yn.defaultOpenAll?Er(an)||[]:Ui===!1?!1:[]},{value:Ui===!1?void 0:Ui,onChange:Ot}),no=(0,f.Z)(As,2),No=no[0],ps=no[1],Fr=fe([],{value:Zn,onChange:pi?function(ea){pi&&ea&&pi(ea)}:void 0}),Br=(0,f.Z)(Fr,2),qr=Br[0],Nr=Br[1];(0,re.useEffect)(function(){(yn==null?void 0:yn.defaultOpenAll)||Ui===!1||Ni.length||vn&&(ps(vn),Nr(vn))},[vn.join("-")]),(0,re.useEffect)(function(){Hn&&(Cc=(0,Yl.Z)({scriptUrl:Hn}))},[Hn]),(0,re.useEffect)(function(){if(vn.join("-")!==(qr||[]).join("-")&&Nr(vn),!Ws&&Ui!==!1&&vn.join("-")!==(No||[]).join("-")){var ea=vn;(yn==null?void 0:yn.autoClose)===!1&&(ea=Array.from(new Set([].concat((0,fl.Z)(vn),(0,fl.Z)(No||[]))))),ps(ea)}else(yn==null?void 0:yn.ignoreFlatMenu)&&Ws?ps(Er(an)):Ni.length>0&&Ys(!1)},[vn.join("-"),Qn]);var Uo=(0,re.useMemo)(function(){return Id(No,ye)},[No&&No.join(","),ye.layout,ye.collapsed]),Ea=(0,re.useState)(function(){return new Jl(ye)}),ua=(0,f.Z)(Ea,1),Fo=ua[0];if(yn!=null&&yn.loading)return(0,a.jsx)("div",{style:Je!=null&&Je.includes("inline")?{padding:24}:{marginTop:16},children:(0,a.jsx)(Yc.Z,{active:!0,title:!1,paragraph:{rows:Je!=null&&Je.includes("inline")?6:1}})});var Ha=nr()(Nt,{"top-nav-menu":Je==="horizontal"});Fo.props=ye,ye.openKeys===!1&&!ye.handleOpenChange&&(Wi.current=vn);var Ir=ye.postMenuData?ye.postMenuData(an):an;return Ir&&(Ir==null?void 0:Ir.length)<1?null:(0,re.createElement)(pc.Z,(0,m.Z)((0,m.Z)({},Uo),{},{key:"Menu",mode:Je,items:Fo.getNavMenuItems(Ir,!1),inlineIndent:16,defaultOpenKeys:Wi.current,theme:Re,selectedKeys:qr,style:Vt,className:Ha,onOpenChange:ps},ye.menuProps))};Td.defaultProps={postMenuData:function(ye){return ye||[]}};var la=Td,kl=y.Sider,ql=function(ye){return typeof ye=="string"?(0,a.jsx)("img",{src:ye,alt:"logo"}):typeof ye=="function"?ye():ye},bc=function(ye){var Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"menuHeaderRender",Je=ye.logo,Nt=ye.title,Ot=ye.layout,Vt=ye[Re||""];if(Vt===!1)return null;var an=ql(Je),yn=(0,a.jsx)("h1",{children:Nt!=null?Nt:"Ant Design Pro"});return Vt?Vt(an,ye.collapsed?null:yn,ye):Ot==="mix"&&Re==="menuHeaderRender"?null:(0,a.jsxs)("a",{children:[an,ye.collapsed?null:yn]})},Rl=function(ye){return ye?(0,a.jsx)(Ba.Z,{}):(0,a.jsx)(Tl.Z,{})},ut=function(ye){var Re,Je=ye.collapsed,Nt=ye.fixSiderbar,Ot=ye.menuFooterRender,Vt=ye.onCollapse,an=ye.theme,yn=ye.siderWidth,vn=ye.isMobile,Hn=ye.onMenuHeaderClick,Qn=ye.breakpoint,Zn=Qn===void 0?"lg":Qn,pi=ye.style,Ui=ye.layout,Wi=ye.menuExtraRender,di=Wi===void 0?!1:Wi,Ni=ye.collapsedButtonRender,ns=Ni===void 0?Rl:Ni,qs=ye.links,Ws=ye.menuContentRender,Ys=ye.prefixCls,As=ye.onOpenChange,no=ye.headerHeight,No=ye.logoStyle,ps="".concat(Ys,"-sider"),Fr=Ar.useContainer(),Br=Fr.flatMenuKeys,qr=nr()("".concat(ps),(Re={},(0,W.Z)(Re,"".concat(ps,"-fixed"),Nt),(0,W.Z)(Re,"".concat(ps,"-layout-").concat(Ui),Ui&&!vn),(0,W.Z)(Re,"".concat(ps,"-light"),an!=="dark"),Re)),Nr=bc(ye),Uo=di&&di(ye),Ea=Ws!==!1&&Br&&(0,re.createElement)(la,(0,m.Z)((0,m.Z)({},ye),{},{key:"base-menu",mode:"inline",handleOpenChange:As,style:{width:"100%"},className:"".concat(ps,"-menu")})),ua=Ws?Ws(ye,Ea):Ea,Fo=(qs||[]).map(function(Ha,Ir){return{className:"".concat(ps,"-link"),label:Ha,key:Ir}});return ns&&!vn&&Fo.push({className:"".concat(ps,"-collapsed-button"),title:!1,key:"collapsed",onClick:function(){Vt&&Vt(!Je)},label:ns(Je)}),(0,a.jsxs)(a.Fragment,{children:[Nt&&(0,a.jsx)("div",{style:(0,m.Z)({width:Je?48:yn,overflow:"hidden",flex:"0 0 ".concat(Je?48:yn,"px"),maxWidth:Je?48:yn,minWidth:Je?48:yn,transition:"background-color 0.3s, min-width 0.3s, max-width 0.3s cubic-bezier(0.645, 0.045, 0.355, 1)"},pi)}),(0,a.jsxs)(kl,{collapsible:!0,trigger:null,collapsed:Je,breakpoint:Zn===!1?void 0:Zn,onCollapse:function(Ir){vn||Vt==null||Vt(Ir)},collapsedWidth:48,style:(0,m.Z)({overflow:"hidden",paddingTop:Ui==="mix"&&!vn?no:void 0},pi),width:yn,theme:an,className:qr,children:[Nr&&(0,a.jsx)("div",{className:nr()("".concat(ps,"-logo"),(0,W.Z)({},"".concat(ps,"-collapsed"),Je)),onClick:Ui!=="mix"?Hn:void 0,id:"logo",style:No,children:Nr}),Uo&&(0,a.jsx)("div",{className:"".concat(ps,"-extra ").concat(!Nr&&"".concat(ps,"-extra-no-logo")),children:Uo}),(0,a.jsx)("div",{style:{flex:1,overflowY:"auto",overflowX:"hidden"},children:ua}),(0,a.jsx)("div",{className:"".concat(ps,"-links"),children:(0,a.jsx)(pc.Z,{theme:an,inlineIndent:16,className:"".concat(ps,"-link-menu"),selectedKeys:[],openKeys:[],mode:"inline",items:Fo})}),Ot&&(0,a.jsx)("div",{className:nr()("".concat(ps,"-footer"),(0,W.Z)({},"".concat(ps,"-footer-collapsed"),!Je)),children:Ot(ye)})]})]})},i=ut,c=function(ye){var Re=ye.isMobile,Je=ye.menuData,Nt=ye.siderWidth,Ot=ye.collapsed,Vt=ye.onCollapse,an=ye.style,yn=ye.className,vn=ye.hide,Hn=ye.getContainer,Qn=ye.prefixCls,Zn=ye.matchMenuKeys,pi=Ar.useContainer(),Ui=pi.setFlatMenuKeys;(0,re.useEffect)(function(){if(!(!Je||Je.length<1)){var di=Za(Je);Ui(Object.keys(di))}},[Zn.join("-")]),(0,re.useEffect)(function(){Re===!0&&(Vt==null||Vt(!0))},[Re]);var Wi=(0,$c.Z)(ye,["className","style"]);return vn?null:Re?(0,a.jsx)(Zl.Z,{visible:!Ot,placement:"left",className:nr()("".concat(Qn,"-drawer-sider"),yn),onClose:function(){return Vt==null?void 0:Vt(!0)},style:(0,m.Z)({padding:0,height:"100vh"},an),getContainer:Hn,width:Nt,bodyStyle:{height:"100vh",padding:0,display:"flex",flexDirection:"row"},children:(0,a.jsx)(i,(0,m.Z)((0,m.Z)({},Wi),{},{className:nr()("".concat(Qn,"-sider"),yn),collapsed:Re?!1:Ot,splitMenus:!1}))}):(0,a.jsx)(i,(0,m.Z)((0,m.Z)({className:nr()("".concat(Qn,"-sider"),yn)},Wi),{},{style:an}))},v=c,B={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm5.6-532.7c53 0 89 33.8 93 83.4.3 4.2 3.8 7.4 8 7.4h56.7c2.6 0 4.7-2.1 4.7-4.7 0-86.7-68.4-147.4-162.7-147.4C407.4 290 344 364.2 344 486.8v52.3C344 660.8 407.4 734 517.3 734c94 0 162.7-58.8 162.7-141.4 0-2.6-2.1-4.7-4.7-4.7h-56.8c-4.2 0-7.6 3.2-8 7.3-4.2 46.1-40.1 77.8-93 77.8-65.3 0-102.1-47.9-102.1-133.6v-52.6c.1-87 37-135.5 102.2-135.5z"}}]},name:"copyright",theme:"outlined"},U=B,le=l(17536),Ce=function(ye,Re){return re.createElement(le.Z,(0,m.Z)((0,m.Z)({},ye),{},{ref:Re,icon:U}))};Ce.displayName="CopyrightOutlined";var ke=re.forwardRef(Ce),Oe=function(Be){var ye=Be.className,Re=Be.prefixCls,Je=Be.links,Nt=Be.copyright,Ot=Be.style,Vt=(0,re.useContext)(_.ZP.ConfigContext),an=Vt.getPrefixCls(Re||"pro-global-footer");if((Je==null||Je===!1||Array.isArray(Je)&&Je.length===0)&&(Nt==null||Nt===!1))return null;var yn=nr()(an,ye);return(0,a.jsxs)("div",{className:yn,style:Ot,children:[Je&&(0,a.jsx)("div",{className:"".concat(an,"-links"),children:Je.map(function(vn){return(0,a.jsx)("a",{title:vn.key,target:vn.blankTarget?"_blank":"_self",href:vn.href,rel:"noreferrer",children:vn.title},vn.key)})}),Nt&&(0,a.jsx)("div",{className:"".concat(an,"-copyright"),children:Nt})]})},Qe=y.Footer,qe=function(ye){var Re=ye.links,Je=ye.copyright,Nt=ye.style,Ot=ye.className,Vt=ye.prefixCls;return(0,a.jsx)(Qe,{className:Ot,style:(0,m.Z)({padding:0},Nt),children:(0,a.jsx)(Oe,{links:Re,prefixCls:Vt,copyright:Je===!1?null:(0,a.jsxs)(re.Fragment,{children:[(0,a.jsx)(ke,{})," ",Je]})})})},Ct=qe,Dt=l(58809),$t=l.n(Dt),qt=function(ye,Re,Je){if(Je){var Nt=(0,fl.Z)(Je.keys()).find(function(Vt){return $t()(Vt).test(ye)});if(Nt)return Je.get(Nt)}if(Re){var Ot=Object.keys(Re).find(function(Vt){return $t()(Vt).test(ye)});if(Ot)return Re[Ot]}return{path:""}},un=function(ye,Re){var Je=ye.pathname,Nt=Je===void 0?"/":Je,Ot=ye.breadcrumb,Vt=ye.breadcrumbMap,an=ye.formatMessage,yn=ye.title,vn=ye.menu,Hn=vn===void 0?{locale:!1}:vn,Qn=Re?"":yn||"",Zn=qt(Nt,Ot,Vt);if(!Zn)return{title:Qn,id:"",pageName:Qn};var pi=Zn.name;return Hn.locale!==!1&&Zn.locale&&an&&(pi=an({id:Zn.locale||"",defaultMessage:Zn.name})),pi?Re||!yn?{title:pi,id:Zn.locale||"",pageName:pi}:{title:"".concat(pi," - ").concat(yn),id:Zn.locale||"",pageName:pi}:{title:Qn,id:Zn.locale||"",pageName:Qn}},In=function(ye,Re){return un(ye,Re).title},Bn=null,Vn=l(1423),li=l(55859),si=function(ye){var Re=(0,re.useRef)(null);return Re.current=ye,(0,re.useCallback)(function(){for(var Je,Nt=arguments.length,Ot=new Array(Nt),Vt=0;Vt<Nt;Vt++)Ot[Vt]=arguments[Vt];return(Je=Re.current)===null||Je===void 0?void 0:Je.call.apply(Je,[Re].concat(Ot))},[])};function Ri(Be,ye){var Re=si(Be),Je=(0,re.useRef)(),Nt=(0,re.useCallback)(function(){Je.current&&(clearTimeout(Je.current),Je.current=null)},[]),Ot=(0,re.useCallback)((0,M.Z)((0,A.Z)().mark(function Vt(){var an,yn,vn,Hn=arguments;return(0,A.Z)().wrap(function(Zn){for(;;)switch(Zn.prev=Zn.next){case 0:for(an=Hn.length,yn=new Array(an),vn=0;vn<an;vn++)yn[vn]=Hn[vn];if(!(ye===0||ye===void 0)){Zn.next=3;break}return Zn.abrupt("return",Re.apply(void 0,yn));case 3:return Nt(),Zn.abrupt("return",new Promise(function(pi){Je.current=setTimeout((0,M.Z)((0,A.Z)().mark(function Ui(){return(0,A.Z)().wrap(function(di){for(;;)switch(di.prev=di.next){case 0:return di.t0=pi,di.next=3,Re.apply(void 0,yn);case 3:di.t1=di.sent,(0,di.t0)(di.t1);case 5:case"end":return di.stop()}},Ui)})),ye)}));case 5:case"end":return Zn.stop()}},Vt)})),[Re,Nt,ye]);return(0,re.useEffect)(function(){return Nt},[Nt]),{run:Ot,cancel:Nt}}var Ii=Ri,gi=l(91926),bi=["rightContentRender","prefixCls"],ms=function(ye){var Re=ye.rightContentRender,Je=ye.prefixCls,Nt=(0,I.Z)(ye,bi),Ot=(0,re.useState)("auto"),Vt=(0,f.Z)(Ot,2),an=Vt[0],yn=Vt[1],vn=Ii(function(){var Hn=(0,M.Z)((0,A.Z)().mark(function Qn(Zn){return(0,A.Z)().wrap(function(Ui){for(;;)switch(Ui.prev=Ui.next){case 0:yn(Zn);case 1:case"end":return Ui.stop()}},Qn)}));return function(Qn){return Hn.apply(this,arguments)}}(),160);return(0,a.jsx)("div",{className:"".concat(Je,"-right-content"),style:{minWidth:an},children:(0,a.jsx)("div",{style:{paddingRight:8},children:(0,a.jsx)(gi.Z,{onResize:function(Qn){var Zn=Qn.width;vn.run(Zn)},children:Re&&(0,a.jsx)("div",{className:"".concat(Je,"-right-content-resize"),children:Re((0,m.Z)((0,m.Z)({},Nt),{},{rightContentSize:an}))})})})})},Hi=function(ye){var Re=(0,re.useRef)(null),Je=ye.theme,Nt=ye.onMenuHeaderClick,Ot=ye.contentWidth,Vt=ye.rightContentRender,an=ye.className,yn=ye.style,vn=ye.headerContentRender,Hn=ye.layout,Qn="".concat(ye.prefixCls||"ant-pro","-top-nav-header"),Zn=bc((0,m.Z)((0,m.Z)({},ye),{},{collapsed:!1}),Hn==="mix"?"headerTitleRender":void 0),pi=nr()(Qn,an,{light:Je==="light"}),Ui=(0,a.jsx)(la,(0,m.Z)((0,m.Z)({},ye),ye.menuProps)),Wi=vn?vn==null?void 0:vn(ye,Ui):Ui;return(0,a.jsx)("div",{className:pi,style:yn,children:(0,a.jsxs)("div",{ref:Re,className:"".concat(Qn,"-main ").concat(Ot==="Fixed"?"wide":""),children:[Zn&&(0,a.jsx)("div",{className:"".concat(Qn,"-main-left"),onClick:Nt,children:(0,a.jsx)("div",{className:"".concat(Qn,"-logo"),id:"logo",children:Zn},"logo")}),(0,a.jsx)("div",{style:{flex:1},className:"".concat(Qn,"-menu"),children:Wi}),Vt&&(0,a.jsx)(ms,(0,m.Z)({rightContentRender:Vt,prefixCls:Qn},ye))]})})},Bs=Hi,Zs=function(ye,Re){return ye===!1?null:ye?ye(Re,null):Re},yo=function(ye){var Re=ye.isMobile,Je=ye.logo,Nt=ye.collapsed,Ot=ye.onCollapse,Vt=ye.collapsedButtonRender,an=Vt===void 0?Rl:Vt,yn=ye.rightContentRender,vn=ye.menuHeaderRender,Hn=ye.onMenuHeaderClick,Qn=ye.className,Zn=ye.style,pi=ye.layout,Ui=ye.children,Wi=ye.headerTheme,di=Wi===void 0?"dark":Wi,Ni=ye.splitMenus,ns=ye.menuData,qs=ye.prefixCls,Ws=(0,re.useContext)(_.ZP.ConfigContext),Ys=Ws.direction,As="".concat(qs,"-global-header"),no=nr()(Qn,As,(0,W.Z)({},"".concat(As,"-layout-").concat(pi),pi&&di==="dark"));if(pi==="mix"&&!Re&&Ni){var No=(ns||[]).map(function(qr){return(0,m.Z)((0,m.Z)({},qr),{},{children:void 0,routes:void 0})}),ps=Ja(No);return(0,a.jsx)(Bs,(0,m.Z)((0,m.Z)({mode:"horizontal"},ye),{},{splitMenus:!1,menuData:ps,theme:di}))}var Fr=nr()("".concat(As,"-logo"),(0,W.Z)({},"".concat(As,"-logo-rtl"),Ys==="rtl")),Br=(0,a.jsx)("span",{className:Fr,children:(0,a.jsx)("a",{children:ql(Je)})},"logo");return(0,a.jsxs)("div",{className:no,style:(0,m.Z)({},Zn),children:[Re&&Zs(vn,Br),Re&&an&&(0,a.jsx)("span",{className:"".concat(As,"-collapsed-button"),onClick:function(){Ot&&Ot(!Nt)},children:an(Nt)}),pi==="mix"&&!Re&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:Fr,onClick:Hn,children:bc((0,m.Z)((0,m.Z)({},ye),{},{collapsed:!1}),"headerTitleRender")})}),(0,a.jsx)("div",{style:{flex:1},children:Ui}),yn&&yn(ye)]})},Ds=yo,eo=y.Header,ho=function(Be){(0,Vn.Z)(Re,Be);var ye=(0,li.Z)(Re);function Re(){var Je;(0,Qc.Z)(this,Re);for(var Nt=arguments.length,Ot=new Array(Nt),Vt=0;Vt<Nt;Vt++)Ot[Vt]=arguments[Vt];return Je=ye.call.apply(ye,[this].concat(Ot)),Je.renderContent=function(){var an=Je.props,yn=an.isMobile,vn=an.onCollapse,Hn=an.navTheme,Qn=an.layout,Zn=an.headerRender,pi=an.headerContentRender,Ui=Qn==="top",Wi=Ja(Je.props.menuData||[]),di=(0,a.jsx)(Ds,(0,m.Z)((0,m.Z)({onCollapse:vn},Je.props),{},{menuData:Wi,children:pi&&pi(Je.props,null)}));return Ui&&!yn&&(di=(0,a.jsx)(Bs,(0,m.Z)((0,m.Z)({theme:Hn,mode:"horizontal",onCollapse:vn},Je.props),{},{menuData:Wi}))),Zn&&typeof Zn=="function"?Zn(Je.props,di):di},Je}return(0,Ml.Z)(Re,[{key:"render",value:function(){var Nt,Ot=this.props,Vt=Ot.fixedHeader,an=Ot.layout,yn=Ot.className,vn=Ot.style,Hn=Ot.navTheme,Qn=Ot.collapsed,Zn=Ot.siderWidth,pi=Ot.hasSiderMenu,Ui=Ot.isMobile,Wi=Ot.prefixCls,di=Ot.headerHeight,Ni=Vt||an==="mix",ns=an==="top",qs=Ni&&pi&&!ns&&!Ui,Ws=nr()(yn,(Nt={},(0,W.Z)(Nt,"".concat(Wi,"-fixed-header"),Ni),(0,W.Z)(Nt,"".concat(Wi,"-fixed-header-action"),!Qn),(0,W.Z)(Nt,"".concat(Wi,"-top-menu"),ns),(0,W.Z)(Nt,"".concat(Wi,"-header-").concat(Hn),Hn&&an!=="mix"),Nt)),Ys=an!=="mix"&&qs?"calc(100% - ".concat(Qn?48:Zn,"px)"):"100%",As=Ni?0:void 0;return(0,a.jsxs)(a.Fragment,{children:[Ni&&(0,a.jsx)(eo,{style:{height:di,lineHeight:"".concat(di,"px"),background:"transparent"}}),(0,a.jsx)(eo,{style:(0,m.Z)({padding:0,height:di,lineHeight:"".concat(di,"px"),width:Ys,zIndex:an==="mix"?100:19,right:As},vn),className:Ws,children:this.renderContent()})]})}}]),Re}(re.Component),So=ho,Dr={"app.setting.pagestyle":"Page style setting","app.setting.pagestyle.dark":"Dark Menu style","app.setting.pagestyle.light":"Light Menu style","app.setting.pagestyle.realdark":"Dark style (Beta)","app.setting.content-width":"Content Width","app.setting.content-width.fixed":"Fixed","app.setting.content-width.fluid":"Fluid","app.setting.themecolor":"Theme Color","app.setting.themecolor.dust":"Dust Red","app.setting.themecolor.volcano":"Volcano","app.setting.themecolor.sunset":"Sunset Orange","app.setting.themecolor.cyan":"Cyan","app.setting.themecolor.green":"Polar Green","app.setting.themecolor.daybreak":"Daybreak Blue (default)","app.setting.themecolor.geekblue":"Geek Blue","app.setting.themecolor.purple":"Golden Purple","app.setting.navigationmode":"Navigation Mode","app.setting.regionalsettings":"Regional Settings","app.setting.regionalsettings.header":"Header","app.setting.regionalsettings.menu":"Menu","app.setting.regionalsettings.footer":"Footer","app.setting.regionalsettings.menuHeader":"Menu Header","app.setting.sidemenu":"Side Menu Layout","app.setting.topmenu":"Top Menu Layout","app.setting.mixmenu":"Mix Menu Layout","app.setting.splitMenus":"Split Menus","app.setting.fixedheader":"Fixed Header","app.setting.fixedsidebar":"Fixed Sidebar","app.setting.fixedsidebar.hint":"Works on Side Menu Layout","app.setting.hideheader":"Hidden Header when scrolling","app.setting.hideheader.hint":"Works when Hidden Header is enabled","app.setting.othersettings":"Other Settings","app.setting.weakmode":"Weak Mode","app.setting.copy":"Copy Setting","app.setting.loading":"Loading theme","app.setting.copyinfo":"copy success\uFF0Cplease replace defaultSettings in src/models/setting.js","app.setting.production.hint":"Setting panel shows in development environment only, please manually modify"},xr=(0,m.Z)({},Dr),gl={"app.setting.pagestyle":"Impostazioni di stile","app.setting.pagestyle.dark":"Tema scuro","app.setting.pagestyle.light":"Tema chiaro","app.setting.content-width":"Largezza contenuto","app.setting.content-width.fixed":"Fissa","app.setting.content-width.fluid":"Fluida","app.setting.themecolor":"Colore del tema","app.setting.themecolor.dust":"Rosso polvere","app.setting.themecolor.volcano":"Vulcano","app.setting.themecolor.sunset":"Arancione tramonto","app.setting.themecolor.cyan":"Ciano","app.setting.themecolor.green":"Verde polare","app.setting.themecolor.daybreak":"Blu cielo mattutino (default)","app.setting.themecolor.geekblue":"Blu geek","app.setting.themecolor.purple":"Viola dorato","app.setting.navigationmode":"Modalit\xE0 di navigazione","app.setting.sidemenu":"Menu laterale","app.setting.topmenu":"Menu in testata","app.setting.mixmenu":"Menu misto","app.setting.splitMenus":"Menu divisi","app.setting.fixedheader":"Testata fissa","app.setting.fixedsidebar":"Menu laterale fisso","app.setting.fixedsidebar.hint":"Solo se selezionato Menu laterale","app.setting.hideheader":"Nascondi testata durante lo scorrimento","app.setting.hideheader.hint":"Solo se abilitato Nascondi testata durante lo scorrimento","app.setting.othersettings":"Altre impostazioni","app.setting.weakmode":"Inverti colori","app.setting.copy":"Copia impostazioni","app.setting.loading":"Carico tema...","app.setting.copyinfo":"Impostazioni copiate con successo! Incolla il contenuto in config/defaultSettings.js","app.setting.production.hint":"Questo pannello \xE8 visibile solo durante lo sviluppo. Le impostazioni devono poi essere modificate manulamente"},cs=(0,m.Z)({},gl),Jc={"app.setting.pagestyle":"\uC2A4\uD0C0\uC77C \uC124\uC815","app.setting.pagestyle.dark":"\uB2E4\uD06C \uBAA8\uB4DC","app.setting.pagestyle.light":"\uB77C\uC774\uD2B8 \uBAA8\uB4DC","app.setting.content-width":"\uCEE8\uD150\uCE20 \uB108\uBE44","app.setting.content-width.fixed":"\uACE0\uC815","app.setting.content-width.fluid":"\uD750\uB984","app.setting.themecolor":"\uD14C\uB9C8 \uC0C9\uC0C1","app.setting.themecolor.dust":"Dust Red","app.setting.themecolor.volcano":"Volcano","app.setting.themecolor.sunset":"Sunset Orange","app.setting.themecolor.cyan":"Cyan","app.setting.themecolor.green":"Polar Green","app.setting.themecolor.daybreak":"Daybreak Blue (default)","app.setting.themecolor.geekblue":"Geek Blue","app.setting.themecolor.purple":"Golden Purple","app.setting.navigationmode":"\uB124\uBE44\uAC8C\uC774\uC158 \uBAA8\uB4DC","app.setting.regionalsettings":"\uC601\uC5ED\uBCC4 \uC124\uC815","app.setting.regionalsettings.header":"\uD5E4\uB354","app.setting.regionalsettings.menu":"\uBA54\uB274","app.setting.regionalsettings.footer":"\uBC14\uB2E5\uAE00","app.setting.regionalsettings.menuHeader":"\uBA54\uB274 \uD5E4\uB354","app.setting.sidemenu":"\uBA54\uB274 \uC0AC\uC774\uB4DC \uBC30\uCE58","app.setting.topmenu":"\uBA54\uB274 \uC0C1\uB2E8 \uBC30\uCE58","app.setting.mixmenu":"\uD63C\uD569\uD615 \uBC30\uCE58","app.setting.splitMenus":"\uBA54\uB274 \uBD84\uB9AC","app.setting.fixedheader":"\uD5E4\uB354 \uACE0\uC815","app.setting.fixedsidebar":"\uC0AC\uC774\uB4DC\uBC14 \uACE0\uC815","app.setting.fixedsidebar.hint":"'\uBA54\uB274 \uC0AC\uC774\uB4DC \uBC30\uCE58'\uB97C \uC120\uD0DD\uD588\uC744 \uB54C \uB3D9\uC791\uD568","app.setting.hideheader":"\uC2A4\uD06C\uB864 \uC911 \uD5E4\uB354 \uAC10\uCD94\uAE30","app.setting.hideheader.hint":"'\uD5E4\uB354 \uAC10\uCD94\uAE30 \uC635\uC158'\uC744 \uC120\uD0DD\uD588\uC744 \uB54C \uB3D9\uC791\uD568","app.setting.othersettings":"\uB2E4\uB978 \uC124\uC815","app.setting.weakmode":"\uACE0\uB300\uBE44 \uBAA8\uB4DC","app.setting.copy":"\uC124\uC815\uAC12 \uBCF5\uC0AC","app.setting.loading":"\uD14C\uB9C8 \uB85C\uB529 \uC911","app.setting.copyinfo":"\uBCF5\uC0AC \uC131\uACF5. src/models/settings.js\uC5D0 \uC788\uB294 defaultSettings\uB97C \uAD50\uCCB4\uD574 \uC8FC\uC138\uC694.","app.setting.production.hint":"\uC124\uC815 \uD310\uB12C\uC740 \uAC1C\uBC1C \uD658\uACBD\uC5D0\uC11C\uB9CC \uBCF4\uC5EC\uC9D1\uB2C8\uB2E4. \uC9C1\uC811 \uC218\uB3D9\uC73C\uB85C \uBCC0\uACBD\uBC14\uB78D\uB2C8\uB2E4."},oh=(0,m.Z)({},Jc),qc={"app.setting.pagestyle":"\u6574\u4F53\u98CE\u683C\u8BBE\u7F6E","app.setting.pagestyle.dark":"\u6697\u8272\u83DC\u5355\u98CE\u683C","app.setting.pagestyle.light":"\u4EAE\u8272\u83DC\u5355\u98CE\u683C","app.setting.pagestyle.realdark":"\u6697\u8272\u98CE\u683C(\u5B9E\u9A8C\u529F\u80FD)","app.setting.content-width":"\u5185\u5BB9\u533A\u57DF\u5BBD\u5EA6","app.setting.content-width.fixed":"\u5B9A\u5BBD","app.setting.content-width.fluid":"\u6D41\u5F0F","app.setting.themecolor":"\u4E3B\u9898\u8272","app.setting.themecolor.dust":"\u8584\u66AE","app.setting.themecolor.volcano":"\u706B\u5C71","app.setting.themecolor.sunset":"\u65E5\u66AE","app.setting.themecolor.cyan":"\u660E\u9752","app.setting.themecolor.green":"\u6781\u5149\u7EFF","app.setting.themecolor.daybreak":"\u62C2\u6653\u84DD\uFF08\u9ED8\u8BA4\uFF09","app.setting.themecolor.geekblue":"\u6781\u5BA2\u84DD","app.setting.themecolor.purple":"\u9171\u7D2B","app.setting.navigationmode":"\u5BFC\u822A\u6A21\u5F0F","app.setting.regionalsettings":"\u5185\u5BB9\u533A\u57DF","app.setting.regionalsettings.header":"\u9876\u680F","app.setting.regionalsettings.menu":"\u83DC\u5355","app.setting.regionalsettings.footer":"\u9875\u811A","app.setting.regionalsettings.menuHeader":"\u83DC\u5355\u5934","app.setting.sidemenu":"\u4FA7\u8FB9\u83DC\u5355\u5E03\u5C40","app.setting.topmenu":"\u9876\u90E8\u83DC\u5355\u5E03\u5C40","app.setting.mixmenu":"\u6DF7\u5408\u83DC\u5355\u5E03\u5C40","app.setting.splitMenus":"\u81EA\u52A8\u5206\u5272\u83DC\u5355","app.setting.fixedheader":"\u56FA\u5B9A Header","app.setting.fixedsidebar":"\u56FA\u5B9A\u4FA7\u8FB9\u83DC\u5355","app.setting.fixedsidebar.hint":"\u4FA7\u8FB9\u83DC\u5355\u5E03\u5C40\u65F6\u53EF\u914D\u7F6E","app.setting.hideheader":"\u4E0B\u6ED1\u65F6\u9690\u85CF Header","app.setting.hideheader.hint":"\u56FA\u5B9A Header \u65F6\u53EF\u914D\u7F6E","app.setting.othersettings":"\u5176\u4ED6\u8BBE\u7F6E","app.setting.weakmode":"\u8272\u5F31\u6A21\u5F0F","app.setting.copy":"\u62F7\u8D1D\u8BBE\u7F6E","app.setting.loading":"\u6B63\u5728\u52A0\u8F7D\u4E3B\u9898","app.setting.copyinfo":"\u62F7\u8D1D\u6210\u529F\uFF0C\u8BF7\u5230 src/defaultSettings.js \u4E2D\u66FF\u6362\u9ED8\u8BA4\u914D\u7F6E","app.setting.production.hint":"\u914D\u7F6E\u680F\u53EA\u5728\u5F00\u53D1\u73AF\u5883\u7528\u4E8E\u9884\u89C8\uFF0C\u751F\u4EA7\u73AF\u5883\u4E0D\u4F1A\u5C55\u73B0\uFF0C\u8BF7\u62F7\u8D1D\u540E\u624B\u52A8\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6"},gu=(0,m.Z)({},qc),hf={"app.setting.pagestyle":"\u6574\u9AD4\u98A8\u683C\u8A2D\u7F6E","app.setting.pagestyle.dark":"\u6697\u8272\u83DC\u55AE\u98A8\u683C","app.setting.pagestyle.realdark":"\u6697\u8272\u98A8\u683C(\u5B9E\u9A8C\u529F\u80FD)","app.setting.pagestyle.light":"\u4EAE\u8272\u83DC\u55AE\u98A8\u683C","app.setting.content-width":"\u5167\u5BB9\u5340\u57DF\u5BEC\u5EA6","app.setting.content-width.fixed":"\u5B9A\u5BEC","app.setting.content-width.fluid":"\u6D41\u5F0F","app.setting.themecolor":"\u4E3B\u984C\u8272","app.setting.themecolor.dust":"\u8584\u66AE","app.setting.themecolor.volcano":"\u706B\u5C71","app.setting.themecolor.sunset":"\u65E5\u66AE","app.setting.themecolor.cyan":"\u660E\u9752","app.setting.themecolor.green":"\u6975\u5149\u7DA0","app.setting.themecolor.daybreak":"\u62C2\u66C9\u85CD\uFF08\u9ED8\u8A8D\uFF09","app.setting.themecolor.geekblue":"\u6975\u5BA2\u85CD","app.setting.themecolor.purple":"\u91AC\u7D2B","app.setting.navigationmode":"\u5C0E\u822A\u6A21\u5F0F","app.setting.sidemenu":"\u5074\u908A\u83DC\u55AE\u5E03\u5C40","app.setting.topmenu":"\u9802\u90E8\u83DC\u55AE\u5E03\u5C40","app.setting.mixmenu":"\u6DF7\u5408\u83DC\u55AE\u5E03\u5C40","app.setting.splitMenus":"\u81EA\u52A8\u5206\u5272\u83DC\u5355","app.setting.fixedheader":"\u56FA\u5B9A Header","app.setting.fixedsidebar":"\u56FA\u5B9A\u5074\u908A\u83DC\u55AE","app.setting.fixedsidebar.hint":"\u5074\u908A\u83DC\u55AE\u5E03\u5C40\u6642\u53EF\u914D\u7F6E","app.setting.hideheader":"\u4E0B\u6ED1\u6642\u96B1\u85CF Header","app.setting.hideheader.hint":"\u56FA\u5B9A Header \u6642\u53EF\u914D\u7F6E","app.setting.othersettings":"\u5176\u4ED6\u8A2D\u7F6E","app.setting.weakmode":"\u8272\u5F31\u6A21\u5F0F","app.setting.copy":"\u62F7\u8C9D\u8A2D\u7F6E","app.setting.loading":"\u6B63\u5728\u52A0\u8F09\u4E3B\u984C","app.setting.copyinfo":"\u62F7\u8C9D\u6210\u529F\uFF0C\u8ACB\u5230 src/defaultSettings.js \u4E2D\u66FF\u63DB\u9ED8\u8A8D\u914D\u7F6E","app.setting.production.hint":"\u914D\u7F6E\u6B04\u53EA\u5728\u958B\u767C\u74B0\u5883\u7528\u65BC\u9810\u89BD\uFF0C\u751F\u7522\u74B0\u5883\u4E0D\u6703\u5C55\u73FE\uFF0C\u8ACB\u62F7\u8C9D\u5F8C\u624B\u52D5\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6"},ff=(0,m.Z)({},hf),qa={"zh-CN":gu,"zh-TW":ff,"en-US":xr,"it-IT":cs,"ko-KR":oh},ec=function(){if(!de())return"zh-CN";var ye=window.localStorage.getItem("umi_locale");return ye||window.g_locale||navigator.language},ed=function(){var ye=ec();return qa[ye]||qa["zh-CN"]},ml=l(7361),gf=function(ye){var Re=["sidemenu","topmenu"];return Re.includes(ye)?ye==null?void 0:ye.replace("menu",""):ye},Md=gf;function rh(Be){if(!Be||Be==="/")return["/"];var ye=Be.split("/").filter(function(Re){return Re});return ye.map(function(Re,Je){return"/".concat(ye.slice(0,Je+1).join("/"))})}var tc=function(ye){var Re=ye.breadcrumbName,Je=ye.path;return(0,a.jsx)("a",{href:Je,children:Re})},mu=function(ye,Re){var Je=Re.formatMessage,Nt=Re.menu;return ye.locale&&Je&&(Nt==null?void 0:Nt.locale)!==!1?Je({id:ye.locale,defaultMessage:ye.name}):ye.name},pl=function(ye,Re){var Je=ye.get(Re);if(!Je){var Nt=Array.from(ye.keys())||[],Ot=Nt.find(function(Vt){return $t()(Vt.replace("?","")).test(Re)});Ot&&(Je=ye.get(Ot))}return Je||{path:""}},el=function(ye){var Re=ye.location,Je=ye.breadcrumbMap;return{location:Re,breadcrumbMap:Je}},Al=function(ye,Re,Je){var Nt=rh(ye==null?void 0:ye.pathname),Ot=Nt.map(function(Vt){var an=pl(Re,Vt),yn=mu(an,Je),vn=an.hideInBreadcrumb;return yn&&!vn?{path:Vt,breadcrumbName:yn,component:an.component}:{path:"",breadcrumbName:""}}).filter(function(Vt){return Vt&&Vt.path});return Ot},ah=function(ye){var Re=el(ye),Je=Re.location,Nt=Re.breadcrumbMap;return Je&&Je.pathname&&Nt?Al(Je,Nt,ye):[]},Pl=function(ye,Re){var Je=ye.breadcrumbRender,Nt=ye.itemRender,Ot=Re.breadcrumbProps||{},Vt=Ot.minLength,an=Vt===void 0?2:Vt,yn=ah(ye),vn=Nt||tc,Hn=yn;return Je&&(Hn=Je(Hn)||[]),(Hn&&Hn.length<an||Je===!1)&&(Hn=void 0),{routes:Hn,itemRender:vn}};function pu(Be){return(0,fl.Z)(Be).reduce(function(ye,Re){var Je=(0,f.Z)(Re,2),Nt=Je[0],Ot=Je[1];return ye[Nt]=Ot,ye},{})}var wc=function Be(ye,Re,Je,Nt){var Ot=ba(ye,(Re==null?void 0:Re.locale)||!1,Je,!0),Vt=Ot.menuData,an=Ot.breadcrumb;return Nt?Be(Nt(Vt),Re,Je,void 0):{breadcrumb:pu(an),breadcrumbMap:an,menuData:Vt}},_u=wc,td=l(54465),ca=function(ye){var Re={};if(Object.keys(ye||{}).forEach(function(Je){ye[Je]!==void 0&&(Re[Je]=ye[Je])}),!(Object.keys(Re).length<1))return Re},nd=ca,vu=function(ye){var Re=(0,re.useState)({}),Je=(0,f.Z)(Re,2),Nt=Je[0],Ot=Je[1];return(0,re.useEffect)(function(){Ot(nd({layout:(0,td.Z)(ye.layout)!=="object"?ye.layout:void 0,navTheme:ye.navTheme,menuRender:ye.menuRender,footerRender:ye.footerRender,menuHeaderRender:ye.menuHeaderRender,headerRender:ye.headerRender,fixSiderbar:ye.fixSiderbar,headerTheme:ye.headerTheme}))},[ye.layout,ye.navTheme,ye.menuRender,ye.footerRender,ye.menuHeaderRender,ye.headerRender,ye.fixSiderbar,ye.headerTheme]),Nt},lh=vu,Cu=l(85926),id=l(58849),yc=l(176),Sc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zM480 416c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v184c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V416zm32 352a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"warning",theme:"filled"},Va=Sc,bu=function(ye,Re){return re.createElement(le.Z,(0,m.Z)((0,m.Z)({},ye),{},{ref:Re,icon:Va}))};bu.displayName="WarningFilled";var wu=re.forwardRef(bu),yu=l(47295),Su=function(){return re.createElement("svg",{width:"252",height:"294"},re.createElement("defs",null,re.createElement("path",{d:"M0 .387h251.772v251.772H0z"})),re.createElement("g",{fill:"none",fillRule:"evenodd"},re.createElement("g",{transform:"translate(0 .012)"},re.createElement("mask",{fill:"#fff"}),re.createElement("path",{d:"M0 127.32v-2.095C0 56.279 55.892.387 124.838.387h2.096c68.946 0 124.838 55.892 124.838 124.838v2.096c0 68.946-55.892 124.838-124.838 124.838h-2.096C55.892 252.16 0 196.267 0 127.321",fill:"#E4EBF7",mask:"url(#b)"})),re.createElement("path",{d:"M39.755 130.84a8.276 8.276 0 1 1-16.468-1.66 8.276 8.276 0 0 1 16.468 1.66",fill:"#FFF"}),re.createElement("path",{d:"M36.975 134.297l10.482 5.943M48.373 146.508l-12.648 10.788",stroke:"#FFF",strokeWidth:"2"}),re.createElement("path",{d:"M39.875 159.352a5.667 5.667 0 1 1-11.277-1.136 5.667 5.667 0 0 1 11.277 1.136M57.588 143.247a5.708 5.708 0 1 1-11.358-1.145 5.708 5.708 0 0 1 11.358 1.145M99.018 26.875l29.82-.014a4.587 4.587 0 1 0-.003-9.175l-29.82.013a4.587 4.587 0 1 0 .003 9.176M110.424 45.211l29.82-.013a4.588 4.588 0 0 0-.004-9.175l-29.82.013a4.587 4.587 0 1 0 .004 9.175",fill:"#FFF"}),re.createElement("path",{d:"M112.798 26.861v-.002l15.784-.006a4.588 4.588 0 1 0 .003 9.175l-15.783.007v-.002a4.586 4.586 0 0 0-.004-9.172M184.523 135.668c-.553 5.485-5.447 9.483-10.931 8.93-5.485-.553-9.483-5.448-8.93-10.932.552-5.485 5.447-9.483 10.932-8.93 5.485.553 9.483 5.447 8.93 10.932",fill:"#FFF"}),re.createElement("path",{d:"M179.26 141.75l12.64 7.167M193.006 156.477l-15.255 13.011",stroke:"#FFF",strokeWidth:"2"}),re.createElement("path",{d:"M184.668 170.057a6.835 6.835 0 1 1-13.6-1.372 6.835 6.835 0 0 1 13.6 1.372M203.34 153.325a6.885 6.885 0 1 1-13.7-1.382 6.885 6.885 0 0 1 13.7 1.382",fill:"#FFF"}),re.createElement("path",{d:"M151.931 192.324a2.222 2.222 0 1 1-4.444 0 2.222 2.222 0 0 1 4.444 0zM225.27 116.056a2.222 2.222 0 1 1-4.445 0 2.222 2.222 0 0 1 4.444 0zM216.38 151.08a2.223 2.223 0 1 1-4.446-.001 2.223 2.223 0 0 1 4.446 0zM176.917 107.636a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM195.291 92.165a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM202.058 180.711a2.223 2.223 0 1 1-4.446 0 2.223 2.223 0 0 1 4.446 0z",stroke:"#FFF",strokeWidth:"2"}),re.createElement("path",{stroke:"#FFF",strokeWidth:"2",d:"M214.404 153.302l-1.912 20.184-10.928 5.99M173.661 174.792l-6.356 9.814h-11.36l-4.508 6.484M174.941 125.168v-15.804M220.824 117.25l-12.84 7.901-15.31-7.902V94.39"}),re.createElement("path",{d:"M166.588 65.936h-3.951a4.756 4.756 0 0 1-4.743-4.742 4.756 4.756 0 0 1 4.743-4.743h3.951a4.756 4.756 0 0 1 4.743 4.743 4.756 4.756 0 0 1-4.743 4.742",fill:"#FFF"}),re.createElement("path",{d:"M174.823 30.03c0-16.281 13.198-29.48 29.48-29.48 16.28 0 29.48 13.199 29.48 29.48 0 16.28-13.2 29.48-29.48 29.48-16.282 0-29.48-13.2-29.48-29.48",fill:"#1890FF"}),re.createElement("path",{d:"M205.952 38.387c.5.5.785 1.142.785 1.928s-.286 1.465-.785 1.964c-.572.5-1.214.75-2 .75-.785 0-1.429-.285-1.929-.785-.572-.5-.82-1.143-.82-1.929s.248-1.428.82-1.928c.5-.5 1.144-.75 1.93-.75.785 0 1.462.25 1.999.75m4.285-19.463c1.428 1.249 2.143 2.963 2.143 5.142 0 1.712-.427 3.13-1.219 4.25-.067.096-.137.18-.218.265-.416.429-1.41 1.346-2.956 2.699a5.07 5.07 0 0 0-1.428 1.75 5.207 5.207 0 0 0-.536 2.357v.5h-4.107v-.5c0-1.357.215-2.536.714-3.5.464-.964 1.857-2.464 4.178-4.536l.43-.5c.643-.785.964-1.643.964-2.535 0-1.18-.358-2.108-1-2.785-.678-.68-1.643-1.001-2.858-1.001-1.536 0-2.642.464-3.357 1.43-.37.5-.621 1.135-.76 1.904a1.999 1.999 0 0 1-1.971 1.63h-.004c-1.277 0-2.257-1.183-1.98-2.43.337-1.518 1.02-2.78 2.073-3.784 1.536-1.5 3.607-2.25 6.25-2.25 2.32 0 4.214.607 5.642 1.894",fill:"#FFF"}),re.createElement("path",{d:"M52.04 76.131s21.81 5.36 27.307 15.945c5.575 10.74-6.352 9.26-15.73 4.935-10.86-5.008-24.7-11.822-11.577-20.88",fill:"#FFB594"}),re.createElement("path",{d:"M90.483 67.504l-.449 2.893c-.753.49-4.748-2.663-4.748-2.663l-1.645.748-1.346-5.684s6.815-4.589 8.917-5.018c2.452-.501 9.884.94 10.7 2.278 0 0 1.32.486-2.227.69-3.548.203-5.043.447-6.79 3.132-1.747 2.686-2.412 3.624-2.412 3.624",fill:"#FFC6A0"}),re.createElement("path",{d:"M128.055 111.367c-2.627-7.724-6.15-13.18-8.917-15.478-3.5-2.906-9.34-2.225-11.366-4.187-1.27-1.231-3.215-1.197-3.215-1.197s-14.98-3.158-16.828-3.479c-2.37-.41-2.124-.714-6.054-1.405-1.57-1.907-2.917-1.122-2.917-1.122l-7.11-1.383c-.853-1.472-2.423-1.023-2.423-1.023l-2.468-.897c-1.645 9.976-7.74 13.796-7.74 13.796 1.795 1.122 15.703 8.3 15.703 8.3l5.107 37.11s-3.321 5.694 1.346 9.109c0 0 19.883-3.743 34.921-.329 0 0 3.047-2.546.972-8.806.523-3.01 1.394-8.263 1.736-11.622.385.772 2.019 1.918 3.14 3.477 0 0 9.407-7.365 11.052-14.012-.832-.723-1.598-1.585-2.267-2.453-.567-.736-.358-2.056-.765-2.717-.669-1.084-1.804-1.378-1.907-1.682",fill:"#FFF"}),re.createElement("path",{d:"M101.09 289.998s4.295 2.041 7.354 1.021c2.821-.94 4.53.668 7.08 1.178 2.55.51 6.874 1.1 11.686-1.26-.103-5.51-6.889-3.98-11.96-6.713-2.563-1.38-3.784-4.722-3.598-8.799h-9.402s-1.392 10.52-1.16 14.573",fill:"#CBD1D1"}),re.createElement("path",{d:"M101.067 289.826s2.428 1.271 6.759.653c3.058-.437 3.712.481 7.423 1.031 3.712.55 10.724-.069 11.823-.894.413 1.1-.343 2.063-.343 2.063s-1.512.603-4.812.824c-2.03.136-5.8.291-7.607-.503-1.787-1.375-5.247-1.903-5.728-.241-3.918.95-7.355-.286-7.355-.286l-.16-2.647z",fill:"#2B0849"}),re.createElement("path",{d:"M108.341 276.044h3.094s-.103 6.702 4.536 8.558c-4.64.618-8.558-2.303-7.63-8.558",fill:"#A4AABA"}),re.createElement("path",{d:"M57.542 272.401s-2.107 7.416-4.485 12.306c-1.798 3.695-4.225 7.492 5.465 7.492 6.648 0 8.953-.48 7.423-6.599-1.53-6.12.266-13.199.266-13.199h-8.669z",fill:"#CBD1D1"}),re.createElement("path",{d:"M51.476 289.793s2.097 1.169 6.633 1.169c6.083 0 8.249-1.65 8.249-1.65s.602 1.114-.619 2.165c-.993.855-3.597 1.591-7.39 1.546-4.145-.048-5.832-.566-6.736-1.168-.825-.55-.687-1.58-.137-2.062",fill:"#2B0849"}),re.createElement("path",{d:"M58.419 274.304s.033 1.519-.314 2.93c-.349 1.42-1.078 3.104-1.13 4.139-.058 1.151 4.537 1.58 5.155.034.62-1.547 1.294-6.427 1.913-7.252.619-.825-4.903-2.119-5.624.15",fill:"#A4AABA"}),re.createElement("path",{d:"M99.66 278.514l13.378.092s1.298-54.52 1.853-64.403c.554-9.882 3.776-43.364 1.002-63.128l-12.547-.644-22.849.78s-.434 3.966-1.195 9.976c-.063.496-.682.843-.749 1.365-.075.585.423 1.354.32 1.966-2.364 14.08-6.377 33.104-8.744 46.677-.116.666-1.234 1.009-1.458 2.691-.04.302.211 1.525.112 1.795-6.873 18.744-10.949 47.842-14.277 61.885l14.607-.014s2.197-8.57 4.03-16.97c2.811-12.886 23.111-85.01 23.111-85.01l3.016-.521 1.043 46.35s-.224 1.234.337 2.02c.56.785-.56 1.123-.392 2.244l.392 1.794s-.449 7.178-.898 11.89c-.448 4.71-.092 39.165-.092 39.165",fill:"#7BB2F9"}),re.createElement("path",{d:"M76.085 221.626c1.153.094 4.038-2.019 6.955-4.935M106.36 225.142s2.774-1.11 6.103-3.883",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M107.275 222.1s2.773-1.11 6.102-3.884",stroke:"#648BD8",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M74.74 224.767s2.622-.591 6.505-3.365M86.03 151.634c-.27 3.106.3 8.525-4.336 9.123M103.625 149.88s.11 14.012-1.293 15.065c-2.219 1.664-2.99 1.944-2.99 1.944M99.79 150.438s.035 12.88-1.196 24.377M93.673 175.911s7.212-1.664 9.431-1.664M74.31 205.861a212.013 212.013 0 0 1-.979 4.56s-1.458 1.832-1.009 3.776c.449 1.944-.947 2.045-4.985 15.355-1.696 5.59-4.49 18.591-6.348 27.597l-.231 1.12M75.689 197.807a320.934 320.934 0 0 1-.882 4.754M82.591 152.233L81.395 162.7s-1.097.15-.5 2.244c.113 1.346-2.674 15.775-5.18 30.43M56.12 274.418h13.31",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M116.241 148.22s-17.047-3.104-35.893.2c.158 2.514-.003 4.15-.003 4.15s14.687-2.818 35.67-.312c.252-2.355.226-4.038.226-4.038",fill:"#192064"}),re.createElement("path",{d:"M106.322 151.165l.003-4.911a.81.81 0 0 0-.778-.815c-2.44-.091-5.066-.108-7.836-.014a.818.818 0 0 0-.789.815l-.003 4.906a.81.81 0 0 0 .831.813c2.385-.06 4.973-.064 7.73.017a.815.815 0 0 0 .842-.81",fill:"#FFF"}),re.createElement("path",{d:"M105.207 150.233l.002-3.076a.642.642 0 0 0-.619-.646 94.321 94.321 0 0 0-5.866-.01.65.65 0 0 0-.63.647v3.072a.64.64 0 0 0 .654.644 121.12 121.12 0 0 1 5.794.011c.362.01.665-.28.665-.642",fill:"#192064"}),re.createElement("path",{d:"M100.263 275.415h12.338M101.436 270.53c.006 3.387.042 5.79.111 6.506M101.451 264.548a915.75 915.75 0 0 0-.015 4.337M100.986 174.965l.898 44.642s.673 1.57-.225 2.692c-.897 1.122 2.468.673.898 2.243-1.57 1.57.897 1.122 0 3.365-.596 1.489-.994 21.1-1.096 35.146",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M46.876 83.427s-.516 6.045 7.223 5.552c11.2-.712 9.218-9.345 31.54-21.655-.786-2.708-2.447-4.744-2.447-4.744s-11.068 3.11-22.584 8.046c-6.766 2.9-13.395 6.352-13.732 12.801M104.46 91.057l.941-5.372-8.884-11.43-5.037 5.372-1.74 7.834a.321.321 0 0 0 .108.32c.965.8 6.5 5.013 14.347 3.544a.332.332 0 0 0 .264-.268",fill:"#FFC6A0"}),re.createElement("path",{d:"M93.942 79.387s-4.533-2.853-2.432-6.855c1.623-3.09 4.513 1.133 4.513 1.133s.52-3.642 3.121-3.642c.52-1.04 1.561-4.162 1.561-4.162s11.445 2.601 13.526 3.121c0 5.203-2.304 19.424-7.84 19.861-8.892.703-12.449-9.456-12.449-9.456",fill:"#FFC6A0"}),re.createElement("path",{d:"M113.874 73.446c2.601-2.081 3.47-9.722 3.47-9.722s-2.479-.49-6.64-2.05c-4.683-2.081-12.798-4.747-17.48.976-9.668 3.223-2.05 19.823-2.05 19.823l2.713-3.021s-3.935-3.287-2.08-6.243c2.17-3.462 3.92 1.073 3.92 1.073s.637-2.387 3.581-3.342c.355-.71 1.036-2.674 1.432-3.85a1.073 1.073 0 0 1 1.263-.704c2.4.558 8.677 2.019 11.356 2.662.522.125.871.615.82 1.15l-.305 3.248z",fill:"#520038"}),re.createElement("path",{d:"M104.977 76.064c-.103.61-.582 1.038-1.07.956-.489-.083-.801-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.644.698 1.254M112.132 77.694c-.103.61-.582 1.038-1.07.956-.488-.083-.8-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.643.698 1.254",fill:"#552950"}),re.createElement("path",{stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round",d:"M110.13 74.84l-.896 1.61-.298 4.357h-2.228"}),re.createElement("path",{d:"M110.846 74.481s1.79-.716 2.506.537",stroke:"#5C2552",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M92.386 74.282s.477-1.114 1.113-.716c.637.398 1.274 1.433.558 1.99-.717.556.159 1.67.159 1.67",stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M103.287 72.93s1.83 1.113 4.137.954",stroke:"#5C2552",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M103.685 81.762s2.227 1.193 4.376 1.193M104.64 84.308s.954.398 1.511.318M94.693 81.205s2.308 7.4 10.424 7.639",stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M81.45 89.384s.45 5.647-4.935 12.787M69 82.654s-.726 9.282-8.204 14.206",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M129.405 122.865s-5.272 7.403-9.422 10.768",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M119.306 107.329s.452 4.366-2.127 32.062",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M150.028 151.232h-49.837a1.01 1.01 0 0 1-1.01-1.01v-31.688c0-.557.452-1.01 1.01-1.01h49.837c.558 0 1.01.453 1.01 1.01v31.688a1.01 1.01 0 0 1-1.01 1.01",fill:"#F2D7AD"}),re.createElement("path",{d:"M150.29 151.232h-19.863v-33.707h20.784v32.786a.92.92 0 0 1-.92.92",fill:"#F4D19D"}),re.createElement("path",{d:"M123.554 127.896H92.917a.518.518 0 0 1-.425-.816l6.38-9.113c.193-.277.51-.442.85-.442h31.092l-7.26 10.371z",fill:"#F2D7AD"}),re.createElement("path",{fill:"#CC9B6E",d:"M123.689 128.447H99.25v-.519h24.169l7.183-10.26.424.298z"}),re.createElement("path",{d:"M158.298 127.896h-18.669a2.073 2.073 0 0 1-1.659-.83l-7.156-9.541h19.965c.49 0 .95.23 1.244.622l6.69 8.92a.519.519 0 0 1-.415.83",fill:"#F4D19D"}),re.createElement("path",{fill:"#CC9B6E",d:"M157.847 128.479h-19.384l-7.857-10.475.415-.31 7.7 10.266h19.126zM130.554 150.685l-.032-8.177.519-.002.032 8.177z"}),re.createElement("path",{fill:"#CC9B6E",d:"M130.511 139.783l-.08-21.414.519-.002.08 21.414zM111.876 140.932l-.498-.143 1.479-5.167.498.143zM108.437 141.06l-2.679-2.935 2.665-3.434.41.318-2.397 3.089 2.384 2.612zM116.607 141.06l-.383-.35 2.383-2.612-2.397-3.089.41-.318 2.665 3.434z"}),re.createElement("path",{d:"M154.316 131.892l-3.114-1.96.038 3.514-1.043.092c-1.682.115-3.634.23-4.789.23-1.902 0-2.693 2.258 2.23 2.648l-2.645-.596s-2.168 1.317.504 2.3c0 0-1.58 1.217.561 2.58-.584 3.504 5.247 4.058 7.122 3.59 1.876-.47 4.233-2.359 4.487-5.16.28-3.085-.89-5.432-3.35-7.238",fill:"#FFC6A0"}),re.createElement("path",{d:"M153.686 133.577s-6.522.47-8.36.372c-1.836-.098-1.904 2.19 2.359 2.264 3.739.15 5.451-.044 5.451-.044",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M145.16 135.877c-1.85 1.346.561 2.355.561 2.355s3.478.898 6.73.617",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M151.89 141.71s-6.28.111-6.73-2.132c-.223-1.346.45-1.402.45-1.402M146.114 140.868s-1.103 3.16 5.44 3.533M151.202 129.932v3.477M52.838 89.286c3.533-.337 8.423-1.248 13.582-7.754",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M168.567 248.318a6.647 6.647 0 0 1-6.647-6.647v-66.466a6.647 6.647 0 1 1 13.294 0v66.466a6.647 6.647 0 0 1-6.647 6.647",fill:"#5BA02E"}),re.createElement("path",{d:"M176.543 247.653a6.647 6.647 0 0 1-6.646-6.647v-33.232a6.647 6.647 0 1 1 13.293 0v33.232a6.647 6.647 0 0 1-6.647 6.647",fill:"#92C110"}),re.createElement("path",{d:"M186.443 293.613H158.92a3.187 3.187 0 0 1-3.187-3.187v-46.134a3.187 3.187 0 0 1 3.187-3.187h27.524a3.187 3.187 0 0 1 3.187 3.187v46.134a3.187 3.187 0 0 1-3.187 3.187",fill:"#F2D7AD"}),re.createElement("path",{d:"M88.979 89.48s7.776 5.384 16.6 2.842",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"})))},kd=Su,Rd=function(){return re.createElement("svg",{width:"254",height:"294"},re.createElement("defs",null,re.createElement("path",{d:"M0 .335h253.49v253.49H0z"}),re.createElement("path",{d:"M0 293.665h253.49V.401H0z"})),re.createElement("g",{fill:"none",fillRule:"evenodd"},re.createElement("g",{transform:"translate(0 .067)"},re.createElement("mask",{fill:"#fff"}),re.createElement("path",{d:"M0 128.134v-2.11C0 56.608 56.273.334 125.69.334h2.11c69.416 0 125.69 56.274 125.69 125.69v2.11c0 69.417-56.274 125.69-125.69 125.69h-2.11C56.273 253.824 0 197.551 0 128.134",fill:"#E4EBF7",mask:"url(#b)"})),re.createElement("path",{d:"M39.989 132.108a8.332 8.332 0 1 1-16.581-1.671 8.332 8.332 0 0 1 16.58 1.671",fill:"#FFF"}),re.createElement("path",{d:"M37.19 135.59l10.553 5.983M48.665 147.884l-12.734 10.861",stroke:"#FFF",strokeWidth:"2"}),re.createElement("path",{d:"M40.11 160.816a5.706 5.706 0 1 1-11.354-1.145 5.706 5.706 0 0 1 11.354 1.145M57.943 144.6a5.747 5.747 0 1 1-11.436-1.152 5.747 5.747 0 0 1 11.436 1.153M99.656 27.434l30.024-.013a4.619 4.619 0 1 0-.004-9.238l-30.024.013a4.62 4.62 0 0 0 .004 9.238M111.14 45.896l30.023-.013a4.62 4.62 0 1 0-.004-9.238l-30.024.013a4.619 4.619 0 1 0 .004 9.238",fill:"#FFF"}),re.createElement("path",{d:"M113.53 27.421v-.002l15.89-.007a4.619 4.619 0 1 0 .005 9.238l-15.892.007v-.002a4.618 4.618 0 0 0-.004-9.234M150.167 70.091h-3.979a4.789 4.789 0 0 1-4.774-4.775 4.788 4.788 0 0 1 4.774-4.774h3.979a4.789 4.789 0 0 1 4.775 4.774 4.789 4.789 0 0 1-4.775 4.775",fill:"#FFF"}),re.createElement("path",{d:"M171.687 30.234c0-16.392 13.289-29.68 29.681-29.68 16.392 0 29.68 13.288 29.68 29.68 0 16.393-13.288 29.681-29.68 29.681s-29.68-13.288-29.68-29.68",fill:"#FF603B"}),re.createElement("path",{d:"M203.557 19.435l-.676 15.035a1.514 1.514 0 0 1-3.026 0l-.675-15.035a2.19 2.19 0 1 1 4.377 0m-.264 19.378c.513.477.77 1.1.77 1.87s-.257 1.393-.77 1.907c-.55.476-1.21.733-1.943.733a2.545 2.545 0 0 1-1.87-.77c-.55-.514-.806-1.136-.806-1.87 0-.77.256-1.393.806-1.87.513-.513 1.137-.733 1.87-.733.77 0 1.43.22 1.943.733",fill:"#FFF"}),re.createElement("path",{d:"M119.3 133.275c4.426-.598 3.612-1.204 4.079-4.778.675-5.18-3.108-16.935-8.262-25.118-1.088-10.72-12.598-11.24-12.598-11.24s4.312 4.895 4.196 16.199c1.398 5.243.804 14.45.804 14.45s5.255 11.369 11.78 10.487",fill:"#FFB594"}),re.createElement("path",{d:"M100.944 91.61s1.463-.583 3.211.582c8.08 1.398 10.368 6.706 11.3 11.368 1.864 1.282 1.864 2.33 1.864 3.496.365.777 1.515 3.03 1.515 3.03s-7.225 1.748-10.954 6.758c-1.399-6.41-6.936-25.235-6.936-25.235",fill:"#FFF"}),re.createElement("path",{d:"M94.008 90.5l1.019-5.815-9.23-11.874-5.233 5.581-2.593 9.863s8.39 5.128 16.037 2.246",fill:"#FFB594"}),re.createElement("path",{d:"M82.931 78.216s-4.557-2.868-2.445-6.892c1.632-3.107 4.537 1.139 4.537 1.139s.524-3.662 3.139-3.662c.523-1.046 1.569-4.184 1.569-4.184s11.507 2.615 13.6 3.138c-.001 5.23-2.317 19.529-7.884 19.969-8.94.706-12.516-9.508-12.516-9.508",fill:"#FFC6A0"}),re.createElement("path",{d:"M102.971 72.243c2.616-2.093 3.489-9.775 3.489-9.775s-2.492-.492-6.676-2.062c-4.708-2.092-12.867-4.771-17.575.982-9.54 4.41-2.062 19.93-2.062 19.93l2.729-3.037s-3.956-3.304-2.092-6.277c2.183-3.48 3.943 1.08 3.943 1.08s.64-2.4 3.6-3.36c.356-.714 1.04-2.69 1.44-3.872a1.08 1.08 0 0 1 1.27-.707c2.41.56 8.723 2.03 11.417 2.676.524.126.876.619.825 1.156l-.308 3.266z",fill:"#520038"}),re.createElement("path",{d:"M101.22 76.514c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.961.491.083.805.647.702 1.26M94.26 75.074c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.96.491.082.805.646.702 1.26",fill:"#552950"}),re.createElement("path",{stroke:"#DB836E",strokeWidth:"1.063",strokeLinecap:"round",strokeLinejoin:"round",d:"M99.206 73.644l-.9 1.62-.3 4.38h-2.24"}),re.createElement("path",{d:"M99.926 73.284s1.8-.72 2.52.54",stroke:"#5C2552",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M81.367 73.084s.48-1.12 1.12-.72c.64.4 1.28 1.44.56 2s.16 1.68.16 1.68",stroke:"#DB836E",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M92.326 71.724s1.84 1.12 4.16.96",stroke:"#5C2552",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M92.726 80.604s2.24 1.2 4.4 1.2M93.686 83.164s.96.4 1.52.32M83.687 80.044s1.786 6.547 9.262 7.954",stroke:"#DB836E",strokeWidth:"1.063",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M95.548 91.663s-1.068 2.821-8.298 2.105c-7.23-.717-10.29-5.044-10.29-5.044",stroke:"#E4EBF7",strokeWidth:"1.136",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M78.126 87.478s6.526 4.972 16.47 2.486c0 0 9.577 1.02 11.536 5.322 5.36 11.77.543 36.835 0 39.962 3.496 4.055-.466 8.483-.466 8.483-15.624-3.548-35.81-.6-35.81-.6-4.849-3.546-1.223-9.044-1.223-9.044L62.38 110.32c-2.485-15.227.833-19.803 3.549-20.743 3.03-1.049 8.04-1.282 8.04-1.282.496-.058 1.08-.076 1.37-.233 2.36-1.282 2.787-.583 2.787-.583",fill:"#FFF"}),re.createElement("path",{d:"M65.828 89.81s-6.875.465-7.59 8.156c-.466 8.857 3.03 10.954 3.03 10.954s6.075 22.102 16.796 22.957c8.39-2.176 4.758-6.702 4.661-11.42-.233-11.304-7.108-16.897-7.108-16.897s-4.212-13.75-9.789-13.75",fill:"#FFC6A0"}),re.createElement("path",{d:"M71.716 124.225s.855 11.264 9.828 6.486c4.765-2.536 7.581-13.828 9.789-22.568 1.456-5.768 2.58-12.197 2.58-12.197l-4.973-1.709s-2.408 5.516-7.769 12.275c-4.335 5.467-9.144 11.11-9.455 17.713",fill:"#FFC6A0"}),re.createElement("path",{d:"M108.463 105.191s1.747 2.724-2.331 30.535c2.376 2.216 1.053 6.012-.233 7.51",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M123.262 131.527s-.427 2.732-11.77 1.981c-15.187-1.006-25.326-3.25-25.326-3.25l.933-5.8s.723.215 9.71-.068c11.887-.373 18.714-6.07 24.964-1.022 4.039 3.263 1.489 8.16 1.489 8.16",fill:"#FFC6A0"}),re.createElement("path",{d:"M70.24 90.974s-5.593-4.739-11.054 2.68c-3.318 7.223.517 15.284 2.664 19.578-.31 3.729 2.33 4.311 2.33 4.311s.108.895 1.516 2.68c4.078-7.03 6.72-9.166 13.711-12.546-.328-.656-1.877-3.265-1.825-3.767.175-1.69-1.282-2.623-1.282-2.623s-.286-.156-1.165-2.738c-.788-2.313-2.036-5.177-4.895-7.575",fill:"#FFF"}),re.createElement("path",{d:"M90.232 288.027s4.855 2.308 8.313 1.155c3.188-1.063 5.12.755 8.002 1.331 2.881.577 7.769 1.243 13.207-1.424-.117-6.228-7.786-4.499-13.518-7.588-2.895-1.56-4.276-5.336-4.066-9.944H91.544s-1.573 11.89-1.312 16.47",fill:"#CBD1D1"}),re.createElement("path",{d:"M90.207 287.833s2.745 1.437 7.639.738c3.456-.494 3.223.66 7.418 1.282 4.195.621 13.092-.194 14.334-1.126.466 1.242-.388 2.33-.388 2.33s-1.709.682-5.438.932c-2.295.154-8.098.276-10.14-.621-2.02-1.554-4.894-1.515-6.06-.234-4.427 1.075-7.184-.31-7.184-.31l-.181-2.991z",fill:"#2B0849"}),re.createElement("path",{d:"M98.429 272.257h3.496s-.117 7.574 5.127 9.671c-5.244.7-9.672-2.602-8.623-9.671",fill:"#A4AABA"}),re.createElement("path",{d:"M44.425 272.046s-2.208 7.774-4.702 12.899c-1.884 3.874-4.428 7.854 5.729 7.854 6.97 0 9.385-.503 7.782-6.917-1.604-6.415.279-13.836.279-13.836h-9.088z",fill:"#CBD1D1"}),re.createElement("path",{d:"M38.066 290.277s2.198 1.225 6.954 1.225c6.376 0 8.646-1.73 8.646-1.73s.63 1.168-.649 2.27c-1.04.897-3.77 1.668-7.745 1.621-4.347-.05-6.115-.593-7.062-1.224-.864-.577-.72-1.657-.144-2.162",fill:"#2B0849"}),re.createElement("path",{d:"M45.344 274.041s.035 1.592-.329 3.07c-.365 1.49-1.13 3.255-1.184 4.34-.061 1.206 4.755 1.657 5.403.036.65-1.622 1.357-6.737 2.006-7.602.648-.865-5.14-2.222-5.896.156",fill:"#A4AABA"}),re.createElement("path",{d:"M89.476 277.57l13.899.095s1.349-56.643 1.925-66.909c.576-10.267 3.923-45.052 1.042-65.585l-13.037-.669-23.737.81s-.452 4.12-1.243 10.365c-.065.515-.708.874-.777 1.417-.078.608.439 1.407.332 2.044-2.455 14.627-5.797 32.736-8.256 46.837-.121.693-1.282 1.048-1.515 2.796-.042.314.22 1.584.116 1.865-7.14 19.473-12.202 52.601-15.66 67.19l15.176-.015s2.282-10.145 4.185-18.871c2.922-13.389 24.012-88.32 24.012-88.32l3.133-.954-.158 48.568s-.233 1.282.35 2.098c.583.815-.581 1.167-.408 2.331l.408 1.864s-.466 7.458-.932 12.352c-.467 4.895 1.145 40.69 1.145 40.69",fill:"#7BB2F9"}),re.createElement("path",{d:"M64.57 218.881c1.197.099 4.195-2.097 7.225-5.127M96.024 222.534s2.881-1.152 6.34-4.034",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M96.973 219.373s2.882-1.153 6.34-4.034",stroke:"#648BD8",strokeWidth:"1.032",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M63.172 222.144s2.724-.614 6.759-3.496M74.903 146.166c-.281 3.226.31 8.856-4.506 9.478M93.182 144.344s.115 14.557-1.344 15.65c-2.305 1.73-3.107 2.02-3.107 2.02M89.197 144.923s.269 13.144-1.01 25.088M83.525 170.71s6.81-1.051 9.116-1.051M46.026 270.045l-.892 4.538M46.937 263.289l-.815 4.157M62.725 202.503c-.33 1.618-.102 1.904-.449 3.438 0 0-2.756 1.903-2.29 3.923.466 2.02-.31 3.424-4.505 17.252-1.762 5.807-4.233 18.922-6.165 28.278-.03.144-.521 2.646-1.14 5.8M64.158 194.136c-.295 1.658-.6 3.31-.917 4.938M71.33 146.787l-1.244 10.877s-1.14.155-.519 2.33c.117 1.399-2.778 16.39-5.382 31.615M44.242 273.727H58.07",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M106.18 142.117c-3.028-.489-18.825-2.744-36.219.2a.625.625 0 0 0-.518.644c.063 1.307.044 2.343.015 2.995a.617.617 0 0 0 .716.636c3.303-.534 17.037-2.412 35.664-.266.347.04.66-.214.692-.56.124-1.347.16-2.425.17-3.029a.616.616 0 0 0-.52-.62",fill:"#192064"}),re.createElement("path",{d:"M96.398 145.264l.003-5.102a.843.843 0 0 0-.809-.847 114.104 114.104 0 0 0-8.141-.014.85.85 0 0 0-.82.847l-.003 5.097c0 .476.388.857.864.845 2.478-.064 5.166-.067 8.03.017a.848.848 0 0 0 .876-.843",fill:"#FFF"}),re.createElement("path",{d:"M95.239 144.296l.002-3.195a.667.667 0 0 0-.643-.672c-1.9-.061-3.941-.073-6.094-.01a.675.675 0 0 0-.654.672l-.002 3.192c0 .376.305.677.68.669 1.859-.042 3.874-.043 6.02.012.376.01.69-.291.691-.668",fill:"#192064"}),re.createElement("path",{d:"M90.102 273.522h12.819M91.216 269.761c.006 3.519-.072 5.55 0 6.292M90.923 263.474c-.009 1.599-.016 2.558-.016 4.505M90.44 170.404l.932 46.38s.7 1.631-.233 2.796c-.932 1.166 2.564.7.932 2.33-1.63 1.633.933 1.166 0 3.497-.618 1.546-1.031 21.921-1.138 36.513",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M73.736 98.665l2.214 4.312s2.098.816 1.865 2.68l.816 2.214M64.297 116.611c.233-.932 2.176-7.147 12.585-10.488M77.598 90.042s7.691 6.137 16.547 2.72",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M91.974 86.954s5.476-.816 7.574-4.545c1.297-.345.72 2.212-.33 3.671-.7.971-1.01 1.554-1.01 1.554s.194.31.155.816c-.053.697-.175.653-.272 1.048-.081.335.108.657 0 1.049-.046.17-.198.5-.382.878-.12.249-.072.687-.2.948-.231.469-1.562 1.87-2.622 2.855-3.826 3.554-5.018 1.644-6.001-.408-.894-1.865-.661-5.127-.874-6.875-.35-2.914-2.622-3.03-1.923-4.429.343-.685 2.87.69 3.263 1.748.757 2.04 2.952 1.807 2.622 1.69",fill:"#FFC6A0"}),re.createElement("path",{d:"M99.8 82.429c-.465.077-.35.272-.97 1.243-.622.971-4.817 2.932-6.39 3.224-2.589.48-2.278-1.56-4.254-2.855-1.69-1.107-3.562-.638-1.398 1.398.99.932.932 1.107 1.398 3.205.335 1.506-.64 3.67.7 5.593",stroke:"#DB836E",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M79.543 108.673c-2.1 2.926-4.266 6.175-5.557 8.762",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M87.72 124.768s-2.098-1.942-5.127-2.719c-3.03-.777-3.574-.155-5.516.078-1.942.233-3.885-.932-3.652.7.233 1.63 5.05 1.01 5.206 2.097.155 1.087-6.37 2.796-8.313 2.175-.777.777.466 1.864 2.02 2.175.233 1.554 2.253 1.554 2.253 1.554s.699 1.01 2.641 1.088c2.486 1.32 8.934-.7 10.954-1.554 2.02-.855-.466-5.594-.466-5.594",fill:"#FFC6A0"}),re.createElement("path",{d:"M73.425 122.826s.66 1.127 3.167 1.418c2.315.27 2.563.583 2.563.583s-2.545 2.894-9.07 2.272M72.416 129.274s3.826.097 4.933-.718M74.98 130.75s1.961.136 3.36-.505M77.232 131.916s1.748.019 2.914-.505M73.328 122.321s-.595-1.032 1.262-.427c1.671.544 2.833.055 5.128.155 1.389.061 3.067-.297 3.982.15 1.606.784 3.632 2.181 3.632 2.181s10.526 1.204 19.033-1.127M78.864 108.104s-8.39 2.758-13.168 12.12",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M109.278 112.533s3.38-3.613 7.575-4.662",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M107.375 123.006s9.697-2.745 11.445-.88",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M194.605 83.656l3.971-3.886M187.166 90.933l3.736-3.655M191.752 84.207l-4.462-4.56M198.453 91.057l-4.133-4.225M129.256 163.074l3.718-3.718M122.291 170.039l3.498-3.498M126.561 163.626l-4.27-4.27M132.975 170.039l-3.955-3.955",stroke:"#BFCDDD",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M190.156 211.779h-1.604a4.023 4.023 0 0 1-4.011-4.011V175.68a4.023 4.023 0 0 1 4.01-4.01h1.605a4.023 4.023 0 0 1 4.011 4.01v32.088a4.023 4.023 0 0 1-4.01 4.01",fill:"#A3B4C6"}),re.createElement("path",{d:"M237.824 212.977a4.813 4.813 0 0 1-4.813 4.813h-86.636a4.813 4.813 0 0 1 0-9.626h86.636a4.813 4.813 0 0 1 4.813 4.813",fill:"#A3B4C6"}),re.createElement("mask",{fill:"#fff"}),re.createElement("path",{fill:"#A3B4C6",mask:"url(#d)",d:"M154.098 190.096h70.513v-84.617h-70.513z"}),re.createElement("path",{d:"M224.928 190.096H153.78a3.219 3.219 0 0 1-3.208-3.209V167.92a3.219 3.219 0 0 1 3.208-3.21h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.219 3.219 0 0 1-3.21 3.209M224.928 130.832H153.78a3.218 3.218 0 0 1-3.208-3.208v-18.968a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.218 3.218 0 0 1-3.21 3.208",fill:"#BFCDDD",mask:"url(#d)"}),re.createElement("path",{d:"M159.563 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 120.546h-22.461a.802.802 0 0 1-.802-.802v-3.208c0-.443.359-.803.802-.803h22.46c.444 0 .803.36.803.803v3.208c0 .443-.36.802-.802.802",fill:"#FFF",mask:"url(#d)"}),re.createElement("path",{d:"M224.928 160.464H153.78a3.218 3.218 0 0 1-3.208-3.209v-18.967a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.209v18.967a3.218 3.218 0 0 1-3.21 3.209",fill:"#BFCDDD",mask:"url(#d)"}),re.createElement("path",{d:"M173.455 130.832h49.301M164.984 130.832h6.089M155.952 130.832h6.75M173.837 160.613h49.3M165.365 160.613h6.089M155.57 160.613h6.751",stroke:"#7C90A5",strokeWidth:"1.124",strokeLinecap:"round",strokeLinejoin:"round",mask:"url(#d)"}),re.createElement("path",{d:"M159.563 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M166.98 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M174.397 151.038a2.407 2.407 0 1 1 .001-4.814 2.407 2.407 0 0 1 0 4.814M222.539 151.038h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802M159.563 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 179.987h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802",fill:"#FFF",mask:"url(#d)"}),re.createElement("path",{d:"M203.04 221.108h-27.372a2.413 2.413 0 0 1-2.406-2.407v-11.448a2.414 2.414 0 0 1 2.406-2.407h27.372a2.414 2.414 0 0 1 2.407 2.407V218.7a2.413 2.413 0 0 1-2.407 2.407",fill:"#BFCDDD",mask:"url(#d)"}),re.createElement("path",{d:"M177.259 207.217v11.52M201.05 207.217v11.52",stroke:"#A3B4C6",strokeWidth:"1.124",strokeLinecap:"round",strokeLinejoin:"round",mask:"url(#d)"}),re.createElement("path",{d:"M162.873 267.894a9.422 9.422 0 0 1-9.422-9.422v-14.82a9.423 9.423 0 0 1 18.845 0v14.82a9.423 9.423 0 0 1-9.423 9.422",fill:"#5BA02E",mask:"url(#d)"}),re.createElement("path",{d:"M171.22 267.83a9.422 9.422 0 0 1-9.422-9.423v-3.438a9.423 9.423 0 0 1 18.845 0v3.438a9.423 9.423 0 0 1-9.422 9.423",fill:"#92C110",mask:"url(#d)"}),re.createElement("path",{d:"M181.31 293.666h-27.712a3.209 3.209 0 0 1-3.209-3.21V269.79a3.209 3.209 0 0 1 3.209-3.21h27.711a3.209 3.209 0 0 1 3.209 3.21v20.668a3.209 3.209 0 0 1-3.209 3.209",fill:"#F2D7AD",mask:"url(#d)"})))},Lu=Rd,La=function(){return re.createElement("svg",{width:"251",height:"294"},re.createElement("g",{fill:"none",fillRule:"evenodd"},re.createElement("path",{d:"M0 129.023v-2.084C0 58.364 55.591 2.774 124.165 2.774h2.085c68.574 0 124.165 55.59 124.165 124.165v2.084c0 68.575-55.59 124.166-124.165 124.166h-2.085C55.591 253.189 0 197.598 0 129.023",fill:"#E4EBF7"}),re.createElement("path",{d:"M41.417 132.92a8.231 8.231 0 1 1-16.38-1.65 8.231 8.231 0 0 1 16.38 1.65",fill:"#FFF"}),re.createElement("path",{d:"M38.652 136.36l10.425 5.91M49.989 148.505l-12.58 10.73",stroke:"#FFF",strokeWidth:"2"}),re.createElement("path",{d:"M41.536 161.28a5.636 5.636 0 1 1-11.216-1.13 5.636 5.636 0 0 1 11.216 1.13M59.154 145.261a5.677 5.677 0 1 1-11.297-1.138 5.677 5.677 0 0 1 11.297 1.138M100.36 29.516l29.66-.013a4.562 4.562 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 0 0 .005 9.126M111.705 47.754l29.659-.013a4.563 4.563 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 1 0 .005 9.126",fill:"#FFF"}),re.createElement("path",{d:"M114.066 29.503V29.5l15.698-.007a4.563 4.563 0 1 0 .004 9.126l-15.698.007v-.002a4.562 4.562 0 0 0-.004-9.122M185.405 137.723c-.55 5.455-5.418 9.432-10.873 8.882-5.456-.55-9.432-5.418-8.882-10.873.55-5.455 5.418-9.432 10.873-8.882 5.455.55 9.432 5.418 8.882 10.873",fill:"#FFF"}),re.createElement("path",{d:"M180.17 143.772l12.572 7.129M193.841 158.42L178.67 171.36",stroke:"#FFF",strokeWidth:"2"}),re.createElement("path",{d:"M185.55 171.926a6.798 6.798 0 1 1-13.528-1.363 6.798 6.798 0 0 1 13.527 1.363M204.12 155.285a6.848 6.848 0 1 1-13.627-1.375 6.848 6.848 0 0 1 13.626 1.375",fill:"#FFF"}),re.createElement("path",{d:"M152.988 194.074a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0zM225.931 118.217a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM217.09 153.051a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.42 0zM177.84 109.842a2.21 2.21 0 1 1-4.422 0 2.21 2.21 0 0 1 4.421 0zM196.114 94.454a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM202.844 182.523a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0z",stroke:"#FFF",strokeWidth:"2"}),re.createElement("path",{stroke:"#FFF",strokeWidth:"2",d:"M215.125 155.262l-1.902 20.075-10.87 5.958M174.601 176.636l-6.322 9.761H156.98l-4.484 6.449M175.874 127.28V111.56M221.51 119.404l-12.77 7.859-15.228-7.86V96.668"}),re.createElement("path",{d:"M180.68 29.32C180.68 13.128 193.806 0 210 0c16.193 0 29.32 13.127 29.32 29.32 0 16.194-13.127 29.322-29.32 29.322-16.193 0-29.32-13.128-29.32-29.321",fill:"#A26EF4"}),re.createElement("path",{d:"M221.45 41.706l-21.563-.125a1.744 1.744 0 0 1-1.734-1.754l.071-12.23a1.744 1.744 0 0 1 1.754-1.734l21.562.125c.964.006 1.74.791 1.735 1.755l-.071 12.229a1.744 1.744 0 0 1-1.754 1.734",fill:"#FFF"}),re.createElement("path",{d:"M215.106 29.192c-.015 2.577-2.049 4.654-4.543 4.64-2.494-.014-4.504-2.115-4.489-4.693l.04-6.925c.016-2.577 2.05-4.654 4.543-4.64 2.494.015 4.504 2.116 4.49 4.693l-.04 6.925zm-4.53-14.074a6.877 6.877 0 0 0-6.916 6.837l-.043 7.368a6.877 6.877 0 0 0 13.754.08l.042-7.368a6.878 6.878 0 0 0-6.837-6.917zM167.566 68.367h-3.93a4.73 4.73 0 0 1-4.717-4.717 4.73 4.73 0 0 1 4.717-4.717h3.93a4.73 4.73 0 0 1 4.717 4.717 4.73 4.73 0 0 1-4.717 4.717",fill:"#FFF"}),re.createElement("path",{d:"M168.214 248.838a6.611 6.611 0 0 1-6.61-6.611v-66.108a6.611 6.611 0 0 1 13.221 0v66.108a6.611 6.611 0 0 1-6.61 6.61",fill:"#5BA02E"}),re.createElement("path",{d:"M176.147 248.176a6.611 6.611 0 0 1-6.61-6.61v-33.054a6.611 6.611 0 1 1 13.221 0v33.053a6.611 6.611 0 0 1-6.61 6.611",fill:"#92C110"}),re.createElement("path",{d:"M185.994 293.89h-27.376a3.17 3.17 0 0 1-3.17-3.17v-45.887a3.17 3.17 0 0 1 3.17-3.17h27.376a3.17 3.17 0 0 1 3.17 3.17v45.886a3.17 3.17 0 0 1-3.17 3.17",fill:"#F2D7AD"}),re.createElement("path",{d:"M81.972 147.673s6.377-.927 17.566-1.28c11.729-.371 17.57 1.086 17.57 1.086s3.697-3.855.968-8.424c1.278-12.077 5.982-32.827.335-48.273-1.116-1.339-3.743-1.512-7.536-.62-1.337.315-7.147-.149-7.983-.1l-15.311-.347s-3.487-.17-8.035-.508c-1.512-.113-4.227-1.683-5.458-.338-.406.443-2.425 5.669-1.97 16.077l8.635 35.642s-3.141 3.61 1.219 7.085",fill:"#FFF"}),re.createElement("path",{d:"M75.768 73.325l-.9-6.397 11.982-6.52s7.302-.118 8.038 1.205c.737 1.324-5.616.993-5.616.993s-1.836 1.388-2.615 2.5c-1.654 2.363-.986 6.471-8.318 5.986-1.708.284-2.57 2.233-2.57 2.233",fill:"#FFC6A0"}),re.createElement("path",{d:"M52.44 77.672s14.217 9.406 24.973 14.444c1.061.497-2.094 16.183-11.892 11.811-7.436-3.318-20.162-8.44-21.482-14.496-.71-3.258 2.543-7.643 8.401-11.76M141.862 80.113s-6.693 2.999-13.844 6.876c-3.894 2.11-10.137 4.704-12.33 7.988-6.224 9.314 3.536 11.22 12.947 7.503 6.71-2.651 28.999-12.127 13.227-22.367",fill:"#FFB594"}),re.createElement("path",{d:"M76.166 66.36l3.06 3.881s-2.783 2.67-6.31 5.747c-7.103 6.195-12.803 14.296-15.995 16.44-3.966 2.662-9.754 3.314-12.177-.118-3.553-5.032.464-14.628 31.422-25.95",fill:"#FFC6A0"}),re.createElement("path",{d:"M64.674 85.116s-2.34 8.413-8.912 14.447c.652.548 18.586 10.51 22.144 10.056 5.238-.669 6.417-18.968 1.145-20.531-.702-.208-5.901-1.286-8.853-2.167-.87-.26-1.611-1.71-3.545-.936l-1.98-.869zM128.362 85.826s5.318 1.956 7.325 13.734c-.546.274-17.55 12.35-21.829 7.805-6.534-6.94-.766-17.393 4.275-18.61 4.646-1.121 5.03-1.37 10.23-2.929",fill:"#FFF"}),re.createElement("path",{d:"M78.18 94.656s.911 7.41-4.914 13.078",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M87.397 94.68s3.124 2.572 10.263 2.572c7.14 0 9.074-3.437 9.074-3.437",stroke:"#E4EBF7",strokeWidth:".932",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M117.184 68.639l-6.781-6.177s-5.355-4.314-9.223-.893c-3.867 3.422 4.463 2.083 5.653 4.165 1.19 2.082.848 1.143-2.083.446-5.603-1.331-2.082.893 2.975 5.355 2.091 1.845 6.992.955 6.992.955l2.467-3.851z",fill:"#FFC6A0"}),re.createElement("path",{d:"M105.282 91.315l-.297-10.937-15.918-.027-.53 10.45c-.026.403.17.788.515.999 2.049 1.251 9.387 5.093 15.799.424.287-.21.443-.554.431-.91",fill:"#FFB594"}),re.createElement("path",{d:"M107.573 74.24c.817-1.147.982-9.118 1.015-11.928a1.046 1.046 0 0 0-.965-1.055l-4.62-.365c-7.71-1.044-17.071.624-18.253 6.346-5.482 5.813-.421 13.244-.421 13.244s1.963 3.566 4.305 6.791c.756 1.041.398-3.731 3.04-5.929 5.524-4.594 15.899-7.103 15.899-7.103",fill:"#5C2552"}),re.createElement("path",{d:"M88.426 83.206s2.685 6.202 11.602 6.522c7.82.28 8.973-7.008 7.434-17.505l-.909-5.483c-6.118-2.897-15.478.54-15.478.54s-.576 2.044-.19 5.504c-2.276 2.066-1.824 5.618-1.824 5.618s-.905-1.922-1.98-2.321c-.86-.32-1.897.089-2.322 1.98-1.04 4.632 3.667 5.145 3.667 5.145",fill:"#FFC6A0"}),re.createElement("path",{stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round",d:"M100.843 77.099l1.701-.928-1.015-4.324.674-1.406"}),re.createElement("path",{d:"M105.546 74.092c-.022.713-.452 1.279-.96 1.263-.51-.016-.904-.607-.882-1.32.021-.713.452-1.278.96-1.263.51.016.904.607.882 1.32M97.592 74.349c-.022.713-.452 1.278-.961 1.263-.509-.016-.904-.607-.882-1.32.022-.713.452-1.279.961-1.263.51.016.904.606.882 1.32",fill:"#552950"}),re.createElement("path",{d:"M91.132 86.786s5.269 4.957 12.679 2.327",stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M99.776 81.903s-3.592.232-1.44-2.79c1.59-1.496 4.897-.46 4.897-.46s1.156 3.906-3.457 3.25",fill:"#DB836E"}),re.createElement("path",{d:"M102.88 70.6s2.483.84 3.402.715M93.883 71.975s2.492-1.144 4.778-1.073",stroke:"#5C2552",strokeWidth:"1.526",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M86.32 77.374s.961.879 1.458 2.106c-.377.48-1.033 1.152-.236 1.809M99.337 83.719s1.911.151 2.509-.254",stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M87.782 115.821l15.73-3.012M100.165 115.821l10.04-2.008",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M66.508 86.763s-1.598 8.83-6.697 14.078",stroke:"#E4EBF7",strokeWidth:"1.114",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M128.31 87.934s3.013 4.121 4.06 11.785",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M64.09 84.816s-6.03 9.912-13.607 9.903",stroke:"#DB836E",strokeWidth:".795",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M112.366 65.909l-.142 5.32s5.993 4.472 11.945 9.202c4.482 3.562 8.888 7.455 10.985 8.662 4.804 2.766 8.9 3.355 11.076 1.808 4.071-2.894 4.373-9.878-8.136-15.263-4.271-1.838-16.144-6.36-25.728-9.73",fill:"#FFC6A0"}),re.createElement("path",{d:"M130.532 85.488s4.588 5.757 11.619 6.214",stroke:"#DB836E",strokeWidth:".75",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M121.708 105.73s-.393 8.564-1.34 13.612",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M115.784 161.512s-3.57-1.488-2.678-7.14",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M101.52 290.246s4.326 2.057 7.408 1.03c2.842-.948 4.564.673 7.132 1.186 2.57.514 6.925 1.108 11.772-1.269-.104-5.551-6.939-4.01-12.048-6.763-2.582-1.39-3.812-4.757-3.625-8.863h-9.471s-1.402 10.596-1.169 14.68",fill:"#CBD1D1"}),re.createElement("path",{d:"M101.496 290.073s2.447 1.281 6.809.658c3.081-.44 3.74.485 7.479 1.039 3.739.554 10.802-.07 11.91-.9.415 1.108-.347 2.077-.347 2.077s-1.523.608-4.847.831c-2.045.137-5.843.293-7.663-.507-1.8-1.385-5.286-1.917-5.77-.243-3.947.958-7.41-.288-7.41-.288l-.16-2.667z",fill:"#2B0849"}),re.createElement("path",{d:"M108.824 276.19h3.116s-.103 6.751 4.57 8.62c-4.673.624-8.62-2.32-7.686-8.62",fill:"#A4AABA"}),re.createElement("path",{d:"M57.65 272.52s-2.122 7.47-4.518 12.396c-1.811 3.724-4.255 7.548 5.505 7.548 6.698 0 9.02-.483 7.479-6.648-1.541-6.164.268-13.296.268-13.296H57.65z",fill:"#CBD1D1"}),re.createElement("path",{d:"M51.54 290.04s2.111 1.178 6.682 1.178c6.128 0 8.31-1.662 8.31-1.662s.605 1.122-.624 2.18c-1 .862-3.624 1.603-7.444 1.559-4.177-.049-5.876-.57-6.786-1.177-.831-.554-.692-1.593-.138-2.078",fill:"#2B0849"}),re.createElement("path",{d:"M58.533 274.438s.034 1.529-.315 2.95c-.352 1.431-1.087 3.127-1.139 4.17-.058 1.16 4.57 1.592 5.194.035.623-1.559 1.303-6.475 1.927-7.306.622-.831-4.94-2.135-5.667.15",fill:"#A4AABA"}),re.createElement("path",{d:"M100.885 277.015l13.306.092s1.291-54.228 1.843-64.056c.552-9.828 3.756-43.13.997-62.788l-12.48-.64-22.725.776s-.433 3.944-1.19 9.921c-.062.493-.677.838-.744 1.358-.075.582.42 1.347.318 1.956-2.35 14.003-6.343 32.926-8.697 46.425-.116.663-1.227 1.004-1.45 2.677-.04.3.21 1.516.112 1.785-6.836 18.643-10.89 47.584-14.2 61.551l14.528-.014s2.185-8.524 4.008-16.878c2.796-12.817 22.987-84.553 22.987-84.553l3-.517 1.037 46.1s-.223 1.228.334 2.008c.558.782-.556 1.117-.39 2.233l.39 1.784s-.446 7.14-.892 11.826c-.446 4.685-.092 38.954-.092 38.954",fill:"#7BB2F9"}),re.createElement("path",{d:"M77.438 220.434c1.146.094 4.016-2.008 6.916-4.91M107.55 223.931s2.758-1.103 6.069-3.862",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M108.459 220.905s2.759-1.104 6.07-3.863",stroke:"#648BD8",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M76.099 223.557s2.608-.587 6.47-3.346M87.33 150.82c-.27 3.088.297 8.478-4.315 9.073M104.829 149.075s.11 13.936-1.286 14.983c-2.207 1.655-2.975 1.934-2.975 1.934M101.014 149.63s.035 12.81-1.19 24.245M94.93 174.965s7.174-1.655 9.38-1.655M75.671 204.754c-.316 1.55-.64 3.067-.973 4.535 0 0-1.45 1.822-1.003 3.756.446 1.934-.943 2.034-4.96 15.273-1.686 5.559-4.464 18.49-6.313 27.447-.078.38-4.018 18.06-4.093 18.423M77.043 196.743a313.269 313.269 0 0 1-.877 4.729M83.908 151.414l-1.19 10.413s-1.091.148-.496 2.23c.111 1.34-2.66 15.692-5.153 30.267M57.58 272.94h13.238",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),re.createElement("path",{d:"M117.377 147.423s-16.955-3.087-35.7.199c.157 2.501-.002 4.128-.002 4.128s14.607-2.802 35.476-.31c.251-2.342.226-4.017.226-4.017",fill:"#192064"}),re.createElement("path",{d:"M107.511 150.353l.004-4.885a.807.807 0 0 0-.774-.81c-2.428-.092-5.04-.108-7.795-.014a.814.814 0 0 0-.784.81l-.003 4.88c0 .456.371.82.827.808a140.76 140.76 0 0 1 7.688.017.81.81 0 0 0 .837-.806",fill:"#FFF"}),re.createElement("path",{d:"M106.402 149.426l.002-3.06a.64.64 0 0 0-.616-.643 94.135 94.135 0 0 0-5.834-.009.647.647 0 0 0-.626.643l-.001 3.056c0 .36.291.648.651.64 1.78-.04 3.708-.041 5.762.012.36.009.662-.279.662-.64",fill:"#192064"}),re.createElement("path",{d:"M101.485 273.933h12.272M102.652 269.075c.006 3.368.04 5.759.11 6.47M102.667 263.125c-.009 1.53-.015 2.98-.016 4.313M102.204 174.024l.893 44.402s.669 1.561-.224 2.677c-.892 1.116 2.455.67.893 2.231-1.562 1.562.893 1.116 0 3.347-.592 1.48-.988 20.987-1.09 34.956",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"})))},ch=La,Pr={success:Cu.Z,error:id.Z,info:yc.Z,warning:wu},_l={404:kd,500:Lu,403:ch},to=Object.keys(_l),nc=function(ye){var Re=ye.prefixCls,Je=ye.icon,Nt=ye.status,Ot=nr()("".concat(Re,"-icon"));if(to.includes("".concat(Nt))){var Vt=_l[Nt];return re.createElement("div",{className:"".concat(Ot," ").concat(Re,"-image")},re.createElement(Vt,null))}var an=re.createElement(Pr[Nt]);return Je===null||Je===!1?null:re.createElement("div",{className:Ot},Je||an)},dh=function(ye){var Re=ye.prefixCls,Je=ye.extra;return Je?re.createElement("div",{className:"".concat(Re,"-extra")},Je):null},sd=function(ye){var Re=ye.prefixCls,Je=ye.className,Nt=ye.subTitle,Ot=ye.title,Vt=ye.style,an=ye.children,yn=ye.status,vn=yn===void 0?"info":yn,Hn=ye.icon,Qn=ye.extra,Zn=re.useContext(yu.E_),pi=Zn.getPrefixCls,Ui=Zn.direction,Wi=pi("result",Re),di=nr()(Wi,"".concat(Wi,"-").concat(vn),Je,(0,W.Z)({},"".concat(Wi,"-rtl"),Ui==="rtl"));return re.createElement("div",{className:di,style:Vt},re.createElement(nc,{prefixCls:Wi,status:vn,icon:Hn}),re.createElement("div",{className:"".concat(Wi,"-title")},Ot),Nt&&re.createElement("div",{className:"".concat(Wi,"-subtitle")},Nt),re.createElement(dh,{prefixCls:Wi,extra:Qn}),an&&re.createElement("div",{className:"".concat(Wi,"-content")},an))};sd.PRESENTED_IMAGE_403=_l[403],sd.PRESENTED_IMAGE_404=_l[404],sd.PRESENTED_IMAGE_500=_l[500];var Eu=sd,Or=function(Be){(0,Vn.Z)(Re,Be);var ye=(0,li.Z)(Re);function Re(){var Je;(0,Qc.Z)(this,Re);for(var Nt=arguments.length,Ot=new Array(Nt),Vt=0;Vt<Nt;Vt++)Ot[Vt]=arguments[Vt];return Je=ye.call.apply(ye,[this].concat(Ot)),Je.state={hasError:!1,errorInfo:""},Je}return(0,Ml.Z)(Re,[{key:"componentDidCatch",value:function(Nt,Ot){console.log(Nt,Ot)}},{key:"render",value:function(){return this.state.hasError?(0,a.jsx)(Eu,{status:"error",title:"Something went wrong.",extra:this.state.errorInfo}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(Nt){return{hasError:!0,errorInfo:Nt.message}}}]),Re}(se().Component),Ad=Or,Pd=function(ye){var Re=ye.autoClearCache,Je=Re===void 0?!0:Re,Nt=ye.style,Ot=ye.className,Vt=ye.children,an=ye.ErrorBoundary||Ad;return(0,a.jsx)(Gs,{autoClearCache:Je,children:ye.ErrorBoundary===!1?(0,a.jsx)(y.Content,{className:Ot,style:Nt,children:Vt}):(0,a.jsx)(an,{children:(0,a.jsx)(y.Content,{className:Ot,style:Nt,children:Vt})})})},od=Pd,Lc=["id","defaultMessage"],vl=["fixSiderbar","navTheme","layout"],ic=0,rd=function(ye,Re){return ye.headerRender===!1||ye.pure?null:(0,a.jsx)(So,(0,m.Z)({matchMenuKeys:Re},ye))},Od=function(ye){return ye.footerRender===!1||ye.pure?null:ye.footerRender?ye.footerRender((0,m.Z)({},ye),(0,a.jsx)(Ct,{})):null},Du=function(ye,Re){var Je=ye.layout,Nt=ye.navTheme,Ot=ye.isMobile,Vt=ye.openKeys,an=ye.splitMenus,yn=ye.menuRender;if(ye.menuRender===!1||ye.pure)return null;var vn=ye.menuData;if(an&&(Vt!==!1||Je==="mix")&&!Ot){var Hn=(0,f.Z)(Re,1),Qn=Hn[0];if(Qn){var Zn,pi;vn=((Zn=ye.menuData)===null||Zn===void 0||(pi=Zn.find(function(di){return di.key===Qn}))===null||pi===void 0?void 0:pi.routes)||[]}else vn=[]}var Ui=Ja(vn||[]);if(Ui&&(Ui==null?void 0:Ui.length)<1&&an)return null;if(Je==="top"&&!Ot)return(0,a.jsx)(v,(0,m.Z)((0,m.Z)({matchMenuKeys:Re},ye),{},{hide:!0}));var Wi=(0,a.jsx)(v,(0,m.Z)((0,m.Z)({matchMenuKeys:Re},ye),{},{style:Nt==="realDark"?{boxShadow:"0 2px 8px 0 rgba(0, 0, 0, 65%)"}:{},menuData:Ui}));return yn?yn(ye,Wi):Wi},uh=function(ye,Re){var Je=Re.pageTitleRender,Nt=un(ye);if(Je===!1)return{title:Re.title||"",id:"",pageName:""};if(Je){var Ot=Je(ye,Nt.title,Nt);if(typeof Ot=="string")return(0,m.Z)((0,m.Z)({},Nt),{},{title:Ot});Il()(typeof Ot=="string","pro-layout: renderPageTitle return value should be a string")}return Nt},xu=function(ye,Re,Je){return ye?Re?48:Je:0},hh=function(ye){var Re,Je,Nt,Ot,Vt=ye||{},an=Vt.children,yn=Vt.onCollapse,vn=Vt.location,Hn=vn===void 0?{pathname:"/"}:vn,Qn=Vt.contentStyle,Zn=Vt.route,pi=Vt.defaultCollapsed,Ui=Vt.style,Wi=Vt.disableContentMargin,di=Vt.siderWidth,Ni=di===void 0?208:di,ns=Vt.menu,qs=Vt.isChildrenLayout,Ws=Vt.menuDataRender,Ys=Vt.actionRef,As=Vt.formatMessage,no=Vt.loading,No=(0,re.useContext)(_.ZP.ConfigContext),ps=(Re=ye.prefixCls)!==null&&Re!==void 0?Re:No.getPrefixCls("pro"),Fr=fe(!1,{value:ns==null?void 0:ns.loading,onChange:ns==null?void 0:ns.onLoadingChange}),Br=(0,f.Z)(Fr,2),qr=Br[0],Nr=Br[1],Uo=(0,re.useState)(function(){return ic+=1,"pro-layout-".concat(ic)}),Ea=(0,f.Z)(Uo,1),ua=Ea[0],Fo=(0,re.useCallback)(function(na){var Ur=na.id,sc=na.defaultMessage,Tu=(0,I.Z)(na,Lc);if(As)return As((0,m.Z)({id:Ur,defaultMessage:sc},Tu));var Cr=ed();return Cr[Ur]?Cr[Ur]:sc},[As]),Ha=Mn(function(){return ns!=null&&ns.params?[ua,ns==null?void 0:ns.params]:[ua,{}]},function(){var na=(0,M.Z)((0,A.Z)().mark(function Ur(sc,Tu){var Cr,dd;return(0,A.Z)().wrap(function(Tc){for(;;)switch(Tc.prev=Tc.next){case 0:return Nr(!0),Tc.next=3,ns==null||(Cr=ns.request)===null||Cr===void 0?void 0:Cr.call(ns,Tu,(Zn==null?void 0:Zn.routes)||[]);case 3:return dd=Tc.sent,Nr(!1),Tc.abrupt("return",dd);case 6:case"end":return Tc.stop()}},Ur)}));return function(Ur,sc){return na.apply(this,arguments)}}(),{revalidateOnFocus:!1,shouldRetryOnError:!1,revalidateOnReconnect:!1}),Ir=Ha.data,ea=Ha.mutate,sr=Lt(),Da=sr.cache;(0,re.useEffect)(function(){return function(){Da instanceof Map&&Da.clear()}},[]);var xa=(0,re.useMemo)(function(){return _u(Ir||(Zn==null?void 0:Zn.routes)||[],ns,Fo,Ws)},[Fo,ns,Ws,Ir,Zn==null?void 0:Zn.routes]),ss=xa||{},or=ss.breadcrumb,Nu=or===void 0?{}:or,cr=ss.breadcrumbMap,Bo=ss.menuData,Qo=Bo===void 0?[]:Bo;Ys&&(ns==null?void 0:ns.request)&&(Ys.current={reload:function(){ea()}});var dr=(0,re.useMemo)(function(){return Ld(Hn.pathname||"/",Qo||[],!0)},[Hn.pathname,Qo]),Wr=(0,re.useMemo)(function(){return Array.from(new Set(dr.map(function(na){return na.key||na.path||""})))},[dr]),tl=dr[dr.length-1]||{},ha=lh(tl),To=(0,m.Z)((0,m.Z)({},ye),ha),Vr=To.fixSiderbar,rr=To.navTheme,Na=To.layout,Cl=(0,I.Z)(To,vl),fa=Md(Na),Ia=Zc(),Hr=(Ia==="sm"||Ia==="xs")&&!ye.disableMobile,Dc=fa!=="top"&&!Hr,xc=(0,G.Z)(function(){return pi!==void 0?pi:!!(Hr||Ia==="md")},{value:ye.collapsed,onChange:yn}),fh=(0,f.Z)(xc,2),ld=fh[0],zr=fh[1],Ol=(0,$c.Z)((0,m.Z)((0,m.Z)((0,m.Z)({prefixCls:ps},ye),{},{siderWidth:Ni},ha),{},{formatMessage:Fo,breadcrumb:Nu,menu:(0,m.Z)((0,m.Z)({},ns),{},{loading:qr}),layout:fa}),["className","style","breadcrumbRender"]),Nc=uh((0,m.Z)((0,m.Z)({pathname:Hn.pathname},Ol),{},{breadcrumbMap:cr}),ye),gh=Pl((0,m.Z)((0,m.Z)({},Ol),{},{breadcrumbRender:ye.breadcrumbRender,breadcrumbMap:cr}),ye),Bd=Du((0,m.Z)((0,m.Z)({},Ol),{},{menuData:Qo,onCollapse:zr,isMobile:Hr,theme:rr==="dark"?"dark":"light",collapsed:ld}),Wr),cd=rd((0,m.Z)((0,m.Z)({},Ol),{},{hasSiderMenu:!!Bd,menuData:Qo,isMobile:Hr,collapsed:ld,onCollapse:zr,theme:rr==="dark"?"dark":"light"}),Wr),Wd=Od((0,m.Z)({isMobile:Hr,collapsed:ld},Ol)),ta=(0,re.useContext)(ml.Z),mf=ta.isChildrenLayout,vr=qs!==void 0?qs:mf,jo="".concat(ps,"-basicLayout"),mh=nr()(ye.className,"ant-design-pro",jo,(Je={},(0,W.Z)(Je,"screen-".concat(Ia),Ia),(0,W.Z)(Je,"".concat(jo,"-top-menu"),fa==="top"),(0,W.Z)(Je,"".concat(jo,"-is-children"),vr),(0,W.Z)(Je,"".concat(jo,"-fix-siderbar"),Vr),(0,W.Z)(Je,"".concat(jo,"-").concat(fa),fa),Je)),Iu=xu(!!Dc,ld,Ni),Ic={position:"relative"};(vr||Qn&&Qn.minHeight)&&(Ic.minHeight=0);var mo=nr()("".concat(jo,"-content"),(Nt={},(0,W.Z)(Nt,"".concat(jo,"-has-header"),cd),(0,W.Z)(Nt,"".concat(jo,"-content-disable-margin"),Wi),Nt));(0,re.useEffect)(function(){var na;(na=ye.onPageChange)===null||na===void 0||na.call(ye,ye.location)},[Hn.pathname,(Ot=Hn.pathname)===null||Ot===void 0?void 0:Ot.search]);var pf=(0,re.useState)(!1),nl=(0,f.Z)(pf,2),Ko=nl[0],Fl=nl[1];return Ie(Nc,ye.title||!1),(0,a.jsx)(Ar.Provider,{children:(0,a.jsx)(ml.Z.Provider,{value:(0,m.Z)((0,m.Z)({},Ol),{},{breadcrumb:gh,menuData:Qo,isMobile:Hr,collapsed:ld,isChildrenLayout:!0,title:Nc.pageName,hasSiderMenu:!!Bd,hasHeader:!!cd,siderWidth:Iu,hasFooter:!!Wd,hasFooterToolbar:Ko,setHasFooterToolbar:Fl,pageTitleInfo:Nc,matchMenus:dr,matchMenuKeys:Wr,currentMenu:tl}),children:ye.pure?(0,a.jsx)(Gs,{autoClearCache:!0,children:an}):(0,a.jsx)("div",{className:mh,children:(0,a.jsxs)(y,{style:(0,m.Z)({minHeight:"100%"},Ui),children:[Bd,(0,a.jsxs)("div",{style:Ic,className:No.getPrefixCls("layout"),children:[cd,(0,a.jsx)(od,(0,m.Z)((0,m.Z)({autoClearCache:!1,isChildrenLayout:vr},Cl),{},{className:mo,style:Qn,children:no?(0,a.jsx)(aa.Z,{}):an})),Wd]})]})})})})},Ec=function(){return(0,a.jsxs)("svg",{width:"32px",height:"32px",viewBox:"0 0 200 200",children:[(0,a.jsxs)("defs",{children:[(0,a.jsxs)("linearGradient",{x1:"62.1023273%",y1:"0%",x2:"108.19718%",y2:"37.8635764%",id:"linearGradient-1",children:[(0,a.jsx)("stop",{stopColor:"#4285EB",offset:"0%"}),(0,a.jsx)("stop",{stopColor:"#2EC7FF",offset:"100%"})]}),(0,a.jsxs)("linearGradient",{x1:"69.644116%",y1:"0%",x2:"54.0428975%",y2:"108.456714%",id:"linearGradient-2",children:[(0,a.jsx)("stop",{stopColor:"#29CDFF",offset:"0%"}),(0,a.jsx)("stop",{stopColor:"#148EFF",offset:"37.8600687%"}),(0,a.jsx)("stop",{stopColor:"#0A60FF",offset:"100%"})]}),(0,a.jsxs)("linearGradient",{x1:"69.6908165%",y1:"-12.9743587%",x2:"16.7228981%",y2:"117.391248%",id:"linearGradient-3",children:[(0,a.jsx)("stop",{stopColor:"#FA816E",offset:"0%"}),(0,a.jsx)("stop",{stopColor:"#F74A5C",offset:"41.472606%"}),(0,a.jsx)("stop",{stopColor:"#F51D2C",offset:"100%"})]}),(0,a.jsxs)("linearGradient",{x1:"68.1279872%",y1:"-35.6905737%",x2:"30.4400914%",y2:"114.942679%",id:"linearGradient-4",children:[(0,a.jsx)("stop",{stopColor:"#FA8E7D",offset:"0%"}),(0,a.jsx)("stop",{stopColor:"#F74A5C",offset:"51.2635191%"}),(0,a.jsx)("stop",{stopColor:"#F51D2C",offset:"100%"})]})]}),(0,a.jsx)("g",{stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",children:(0,a.jsx)("g",{transform:"translate(-20.000000, -20.000000)",children:(0,a.jsx)("g",{transform:"translate(20.000000, 20.000000)",children:(0,a.jsxs)("g",{children:[(0,a.jsxs)("g",{fillRule:"nonzero",children:[(0,a.jsxs)("g",{children:[(0,a.jsx)("path",{d:"M91.5880863,4.17652823 L4.17996544,91.5127728 C-0.519240605,96.2081146 -0.519240605,103.791885 4.17996544,108.487227 L91.5880863,195.823472 C96.2872923,200.518814 103.877304,200.518814 108.57651,195.823472 L145.225487,159.204632 C149.433969,154.999611 149.433969,148.181924 145.225487,143.976903 C141.017005,139.771881 134.193707,139.771881 129.985225,143.976903 L102.20193,171.737352 C101.032305,172.906015 99.2571609,172.906015 98.0875359,171.737352 L28.285908,101.993122 C27.1162831,100.824459 27.1162831,99.050775 28.285908,97.8821118 L98.0875359,28.1378823 C99.2571609,26.9692191 101.032305,26.9692191 102.20193,28.1378823 L129.985225,55.8983314 C134.193707,60.1033528 141.017005,60.1033528 145.225487,55.8983314 C149.433969,51.69331 149.433969,44.8756232 145.225487,40.6706018 L108.58055,4.05574592 C103.862049,-0.537986846 96.2692618,-0.500797906 91.5880863,4.17652823 Z",fill:"url(#linearGradient-1)"}),(0,a.jsx)("path",{d:"M91.5880863,4.17652823 L4.17996544,91.5127728 C-0.519240605,96.2081146 -0.519240605,103.791885 4.17996544,108.487227 L91.5880863,195.823472 C96.2872923,200.518814 103.877304,200.518814 108.57651,195.823472 L145.225487,159.204632 C149.433969,154.999611 149.433969,148.181924 145.225487,143.976903 C141.017005,139.771881 134.193707,139.771881 129.985225,143.976903 L102.20193,171.737352 C101.032305,172.906015 99.2571609,172.906015 98.0875359,171.737352 L28.285908,101.993122 C27.1162831,100.824459 27.1162831,99.050775 28.285908,97.8821118 L98.0875359,28.1378823 C100.999864,25.6271836 105.751642,20.541824 112.729652,19.3524487 C117.915585,18.4685261 123.585219,20.4140239 129.738554,25.1889424 C125.624663,21.0784292 118.571995,14.0340304 108.58055,4.05574592 C103.862049,-0.537986846 96.2692618,-0.500797906 91.5880863,4.17652823 Z",fill:"url(#linearGradient-2)"})]}),(0,a.jsx)("path",{d:"M153.685633,135.854579 C157.894115,140.0596 164.717412,140.0596 168.925894,135.854579 L195.959977,108.842726 C200.659183,104.147384 200.659183,96.5636133 195.960527,91.8688194 L168.690777,64.7181159 C164.472332,60.5180858 157.646868,60.5241425 153.435895,64.7316526 C149.227413,68.936674 149.227413,75.7543607 153.435895,79.9593821 L171.854035,98.3623765 C173.02366,99.5310396 173.02366,101.304724 171.854035,102.473387 L153.685633,120.626849 C149.47715,124.83187 149.47715,131.649557 153.685633,135.854579 Z",fill:"url(#linearGradient-3)"})]}),(0,a.jsx)("ellipse",{fill:"url(#linearGradient-4)",cx:"100.519339",cy:"100.436681",rx:"23.6001926",ry:"23.580786"})]})})})})]})};hh.defaultProps=(0,m.Z)((0,m.Z)({logo:(0,a.jsx)(Ec,{})},Wa),{},{location:de()?window.location:void 0});var ad=hh,Fd=null,da=ad},23840:function(it,Ee,l){"use strict";l.d(Ee,{S1:function(){return Ss},jp:function(){return Mr}});var C=l(94159),d=l(60081),z=l(37534);const O=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class y{static __initStatic(){this.id="InboundFilters"}__init(){this.name=y.id}constructor(Ae={}){this._options=Ae,y.prototype.__init.call(this)}setupOnce(Ae,dt){const Bt=Yt=>{const ln=dt();if(ln){const jn=ln.getIntegration(y);if(jn){const ci=ln.getClient(),Li=ci?ci.getOptions():{},is=W(jn._options,Li);return A(Yt,is)?null:Yt}}return Yt};Bt.id=this.name,Ae(Bt)}}y.__initStatic();function W(nt={},Ae={}){return{allowUrls:[...nt.allowUrls||[],...Ae.allowUrls||[]],denyUrls:[...nt.denyUrls||[],...Ae.denyUrls||[]],ignoreErrors:[...nt.ignoreErrors||[],...Ae.ignoreErrors||[],...O],ignoreInternal:nt.ignoreInternal!==void 0?nt.ignoreInternal:!0}}function A(nt,Ae){return Ae.ignoreInternal&&f(nt)?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.warn(`Event dropped due to being internal Sentry Error.
Event: ${(0,d.jH)(nt)}`),!0):M(nt,Ae.ignoreErrors)?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${(0,d.jH)(nt)}`),!0):I(nt,Ae.denyUrls)?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${(0,d.jH)(nt)}.
Url: ${a(nt)}`),!0):w(nt,Ae.allowUrls)?!1:((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${(0,d.jH)(nt)}.
Url: ${a(nt)}`),!0)}function M(nt,Ae){return!Ae||!Ae.length?!1:_(nt).some(dt=>(0,z.U0)(dt,Ae))}function I(nt,Ae){if(!Ae||!Ae.length)return!1;const dt=a(nt);return dt?(0,z.U0)(dt,Ae):!1}function w(nt,Ae){if(!Ae||!Ae.length)return!0;const dt=a(nt);return dt?(0,z.U0)(dt,Ae):!0}function _(nt){if(nt.message)return[nt.message];if(nt.exception)try{const{type:Ae="",value:dt=""}=nt.exception.values&&nt.exception.values[0]||{};return[`${dt}`,`${Ae}: ${dt}`]}catch(Ae){return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.error(`Cannot extract message for event ${(0,d.jH)(nt)}`),[]}return[]}function f(nt){try{return nt.exception.values[0].type==="SentryError"}catch(Ae){}return!1}function m(nt=[]){for(let Ae=nt.length-1;Ae>=0;Ae--){const dt=nt[Ae];if(dt&&dt.filename!=="<anonymous>"&&dt.filename!=="[native code]")return dt.filename||null}return null}function a(nt){try{let Ae;try{Ae=nt.exception.values[0].stacktrace.frames}catch(dt){}return Ae?m(Ae):null}catch(Ae){return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.error(`Cannot extract url for event ${(0,d.jH)(nt)}`),null}}var x=l(65410);let k;class T{constructor(){T.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=T.id}setupOnce(){k=Function.prototype.toString,Function.prototype.toString=function(...Ae){const dt=(0,x.HK)(this)||this;return k.apply(dt,Ae)}}}T.__initStatic();var N=l(55632),L=l(32625);const R=[];function b(nt){const Ae={};return nt.forEach(dt=>{const{name:Bt}=dt,Yt=Ae[Bt];Yt&&!Yt.isDefaultInstance&&dt.isDefaultInstance||(Ae[Bt]=dt)}),Object.values(Ae)}function P(nt){const Ae=nt.defaultIntegrations||[],dt=nt.integrations;Ae.forEach(jn=>{jn.isDefaultInstance=!0});let Bt;Array.isArray(dt)?Bt=[...Ae,...dt]:typeof dt=="function"?Bt=(0,d.lE)(dt(Ae)):Bt=Ae;const Yt=b(Bt),ln=Yt.findIndex(jn=>jn.name==="Debug");if(ln!==-1){const[jn]=Yt.splice(ln,1);Yt.push(jn)}return Yt}function V(nt){const Ae={};return nt.forEach(dt=>{Ae[dt.name]=dt,R.indexOf(dt.name)===-1&&(dt.setupOnce(L.c,N.Gd),R.push(dt.name),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.log(`Integration installed: ${dt.name}`))}),Ae}function H(nt,Ae){Ae.debug===!0&&(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__?C.kg.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));const dt=(0,N.Gd)(),Bt=dt.getScope();Bt&&Bt.update(Ae.initialScope);const Yt=new nt(Ae);dt.bindClient(Yt)}class ee extends Error{constructor(Ae,dt="warn"){super(Ae),this.message=Ae,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=dt}}const ae=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function me(nt){return nt==="http"||nt==="https"}function ge(nt,Ae=!1){const{host:dt,path:Bt,pass:Yt,port:ln,projectId:jn,protocol:ci,publicKey:Li}=nt;return`${ci}://${Li}${Ae&&Yt?`:${Yt}`:""}@${dt}${ln?`:${ln}`:""}/${Bt&&`${Bt}/`}${jn}`}function re(nt){const Ae=ae.exec(nt);if(!Ae)throw new ee(`Invalid Sentry Dsn: ${nt}`);const[dt,Bt,Yt="",ln,jn="",ci]=Ae.slice(1);let Li="",is=ci;const Ts=is.split("/");if(Ts.length>1&&(Li=Ts.slice(0,-1).join("/"),is=Ts.pop()),is){const Ls=is.match(/^\d+/);Ls&&(is=Ls[0])}return se({host:ln,pass:Yt,path:Li,projectId:is,port:jn,protocol:dt,publicKey:Bt})}function se(nt){return{protocol:nt.protocol,publicKey:nt.publicKey||"",pass:nt.pass||"",host:nt.host,port:nt.port||"",path:nt.path||"",projectId:nt.projectId}}function X(nt){if(!(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__))return;const{port:Ae,projectId:dt,protocol:Bt}=nt;if(["protocol","publicKey","host","projectId"].forEach(ln=>{if(!nt[ln])throw new ee(`Invalid Sentry Dsn: ${ln} missing`)}),!dt.match(/^\d+$/))throw new ee(`Invalid Sentry Dsn: Invalid projectId ${dt}`);if(!me(Bt))throw new ee(`Invalid Sentry Dsn: Invalid protocol ${Bt}`);if(Ae&&isNaN(parseInt(Ae,10)))throw new ee(`Invalid Sentry Dsn: Invalid port ${Ae}`);return!0}function $(nt){const Ae=typeof nt=="string"?re(nt):se(nt);return X(Ae),Ae}const j="7";function ie(nt){const Ae=nt.protocol?`${nt.protocol}:`:"",dt=nt.port?`:${nt.port}`:"";return`${Ae}//${nt.host}${dt}${nt.path?`/${nt.path}`:""}/api/`}function J(nt){return`${ie(nt)}${nt.projectId}/envelope/`}function oe(nt,Ae){return(0,x._j)(Jn({sentry_key:nt.publicKey,sentry_version:j},Ae&&{sentry_client:`${Ae.name}/${Ae.version}`}))}function ce(nt,Ae={}){const dt=typeof Ae=="string"?Ae:Ae.tunnel,Bt=typeof Ae=="string"||!Ae._metadata?void 0:Ae._metadata.sdk;return dt||`${J(nt)}?${oe(nt,Bt)}`}function we(nt,Ae){const dt=$(nt),Bt=`${ie(dt)}embed/error-page/`;let Yt=`dsn=${ge(dt)}`;for(const ln in Ae)if(ln!=="dsn")if(ln==="user"){const jn=Ae.user;if(!jn)continue;jn.name&&(Yt+=`&name=${encodeURIComponent(jn.name)}`),jn.email&&(Yt+=`&email=${encodeURIComponent(jn.email)}`)}else Yt+=`&${encodeURIComponent(ln)}=${encodeURIComponent(Ae[ln])}`;return`${Bt}?${Yt}`}var Me=l(15999),Ke=l(35953),De=l(41961),be=l(88367),We=l(34132),et=l(40751);function Kt(){const nt=typeof WeakSet=="function",Ae=nt?new WeakSet:[];function dt(Yt){if(nt)return Ae.has(Yt)?!0:(Ae.add(Yt),!1);for(let ln=0;ln<Ae.length;ln++)if(Ae[ln]===Yt)return!0;return Ae.push(Yt),!1}function Bt(Yt){if(nt)Ae.delete(Yt);else for(let ln=0;ln<Ae.length;ln++)if(Ae[ln]===Yt){Ae.splice(ln,1);break}}return[dt,Bt]}function _t(nt,Ae=1/0,dt=1/0){try{return kt("",nt,Ae,dt)}catch(Bt){return{ERROR:`**non-serializable** (${Bt})`}}}function tt(nt,Ae=3,dt=100*1024){const Bt=_t(nt,Ae);return Te(Bt)>dt?tt(nt,Ae-1,dt):Bt}function kt(nt,Ae,dt=1/0,Bt=1/0,Yt=Kt()){const[ln,jn]=Yt;if(Ae===null||["number","boolean","string"].includes(typeof Ae)&&!(0,We.i2)(Ae))return Ae;const ci=Ut(nt,Ae);if(!ci.startsWith("[object "))return ci;if(Ae.__sentry_skip_normalization__)return Ae;if(dt===0)return ci.replace("object ","");if(ln(Ae))return"[Circular ~]";const Li=Ae;if(Li&&typeof Li.toJSON=="function")try{const wo=Li.toJSON();return kt("",wo,dt-1,Bt,Yt)}catch(wo){}const is=Array.isArray(Ae)?[]:{};let Ts=0;const Ls=(0,x.Sh)(Ae);for(const wo in Ls){if(!Object.prototype.hasOwnProperty.call(Ls,wo))continue;if(Ts>=Bt){is[wo]="[MaxProperties ~]";break}const Ho=Ls[wo];is[wo]=kt(wo,Ho,dt-1,Bt,Yt),Ts++}return jn(Ae),is}function Ut(nt,Ae){try{return nt==="domain"&&Ae&&typeof Ae=="object"&&Ae._events?"[Domain]":nt==="domainEmitter"?"[DomainEmitter]":typeof l.g!="undefined"&&Ae===l.g?"[Global]":typeof window!="undefined"&&Ae===window?"[Window]":typeof document!="undefined"&&Ae===document?"[Document]":(0,We.Cy)(Ae)?"[SyntheticEvent]":typeof Ae=="number"&&Ae!==Ae?"[NaN]":Ae===void 0?"[undefined]":typeof Ae=="function"?`[Function: ${(0,Me.$P)(Ae)}]`:typeof Ae=="symbol"?`[${String(Ae)}]`:typeof Ae=="bigint"?`[BigInt: ${String(Ae)}]`:`[object ${Object.getPrototypeOf(Ae).constructor.name}]`}catch(dt){return`**non-serializable** (${dt})`}}function Ft(nt){return~-encodeURI(nt).split(/%..|./).length}function Te(nt){return Ft(JSON.stringify(nt))}function Ge(nt,Ae=[]){return[nt,Ae]}function Et(nt,Ae){const[dt,Bt]=nt;return[dt,[...Bt,Ae]]}function Wt(nt,Ae){nt[1].forEach(Bt=>{const Yt=Bt[0].type;Ae(Bt,Yt)})}function Ze(nt,Ae){return(Ae||new TextEncoder).encode(nt)}function xe(nt,Ae){const[dt,Bt]=nt;let Yt=JSON.stringify(dt);function ln(jn){typeof Yt=="string"?Yt=typeof jn=="string"?Yt+jn:[Ze(Yt,Ae),jn]:Yt.push(typeof jn=="string"?Ze(jn,Ae):jn)}for(const jn of Bt){const[ci,Li]=jn;if(ln(`
${JSON.stringify(ci)}
`),typeof Li=="string"||Li instanceof Uint8Array)ln(Li);else{let is;try{is=JSON.stringify(Li)}catch(Ts){is=JSON.stringify(_t(Li))}ln(is)}}return typeof Yt=="string"?Yt:ve(Yt)}function ve(nt){const Ae=nt.reduce((Yt,ln)=>Yt+ln.length,0),dt=new Uint8Array(Ae);let Bt=0;for(const Yt of nt)dt.set(Yt,Bt),Bt+=Yt.length;return dt}function $e(nt,Ae,dt){let Bt=typeof nt=="string"?Ae.encode(nt):nt;function Yt(Li){const is=Bt.subarray(0,Li);return Bt=Bt.subarray(Li+1),is}function ln(){let Li=Bt.indexOf(10);return Li<0&&(Li=Bt.length),JSON.parse(dt.decode(Yt(Li)))}const jn=ln(),ci=[];for(;Bt.length;){const Li=ln(),is=typeof Li.length=="number"?Li.length:void 0;ci.push([Li,is?Yt(is):ln()])}return[jn,ci]}function at(nt,Ae){const dt=typeof nt.data=="string"?Ze(nt.data,Ae):nt.data;return[(0,x.Jr)({type:"attachment",length:dt.length,filename:nt.filename,content_type:nt.contentType,attachment_type:nt.attachmentType}),dt]}const Tt={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile"};function Mt(nt){return Tt[nt]}function gt(nt){if(!nt||!nt.sdk)return;const{name:Ae,version:dt}=nt.sdk;return{name:Ae,version:dt}}function Rt(nt,Ae,dt,Bt){const Yt=nt.sdkProcessingMetadata&&nt.sdkProcessingMetadata.dynamicSamplingContext;return Jn(Jn(Jn({event_id:nt.event_id,sent_at:new Date().toISOString()},Ae&&{sdk:Ae}),!!dt&&{dsn:ge(Bt)}),nt.type==="transaction"&&Yt&&{trace:(0,x.Jr)(Jn({},Yt))})}var Zt=l(13632);function hn(nt,Ae){return Ae&&(nt.sdk=nt.sdk||{},nt.sdk.name=nt.sdk.name||Ae.name,nt.sdk.version=nt.sdk.version||Ae.version,nt.sdk.integrations=[...nt.sdk.integrations||[],...Ae.integrations||[]],nt.sdk.packages=[...nt.sdk.packages||[],...Ae.packages||[]]),nt}function Pe(nt,Ae,dt,Bt){const Yt=gt(dt),ln=Jn(Jn({sent_at:new Date().toISOString()},Yt&&{sdk:Yt}),!!Bt&&{dsn:ge(Ae)}),jn="aggregates"in nt?[{type:"sessions"},nt]:[{type:"session"},nt];return Ge(ln,[jn])}function en(nt,Ae,dt,Bt){const Yt=gt(dt),ln=nt.type||"event";hn(nt,dt&&dt.sdk);const jn=Rt(nt,Yt,Bt,Ae);return delete nt.sdkProcessingMetadata,Ge(jn,[[{type:ln},nt]])}var vt=l(43246);const Le="Not capturing exception because it's already been captured.";class nn{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(Ae){if(nn.prototype.__init.call(this),nn.prototype.__init2.call(this),nn.prototype.__init3.call(this),nn.prototype.__init4.call(this),this._options=Ae,Ae.dsn){this._dsn=$(Ae.dsn);const dt=ce(this._dsn,Ae);this._transport=Ae.transport(io(Jn({recordDroppedEvent:this.recordDroppedEvent.bind(this)},Ae.transportOptions),{url:dt}))}else(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.warn("No DSN provided, client will not do anything.")}captureException(Ae,dt,Bt){if((0,d.YO)(Ae)){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.log(Le);return}let Yt=dt&&dt.event_id;return this._process(this.eventFromException(Ae,dt).then(ln=>this._captureEvent(ln,dt,Bt)).then(ln=>{Yt=ln})),Yt}captureMessage(Ae,dt,Bt,Yt){let ln=Bt&&Bt.event_id;const jn=(0,We.pt)(Ae)?this.eventFromMessage(String(Ae),dt,Bt):this.eventFromException(Ae,Bt);return this._process(jn.then(ci=>this._captureEvent(ci,Bt,Yt)).then(ci=>{ln=ci})),ln}captureEvent(Ae,dt,Bt){if(dt&&dt.originalException&&(0,d.YO)(dt.originalException)){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.log(Le);return}let Yt=dt&&dt.event_id;return this._process(this._captureEvent(Ae,dt,Bt).then(ln=>{Yt=ln})),Yt}captureSession(Ae){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.warn("SDK not enabled, will not capture session.");return}typeof Ae.release!="string"?(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(Ae),(0,vt.CT)(Ae,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getTransport(){return this._transport}flush(Ae){const dt=this._transport;return dt?this._isClientDoneProcessing(Ae).then(Bt=>dt.flush(Ae).then(Yt=>Bt&&Yt)):(0,et.WD)(!0)}close(Ae){return this.flush(Ae).then(dt=>(this.getOptions().enabled=!1,dt))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=V(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(Ae){return this._integrations[Ae]}getIntegration(Ae){try{return this._integrations[Ae.id]||null}catch(dt){return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.warn(`Cannot retrieve integration ${Ae.id} from the current Client`),null}}sendEvent(Ae,dt={}){if(this._dsn){let Bt=en(Ae,this._dsn,this._options._metadata,this._options.tunnel);for(const Yt of dt.attachments||[])Bt=Et(Bt,at(Yt,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(Bt)}}sendSession(Ae){if(this._dsn){const dt=Pe(Ae,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(dt)}}recordDroppedEvent(Ae,dt,Bt){if(this._options.sendClientReports){const Yt=`${Ae}:${dt}`;(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.log(`Adding outcome: "${Yt}"`),this._outcomes[Yt]=this._outcomes[Yt]+1||1}}_updateSessionFromEvent(Ae,dt){let Bt=!1,Yt=!1;const ln=dt.exception&&dt.exception.values;if(ln){Yt=!0;for(const Li of ln){const is=Li.mechanism;if(is&&is.handled===!1){Bt=!0;break}}}const jn=Ae.status==="ok";(jn&&Ae.errors===0||jn&&Bt)&&((0,vt.CT)(Ae,io(Jn({},Bt&&{status:"crashed"}),{errors:Ae.errors||Number(Yt||Bt)})),this.captureSession(Ae))}_isClientDoneProcessing(Ae){return new et.cW(dt=>{let Bt=0;const Yt=1,ln=setInterval(()=>{this._numProcessing==0?(clearInterval(ln),dt(!0)):(Bt+=Yt,Ae&&Bt>=Ae&&(clearInterval(ln),dt(!1)))},Yt)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(Ae,dt,Bt){const{normalizeDepth:Yt=3,normalizeMaxBreadth:ln=1e3}=this.getOptions(),jn=io(Jn({},Ae),{event_id:Ae.event_id||dt.event_id||(0,d.DM)(),timestamp:Ae.timestamp||(0,Zt.yW)()});this._applyClientOptions(jn),this._applyIntegrationsMetadata(jn);let ci=Bt;dt.captureContext&&(ci=L.s.clone(ci).update(dt.captureContext));let Li=(0,et.WD)(jn);if(ci&&ci.getAttachments){const is=[...dt.attachments||[],...ci.getAttachments()];is.length&&(dt.attachments=is),Li=ci.applyToEvent(jn,dt)}return Li.then(is=>typeof Yt=="number"&&Yt>0?this._normalizeEvent(is,Yt,ln):is)}_normalizeEvent(Ae,dt,Bt){if(!Ae)return null;const Yt=Jn(Jn(Jn(Jn(Jn({},Ae),Ae.breadcrumbs&&{breadcrumbs:Ae.breadcrumbs.map(ln=>Jn(Jn({},ln),ln.data&&{data:_t(ln.data,dt,Bt)}))}),Ae.user&&{user:_t(Ae.user,dt,Bt)}),Ae.contexts&&{contexts:_t(Ae.contexts,dt,Bt)}),Ae.extra&&{extra:_t(Ae.extra,dt,Bt)});return Ae.contexts&&Ae.contexts.trace&&Yt.contexts&&(Yt.contexts.trace=Ae.contexts.trace,Ae.contexts.trace.data&&(Yt.contexts.trace.data=_t(Ae.contexts.trace.data,dt,Bt))),Ae.spans&&(Yt.spans=Ae.spans.map(ln=>(ln.data&&(ln.data=_t(ln.data,dt,Bt)),ln))),Yt}_applyClientOptions(Ae){const dt=this.getOptions(),{environment:Bt,release:Yt,dist:ln,maxValueLength:jn=250}=dt;"environment"in Ae||(Ae.environment="environment"in dt?Bt:"production"),Ae.release===void 0&&Yt!==void 0&&(Ae.release=Yt),Ae.dist===void 0&&ln!==void 0&&(Ae.dist=ln),Ae.message&&(Ae.message=(0,z.$G)(Ae.message,jn));const ci=Ae.exception&&Ae.exception.values&&Ae.exception.values[0];ci&&ci.value&&(ci.value=(0,z.$G)(ci.value,jn));const Li=Ae.request;Li&&Li.url&&(Li.url=(0,z.$G)(Li.url,jn))}_applyIntegrationsMetadata(Ae){const dt=Object.keys(this._integrations);dt.length>0&&(Ae.sdk=Ae.sdk||{},Ae.sdk.integrations=[...Ae.sdk.integrations||[],...dt])}_captureEvent(Ae,dt={},Bt){return this._processEvent(Ae,dt,Bt).then(Yt=>Yt.event_id,Yt=>{if(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__){const ln=Yt;ln.logLevel==="log"?C.kg.log(ln.message):C.kg.warn(ln)}})}_processEvent(Ae,dt,Bt){const Yt=this.getOptions(),{sampleRate:ln}=Yt;if(!this._isEnabled())return(0,et.$2)(new ee("SDK not enabled, will not capture event.","log"));const jn=Ne(Ae),ci=wn(Ae),Li=Ae.type||"error",is=`before send for type \`${Li}\``;return ci&&typeof ln=="number"&&Math.random()>ln?(this.recordDroppedEvent("sample_rate","error",Ae),(0,et.$2)(new ee(`Discarding event because it's not included in the random sample (sampling rate = ${ln})`,"log"))):this._prepareEvent(Ae,dt,Bt).then(Ts=>{if(Ts===null)throw this.recordDroppedEvent("event_processor",Li,Ae),new ee("An event processor returned `null`, will not send event.","log");if(dt.data&&dt.data.__sentry__===!0)return Ts;const wo=ei(Yt,Ts,dt);return sn(wo,is)}).then(Ts=>{if(Ts===null)throw this.recordDroppedEvent("before_send",Ae.type||"error",Ae),new ee(`${is} returned \`null\`, will not send event.`,"log");const Ls=Bt&&Bt.getSession();!jn&&Ls&&this._updateSessionFromEvent(Ls,Ts);const wo=Ts.transaction_info;if(jn&&wo&&Ts.transaction!==Ae.transaction){const Ho="custom";Ts.transaction_info=io(Jn({},wo),{source:Ho,changes:[...wo.changes,{source:Ho,timestamp:Ts.timestamp,propagations:wo.propagations}]})}return this.sendEvent(Ts,dt),Ts}).then(null,Ts=>{throw Ts instanceof ee?Ts:(this.captureException(Ts,{data:{__sentry__:!0},originalException:Ts}),new ee(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${Ts}`))})}_process(Ae){this._numProcessing++,Ae.then(dt=>(this._numProcessing--,dt),dt=>(this._numProcessing--,dt))}_sendEnvelope(Ae){this._transport&&this._dsn?this._transport.send(Ae).then(null,dt=>{(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.error("Error while sending event:",dt)}):(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.error("Transport disabled")}_clearOutcomes(){const Ae=this._outcomes;return this._outcomes={},Object.keys(Ae).map(dt=>{const[Bt,Yt]=dt.split(":");return{reason:Bt,category:Yt,quantity:Ae[dt]}})}}function sn(nt,Ae){const dt=`${Ae} must return \`null\` or a valid event.`;if((0,We.J8)(nt))return nt.then(Bt=>{if(!(0,We.PO)(Bt)&&Bt!==null)throw new ee(dt);return Bt},Bt=>{throw new ee(`${Ae} rejected with ${Bt}`)});if(!(0,We.PO)(nt)&&nt!==null)throw new ee(dt);return nt}function ei(nt,Ae,dt){const{beforeSend:Bt,beforeSendTransaction:Yt}=nt;return wn(Ae)&&Bt?Bt(Ae,dt):Ne(Ae)&&Yt?Yt(Ae,dt):Ae}function wn(nt){return nt.type===void 0}function Ne(nt){return nt.type==="transaction"}var Fe=l(79711);function ht(nt,Ae,dt){const Bt=[{type:"client_report"},{timestamp:dt||(0,Zt.yW)(),discarded_events:nt}];return Ge(Ae?{dsn:Ae}:{},[Bt])}function Qt(nt,Ae){const dt=Ht(nt,Ae),Bt={type:Ae&&Ae.name,value:Ue(Ae)};return dt.length&&(Bt.stacktrace={frames:dt}),Bt.type===void 0&&Bt.value===""&&(Bt.value="Unrecoverable error caught"),Bt}function dn(nt,Ae,dt,Bt){const ln=(0,N.Gd)().getClient(),jn=ln&&ln.getOptions().normalizeDepth,ci={exception:{values:[{type:(0,We.cO)(Ae)?Ae.constructor.name:Bt?"UnhandledRejection":"Error",value:`Non-Error ${Bt?"promise rejection":"exception"} captured with keys: ${(0,x.zf)(Ae)}`}]},extra:{__serialized__:tt(Ae,jn)}};if(dt){const Li=Ht(nt,dt);Li.length&&(ci.exception.values[0].stacktrace={frames:Li})}return ci}function gn(nt,Ae){return{exception:{values:[Qt(nt,Ae)]}}}function Ht(nt,Ae){const dt=Ae.stacktrace||Ae.stack||"",Bt=Cn(Ae);try{return nt(dt,Bt)}catch(Yt){}return[]}const lt=/Minified React error #\d+;/i;function Cn(nt){if(nt){if(typeof nt.framesToPop=="number")return nt.framesToPop;if(lt.test(nt.message))return 1}return 0}function Ue(nt){const Ae=nt&&nt.message;return Ae?Ae.error&&typeof Ae.error.message=="string"?Ae.error.message:Ae:"No error message"}function Pt(nt,Ae,dt,Bt){const Yt=dt&&dt.syntheticException||void 0,ln=He(nt,Ae,Yt,Bt);return(0,d.EG)(ln),ln.level="error",dt&&dt.event_id&&(ln.event_id=dt.event_id),(0,et.WD)(ln)}function Lt(nt,Ae,dt="info",Bt,Yt){const ln=Bt&&Bt.syntheticException||void 0,jn=Ve(nt,Ae,ln,Yt);return jn.level=dt,Bt&&Bt.event_id&&(jn.event_id=Bt.event_id),(0,et.WD)(jn)}function He(nt,Ae,dt,Bt,Yt){let ln;if((0,We.VW)(Ae)&&Ae.error)return gn(nt,Ae.error);if((0,We.TX)(Ae)||(0,We.fm)(Ae)){const jn=Ae;if("stack"in Ae)ln=gn(nt,Ae);else{const ci=jn.name||((0,We.TX)(jn)?"DOMError":"DOMException"),Li=jn.message?`${ci}: ${jn.message}`:ci;ln=Ve(nt,Li,dt,Bt),(0,d.Db)(ln,Li)}return"code"in jn&&(ln.tags=io(Jn({},ln.tags),{"DOMException.code":`${jn.code}`})),ln}return(0,We.VZ)(Ae)?gn(nt,Ae):(0,We.PO)(Ae)||(0,We.cO)(Ae)?(ln=dn(nt,Ae,dt,Yt),(0,d.EG)(ln,{synthetic:!0}),ln):(ln=Ve(nt,Ae,dt,Bt),(0,d.Db)(ln,`${Ae}`,void 0),(0,d.EG)(ln,{synthetic:!0}),ln)}function Ve(nt,Ae,dt,Bt){const Yt={message:Ae};if(Bt&&dt){const ln=Ht(nt,dt);ln.length&&(Yt.exception={values:[{value:Ae,stacktrace:{frames:ln}}]})}return Yt}var Se=l(51628),St=l(98755);const Jt=St.n2;let mn=0;function Mn(){return mn>0}function kn(){mn++,setTimeout(()=>{mn--})}function Nn(nt,Ae={},dt){if(typeof nt!="function")return nt;try{const Yt=nt.__sentry_wrapped__;if(Yt)return Yt;if((0,x.HK)(nt))return nt}catch(Yt){return nt}const Bt=function(){const Yt=Array.prototype.slice.call(arguments);try{dt&&typeof dt=="function"&&dt.apply(this,arguments);const ln=Yt.map(jn=>Nn(jn,Ae));return nt.apply(this,ln)}catch(ln){throw kn(),(0,Se.$e)(jn=>{jn.addEventProcessor(ci=>(Ae.mechanism&&((0,d.Db)(ci,void 0,void 0),(0,d.EG)(ci,Ae.mechanism)),ci.extra=io(Jn({},ci.extra),{arguments:Yt}),ci)),(0,Se.Tb)(ln)}),ln}};try{for(const Yt in nt)Object.prototype.hasOwnProperty.call(nt,Yt)&&(Bt[Yt]=nt[Yt])}catch(Yt){}(0,x.$Q)(Bt,nt),(0,x.xp)(nt,"__sentry_wrapped__",Bt);try{Object.getOwnPropertyDescriptor(Bt,"name").configurable&&Object.defineProperty(Bt,"name",{get(){return nt.name}})}catch(Yt){}return Bt}var xn=l(8129);const Xn=["fatal","error","warning","log","info","debug"];function Sn(nt){return Gn(nt)}function Gn(nt){return nt==="warn"?"warning":Xn.includes(nt)?nt:"log"}function ti(nt){if(!nt)return{};const Ae=nt.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!Ae)return{};const dt=Ae[6]||"",Bt=Ae[8]||"";return{host:Ae[4],path:Ae[5],protocol:Ae[2],relative:Ae[5]+dt+Bt}}function An(nt){return nt.split(/[\?#]/,1)[0]}function Bi(nt){return nt.split(/\\?\//).filter(Ae=>Ae.length>0&&Ae!==",").length}const oi=1024,Yn="Breadcrumbs";class Ci{static __initStatic(){this.id=Yn}__init(){this.name=Ci.id}constructor(Ae){Ci.prototype.__init.call(this),this.options=Jn({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},Ae)}setupOnce(){this.options.console&&(0,De.o)("console",Si),this.options.dom&&(0,De.o)("dom",On(this.options.dom)),this.options.xhr&&(0,De.o)("xhr",Di),this.options.fetch&&(0,De.o)("fetch",ni),this.options.history&&(0,De.o)("history",Kn)}addSentryBreadcrumb(Ae){this.options.sentry&&(0,N.Gd)().addBreadcrumb({category:`sentry.${Ae.type==="transaction"?"transaction":"event"}`,event_id:Ae.event_id,level:Ae.level,message:(0,d.jH)(Ae)},{event:Ae})}}Ci.__initStatic();function On(nt){function Ae(dt){let Bt,Yt=typeof nt=="object"?nt.serializeAttribute:void 0,ln=typeof nt=="object"&&typeof nt.maxStringLength=="number"?nt.maxStringLength:void 0;ln&&ln>oi&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.warn(`\`dom.maxStringLength\` cannot exceed ${oi}, but a value of ${ln} was configured. Sentry will use ${oi} instead.`),ln=oi),typeof Yt=="string"&&(Yt=[Yt]);try{Bt=dt.event.target?(0,xn.Rt)(dt.event.target,{keyAttrs:Yt,maxStringLength:ln}):(0,xn.Rt)(dt.event,{keyAttrs:Yt,maxStringLength:ln})}catch(jn){Bt="<unknown>"}Bt.length!==0&&(0,N.Gd)().addBreadcrumb({category:`ui.${dt.name}`,message:Bt},{event:dt.event,name:dt.name,global:dt.global})}return Ae}function Si(nt){for(let dt=0;dt<nt.args.length;dt++)if(nt.args[dt]==="ref=Ref<"){nt.args[dt+1]="viewRef";break}const Ae={category:"console",data:{arguments:nt.args,logger:"console"},level:Gn(nt.level),message:(0,z.nK)(nt.args," ")};if(nt.level==="assert")if(nt.args[0]===!1)Ae.message=`Assertion failed: ${(0,z.nK)(nt.args.slice(1)," ")||"console.assert"}`,Ae.data.arguments=nt.args.slice(1);else return;(0,N.Gd)().addBreadcrumb(Ae,{input:nt.args,level:nt.level})}function Di(nt){if(nt.endTimestamp){if(nt.xhr.__sentry_own_request__)return;const{method:Ae,url:dt,status_code:Bt,body:Yt}=nt.xhr.__sentry_xhr__||{};(0,N.Gd)().addBreadcrumb({category:"xhr",data:{method:Ae,url:dt,status_code:Bt},type:"http"},{xhr:nt.xhr,input:Yt});return}}function ni(nt){!nt.endTimestamp||nt.fetchData.url.match(/sentry_key/)&&nt.fetchData.method==="POST"||(nt.error?(0,N.Gd)().addBreadcrumb({category:"fetch",data:nt.fetchData,level:"error",type:"http"},{data:nt.error,input:nt.args}):(0,N.Gd)().addBreadcrumb({category:"fetch",data:io(Jn({},nt.fetchData),{status_code:nt.response.status}),type:"http"},{input:nt.args,response:nt.response}))}function Kn(nt){let Ae=nt.from,dt=nt.to;const Bt=ti(Jt.location.href);let Yt=ti(Ae);const ln=ti(dt);Yt.path||(Yt=Bt),Bt.protocol===ln.protocol&&Bt.host===ln.host&&(dt=ln.relative),Bt.protocol===Yt.protocol&&Bt.host===Yt.host&&(Ae=Yt.relative),(0,N.Gd)().addBreadcrumb({category:"navigation",data:{from:Ae,to:dt}})}class Pi extends nn{constructor(Ae){Ae._metadata=Ae._metadata||{},Ae._metadata.sdk=Ae._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:Fe.J}],version:Fe.J},super(Ae),Ae.sendClientReports&&Jt.document&&Jt.document.addEventListener("visibilitychange",()=>{Jt.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(Ae,dt){return Pt(this._options.stackParser,Ae,dt,this._options.attachStacktrace)}eventFromMessage(Ae,dt="info",Bt){return Lt(this._options.stackParser,Ae,dt,Bt,this._options.attachStacktrace)}sendEvent(Ae,dt){const Bt=this.getIntegrationById(Yn);(0,be.x)([Bt,"optionalAccess",Yt=>Yt.addSentryBreadcrumb,"optionalCall",Yt=>Yt(Ae)]),super.sendEvent(Ae,dt)}_prepareEvent(Ae,dt,Bt){return Ae.platform=Ae.platform||"javascript",super._prepareEvent(Ae,dt,Bt)}_flushOutcomes(){const Ae=this._clearOutcomes();if(Ae.length===0){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.log("No outcomes to send");return}if(!this._dsn){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.log("No dsn provided, will not send outcomes");return}(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.log("Sending outcomes:",Ae);const dt=ce(this._dsn,this._options),Bt=ht(Ae,this._options.tunnel&&ge(this._dsn));try{Object.prototype.toString.call(Jt&&Jt.navigator)==="[object Navigator]"&&typeof Jt.navigator.sendBeacon=="function"&&!this._options.transportOptions?Jt.navigator.sendBeacon.bind(Jt.navigator)(dt,xe(Bt)):this._sendEnvelope(Bt)}catch(Yt){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.error(Yt)}}}const Vi="?",Oi=10,_i=20,Ye=30,It=40,cn=50;function on(nt,Ae,dt,Bt){const Yt={filename:nt,function:Ae,in_app:!0};return dt!==void 0&&(Yt.lineno=dt),Bt!==void 0&&(Yt.colno=Bt),Yt}const bn=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,hi=/\((\S*)(?::(\d+))(?::(\d+))\)/,Zi=[Ye,nt=>{const Ae=bn.exec(nt);if(Ae){if(Ae[2]&&Ae[2].indexOf("eval")===0){const ln=hi.exec(Ae[2]);ln&&(Ae[2]=ln[1],Ae[3]=ln[2],Ae[4]=ln[3])}const[Bt,Yt]=Us(Ae[1]||Vi,Ae[2]);return on(Yt,Bt,Ae[3]?+Ae[3]:void 0,Ae[4]?+Ae[4]:void 0)}}],ri=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,ki=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,qi=[cn,nt=>{const Ae=ri.exec(nt);if(Ae){if(Ae[3]&&Ae[3].indexOf(" > eval")>-1){const ln=ki.exec(Ae[3]);ln&&(Ae[1]=Ae[1]||"eval",Ae[3]=ln[1],Ae[4]=ln[2],Ae[5]="")}let Bt=Ae[3],Yt=Ae[1]||Vi;return[Yt,Bt]=Us(Yt,Bt),on(Bt,Yt,Ae[4]?+Ae[4]:void 0,Ae[5]?+Ae[5]:void 0)}}],Xs=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Ki=[It,nt=>{const Ae=Xs.exec(nt);return Ae?on(Ae[2],Ae[1]||Vi,+Ae[3],Ae[4]?+Ae[4]:void 0):void 0}],Os=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,Jo=[Oi,nt=>{const Ae=Os.exec(nt);return Ae?on(Ae[2],Ae[3]||Vi,+Ae[1]):void 0}],co=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,ts=[_i,nt=>{const Ae=co.exec(nt);return Ae?on(Ae[5],Ae[3]||Ae[4]||Vi,+Ae[1],+Ae[2]):void 0}],bo=[Zi,qi,Ki],Lo=(0,Me.pE)(...bo),Us=(nt,Ae)=>{const dt=nt.indexOf("safari-extension")!==-1,Bt=nt.indexOf("safari-web-extension")!==-1;return dt||Bt?[nt.indexOf("@")!==-1?nt.split("@")[0]:Vi,dt?`safari-extension:${Ae}`:`safari-web-extension:${Ae}`]:[nt,Ae]},Rs=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class Ns{static __initStatic(){this.id="TryCatch"}__init(){this.name=Ns.id}constructor(Ae){Ns.prototype.__init.call(this),this._options=Jn({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},Ae)}setupOnce(){this._options.setTimeout&&(0,x.hl)(Jt,"setTimeout",Vo),this._options.setInterval&&(0,x.hl)(Jt,"setInterval",Vo),this._options.requestAnimationFrame&&(0,x.hl)(Jt,"requestAnimationFrame",Po),this._options.XMLHttpRequest&&"XMLHttpRequest"in Jt&&(0,x.hl)(XMLHttpRequest.prototype,"send",$o);const Ae=this._options.eventTarget;Ae&&(Array.isArray(Ae)?Ae:Rs).forEach(go)}}Ns.__initStatic();function Vo(nt){return function(...Ae){const dt=Ae[0];return Ae[0]=Nn(dt,{mechanism:{data:{function:(0,Me.$P)(nt)},handled:!0,type:"instrument"}}),nt.apply(this,Ae)}}function Po(nt){return function(Ae){return nt.apply(this,[Nn(Ae,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,Me.$P)(nt)},handled:!0,type:"instrument"}})])}}function $o(nt){return function(...Ae){const dt=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(Yt=>{Yt in dt&&typeof dt[Yt]=="function"&&(0,x.hl)(dt,Yt,function(ln){const jn={mechanism:{data:{function:Yt,handler:(0,Me.$P)(ln)},handled:!0,type:"instrument"}},ci=(0,x.HK)(ln);return ci&&(jn.mechanism.data.handler=(0,Me.$P)(ci)),Nn(ln,jn)})}),nt.apply(this,Ae)}}function go(nt){const Ae=Jt,dt=Ae[nt]&&Ae[nt].prototype;!dt||!dt.hasOwnProperty||!dt.hasOwnProperty("addEventListener")||((0,x.hl)(dt,"addEventListener",function(Bt){return function(Yt,ln,jn){try{typeof ln.handleEvent=="function"&&(ln.handleEvent=Nn(ln.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,Me.$P)(ln),target:nt},handled:!0,type:"instrument"}}))}catch(ci){}return Bt.apply(this,[Yt,Nn(ln,{mechanism:{data:{function:"addEventListener",handler:(0,Me.$P)(ln),target:nt},handled:!0,type:"instrument"}}),jn])}}),(0,x.hl)(dt,"removeEventListener",function(Bt){return function(Yt,ln,jn){const ci=ln;try{const Li=ci&&ci.__sentry_wrapped__;Li&&Bt.call(this,Yt,Li,jn)}catch(Li){}return Bt.call(this,Yt,ci,jn)}}))}class Is{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=Is.id}__init2(){this._installFunc={onerror:Go,onunhandledrejection:qo}}constructor(Ae){Is.prototype.__init.call(this),Is.prototype.__init2.call(this),this._options=Jn({onerror:!0,onunhandledrejection:!0},Ae)}setupOnce(){Error.stackTraceLimit=50;const Ae=this._options;for(const dt in Ae){const Bt=this._installFunc[dt];Bt&&Ae[dt]&&(va(dt),Bt(),this._installFunc[dt]=void 0)}}}Is.__initStatic();function Go(){(0,De.o)("error",nt=>{const[Ae,dt,Bt]=G();if(!Ae.getIntegration(Is))return;const{msg:Yt,url:ln,line:jn,column:ci,error:Li}=nt;if(Mn()||Li&&Li.__sentry_own_request__)return;const is=Li===void 0&&(0,We.HD)(Yt)?Gs(Yt,ln,jn,ci):es(He(dt,Li||Yt,void 0,Bt,!1),ln,jn,ci);is.level="error",tn(Ae,Li,is,"onerror")})}function qo(){(0,De.o)("unhandledrejection",nt=>{const[Ae,dt,Bt]=G();if(!Ae.getIntegration(Is))return;let Yt=nt;try{"reason"in nt?Yt=nt.reason:"detail"in nt&&"reason"in nt.detail&&(Yt=nt.detail.reason)}catch(jn){}if(Mn()||Yt&&Yt.__sentry_own_request__)return!0;const ln=(0,We.pt)(Yt)?Xi(Yt):He(dt,Yt,void 0,Bt,!0);ln.level="error",tn(Ae,Yt,ln,"onunhandledrejection")})}function Xi(nt){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(nt)}`}]}}}function Gs(nt,Ae,dt,Bt){const Yt=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let ln=(0,We.VW)(nt)?nt.message:nt,jn="Error";const ci=ln.match(Yt);return ci&&(jn=ci[1],ln=ci[2]),es({exception:{values:[{type:jn,value:ln}]}},Ae,dt,Bt)}function es(nt,Ae,dt,Bt){const Yt=nt.exception=nt.exception||{},ln=Yt.values=Yt.values||[],jn=ln[0]=ln[0]||{},ci=jn.stacktrace=jn.stacktrace||{},Li=ci.frames=ci.frames||[],is=isNaN(parseInt(Bt,10))?void 0:Bt,Ts=isNaN(parseInt(dt,10))?void 0:dt,Ls=(0,We.HD)(Ae)&&Ae.length>0?Ae:(0,xn.l4)();return Li.length===0&&Li.push({colno:is,filename:Ls,function:"?",in_app:!0,lineno:Ts}),nt}function va(nt){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.log(`Global Handler attached: ${nt}`)}function tn(nt,Ae,dt,Bt){(0,d.EG)(dt,{handled:!1,type:Bt}),nt.captureEvent(dt,{originalException:Ae})}function G(){const nt=(0,N.Gd)(),Ae=nt.getClient(),dt=Ae&&Ae.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[nt,dt.stackParser,dt.attachStacktrace]}const q="cause",fe=5;class p{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=p.id}constructor(Ae={}){p.prototype.__init.call(this),this._key=Ae.key||q,this._limit=Ae.limit||fe}setupOnce(){const Ae=(0,N.Gd)().getClient();!Ae||(0,L.c)((dt,Bt)=>{const Yt=(0,N.Gd)().getIntegration(p);return Yt?F(Ae.getOptions().stackParser,Yt._key,Yt._limit,dt,Bt):dt})}}p.__initStatic();function F(nt,Ae,dt,Bt,Yt){if(!Bt.exception||!Bt.exception.values||!Yt||!(0,We.V9)(Yt.originalException,Error))return Bt;const ln=Z(nt,dt,Yt.originalException,Ae);return Bt.exception.values=[...ln,...Bt.exception.values],Bt}function Z(nt,Ae,dt,Bt,Yt=[]){if(!(0,We.V9)(dt[Bt],Error)||Yt.length+1>=Ae)return Yt;const ln=Qt(nt,dt[Bt]);return Z(nt,Ae,dt[Bt],Bt,[ln,...Yt])}class de{constructor(){de.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=de.id}setupOnce(Ae,dt){const Bt=Yt=>{const ln=dt().getIntegration(de);if(ln){try{if(pe(Yt,ln._previousEvent))return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(jn){return ln._previousEvent=Yt}return ln._previousEvent=Yt}return Yt};Bt.id=this.name,Ae(Bt)}}de.__initStatic();function pe(nt,Ae){return Ae?!!(Ie(nt,Ae)||st(nt,Ae)):!1}function Ie(nt,Ae){const dt=nt.message,Bt=Ae.message;return!(!dt&&!Bt||dt&&!Bt||!dt&&Bt||dt!==Bt||!pt(nt,Ae)||!ot(nt,Ae))}function st(nt,Ae){const dt=mt(Ae),Bt=mt(nt);return!(!dt||!Bt||dt.type!==Bt.type||dt.value!==Bt.value||!pt(nt,Ae)||!ot(nt,Ae))}function ot(nt,Ae){let dt=xt(nt),Bt=xt(Ae);if(!dt&&!Bt)return!0;if(dt&&!Bt||!dt&&Bt||(dt=dt,Bt=Bt,Bt.length!==dt.length))return!1;for(let Yt=0;Yt<Bt.length;Yt++){const ln=Bt[Yt],jn=dt[Yt];if(ln.filename!==jn.filename||ln.lineno!==jn.lineno||ln.colno!==jn.colno||ln.function!==jn.function)return!1}return!0}function pt(nt,Ae){let dt=nt.fingerprint,Bt=Ae.fingerprint;if(!dt&&!Bt)return!0;if(dt&&!Bt||!dt&&Bt)return!1;dt=dt,Bt=Bt;try{return dt.join("")===Bt.join("")}catch(Yt){return!1}}function mt(nt){return nt.exception&&nt.exception.values&&nt.exception.values[0]}function xt(nt){const Ae=nt.exception;if(Ae)try{return Ae.values[0].stacktrace.frames}catch(dt){return}}class ft{constructor(){ft.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=ft.id}setupOnce(){(0,L.c)(Ae=>{if((0,N.Gd)().getIntegration(ft)){if(!Jt.navigator&&!Jt.location&&!Jt.document)return Ae;const dt=Ae.request&&Ae.request.url||Jt.location&&Jt.location.href,{referrer:Bt}=Jt.document||{},{userAgent:Yt}=Jt.navigator||{},ln=Jn(Jn(Jn({},Ae.request&&Ae.request.headers),Bt&&{Referer:Bt}),Yt&&{"User-Agent":Yt}),jn=io(Jn({},dt&&{url:dt}),{headers:ln});return io(Jn({},Ae),{request:jn})}return Ae})}}ft.__initStatic();function wt(nt){const Ae=[];function dt(){return nt===void 0||Ae.length<nt}function Bt(jn){return Ae.splice(Ae.indexOf(jn),1)[0]}function Yt(jn){if(!dt())return(0,et.$2)(new ee("Not adding Promise because buffer limit was reached."));const ci=jn();return Ae.indexOf(ci)===-1&&Ae.push(ci),ci.then(()=>Bt(ci)).then(null,()=>Bt(ci).then(null,()=>{})),ci}function ln(jn){return new et.cW((ci,Li)=>{let is=Ae.length;if(!is)return ci(!0);const Ts=setTimeout(()=>{jn&&jn>0&&ci(!1)},jn);Ae.forEach(Ls=>{(0,et.WD)(Ls).then(()=>{--is||(clearTimeout(Ts),ci(!0))},Li)})})}return{$:Ae,add:Yt,drain:ln}}const _n=60*1e3;function $n(nt,Ae=Date.now()){const dt=parseInt(`${nt}`,10);if(!isNaN(dt))return dt*1e3;const Bt=Date.parse(`${nt}`);return isNaN(Bt)?_n:Bt-Ae}function Wn(nt,Ae){return nt[Ae]||nt.all||0}function fi(nt,Ae,dt=Date.now()){return Wn(nt,Ae)>dt}function Fi(nt,{statusCode:Ae,headers:dt},Bt=Date.now()){const Yt=Jn({},nt),ln=dt&&dt["x-sentry-rate-limits"],jn=dt&&dt["retry-after"];if(ln)for(const ci of ln.trim().split(",")){const[Li,is]=ci.split(":",2),Ts=parseInt(Li,10),Ls=(isNaN(Ts)?60:Ts)*1e3;if(!is)Yt.all=Bt+Ls;else for(const wo of is.split(";"))Yt[wo]=Bt+Ls}else jn?Yt.all=Bt+$n(jn,Bt):Ae===429&&(Yt.all=Bt+60*1e3);return Yt}const jt=30;function vi(nt,Ae,dt=wt(nt.bufferSize||jt)){let Bt={};const Yt=jn=>dt.drain(jn);function ln(jn){const ci=[];if(Wt(jn,(Ls,wo)=>{const Ho=Mt(wo);if(fi(Bt,Ho)){const er=rs(Ls,wo);nt.recordDroppedEvent("ratelimit_backoff",Ho,er)}else ci.push(Ls)}),ci.length===0)return(0,et.WD)();const Li=Ge(jn[0],ci),is=Ls=>{Wt(Li,(wo,Ho)=>{const er=rs(wo,Ho);nt.recordDroppedEvent(Ls,Mt(Ho),er)})},Ts=()=>Ae({body:xe(Li,nt.textEncoder)}).then(Ls=>{Ls.statusCode!==void 0&&(Ls.statusCode<200||Ls.statusCode>=300)&&(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.warn(`Sentry responded with status code ${Ls.statusCode} to sent event.`),Bt=Fi(Bt,Ls)},Ls=>{(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.error("Failed while sending event:",Ls),is("network_error")});return dt.add(Ts).then(Ls=>Ls,Ls=>{if(Ls instanceof ee)return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.error("Skipped sending event because buffer is full."),is("queue_overflow"),(0,et.WD)();throw Ls})}return{send:ln,flush:Yt}}function rs(nt,Ae){if(!(Ae!=="event"&&Ae!=="transaction"))return Array.isArray(nt)?nt[1]:void 0}let Fs;function Js(){if(Fs)return Fs;if((0,Ke.Du)(Jt.fetch))return Fs=Jt.fetch.bind(Jt);const nt=Jt.document;let Ae=Jt.fetch;if(nt&&typeof nt.createElement=="function")try{const dt=nt.createElement("iframe");dt.hidden=!0,nt.head.appendChild(dt);const Bt=dt.contentWindow;Bt&&Bt.fetch&&(Ae=Bt.fetch),nt.head.removeChild(dt)}catch(dt){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",dt)}return Fs=Ae.bind(Jt)}function gr(){Fs=void 0}function Zo(nt,Ae=Js()){function dt(Bt){const Yt=Jn({body:Bt.body,method:"POST",referrerPolicy:"origin",headers:nt.headers,keepalive:Bt.body.length<=65536},nt.fetchOptions);try{return Ae(nt.url,Yt).then(ln=>({statusCode:ln.status,headers:{"x-sentry-rate-limits":ln.headers.get("X-Sentry-Rate-Limits"),"retry-after":ln.headers.get("Retry-After")}}))}catch(ln){return gr(),(0,et.$2)(ln)}}return vi(nt,dt)}const ls=4;function zi(nt){function Ae(dt){return new et.cW((Bt,Yt)=>{const ln=new XMLHttpRequest;ln.onerror=Yt,ln.onreadystatechange=()=>{ln.readyState===ls&&Bt({statusCode:ln.status,headers:{"x-sentry-rate-limits":ln.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":ln.getResponseHeader("Retry-After")}})},ln.open("POST",nt.url);for(const jn in nt.headers)Object.prototype.hasOwnProperty.call(nt.headers,jn)&&ln.setRequestHeader(jn,nt.headers[jn]);ln.send(dt.body)})}return vi(nt,Ae)}const ks=[new y,new T,new Ns,new Ci,new Is,new p,new de,new ft];function Ss(nt={}){nt.defaultIntegrations===void 0&&(nt.defaultIntegrations=ks),nt.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(nt.release=__SENTRY_RELEASE__),Jt.SENTRY_RELEASE&&Jt.SENTRY_RELEASE.id&&(nt.release=Jt.SENTRY_RELEASE.id)),nt.autoSessionTracking===void 0&&(nt.autoSessionTracking=!0),nt.sendClientReports===void 0&&(nt.sendClientReports=!0);const Ae=io(Jn({},nt),{stackParser:(0,Me.Sq)(nt.stackParser||Lo),integrations:P(nt),transport:nt.transport||((0,Ke.Ak)()?Zo:zi)});H(Pi,Ae),nt.autoSessionTracking&&xi()}function Mr(nt={},Ae=(0,N.Gd)()){if(!Jt.document){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.error("Global document not defined in showReportDialog call");return}const{client:dt,scope:Bt}=Ae.getStackTop(),Yt=nt.dsn||dt&&dt.getDsn();if(!Yt){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.error("DSN not configured for showReportDialog call");return}Bt&&(nt.user=Jn(Jn({},Bt.getUser()),nt.user)),nt.eventId||(nt.eventId=Ae.lastEventId());const ln=Jt.document.createElement("script");ln.async=!0,ln.src=we(Yt,nt),nt.onLoad&&(ln.onload=nt.onLoad);const jn=Jt.document.head||Jt.document.body;jn?jn.appendChild(ln):(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.error("Not injecting report dialog. No injection point found in HTML")}function Io(){return getCurrentHub().lastEventId()}function us(){}function uo(nt){nt()}function xo(nt){const Ae=getCurrentHub().getClient();return Ae?Ae.flush(nt):((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&logger.warn("Cannot flush events. No client defined."),resolvedSyncPromise(!1))}function Sr(nt){const Ae=getCurrentHub().getClient();return Ae?Ae.close(nt):((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&logger.warn("Cannot flush events and disable SDK. No client defined."),resolvedSyncPromise(!1))}function mr(nt){return wrap$1(nt)()}function Eo(nt){nt.startSession({ignoreDuration:!0}),nt.captureSession()}function xi(){if(typeof Jt.document=="undefined"){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}const nt=(0,N.Gd)();!nt.captureSession||(Eo(nt),(0,De.o)("history",({from:Ae,to:dt})=>{Ae===void 0||Ae===dt||Eo((0,N.Gd)())}))}},51628:function(it,Ee,l){"use strict";l.d(Ee,{$e:function(){return m},Tb:function(){return d},uT:function(){return z}});var C=l(55632);function d(x,k){return(0,C.Gd)().captureException(x,{captureContext:k})}function z(x,k){const T=typeof k=="string"?k:void 0,N=typeof k!="string"?{captureContext:k}:void 0;return(0,C.Gd)().captureMessage(x,T,N)}function O(x,k){return getCurrentHub().captureEvent(x,k)}function y(x){getCurrentHub().configureScope(x)}function W(x){getCurrentHub().addBreadcrumb(x)}function A(x,k){getCurrentHub().setContext(x,k)}function M(x){getCurrentHub().setExtras(x)}function I(x,k){getCurrentHub().setExtra(x,k)}function w(x){getCurrentHub().setTags(x)}function _(x,k){getCurrentHub().setTag(x,k)}function f(x){getCurrentHub().setUser(x)}function m(x){(0,C.Gd)().withScope(x)}function a(x,k){return getCurrentHub().startTransaction(Jn({},x),k)}},55632:function(it,Ee,l){"use strict";l.d(Ee,{Gd:function(){return m},cu:function(){return _}});var C=l(60081),d=l(13632),z=l(94159),O=l(98755),y=l(47017),W=l(32625),A=l(43246);const M=4,I=100;class w{__init(){this._stack=[{}]}constructor(L,R=new W.s,b=M){this._version=b,w.prototype.__init.call(this),this.getStackTop().scope=R,L&&this.bindClient(L)}isOlderThan(L){return this._version<L}bindClient(L){const R=this.getStackTop();R.client=L,L&&L.setupIntegrations&&L.setupIntegrations()}pushScope(){const L=W.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:L}),L}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(L){const R=this.pushScope();try{L(R)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(L,R){const b=this._lastEventId=R&&R.event_id?R.event_id:(0,C.DM)(),P=new Error("Sentry syntheticException");return this._withClient((V,H)=>{V.captureException(L,io(Jn({originalException:L,syntheticException:P},R),{event_id:b}),H)}),b}captureMessage(L,R,b){const P=this._lastEventId=b&&b.event_id?b.event_id:(0,C.DM)(),V=new Error(L);return this._withClient((H,ee)=>{H.captureMessage(L,R,io(Jn({originalException:L,syntheticException:V},b),{event_id:P}),ee)}),P}captureEvent(L,R){const b=R&&R.event_id?R.event_id:(0,C.DM)();return L.type!=="transaction"&&(this._lastEventId=b),this._withClient((P,V)=>{P.captureEvent(L,io(Jn({},R),{event_id:b}),V)}),b}lastEventId(){return this._lastEventId}addBreadcrumb(L,R){const{scope:b,client:P}=this.getStackTop();if(!b||!P)return;const{beforeBreadcrumb:V=null,maxBreadcrumbs:H=I}=P.getOptions&&P.getOptions()||{};if(H<=0)return;const ee=(0,d.yW)(),ae=Jn({timestamp:ee},L),me=V?(0,z.Cf)(()=>V(ae,R)):ae;me!==null&&b.addBreadcrumb(me,H)}setUser(L){const R=this.getScope();R&&R.setUser(L)}setTags(L){const R=this.getScope();R&&R.setTags(L)}setExtras(L){const R=this.getScope();R&&R.setExtras(L)}setTag(L,R){const b=this.getScope();b&&b.setTag(L,R)}setExtra(L,R){const b=this.getScope();b&&b.setExtra(L,R)}setContext(L,R){const b=this.getScope();b&&b.setContext(L,R)}configureScope(L){const{scope:R,client:b}=this.getStackTop();R&&b&&L(R)}run(L){const R=f(this);try{L(this)}finally{f(R)}}getIntegration(L){const R=this.getClient();if(!R)return null;try{return R.getIntegration(L)}catch(b){return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&z.kg.warn(`Cannot retrieve integration ${L.id} from the current Hub`),null}}startTransaction(L,R){return this._callExtensionMethod("startTransaction",L,R)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(L=!1){if(L)return this.endSession();this._sendSessionUpdate()}endSession(){const L=this.getStackTop(),R=L&&L.scope,b=R&&R.getSession();b&&(0,A.RJ)(b),this._sendSessionUpdate(),R&&R.setSession()}startSession(L){const{scope:R,client:b}=this.getStackTop(),{release:P,environment:V}=b&&b.getOptions()||{},{userAgent:H}=O.n2.navigator||{},ee=(0,A.Hv)(Jn(Jn(Jn({release:P,environment:V},R&&{user:R.getUser()}),H&&{userAgent:H}),L));if(R){const ae=R.getSession&&R.getSession();ae&&ae.status==="ok"&&(0,A.CT)(ae,{status:"exited"}),this.endSession(),R.setSession(ee)}return ee}shouldSendDefaultPii(){const L=this.getClient(),R=L&&L.getOptions();return Boolean(R&&R.sendDefaultPii)}_sendSessionUpdate(){const{scope:L,client:R}=this.getStackTop();if(!L)return;const b=L.getSession();b&&R&&R.captureSession&&R.captureSession(b)}_withClient(L){const{scope:R,client:b}=this.getStackTop();b&&L(b,R)}_callExtensionMethod(L,...R){const P=_().__SENTRY__;if(P&&P.extensions&&typeof P.extensions[L]=="function")return P.extensions[L].apply(this,R);(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&z.kg.warn(`Extension method ${L} couldn't be found, doing nothing.`)}}function _(){return O.n2.__SENTRY__=O.n2.__SENTRY__||{extensions:{},hub:void 0},O.n2}function f(N){const L=_(),R=k(L);return T(L,N),R}function m(){const N=_();return(!x(N)||k(N).isOlderThan(M))&&T(N,new w),(0,y.KV)()?a(N):k(N)}function a(N){try{const L=_().__SENTRY__,R=L&&L.extensions&&L.extensions.domain&&L.extensions.domain.active;if(!R)return k(N);if(!x(R)||k(R).isOlderThan(M)){const b=k(N).getStackTop();T(R,new w(b.client,W.s.clone(b.scope)))}return k(R)}catch(L){return k(N)}}function x(N){return!!(N&&N.__SENTRY__&&N.__SENTRY__.hub)}function k(N){return(0,O.YO)("hub",()=>new w,N)}function T(N,L){if(!N)return!1;const R=N.__SENTRY__=N.__SENTRY__||{};return R.hub=L,!0}},32625:function(it,Ee,l){"use strict";l.d(Ee,{c:function(){return _},s:function(){return I}});var C=l(34132),d=l(13632),z=l(40751),O=l(94159),y=l(60081),W=l(98755),A=l(43246);const M=100;class I{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(m){const a=new I;return m&&(a._breadcrumbs=[...m._breadcrumbs],a._tags=Jn({},m._tags),a._extra=Jn({},m._extra),a._contexts=Jn({},m._contexts),a._user=m._user,a._level=m._level,a._span=m._span,a._session=m._session,a._transactionName=m._transactionName,a._fingerprint=m._fingerprint,a._eventProcessors=[...m._eventProcessors],a._requestSession=m._requestSession,a._attachments=[...m._attachments],a._sdkProcessingMetadata=Jn({},m._sdkProcessingMetadata)),a}addScopeListener(m){this._scopeListeners.push(m)}addEventProcessor(m){return this._eventProcessors.push(m),this}setUser(m){return this._user=m||{},this._session&&(0,A.CT)(this._session,{user:m}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(m){return this._requestSession=m,this}setTags(m){return this._tags=Jn(Jn({},this._tags),m),this._notifyScopeListeners(),this}setTag(m,a){return this._tags=io(Jn({},this._tags),{[m]:a}),this._notifyScopeListeners(),this}setExtras(m){return this._extra=Jn(Jn({},this._extra),m),this._notifyScopeListeners(),this}setExtra(m,a){return this._extra=io(Jn({},this._extra),{[m]:a}),this._notifyScopeListeners(),this}setFingerprint(m){return this._fingerprint=m,this._notifyScopeListeners(),this}setLevel(m){return this._level=m,this._notifyScopeListeners(),this}setTransactionName(m){return this._transactionName=m,this._notifyScopeListeners(),this}setContext(m,a){return a===null?delete this._contexts[m]:this._contexts[m]=a,this._notifyScopeListeners(),this}setSpan(m){return this._span=m,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const m=this.getSpan();return m&&m.transaction}setSession(m){return m?this._session=m:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(m){if(!m)return this;if(typeof m=="function"){const a=m(this);return a instanceof I?a:this}return m instanceof I?(this._tags=Jn(Jn({},this._tags),m._tags),this._extra=Jn(Jn({},this._extra),m._extra),this._contexts=Jn(Jn({},this._contexts),m._contexts),m._user&&Object.keys(m._user).length&&(this._user=m._user),m._level&&(this._level=m._level),m._fingerprint&&(this._fingerprint=m._fingerprint),m._requestSession&&(this._requestSession=m._requestSession)):(0,C.PO)(m)&&(m=m,this._tags=Jn(Jn({},this._tags),m.tags),this._extra=Jn(Jn({},this._extra),m.extra),this._contexts=Jn(Jn({},this._contexts),m.contexts),m.user&&(this._user=m.user),m.level&&(this._level=m.level),m.fingerprint&&(this._fingerprint=m.fingerprint),m.requestSession&&(this._requestSession=m.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(m,a){const x=typeof a=="number"?a:M;if(x<=0)return this;const k=Jn({timestamp:(0,d.yW)()},m);return this._breadcrumbs=[...this._breadcrumbs,k].slice(-x),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(m){return this._attachments.push(m),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(m,a={}){if(this._extra&&Object.keys(this._extra).length&&(m.extra=Jn(Jn({},this._extra),m.extra)),this._tags&&Object.keys(this._tags).length&&(m.tags=Jn(Jn({},this._tags),m.tags)),this._user&&Object.keys(this._user).length&&(m.user=Jn(Jn({},this._user),m.user)),this._contexts&&Object.keys(this._contexts).length&&(m.contexts=Jn(Jn({},this._contexts),m.contexts)),this._level&&(m.level=this._level),this._transactionName&&(m.transaction=this._transactionName),this._span){m.contexts=Jn({trace:this._span.getTraceContext()},m.contexts);const x=this._span.transaction&&this._span.transaction.name;x&&(m.tags=Jn({transaction:x},m.tags))}return this._applyFingerprint(m),m.breadcrumbs=[...m.breadcrumbs||[],...this._breadcrumbs],m.breadcrumbs=m.breadcrumbs.length>0?m.breadcrumbs:void 0,m.sdkProcessingMetadata=Jn(Jn({},m.sdkProcessingMetadata),this._sdkProcessingMetadata),this._notifyEventProcessors([...w(),...this._eventProcessors],m,a)}setSDKProcessingMetadata(m){return this._sdkProcessingMetadata=Jn(Jn({},this._sdkProcessingMetadata),m),this}_notifyEventProcessors(m,a,x,k=0){return new z.cW((T,N)=>{const L=m[k];if(a===null||typeof L!="function")T(a);else{const R=L(Jn({},a),x);(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&L.id&&R===null&&O.kg.log(`Event processor "${L.id}" dropped event`),(0,C.J8)(R)?R.then(b=>this._notifyEventProcessors(m,b,x,k+1).then(T)).then(null,N):this._notifyEventProcessors(m,R,x,k+1).then(T).then(null,N)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(m=>{m(this)}),this._notifyingListeners=!1)}_applyFingerprint(m){m.fingerprint=m.fingerprint?(0,y.lE)(m.fingerprint):[],this._fingerprint&&(m.fingerprint=m.fingerprint.concat(this._fingerprint)),m.fingerprint&&!m.fingerprint.length&&delete m.fingerprint}}function w(){return(0,W.YO)("globalEventProcessors",()=>[])}function _(f){w().push(f)}},43246:function(it,Ee,l){"use strict";l.d(Ee,{CT:function(){return y},Hv:function(){return O},RJ:function(){return W}});var C=l(13632),d=l(60081),z=l(65410);function O(M){const I=(0,C.ph)(),w={sid:(0,d.DM)(),init:!0,timestamp:I,started:I,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>A(w)};return M&&y(w,M),w}function y(M,I={}){if(I.user&&(!M.ipAddress&&I.user.ip_address&&(M.ipAddress=I.user.ip_address),!M.did&&!I.did&&(M.did=I.user.id||I.user.email||I.user.username)),M.timestamp=I.timestamp||(0,C.ph)(),I.ignoreDuration&&(M.ignoreDuration=I.ignoreDuration),I.sid&&(M.sid=I.sid.length===32?I.sid:(0,d.DM)()),I.init!==void 0&&(M.init=I.init),!M.did&&I.did&&(M.did=`${I.did}`),typeof I.started=="number"&&(M.started=I.started),M.ignoreDuration)M.duration=void 0;else if(typeof I.duration=="number")M.duration=I.duration;else{const w=M.timestamp-M.started;M.duration=w>=0?w:0}I.release&&(M.release=I.release),I.environment&&(M.environment=I.environment),!M.ipAddress&&I.ipAddress&&(M.ipAddress=I.ipAddress),!M.userAgent&&I.userAgent&&(M.userAgent=I.userAgent),typeof I.errors=="number"&&(M.errors=I.errors),I.status&&(M.status=I.status)}function W(M,I){let w={};I?w={status:I}:M.status==="ok"&&(w={status:"exited"}),y(M,w)}function A(M){return(0,z.Jr)({sid:`${M.sid}`,init:M.init,started:new Date(M.started*1e3).toISOString(),timestamp:new Date(M.timestamp*1e3).toISOString(),status:M.status,errors:M.errors,did:typeof M.did=="number"||typeof M.did=="string"?`${M.did}`:void 0,duration:M.duration,attrs:{release:M.release,environment:M.environment,ip_address:M.ipAddress,user_agent:M.userAgent}})}},79711:function(it,Ee,l){"use strict";l.d(Ee,{J:function(){return C}});const C="7.28.1"},80233:function(it,Ee,l){"use strict";l.d(Ee,{SV:function(){return m}});var C=l(51628),d=l(23840),z=l(34132),O=l(94159),y=l(72535),W=l.n(y),A=l(63313),M=l.n(A);const I="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/errorboundary.tsx";function w(x){const k=x.match(/^([^.]+)/);return k!==null&&parseInt(k[0])>=17}const _="unknown",f={componentStack:null,error:null,eventId:null};class m extends A.Component{constructor(...k){super(...k),m.prototype.__init.call(this),m.prototype.__init2.call(this)}__init(){this.state=f}componentDidCatch(k,{componentStack:T}){const{beforeCapture:N,onError:L,showDialog:R,dialogOptions:b}=this.props;(0,C.$e)(P=>{if(w(A.version)&&(0,z.VZ)(k)){const H=new Error(k.message);H.name=`React ErrorBoundary ${H.name}`,H.stack=T,k.cause=H}N&&N(P,k,T);const V=(0,C.Tb)(k,{contexts:{react:{componentStack:T}}});L&&L(k,T,V),R&&(0,d.jp)(io(Jn({},b),{eventId:V})),this.setState({error:k,componentStack:T,eventId:V})})}componentDidMount(){const{onMount:k}=this.props;k&&k()}componentWillUnmount(){const{error:k,componentStack:T,eventId:N}=this.state,{onUnmount:L}=this.props;L&&L(k,T,N)}__init2(){this.resetErrorBoundary=()=>{const{onReset:k}=this.props,{error:T,componentStack:N,eventId:L}=this.state;k&&k(T,N,L),this.setState(f)}}render(){const{fallback:k,children:T}=this.props,{error:N,componentStack:L,eventId:R}=this.state;if(N){let b;return typeof k=="function"?b=k({error:N,componentStack:L,resetError:this.resetErrorBoundary,eventId:R}):b=k,A.isValidElement(b)?b:(k&&(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&O.kg.warn("fallback did not produce a valid ReactElement"),null)}return typeof T=="function"?T():T}}function a(x,k){const T=x.displayName||x.name||_,N=L=>React.createElement(m,io(Jn({},k),{__self:this,__source:{fileName:I,lineNumber:173}}),React.createElement(x,io(Jn({},L),{__self:this,__source:{fileName:I,lineNumber:174}})));return N.displayName=`errorBoundary(${T})`,hoistNonReactStatics(N,x),N}},72842:function(it,Ee,l){"use strict";l.d(Ee,{S:function(){return z}});var C=l(79711),d=l(23840);function z(O){O._metadata=O._metadata||{},O._metadata.sdk=O._metadata.sdk||{name:"sentry.javascript.react",packages:[{name:"npm:@sentry/react",version:C.J}],version:C.J},(0,d.S1)(O)}},83738:function(it,Ee,l){"use strict";l.d(Ee,{ro:function(){return N},lb:function(){return x}});var C=l(55632),d=l(94159),z=l(34132),O=l(47017),y=l(41961),W=l(75399);function A(){(0,y.o)("error",M),(0,y.o)("unhandledrejection",M)}function M(){const L=(0,W.x1)();if(L){const R="internal_error";(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log(`[Tracing] Transaction: ${R} -> Global error occured`),L.setStatus(R)}}var I=l(37277),w=l(33498);it=l.hmd(it);function _(){const L=this.getScope();if(L){const R=L.getSpan();if(R)return{"sentry-trace":R.toTraceparent()}}return{}}function f(L,R,b){if(!(0,W.zu)(R))return L.sampled=!1,L;if(L.sampled!==void 0)return L.setMetadata({sampleRate:Number(L.sampled)}),L;let P;return typeof R.tracesSampler=="function"?(P=R.tracesSampler(b),L.setMetadata({sampleRate:Number(P)})):b.parentSampled!==void 0?P=b.parentSampled:(P=R.tracesSampleRate,L.setMetadata({sampleRate:Number(P)})),m(P)?P?(L.sampled=Math.random()<P,L.sampled?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log(`[Tracing] starting ${L.op} transaction - ${L.name}`),L):((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(P)})`),L)):((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log(`[Tracing] Discarding transaction because ${typeof R.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),L.sampled=!1,L):((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),L.sampled=!1,L)}function m(L){return(0,z.i2)(L)||!(typeof L=="number"||typeof L=="boolean")?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(L)} of type ${JSON.stringify(typeof L)}.`),!1):L<0||L>1?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${L}.`),!1):!0}function a(L,R){const b=this.getClient(),P=b&&b.getOptions()||{},V=P.instrumenter||"sentry",H=L.instrumenter||"sentry";V!==H&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.error(`A transaction was started with instrumenter=\`${H}\`, but the SDK is configured with the \`${V}\` instrumenter.
The transaction will not be sampled. Please use the ${V} instrumentation to start transactions.`),L.sampled=!1);let ee=new w.Y(L,this);return ee=f(ee,P,Jn({parentSampled:L.parentSampled,transactionContext:L},R)),ee.sampled&&ee.initSpanRecorder(P._experiments&&P._experiments.maxSpans),ee}function x(L,R,b,P,V,H,ee){const ae=L.getClient(),me=ae&&ae.getOptions()||{};let ge=new I.io(R,L,b,P,ee,V);return ge=f(ge,me,Jn({parentSampled:R.parentSampled,transactionContext:R},H)),ge.sampled&&ge.initSpanRecorder(me._experiments&&me._experiments.maxSpans),ge}function k(){const L=(0,C.cu)();!L.__SENTRY__||(L.__SENTRY__.extensions=L.__SENTRY__.extensions||{},L.__SENTRY__.extensions.startTransaction||(L.__SENTRY__.extensions.startTransaction=a),L.__SENTRY__.extensions.traceHeaders||(L.__SENTRY__.extensions.traceHeaders=_))}function T(){const L=(0,C.cu)();if(!L.__SENTRY__)return;const R={mongodb(){const P=(0,O.l$)(it,"./integrations/node/mongo");return new P.Mongo},mongoose(){const P=(0,O.l$)(it,"./integrations/node/mongo");return new P.Mongo({mongoose:!0})},mysql(){const P=(0,O.l$)(it,"./integrations/node/mysql");return new P.Mysql},pg(){const P=(0,O.l$)(it,"./integrations/node/postgres");return new P.Postgres}},b=Object.keys(R).filter(P=>!!(0,O.$y)(P)).map(P=>{try{return R[P]()}catch(V){return}}).filter(P=>P);b.length>0&&(L.__SENTRY__.integrations=[...L.__SENTRY__.integrations||[],...b])}function N(){k(),(0,O.KV)()&&T(),A()}},37277:function(it,Ee,l){"use strict";l.d(Ee,{hd:function(){return A},io:function(){return I},mg:function(){return W},nT:function(){return y}});var C=l(13632),d=l(94159),z=l(64105),O=l(33498);const y=1e3,W=3e4,A=5e3;class M extends z.gB{constructor(f,m,a,x){super(x),this._pushActivity=f,this._popActivity=m,this.transactionSpanId=a}add(f){f.spanId!==this.transactionSpanId&&(f.finish=m=>{f.endTimestamp=typeof m=="number"?m:(0,C._I)(),this._popActivity(f.spanId)},f.endTimestamp===void 0&&this._pushActivity(f.spanId)),super.add(f)}}class I extends O.Y{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._beforeFinishCallbacks=[]}constructor(f,m,a=y,x=W,k=A,T=!1){super(f,m),this._idleHub=m,this._idleTimeout=a,this._finalTimeout=x,this._heartbeatInterval=k,this._onScope=T,I.prototype.__init.call(this),I.prototype.__init2.call(this),I.prototype.__init3.call(this),I.prototype.__init4.call(this),T&&(w(m),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),m.configureScope(N=>N.setSpan(this))),this._startIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this.finish())},this._finalTimeout)}finish(f=(0,C._I)()){if(this._finished=!0,this.activities={},this.spanRecorder){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log("[Tracing] finishing IdleTransaction",new Date(f*1e3).toISOString(),this.op);for(const m of this._beforeFinishCallbacks)m(this,f);this.spanRecorder.spans=this.spanRecorder.spans.filter(m=>{if(m.spanId===this.spanId)return!0;m.endTimestamp||(m.endTimestamp=f,m.setStatus("cancelled"),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(m,void 0,2)));const a=m.startTimestamp<f;return a||(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(m,void 0,2)),a}),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log("[Tracing] flushing IdleTransaction")}else(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log("[Tracing] No active IdleTransaction");return this._onScope&&w(this._idleHub),super.finish(f)}registerBeforeFinishCallback(f){this._beforeFinishCallbacks.push(f)}initSpanRecorder(f){if(!this.spanRecorder){const m=x=>{this._finished||this._pushActivity(x)},a=x=>{this._finished||this._popActivity(x)};this.spanRecorder=new M(m,a,this.spanId,f),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}_cancelIdleTimeout(){this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0)}_startIdleTimeout(f){this._cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&this.finish(f)},this._idleTimeout)}_pushActivity(f){this._cancelIdleTimeout(),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log(`[Tracing] pushActivity: ${f}`),this.activities[f]=!0,(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(f){if(this.activities[f]&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log(`[Tracing] popActivity ${f}`),delete this.activities[f],(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){const m=(0,C._I)()+this._idleTimeout/1e3;this._startIdleTimeout(m)}}_beat(){if(this._finished)return;const f=Object.keys(this.activities).join("");f===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=f,this._heartbeatCounter>=3?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.finish()):this._pingHeartbeat()}_pingHeartbeat(){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function w(_){const f=_.getScope();f&&f.getTransaction()&&f.setSpan(void 0)}},57333:function(it,Ee,l){"use strict";l.d(Ee,{jK:function(){return C}});var C={};l.r(C),l.d(C,{gE:function(){return ei}});var d=l(83738),z=l(88367),O=l(33637),y=l(94159);const W=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function A(Ne){const Fe=Ne.match(W);if(!Ne||!Fe)return;let ht;return Fe[3]==="1"?ht=!0:Fe[3]==="0"&&(ht=!1),{traceId:Fe[1],parentSampled:ht,parentSpanId:Fe[2]}}var M=l(34132);const I="baggage",w="sentry-",_=/^sentry-/,f=8192;function m(Ne){if(!(0,M.HD)(Ne)&&!Array.isArray(Ne))return;let Fe={};if(Array.isArray(Ne))Fe=Ne.reduce((Qt,dn)=>{const gn=x(dn);return Jn(Jn({},Qt),gn)},{});else{if(!Ne)return;Fe=x(Ne)}const ht=Object.entries(Fe).reduce((Qt,[dn,gn])=>{if(dn.match(_)){const Ht=dn.slice(w.length);Qt[Ht]=gn}return Qt},{});if(Object.keys(ht).length>0)return ht}function a(Ne){const Fe=Object.entries(Ne).reduce((ht,[Qt,dn])=>(dn&&(ht[`${w}${Qt}`]=dn),ht),{});return k(Fe)}function x(Ne){return Ne.split(",").map(Fe=>Fe.split("=").map(ht=>decodeURIComponent(ht.trim()))).reduce((Fe,[ht,Qt])=>(Fe[ht]=Qt,Fe),{})}function k(Ne){if(Object.keys(Ne).length!==0)return Object.entries(Ne).reduce((Fe,[ht,Qt],dn)=>{const gn=`${encodeURIComponent(ht)}=${encodeURIComponent(Qt)}`,Ht=dn===0?gn:`${Fe},${gn}`;return Ht.length>f?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&y.kg.warn(`Not adding key: ${ht} with val: ${Qt} to baggage header due to exceeding baggage size limits.`),Fe):Ht},"")}var T=l(8129),N=l(37277),L=l(75399),R=l(98755);const b=R.n2;function P(){b&&b.document?b.document.addEventListener("visibilitychange",()=>{const Ne=(0,L.x1)();if(b.document.hidden&&Ne){const Fe="cancelled";(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&y.kg.log(`[Tracing] Transaction: ${Fe} -> since tab moved to the background, op: ${Ne.op}`),Ne.status||Ne.setStatus(Fe),Ne.setTag("visibilitychange","document.hidden"),Ne.finish()}}):(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&y.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var V=l(13632);const H=(Ne,Fe,ht)=>{let Qt,dn;return gn=>{Fe.value>=0&&(gn||ht)&&(dn=Fe.value-(Qt||0),(dn||Qt===void 0)&&(Qt=Fe.value,Fe.delta=dn,Ne(Fe)))}},ee=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,ae=()=>{const Ne=b.performance.timing,Fe=b.performance.navigation.type,ht={entryType:"navigation",startTime:0,type:Fe==2?"back_forward":Fe===1?"reload":"navigate"};for(const Qt in Ne)Qt!=="navigationStart"&&Qt!=="toJSON"&&(ht[Qt]=Math.max(Ne[Qt]-Ne.navigationStart,0));return ht},me=()=>b.__WEB_VITALS_POLYFILL__?b.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||ae()):b.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],ge=()=>{const Ne=me();return Ne&&Ne.activationStart||0},re=(Ne,Fe)=>{const ht=me();let Qt="navigate";return ht&&(b.document.prerendering||ge()>0?Qt="prerender":Qt=ht.type.replace(/_/g,"-")),{name:Ne,value:typeof Fe=="undefined"?-1:Fe,rating:"good",delta:0,entries:[],id:ee(),navigationType:Qt}},se=(Ne,Fe,ht)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(Ne)){const Qt=new PerformanceObserver(dn=>{Fe(dn.getEntries())});return Qt.observe(Object.assign({type:Ne,buffered:!0},ht||{})),Qt}}catch(Qt){}},X=(Ne,Fe)=>{const ht=Qt=>{(Qt.type==="pagehide"||b.document.visibilityState==="hidden")&&(Ne(Qt),Fe&&(removeEventListener("visibilitychange",ht,!0),removeEventListener("pagehide",ht,!0)))};addEventListener("visibilitychange",ht,!0),addEventListener("pagehide",ht,!0)},$=Ne=>{const Fe=re("CLS",0);let ht,Qt=0,dn=[];const gn=lt=>{lt.forEach(Cn=>{if(!Cn.hadRecentInput){const Ue=dn[0],Pt=dn[dn.length-1];Qt&&dn.length!==0&&Cn.startTime-Pt.startTime<1e3&&Cn.startTime-Ue.startTime<5e3?(Qt+=Cn.value,dn.push(Cn)):(Qt=Cn.value,dn=[Cn]),Qt>Fe.value&&(Fe.value=Qt,Fe.entries=dn,ht&&ht())}})},Ht=se("layout-shift",gn);Ht&&(ht=H(Ne,Fe),X(()=>{gn(Ht.takeRecords()),ht(!0)}))};let j=-1;const ie=()=>b.document.visibilityState==="hidden"&&!b.document.prerendering?0:1/0,J=()=>{X(({timeStamp:Ne})=>{j=Ne},!0)},oe=()=>(j<0&&(j=ie(),J()),{get firstHiddenTime(){return j}}),ce=Ne=>{const Fe=oe(),ht=re("FID");let Qt;const dn=lt=>{lt.startTime<Fe.firstHiddenTime&&(ht.value=lt.processingStart-lt.startTime,ht.entries.push(lt),Qt(!0))},gn=lt=>{lt.forEach(dn)},Ht=se("first-input",gn);Qt=H(Ne,ht),Ht&&X(()=>{gn(Ht.takeRecords()),Ht.disconnect()},!0)},we={},Me=Ne=>{const Fe=oe(),ht=re("LCP");let Qt;const dn=Ht=>{const lt=Ht[Ht.length-1];if(lt){const Cn=Math.max(lt.startTime-ge(),0);Cn<Fe.firstHiddenTime&&(ht.value=Cn,ht.entries=[lt],Qt())}},gn=se("largest-contentful-paint",dn);if(gn){Qt=H(Ne,ht);const Ht=()=>{we[ht.id]||(dn(gn.takeRecords()),gn.disconnect(),we[ht.id]=!0,Qt(!0))};["keydown","click"].forEach(lt=>{addEventListener(lt,Ht,{once:!0,capture:!0})}),X(Ht,!0)}};function Ke(Ne){return typeof Ne=="number"&&isFinite(Ne)}function De(Ne,Qt){var dn=Qt,{startTimestamp:Fe}=dn,ht=fv(dn,["startTimestamp"]);return Fe&&Ne.startTimestamp>Fe&&(Ne.startTimestamp=Fe),Ne.startChild(Jn({startTimestamp:Fe},ht))}function be(){return b&&b.addEventListener&&b.performance}let We=0,et={},Kt,_t;function tt(){const Ne=be();Ne&&V.Z1&&(Ne.mark&&b.performance.mark("sentry-tracing-init"),Ut(),Ft(),Te())}function kt(){se("longtask",Fe=>{for(const ht of Fe){const Qt=(0,L.x1)();if(!Qt)return;const dn=(0,L.XL)(V.Z1+ht.startTime),gn=(0,L.XL)(ht.duration);Qt.startChild({description:"Main UI thread blocked",op:"ui.long-task",startTimestamp:dn,endTimestamp:dn+gn})}})}function Ut(){$(Ne=>{const Fe=Ne.entries.pop();!Fe||((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&y.kg.log("[Measurements] Adding CLS"),et.cls={value:Ne.value,unit:""},_t=Fe)})}function Ft(){Me(Ne=>{const Fe=Ne.entries.pop();!Fe||((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&y.kg.log("[Measurements] Adding LCP"),et.lcp={value:Ne.value,unit:"millisecond"},Kt=Fe)})}function Te(){ce(Ne=>{const Fe=Ne.entries.pop();if(!Fe)return;const ht=(0,L.XL)(V.Z1),Qt=(0,L.XL)(Fe.startTime);(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&y.kg.log("[Measurements] Adding FID"),et.fid={value:Ne.value,unit:"millisecond"},et["mark.fid"]={value:ht+Qt,unit:"second"}})}function Ge(Ne){const Fe=be();if(!Fe||!b.performance.getEntries||!V.Z1)return;(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&y.kg.log("[Tracing] Adding & adjusting spans using Performance API");const ht=(0,L.XL)(V.Z1),Qt=Fe.getEntries();let dn,gn;if(Qt.slice(We).forEach(Ht=>{const lt=(0,L.XL)(Ht.startTime),Cn=(0,L.XL)(Ht.duration);if(!(Ne.op==="navigation"&&ht+lt<Ne.startTimestamp))switch(Ht.entryType){case"navigation":{Wt(Ne,Ht,ht),dn=ht+(0,L.XL)(Ht.responseStart),gn=ht+(0,L.XL)(Ht.requestStart);break}case"mark":case"paint":case"measure":{Et(Ne,Ht,lt,Cn,ht);const Ue=oe(),Pt=Ht.startTime<Ue.firstHiddenTime;Ht.name==="first-paint"&&Pt&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&y.kg.log("[Measurements] Adding FP"),et.fp={value:Ht.startTime,unit:"millisecond"}),Ht.name==="first-contentful-paint"&&Pt&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&y.kg.log("[Measurements] Adding FCP"),et.fcp={value:Ht.startTime,unit:"millisecond"});break}case"resource":{const Ue=Ht.name.replace(b.location.origin,"");ve(Ne,Ht,Ue,lt,Cn,ht);break}default:}}),We=Math.max(Qt.length-1,0),$e(Ne),Ne.op==="pageload"){typeof dn=="number"&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&y.kg.log("[Measurements] Adding TTFB"),et.ttfb={value:(dn-Ne.startTimestamp)*1e3,unit:"millisecond"},typeof gn=="number"&&gn<=dn&&(et["ttfb.requestTime"]={value:(dn-gn)*1e3,unit:"millisecond"})),["fcp","fp","lcp"].forEach(lt=>{if(!et[lt]||ht>=Ne.startTimestamp)return;const Cn=et[lt].value,Ue=ht+(0,L.XL)(Cn),Pt=Math.abs((Ue-Ne.startTimestamp)*1e3),Lt=Pt-Cn;(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&y.kg.log(`[Measurements] Normalized ${lt} from ${Cn} to ${Pt} (${Lt})`),et[lt].value=Pt});const Ht=et["mark.fid"];Ht&&et.fid&&(De(Ne,{description:"first input delay",endTimestamp:Ht.value+(0,L.XL)(et.fid.value),op:"ui.action",startTimestamp:Ht.value}),delete et["mark.fid"]),"fcp"in et||delete et.cls,Object.keys(et).forEach(lt=>{Ne.setMeasurement(lt,et[lt].value,et[lt].unit)}),at(Ne)}Kt=void 0,_t=void 0,et={}}function Et(Ne,Fe,ht,Qt,dn){const gn=dn+ht,Ht=gn+Qt;return De(Ne,{description:Fe.name,endTimestamp:Ht,op:Fe.entryType,startTimestamp:gn}),gn}function Wt(Ne,Fe,ht){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(Qt=>{Ze(Ne,Fe,Qt,ht)}),Ze(Ne,Fe,"secureConnection",ht,"TLS/SSL","connectEnd"),Ze(Ne,Fe,"fetch",ht,"cache","domainLookupStart"),Ze(Ne,Fe,"domainLookup",ht,"DNS"),xe(Ne,Fe,ht)}function Ze(Ne,Fe,ht,Qt,dn,gn){const Ht=gn?Fe[gn]:Fe[`${ht}End`],lt=Fe[`${ht}Start`];!lt||!Ht||De(Ne,{op:"browser",description:(0,O.h)(dn,()=>ht),startTimestamp:Qt+(0,L.XL)(lt),endTimestamp:Qt+(0,L.XL)(Ht)})}function xe(Ne,Fe,ht){De(Ne,{op:"browser",description:"request",startTimestamp:ht+(0,L.XL)(Fe.requestStart),endTimestamp:ht+(0,L.XL)(Fe.responseEnd)}),De(Ne,{op:"browser",description:"response",startTimestamp:ht+(0,L.XL)(Fe.responseStart),endTimestamp:ht+(0,L.XL)(Fe.responseEnd)})}function ve(Ne,Fe,ht,Qt,dn,gn){if(Fe.initiatorType==="xmlhttprequest"||Fe.initiatorType==="fetch")return;const Ht={};"transferSize"in Fe&&(Ht["Transfer Size"]=Fe.transferSize),"encodedBodySize"in Fe&&(Ht["Encoded Body Size"]=Fe.encodedBodySize),"decodedBodySize"in Fe&&(Ht["Decoded Body Size"]=Fe.decodedBodySize);const lt=gn+Qt,Cn=lt+dn;De(Ne,{description:ht,endTimestamp:Cn,op:Fe.initiatorType?`resource.${Fe.initiatorType}`:"resource.other",startTimestamp:lt,data:Ht})}function $e(Ne){const Fe=b.navigator;if(!Fe)return;const ht=Fe.connection;ht&&(ht.effectiveType&&Ne.setTag("effectiveConnectionType",ht.effectiveType),ht.type&&Ne.setTag("connectionType",ht.type),Ke(ht.rtt)&&(et["connection.rtt"]={value:ht.rtt,unit:"millisecond"})),Ke(Fe.deviceMemory)&&Ne.setTag("deviceMemory",`${Fe.deviceMemory} GB`),Ke(Fe.hardwareConcurrency)&&Ne.setTag("hardwareConcurrency",String(Fe.hardwareConcurrency))}function at(Ne){Kt&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&y.kg.log("[Measurements] Adding LCP Data"),Kt.element&&Ne.setTag("lcp.element",(0,T.Rt)(Kt.element)),Kt.id&&Ne.setTag("lcp.id",Kt.id),Kt.url&&Ne.setTag("lcp.url",Kt.url.trim().slice(0,200)),Ne.setTag("lcp.size",Kt.size)),_t&&_t.sources&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&y.kg.log("[Measurements] Adding CLS Data"),_t.sources.forEach((Fe,ht)=>Ne.setTag(`cls.source.${ht+1}`,(0,T.Rt)(Fe.node))))}var Tt=l(41961),Mt=l(37534);const gt=["localhost",/^\//],Rt={traceFetch:!0,traceXHR:!0,tracingOrigins:gt,tracePropagationTargets:gt};function Zt(Ne){const{traceFetch:Fe,traceXHR:ht,tracePropagationTargets:Qt,tracingOrigins:dn,shouldCreateSpanForRequest:gn}=Jn({traceFetch:Rt.traceFetch,traceXHR:Rt.traceXHR},Ne),Ht=typeof gn=="function"?gn:Ue=>!0,lt=Ue=>hn(Ue,Qt||dn),Cn={};Fe&&(0,Tt.o)("fetch",Ue=>{Pe(Ue,Ht,lt,Cn)}),ht&&(0,Tt.o)("xhr",Ue=>{vt(Ue,Ht,lt,Cn)})}function hn(Ne,Fe){return(0,Mt.U0)(Ne,Fe||gt)}function Pe(Ne,Fe,ht,Qt){if(!(0,L.zu)()||!(Ne.fetchData&&Fe(Ne.fetchData.url)))return;if(Ne.endTimestamp){const gn=Ne.fetchData.__span;if(!gn)return;const Ht=Qt[gn];Ht&&(Ne.response?Ht.setHttpStatus(Ne.response.status):Ne.error&&Ht.setStatus("internal_error"),Ht.finish(),delete Qt[gn]);return}const dn=(0,L.x1)();if(dn){const gn=dn.startChild({data:io(Jn({},Ne.fetchData),{type:"fetch"}),description:`${Ne.fetchData.method} ${Ne.fetchData.url}`,op:"http.client"});Ne.fetchData.__span=gn.spanId,Qt[gn.spanId]=gn;const Ht=Ne.args[0];Ne.args[1]=Ne.args[1]||{};const lt=Ne.args[1];ht(Ne.fetchData.url)&&(lt.headers=en(Ht,dn.getDynamicSamplingContext(),gn,lt),dn.metadata.propagations++)}}function en(Ne,Fe,ht,Qt){const dn=a(Fe),gn=ht.toTraceparent(),Ht=typeof Request!="undefined"&&(0,M.V9)(Ne,Request)?Ne.headers:Qt.headers;if(Ht)if(typeof Headers!="undefined"&&(0,M.V9)(Ht,Headers)){const lt=new Headers(Ht);return lt.append("sentry-trace",gn),dn&&lt.append(I,dn),lt}else if(Array.isArray(Ht)){const lt=[...Ht,["sentry-trace",gn]];return dn&&lt.push([I,dn]),lt}else{const lt="baggage"in Ht?Ht.baggage:void 0,Cn=[];return Array.isArray(lt)?Cn.push(...lt):lt&&Cn.push(lt),dn&&Cn.push(dn),io(Jn({},Ht),{"sentry-trace":gn,baggage:Cn.length>0?Cn.join(","):void 0})}else return{"sentry-trace":gn,baggage:dn}}function vt(Ne,Fe,ht,Qt){if(!(0,L.zu)()||Ne.xhr&&Ne.xhr.__sentry_own_request__||!(Ne.xhr&&Ne.xhr.__sentry_xhr__&&Fe(Ne.xhr.__sentry_xhr__.url)))return;const dn=Ne.xhr.__sentry_xhr__;if(Ne.endTimestamp){const Ht=Ne.xhr.__sentry_xhr_span_id__;if(!Ht)return;const lt=Qt[Ht];lt&&(lt.setHttpStatus(dn.status_code),lt.finish(),delete Qt[Ht]);return}const gn=(0,L.x1)();if(gn){const Ht=gn.startChild({data:io(Jn({},dn.data),{type:"xhr",method:dn.method,url:dn.url}),description:`${dn.method} ${dn.url}`,op:"http.client"});if(Ne.xhr.__sentry_xhr_span_id__=Ht.spanId,Qt[Ne.xhr.__sentry_xhr_span_id__]=Ht,Ne.xhr.setRequestHeader&&ht(Ne.xhr.__sentry_xhr__.url))try{Ne.xhr.setRequestHeader("sentry-trace",Ht.toTraceparent());const lt=gn.getDynamicSamplingContext(),Cn=a(lt);Cn&&Ne.xhr.setRequestHeader(I,Cn),gn.metadata.propagations++}catch(lt){}}}function Le(Ne,Fe=!0,ht=!0){if(!b||!b.location){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&y.kg.warn("Could not initialize routing instrumentation due to invalid location");return}let Qt=b.location.href,dn;Fe&&(dn=Ne({name:b.location.pathname,op:"pageload",metadata:{source:"url"}})),ht&&(0,Tt.o)("history",({to:gn,from:Ht})=>{if(Ht===void 0&&Qt&&Qt.indexOf(gn)!==-1){Qt=void 0;return}Ht!==gn&&(Qt=void 0,dn&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&y.kg.log(`[Tracing] Finishing current transaction with op: ${dn.op}`),dn.finish()),dn=Ne({name:b.location.pathname,op:"navigation",metadata:{source:"url"}}))})}const nn="BrowserTracing",sn=Jn({idleTimeout:N.nT,finalTimeout:N.mg,heartbeatInterval:N.hd,markBackgroundTransactions:!0,routingInstrumentation:Le,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,_experiments:{enableLongTask:!0,enableInteractions:!1}},Rt);class ei{__init(){this.name=nn}constructor(Fe){ei.prototype.__init.call(this),this.options=Jn(Jn({},sn),Fe),Fe&&!Fe.tracePropagationTargets&&Fe.tracingOrigins&&(this.options.tracePropagationTargets=Fe.tracingOrigins),tt(),(0,z.x)([this,"access",ht=>ht.options,"access",ht=>ht._experiments,"optionalAccess",ht=>ht.enableLongTask])&&kt()}setupOnce(Fe,ht){this._getCurrentHub=ht;const{routingInstrumentation:Qt,startTransactionOnLocationChange:dn,startTransactionOnPageLoad:gn,markBackgroundTransactions:Ht,traceFetch:lt,traceXHR:Cn,tracePropagationTargets:Ue,shouldCreateSpanForRequest:Pt,_experiments:Lt}=this.options;Qt(He=>this._createRouteTransaction(He),gn,dn),Ht&&P(),(0,z.x)([Lt,"optionalAccess",He=>He.enableInteractions])&&this._registerInteractionListener(),Zt({traceFetch:lt,traceXHR:Cn,tracePropagationTargets:Ue,shouldCreateSpanForRequest:Pt})}_createRouteTransaction(Fe){if(!this._getCurrentHub){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&y.kg.warn(`[Tracing] Did not create ${Fe.op} transaction because _getCurrentHub is invalid.`);return}const{beforeNavigate:ht,idleTimeout:Qt,finalTimeout:dn,heartbeatInterval:gn}=this.options,Ht=Fe.op==="pageload",lt=Ht?wn("sentry-trace"):null,Cn=Ht?wn("baggage"):null,Ue=lt?A(lt):void 0,Pt=Cn?m(Cn):void 0,Lt=io(Jn(Jn({},Fe),Ue),{metadata:io(Jn({},Fe.metadata),{dynamicSamplingContext:Ue&&!Pt?{}:Pt}),trimEnd:!0}),He=typeof ht=="function"?ht(Lt):Lt,Ve=He===void 0?io(Jn({},Lt),{sampled:!1}):He;Ve.metadata=Ve.name!==Lt.name?io(Jn({},Ve.metadata),{source:"custom"}):Ve.metadata,this._latestRouteName=Ve.name,this._latestRouteSource=(0,z.x)([Ve,"access",mn=>mn.metadata,"optionalAccess",mn=>mn.source]),Ve.sampled===!1&&(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&y.kg.log(`[Tracing] Will not send ${Ve.op} transaction because of beforeNavigate.`),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&y.kg.log(`[Tracing] Starting ${Ve.op} transaction on scope`);const Se=this._getCurrentHub(),{location:St}=b,Jt=(0,d.lb)(Se,Ve,Qt,dn,!0,{location:St},gn);return Jt.registerBeforeFinishCallback(mn=>{Ge(mn)}),Jt}_registerInteractionListener(){let Fe;const ht=()=>{const{idleTimeout:Qt,finalTimeout:dn,heartbeatInterval:gn}=this.options,Ht="ui.action.click";if(Fe&&(Fe.finish(),Fe=void 0),!this._getCurrentHub){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&y.kg.warn(`[Tracing] Did not create ${Ht} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRouteName){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&y.kg.warn(`[Tracing] Did not create ${Ht} transaction because _latestRouteName is missing.`);return}const lt=this._getCurrentHub(),{location:Cn}=b,Ue={name:this._latestRouteName,op:Ht,trimEnd:!0,metadata:{source:(0,O.h)(this._latestRouteSource,()=>"url")}};Fe=(0,d.lb)(lt,Ue,Qt,dn,!0,{location:Cn},gn)};["click"].forEach(Qt=>{addEventListener(Qt,ht,{once:!1,capture:!0})})}}function wn(Ne){const Fe=(0,T.qT)(`meta[name=${Ne}]`);return Fe?Fe.getAttribute("content"):null}(typeof __SENTRY_TRACING__=="undefined"||__SENTRY_TRACING__)&&(0,d.ro)()},64105:function(it,Ee,l){"use strict";l.d(Ee,{Dr:function(){return A},gB:function(){return W}});var C=l(33637),d=l(60081),z=l(13632),O=l(94159),y=l(65410);class W{__init(){this.spans=[]}constructor(w=1e3){W.prototype.__init.call(this),this._maxlen=w}add(w){this.spans.length>this._maxlen?w.spanRecorder=void 0:this.spans.push(w)}}class A{__init2(){this.traceId=(0,d.DM)()}__init3(){this.spanId=(0,d.DM)().substring(16)}__init4(){this.startTimestamp=(0,z._I)()}__init5(){this.tags={}}__init6(){this.data={}}__init7(){this.instrumenter="sentry"}constructor(w){if(A.prototype.__init2.call(this),A.prototype.__init3.call(this),A.prototype.__init4.call(this),A.prototype.__init5.call(this),A.prototype.__init6.call(this),A.prototype.__init7.call(this),!w)return this;w.traceId&&(this.traceId=w.traceId),w.spanId&&(this.spanId=w.spanId),w.parentSpanId&&(this.parentSpanId=w.parentSpanId),"sampled"in w&&(this.sampled=w.sampled),w.op&&(this.op=w.op),w.description&&(this.description=w.description),w.data&&(this.data=w.data),w.tags&&(this.tags=w.tags),w.status&&(this.status=w.status),w.startTimestamp&&(this.startTimestamp=w.startTimestamp),w.endTimestamp&&(this.endTimestamp=w.endTimestamp),w.instrumenter&&(this.instrumenter=w.instrumenter)}startChild(w){const _=new A(io(Jn({},w),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));if(_.spanRecorder=this.spanRecorder,_.spanRecorder&&_.spanRecorder.add(_),_.transaction=this.transaction,(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_.transaction){const f=w&&w.op||"< unknown op >",m=_.transaction.name||"< unknown name >",a=_.transaction.spanId,x=`[Tracing] Starting '${f}' span on transaction '${m}' (${a}).`;_.transaction.metadata.spanMetadata[_.spanId]={logMessage:x},O.kg.log(x)}return _}setTag(w,_){return this.tags=io(Jn({},this.tags),{[w]:_}),this}setData(w,_){return this.data=io(Jn({},this.data),{[w]:_}),this}setStatus(w){return this.status=w,this}setHttpStatus(w){this.setTag("http.status_code",String(w));const _=M(w);return _!=="unknown_error"&&this.setStatus(_),this}isSuccess(){return this.status==="ok"}finish(w){if((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:_}=this.transaction.metadata.spanMetadata[this.spanId];_&&O.kg.log(_.replace("Starting","Finishing"))}this.endTimestamp=typeof w=="number"?w:(0,z._I)()}toTraceparent(){let w="";return this.sampled!==void 0&&(w=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${w}`}toContext(){return(0,y.Jr)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(w){return this.data=(0,C.h)(w.data,()=>({})),this.description=w.description,this.endTimestamp=w.endTimestamp,this.op=w.op,this.parentSpanId=w.parentSpanId,this.sampled=w.sampled,this.spanId=(0,C.h)(w.spanId,()=>this.spanId),this.startTimestamp=(0,C.h)(w.startTimestamp,()=>this.startTimestamp),this.status=w.status,this.tags=(0,C.h)(w.tags,()=>({})),this.traceId=(0,C.h)(w.traceId,()=>this.traceId),this}getTraceContext(){return(0,y.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return(0,y.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}}function M(I){if(I<400&&I>=100)return"ok";if(I>=400&&I<500)switch(I){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(I>=500&&I<600)switch(I){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}},33498:function(it,Ee,l){"use strict";l.d(Ee,{Y:function(){return A}});var C=l(33637),d=l(55632),z=l(13632),O=l(94159),y=l(65410),W=l(64105);class A extends W.Dr{__init(){this._measurements={}}__init2(){this._contexts={}}__init3(){this._frozenDynamicSamplingContext=void 0}constructor(I,w){super(I),A.prototype.__init.call(this),A.prototype.__init2.call(this),A.prototype.__init3.call(this),this._hub=w||(0,d.Gd)(),this._name=I.name||"",this.metadata=io(Jn({source:"custom"},I.metadata),{spanMetadata:{},changes:[],propagations:0}),this._trimEnd=I.trimEnd,this.transaction=this;const _=this.metadata.dynamicSamplingContext;_&&(this._frozenDynamicSamplingContext=Jn({},_))}get name(){return this._name}set name(I){this.setName(I)}setName(I,w="custom"){(I!==this.name||w!==this.metadata.source)&&this.metadata.changes.push({source:this.metadata.source,timestamp:(0,z.ph)(),propagations:this.metadata.propagations}),this._name=I,this.metadata.source=w}initSpanRecorder(I=1e3){this.spanRecorder||(this.spanRecorder=new W.gB(I)),this.spanRecorder.add(this)}setContext(I,w){w===null?delete this._contexts[I]:this._contexts[I]=w}setMeasurement(I,w,_=""){this._measurements[I]={value:w,unit:_}}setMetadata(I){this.metadata=Jn(Jn({},this.metadata),I)}finish(I){if(this.endTimestamp!==void 0)return;if(this.name||((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&O.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(I),this.sampled!==!0){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&O.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");const a=this._hub.getClient();a&&a.recordDroppedEvent("sample_rate","transaction");return}const w=this.spanRecorder?this.spanRecorder.spans.filter(a=>a!==this&&a.endTimestamp):[];this._trimEnd&&w.length>0&&(this.endTimestamp=w.reduce((a,x)=>a.endTimestamp&&x.endTimestamp?a.endTimestamp>x.endTimestamp?a:x:a).endTimestamp);const _=this.metadata,f=Jn({contexts:io(Jn({},this._contexts),{trace:this.getTraceContext()}),spans:w,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:io(Jn({},_),{dynamicSamplingContext:this.getDynamicSamplingContext()})},_.source&&{transaction_info:{source:_.source,changes:_.changes,propagations:_.propagations}});return Object.keys(this._measurements).length>0&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&O.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),f.measurements=this._measurements),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&O.kg.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(f)}toContext(){const I=super.toContext();return(0,y.Jr)(io(Jn({},I),{name:this.name,trimEnd:this._trimEnd}))}updateWithContext(I){return super.updateWithContext(I),this.name=(0,C.h)(I.name,()=>""),this._trimEnd=I.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;const I=this._hub||(0,d.Gd)(),w=I&&I.getClient();if(!w)return{};const{environment:_,release:f}=w.getOptions()||{},{publicKey:m}=w.getDsn()||{},a=this.metadata.sampleRate,x=a!==void 0?a.toString():void 0,k=I.getScope(),{segment:T}=k&&k.getUser()||{},N=this.metadata.source,L=N&&N!=="url"?this.name:void 0;return(0,y.Jr)({environment:_,release:f,transaction:L,user_segment:T,public_key:m,trace_id:this.traceId,sample_rate:x})}}},75399:function(it,Ee,l){"use strict";l.d(Ee,{XL:function(){return O},x1:function(){return z},zu:function(){return d}});var C=l(55632);function d(W){const A=(0,C.Gd)().getClient(),M=W||A&&A.getOptions();return!!M&&("tracesSampleRate"in M||"tracesSampler"in M)}function z(W){const M=(W||(0,C.Gd)()).getScope();return M&&M.getTransaction()}function O(W){return W/1e3}function y(W){return W*1e3}},8129:function(it,Ee,l){"use strict";l.d(Ee,{Rt:function(){return y},l4:function(){return A},qT:function(){return M}});var C=l(34132),d=l(98755);const z=(0,d.Rf)(),O=80;function y(I,w={}){try{let _=I;const f=5,m=[];let a=0,x=0;const k=" > ",T=k.length;let N;const L=Array.isArray(w)?w:w.keyAttrs,R=!Array.isArray(w)&&w.maxStringLength||O;for(;_&&a++<f&&(N=W(_,L),!(N==="html"||a>1&&x+m.length*T+N.length>=R));)m.push(N),x+=N.length,_=_.parentNode;return m.reverse().join(k)}catch(_){return"<unknown>"}}function W(I,w){const _=I,f=[];let m,a,x,k,T;if(!_||!_.tagName)return"";f.push(_.tagName.toLowerCase());const N=w&&w.length?w.filter(R=>_.getAttribute(R)).map(R=>[R,_.getAttribute(R)]):null;if(N&&N.length)N.forEach(R=>{f.push(`[${R[0]}="${R[1]}"]`)});else if(_.id&&f.push(`#${_.id}`),m=_.className,m&&(0,C.HD)(m))for(a=m.split(/\s+/),T=0;T<a.length;T++)f.push(`.${a[T]}`);const L=["type","name","title","alt"];for(T=0;T<L.length;T++)x=L[T],k=_.getAttribute(x),k&&f.push(`[${x}="${k}"]`);return f.join("")}function A(){try{return z.document.location.href}catch(I){return""}}function M(I){return z.document&&z.document.querySelector?z.document.querySelector(I):null}},33637:function(it,Ee,l){"use strict";l.d(Ee,{h:function(){return C}});function C(d,z){return d!=null?d:z()}},88367:function(it,Ee,l){"use strict";l.d(Ee,{x:function(){return C}});function C(d){let z,O=d[0],y=1;for(;y<d.length;){const W=d[y],A=d[y+1];if(y+=2,(W==="optionalAccess"||W==="optionalCall")&&O==null)return;W==="access"||W==="optionalAccess"?(z=O,O=A(O)):(W==="call"||W==="optionalCall")&&(O=A((...M)=>O.call(z,...M)),z=void 0)}return O}},41961:function(it,Ee,l){"use strict";l.d(Ee,{o:function(){return _}});var C=l(34132),d=l(94159),z=l(65410),O=l(15999),y=l(35953),W=l(98755);const A=(0,W.Rf)(),M={},I={};function w(X){if(!I[X])switch(I[X]=!0,X){case"console":m();break;case"dom":ae();break;case"xhr":T();break;case"fetch":a();break;case"history":L();break;case"error":ge();break;case"unhandledrejection":se();break;default:(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.warn("unknown instrumentation type:",X);return}}function _(X,$){M[X]=M[X]||[],M[X].push($),w(X)}function f(X,$){if(!(!X||!M[X]))for(const j of M[X]||[])try{j($)}catch(ie){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.error(`Error while triggering instrumentation handler.
Type: ${X}
Name: ${(0,O.$P)(j)}
Error:`,ie)}}function m(){"console"in A&&d.RU.forEach(function(X){X in A.console&&(0,z.hl)(A.console,X,function($){return function(...j){f("console",{args:j,level:X}),$&&$.apply(A.console,j)}})})}function a(){!(0,y.t$)()||(0,z.hl)(A,"fetch",function(X){return function(...$){const j={args:$,fetchData:{method:x($),url:k($)},startTimestamp:Date.now()};return f("fetch",Jn({},j)),X.apply(A,$).then(ie=>(f("fetch",io(Jn({},j),{endTimestamp:Date.now(),response:ie})),ie),ie=>{throw f("fetch",io(Jn({},j),{endTimestamp:Date.now(),error:ie})),ie})}})}function x(X=[]){return"Request"in A&&(0,C.V9)(X[0],Request)&&X[0].method?String(X[0].method).toUpperCase():X[1]&&X[1].method?String(X[1].method).toUpperCase():"GET"}function k(X=[]){return typeof X[0]=="string"?X[0]:"Request"in A&&(0,C.V9)(X[0],Request)?X[0].url:String(X[0])}function T(){if(!("XMLHttpRequest"in A))return;const X=XMLHttpRequest.prototype;(0,z.hl)(X,"open",function($){return function(...j){const ie=this,J=j[1],oe=ie.__sentry_xhr__={method:(0,C.HD)(j[0])?j[0].toUpperCase():j[0],url:j[1]};(0,C.HD)(J)&&oe.method==="POST"&&J.match(/sentry_key/)&&(ie.__sentry_own_request__=!0);const ce=function(){if(ie.readyState===4){try{oe.status_code=ie.status}catch(we){}f("xhr",{args:j,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:ie})}};return"onreadystatechange"in ie&&typeof ie.onreadystatechange=="function"?(0,z.hl)(ie,"onreadystatechange",function(we){return function(...Me){return ce(),we.apply(ie,Me)}}):ie.addEventListener("readystatechange",ce),$.apply(ie,j)}}),(0,z.hl)(X,"send",function($){return function(...j){return this.__sentry_xhr__&&j[0]!==void 0&&(this.__sentry_xhr__.body=j[0]),f("xhr",{args:j,startTimestamp:Date.now(),xhr:this}),$.apply(this,j)}})}let N;function L(){if(!(0,y.Bf)())return;const X=A.onpopstate;A.onpopstate=function(...j){const ie=A.location.href,J=N;if(N=ie,f("history",{from:J,to:ie}),X)try{return X.apply(this,j)}catch(oe){}};function $(j){return function(...ie){const J=ie.length>2?ie[2]:void 0;if(J){const oe=N,ce=String(J);N=ce,f("history",{from:oe,to:ce})}return j.apply(this,ie)}}(0,z.hl)(A.history,"pushState",$),(0,z.hl)(A.history,"replaceState",$)}const R=1e3;let b,P;function V(X,$){if(!X||X.type!==$.type)return!0;try{if(X.target!==$.target)return!0}catch(j){}return!1}function H(X){if(X.type!=="keypress")return!1;try{const $=X.target;if(!$||!$.tagName)return!0;if($.tagName==="INPUT"||$.tagName==="TEXTAREA"||$.isContentEditable)return!1}catch($){}return!0}function ee(X,$=!1){return j=>{if(!j||P===j||H(j))return;const ie=j.type==="keypress"?"input":j.type;b===void 0?(X({event:j,name:ie,global:$}),P=j):V(P,j)&&(X({event:j,name:ie,global:$}),P=j),clearTimeout(b),b=A.setTimeout(()=>{b=void 0},R)}}function ae(){if(!("document"in A))return;const X=f.bind(null,"dom"),$=ee(X,!0);A.document.addEventListener("click",$,!1),A.document.addEventListener("keypress",$,!1),["EventTarget","Node"].forEach(j=>{const ie=A[j]&&A[j].prototype;!ie||!ie.hasOwnProperty||!ie.hasOwnProperty("addEventListener")||((0,z.hl)(ie,"addEventListener",function(J){return function(oe,ce,we){if(oe==="click"||oe=="keypress")try{const Me=this,Ke=Me.__sentry_instrumentation_handlers__=Me.__sentry_instrumentation_handlers__||{},De=Ke[oe]=Ke[oe]||{refCount:0};if(!De.handler){const be=ee(X);De.handler=be,J.call(this,oe,be,we)}De.refCount++}catch(Me){}return J.call(this,oe,ce,we)}}),(0,z.hl)(ie,"removeEventListener",function(J){return function(oe,ce,we){if(oe==="click"||oe=="keypress")try{const Me=this,Ke=Me.__sentry_instrumentation_handlers__||{},De=Ke[oe];De&&(De.refCount--,De.refCount<=0&&(J.call(this,oe,De.handler,we),De.handler=void 0,delete Ke[oe]),Object.keys(Ke).length===0&&delete Me.__sentry_instrumentation_handlers__)}catch(Me){}return J.call(this,oe,ce,we)}}))})}let me=null;function ge(){me=A.onerror,A.onerror=function(X,$,j,ie,J){return f("error",{column:ie,error:J,line:j,msg:X,url:$}),me?me.apply(this,arguments):!1}}let re=null;function se(){re=A.onunhandledrejection,A.onunhandledrejection=function(X){return f("unhandledrejection",X),re?re.apply(this,arguments):!0}}},34132:function(it,Ee,l){"use strict";l.d(Ee,{Cy:function(){return a},HD:function(){return A},J8:function(){return m},Kj:function(){return f},PO:function(){return I},TX:function(){return y},V9:function(){return k},VW:function(){return O},VZ:function(){return d},cO:function(){return w},fm:function(){return W},i2:function(){return x},kK:function(){return _},pt:function(){return M}});const C=Object.prototype.toString;function d(T){switch(C.call(T)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return k(T,Error)}}function z(T,N){return C.call(T)===`[object ${N}]`}function O(T){return z(T,"ErrorEvent")}function y(T){return z(T,"DOMError")}function W(T){return z(T,"DOMException")}function A(T){return z(T,"String")}function M(T){return T===null||typeof T!="object"&&typeof T!="function"}function I(T){return z(T,"Object")}function w(T){return typeof Event!="undefined"&&k(T,Event)}function _(T){return typeof Element!="undefined"&&k(T,Element)}function f(T){return z(T,"RegExp")}function m(T){return Boolean(T&&T.then&&typeof T.then=="function")}function a(T){return I(T)&&"nativeEvent"in T&&"preventDefault"in T&&"stopPropagation"in T}function x(T){return typeof T=="number"&&T!==T}function k(T,N){try{return T instanceof N}catch(L){return!1}}},94159:function(it,Ee,l){"use strict";l.d(Ee,{Cf:function(){return O},RU:function(){return z},kg:function(){return W}});var C=l(98755);const d="Sentry Logger ",z=["debug","info","warn","error","log","assert","trace"];function O(A){if(!("console"in C.n2))return A();const M=C.n2.console,I={};z.forEach(w=>{const _=M[w]&&M[w].__sentry_original__;w in M&&_&&(I[w]=M[w],M[w]=_)});try{return A()}finally{Object.keys(I).forEach(w=>{M[w]=I[w]})}}function y(){let A=!1;const M={enable:()=>{A=!0},disable:()=>{A=!1}};return typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__?z.forEach(I=>{M[I]=(...w)=>{A&&O(()=>{C.n2.console[I](`${d}[${I}]:`,...w)})}}):z.forEach(I=>{M[I]=()=>{}}),M}let W;typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__?W=(0,C.YO)("logger",y):W=y()},60081:function(it,Ee,l){"use strict";l.d(Ee,{DM:function(){return z},Db:function(){return W},EG:function(){return A},YO:function(){return _},jH:function(){return y},lE:function(){return f}});var C=l(65410),d=l(98755);function z(){const m=d.n2,a=m.crypto||m.msCrypto;if(a&&a.randomUUID)return a.randomUUID().replace(/-/g,"");const x=a&&a.getRandomValues?()=>a.getRandomValues(new Uint8Array(1))[0]:()=>Math.random()*16;return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,k=>(k^(x()&15)>>k/4).toString(16))}function O(m){return m.exception&&m.exception.values?m.exception.values[0]:void 0}function y(m){const{message:a,event_id:x}=m;if(a)return a;const k=O(m);return k?k.type&&k.value?`${k.type}: ${k.value}`:k.type||k.value||x||"<unknown>":x||"<unknown>"}function W(m,a,x){const k=m.exception=m.exception||{},T=k.values=k.values||[],N=T[0]=T[0]||{};N.value||(N.value=a||""),N.type||(N.type=x||"Error")}function A(m,a){const x=O(m);if(!x)return;const k={type:"generic",handled:!0},T=x.mechanism;if(x.mechanism=Jn(Jn(Jn({},k),T),a),a&&"data"in a){const N=Jn(Jn({},T&&T.data),a.data);x.mechanism.data=N}}const M=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function I(m){const a=m.match(M)||[],x=parseInt(a[1],10),k=parseInt(a[2],10),T=parseInt(a[3],10);return{buildmetadata:a[5],major:isNaN(x)?void 0:x,minor:isNaN(k)?void 0:k,patch:isNaN(T)?void 0:T,prerelease:a[4]}}function w(m,a,x=5){if(a.lineno===void 0)return;const k=m.length,T=Math.max(Math.min(k,a.lineno-1),0);a.pre_context=m.slice(Math.max(0,T-x),T).map(N=>snipLine(N,0)),a.context_line=snipLine(m[Math.min(k-1,T)],a.colno||0),a.post_context=m.slice(Math.min(T+1,k),T+1+x).map(N=>snipLine(N,0))}function _(m){if(m&&m.__sentry_captured__)return!0;try{(0,C.xp)(m,"__sentry_captured__",!0)}catch(a){}return!1}function f(m){return Array.isArray(m)?m:[m]}},47017:function(it,Ee,l){"use strict";l.d(Ee,{l$:function(){return O},KV:function(){return z},$y:function(){return y}});function C(){return typeof __SENTRY_BROWSER_BUNDLE__!="undefined"&&!!__SENTRY_BROWSER_BUNDLE__}it=l.hmd(it);var d=l(14224);function z(){return!C()&&Object.prototype.toString.call(typeof d!="undefined"?d:0)==="[object process]"}function O(W,A){return W.require(A)}function y(W){let A;try{A=O(it,W)}catch(M){}try{const{cwd:M}=O(it,"process");A=O(it,`${M()}/node_modules/${W}`)}catch(M){}return A}},65410:function(it,Ee,l){"use strict";l.d(Ee,{$Q:function(){return W},HK:function(){return A},Jr:function(){return m},Sh:function(){return I},_j:function(){return M},hl:function(){return O},xp:function(){return y},zf:function(){return f}});var C=l(8129),d=l(34132),z=l(37534);function O(k,T,N){if(!(T in k))return;const L=k[T],R=N(L);if(typeof R=="function")try{W(R,L)}catch(b){}k[T]=R}function y(k,T,N){Object.defineProperty(k,T,{value:N,writable:!0,configurable:!0})}function W(k,T){const N=T.prototype||{};k.prototype=T.prototype=N,y(k,"__sentry_original__",T)}function A(k){return k.__sentry_original__}function M(k){return Object.keys(k).map(T=>`${encodeURIComponent(T)}=${encodeURIComponent(k[T])}`).join("&")}function I(k){if((0,d.VZ)(k))return Jn({message:k.message,name:k.name,stack:k.stack},_(k));if((0,d.cO)(k)){const T=Jn({type:k.type,target:w(k.target),currentTarget:w(k.currentTarget)},_(k));return typeof CustomEvent!="undefined"&&(0,d.V9)(k,CustomEvent)&&(T.detail=k.detail),T}else return k}function w(k){try{return(0,d.kK)(k)?(0,C.Rt)(k):Object.prototype.toString.call(k)}catch(T){return"<unknown>"}}function _(k){if(typeof k=="object"&&k!==null){const T={};for(const N in k)Object.prototype.hasOwnProperty.call(k,N)&&(T[N]=k[N]);return T}else return{}}function f(k,T=40){const N=Object.keys(I(k));if(N.sort(),!N.length)return"[object has no keys]";if(N[0].length>=T)return(0,z.$G)(N[0],T);for(let L=N.length;L>0;L--){const R=N.slice(0,L).join(", ");if(!(R.length>T))return L===N.length?R:(0,z.$G)(R,T)}return""}function m(k){return a(k,new Map)}function a(k,T){if((0,d.PO)(k)){const N=T.get(k);if(N!==void 0)return N;const L={};T.set(k,L);for(const R of Object.keys(k))typeof k[R]!="undefined"&&(L[R]=a(k[R],T));return L}if(Array.isArray(k)){const N=T.get(k);if(N!==void 0)return N;const L=[];return T.set(k,L),k.forEach(R=>{L.push(a(R,T))}),L}return k}function x(k){let T;switch(!0){case k==null:T=new String(k);break;case(typeof k=="symbol"||typeof k=="bigint"):T=Object(k);break;case isPrimitive(k):T=new k.constructor(k);break;default:T=k;break}return T}},15999:function(it,Ee,l){"use strict";l.d(Ee,{$P:function(){return W},Sq:function(){return z},pE:function(){return d}});const C=50;function d(...I){const w=I.sort((_,f)=>_[0]-f[0]).map(_=>_[1]);return(_,f=0)=>{const m=[];for(const a of _.split(`
`).slice(f)){const x=a.replace(/\(error: (.*)\)/,"$1");for(const k of w){const T=k(x);if(T){m.push(T);break}}}return O(m)}}function z(I){return Array.isArray(I)?d(...I):I}function O(I){if(!I.length)return[];let w=I;const _=w[0].function||"",f=w[w.length-1].function||"";return(_.indexOf("captureMessage")!==-1||_.indexOf("captureException")!==-1)&&(w=w.slice(1)),f.indexOf("sentryWrapped")!==-1&&(w=w.slice(0,-1)),w.slice(0,C).map(m=>io(Jn({},m),{filename:m.filename||w[0].filename,function:m.function||"?"})).reverse()}const y="<anonymous>";function W(I){try{return!I||typeof I!="function"?y:I.name||y}catch(w){return y}}function A(I){const w=/^\s*[-]{4,}$/,_=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/;return f=>{if(f.match(w))return{filename:f};const m=f.match(_);if(!m)return;let a,x,k,T,N;if(m[1]){k=m[1];let V=k.lastIndexOf(".");if(k[V-1]==="."&&V--,V>0){a=k.substr(0,V),x=k.substr(V+1);const H=a.indexOf(".Module");H>0&&(k=k.substr(H+1),a=a.substr(0,H))}T=void 0}x&&(T=a,N=x),x==="<anonymous>"&&(N=void 0,k=void 0),k===void 0&&(N=N||"<anonymous>",k=T?`${T}.${N}`:N);const L=_optionalChain([m,"access",V=>V[2],"optionalAccess",V=>V.startsWith,"call",V=>V("file://")])?m[2].substr(7):m[2],P=!(m[5]==="native"||L&&!L.startsWith("/")&&!L.startsWith(".")&&L.indexOf(":\\")!==1)&&L!==void 0&&!L.includes("node_modules/");return{filename:L,module:_optionalChain([I,"optionalCall",V=>V(L)]),function:k,lineno:parseInt(m[3],10)||void 0,colno:parseInt(m[4],10)||void 0,in_app:P}}}function M(I){return[90,A(I)]}},37534:function(it,Ee,l){"use strict";l.d(Ee,{$G:function(){return d},U0:function(){return W},nK:function(){return O}});var C=l(34132);function d(M,I=0){return typeof M!="string"||I===0||M.length<=I?M:`${M.substr(0,I)}...`}function z(M,I){let w=M;const _=w.length;if(_<=150)return w;I>_&&(I=_);let f=Math.max(I-60,0);f<5&&(f=0);let m=Math.min(f+140,_);return m>_-5&&(m=_),m===_&&(f=Math.max(m-140,0)),w=w.slice(f,m),f>0&&(w=`'{snip} ${w}`),m<_&&(w+=" {snip}"),w}function O(M,I){if(!Array.isArray(M))return"";const w=[];for(let _=0;_<M.length;_++){const f=M[_];try{w.push(String(f))}catch(m){w.push("[value cannot be serialized]")}}return w.join(I)}function y(M,I,w=!1){return(0,C.HD)(M)?(0,C.Kj)(I)?I.test(M):(0,C.HD)(I)?w?M===I:M.includes(I):!1:!1}function W(M,I=[],w=!1){return I.some(_=>y(M,_,w))}function A(M){return M.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},35953:function(it,Ee,l){"use strict";l.d(Ee,{Ak:function(){return A},Bf:function(){return f},Du:function(){return M},t$:function(){return I}});var C=l(94159),d=l(98755);const z=(0,d.Rf)();function O(){try{return new ErrorEvent(""),!0}catch(m){return!1}}function y(){try{return new DOMError(""),!0}catch(m){return!1}}function W(){try{return new DOMException(""),!0}catch(m){return!1}}function A(){if(!("fetch"in z))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(m){return!1}}function M(m){return m&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(m.toString())}function I(){if(!A())return!1;if(M(z.fetch))return!0;let m=!1;const a=z.document;if(a&&typeof a.createElement=="function")try{const x=a.createElement("iframe");x.hidden=!0,a.head.appendChild(x),x.contentWindow&&x.contentWindow.fetch&&(m=M(x.contentWindow.fetch)),a.head.removeChild(x)}catch(x){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",x)}return m}function w(){return"ReportingObserver"in z}function _(){if(!A())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(m){return!1}}function f(){const m=z.chrome,a=m&&m.app&&m.app.runtime,x="history"in z&&!!z.history.pushState&&!!z.history.replaceState;return!a&&x}},40751:function(it,Ee,l){"use strict";l.d(Ee,{$2:function(){return O},WD:function(){return z},cW:function(){return y}});var C=l(34132),d;(function(W){W[W.PENDING=0]="PENDING";const M=1;W[W.RESOLVED=M]="RESOLVED";const I=2;W[W.REJECTED=I]="REJECTED"})(d||(d={}));function z(W){return new y(A=>{A(W)})}function O(W){return new y((A,M)=>{M(W)})}class y{__init(){this._state=d.PENDING}__init2(){this._handlers=[]}constructor(A){y.prototype.__init.call(this),y.prototype.__init2.call(this),y.prototype.__init3.call(this),y.prototype.__init4.call(this),y.prototype.__init5.call(this),y.prototype.__init6.call(this);try{A(this._resolve,this._reject)}catch(M){this._reject(M)}}then(A,M){return new y((I,w)=>{this._handlers.push([!1,_=>{if(!A)I(_);else try{I(A(_))}catch(f){w(f)}},_=>{if(!M)w(_);else try{I(M(_))}catch(f){w(f)}}]),this._executeHandlers()})}catch(A){return this.then(M=>M,A)}finally(A){return new y((M,I)=>{let w,_;return this.then(f=>{_=!1,w=f,A&&A()},f=>{_=!0,w=f,A&&A()}).then(()=>{if(_){I(w);return}M(w)})})}__init3(){this._resolve=A=>{this._setResult(d.RESOLVED,A)}}__init4(){this._reject=A=>{this._setResult(d.REJECTED,A)}}__init5(){this._setResult=(A,M)=>{if(this._state===d.PENDING){if((0,C.J8)(M)){M.then(this._resolve,this._reject);return}this._state=A,this._value=M,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state===d.PENDING)return;const A=this._handlers.slice();this._handlers=[],A.forEach(M=>{M[0]||(this._state===d.RESOLVED&&M[1](this._value),this._state===d.REJECTED&&M[2](this._value),M[0]=!0)})}}}},13632:function(it,Ee,l){"use strict";l.d(Ee,{Z1:function(){return a},_I:function(){return _},ph:function(){return w},yW:function(){return I}});var C=l(47017),d=l(98755);it=l.hmd(it);const z=(0,d.Rf)(),O={nowSeconds:()=>Date.now()/1e3};function y(){const{performance:x}=z;if(!x||!x.now)return;const k=Date.now()-x.now();return{now:()=>x.now(),timeOrigin:k}}function W(){try{return(0,C.l$)(it,"perf_hooks").performance}catch(x){return}}const A=(0,C.KV)()?W():y(),M=A===void 0?O:{nowSeconds:()=>(A.timeOrigin+A.now())/1e3},I=O.nowSeconds.bind(O),w=M.nowSeconds.bind(M),_=w,f=A!==void 0;let m;const a=(()=>{const{performance:x}=z;if(!x||!x.now){m="none";return}const k=3600*1e3,T=x.now(),N=Date.now(),L=x.timeOrigin?Math.abs(x.timeOrigin+T-N):k,R=L<k,b=x.timing&&x.timing.navigationStart,V=typeof b=="number"?Math.abs(b+T-N):k,H=V<k;return R||H?L<=V?(m="timeOrigin",x.timeOrigin):(m="navigationStart",b):(m="dateNow",N)})()},98755:function(it,Ee,l){"use strict";l.d(Ee,{Rf:function(){return z},YO:function(){return O},n2:function(){return d}});function C(y){return y&&y.Math==Math?y:void 0}const d=typeof globalThis=="object"&&C(globalThis)||typeof window=="object"&&C(window)||typeof self=="object"&&C(self)||typeof l.g=="object"&&C(l.g)||function(){return this}()||{};function z(){return d}function O(y,W,A){const M=A||d,I=M.__SENTRY__=M.__SENTRY__||{};return I[y]||(I[y]=W())}},29841:function(){"use strict"},23838:function(){"use strict"},53828:function(it,Ee,l){"use strict";var C=l(6614),d=l(63313),z=l.n(d),O=l(16204);Ee.Z=function(){var y=d.useState(!1),W=(0,C.Z)(y,2),A=W[0],M=W[1];return d.useEffect(function(){M((0,O.fk)())},[]),A}},15336:function(it,Ee,l){"use strict";l.d(Ee,{C:function(){return $}});var C=l(15882),d=l(24255),z=l(54465),O=l(6614),y=l(84875),W=l.n(y),A=l(91926),M=l(94261),I=l(63313),w=l(47295),_=l(66432),f=l(79315),m=I.createContext("default"),a=function(ie){var J=ie.children,oe=ie.size;return I.createElement(m.Consumer,null,function(ce){return I.createElement(m.Provider,{value:oe||ce},J)})},x=m,k=function(j,ie){var J={};for(var oe in j)Object.prototype.hasOwnProperty.call(j,oe)&&ie.indexOf(oe)<0&&(J[oe]=j[oe]);if(j!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,oe=Object.getOwnPropertySymbols(j);ce<oe.length;ce++)ie.indexOf(oe[ce])<0&&Object.prototype.propertyIsEnumerable.call(j,oe[ce])&&(J[oe[ce]]=j[oe[ce]]);return J},T=function(ie,J){var oe,ce,we=I.useContext(x),Me=I.useState(1),Ke=(0,O.Z)(Me,2),De=Ke[0],be=Ke[1],We=I.useState(!1),et=(0,O.Z)(We,2),Kt=et[0],_t=et[1],tt=I.useState(!0),kt=(0,O.Z)(tt,2),Ut=kt[0],Ft=kt[1],Te=I.useRef(null),Ge=I.useRef(null),Et=(0,M.sQ)(J,Te),Wt=I.useContext(w.E_),Ze=Wt.getPrefixCls,xe=function(){if(!(!Ge.current||!Te.current)){var He=Ge.current.offsetWidth,Ve=Te.current.offsetWidth;if(He!==0&&Ve!==0){var Se=ie.gap,St=Se===void 0?4:Se;St*2<Ve&&be(Ve-St*2<He?(Ve-St*2)/He:1)}}};I.useEffect(function(){_t(!0)},[]),I.useEffect(function(){Ft(!0),be(1)},[ie.src]),I.useEffect(function(){xe()},[ie.gap]);var ve=function(){var He=ie.onError,Ve=He?He():void 0;Ve!==!1&&Ft(!1)},$e=ie.prefixCls,at=ie.shape,Tt=at===void 0?"circle":at,Mt=ie.size,gt=Mt===void 0?"default":Mt,Rt=ie.src,Zt=ie.srcSet,hn=ie.icon,Pe=ie.className,en=ie.alt,vt=ie.draggable,Le=ie.children,nn=ie.crossOrigin,sn=k(ie,["prefixCls","shape","size","src","srcSet","icon","className","alt","draggable","children","crossOrigin"]),ei=gt==="default"?we:gt,wn=Object.keys((0,z.Z)(ei)==="object"?ei||{}:{}).some(function(Lt){return["xs","sm","md","lg","xl","xxl"].includes(Lt)}),Ne=(0,_.Z)(wn),Fe=I.useMemo(function(){if((0,z.Z)(ei)!=="object")return{};var Lt=f.c4.find(function(Ve){return Ne[Ve]}),He=ei[Lt];return He?{width:He,height:He,lineHeight:"".concat(He,"px"),fontSize:hn?He/2:18}:{}},[Ne,ei]),ht=Ze("avatar",$e),Qt=W()((oe={},(0,d.Z)(oe,"".concat(ht,"-lg"),ei==="large"),(0,d.Z)(oe,"".concat(ht,"-sm"),ei==="small"),oe)),dn=I.isValidElement(Rt),gn=W()(ht,Qt,(ce={},(0,d.Z)(ce,"".concat(ht,"-").concat(Tt),!!Tt),(0,d.Z)(ce,"".concat(ht,"-image"),dn||Rt&&Ut),(0,d.Z)(ce,"".concat(ht,"-icon"),!!hn),ce),Pe),Ht=typeof ei=="number"?{width:ei,height:ei,lineHeight:"".concat(ei,"px"),fontSize:hn?ei/2:18}:{},lt;if(typeof Rt=="string"&&Ut)lt=I.createElement("img",{src:Rt,draggable:vt,srcSet:Zt,onError:ve,alt:en,crossOrigin:nn});else if(dn)lt=Rt;else if(hn)lt=hn;else if(Kt||De!==1){var Cn="scale(".concat(De,") translateX(-50%)"),Ue={msTransform:Cn,WebkitTransform:Cn,transform:Cn},Pt=typeof ei=="number"?{lineHeight:"".concat(ei,"px")}:{};lt=I.createElement(A.Z,{onResize:xe},I.createElement("span",{className:"".concat(ht,"-string"),ref:Ge,style:(0,C.Z)((0,C.Z)({},Pt),Ue)},Le))}else lt=I.createElement("span",{className:"".concat(ht,"-string"),style:{opacity:0},ref:Ge},Le);return delete sn.onError,delete sn.gap,I.createElement("span",(0,C.Z)({},sn,{style:(0,C.Z)((0,C.Z)((0,C.Z)({},Ht),Fe),sn.style),className:gn,ref:Et}),lt)},N=I.forwardRef(T),L=N,R=l(33246),b=l(61135),P=function(ie){return ie?typeof ie=="function"?ie():ie:null},V=l(73442),H=function(j,ie){var J={};for(var oe in j)Object.prototype.hasOwnProperty.call(j,oe)&&ie.indexOf(oe)<0&&(J[oe]=j[oe]);if(j!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,oe=Object.getOwnPropertySymbols(j);ce<oe.length;ce++)ie.indexOf(oe[ce])<0&&Object.prototype.propertyIsEnumerable.call(j,oe[ce])&&(J[oe[ce]]=j[oe[ce]]);return J},ee=function(ie){var J=ie.title,oe=ie.content,ce=ie.prefixCls;return!J&&!oe?null:I.createElement(I.Fragment,null,J&&I.createElement("div",{className:"".concat(ce,"-title")},P(J)),I.createElement("div",{className:"".concat(ce,"-inner-content")},P(oe)))},ae=I.forwardRef(function(j,ie){var J=j.prefixCls,oe=j.title,ce=j.content,we=j._overlay,Me=j.placement,Ke=Me===void 0?"top":Me,De=j.trigger,be=De===void 0?"hover":De,We=j.mouseEnterDelay,et=We===void 0?.1:We,Kt=j.mouseLeaveDelay,_t=Kt===void 0?.1:Kt,tt=j.overlayStyle,kt=tt===void 0?{}:tt,Ut=H(j,["prefixCls","title","content","_overlay","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),Ft=I.useContext(w.E_),Te=Ft.getPrefixCls,Ge=Te("popover",J),Et=Te();return I.createElement(b.Z,(0,C.Z)({placement:Ke,trigger:be,mouseEnterDelay:et,mouseLeaveDelay:_t,overlayStyle:kt},Ut,{prefixCls:Ge,ref:ie,overlay:we||I.createElement(ee,{prefixCls:Ge,title:oe,content:ce}),transitionName:(0,V.mL)(Et,"zoom-big",Ut.transitionName)}))}),me=ae,ge=l(51979),re=function(ie){var J=I.useContext(w.E_),oe=J.getPrefixCls,ce=J.direction,we=ie.prefixCls,Me=ie.className,Ke=Me===void 0?"":Me,De=ie.maxCount,be=ie.maxStyle,We=ie.size,et=oe("avatar-group",we),Kt=W()(et,(0,d.Z)({},"".concat(et,"-rtl"),ce==="rtl"),Ke),_t=ie.children,tt=ie.maxPopoverPlacement,kt=tt===void 0?"top":tt,Ut=ie.maxPopoverTrigger,Ft=Ut===void 0?"hover":Ut,Te=(0,R.Z)(_t).map(function(Ze,xe){return(0,ge.Tm)(Ze,{key:"avatar-key-".concat(xe)})}),Ge=Te.length;if(De&&De<Ge){var Et=Te.slice(0,De),Wt=Te.slice(De,Ge);return Et.push(I.createElement(me,{key:"avatar-popover-key",content:Wt,trigger:Ft,placement:kt,overlayClassName:"".concat(et,"-popover")},I.createElement(L,{style:be},"+".concat(Ge-De)))),I.createElement(a,{size:We},I.createElement("div",{className:Kt,style:ie.style},Et))}return I.createElement(a,{size:We},I.createElement("div",{className:Kt,style:ie.style},Te))},se=re,X=L;X.Group=se;var $=X},8508:function(it,Ee,l){"use strict";l.d(Ee,{Z:function(){return V}});var C=l(24255),d=l(54465),z=l(15882),O=l(84875),y=l.n(O),W=l(45952),A=l(63313),M=l(47295),I=l(51979),w=l(38439);function _(H){return w.Y.includes(H)}var f=function(ee){var ae,me=ee.className,ge=ee.prefixCls,re=ee.style,se=ee.color,X=ee.children,$=ee.text,j=ee.placement,ie=j===void 0?"end":j,J=A.useContext(M.E_),oe=J.getPrefixCls,ce=J.direction,we=oe("ribbon",ge),Me=_(se),Ke=y()(we,"".concat(we,"-placement-").concat(ie),(ae={},(0,C.Z)(ae,"".concat(we,"-rtl"),ce==="rtl"),(0,C.Z)(ae,"".concat(we,"-color-").concat(se),Me),ae),me),De={},be={};return se&&!Me&&(De.background=se,be.color=se),A.createElement("div",{className:"".concat(we,"-wrapper")},X,A.createElement("div",{className:Ke,style:(0,z.Z)((0,z.Z)({},De),re)},A.createElement("span",{className:"".concat(we,"-text")},$),A.createElement("div",{className:"".concat(we,"-corner"),style:be})))},m=f,a=l(6614);function x(H){var ee=H.prefixCls,ae=H.value,me=H.current,ge=H.offset,re=ge===void 0?0:ge,se;return re&&(se={position:"absolute",top:"".concat(re,"00%"),left:0}),A.createElement("span",{style:se,className:y()("".concat(ee,"-only-unit"),{current:me})},ae)}function k(H,ee,ae){for(var me=H,ge=0;(me+10)%10!==ee;)me+=ae,ge+=ae;return ge}function T(H){var ee=H.prefixCls,ae=H.count,me=H.value,ge=Number(me),re=Math.abs(ae),se=A.useState(ge),X=(0,a.Z)(se,2),$=X[0],j=X[1],ie=A.useState(re),J=(0,a.Z)(ie,2),oe=J[0],ce=J[1],we=function(){j(ge),ce(re)};A.useEffect(function(){var _t=setTimeout(function(){we()},1e3);return function(){clearTimeout(_t)}},[ge]);var Me,Ke;if($===ge||Number.isNaN(ge)||Number.isNaN($))Me=[A.createElement(x,(0,z.Z)({},H,{key:ge,current:!0}))],Ke={transition:"none"};else{Me=[];for(var De=ge+10,be=[],We=ge;We<=De;We+=1)be.push(We);var et=be.findIndex(function(_t){return _t%10===$});Me=be.map(function(_t,tt){var kt=_t%10;return A.createElement(x,(0,z.Z)({},H,{key:_t,value:kt,offset:tt-et,current:tt===et}))});var Kt=oe<re?1:-1;Ke={transform:"translateY(".concat(-k($,ge,Kt),"00%)")}}return A.createElement("span",{className:"".concat(ee,"-only"),style:Ke,onTransitionEnd:we},Me)}var N=function(H,ee){var ae={};for(var me in H)Object.prototype.hasOwnProperty.call(H,me)&&ee.indexOf(me)<0&&(ae[me]=H[me]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ge=0,me=Object.getOwnPropertySymbols(H);ge<me.length;ge++)ee.indexOf(me[ge])<0&&Object.prototype.propertyIsEnumerable.call(H,me[ge])&&(ae[me[ge]]=H[me[ge]]);return ae},L=function(ee){var ae=ee.prefixCls,me=ee.count,ge=ee.className,re=ee.motionClassName,se=ee.style,X=ee.title,$=ee.show,j=ee.component,ie=j===void 0?"sup":j,J=ee.children,oe=N(ee,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),ce=A.useContext(M.E_),we=ce.getPrefixCls,Me=we("scroll-number",ae),Ke=(0,z.Z)((0,z.Z)({},oe),{"data-show":$,style:se,className:y()(Me,ge,re),title:X}),De=me;if(me&&Number(me)%1===0){var be=String(me).split("");De=be.map(function(We,et){return A.createElement(T,{prefixCls:Me,count:Number(me),value:We,key:be.length-et})})}return se&&se.borderColor&&(Ke.style=(0,z.Z)((0,z.Z)({},se),{boxShadow:"0 0 0 1px ".concat(se.borderColor," inset")})),J?(0,I.Tm)(J,function(We){return{className:y()("".concat(Me,"-custom-component"),We==null?void 0:We.className,re)}}):A.createElement(ie,Ke,De)},R=L,b=function(H,ee){var ae={};for(var me in H)Object.prototype.hasOwnProperty.call(H,me)&&ee.indexOf(me)<0&&(ae[me]=H[me]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ge=0,me=Object.getOwnPropertySymbols(H);ge<me.length;ge++)ee.indexOf(me[ge])<0&&Object.prototype.propertyIsEnumerable.call(H,me[ge])&&(ae[me[ge]]=H[me[ge]]);return ae},P=function(ee){var ae,me,ge=ee.prefixCls,re=ee.scrollNumberPrefixCls,se=ee.children,X=ee.status,$=ee.text,j=ee.color,ie=ee.count,J=ie===void 0?null:ie,oe=ee.overflowCount,ce=oe===void 0?99:oe,we=ee.dot,Me=we===void 0?!1:we,Ke=ee.size,De=Ke===void 0?"default":Ke,be=ee.title,We=ee.offset,et=ee.style,Kt=ee.className,_t=ee.showZero,tt=_t===void 0?!1:_t,kt=b(ee,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","showZero"]),Ut=A.useContext(M.E_),Ft=Ut.getPrefixCls,Te=Ut.direction,Ge=Ft("badge",ge),Et=J>ce?"".concat(ce,"+"):J,Wt=Et==="0"||Et===0,Ze=J===null||Wt&&!tt,xe=(X!=null||j!=null)&&Ze,ve=Me&&!Wt,$e=ve?"":Et,at=(0,A.useMemo)(function(){var wn=$e==null||$e==="";return(wn||Wt&&!tt)&&!ve},[$e,Wt,tt,ve]),Tt=(0,A.useRef)(J);at||(Tt.current=J);var Mt=Tt.current,gt=(0,A.useRef)($e);at||(gt.current=$e);var Rt=gt.current,Zt=(0,A.useRef)(ve);at||(Zt.current=ve);var hn=(0,A.useMemo)(function(){if(!We)return(0,z.Z)({},et);var wn={marginTop:We[1]};return Te==="rtl"?wn.left=parseInt(We[0],10):wn.right=-parseInt(We[0],10),(0,z.Z)((0,z.Z)({},wn),et)},[Te,We,et]),Pe=be!=null?be:typeof Mt=="string"||typeof Mt=="number"?Mt:void 0,en=at||!$?null:A.createElement("span",{className:"".concat(Ge,"-status-text")},$),vt=!Mt||(0,d.Z)(Mt)!=="object"?void 0:(0,I.Tm)(Mt,function(wn){return{style:(0,z.Z)((0,z.Z)({},hn),wn.style)}}),Le=y()((ae={},(0,C.Z)(ae,"".concat(Ge,"-status-dot"),xe),(0,C.Z)(ae,"".concat(Ge,"-status-").concat(X),!!X),(0,C.Z)(ae,"".concat(Ge,"-status-").concat(j),_(j)),ae)),nn={};j&&!_(j)&&(nn.background=j);var sn=y()(Ge,(me={},(0,C.Z)(me,"".concat(Ge,"-status"),xe),(0,C.Z)(me,"".concat(Ge,"-not-a-wrapper"),!se),(0,C.Z)(me,"".concat(Ge,"-rtl"),Te==="rtl"),me),Kt);if(!se&&xe){var ei=hn.color;return A.createElement("span",(0,z.Z)({},kt,{className:sn,style:hn}),A.createElement("span",{className:Le,style:nn}),$&&A.createElement("span",{style:{color:ei},className:"".concat(Ge,"-status-text")},$))}return A.createElement("span",(0,z.Z)({},kt,{className:sn}),se,A.createElement(W.Z,{visible:!at,motionName:"".concat(Ge,"-zoom"),motionAppear:!1,motionDeadline:1e3},function(wn){var Ne,Fe=wn.className,ht=Ft("scroll-number",re),Qt=Zt.current,dn=y()((Ne={},(0,C.Z)(Ne,"".concat(Ge,"-dot"),Qt),(0,C.Z)(Ne,"".concat(Ge,"-count"),!Qt),(0,C.Z)(Ne,"".concat(Ge,"-count-sm"),De==="small"),(0,C.Z)(Ne,"".concat(Ge,"-multiple-words"),!Qt&&Rt&&Rt.toString().length>1),(0,C.Z)(Ne,"".concat(Ge,"-status-").concat(X),!!X),(0,C.Z)(Ne,"".concat(Ge,"-status-").concat(j),_(j)),Ne)),gn=(0,z.Z)({},hn);return j&&!_(j)&&(gn=gn||{},gn.background=j),A.createElement(R,{prefixCls:ht,show:!at,motionClassName:Fe,className:dn,count:Rt,title:Pe,style:gn,key:"scrollNumber"},vt)}),en)};P.Ribbon=m;var V=P},36178:function(){"use strict"},22999:function(it,Ee,l){"use strict";var C=l(20652);Ee.Z=C.Z},72696:function(it,Ee,l){"use strict";l.d(Ee,{Z:function(){return Ne}});var C=l(15882),d=l(54465),z=l(53133),O=l(56453),y=l(24255),W=l(6614),A=l(30486),M=l(63313),I=l.n(M),w=l(84875),_=l.n(w),f=l(30337),m=l(28780),a=l(45881),x=l(89517),k=l(58236),T=l(6479),N=["visible","onVisibleChange","getContainer","current","countRender"],L=M.createContext({previewUrls:new Map,setPreviewUrls:function(){return null},current:null,setCurrent:function(){return null},setShowPreview:function(){return null},setMousePosition:function(){return null},registerImage:function(){return function(){return null}},rootClassName:""}),R=L.Provider,b=function(ht){var Qt=ht.previewPrefixCls,dn=Qt===void 0?"rc-image-preview":Qt,gn=ht.children,Ht=ht.icons,lt=Ht===void 0?{}:Ht,Cn=ht.preview,Ue=(0,d.Z)(Cn)==="object"?Cn:{},Pt=Ue.visible,Lt=Pt===void 0?void 0:Pt,He=Ue.onVisibleChange,Ve=He===void 0?void 0:He,Se=Ue.getContainer,St=Se===void 0?void 0:Se,Jt=Ue.current,mn=Jt===void 0?0:Jt,Mn=Ue.countRender,kn=Mn===void 0?void 0:Mn,Nn=(0,A.Z)(Ue,N),xn=(0,M.useState)(new Map),Xn=(0,W.Z)(xn,2),Sn=Xn[0],Gn=Xn[1],ti=(0,M.useState)(),An=(0,W.Z)(ti,2),Bi=An[0],oi=An[1],Yn=(0,m.Z)(!!Lt,{value:Lt,onChange:Ve}),Ci=(0,W.Z)(Yn,2),On=Ci[0],Si=Ci[1],Di=(0,M.useState)(null),ni=(0,W.Z)(Di,2),Kn=ni[0],Pi=ni[1],Vi=Lt!==void 0,Oi=Array.from(Sn.keys()),_i=Oi[mn],Ye=new Map(Array.from(Sn).filter(function(on){var bn=(0,W.Z)(on,2),hi=bn[1].canPreview;return!!hi}).map(function(on){var bn=(0,W.Z)(on,2),hi=bn[0],En=bn[1].url;return[hi,En]})),It=function(bn,hi){var En=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,Zi=function(){Gn(function(ki){var ui=new Map(ki),qi=ui.delete(bn);return qi?ui:ki})};return Gn(function(ri){return new Map(ri).set(bn,{url:hi,canPreview:En})}),Zi},cn=function(bn){bn.stopPropagation(),Si(!1),Pi(null)};return M.useEffect(function(){oi(_i)},[_i]),M.useEffect(function(){!On&&Vi&&oi(_i)},[_i,Vi,On]),M.createElement(R,{value:{isPreviewGroup:!0,previewUrls:Ye,setPreviewUrls:Gn,current:Bi,setCurrent:oi,setShowPreview:Si,setMousePosition:Pi,registerImage:It}},gn,M.createElement(we,(0,C.Z)({"aria-hidden":!On,visible:On,prefixCls:dn,onClose:cn,mousePosition:Kn,src:Ye.get(Bi),icons:lt,getContainer:St,countRender:kn},Nn)))},P=b,V=l(45952),H=l(16765),ee=1,ae=50,me=1,ge=.2,re=function(ht){var Qt,dn=ht.visible,gn=ht.maskTransitionName,Ht=ht.getContainer,lt=ht.prefixCls,Cn=ht.rootClassName,Ue=ht.icons,Pt=ht.countRender,Lt=ht.showSwitch,He=ht.showProgress,Ve=ht.current,Se=ht.count,St=ht.scale,Jt=ht.onSwitchLeft,mn=ht.onSwitchRight,Mn=ht.onClose,kn=ht.onZoomIn,Nn=ht.onZoomOut,xn=ht.onRotateRight,Xn=ht.onRotateLeft,Sn=Ue.rotateLeft,Gn=Ue.rotateRight,ti=Ue.zoomIn,An=Ue.zoomOut,Bi=Ue.close,oi=Ue.left,Yn=Ue.right,Ci="".concat(lt,"-operations-operation"),On="".concat(lt,"-operations-icon"),Si=[{icon:Bi,onClick:Mn,type:"close"},{icon:ti,onClick:kn,type:"zoomIn",disabled:St===ae},{icon:An,onClick:Nn,type:"zoomOut",disabled:St===ee},{icon:Gn,onClick:xn,type:"rotateRight"},{icon:Sn,onClick:Xn,type:"rotateLeft"}],Di=M.createElement(M.Fragment,null,Lt&&M.createElement(M.Fragment,null,M.createElement("div",{className:_()("".concat(lt,"-switch-left"),(0,y.Z)({},"".concat(lt,"-switch-left-disabled"),Ve===0)),onClick:Jt},oi),M.createElement("div",{className:_()("".concat(lt,"-switch-right"),(0,y.Z)({},"".concat(lt,"-switch-right-disabled"),Ve===Se-1)),onClick:mn},Yn)),M.createElement("ul",{className:"".concat(lt,"-operations")},He&&M.createElement("li",{className:"".concat(lt,"-operations-progress")},(Qt=Pt==null?void 0:Pt(Ve+1,Se))!==null&&Qt!==void 0?Qt:"".concat(Ve+1," / ").concat(Se)),Si.map(function(ni){var Kn,Pi=ni.icon,Vi=ni.onClick,Oi=ni.type,_i=ni.disabled;return M.createElement("li",{className:_()(Ci,(Kn={},(0,y.Z)(Kn,"".concat(lt,"-operations-operation-").concat(Oi),!0),(0,y.Z)(Kn,"".concat(lt,"-operations-operation-disabled"),!!_i),Kn)),onClick:Vi,key:Oi},M.isValidElement(Pi)?M.cloneElement(Pi,{className:On}):Pi)})));return M.createElement(V.Z,{visible:dn,motionName:gn},function(ni){var Kn=ni.className,Pi=ni.style;return M.createElement(H.Z,{open:!0,getContainer:Ht!=null?Ht:document.body},M.createElement("div",{className:_()("".concat(lt,"-operations-wrapper"),Kn,Cn),style:Pi},Di))})},se=re,X=l(45829),$={x:0,y:0,rotate:0,scale:1};function j(Fe){var ht=(0,M.useRef)(null),Qt=(0,M.useRef)([]),dn=(0,M.useState)($),gn=(0,W.Z)(dn,2),Ht=gn[0],lt=gn[1],Cn=function(){lt($)},Ue=function(He){ht.current===null&&(Qt.current=[],ht.current=(0,X.Z)(function(){lt(function(Ve){var Se=Ve;return Qt.current.forEach(function(St){Se=(0,O.Z)((0,O.Z)({},Se),St)}),ht.current=null,Se})})),Qt.current.push((0,O.Z)((0,O.Z)({},Ht),He))},Pt=function(He,Ve,Se){var St=Fe.current,Jt=St.width,mn=St.height,Mn=St.offsetWidth,kn=St.offsetHeight,Nn=St.offsetLeft,xn=St.offsetTop,Xn=He,Sn=Ht.scale*He;Sn>ae?(Xn=ae/Ht.scale,Sn=ae):Sn<ee&&(Xn=ee/Ht.scale,Sn=ee);var Gn=Ve!=null?Ve:innerWidth/2,ti=Se!=null?Se:innerHeight/2,An=Xn-1,Bi=An*Jt*.5,oi=An*mn*.5,Yn=An*(Gn-Ht.x-Nn),Ci=An*(ti-Ht.y-xn),On=Ht.x-(Yn-Bi),Si=Ht.y-(Ci-oi);if(He<1&&Sn===1){var Di=Mn*Sn,ni=kn*Sn,Kn=(0,f.g1)(),Pi=Kn.width,Vi=Kn.height;Di<=Pi&&ni<=Vi&&(On=0,Si=0)}Ue({x:On,y:Si,scale:Sn})};return{transform:Ht,resetTransform:Cn,updateTransform:Ue,dispatchZoonChange:Pt}}function ie(Fe,ht,Qt,dn){var gn=ht+Qt,Ht=(Qt-dn)/2;if(Qt>dn){if(ht>0)return(0,y.Z)({},Fe,Ht);if(ht<0&&gn<dn)return(0,y.Z)({},Fe,-Ht)}else if(ht<0||gn>dn)return(0,y.Z)({},Fe,ht<0?Ht:-Ht);return{}}function J(Fe,ht,Qt,dn){var gn=(0,f.g1)(),Ht=gn.width,lt=gn.height,Cn=null;return Fe<=Ht&&ht<=lt?Cn={x:0,y:0}:(Fe>Ht||ht>lt)&&(Cn=(0,O.Z)((0,O.Z)({},ie("x",Qt,Fe,Ht)),ie("y",dn,ht,lt))),Cn}var oe=["prefixCls","src","alt","onClose","afterClose","visible","icons","rootClassName","getContainer","countRender","scaleStep","transitionName","maskTransitionName"],ce=function(ht){var Qt=ht.prefixCls,dn=ht.src,gn=ht.alt,Ht=ht.onClose,lt=ht.afterClose,Cn=ht.visible,Ue=ht.icons,Pt=Ue===void 0?{}:Ue,Lt=ht.rootClassName,He=ht.getContainer,Ve=ht.countRender,Se=ht.scaleStep,St=Se===void 0?.5:Se,Jt=ht.transitionName,mn=Jt===void 0?"zoom":Jt,Mn=ht.maskTransitionName,kn=Mn===void 0?"fade":Mn,Nn=(0,A.Z)(ht,oe),xn=(0,M.useRef)(),Xn=(0,M.useRef)({deltaX:0,deltaY:0,transformX:0,transformY:0}),Sn=(0,M.useState)(!1),Gn=(0,W.Z)(Sn,2),ti=Gn[0],An=Gn[1],Bi=(0,M.useContext)(L),oi=Bi.previewUrls,Yn=Bi.current,Ci=Bi.isPreviewGroup,On=Bi.setCurrent,Si=oi.size,Di=Array.from(oi.keys()),ni=Di.indexOf(Yn),Kn=Ci?oi.get(Yn):dn,Pi=Ci&&Si>1,Vi=Ci&&Si>=1,Oi=j(xn),_i=Oi.transform,Ye=Oi.resetTransform,It=Oi.updateTransform,cn=Oi.dispatchZoonChange,on=_i.rotate,bn=_i.scale,hi=_()((0,y.Z)({},"".concat(Qt,"-moving"),ti)),En=function(){Ye()},Zi=function(){cn(me+St)},ri=function(){cn(me-St)},ki=function(){It({rotate:on+90})},ui=function(){It({rotate:on-90})},qi=function(ts){ts.preventDefault(),ts.stopPropagation(),ni>0&&On(Di[ni-1])},Xs=function(ts){ts.preventDefault(),ts.stopPropagation(),ni<Si-1&&On(Di[ni+1])},zs=function(){if(Cn&&ti){An(!1);var ts=Xn.current,bo=ts.transformX,Lo=ts.transformY,Us=_i.x!==bo&&_i.y!==Lo;if(!Us)return;var Rs=xn.current.offsetWidth*bn,Ns=xn.current.offsetHeight*bn,Vo=xn.current.getBoundingClientRect(),Po=Vo.left,$o=Vo.top,go=on%180!==0,Is=J(go?Ns:Rs,go?Rs:Ns,Po,$o);Is&&It((0,O.Z)({},Is))}},Ki=function(ts){ts.button===0&&(ts.preventDefault(),ts.stopPropagation(),Xn.current={deltaX:ts.pageX-_i.x,deltaY:ts.pageY-_i.y,transformX:_i.x,transformY:_i.y},An(!0))},Os=function(ts){Cn&&ti&&It({x:ts.pageX-Xn.current.deltaX,y:ts.pageY-Xn.current.deltaY})},ai=function(ts){if(!(!Cn||ts.deltaY==0)){var bo=Math.abs(ts.deltaY/100),Lo=Math.min(bo,ge),Us=me+Lo*St;ts.deltaY>0&&(Us=me/Us),cn(Us,ts.clientX,ts.clientY)}},Jo=(0,M.useCallback)(function(Ks){!Cn||!Pi||(Ks.keyCode===k.Z.LEFT?ni>0&&On(Di[ni-1]):Ks.keyCode===k.Z.RIGHT&&ni<Si-1&&On(Di[ni+1]))},[ni,Si,Di,On,Pi,Cn]),co=function(ts){Cn&&(bn!==1?It({x:0,y:0,scale:1}):cn(me+St,ts.clientX,ts.clientY))};return(0,M.useEffect)(function(){var Ks,ts,bo=(0,x.Z)(window,"mouseup",zs,!1),Lo=(0,x.Z)(window,"mousemove",Os,!1),Us=(0,x.Z)(window,"keydown",Jo,!1);try{window.top!==window.self&&(Ks=(0,x.Z)(window.top,"mouseup",zs,!1),ts=(0,x.Z)(window.top,"mousemove",Os,!1))}catch(Rs){(0,T.Kp)(!1,"[rc-image] ".concat(Rs))}return function(){var Rs,Ns;bo.remove(),Lo.remove(),Us.remove(),(Rs=Ks)===null||Rs===void 0||Rs.remove(),(Ns=ts)===null||Ns===void 0||Ns.remove()}},[Cn,ti,Jo]),I().createElement(I().Fragment,null,I().createElement(a.Z,(0,C.Z)({transitionName:mn,maskTransitionName:kn,closable:!1,keyboard:!0,prefixCls:Qt,onClose:Ht,afterClose:En,visible:Cn,wrapClassName:hi,rootClassName:Lt,getContainer:He},Nn),I().createElement("div",{className:"".concat(Qt,"-img-wrapper")},I().createElement("img",{width:ht.width,height:ht.height,onWheel:ai,onMouseDown:Ki,onDoubleClick:co,ref:xn,className:"".concat(Qt,"-img"),src:Kn,alt:gn,style:{transform:"translate3d(".concat(_i.x,"px, ").concat(_i.y,"px, 0) scale3d(").concat(bn,", ").concat(bn,", 1) rotate(").concat(on,"deg)")}}))),I().createElement(se,{visible:Cn,maskTransitionName:kn,getContainer:He,prefixCls:Qt,rootClassName:Lt,icons:Pt,countRender:Ve,showSwitch:Pi,showProgress:Vi,current:ni,count:Si,scale:bn,onSwitchLeft:qi,onSwitchRight:Xs,onZoomIn:Zi,onZoomOut:ri,onRotateRight:ki,onRotateLeft:ui,onClose:Ht}))},we=ce,Me=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName","crossOrigin","decoding","loading","referrerPolicy","sizes","srcSet","useMap","draggable"],Ke=["src","visible","onVisibleChange","getContainer","mask","maskClassName","icons","scaleStep"],De=0,be=function(ht){var Qt,dn=ht.src,gn=ht.alt,Ht=ht.onPreviewClose,lt=ht.prefixCls,Cn=lt===void 0?"rc-image":lt,Ue=ht.previewPrefixCls,Pt=Ue===void 0?"".concat(Cn,"-preview"):Ue,Lt=ht.placeholder,He=ht.fallback,Ve=ht.width,Se=ht.height,St=ht.style,Jt=ht.preview,mn=Jt===void 0?!0:Jt,Mn=ht.className,kn=ht.onClick,Nn=ht.onError,xn=ht.wrapperClassName,Xn=ht.wrapperStyle,Sn=ht.rootClassName,Gn=ht.crossOrigin,ti=ht.decoding,An=ht.loading,Bi=ht.referrerPolicy,oi=ht.sizes,Yn=ht.srcSet,Ci=ht.useMap,On=ht.draggable,Si=(0,A.Z)(ht,Me),Di=Lt&&Lt!==!0,ni=(0,d.Z)(mn)==="object"?mn:{},Kn=ni.src,Pi=ni.visible,Vi=Pi===void 0?void 0:Pi,Oi=ni.onVisibleChange,_i=Oi===void 0?Ht:Oi,Ye=ni.getContainer,It=Ye===void 0?void 0:Ye,cn=ni.mask,on=ni.maskClassName,bn=ni.icons,hi=ni.scaleStep,En=(0,A.Z)(ni,Ke),Zi=Kn!=null?Kn:dn,ri=Vi!==void 0,ki=(0,m.Z)(!!Vi,{value:Vi,onChange:_i}),ui=(0,W.Z)(ki,2),qi=ui[0],Xs=ui[1],zs=(0,M.useState)(Di?"loading":"normal"),Ki=(0,W.Z)(zs,2),Os=Ki[0],ai=Ki[1],Jo=(0,M.useState)(null),co=(0,W.Z)(Jo,2),Ks=co[0],ts=co[1],bo=Os==="error",Lo=M.useContext(L),Us=Lo.isPreviewGroup,Rs=Lo.setCurrent,Ns=Lo.setShowPreview,Vo=Lo.setMousePosition,Po=Lo.registerImage,$o=M.useState(function(){return De+=1,De}),go=(0,W.Z)($o,1),Is=go[0],Go=!!mn,qo=M.useRef(!1),Xi=function(){ai("normal")},Gs=function(F){Nn&&Nn(F),ai("error")},es=function(F){if(!ri){var Z=(0,f.os)(F.target),de=Z.left,pe=Z.top;Us?(Rs(Is),Vo({x:de,y:pe})):ts({x:de,y:pe})}Us?Ns(!0):Xs(!0),kn&&kn(F)},va=function(F){F.stopPropagation(),Xs(!1),ri||ts(null)},tn=function(F){qo.current=!1,Os==="loading"&&F!=null&&F.complete&&(F.naturalWidth||F.naturalHeight)&&(qo.current=!0,Xi())};M.useEffect(function(){var p=Po(Is,Zi);return p},[]),M.useEffect(function(){Po(Is,Zi,Go)},[Zi,Go]),M.useEffect(function(){bo&&ai("normal"),Di&&!qo.current&&ai("loading")},[dn]);var G=_()(Cn,xn,Sn,(0,y.Z)({},"".concat(Cn,"-error"),bo)),q=bo&&He?He:Zi,fe={crossOrigin:Gn,decoding:ti,draggable:On,loading:An,referrerPolicy:Bi,sizes:oi,srcSet:Yn,useMap:Ci,alt:gn,className:_()("".concat(Cn,"-img"),(0,y.Z)({},"".concat(Cn,"-img-placeholder"),Lt===!0),Mn),style:(0,O.Z)({height:Se},St)};return M.createElement(M.Fragment,null,M.createElement("div",(0,C.Z)({},Si,{className:G,onClick:Go?es:kn,style:(0,O.Z)({width:Ve,height:Se},Xn)}),M.createElement("img",(0,C.Z)({},fe,{ref:tn},bo&&He?{src:He}:{onLoad:Xi,onError:Gs,src:dn},{width:Ve,height:Se})),Os==="loading"&&M.createElement("div",{"aria-hidden":"true",className:"".concat(Cn,"-placeholder")},Lt),cn&&Go&&M.createElement("div",{className:_()("".concat(Cn,"-mask"),on),style:{display:((Qt=fe.style)===null||Qt===void 0?void 0:Qt.display)==="none"?"none":void 0}},cn)),!Us&&Go&&M.createElement(we,(0,C.Z)({"aria-hidden":!qi,visible:qi,prefixCls:Pt,onClose:va,mousePosition:Ks,src:q,alt:gn,getContainer:It,icons:bn,scaleStep:hi,rootClassName:Sn},En)))};be.PreviewGroup=P,be.displayName="Image";var We=be,et=We,Kt=l(47295),_t=l(50672),tt=l(73442),kt=l(47161),Ut=l(92906),Ft=l(71462),Te={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},Ge=Te,Et=l(17536),Wt=function(ht,Qt){return M.createElement(Et.Z,(0,O.Z)((0,O.Z)({},ht),{},{ref:Qt,icon:Ge}))};Wt.displayName="RotateLeftOutlined";var Ze=M.forwardRef(Wt),xe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},ve=xe,$e=function(ht,Qt){return M.createElement(Et.Z,(0,O.Z)((0,O.Z)({},ht),{},{ref:Qt,icon:ve}))};$e.displayName="RotateRightOutlined";var at=M.forwardRef($e),Tt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},Mt=Tt,gt=function(ht,Qt){return M.createElement(Et.Z,(0,O.Z)((0,O.Z)({},ht),{},{ref:Qt,icon:Mt}))};gt.displayName="ZoomInOutlined";var Rt=M.forwardRef(gt),Zt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},hn=Zt,Pe=function(ht,Qt){return M.createElement(Et.Z,(0,O.Z)((0,O.Z)({},ht),{},{ref:Qt,icon:hn}))};Pe.displayName="ZoomOutOutlined";var en=M.forwardRef(Pe),vt=function(Fe,ht){var Qt={};for(var dn in Fe)Object.prototype.hasOwnProperty.call(Fe,dn)&&ht.indexOf(dn)<0&&(Qt[dn]=Fe[dn]);if(Fe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var gn=0,dn=Object.getOwnPropertySymbols(Fe);gn<dn.length;gn++)ht.indexOf(dn[gn])<0&&Object.prototype.propertyIsEnumerable.call(Fe,dn[gn])&&(Qt[dn[gn]]=Fe[dn[gn]]);return Qt},Le={rotateLeft:M.createElement(Ze,null),rotateRight:M.createElement(at,null),zoomIn:M.createElement(Rt,null),zoomOut:M.createElement(en,null),close:M.createElement(kt.Z,null),left:M.createElement(Ut.Z,null),right:M.createElement(Ft.Z,null)},nn=function(ht){var Qt=ht.previewPrefixCls,dn=ht.preview,gn=vt(ht,["previewPrefixCls","preview"]),Ht=M.useContext(Kt.E_),lt=Ht.getPrefixCls,Cn=lt("image-preview",Qt),Ue=lt(),Pt=M.useMemo(function(){if(dn===!1)return dn;var Lt=(0,d.Z)(dn)==="object"?dn:{};return(0,C.Z)((0,C.Z)({},Lt),{transitionName:(0,tt.mL)(Ue,"zoom",Lt.transitionName),maskTransitionName:(0,tt.mL)(Ue,"fade",Lt.maskTransitionName)})},[dn]);return M.createElement(et.PreviewGroup,(0,C.Z)({preview:Pt,previewPrefixCls:Cn,icons:Le},gn))},sn=nn,ei=function(Fe,ht){var Qt={};for(var dn in Fe)Object.prototype.hasOwnProperty.call(Fe,dn)&&ht.indexOf(dn)<0&&(Qt[dn]=Fe[dn]);if(Fe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var gn=0,dn=Object.getOwnPropertySymbols(Fe);gn<dn.length;gn++)ht.indexOf(dn[gn])<0&&Object.prototype.propertyIsEnumerable.call(Fe,dn[gn])&&(Qt[dn[gn]]=Fe[dn[gn]]);return Qt},wn=function(ht){var Qt=ht.prefixCls,dn=ht.preview,gn=ei(ht,["prefixCls","preview"]),Ht=(0,M.useContext)(Kt.E_),lt=Ht.getPrefixCls,Cn=Ht.locale,Ue=Cn===void 0?_t.Z:Cn,Pt=Ht.getPopupContainer,Lt=lt("image",Qt),He=lt(),Ve=Ue.Image||_t.Z.Image,Se=M.useMemo(function(){if(dn===!1)return dn;var St=(0,d.Z)(dn)==="object"?dn:{},Jt=St.getContainer,mn=ei(St,["getContainer"]);return(0,C.Z)((0,C.Z)({mask:M.createElement("div",{className:"".concat(Lt,"-mask-info")},M.createElement(z.Z,null),Ve==null?void 0:Ve.preview),icons:Le},mn),{getContainer:Jt||Pt,transitionName:(0,tt.mL)(He,"zoom",St.transitionName),maskTransitionName:(0,tt.mL)(He,"fade",St.maskTransitionName)})},[dn,Ve]);return M.createElement(et,(0,C.Z)({prefixCls:Lt,preview:Se},gn))};wn.PreviewGroup=sn;var Ne=wn},50672:function(it,Ee,l){"use strict";var C=l(14885);Ee.Z=C.Z},53498:function(it,Ee,l){"use strict";var C=l(87981),d=l(39086)},2793:function(it,Ee,l){"use strict";l.d(Ee,{Z:function(){return Me}});var C=l(24255),d=l(15882),z=l(54465),O=l(84875),y=l.n(O),W=l(63313),A=l(47295),M=l(33759),I=function(De){var be,We,et=De.prefixCls,Kt=De.className,_t=De.style,tt=De.size,kt=De.shape,Ut=y()((be={},(0,C.Z)(be,"".concat(et,"-lg"),tt==="large"),(0,C.Z)(be,"".concat(et,"-sm"),tt==="small"),be)),Ft=y()((We={},(0,C.Z)(We,"".concat(et,"-circle"),kt==="circle"),(0,C.Z)(We,"".concat(et,"-square"),kt==="square"),(0,C.Z)(We,"".concat(et,"-round"),kt==="round"),We)),Te=W.useMemo(function(){return typeof tt=="number"?{width:tt,height:tt,lineHeight:"".concat(tt,"px")}:{}},[tt]);return W.createElement("span",{className:y()(et,Ut,Ft,Kt),style:(0,d.Z)((0,d.Z)({},Te),_t)})},w=I,_=function(De){var be=De.prefixCls,We=De.className,et=De.active,Kt=De.shape,_t=Kt===void 0?"circle":Kt,tt=De.size,kt=tt===void 0?"default":tt,Ut=W.useContext(A.E_),Ft=Ut.getPrefixCls,Te=Ft("skeleton",be),Ge=(0,M.Z)(De,["prefixCls","className"]),Et=y()(Te,"".concat(Te,"-element"),(0,C.Z)({},"".concat(Te,"-active"),et),We);return W.createElement("div",{className:Et},W.createElement(w,(0,d.Z)({prefixCls:"".concat(Te,"-avatar"),shape:_t,size:kt},Ge)))},f=_,m=function(De){var be,We=De.prefixCls,et=De.className,Kt=De.active,_t=De.block,tt=_t===void 0?!1:_t,kt=De.size,Ut=kt===void 0?"default":kt,Ft=W.useContext(A.E_),Te=Ft.getPrefixCls,Ge=Te("skeleton",We),Et=(0,M.Z)(De,["prefixCls"]),Wt=y()(Ge,"".concat(Ge,"-element"),(be={},(0,C.Z)(be,"".concat(Ge,"-active"),Kt),(0,C.Z)(be,"".concat(Ge,"-block"),tt),be),et);return W.createElement("div",{className:Wt},W.createElement(w,(0,d.Z)({prefixCls:"".concat(Ge,"-button"),size:Ut},Et)))},a=m,x=l(56453),k={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"},T=k,N=l(17536),L=function(De,be){return W.createElement(N.Z,(0,x.Z)((0,x.Z)({},De),{},{ref:be,icon:T}))};L.displayName="DotChartOutlined";var R=W.forwardRef(L),b=function(De){var be=De.prefixCls,We=De.className,et=De.style,Kt=De.active,_t=De.children,tt=W.useContext(A.E_),kt=tt.getPrefixCls,Ut=kt("skeleton",be),Ft=y()(Ut,"".concat(Ut,"-element"),(0,C.Z)({},"".concat(Ut,"-active"),Kt),We),Te=_t!=null?_t:W.createElement(R,null);return W.createElement("div",{className:Ft},W.createElement("div",{className:y()("".concat(Ut,"-image"),We),style:et},Te))},P=b,V="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",H=function(De){var be=De.prefixCls,We=De.className,et=De.style,Kt=De.active,_t=W.useContext(A.E_),tt=_t.getPrefixCls,kt=tt("skeleton",be),Ut=y()(kt,"".concat(kt,"-element"),(0,C.Z)({},"".concat(kt,"-active"),Kt),We);return W.createElement("div",{className:Ut},W.createElement("div",{className:y()("".concat(kt,"-image"),We),style:et},W.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(kt,"-image-svg")},W.createElement("path",{d:V,className:"".concat(kt,"-image-path")}))))},ee=H,ae=function(De){var be,We=De.prefixCls,et=De.className,Kt=De.active,_t=De.block,tt=De.size,kt=tt===void 0?"default":tt,Ut=W.useContext(A.E_),Ft=Ut.getPrefixCls,Te=Ft("skeleton",We),Ge=(0,M.Z)(De,["prefixCls"]),Et=y()(Te,"".concat(Te,"-element"),(be={},(0,C.Z)(be,"".concat(Te,"-active"),Kt),(0,C.Z)(be,"".concat(Te,"-block"),_t),be),et);return W.createElement("div",{className:Et},W.createElement(w,(0,d.Z)({prefixCls:"".concat(Te,"-input"),size:kt},Ge)))},me=ae,ge=l(94100),re=function(De){var be=function(Ut){var Ft=De.width,Te=De.rows,Ge=Te===void 0?2:Te;if(Array.isArray(Ft))return Ft[Ut];if(Ge-1===Ut)return Ft},We=De.prefixCls,et=De.className,Kt=De.style,_t=De.rows,tt=(0,ge.Z)(Array(_t)).map(function(kt,Ut){return W.createElement("li",{key:Ut,style:{width:be(Ut)}})});return W.createElement("ul",{className:y()(We,et),style:Kt},tt)},se=re,X=function(De){var be=De.prefixCls,We=De.className,et=De.width,Kt=De.style;return W.createElement("h3",{className:y()(be,We),style:(0,d.Z)({width:et},Kt)})},$=X;function j(Ke){return Ke&&(0,z.Z)(Ke)==="object"?Ke:{}}function ie(Ke,De){return Ke&&!De?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function J(Ke,De){return!Ke&&De?{width:"38%"}:Ke&&De?{width:"50%"}:{}}function oe(Ke,De){var be={};return(!Ke||!De)&&(be.width="61%"),!Ke&&De?be.rows=3:be.rows=2,be}var ce=function(De){var be=De.prefixCls,We=De.loading,et=De.className,Kt=De.style,_t=De.children,tt=De.avatar,kt=tt===void 0?!1:tt,Ut=De.title,Ft=Ut===void 0?!0:Ut,Te=De.paragraph,Ge=Te===void 0?!0:Te,Et=De.active,Wt=De.round,Ze=W.useContext(A.E_),xe=Ze.getPrefixCls,ve=Ze.direction,$e=xe("skeleton",be);if(We||!("loading"in De)){var at,Tt=!!kt,Mt=!!Ft,gt=!!Ge,Rt;if(Tt){var Zt=(0,d.Z)((0,d.Z)({prefixCls:"".concat($e,"-avatar")},ie(Mt,gt)),j(kt));Rt=W.createElement("div",{className:"".concat($e,"-header")},W.createElement(w,(0,d.Z)({},Zt)))}var hn;if(Mt||gt){var Pe;if(Mt){var en=(0,d.Z)((0,d.Z)({prefixCls:"".concat($e,"-title")},J(Tt,gt)),j(Ft));Pe=W.createElement($,(0,d.Z)({},en))}var vt;if(gt){var Le=(0,d.Z)((0,d.Z)({prefixCls:"".concat($e,"-paragraph")},oe(Tt,Mt)),j(Ge));vt=W.createElement(se,(0,d.Z)({},Le))}hn=W.createElement("div",{className:"".concat($e,"-content")},Pe,vt)}var nn=y()($e,(at={},(0,C.Z)(at,"".concat($e,"-with-avatar"),Tt),(0,C.Z)(at,"".concat($e,"-active"),Et),(0,C.Z)(at,"".concat($e,"-rtl"),ve==="rtl"),(0,C.Z)(at,"".concat($e,"-round"),Wt),at),et);return W.createElement("div",{className:nn,style:Kt},Rt,hn)}return typeof _t!="undefined"?_t:null};ce.Button=a,ce.Avatar=f,ce.Input=me,ce.Image=ee,ce.Node=P;var we=ce,Me=we},39086:function(it,Ee,l){"use strict";var C=l(87981)},65415:function(it,Ee){"use strict";Ee.byteLength=A,Ee.toByteArray=I,Ee.fromByteArray=f;for(var l=[],C=[],d=typeof Uint8Array!="undefined"?Uint8Array:Array,z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O=0,y=z.length;O<y;++O)l[O]=z[O],C[z.charCodeAt(O)]=O;C["-".charCodeAt(0)]=62,C["_".charCodeAt(0)]=63;function W(m){var a=m.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=m.indexOf("=");x===-1&&(x=a);var k=x===a?0:4-x%4;return[x,k]}function A(m){var a=W(m),x=a[0],k=a[1];return(x+k)*3/4-k}function M(m,a,x){return(a+x)*3/4-x}function I(m){var a,x=W(m),k=x[0],T=x[1],N=new d(M(m,k,T)),L=0,R=T>0?k-4:k,b;for(b=0;b<R;b+=4)a=C[m.charCodeAt(b)]<<18|C[m.charCodeAt(b+1)]<<12|C[m.charCodeAt(b+2)]<<6|C[m.charCodeAt(b+3)],N[L++]=a>>16&255,N[L++]=a>>8&255,N[L++]=a&255;return T===2&&(a=C[m.charCodeAt(b)]<<2|C[m.charCodeAt(b+1)]>>4,N[L++]=a&255),T===1&&(a=C[m.charCodeAt(b)]<<10|C[m.charCodeAt(b+1)]<<4|C[m.charCodeAt(b+2)]>>2,N[L++]=a>>8&255,N[L++]=a&255),N}function w(m){return l[m>>18&63]+l[m>>12&63]+l[m>>6&63]+l[m&63]}function _(m,a,x){for(var k,T=[],N=a;N<x;N+=3)k=(m[N]<<16&16711680)+(m[N+1]<<8&65280)+(m[N+2]&255),T.push(w(k));return T.join("")}function f(m){for(var a,x=m.length,k=x%3,T=[],N=16383,L=0,R=x-k;L<R;L+=N)T.push(_(m,L,L+N>R?R:L+N));return k===1?(a=m[x-1],T.push(l[a>>2]+l[a<<4&63]+"==")):k===2&&(a=(m[x-2]<<8)+m[x-1],T.push(l[a>>10]+l[a>>4&63]+l[a<<2&63]+"=")),T.join("")}},36379:function(it,Ee,l){"use strict";var C;var d=l(65415),z=l(30551),O=l(79673);Ee.lW=M,C=N,Ee.h2=50,M.TYPED_ARRAY_SUPPORT=l.g.TYPED_ARRAY_SUPPORT!==void 0?l.g.TYPED_ARRAY_SUPPORT:y(),C=W();function y(){try{var Ze=new Uint8Array(1);return Ze.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},Ze.foo()===42&&typeof Ze.subarray=="function"&&Ze.subarray(1,1).byteLength===0}catch(xe){return!1}}function W(){return M.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function A(Ze,xe){if(W()<xe)throw new RangeError("Invalid typed array length");return M.TYPED_ARRAY_SUPPORT?(Ze=new Uint8Array(xe),Ze.__proto__=M.prototype):(Ze===null&&(Ze=new M(xe)),Ze.length=xe),Ze}function M(Ze,xe,ve){if(!M.TYPED_ARRAY_SUPPORT&&!(this instanceof M))return new M(Ze,xe,ve);if(typeof Ze=="number"){if(typeof xe=="string")throw new Error("If encoding is specified then the first argument must be a string");return f(this,Ze)}return I(this,Ze,xe,ve)}M.poolSize=8192,M._augment=function(Ze){return Ze.__proto__=M.prototype,Ze};function I(Ze,xe,ve,$e){if(typeof xe=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&xe instanceof ArrayBuffer?x(Ze,xe,ve,$e):typeof xe=="string"?m(Ze,xe,ve):k(Ze,xe)}M.from=function(Ze,xe,ve){return I(null,Ze,xe,ve)},M.TYPED_ARRAY_SUPPORT&&(M.prototype.__proto__=Uint8Array.prototype,M.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&M[Symbol.species]===M&&Object.defineProperty(M,Symbol.species,{value:null,configurable:!0}));function w(Ze){if(typeof Ze!="number")throw new TypeError('"size" argument must be a number');if(Ze<0)throw new RangeError('"size" argument must not be negative')}function _(Ze,xe,ve,$e){return w(xe),xe<=0?A(Ze,xe):ve!==void 0?typeof $e=="string"?A(Ze,xe).fill(ve,$e):A(Ze,xe).fill(ve):A(Ze,xe)}M.alloc=function(Ze,xe,ve){return _(null,Ze,xe,ve)};function f(Ze,xe){if(w(xe),Ze=A(Ze,xe<0?0:T(xe)|0),!M.TYPED_ARRAY_SUPPORT)for(var ve=0;ve<xe;++ve)Ze[ve]=0;return Ze}M.allocUnsafe=function(Ze){return f(null,Ze)},M.allocUnsafeSlow=function(Ze){return f(null,Ze)};function m(Ze,xe,ve){if((typeof ve!="string"||ve==="")&&(ve="utf8"),!M.isEncoding(ve))throw new TypeError('"encoding" must be a valid string encoding');var $e=L(xe,ve)|0;Ze=A(Ze,$e);var at=Ze.write(xe,ve);return at!==$e&&(Ze=Ze.slice(0,at)),Ze}function a(Ze,xe){var ve=xe.length<0?0:T(xe.length)|0;Ze=A(Ze,ve);for(var $e=0;$e<ve;$e+=1)Ze[$e]=xe[$e]&255;return Ze}function x(Ze,xe,ve,$e){if(xe.byteLength,ve<0||xe.byteLength<ve)throw new RangeError("'offset' is out of bounds");if(xe.byteLength<ve+($e||0))throw new RangeError("'length' is out of bounds");return ve===void 0&&$e===void 0?xe=new Uint8Array(xe):$e===void 0?xe=new Uint8Array(xe,ve):xe=new Uint8Array(xe,ve,$e),M.TYPED_ARRAY_SUPPORT?(Ze=xe,Ze.__proto__=M.prototype):Ze=a(Ze,xe),Ze}function k(Ze,xe){if(M.isBuffer(xe)){var ve=T(xe.length)|0;return Ze=A(Ze,ve),Ze.length===0||xe.copy(Ze,0,0,ve),Ze}if(xe){if(typeof ArrayBuffer!="undefined"&&xe.buffer instanceof ArrayBuffer||"length"in xe)return typeof xe.length!="number"||Wt(xe.length)?A(Ze,0):a(Ze,xe);if(xe.type==="Buffer"&&O(xe.data))return a(Ze,xe.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function T(Ze){if(Ze>=W())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+W().toString(16)+" bytes");return Ze|0}function N(Ze){return+Ze!=Ze&&(Ze=0),M.alloc(+Ze)}M.isBuffer=function(xe){return!!(xe!=null&&xe._isBuffer)},M.compare=function(xe,ve){if(!M.isBuffer(xe)||!M.isBuffer(ve))throw new TypeError("Arguments must be Buffers");if(xe===ve)return 0;for(var $e=xe.length,at=ve.length,Tt=0,Mt=Math.min($e,at);Tt<Mt;++Tt)if(xe[Tt]!==ve[Tt]){$e=xe[Tt],at=ve[Tt];break}return $e<at?-1:at<$e?1:0},M.isEncoding=function(xe){switch(String(xe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},M.concat=function(xe,ve){if(!O(xe))throw new TypeError('"list" argument must be an Array of Buffers');if(xe.length===0)return M.alloc(0);var $e;if(ve===void 0)for(ve=0,$e=0;$e<xe.length;++$e)ve+=xe[$e].length;var at=M.allocUnsafe(ve),Tt=0;for($e=0;$e<xe.length;++$e){var Mt=xe[$e];if(!M.isBuffer(Mt))throw new TypeError('"list" argument must be an Array of Buffers');Mt.copy(at,Tt),Tt+=Mt.length}return at};function L(Ze,xe){if(M.isBuffer(Ze))return Ze.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(Ze)||Ze instanceof ArrayBuffer))return Ze.byteLength;typeof Ze!="string"&&(Ze=""+Ze);var ve=Ze.length;if(ve===0)return 0;for(var $e=!1;;)switch(xe){case"ascii":case"latin1":case"binary":return ve;case"utf8":case"utf-8":case void 0:return Ut(Ze).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ve*2;case"hex":return ve>>>1;case"base64":return Ge(Ze).length;default:if($e)return Ut(Ze).length;xe=(""+xe).toLowerCase(),$e=!0}}M.byteLength=L;function R(Ze,xe,ve){var $e=!1;if((xe===void 0||xe<0)&&(xe=0),xe>this.length||((ve===void 0||ve>this.length)&&(ve=this.length),ve<=0)||(ve>>>=0,xe>>>=0,ve<=xe))return"";for(Ze||(Ze="utf8");;)switch(Ze){case"hex":return oe(this,xe,ve);case"utf8":case"utf-8":return X(this,xe,ve);case"ascii":return ie(this,xe,ve);case"latin1":case"binary":return J(this,xe,ve);case"base64":return se(this,xe,ve);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,xe,ve);default:if($e)throw new TypeError("Unknown encoding: "+Ze);Ze=(Ze+"").toLowerCase(),$e=!0}}M.prototype._isBuffer=!0;function b(Ze,xe,ve){var $e=Ze[xe];Ze[xe]=Ze[ve],Ze[ve]=$e}M.prototype.swap16=function(){var xe=this.length;if(xe%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ve=0;ve<xe;ve+=2)b(this,ve,ve+1);return this},M.prototype.swap32=function(){var xe=this.length;if(xe%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ve=0;ve<xe;ve+=4)b(this,ve,ve+3),b(this,ve+1,ve+2);return this},M.prototype.swap64=function(){var xe=this.length;if(xe%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ve=0;ve<xe;ve+=8)b(this,ve,ve+7),b(this,ve+1,ve+6),b(this,ve+2,ve+5),b(this,ve+3,ve+4);return this},M.prototype.toString=function(){var xe=this.length|0;return xe===0?"":arguments.length===0?X(this,0,xe):R.apply(this,arguments)},M.prototype.equals=function(xe){if(!M.isBuffer(xe))throw new TypeError("Argument must be a Buffer");return this===xe?!0:M.compare(this,xe)===0},M.prototype.inspect=function(){var xe="",ve=Ee.h2;return this.length>0&&(xe=this.toString("hex",0,ve).match(/.{2}/g).join(" "),this.length>ve&&(xe+=" ... ")),"<Buffer "+xe+">"},M.prototype.compare=function(xe,ve,$e,at,Tt){if(!M.isBuffer(xe))throw new TypeError("Argument must be a Buffer");if(ve===void 0&&(ve=0),$e===void 0&&($e=xe?xe.length:0),at===void 0&&(at=0),Tt===void 0&&(Tt=this.length),ve<0||$e>xe.length||at<0||Tt>this.length)throw new RangeError("out of range index");if(at>=Tt&&ve>=$e)return 0;if(at>=Tt)return-1;if(ve>=$e)return 1;if(ve>>>=0,$e>>>=0,at>>>=0,Tt>>>=0,this===xe)return 0;for(var Mt=Tt-at,gt=$e-ve,Rt=Math.min(Mt,gt),Zt=this.slice(at,Tt),hn=xe.slice(ve,$e),Pe=0;Pe<Rt;++Pe)if(Zt[Pe]!==hn[Pe]){Mt=Zt[Pe],gt=hn[Pe];break}return Mt<gt?-1:gt<Mt?1:0};function P(Ze,xe,ve,$e,at){if(Ze.length===0)return-1;if(typeof ve=="string"?($e=ve,ve=0):ve>2147483647?ve=2147483647:ve<-2147483648&&(ve=-2147483648),ve=+ve,isNaN(ve)&&(ve=at?0:Ze.length-1),ve<0&&(ve=Ze.length+ve),ve>=Ze.length){if(at)return-1;ve=Ze.length-1}else if(ve<0)if(at)ve=0;else return-1;if(typeof xe=="string"&&(xe=M.from(xe,$e)),M.isBuffer(xe))return xe.length===0?-1:V(Ze,xe,ve,$e,at);if(typeof xe=="number")return xe=xe&255,M.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?at?Uint8Array.prototype.indexOf.call(Ze,xe,ve):Uint8Array.prototype.lastIndexOf.call(Ze,xe,ve):V(Ze,[xe],ve,$e,at);throw new TypeError("val must be string, number or Buffer")}function V(Ze,xe,ve,$e,at){var Tt=1,Mt=Ze.length,gt=xe.length;if($e!==void 0&&($e=String($e).toLowerCase(),$e==="ucs2"||$e==="ucs-2"||$e==="utf16le"||$e==="utf-16le")){if(Ze.length<2||xe.length<2)return-1;Tt=2,Mt/=2,gt/=2,ve/=2}function Rt(vt,Le){return Tt===1?vt[Le]:vt.readUInt16BE(Le*Tt)}var Zt;if(at){var hn=-1;for(Zt=ve;Zt<Mt;Zt++)if(Rt(Ze,Zt)===Rt(xe,hn===-1?0:Zt-hn)){if(hn===-1&&(hn=Zt),Zt-hn+1===gt)return hn*Tt}else hn!==-1&&(Zt-=Zt-hn),hn=-1}else for(ve+gt>Mt&&(ve=Mt-gt),Zt=ve;Zt>=0;Zt--){for(var Pe=!0,en=0;en<gt;en++)if(Rt(Ze,Zt+en)!==Rt(xe,en)){Pe=!1;break}if(Pe)return Zt}return-1}M.prototype.includes=function(xe,ve,$e){return this.indexOf(xe,ve,$e)!==-1},M.prototype.indexOf=function(xe,ve,$e){return P(this,xe,ve,$e,!0)},M.prototype.lastIndexOf=function(xe,ve,$e){return P(this,xe,ve,$e,!1)};function H(Ze,xe,ve,$e){ve=Number(ve)||0;var at=Ze.length-ve;$e?($e=Number($e),$e>at&&($e=at)):$e=at;var Tt=xe.length;if(Tt%2!==0)throw new TypeError("Invalid hex string");$e>Tt/2&&($e=Tt/2);for(var Mt=0;Mt<$e;++Mt){var gt=parseInt(xe.substr(Mt*2,2),16);if(isNaN(gt))return Mt;Ze[ve+Mt]=gt}return Mt}function ee(Ze,xe,ve,$e){return Et(Ut(xe,Ze.length-ve),Ze,ve,$e)}function ae(Ze,xe,ve,$e){return Et(Ft(xe),Ze,ve,$e)}function me(Ze,xe,ve,$e){return ae(Ze,xe,ve,$e)}function ge(Ze,xe,ve,$e){return Et(Ge(xe),Ze,ve,$e)}function re(Ze,xe,ve,$e){return Et(Te(xe,Ze.length-ve),Ze,ve,$e)}M.prototype.write=function(xe,ve,$e,at){if(ve===void 0)at="utf8",$e=this.length,ve=0;else if($e===void 0&&typeof ve=="string")at=ve,$e=this.length,ve=0;else if(isFinite(ve))ve=ve|0,isFinite($e)?($e=$e|0,at===void 0&&(at="utf8")):(at=$e,$e=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Tt=this.length-ve;if(($e===void 0||$e>Tt)&&($e=Tt),xe.length>0&&($e<0||ve<0)||ve>this.length)throw new RangeError("Attempt to write outside buffer bounds");at||(at="utf8");for(var Mt=!1;;)switch(at){case"hex":return H(this,xe,ve,$e);case"utf8":case"utf-8":return ee(this,xe,ve,$e);case"ascii":return ae(this,xe,ve,$e);case"latin1":case"binary":return me(this,xe,ve,$e);case"base64":return ge(this,xe,ve,$e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,xe,ve,$e);default:if(Mt)throw new TypeError("Unknown encoding: "+at);at=(""+at).toLowerCase(),Mt=!0}},M.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function se(Ze,xe,ve){return xe===0&&ve===Ze.length?d.fromByteArray(Ze):d.fromByteArray(Ze.slice(xe,ve))}function X(Ze,xe,ve){ve=Math.min(Ze.length,ve);for(var $e=[],at=xe;at<ve;){var Tt=Ze[at],Mt=null,gt=Tt>239?4:Tt>223?3:Tt>191?2:1;if(at+gt<=ve){var Rt,Zt,hn,Pe;switch(gt){case 1:Tt<128&&(Mt=Tt);break;case 2:Rt=Ze[at+1],(Rt&192)===128&&(Pe=(Tt&31)<<6|Rt&63,Pe>127&&(Mt=Pe));break;case 3:Rt=Ze[at+1],Zt=Ze[at+2],(Rt&192)===128&&(Zt&192)===128&&(Pe=(Tt&15)<<12|(Rt&63)<<6|Zt&63,Pe>2047&&(Pe<55296||Pe>57343)&&(Mt=Pe));break;case 4:Rt=Ze[at+1],Zt=Ze[at+2],hn=Ze[at+3],(Rt&192)===128&&(Zt&192)===128&&(hn&192)===128&&(Pe=(Tt&15)<<18|(Rt&63)<<12|(Zt&63)<<6|hn&63,Pe>65535&&Pe<1114112&&(Mt=Pe))}}Mt===null?(Mt=65533,gt=1):Mt>65535&&(Mt-=65536,$e.push(Mt>>>10&1023|55296),Mt=56320|Mt&1023),$e.push(Mt),at+=gt}return j($e)}var $=4096;function j(Ze){var xe=Ze.length;if(xe<=$)return String.fromCharCode.apply(String,Ze);for(var ve="",$e=0;$e<xe;)ve+=String.fromCharCode.apply(String,Ze.slice($e,$e+=$));return ve}function ie(Ze,xe,ve){var $e="";ve=Math.min(Ze.length,ve);for(var at=xe;at<ve;++at)$e+=String.fromCharCode(Ze[at]&127);return $e}function J(Ze,xe,ve){var $e="";ve=Math.min(Ze.length,ve);for(var at=xe;at<ve;++at)$e+=String.fromCharCode(Ze[at]);return $e}function oe(Ze,xe,ve){var $e=Ze.length;(!xe||xe<0)&&(xe=0),(!ve||ve<0||ve>$e)&&(ve=$e);for(var at="",Tt=xe;Tt<ve;++Tt)at+=kt(Ze[Tt]);return at}function ce(Ze,xe,ve){for(var $e=Ze.slice(xe,ve),at="",Tt=0;Tt<$e.length;Tt+=2)at+=String.fromCharCode($e[Tt]+$e[Tt+1]*256);return at}M.prototype.slice=function(xe,ve){var $e=this.length;xe=~~xe,ve=ve===void 0?$e:~~ve,xe<0?(xe+=$e,xe<0&&(xe=0)):xe>$e&&(xe=$e),ve<0?(ve+=$e,ve<0&&(ve=0)):ve>$e&&(ve=$e),ve<xe&&(ve=xe);var at;if(M.TYPED_ARRAY_SUPPORT)at=this.subarray(xe,ve),at.__proto__=M.prototype;else{var Tt=ve-xe;at=new M(Tt,void 0);for(var Mt=0;Mt<Tt;++Mt)at[Mt]=this[Mt+xe]}return at};function we(Ze,xe,ve){if(Ze%1!==0||Ze<0)throw new RangeError("offset is not uint");if(Ze+xe>ve)throw new RangeError("Trying to access beyond buffer length")}M.prototype.readUIntLE=function(xe,ve,$e){xe=xe|0,ve=ve|0,$e||we(xe,ve,this.length);for(var at=this[xe],Tt=1,Mt=0;++Mt<ve&&(Tt*=256);)at+=this[xe+Mt]*Tt;return at},M.prototype.readUIntBE=function(xe,ve,$e){xe=xe|0,ve=ve|0,$e||we(xe,ve,this.length);for(var at=this[xe+--ve],Tt=1;ve>0&&(Tt*=256);)at+=this[xe+--ve]*Tt;return at},M.prototype.readUInt8=function(xe,ve){return ve||we(xe,1,this.length),this[xe]},M.prototype.readUInt16LE=function(xe,ve){return ve||we(xe,2,this.length),this[xe]|this[xe+1]<<8},M.prototype.readUInt16BE=function(xe,ve){return ve||we(xe,2,this.length),this[xe]<<8|this[xe+1]},M.prototype.readUInt32LE=function(xe,ve){return ve||we(xe,4,this.length),(this[xe]|this[xe+1]<<8|this[xe+2]<<16)+this[xe+3]*16777216},M.prototype.readUInt32BE=function(xe,ve){return ve||we(xe,4,this.length),this[xe]*16777216+(this[xe+1]<<16|this[xe+2]<<8|this[xe+3])},M.prototype.readIntLE=function(xe,ve,$e){xe=xe|0,ve=ve|0,$e||we(xe,ve,this.length);for(var at=this[xe],Tt=1,Mt=0;++Mt<ve&&(Tt*=256);)at+=this[xe+Mt]*Tt;return Tt*=128,at>=Tt&&(at-=Math.pow(2,8*ve)),at},M.prototype.readIntBE=function(xe,ve,$e){xe=xe|0,ve=ve|0,$e||we(xe,ve,this.length);for(var at=ve,Tt=1,Mt=this[xe+--at];at>0&&(Tt*=256);)Mt+=this[xe+--at]*Tt;return Tt*=128,Mt>=Tt&&(Mt-=Math.pow(2,8*ve)),Mt},M.prototype.readInt8=function(xe,ve){return ve||we(xe,1,this.length),this[xe]&128?(255-this[xe]+1)*-1:this[xe]},M.prototype.readInt16LE=function(xe,ve){ve||we(xe,2,this.length);var $e=this[xe]|this[xe+1]<<8;return $e&32768?$e|4294901760:$e},M.prototype.readInt16BE=function(xe,ve){ve||we(xe,2,this.length);var $e=this[xe+1]|this[xe]<<8;return $e&32768?$e|4294901760:$e},M.prototype.readInt32LE=function(xe,ve){return ve||we(xe,4,this.length),this[xe]|this[xe+1]<<8|this[xe+2]<<16|this[xe+3]<<24},M.prototype.readInt32BE=function(xe,ve){return ve||we(xe,4,this.length),this[xe]<<24|this[xe+1]<<16|this[xe+2]<<8|this[xe+3]},M.prototype.readFloatLE=function(xe,ve){return ve||we(xe,4,this.length),z.read(this,xe,!0,23,4)},M.prototype.readFloatBE=function(xe,ve){return ve||we(xe,4,this.length),z.read(this,xe,!1,23,4)},M.prototype.readDoubleLE=function(xe,ve){return ve||we(xe,8,this.length),z.read(this,xe,!0,52,8)},M.prototype.readDoubleBE=function(xe,ve){return ve||we(xe,8,this.length),z.read(this,xe,!1,52,8)};function Me(Ze,xe,ve,$e,at,Tt){if(!M.isBuffer(Ze))throw new TypeError('"buffer" argument must be a Buffer instance');if(xe>at||xe<Tt)throw new RangeError('"value" argument is out of bounds');if(ve+$e>Ze.length)throw new RangeError("Index out of range")}M.prototype.writeUIntLE=function(xe,ve,$e,at){if(xe=+xe,ve=ve|0,$e=$e|0,!at){var Tt=Math.pow(2,8*$e)-1;Me(this,xe,ve,$e,Tt,0)}var Mt=1,gt=0;for(this[ve]=xe&255;++gt<$e&&(Mt*=256);)this[ve+gt]=xe/Mt&255;return ve+$e},M.prototype.writeUIntBE=function(xe,ve,$e,at){if(xe=+xe,ve=ve|0,$e=$e|0,!at){var Tt=Math.pow(2,8*$e)-1;Me(this,xe,ve,$e,Tt,0)}var Mt=$e-1,gt=1;for(this[ve+Mt]=xe&255;--Mt>=0&&(gt*=256);)this[ve+Mt]=xe/gt&255;return ve+$e},M.prototype.writeUInt8=function(xe,ve,$e){return xe=+xe,ve=ve|0,$e||Me(this,xe,ve,1,255,0),M.TYPED_ARRAY_SUPPORT||(xe=Math.floor(xe)),this[ve]=xe&255,ve+1};function Ke(Ze,xe,ve,$e){xe<0&&(xe=65535+xe+1);for(var at=0,Tt=Math.min(Ze.length-ve,2);at<Tt;++at)Ze[ve+at]=(xe&255<<8*($e?at:1-at))>>>($e?at:1-at)*8}M.prototype.writeUInt16LE=function(xe,ve,$e){return xe=+xe,ve=ve|0,$e||Me(this,xe,ve,2,65535,0),M.TYPED_ARRAY_SUPPORT?(this[ve]=xe&255,this[ve+1]=xe>>>8):Ke(this,xe,ve,!0),ve+2},M.prototype.writeUInt16BE=function(xe,ve,$e){return xe=+xe,ve=ve|0,$e||Me(this,xe,ve,2,65535,0),M.TYPED_ARRAY_SUPPORT?(this[ve]=xe>>>8,this[ve+1]=xe&255):Ke(this,xe,ve,!1),ve+2};function De(Ze,xe,ve,$e){xe<0&&(xe=4294967295+xe+1);for(var at=0,Tt=Math.min(Ze.length-ve,4);at<Tt;++at)Ze[ve+at]=xe>>>($e?at:3-at)*8&255}M.prototype.writeUInt32LE=function(xe,ve,$e){return xe=+xe,ve=ve|0,$e||Me(this,xe,ve,4,4294967295,0),M.TYPED_ARRAY_SUPPORT?(this[ve+3]=xe>>>24,this[ve+2]=xe>>>16,this[ve+1]=xe>>>8,this[ve]=xe&255):De(this,xe,ve,!0),ve+4},M.prototype.writeUInt32BE=function(xe,ve,$e){return xe=+xe,ve=ve|0,$e||Me(this,xe,ve,4,4294967295,0),M.TYPED_ARRAY_SUPPORT?(this[ve]=xe>>>24,this[ve+1]=xe>>>16,this[ve+2]=xe>>>8,this[ve+3]=xe&255):De(this,xe,ve,!1),ve+4},M.prototype.writeIntLE=function(xe,ve,$e,at){if(xe=+xe,ve=ve|0,!at){var Tt=Math.pow(2,8*$e-1);Me(this,xe,ve,$e,Tt-1,-Tt)}var Mt=0,gt=1,Rt=0;for(this[ve]=xe&255;++Mt<$e&&(gt*=256);)xe<0&&Rt===0&&this[ve+Mt-1]!==0&&(Rt=1),this[ve+Mt]=(xe/gt>>0)-Rt&255;return ve+$e},M.prototype.writeIntBE=function(xe,ve,$e,at){if(xe=+xe,ve=ve|0,!at){var Tt=Math.pow(2,8*$e-1);Me(this,xe,ve,$e,Tt-1,-Tt)}var Mt=$e-1,gt=1,Rt=0;for(this[ve+Mt]=xe&255;--Mt>=0&&(gt*=256);)xe<0&&Rt===0&&this[ve+Mt+1]!==0&&(Rt=1),this[ve+Mt]=(xe/gt>>0)-Rt&255;return ve+$e},M.prototype.writeInt8=function(xe,ve,$e){return xe=+xe,ve=ve|0,$e||Me(this,xe,ve,1,127,-128),M.TYPED_ARRAY_SUPPORT||(xe=Math.floor(xe)),xe<0&&(xe=255+xe+1),this[ve]=xe&255,ve+1},M.prototype.writeInt16LE=function(xe,ve,$e){return xe=+xe,ve=ve|0,$e||Me(this,xe,ve,2,32767,-32768),M.TYPED_ARRAY_SUPPORT?(this[ve]=xe&255,this[ve+1]=xe>>>8):Ke(this,xe,ve,!0),ve+2},M.prototype.writeInt16BE=function(xe,ve,$e){return xe=+xe,ve=ve|0,$e||Me(this,xe,ve,2,32767,-32768),M.TYPED_ARRAY_SUPPORT?(this[ve]=xe>>>8,this[ve+1]=xe&255):Ke(this,xe,ve,!1),ve+2},M.prototype.writeInt32LE=function(xe,ve,$e){return xe=+xe,ve=ve|0,$e||Me(this,xe,ve,4,2147483647,-2147483648),M.TYPED_ARRAY_SUPPORT?(this[ve]=xe&255,this[ve+1]=xe>>>8,this[ve+2]=xe>>>16,this[ve+3]=xe>>>24):De(this,xe,ve,!0),ve+4},M.prototype.writeInt32BE=function(xe,ve,$e){return xe=+xe,ve=ve|0,$e||Me(this,xe,ve,4,2147483647,-2147483648),xe<0&&(xe=4294967295+xe+1),M.TYPED_ARRAY_SUPPORT?(this[ve]=xe>>>24,this[ve+1]=xe>>>16,this[ve+2]=xe>>>8,this[ve+3]=xe&255):De(this,xe,ve,!1),ve+4};function be(Ze,xe,ve,$e,at,Tt){if(ve+$e>Ze.length)throw new RangeError("Index out of range");if(ve<0)throw new RangeError("Index out of range")}function We(Ze,xe,ve,$e,at){return at||be(Ze,xe,ve,4,34028234663852886e22,-34028234663852886e22),z.write(Ze,xe,ve,$e,23,4),ve+4}M.prototype.writeFloatLE=function(xe,ve,$e){return We(this,xe,ve,!0,$e)},M.prototype.writeFloatBE=function(xe,ve,$e){return We(this,xe,ve,!1,$e)};function et(Ze,xe,ve,$e,at){return at||be(Ze,xe,ve,8,17976931348623157e292,-17976931348623157e292),z.write(Ze,xe,ve,$e,52,8),ve+8}M.prototype.writeDoubleLE=function(xe,ve,$e){return et(this,xe,ve,!0,$e)},M.prototype.writeDoubleBE=function(xe,ve,$e){return et(this,xe,ve,!1,$e)},M.prototype.copy=function(xe,ve,$e,at){if($e||($e=0),!at&&at!==0&&(at=this.length),ve>=xe.length&&(ve=xe.length),ve||(ve=0),at>0&&at<$e&&(at=$e),at===$e||xe.length===0||this.length===0)return 0;if(ve<0)throw new RangeError("targetStart out of bounds");if($e<0||$e>=this.length)throw new RangeError("sourceStart out of bounds");if(at<0)throw new RangeError("sourceEnd out of bounds");at>this.length&&(at=this.length),xe.length-ve<at-$e&&(at=xe.length-ve+$e);var Tt=at-$e,Mt;if(this===xe&&$e<ve&&ve<at)for(Mt=Tt-1;Mt>=0;--Mt)xe[Mt+ve]=this[Mt+$e];else if(Tt<1e3||!M.TYPED_ARRAY_SUPPORT)for(Mt=0;Mt<Tt;++Mt)xe[Mt+ve]=this[Mt+$e];else Uint8Array.prototype.set.call(xe,this.subarray($e,$e+Tt),ve);return Tt},M.prototype.fill=function(xe,ve,$e,at){if(typeof xe=="string"){if(typeof ve=="string"?(at=ve,ve=0,$e=this.length):typeof $e=="string"&&(at=$e,$e=this.length),xe.length===1){var Tt=xe.charCodeAt(0);Tt<256&&(xe=Tt)}if(at!==void 0&&typeof at!="string")throw new TypeError("encoding must be a string");if(typeof at=="string"&&!M.isEncoding(at))throw new TypeError("Unknown encoding: "+at)}else typeof xe=="number"&&(xe=xe&255);if(ve<0||this.length<ve||this.length<$e)throw new RangeError("Out of range index");if($e<=ve)return this;ve=ve>>>0,$e=$e===void 0?this.length:$e>>>0,xe||(xe=0);var Mt;if(typeof xe=="number")for(Mt=ve;Mt<$e;++Mt)this[Mt]=xe;else{var gt=M.isBuffer(xe)?xe:Ut(new M(xe,at).toString()),Rt=gt.length;for(Mt=0;Mt<$e-ve;++Mt)this[Mt+ve]=gt[Mt%Rt]}return this};var Kt=/[^+\/0-9A-Za-z-_]/g;function _t(Ze){if(Ze=tt(Ze).replace(Kt,""),Ze.length<2)return"";for(;Ze.length%4!==0;)Ze=Ze+"=";return Ze}function tt(Ze){return Ze.trim?Ze.trim():Ze.replace(/^\s+|\s+$/g,"")}function kt(Ze){return Ze<16?"0"+Ze.toString(16):Ze.toString(16)}function Ut(Ze,xe){xe=xe||1/0;for(var ve,$e=Ze.length,at=null,Tt=[],Mt=0;Mt<$e;++Mt){if(ve=Ze.charCodeAt(Mt),ve>55295&&ve<57344){if(!at){if(ve>56319){(xe-=3)>-1&&Tt.push(239,191,189);continue}else if(Mt+1===$e){(xe-=3)>-1&&Tt.push(239,191,189);continue}at=ve;continue}if(ve<56320){(xe-=3)>-1&&Tt.push(239,191,189),at=ve;continue}ve=(at-55296<<10|ve-56320)+65536}else at&&(xe-=3)>-1&&Tt.push(239,191,189);if(at=null,ve<128){if((xe-=1)<0)break;Tt.push(ve)}else if(ve<2048){if((xe-=2)<0)break;Tt.push(ve>>6|192,ve&63|128)}else if(ve<65536){if((xe-=3)<0)break;Tt.push(ve>>12|224,ve>>6&63|128,ve&63|128)}else if(ve<1114112){if((xe-=4)<0)break;Tt.push(ve>>18|240,ve>>12&63|128,ve>>6&63|128,ve&63|128)}else throw new Error("Invalid code point")}return Tt}function Ft(Ze){for(var xe=[],ve=0;ve<Ze.length;++ve)xe.push(Ze.charCodeAt(ve)&255);return xe}function Te(Ze,xe){for(var ve,$e,at,Tt=[],Mt=0;Mt<Ze.length&&!((xe-=2)<0);++Mt)ve=Ze.charCodeAt(Mt),$e=ve>>8,at=ve%256,Tt.push(at),Tt.push($e);return Tt}function Ge(Ze){return d.toByteArray(_t(Ze))}function Et(Ze,xe,ve,$e){for(var at=0;at<$e&&!(at+ve>=xe.length||at>=Ze.length);++at)xe[at+ve]=Ze[at];return at}function Wt(Ze){return Ze!==Ze}},10280:function(it,Ee,l){(function(C){C(l(43344))})(function(C){"use strict";C.defineMode("javascript",function(d,z){var O=d.indentUnit,y=z.statementIndent,W=z.jsonld,A=z.json||W,M=z.trackScope!==!1,I=z.typescript,w=z.wordCharacters||/[\w$\xa1-\uffff]/,_=function(){function Ye(Zi){return{type:Zi,style:"keyword"}}var It=Ye("keyword a"),cn=Ye("keyword b"),on=Ye("keyword c"),bn=Ye("keyword d"),hi=Ye("operator"),En={type:"atom",style:"atom"};return{if:Ye("if"),while:It,with:It,else:cn,do:cn,try:cn,finally:cn,return:bn,break:bn,continue:bn,new:Ye("new"),delete:on,void:on,throw:on,debugger:Ye("debugger"),var:Ye("var"),const:Ye("var"),let:Ye("var"),function:Ye("function"),catch:Ye("catch"),for:Ye("for"),switch:Ye("switch"),case:Ye("case"),default:Ye("default"),in:hi,typeof:hi,instanceof:hi,true:En,false:En,null:En,undefined:En,NaN:En,Infinity:En,this:Ye("this"),class:Ye("class"),super:Ye("atom"),yield:on,export:Ye("export"),import:Ye("import"),extends:on,await:on}}(),f=/[+\-*&%=<>!?|~^@]/,m=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function a(Ye){for(var It=!1,cn,on=!1;(cn=Ye.next())!=null;){if(!It){if(cn=="/"&&!on)return;cn=="["?on=!0:on&&cn=="]"&&(on=!1)}It=!It&&cn=="\\"}}var x,k;function T(Ye,It,cn){return x=Ye,k=cn,It}function N(Ye,It){var cn=Ye.next();if(cn=='"'||cn=="'")return It.tokenize=L(cn),It.tokenize(Ye,It);if(cn=="."&&Ye.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return T("number","number");if(cn=="."&&Ye.match(".."))return T("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(cn))return T(cn);if(cn=="="&&Ye.eat(">"))return T("=>","operator");if(cn=="0"&&Ye.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return T("number","number");if(/\d/.test(cn))return Ye.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),T("number","number");if(cn=="/")return Ye.eat("*")?(It.tokenize=R,R(Ye,It)):Ye.eat("/")?(Ye.skipToEnd(),T("comment","comment")):_i(Ye,It,1)?(a(Ye),Ye.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),T("regexp","string-2")):(Ye.eat("="),T("operator","operator",Ye.current()));if(cn=="`")return It.tokenize=b,b(Ye,It);if(cn=="#"&&Ye.peek()=="!")return Ye.skipToEnd(),T("meta","meta");if(cn=="#"&&Ye.eatWhile(w))return T("variable","property");if(cn=="<"&&Ye.match("!--")||cn=="-"&&Ye.match("->")&&!/\S/.test(Ye.string.slice(0,Ye.start)))return Ye.skipToEnd(),T("comment","comment");if(f.test(cn))return(cn!=">"||!It.lexical||It.lexical.type!=">")&&(Ye.eat("=")?(cn=="!"||cn=="=")&&Ye.eat("="):/[<>*+\-|&?]/.test(cn)&&(Ye.eat(cn),cn==">"&&Ye.eat(cn))),cn=="?"&&Ye.eat(".")?T("."):T("operator","operator",Ye.current());if(w.test(cn)){Ye.eatWhile(w);var on=Ye.current();if(It.lastType!="."){if(_.propertyIsEnumerable(on)){var bn=_[on];return T(bn.type,bn.style,on)}if(on=="async"&&Ye.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return T("async","keyword",on)}return T("variable","variable",on)}}function L(Ye){return function(It,cn){var on=!1,bn;if(W&&It.peek()=="@"&&It.match(m))return cn.tokenize=N,T("jsonld-keyword","meta");for(;(bn=It.next())!=null&&!(bn==Ye&&!on);)on=!on&&bn=="\\";return on||(cn.tokenize=N),T("string","string")}}function R(Ye,It){for(var cn=!1,on;on=Ye.next();){if(on=="/"&&cn){It.tokenize=N;break}cn=on=="*"}return T("comment","comment")}function b(Ye,It){for(var cn=!1,on;(on=Ye.next())!=null;){if(!cn&&(on=="`"||on=="$"&&Ye.eat("{"))){It.tokenize=N;break}cn=!cn&&on=="\\"}return T("quasi","string-2",Ye.current())}var P="([{}])";function V(Ye,It){It.fatArrowAt&&(It.fatArrowAt=null);var cn=Ye.string.indexOf("=>",Ye.start);if(!(cn<0)){if(I){var on=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(Ye.string.slice(Ye.start,cn));on&&(cn=on.index)}for(var bn=0,hi=!1,En=cn-1;En>=0;--En){var Zi=Ye.string.charAt(En),ri=P.indexOf(Zi);if(ri>=0&&ri<3){if(!bn){++En;break}if(--bn==0){Zi=="("&&(hi=!0);break}}else if(ri>=3&&ri<6)++bn;else if(w.test(Zi))hi=!0;else if(/["'\/`]/.test(Zi))for(;;--En){if(En==0)return;var ki=Ye.string.charAt(En-1);if(ki==Zi&&Ye.string.charAt(En-2)!="\\"){En--;break}}else if(hi&&!bn){++En;break}}hi&&!bn&&(It.fatArrowAt=En)}}var H={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function ee(Ye,It,cn,on,bn,hi){this.indented=Ye,this.column=It,this.type=cn,this.prev=bn,this.info=hi,on!=null&&(this.align=on)}function ae(Ye,It){if(!M)return!1;for(var cn=Ye.localVars;cn;cn=cn.next)if(cn.name==It)return!0;for(var on=Ye.context;on;on=on.prev)for(var cn=on.vars;cn;cn=cn.next)if(cn.name==It)return!0}function me(Ye,It,cn,on,bn){var hi=Ye.cc;for(ge.state=Ye,ge.stream=bn,ge.marked=null,ge.cc=hi,ge.style=It,Ye.lexical.hasOwnProperty("align")||(Ye.lexical.align=!0);;){var En=hi.length?hi.pop():A?_t:et;if(En(cn,on)){for(;hi.length&&hi[hi.length-1].lex;)hi.pop()();return ge.marked?ge.marked:cn=="variable"&&ae(Ye,on)?"variable-2":It}}}var ge={state:null,column:null,marked:null,cc:null};function re(){for(var Ye=arguments.length-1;Ye>=0;Ye--)ge.cc.push(arguments[Ye])}function se(){return re.apply(null,arguments),!0}function X(Ye,It){for(var cn=It;cn;cn=cn.next)if(cn.name==Ye)return!0;return!1}function $(Ye){var It=ge.state;if(ge.marked="def",!!M){if(It.context){if(It.lexical.info=="var"&&It.context&&It.context.block){var cn=j(Ye,It.context);if(cn!=null){It.context=cn;return}}else if(!X(Ye,It.localVars)){It.localVars=new oe(Ye,It.localVars);return}}z.globalVars&&!X(Ye,It.globalVars)&&(It.globalVars=new oe(Ye,It.globalVars))}}function j(Ye,It){if(It)if(It.block){var cn=j(Ye,It.prev);return cn?cn==It.prev?It:new J(cn,It.vars,!0):null}else return X(Ye,It.vars)?It:new J(It.prev,new oe(Ye,It.vars),!1);else return null}function ie(Ye){return Ye=="public"||Ye=="private"||Ye=="protected"||Ye=="abstract"||Ye=="readonly"}function J(Ye,It,cn){this.prev=Ye,this.vars=It,this.block=cn}function oe(Ye,It){this.name=Ye,this.next=It}var ce=new oe("this",new oe("arguments",null));function we(){ge.state.context=new J(ge.state.context,ge.state.localVars,!1),ge.state.localVars=ce}function Me(){ge.state.context=new J(ge.state.context,ge.state.localVars,!0),ge.state.localVars=null}we.lex=Me.lex=!0;function Ke(){ge.state.localVars=ge.state.context.vars,ge.state.context=ge.state.context.prev}Ke.lex=!0;function De(Ye,It){var cn=function(){var on=ge.state,bn=on.indented;if(on.lexical.type=="stat")bn=on.lexical.indented;else for(var hi=on.lexical;hi&&hi.type==")"&&hi.align;hi=hi.prev)bn=hi.indented;on.lexical=new ee(bn,ge.stream.column(),Ye,null,on.lexical,It)};return cn.lex=!0,cn}function be(){var Ye=ge.state;Ye.lexical.prev&&(Ye.lexical.type==")"&&(Ye.indented=Ye.lexical.indented),Ye.lexical=Ye.lexical.prev)}be.lex=!0;function We(Ye){function It(cn){return cn==Ye?se():Ye==";"||cn=="}"||cn==")"||cn=="]"?re():se(It)}return It}function et(Ye,It){return Ye=="var"?se(De("vardef",It),Ue,We(";"),be):Ye=="keyword a"?se(De("form"),kt,et,be):Ye=="keyword b"?se(De("form"),et,be):Ye=="keyword d"?ge.stream.match(/^\s*$/,!1)?se():se(De("stat"),Ft,We(";"),be):Ye=="debugger"?se(We(";")):Ye=="{"?se(De("}"),Me,en,be,Ke):Ye==";"?se():Ye=="if"?(ge.state.lexical.info=="else"&&ge.state.cc[ge.state.cc.length-1]==be&&ge.state.cc.pop()(),se(De("form"),kt,et,be,St)):Ye=="function"?se(kn):Ye=="for"?se(De("form"),Me,Jt,et,Ke,be):Ye=="class"||I&&It=="interface"?(ge.marked="keyword",se(De("form",Ye=="class"?Ye:It),Gn,be)):Ye=="variable"?I&&It=="declare"?(ge.marked="keyword",se(et)):I&&(It=="module"||It=="enum"||It=="type")&&ge.stream.match(/^\s*\w/,!1)?(ge.marked="keyword",It=="enum"?se(Pi):It=="type"?se(xn,We("operator"),ei,We(";")):se(De("form"),Pt,We("{"),De("}"),en,be,be)):I&&It=="namespace"?(ge.marked="keyword",se(De("form"),_t,et,be)):I&&It=="abstract"?(ge.marked="keyword",se(et)):se(De("stat"),Tt):Ye=="switch"?se(De("form"),kt,We("{"),De("}","switch"),Me,en,be,be,Ke):Ye=="case"?se(_t,We(":")):Ye=="default"?se(We(":")):Ye=="catch"?se(De("form"),we,Kt,et,be,Ke):Ye=="export"?se(De("stat"),oi,be):Ye=="import"?se(De("stat"),Ci,be):Ye=="async"?se(et):It=="@"?se(_t,et):re(De("stat"),_t,We(";"),be)}function Kt(Ye){if(Ye=="(")return se(Xn,We(")"))}function _t(Ye,It){return Ut(Ye,It,!1)}function tt(Ye,It){return Ut(Ye,It,!0)}function kt(Ye){return Ye!="("?re():se(De(")"),Ft,We(")"),be)}function Ut(Ye,It,cn){if(ge.state.fatArrowAt==ge.stream.start){var on=cn?xe:Ze;if(Ye=="(")return se(we,De(")"),hn(Xn,")"),be,We("=>"),on,Ke);if(Ye=="variable")return re(we,Pt,We("=>"),on,Ke)}var bn=cn?Ge:Te;return H.hasOwnProperty(Ye)?se(bn):Ye=="function"?se(kn,bn):Ye=="class"||I&&It=="interface"?(ge.marked="keyword",se(De("form"),Sn,be)):Ye=="keyword c"||Ye=="async"?se(cn?tt:_t):Ye=="("?se(De(")"),Ft,We(")"),be,bn):Ye=="operator"||Ye=="spread"?se(cn?tt:_t):Ye=="["?se(De("]"),Kn,be,bn):Ye=="{"?Pe(gt,"}",null,bn):Ye=="quasi"?re(Et,bn):Ye=="new"?se(ve(cn)):se()}function Ft(Ye){return Ye.match(/[;\}\)\],]/)?re():re(_t)}function Te(Ye,It){return Ye==","?se(Ft):Ge(Ye,It,!1)}function Ge(Ye,It,cn){var on=cn==!1?Te:Ge,bn=cn==!1?_t:tt;if(Ye=="=>")return se(we,cn?xe:Ze,Ke);if(Ye=="operator")return/\+\+|--/.test(It)||I&&It=="!"?se(on):I&&It=="<"&&ge.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?se(De(">"),hn(ei,">"),be,on):It=="?"?se(_t,We(":"),bn):se(bn);if(Ye=="quasi")return re(Et,on);if(Ye!=";"){if(Ye=="(")return Pe(tt,")","call",on);if(Ye==".")return se(Mt,on);if(Ye=="[")return se(De("]"),Ft,We("]"),be,on);if(I&&It=="as")return ge.marked="keyword",se(ei,on);if(Ye=="regexp")return ge.state.lastType=ge.marked="operator",ge.stream.backUp(ge.stream.pos-ge.stream.start-1),se(bn)}}function Et(Ye,It){return Ye!="quasi"?re():It.slice(It.length-2)!="${"?se(Et):se(Ft,Wt)}function Wt(Ye){if(Ye=="}")return ge.marked="string-2",ge.state.tokenize=b,se(Et)}function Ze(Ye){return V(ge.stream,ge.state),re(Ye=="{"?et:_t)}function xe(Ye){return V(ge.stream,ge.state),re(Ye=="{"?et:tt)}function ve(Ye){return function(It){return It=="."?se(Ye?at:$e):It=="variable"&&I?se(Ht,Ye?Ge:Te):re(Ye?tt:_t)}}function $e(Ye,It){if(It=="target")return ge.marked="keyword",se(Te)}function at(Ye,It){if(It=="target")return ge.marked="keyword",se(Ge)}function Tt(Ye){return Ye==":"?se(be,et):re(Te,We(";"),be)}function Mt(Ye){if(Ye=="variable")return ge.marked="property",se()}function gt(Ye,It){if(Ye=="async")return ge.marked="property",se(gt);if(Ye=="variable"||ge.style=="keyword"){if(ge.marked="property",It=="get"||It=="set")return se(Rt);var cn;return I&&ge.state.fatArrowAt==ge.stream.start&&(cn=ge.stream.match(/^\s*:\s*/,!1))&&(ge.state.fatArrowAt=ge.stream.pos+cn[0].length),se(Zt)}else{if(Ye=="number"||Ye=="string")return ge.marked=W?"property":ge.style+" property",se(Zt);if(Ye=="jsonld-keyword")return se(Zt);if(I&&ie(It))return ge.marked="keyword",se(gt);if(Ye=="[")return se(_t,vt,We("]"),Zt);if(Ye=="spread")return se(tt,Zt);if(It=="*")return ge.marked="keyword",se(gt);if(Ye==":")return re(Zt)}}function Rt(Ye){return Ye!="variable"?re(Zt):(ge.marked="property",se(kn))}function Zt(Ye){if(Ye==":")return se(tt);if(Ye=="(")return re(kn)}function hn(Ye,It,cn){function on(bn,hi){if(cn?cn.indexOf(bn)>-1:bn==","){var En=ge.state.lexical;return En.info=="call"&&(En.pos=(En.pos||0)+1),se(function(Zi,ri){return Zi==It||ri==It?re():re(Ye)},on)}return bn==It||hi==It?se():cn&&cn.indexOf(";")>-1?re(Ye):se(We(It))}return function(bn,hi){return bn==It||hi==It?se():re(Ye,on)}}function Pe(Ye,It,cn){for(var on=3;on<arguments.length;on++)ge.cc.push(arguments[on]);return se(De(It,cn),hn(Ye,It),be)}function en(Ye){return Ye=="}"?se():re(et,en)}function vt(Ye,It){if(I){if(Ye==":")return se(ei);if(It=="?")return se(vt)}}function Le(Ye,It){if(I&&(Ye==":"||It=="in"))return se(ei)}function nn(Ye){if(I&&Ye==":")return ge.stream.match(/^\s*\w+\s+is\b/,!1)?se(_t,sn,ei):se(ei)}function sn(Ye,It){if(It=="is")return ge.marked="keyword",se()}function ei(Ye,It){if(It=="keyof"||It=="typeof"||It=="infer"||It=="readonly")return ge.marked="keyword",se(It=="typeof"?tt:ei);if(Ye=="variable"||It=="void")return ge.marked="type",se(gn);if(It=="|"||It=="&")return se(ei);if(Ye=="string"||Ye=="number"||Ye=="atom")return se(gn);if(Ye=="[")return se(De("]"),hn(ei,"]",","),be,gn);if(Ye=="{")return se(De("}"),Ne,be,gn);if(Ye=="(")return se(hn(dn,")"),wn,gn);if(Ye=="<")return se(hn(ei,">"),ei);if(Ye=="quasi")return re(ht,gn)}function wn(Ye){if(Ye=="=>")return se(ei)}function Ne(Ye){return Ye.match(/[\}\)\]]/)?se():Ye==","||Ye==";"?se(Ne):re(Fe,Ne)}function Fe(Ye,It){if(Ye=="variable"||ge.style=="keyword")return ge.marked="property",se(Fe);if(It=="?"||Ye=="number"||Ye=="string")return se(Fe);if(Ye==":")return se(ei);if(Ye=="[")return se(We("variable"),Le,We("]"),Fe);if(Ye=="(")return re(Nn,Fe);if(!Ye.match(/[;\}\)\],]/))return se()}function ht(Ye,It){return Ye!="quasi"?re():It.slice(It.length-2)!="${"?se(ht):se(ei,Qt)}function Qt(Ye){if(Ye=="}")return ge.marked="string-2",ge.state.tokenize=b,se(ht)}function dn(Ye,It){return Ye=="variable"&&ge.stream.match(/^\s*[?:]/,!1)||It=="?"?se(dn):Ye==":"?se(ei):Ye=="spread"?se(dn):re(ei)}function gn(Ye,It){if(It=="<")return se(De(">"),hn(ei,">"),be,gn);if(It=="|"||Ye=="."||It=="&")return se(ei);if(Ye=="[")return se(ei,We("]"),gn);if(It=="extends"||It=="implements")return ge.marked="keyword",se(ei);if(It=="?")return se(ei,We(":"),ei)}function Ht(Ye,It){if(It=="<")return se(De(">"),hn(ei,">"),be,gn)}function lt(){return re(ei,Cn)}function Cn(Ye,It){if(It=="=")return se(ei)}function Ue(Ye,It){return It=="enum"?(ge.marked="keyword",se(Pi)):re(Pt,vt,Ve,Se)}function Pt(Ye,It){if(I&&ie(It))return ge.marked="keyword",se(Pt);if(Ye=="variable")return $(It),se();if(Ye=="spread")return se(Pt);if(Ye=="[")return Pe(He,"]");if(Ye=="{")return Pe(Lt,"}")}function Lt(Ye,It){return Ye=="variable"&&!ge.stream.match(/^\s*:/,!1)?($(It),se(Ve)):(Ye=="variable"&&(ge.marked="property"),Ye=="spread"?se(Pt):Ye=="}"?re():Ye=="["?se(_t,We("]"),We(":"),Lt):se(We(":"),Pt,Ve))}function He(){return re(Pt,Ve)}function Ve(Ye,It){if(It=="=")return se(tt)}function Se(Ye){if(Ye==",")return se(Ue)}function St(Ye,It){if(Ye=="keyword b"&&It=="else")return se(De("form","else"),et,be)}function Jt(Ye,It){if(It=="await")return se(Jt);if(Ye=="(")return se(De(")"),mn,be)}function mn(Ye){return Ye=="var"?se(Ue,Mn):Ye=="variable"?se(Mn):re(Mn)}function Mn(Ye,It){return Ye==")"?se():Ye==";"?se(Mn):It=="in"||It=="of"?(ge.marked="keyword",se(_t,Mn)):re(_t,Mn)}function kn(Ye,It){if(It=="*")return ge.marked="keyword",se(kn);if(Ye=="variable")return $(It),se(kn);if(Ye=="(")return se(we,De(")"),hn(Xn,")"),be,nn,et,Ke);if(I&&It=="<")return se(De(">"),hn(lt,">"),be,kn)}function Nn(Ye,It){if(It=="*")return ge.marked="keyword",se(Nn);if(Ye=="variable")return $(It),se(Nn);if(Ye=="(")return se(we,De(")"),hn(Xn,")"),be,nn,Ke);if(I&&It=="<")return se(De(">"),hn(lt,">"),be,Nn)}function xn(Ye,It){if(Ye=="keyword"||Ye=="variable")return ge.marked="type",se(xn);if(It=="<")return se(De(">"),hn(lt,">"),be)}function Xn(Ye,It){return It=="@"&&se(_t,Xn),Ye=="spread"?se(Xn):I&&ie(It)?(ge.marked="keyword",se(Xn)):I&&Ye=="this"?se(vt,Ve):re(Pt,vt,Ve)}function Sn(Ye,It){return Ye=="variable"?Gn(Ye,It):ti(Ye,It)}function Gn(Ye,It){if(Ye=="variable")return $(It),se(ti)}function ti(Ye,It){if(It=="<")return se(De(">"),hn(lt,">"),be,ti);if(It=="extends"||It=="implements"||I&&Ye==",")return It=="implements"&&(ge.marked="keyword"),se(I?ei:_t,ti);if(Ye=="{")return se(De("}"),An,be)}function An(Ye,It){if(Ye=="async"||Ye=="variable"&&(It=="static"||It=="get"||It=="set"||I&&ie(It))&&ge.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return ge.marked="keyword",se(An);if(Ye=="variable"||ge.style=="keyword")return ge.marked="property",se(Bi,An);if(Ye=="number"||Ye=="string")return se(Bi,An);if(Ye=="[")return se(_t,vt,We("]"),Bi,An);if(It=="*")return ge.marked="keyword",se(An);if(I&&Ye=="(")return re(Nn,An);if(Ye==";"||Ye==",")return se(An);if(Ye=="}")return se();if(It=="@")return se(_t,An)}function Bi(Ye,It){if(It=="!"||It=="?")return se(Bi);if(Ye==":")return se(ei,Ve);if(It=="=")return se(tt);var cn=ge.state.lexical.prev,on=cn&&cn.info=="interface";return re(on?Nn:kn)}function oi(Ye,It){return It=="*"?(ge.marked="keyword",se(ni,We(";"))):It=="default"?(ge.marked="keyword",se(_t,We(";"))):Ye=="{"?se(hn(Yn,"}"),ni,We(";")):re(et)}function Yn(Ye,It){if(It=="as")return ge.marked="keyword",se(We("variable"));if(Ye=="variable")return re(tt,Yn)}function Ci(Ye){return Ye=="string"?se():Ye=="("?re(_t):Ye=="."?re(Te):re(On,Si,ni)}function On(Ye,It){return Ye=="{"?Pe(On,"}"):(Ye=="variable"&&$(It),It=="*"&&(ge.marked="keyword"),se(Di))}function Si(Ye){if(Ye==",")return se(On,Si)}function Di(Ye,It){if(It=="as")return ge.marked="keyword",se(On)}function ni(Ye,It){if(It=="from")return ge.marked="keyword",se(_t)}function Kn(Ye){return Ye=="]"?se():re(hn(tt,"]"))}function Pi(){return re(De("form"),Pt,We("{"),De("}"),hn(Vi,"}"),be,be)}function Vi(){return re(Pt,Ve)}function Oi(Ye,It){return Ye.lastType=="operator"||Ye.lastType==","||f.test(It.charAt(0))||/[,.]/.test(It.charAt(0))}function _i(Ye,It,cn){return It.tokenize==N&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(It.lastType)||It.lastType=="quasi"&&/\{\s*$/.test(Ye.string.slice(0,Ye.pos-(cn||0)))}return{startState:function(Ye){var It={tokenize:N,lastType:"sof",cc:[],lexical:new ee((Ye||0)-O,0,"block",!1),localVars:z.localVars,context:z.localVars&&new J(null,null,!1),indented:Ye||0};return z.globalVars&&typeof z.globalVars=="object"&&(It.globalVars=z.globalVars),It},token:function(Ye,It){if(Ye.sol()&&(It.lexical.hasOwnProperty("align")||(It.lexical.align=!1),It.indented=Ye.indentation(),V(Ye,It)),It.tokenize!=R&&Ye.eatSpace())return null;var cn=It.tokenize(Ye,It);return x=="comment"?cn:(It.lastType=x=="operator"&&(k=="++"||k=="--")?"incdec":x,me(It,cn,x,k,Ye))},indent:function(Ye,It){if(Ye.tokenize==R||Ye.tokenize==b)return C.Pass;if(Ye.tokenize!=N)return 0;var cn=It&&It.charAt(0),on=Ye.lexical,bn;if(!/^\s*else\b/.test(It))for(var hi=Ye.cc.length-1;hi>=0;--hi){var En=Ye.cc[hi];if(En==be)on=on.prev;else if(En!=St&&En!=Ke)break}for(;(on.type=="stat"||on.type=="form")&&(cn=="}"||(bn=Ye.cc[Ye.cc.length-1])&&(bn==Te||bn==Ge)&&!/^[,\.=+\-*:?[\(]/.test(It));)on=on.prev;y&&on.type==")"&&on.prev.type=="stat"&&(on=on.prev);var Zi=on.type,ri=cn==Zi;return Zi=="vardef"?on.indented+(Ye.lastType=="operator"||Ye.lastType==","?on.info.length+1:0):Zi=="form"&&cn=="{"?on.indented:Zi=="form"?on.indented+O:Zi=="stat"?on.indented+(Oi(Ye,It)?y||O:0):on.info=="switch"&&!ri&&z.doubleIndentSwitch!=!1?on.indented+(/^(?:case|default)\b/.test(It)?O:2*O):on.align?on.column+(ri?0:1):on.indented+(ri?0:O)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:A?null:"/*",blockCommentEnd:A?null:"*/",blockCommentContinue:A?null:" * ",lineComment:A?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:A?"json":"javascript",jsonldMode:W,jsonMode:A,expressionAllowed:_i,skipExpression:function(Ye){me(Ye,"atom","atom","true",new C.StringStream("",2,null))}}}),C.registerHelper("wordChars","javascript",/[\w$]/),C.defineMIME("text/javascript","javascript"),C.defineMIME("text/ecmascript","javascript"),C.defineMIME("application/javascript","javascript"),C.defineMIME("application/x-javascript","javascript"),C.defineMIME("application/ecmascript","javascript"),C.defineMIME("application/json",{name:"javascript",json:!0}),C.defineMIME("application/x-json",{name:"javascript",json:!0}),C.defineMIME("application/manifest+json",{name:"javascript",json:!0}),C.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),C.defineMIME("text/typescript",{name:"javascript",typescript:!0}),C.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},16581:function(it,Ee,l){(function(C){C(l(43344))})(function(C){"use strict";function d(M){return new RegExp("^(("+M.join(")|(")+"))\\b")}var z=d(["and","or","not","is"]),O=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in"],y=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"];C.registerHelper("hintWords","python",O.concat(y).concat(["exec","print"]));function W(M){return M.scopes[M.scopes.length-1]}C.defineMode("python",function(M,I){for(var w="error",_=I.delimiters||I.singleDelimiters||/^[\(\)\[\]\{\}@,:`=;\.\\]/,f=[I.singleOperators,I.doubleOperators,I.doubleDelimiters,I.tripleDelimiters,I.operators||/^([-+*/%\/&|^]=?|[<>=]+|\/\/=?|\*\*=?|!=|[~!@]|\.\.\.)/],m=0;m<f.length;m++)f[m]||f.splice(m--,1);var a=I.hangingIndent||M.indentUnit,x=O,k=y;I.extra_keywords!=null&&(x=x.concat(I.extra_keywords)),I.extra_builtins!=null&&(k=k.concat(I.extra_builtins));var T=!(I.version&&Number(I.version)<3);if(T){var N=I.identifiers||/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*/;x=x.concat(["nonlocal","False","True","None","async","await"]),k=k.concat(["ascii","bytes","exec","print"]);var L=new RegExp(`^(([rbuf]|(br)|(rb)|(fr)|(rf))?('{3}|"{3}|['"]))`,"i")}else{var N=I.identifiers||/^[_A-Za-z][_A-Za-z0-9]*/;x=x.concat(["exec","print"]),k=k.concat(["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"]);var L=new RegExp(`^(([rubf]|(ur)|(br))?('{3}|"{3}|['"]))`,"i")}var R=d(x),b=d(k);function P(X,$){var j=X.sol()&&$.lastToken!="\\";if(j&&($.indent=X.indentation()),j&&W($).type=="py"){var ie=W($).offset;if(X.eatSpace()){var J=X.indentation();return J>ie?ae($):J<ie&&ge(X,$)&&X.peek()!="#"&&($.errorToken=!0),null}else{var oe=V(X,$);return ie>0&&ge(X,$)&&(oe+=" "+w),oe}}return V(X,$)}function V(X,$,j){if(X.eatSpace())return null;if(!j&&X.match(/^#.*/))return"comment";if(X.match(/^[0-9\.]/,!1)){var ie=!1;if(X.match(/^[\d_]*\.\d+(e[\+\-]?\d+)?/i)&&(ie=!0),X.match(/^[\d_]+\.\d*/)&&(ie=!0),X.match(/^\.\d+/)&&(ie=!0),ie)return X.eat(/J/i),"number";var J=!1;if(X.match(/^0x[0-9a-f_]+/i)&&(J=!0),X.match(/^0b[01_]+/i)&&(J=!0),X.match(/^0o[0-7_]+/i)&&(J=!0),X.match(/^[1-9][\d_]*(e[\+\-]?[\d_]+)?/)&&(X.eat(/J/i),J=!0),X.match(/^0(?![\dx])/i)&&(J=!0),J)return X.eat(/L/i),"number"}if(X.match(L)){var oe=X.current().toLowerCase().indexOf("f")!==-1;return oe?($.tokenize=H(X.current(),$.tokenize),$.tokenize(X,$)):($.tokenize=ee(X.current(),$.tokenize),$.tokenize(X,$))}for(var ce=0;ce<f.length;ce++)if(X.match(f[ce]))return"operator";return X.match(_)?"punctuation":$.lastToken=="."&&X.match(N)?"property":X.match(R)||X.match(z)?"keyword":X.match(b)?"builtin":X.match(/^(self|cls)\b/)?"variable-2":X.match(N)?$.lastToken=="def"||$.lastToken=="class"?"def":"variable":(X.next(),j?null:w)}function H(X,$){for(;"rubf".indexOf(X.charAt(0).toLowerCase())>=0;)X=X.substr(1);var j=X.length==1,ie="string";function J(ce){return function(we,Me){var Ke=V(we,Me,!0);return Ke=="punctuation"&&(we.current()=="{"?Me.tokenize=J(ce+1):we.current()=="}"&&(ce>1?Me.tokenize=J(ce-1):Me.tokenize=oe)),Ke}}function oe(ce,we){for(;!ce.eol();)if(ce.eatWhile(/[^'"\{\}\\]/),ce.eat("\\")){if(ce.next(),j&&ce.eol())return ie}else{if(ce.match(X))return we.tokenize=$,ie;if(ce.match("{{"))return ie;if(ce.match("{",!1))return we.tokenize=J(0),ce.current()?ie:we.tokenize(ce,we);if(ce.match("}}"))return ie;if(ce.match("}"))return w;ce.eat(/['"]/)}if(j){if(I.singleLineStringErrors)return w;we.tokenize=$}return ie}return oe.isString=!0,oe}function ee(X,$){for(;"rubf".indexOf(X.charAt(0).toLowerCase())>=0;)X=X.substr(1);var j=X.length==1,ie="string";function J(oe,ce){for(;!oe.eol();)if(oe.eatWhile(/[^'"\\]/),oe.eat("\\")){if(oe.next(),j&&oe.eol())return ie}else{if(oe.match(X))return ce.tokenize=$,ie;oe.eat(/['"]/)}if(j){if(I.singleLineStringErrors)return w;ce.tokenize=$}return ie}return J.isString=!0,J}function ae(X){for(;W(X).type!="py";)X.scopes.pop();X.scopes.push({offset:W(X).offset+M.indentUnit,type:"py",align:null})}function me(X,$,j){var ie=X.match(/^[\s\[\{\(]*(?:#|$)/,!1)?null:X.column()+1;$.scopes.push({offset:$.indent+a,type:j,align:ie})}function ge(X,$){for(var j=X.indentation();$.scopes.length>1&&W($).offset>j;){if(W($).type!="py")return!0;$.scopes.pop()}return W($).offset!=j}function re(X,$){X.sol()&&($.beginningOfLine=!0,$.dedent=!1);var j=$.tokenize(X,$),ie=X.current();if($.beginningOfLine&&ie=="@")return X.match(N,!1)?"meta":T?"operator":w;if(/\S/.test(ie)&&($.beginningOfLine=!1),(j=="variable"||j=="builtin")&&$.lastToken=="meta"&&(j="meta"),(ie=="pass"||ie=="return")&&($.dedent=!0),ie=="lambda"&&($.lambda=!0),ie==":"&&!$.lambda&&W($).type=="py"&&X.match(/^\s*(?:#|$)/,!1)&&ae($),ie.length==1&&!/string|comment/.test(j)){var J="[({".indexOf(ie);if(J!=-1&&me(X,$,"])}".slice(J,J+1)),J="])}".indexOf(ie),J!=-1)if(W($).type==ie)$.indent=$.scopes.pop().offset-a;else return w}return $.dedent&&X.eol()&&W($).type=="py"&&$.scopes.length>1&&$.scopes.pop(),j}var se={startState:function(X){return{tokenize:P,scopes:[{offset:X||0,type:"py",align:null}],indent:X||0,lastToken:null,lambda:!1,dedent:0}},token:function(X,$){var j=$.errorToken;j&&($.errorToken=!1);var ie=re(X,$);return ie&&ie!="comment"&&($.lastToken=ie=="keyword"||ie=="punctuation"?X.current():ie),ie=="punctuation"&&(ie=null),X.eol()&&$.lambda&&($.lambda=!1),j?ie+" "+w:ie},indent:function(X,$){if(X.tokenize!=P)return X.tokenize.isString?C.Pass:0;var j=W(X),ie=j.type==$.charAt(0)||j.type=="py"&&!X.dedent&&/^(else:|elif |except |finally:)/.test($);return j.align!=null?j.align-(ie?1:0):j.offset-(ie?a:0)},electricInput:/^\s*([\}\]\)]|else:|elif |except |finally:)$/,closeBrackets:{triples:`'"`},lineComment:"#",fold:"indent"};return se}),C.defineMIME("text/x-python","python");var A=function(M){return M.split(" ")};C.defineMIME("text/x-cython",{name:"python",extra_keywords:A("by cdef cimport cpdef ctypedef enum except extern gil include nogil property public readonly struct union DEF IF ELIF ELSE")})})},66161:function(it,Ee,l){(function(C){C(l(43344))})(function(C){"use strict";C.defineMode("shell",function(){var d={};function z(m,a){for(var x=0;x<a.length;x++)d[a[x]]=m}var O=["true","false"],y=["if","then","do","else","elif","while","until","for","in","esac","fi","fin","fil","done","exit","set","unset","export","function"],W=["ab","awk","bash","beep","cat","cc","cd","chown","chmod","chroot","clear","cp","curl","cut","diff","echo","find","gawk","gcc","get","git","grep","hg","kill","killall","ln","ls","make","mkdir","openssl","mv","nc","nl","node","npm","ping","ps","restart","rm","rmdir","sed","service","sh","shopt","shred","source","sort","sleep","ssh","start","stop","su","sudo","svn","tee","telnet","top","touch","vi","vim","wall","wc","wget","who","write","yes","zsh"];C.registerHelper("hintWords","shell",O.concat(y,W)),z("atom",O),z("keyword",y),z("builtin",W);function A(m,a){if(m.eatSpace())return null;var x=m.sol(),k=m.next();if(k==="\\")return m.next(),null;if(k==="'"||k==='"'||k==="`")return a.tokens.unshift(M(k,k==="`"?"quote":"string")),f(m,a);if(k==="#")return x&&m.eat("!")?(m.skipToEnd(),"meta"):(m.skipToEnd(),"comment");if(k==="$")return a.tokens.unshift(w),f(m,a);if(k==="+"||k==="=")return"operator";if(k==="-")return m.eat("-"),m.eatWhile(/\w/),"attribute";if(k=="<"){if(m.match("<<"))return"operator";var T=m.match(/^<-?\s*['"]?([^'"]*)['"]?/);if(T)return a.tokens.unshift(_(T[1])),"string-2"}if(/\d/.test(k)&&(m.eatWhile(/\d/),m.eol()||!/\w/.test(m.peek())))return"number";m.eatWhile(/[\w-]/);var N=m.current();return m.peek()==="="&&/\w+/.test(N)?"def":d.hasOwnProperty(N)?d[N]:null}function M(m,a){var x=m=="("?")":m=="{"?"}":m;return function(k,T){for(var N,L=!1;(N=k.next())!=null;){if(N===x&&!L){T.tokens.shift();break}else if(N==="$"&&!L&&m!=="'"&&k.peek()!=x){L=!0,k.backUp(1),T.tokens.unshift(w);break}else{if(!L&&m!==x&&N===m)return T.tokens.unshift(M(m,a)),f(k,T);if(!L&&/['"]/.test(N)&&!/['"]/.test(m)){T.tokens.unshift(I(N,"string")),k.backUp(1);break}}L=!L&&N==="\\"}return a}}function I(m,a){return function(x,k){return k.tokens[0]=M(m,a),x.next(),f(x,k)}}var w=function(m,a){a.tokens.length>1&&m.eat("$");var x=m.next();return/['"({]/.test(x)?(a.tokens[0]=M(x,x=="("?"quote":x=="{"?"def":"string"),f(m,a)):(/\d/.test(x)||m.eatWhile(/\w/),a.tokens.shift(),"def")};function _(m){return function(a,x){return a.sol()&&a.string==m&&x.tokens.shift(),a.skipToEnd(),"string-2"}}function f(m,a){return(a.tokens[0]||A)(m,a)}return{startState:function(){return{tokens:[]}},token:function(m,a){return f(m,a)},closeBrackets:"()[]{}''\"\"``",lineComment:"#",fold:"brace"}}),C.defineMIME("text/x-sh","shell"),C.defineMIME("application/x-sh","shell")})},42060:function(it){"use strict";var Ee=typeof BigInt64Array!="undefined";it.exports=function l(C,d){if(C===d)return!0;if(C&&d&&typeof C=="object"&&typeof d=="object"){if(C.constructor!==d.constructor)return!1;var z,O,y;if(Array.isArray(C)){if(z=C.length,z!=d.length)return!1;for(O=z;O--!==0;)if(!l(C[O],d[O]))return!1;return!0}if(C instanceof Map&&d instanceof Map){if(C.size!==d.size)return!1;for(O of C.entries())if(!d.has(O[0]))return!1;for(O of C.entries())if(!l(O[1],d.get(O[0])))return!1;return!0}if(C instanceof Set&&d instanceof Set){if(C.size!==d.size)return!1;for(O of C.entries())if(!d.has(O[0]))return!1;return!0}if(ArrayBuffer.isView(C)&&ArrayBuffer.isView(d)){if(z=C.length,z!=d.length)return!1;for(O=z;O--!==0;)if(C[O]!==d[O])return!1;return!0}if(C.constructor===RegExp)return C.source===d.source&&C.flags===d.flags;if(C.valueOf!==Object.prototype.valueOf)return C.valueOf()===d.valueOf();if(C.toString!==Object.prototype.toString)return C.toString()===d.toString();if(y=Object.keys(C),z=y.length,z!==Object.keys(d).length)return!1;for(O=z;O--!==0;)if(!Object.prototype.hasOwnProperty.call(d,y[O]))return!1;for(O=z;O--!==0;){var W=y[O];if(!(W==="_owner"&&C.$$typeof)&&!l(C[W],d[W]))return!1}return!0}return C!==C&&d!==d}},72535:function(it,Ee,l){"use strict";var C=l(56237),d={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},z={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},O={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},y={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},W={};W[C.ForwardRef]=O,W[C.Memo]=y;function A(x){return C.isMemo(x)?y:W[x.$$typeof]||d}var M=Object.defineProperty,I=Object.getOwnPropertyNames,w=Object.getOwnPropertySymbols,_=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,m=Object.prototype;function a(x,k,T){if(typeof k!="string"){if(m){var N=f(k);N&&N!==m&&a(x,N,T)}var L=I(k);w&&(L=L.concat(w(k)));for(var R=A(x),b=A(k),P=0;P<L.length;++P){var V=L[P];if(!z[V]&&!(T&&T[V])&&!(b&&b[V])&&!(R&&R[V])){var H=_(k,V);try{M(x,V,H)}catch(ee){}}}}return x}it.exports=a},30551:function(it,Ee){Ee.read=function(l,C,d,z,O){var y,W,A=O*8-z-1,M=(1<<A)-1,I=M>>1,w=-7,_=d?O-1:0,f=d?-1:1,m=l[C+_];for(_+=f,y=m&(1<<-w)-1,m>>=-w,w+=A;w>0;y=y*256+l[C+_],_+=f,w-=8);for(W=y&(1<<-w)-1,y>>=-w,w+=z;w>0;W=W*256+l[C+_],_+=f,w-=8);if(y===0)y=1-I;else{if(y===M)return W?NaN:(m?-1:1)*(1/0);W=W+Math.pow(2,z),y=y-I}return(m?-1:1)*W*Math.pow(2,y-z)},Ee.write=function(l,C,d,z,O,y){var W,A,M,I=y*8-O-1,w=(1<<I)-1,_=w>>1,f=O===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=z?0:y-1,a=z?1:-1,x=C<0||C===0&&1/C<0?1:0;for(C=Math.abs(C),isNaN(C)||C===1/0?(A=isNaN(C)?1:0,W=w):(W=Math.floor(Math.log(C)/Math.LN2),C*(M=Math.pow(2,-W))<1&&(W--,M*=2),W+_>=1?C+=f/M:C+=f*Math.pow(2,1-_),C*M>=2&&(W++,M/=2),W+_>=w?(A=0,W=w):W+_>=1?(A=(C*M-1)*Math.pow(2,O),W=W+_):(A=C*Math.pow(2,_-1)*Math.pow(2,O),W=0));O>=8;l[d+m]=A&255,m+=a,A/=256,O-=8);for(W=W<<O|A,I+=O;I>0;l[d+m]=W&255,m+=a,W/=256,I-=8);l[d+m-a]|=x*128}},2937:function(it){typeof Object.create=="function"?it.exports=function(l,C){C&&(l.super_=C,l.prototype=Object.create(C.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}))}:it.exports=function(l,C){if(C){l.super_=C;var d=function(){};d.prototype=C.prototype,l.prototype=new d,l.prototype.constructor=l}}},79673:function(it){var Ee={}.toString;it.exports=Array.isArray||function(l){return Ee.call(l)=="[object Array]"}},57699:function(it,Ee,l){"use strict";l.r(Ee);var C=Number.isNaN||function(W){return typeof W=="number"&&W!==W};function d(y,W){return!!(y===W||C(y)&&C(W))}function z(y,W){if(y.length!==W.length)return!1;for(var A=0;A<y.length;A++)if(!d(y[A],W[A]))return!1;return!0}function O(y,W){W===void 0&&(W=z);var A,M=[],I,w=!1;function _(){for(var f=[],m=0;m<arguments.length;m++)f[m]=arguments[m];return w&&A===this&&W(f,M)||(I=y.apply(this,f),w=!0,A=this,M=f),I}return _}Ee.default=O},50731:function(it,Ee,l){"use strict";l.r(Ee),l.d(Ee,{PixelRatio:function(){return A},getZoomFactor:function(){return M},isAndroid:function(){return k},isChrome:function(){return f},isElectron:function(){return x},isFirefox:function(){return w},isSafari:function(){return m},isStandalone:function(){return T},isWebKit:function(){return _},isWebkitWebView:function(){return a}});var C=l(60774),d=l(1405);class z{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}z.INSTANCE=new z;class O extends d.JT{constructor(){super(),this._onDidChange=this._register(new C.Q5),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(L){this._mediaQueryList&&this._mediaQueryList.removeEventListener("change",this._listener),this._mediaQueryList=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),L&&this._onDidChange.fire()}}class y extends d.JT{constructor(){super(),this._onDidChange=this._register(new C.Q5),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const L=this._register(new O);this._register(L.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}get value(){return this._value}_getPixelRatio(){const L=document.createElement("canvas").getContext("2d"),R=window.devicePixelRatio||1,b=L.webkitBackingStorePixelRatio||L.mozBackingStorePixelRatio||L.msBackingStorePixelRatio||L.oBackingStorePixelRatio||L.backingStorePixelRatio||1;return R/b}}class W{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=new y),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}const A=new W;function M(){return z.INSTANCE.getZoomFactor()}const I=navigator.userAgent,w=I.indexOf("Firefox")>=0,_=I.indexOf("AppleWebKit")>=0,f=I.indexOf("Chrome")>=0,m=!f&&I.indexOf("Safari")>=0,a=!f&&!m&&_,x=I.indexOf("Electron/")>=0,k=I.indexOf("Android")>=0,T=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches},13125:function(it,Ee,l){"use strict";l.d(Ee,{D:function(){return z}});var C=l(50731),d=l(24180);const z={clipboard:{writeText:d.tY||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:d.tY||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>d.tY||C.isStandalone?0:navigator.keyboard||C.isSafari?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}},78333:function(it,Ee,l){"use strict";l.d(Ee,{P$:function(){return O},TN:function(){return z},go:function(){return d}});var C=l(34271);const d={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:C.v.text,TERMINALS:"Terminals"};class z{constructor(W){this.data=W}update(){}getData(){return this.data}}const O={CurrentDragAndDropData:void 0}},50082:function(it,Ee,l){"use strict";l.d(Ee,{$:function(){return ei},$Z:function(){return wn},Ay:function(){return Te},Ce:function(){return en},Cp:function(){return Ne},D6:function(){return J},DI:function(){return De},Dx:function(){return ie},FK:function(){return We},Fx:function(){return tt},GQ:function(){return N},H$:function(){return Fe},IC:function(){return H},If:function(){return et},OO:function(){return Ft},PO:function(){return _},R3:function(){return Pe},RE:function(){return V},Re:function(){return at},Ro:function(){return ce},Uh:function(){return ht},Uw:function(){return f},V3:function(){return Qt},Y_:function(){return j},_0:function(){return Rt},_h:function(){return Ht},_q:function(){return lt},dS:function(){return Et},dp:function(){return Me},fk:function(){return ve},go:function(){return hn},i:function(){return Ke},jL:function(){return ge},j_:function(){return P},jg:function(){return _t},jt:function(){return dn},lI:function(){return me},mc:function(){return vt},mu:function(){return T},nm:function(){return a},q6:function(){return b},tw:function(){return Tt},u0:function(){return R},uB:function(){return Cn},uN:function(){return $e},uU:function(){return kt},vL:function(){return gt},vY:function(){return Ge},w:function(){return be},wY:function(){return gn},wn:function(){return Kt},xQ:function(){return we},zB:function(){return Mt}});var C=l(50731),d=l(13125),z=l(16259),O=l(26934),y=l(57186),W=l(91273),A=l(60774),M=l(1405),I=l(22818),w=l(24180);function _(Ue){for(;Ue.firstChild;)Ue.firstChild.remove()}function f(Ue){var Pt;return(Pt=Ue==null?void 0:Ue.isConnected)!==null&&Pt!==void 0?Pt:!1}class m{constructor(Pt,Lt,He,Ve){this._node=Pt,this._type=Lt,this._handler=He,this._options=Ve||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function a(Ue,Pt,Lt,He){return new m(Ue,Pt,Lt,He)}function x(Ue){return function(Pt){return Ue(new O.n(Pt))}}function k(Ue){return function(Pt){return Ue(new z.y(Pt))}}let T=function(Pt,Lt,He,Ve){let Se=He;return Lt==="click"||Lt==="mousedown"?Se=x(He):(Lt==="keydown"||Lt==="keypress"||Lt==="keyup")&&(Se=k(He)),a(Pt,Lt,Se,Ve)},N=function(Pt,Lt,He){let Ve=x(Lt);return R(Pt,Ve,He)},L=function(Pt,Lt,He){let Ve=x(Lt);return b(Pt,Ve,He)};function R(Ue,Pt,Lt){return a(Ue,w.gn&&d.D.pointerEvents?Tt.POINTER_DOWN:Tt.MOUSE_DOWN,Pt,Lt)}function b(Ue,Pt,Lt){return a(Ue,w.gn&&d.D.pointerEvents?Tt.POINTER_UP:Tt.MOUSE_UP,Pt,Lt)}function P(Ue,Pt){return a(Ue,"mouseout",Lt=>{let He=Lt.relatedTarget;for(;He&&He!==Ue;)He=He.parentNode;He!==Ue&&Pt(Lt)})}function V(Ue,Pt){return a(Ue,"pointerout",Lt=>{let He=Lt.relatedTarget;for(;He&&He!==Ue;)He=He.parentNode;He!==Ue&&Pt(Lt)})}function H(Ue,Pt,Lt){let He=null;const Ve=mn=>Jt.fire(mn),Se=()=>{He||(He=new m(Ue,Pt,Ve,Lt))},St=()=>{He&&(He.dispose(),He=null)},Jt=new A.Q5({onFirstListenerAdd:Se,onLastListenerRemove:St});return Jt}let ee=null;function ae(Ue){if(!ee){const Pt=Lt=>setTimeout(()=>Lt(new Date().getTime()),0);ee=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||Pt}return ee.call(self,Ue)}let me,ge;class re{constructor(Pt,Lt=0){this._runner=Pt,this.priority=Lt,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(Pt){(0,W.dL)(Pt)}}static sort(Pt,Lt){return Lt.priority-Pt.priority}}(function(){let Ue=[],Pt=null,Lt=!1,He=!1,Ve=()=>{for(Lt=!1,Pt=Ue,Ue=[],He=!0;Pt.length>0;)Pt.sort(re.sort),Pt.shift().execute();He=!1};ge=(Se,St=0)=>{let Jt=new re(Se,St);return Ue.push(Jt),Lt||(Lt=!0,ae(Ve)),Jt},me=(Se,St)=>{if(He){let Jt=new re(Se,St);return Pt.push(Jt),Jt}else return ge(Se,St)}})();const se=8,X=function(Ue,Pt){return Pt};class $ extends M.JT{constructor(Pt,Lt,He,Ve=X,Se=se){super();let St=null,Jt=0,mn=this._register(new y._F),Mn=()=>{Jt=new Date().getTime(),He(St),St=null};this._register(a(Pt,Lt,kn=>{St=Ve(St,kn);let Nn=new Date().getTime()-Jt;Nn>=Se?(mn.cancel(),Mn()):mn.setIfNotSet(Mn,Se-Nn)}))}}function j(Ue,Pt,Lt,He,Ve){return new $(Ue,Pt,Lt,He,Ve)}function ie(Ue){return document.defaultView.getComputedStyle(Ue,null)}function J(Ue){if(Ue!==document.body)return new ce(Ue.clientWidth,Ue.clientHeight);if(w.gn&&window.visualViewport)return new ce(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new ce(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new ce(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new ce(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class oe{static convertToPixels(Pt,Lt){return parseFloat(Lt)||0}static getDimension(Pt,Lt,He){let Ve=ie(Pt),Se="0";return Ve&&(Ve.getPropertyValue?Se=Ve.getPropertyValue(Lt):Se=Ve.getAttribute(He)),oe.convertToPixels(Pt,Se)}static getBorderLeftWidth(Pt){return oe.getDimension(Pt,"border-left-width","borderLeftWidth")}static getBorderRightWidth(Pt){return oe.getDimension(Pt,"border-right-width","borderRightWidth")}static getBorderTopWidth(Pt){return oe.getDimension(Pt,"border-top-width","borderTopWidth")}static getBorderBottomWidth(Pt){return oe.getDimension(Pt,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(Pt){return oe.getDimension(Pt,"padding-left","paddingLeft")}static getPaddingRight(Pt){return oe.getDimension(Pt,"padding-right","paddingRight")}static getPaddingTop(Pt){return oe.getDimension(Pt,"padding-top","paddingTop")}static getPaddingBottom(Pt){return oe.getDimension(Pt,"padding-bottom","paddingBottom")}static getMarginLeft(Pt){return oe.getDimension(Pt,"margin-left","marginLeft")}static getMarginTop(Pt){return oe.getDimension(Pt,"margin-top","marginTop")}static getMarginRight(Pt){return oe.getDimension(Pt,"margin-right","marginRight")}static getMarginBottom(Pt){return oe.getDimension(Pt,"margin-bottom","marginBottom")}}class ce{constructor(Pt,Lt){this.width=Pt,this.height=Lt}with(Pt=this.width,Lt=this.height){return Pt!==this.width||Lt!==this.height?new ce(Pt,Lt):this}static is(Pt){return typeof Pt=="object"&&typeof Pt.height=="number"&&typeof Pt.width=="number"}static lift(Pt){return Pt instanceof ce?Pt:new ce(Pt.width,Pt.height)}static equals(Pt,Lt){return Pt===Lt?!0:!Pt||!Lt?!1:Pt.width===Lt.width&&Pt.height===Lt.height}}ce.None=new ce(0,0);function we(Ue){let Pt=Ue.offsetParent,Lt=Ue.offsetTop,He=Ue.offsetLeft;for(;(Ue=Ue.parentNode)!==null&&Ue!==document.body&&Ue!==document.documentElement;){Lt-=Ue.scrollTop;const Ve=Ut(Ue)?null:ie(Ue);Ve&&(He-=Ve.direction!=="rtl"?Ue.scrollLeft:-Ue.scrollLeft),Ue===Pt&&(He+=oe.getBorderLeftWidth(Ue),Lt+=oe.getBorderTopWidth(Ue),Lt+=Ue.offsetTop,He+=Ue.offsetLeft,Pt=Ue.offsetParent)}return{left:He,top:Lt}}function Me(Ue,Pt,Lt){typeof Pt=="number"&&(Ue.style.width=`${Pt}px`),typeof Lt=="number"&&(Ue.style.height=`${Lt}px`)}function Ke(Ue){let Pt=Ue.getBoundingClientRect();return{left:Pt.left+De.scrollX,top:Pt.top+De.scrollY,width:Pt.width,height:Pt.height}}const De=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function be(Ue){let Pt=oe.getMarginLeft(Ue)+oe.getMarginRight(Ue);return Ue.offsetWidth+Pt}function We(Ue){let Pt=oe.getBorderLeftWidth(Ue)+oe.getBorderRightWidth(Ue),Lt=oe.getPaddingLeft(Ue)+oe.getPaddingRight(Ue);return Ue.offsetWidth-Pt-Lt}function et(Ue){let Pt=oe.getBorderTopWidth(Ue)+oe.getBorderBottomWidth(Ue),Lt=oe.getPaddingTop(Ue)+oe.getPaddingBottom(Ue);return Ue.offsetHeight-Pt-Lt}function Kt(Ue){let Pt=oe.getMarginTop(Ue)+oe.getMarginBottom(Ue);return Ue.offsetHeight+Pt}function _t(Ue,Pt){for(;Ue;){if(Ue===Pt)return!0;Ue=Ue.parentNode}return!1}function tt(Ue,Pt,Lt){for(;Ue&&Ue.nodeType===Ue.ELEMENT_NODE;){if(Ue.classList.contains(Pt))return Ue;if(Lt){if(typeof Lt=="string"){if(Ue.classList.contains(Lt))return null}else if(Ue===Lt)return null}Ue=Ue.parentNode}return null}function kt(Ue,Pt,Lt){return!!tt(Ue,Pt,Lt)}function Ut(Ue){return Ue&&!!Ue.host&&!!Ue.mode}function Ft(Ue){return!!Te(Ue)}function Te(Ue){for(;Ue.parentNode;){if(Ue===document.body)return null;Ue=Ue.parentNode}return Ut(Ue)?Ue:null}function Ge(){let Ue=document.activeElement;for(;Ue!=null&&Ue.shadowRoot;)Ue=Ue.shadowRoot.activeElement;return Ue}function Et(Ue=document.getElementsByTagName("head")[0]){let Pt=document.createElement("style");return Pt.type="text/css",Pt.media="screen",Ue.appendChild(Pt),Pt}let Wt=null;function Ze(){return Wt||(Wt=Et()),Wt}function xe(Ue){var Pt,Lt;return!((Pt=Ue==null?void 0:Ue.sheet)===null||Pt===void 0)&&Pt.rules?Ue.sheet.rules:!((Lt=Ue==null?void 0:Ue.sheet)===null||Lt===void 0)&&Lt.cssRules?Ue.sheet.cssRules:[]}function ve(Ue,Pt,Lt=Ze()){!Lt||!Pt||Lt.sheet.insertRule(Ue+"{"+Pt+"}",0)}function $e(Ue,Pt=Ze()){if(!Pt)return;let Lt=xe(Pt),He=[];for(let Ve=0;Ve<Lt.length;Ve++)Lt[Ve].selectorText.indexOf(Ue)!==-1&&He.push(Ve);for(let Ve=He.length-1;Ve>=0;Ve--)Pt.sheet.deleteRule(He[Ve])}function at(Ue){return typeof HTMLElement=="object"?Ue instanceof HTMLElement:Ue&&typeof Ue=="object"&&Ue.nodeType===1&&typeof Ue.nodeName=="string"}const Tt={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:C.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:C.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:C.isWebKit?"webkitAnimationIteration":"animationiteration"},Mt={stop:function(Ue,Pt){Ue.preventDefault?Ue.preventDefault():Ue.returnValue=!1,Pt&&(Ue.stopPropagation?Ue.stopPropagation():Ue.cancelBubble=!0)}};function gt(Ue){let Pt=[];for(let Lt=0;Ue&&Ue.nodeType===Ue.ELEMENT_NODE;Lt++)Pt[Lt]=Ue.scrollTop,Ue=Ue.parentNode;return Pt}function Rt(Ue,Pt){for(let Lt=0;Ue&&Ue.nodeType===Ue.ELEMENT_NODE;Lt++)Ue.scrollTop!==Pt[Lt]&&(Ue.scrollTop=Pt[Lt]),Ue=Ue.parentNode}class Zt extends M.JT{constructor(Pt){super(),this._onDidFocus=this._register(new A.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new A.Q5),this.onDidBlur=this._onDidBlur.event;let Lt=Zt.hasFocusWithin(Pt),He=!1;const Ve=()=>{He=!1,Lt||(Lt=!0,this._onDidFocus.fire())},Se=()=>{Lt&&(He=!0,window.setTimeout(()=>{He&&(He=!1,Lt=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{Zt.hasFocusWithin(Pt)!==Lt&&(Lt?Se():Ve())},this._register(a(Pt,Tt.FOCUS,Ve,!0)),this._register(a(Pt,Tt.BLUR,Se,!0)),this._register(a(Pt,Tt.FOCUS_IN,()=>this._refreshStateHandler())),this._register(a(Pt,Tt.FOCUS_OUT,()=>this._refreshStateHandler()))}static hasFocusWithin(Pt){const Lt=Te(Pt),He=Lt?Lt.activeElement:document.activeElement;return _t(He,Pt)}}function hn(Ue){return new Zt(Ue)}function Pe(Ue,...Pt){if(Ue.append(...Pt),Pt.length===1&&typeof Pt[0]!="string")return Pt[0]}function en(Ue,Pt){return Ue.insertBefore(Pt,Ue.firstChild),Pt}function vt(Ue,...Pt){Ue.innerText="",Pe(Ue,...Pt)}const Le=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var nn;(function(Ue){Ue.HTML="http://www.w3.org/1999/xhtml",Ue.SVG="http://www.w3.org/2000/svg"})(nn||(nn={}));function sn(Ue,Pt,Lt,...He){let Ve=Le.exec(Pt);if(!Ve)throw new Error("Bad use of emmet");Lt=Object.assign({},Lt||{});let Se=Ve[1]||"div",St;return Ue!==nn.HTML?St=document.createElementNS(Ue,Se):St=document.createElement(Se),Ve[3]&&(St.id=Ve[3]),Ve[4]&&(St.className=Ve[4].replace(/\./g," ").trim()),Object.keys(Lt).forEach(Jt=>{const mn=Lt[Jt];typeof mn!="undefined"&&(/^on\w+$/.test(Jt)?St[Jt]=mn:Jt==="selected"?mn&&St.setAttribute(Jt,"true"):St.setAttribute(Jt,mn))}),St.append(...He),St}function ei(Ue,Pt,...Lt){return sn(nn.HTML,Ue,Pt,...Lt)}ei.SVG=function(Ue,Pt,...Lt){return sn(nn.SVG,Ue,Pt,...Lt)};function wn(...Ue){for(let Pt of Ue)Pt.style.display="",Pt.removeAttribute("aria-hidden")}function Ne(...Ue){for(let Pt of Ue)Pt.style.display="none",Pt.setAttribute("aria-hidden","true")}function Fe(Ue){return Array.prototype.slice.call(document.getElementsByTagName(Ue),0)}function ht(Ue){const Pt=window.devicePixelRatio*Ue;return Math.max(1,Math.floor(Pt))/window.devicePixelRatio}function Qt(Ue){window.open(Ue,"_blank","noopener")}function dn(Ue){const Pt=()=>{Ue(),Lt=ge(Pt)};let Lt=ge(Pt);return(0,M.OF)(()=>Lt.dispose())}I.WX.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function gn(Ue){return Ue?`url('${I.Gi.asBrowserUri(Ue).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function Ht(Ue){return`'${Ue.replace(/'/g,"%27")}'`}class lt extends A.Q5{constructor(){super(),this._subscriptions=new M.SL,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(a(window,"keydown",Pt=>{if(Pt.defaultPrevented)return;const Lt=new z.y(Pt);if(!(Lt.keyCode===6&&Pt.repeat)){if(Pt.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(Pt.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(Pt.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(Pt.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(Lt.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=Pt.altKey,this._keyStatus.ctrlKey=Pt.ctrlKey,this._keyStatus.metaKey=Pt.metaKey,this._keyStatus.shiftKey=Pt.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=Pt,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(a(window,"keyup",Pt=>{Pt.defaultPrevented||(!Pt.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!Pt.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!Pt.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!Pt.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=Pt.altKey,this._keyStatus.ctrlKey=Pt.ctrlKey,this._keyStatus.metaKey=Pt.metaKey,this._keyStatus.shiftKey=Pt.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=Pt,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(a(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(a(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(a(document.body,"mousemove",Pt=>{Pt.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(a(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return lt.instance||(lt.instance=new lt),lt.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}function Cn(Ue,Pt){window.matchMedia(Ue).addEventListener("change",Pt)}},30053:function(it,Ee,l){"use strict";l.d(Ee,{Y:function(){return d},p:function(){return z}});var C=l(60774);class d{constructor(y,W,A){const M=I=>this.emitter.fire(I);this.emitter=new C.Q5({onFirstListenerAdd:()=>y.addEventListener(W,M,A),onLastListenerRemove:()=>y.removeEventListener(W,M,A)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}function z(O){return O.preventDefault(),O.stopPropagation(),O}},34653:function(it,Ee,l){"use strict";l.d(Ee,{X:function(){return d},Z:function(){return C}});class C{constructor(O){this.domNode=O,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontStyle="",this._fontFeatureSettings="",this._textDecoration="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(O){this._maxWidth!==O&&(this._maxWidth=O,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(O){this._width!==O&&(this._width=O,this.domNode.style.width=this._width+"px")}setHeight(O){this._height!==O&&(this._height=O,this.domNode.style.height=this._height+"px")}setTop(O){this._top!==O&&(this._top=O,this.domNode.style.top=this._top+"px")}unsetTop(){this._top!==-1&&(this._top=-1,this.domNode.style.top="")}setLeft(O){this._left!==O&&(this._left=O,this.domNode.style.left=this._left+"px")}setBottom(O){this._bottom!==O&&(this._bottom=O,this.domNode.style.bottom=this._bottom+"px")}setRight(O){this._right!==O&&(this._right=O,this.domNode.style.right=this._right+"px")}setFontFamily(O){this._fontFamily!==O&&(this._fontFamily=O,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(O){this._fontWeight!==O&&(this._fontWeight=O,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(O){this._fontSize!==O&&(this._fontSize=O,this.domNode.style.fontSize=this._fontSize+"px")}setFontStyle(O){this._fontStyle!==O&&(this._fontStyle=O,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(O){this._fontFeatureSettings!==O&&(this._fontFeatureSettings=O,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setTextDecoration(O){this._textDecoration!==O&&(this._textDecoration=O,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(O){this._lineHeight!==O&&(this._lineHeight=O,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(O){this._letterSpacing!==O&&(this._letterSpacing=O,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(O){this._className!==O&&(this._className=O,this.domNode.className=this._className)}toggleClassName(O,y){this.domNode.classList.toggle(O,y),this._className=this.domNode.className}setDisplay(O){this._display!==O&&(this._display=O,this.domNode.style.display=this._display)}setPosition(O){this._position!==O&&(this._position=O,this.domNode.style.position=this._position)}setVisibility(O){this._visibility!==O&&(this._visibility=O,this.domNode.style.visibility=this._visibility)}setColor(O){this._color!==O&&(this._color=O,this.domNode.style.color=this._color)}setBackgroundColor(O){this._backgroundColor!==O&&(this._backgroundColor=O,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(O){this._layerHint!==O&&(this._layerHint=O,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(O){this._boxShadow!==O&&(this._boxShadow=O,this.domNode.style.boxShadow=O)}setContain(O){this._contain!==O&&(this._contain=O,this.domNode.style.contain=this._contain)}setAttribute(O,y){this.domNode.setAttribute(O,y)}removeAttribute(O){this.domNode.removeAttribute(O)}appendChild(O){this.domNode.appendChild(O.domNode)}removeChild(O){this.domNode.removeChild(O.domNode)}}function d(z){return new C(z)}},39266:function(it,Ee,l){"use strict";l.d(Ee,{BO:function(){return z},IY:function(){return d},az:function(){return O}});var C=l(50082);function d(w,_={}){const f=O(_);return f.textContent=w,f}function z(w,_={}){const f=O(_);return W(f,A(w,!!_.renderCodeSegments),_.actionHandler,_.renderCodeSegments),f}function O(w){const _=w.inline?"span":"div",f=document.createElement(_);return w.className&&(f.className=w.className),f}class y{constructor(_){this.source=_,this.index=0}eos(){return this.index>=this.source.length}next(){const _=this.peek();return this.advance(),_}peek(){return this.source[this.index]}advance(){this.index++}}function W(w,_,f,m){let a;if(_.type===2)a=document.createTextNode(_.content||"");else if(_.type===3)a=document.createElement("b");else if(_.type===4)a=document.createElement("i");else if(_.type===7&&m)a=document.createElement("code");else if(_.type===5&&f){const x=document.createElement("a");f.disposables.add(C.mu(x,"click",k=>{f.callback(String(_.index),k)})),a=x}else _.type===8?a=document.createElement("br"):_.type===1&&(a=w);a&&w!==a&&w.appendChild(a),a&&Array.isArray(_.children)&&_.children.forEach(x=>{W(a,x,f,m)})}function A(w,_){const f={type:1,children:[]};let m=0,a=f;const x=[],k=new y(w);for(;!k.eos();){let T=k.next();const N=T==="\\"&&I(k.peek(),_)!==0;if(N&&(T=k.next()),!N&&M(T,_)&&T===k.peek()){k.advance(),a.type===2&&(a=x.pop());const L=I(T,_);if(a.type===L||a.type===5&&L===6)a=x.pop();else{const R={type:L,children:[]};L===5&&(R.index=m,m++),a.children.push(R),x.push(a),a=R}}else if(T===`
`)a.type===2&&(a=x.pop()),a.children.push({type:8});else if(a.type!==2){const L={type:2,content:T};a.children.push(L),x.push(a),a=L}else a.content+=T}return a.type===2&&(a=x.pop()),x.length,f}function M(w,_){return I(w,_)!==0}function I(w,_){switch(w){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return _?7:0;default:return 0}}},14401:function(it,Ee,l){"use strict";l.d(Ee,{Z:function(){return A},e:function(){return W}});var C=l(50082),d=l(95429),z=l(26934),O=l(1405),y=l(24180);function W(M,I){let w=new z.n(I);return w.preventDefault(),{leftButton:w.leftButton,buttons:w.buttons,posx:w.posx,posy:w.posy}}class A{constructor(){this._hooks=new O.SL,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(I,w){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const _=this._onStopCallback;this._onStopCallback=null,I&&_&&_(w)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(I,w,_,f,m){if(this.isMonitoring())return;this._mouseMoveEventMerger=_,this._mouseMoveCallback=f,this._onStopCallback=m;const a=d.E.getSameOriginWindowChain(),x=y.gn?"pointermove":"mousemove",k="mouseup",T=a.map(L=>L.window.document),N=C.Ay(I);N&&T.unshift(N);for(const L of T)this._hooks.add(C.Y_(L,x,R=>{if(R.buttons!==w){this.stopMonitoring(!0);return}this._mouseMoveCallback(R)},(R,b)=>this._mouseMoveEventMerger(R,b))),this._hooks.add(C.nm(L,k,R=>this.stopMonitoring(!0)));if(d.E.hasDifferentOriginAncestor()){let L=a[a.length-1];this._hooks.add(C.nm(L.window.document,"mouseout",R=>{new z.n(R).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(C.nm(L.window.document,"mouseover",R=>{new z.n(R).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(C.nm(L.window.document.body,"mouseleave",R=>{this.stopMonitoring(!0)}))}}}},95429:function(it,Ee,l){"use strict";l.d(Ee,{E:function(){return O}});let C=!1,d=null;function z(y){if(!y.parent||y.parent===y)return null;try{let W=y.location,A=y.parent.location;if(W.origin!=="null"&&A.origin!=="null"&&W.origin!==A.origin)return C=!0,null}catch(W){return C=!0,null}return y.parent}class O{static getSameOriginWindowChain(){if(!d){d=[];let W=window,A;do A=z(W),A?d.push({window:W,iframeElement:W.frameElement||null}):d.push({window:W,iframeElement:null}),W=A;while(W)}return d.slice(0)}static hasDifferentOriginAncestor(){return d||this.getSameOriginWindowChain(),C}static getPositionOfChildWindowRelativeToAncestorWindow(W,A){if(!A||W===A)return{top:0,left:0};let M=0,I=0,w=this.getSameOriginWindowChain();for(const _ of w){if(M+=_.window.scrollY,I+=_.window.scrollX,_.window===A||!_.iframeElement)break;let f=_.iframeElement.getBoundingClientRect();M+=f.top,I+=f.left}return{top:M,left:I}}}},16259:function(it,Ee,l){"use strict";l.d(Ee,{y:function(){return w}});var C=l(50731),d=l(52972),z=l(66534),O=l(24180);function y(_){if(_.charCode){let m=String.fromCharCode(_.charCode).toUpperCase();return d.kL.fromString(m)}const f=_.keyCode;if(f===3)return 7;if(C.isFirefox){if(f===59)return 80;if(f===107)return 81;if(f===109)return 83;if(O.dz&&f===224)return 57}else if(C.isWebKit){if(f===91)return 57;if(O.dz&&f===93)return 57;if(!O.dz&&f===92)return 57}return d.H_[f]||0}const W=O.dz?256:2048,A=512,M=1024,I=O.dz?2048:256;class w{constructor(f){this._standardKeyboardEventBrand=!0;let m=f;this.browserEvent=m,this.target=m.target,this.ctrlKey=m.ctrlKey,this.shiftKey=m.shiftKey,this.altKey=m.altKey,this.metaKey=m.metaKey,this.keyCode=y(m),this.code=m.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(f){return this._asKeybinding===f}_computeKeybinding(){let f=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(f=this.keyCode);let m=0;return this.ctrlKey&&(m|=W),this.altKey&&(m|=A),this.shiftKey&&(m|=M),this.metaKey&&(m|=I),m|=f,m}_computeRuntimeKeybinding(){let f=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(f=this.keyCode),new z.QC(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,f)}}},26934:function(it,Ee,l){"use strict";l.d(Ee,{n:function(){return O},q:function(){return y}});var C=l(50731),d=l(95429),z=l(24180);class O{constructor(A){this.timestamp=Date.now(),this.browserEvent=A,this.leftButton=A.button===0,this.middleButton=A.button===1,this.rightButton=A.button===2,this.buttons=A.buttons,this.target=A.target,this.detail=A.detail||1,A.type==="dblclick"&&(this.detail=2),this.ctrlKey=A.ctrlKey,this.shiftKey=A.shiftKey,this.altKey=A.altKey,this.metaKey=A.metaKey,typeof A.pageX=="number"?(this.posx=A.pageX,this.posy=A.pageY):(this.posx=A.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=A.clientY+document.body.scrollTop+document.documentElement.scrollTop);let M=d.E.getPositionOfChildWindowRelativeToAncestorWindow(self,A.view);this.posx-=M.left,this.posy-=M.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class y{constructor(A,M=0,I=0){if(this.browserEvent=A||null,this.target=A?A.target||A.targetNode||A.srcElement:null,this.deltaY=I,this.deltaX=M,A){let w=A,_=A;if(typeof w.wheelDeltaY!="undefined")this.deltaY=w.wheelDeltaY/120;else if(typeof _.VERTICAL_AXIS!="undefined"&&_.axis===_.VERTICAL_AXIS)this.deltaY=-_.detail/3;else if(A.type==="wheel"){const f=A;f.deltaMode===f.DOM_DELTA_LINE?C.isFirefox&&!z.dz?this.deltaY=-A.deltaY/3:this.deltaY=-A.deltaY:this.deltaY=-A.deltaY/40}if(typeof w.wheelDeltaX!="undefined")C.isSafari&&z.ED?this.deltaX=-(w.wheelDeltaX/120):this.deltaX=w.wheelDeltaX/120;else if(typeof _.HORIZONTAL_AXIS!="undefined"&&_.axis===_.HORIZONTAL_AXIS)this.deltaX=-A.detail/3;else if(A.type==="wheel"){const f=A;f.deltaMode===f.DOM_DELTA_LINE?C.isFirefox&&!z.dz?this.deltaX=-A.deltaX/3:this.deltaX=-A.deltaX:this.deltaX=-A.deltaX/40}this.deltaY===0&&this.deltaX===0&&A.wheelDelta&&(this.deltaY=A.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}},50364:function(it,Ee,l){"use strict";l.d(Ee,{o:function(){return A},t:function(){return W}});var C=l(50082),d=l(825),z=l(52069),O=l(1405),y=function(M,I,w,_){var f=arguments.length,m=f<3?I:_===null?_=Object.getOwnPropertyDescriptor(I,w):_,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(M,I,w,_);else for(var x=M.length-1;x>=0;x--)(a=M[x])&&(m=(f<3?a(m):f>3?a(I,w,m):a(I,w))||m);return f>3&&m&&Object.defineProperty(I,w,m),m},W;(function(M){M.Tap="-monaco-gesturetap",M.Change="-monaco-gesturechange",M.Start="-monaco-gesturestart",M.End="-monaco-gesturesend",M.Contextmenu="-monaco-gesturecontextmenu"})(W||(W={}));class A extends O.JT{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(C.nm(document,"touchstart",I=>this.onTouchStart(I),{passive:!1})),this._register(C.nm(document,"touchend",I=>this.onTouchEnd(I))),this._register(C.nm(document,"touchmove",I=>this.onTouchMove(I),{passive:!1}))}static addTarget(I){return A.isTouchDevice()?(A.INSTANCE||(A.INSTANCE=new A),A.INSTANCE.targets.push(I),{dispose:()=>{A.INSTANCE.targets=A.INSTANCE.targets.filter(w=>w!==I)}}):O.JT.None}static ignoreTarget(I){return A.isTouchDevice()?(A.INSTANCE||(A.INSTANCE=new A),A.INSTANCE.ignoreTargets.push(I),{dispose:()=>{A.INSTANCE.ignoreTargets=A.INSTANCE.ignoreTargets.filter(w=>w!==I)}}):O.JT.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(I){let w=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let _=0,f=I.targetTouches.length;_<f;_++){let m=I.targetTouches.item(_);this.activeTouches[m.identifier]={id:m.identifier,initialTarget:m.target,initialTimeStamp:w,initialPageX:m.pageX,initialPageY:m.pageY,rollingTimestamps:[w],rollingPageX:[m.pageX],rollingPageY:[m.pageY]};let a=this.newGestureEvent(W.Start,m.target);a.pageX=m.pageX,a.pageY=m.pageY,this.dispatchEvent(a)}this.dispatched&&(I.preventDefault(),I.stopPropagation(),this.dispatched=!1)}onTouchEnd(I){let w=Date.now(),_=Object.keys(this.activeTouches).length;for(let f=0,m=I.changedTouches.length;f<m;f++){let a=I.changedTouches.item(f);if(!this.activeTouches.hasOwnProperty(String(a.identifier))){console.warn("move of an UNKNOWN touch",a);continue}let x=this.activeTouches[a.identifier],k=Date.now()-x.initialTimeStamp;if(k<A.HOLD_DELAY&&Math.abs(x.initialPageX-d.Gb(x.rollingPageX))<30&&Math.abs(x.initialPageY-d.Gb(x.rollingPageY))<30){let T=this.newGestureEvent(W.Tap,x.initialTarget);T.pageX=d.Gb(x.rollingPageX),T.pageY=d.Gb(x.rollingPageY),this.dispatchEvent(T)}else if(k>=A.HOLD_DELAY&&Math.abs(x.initialPageX-d.Gb(x.rollingPageX))<30&&Math.abs(x.initialPageY-d.Gb(x.rollingPageY))<30){let T=this.newGestureEvent(W.Contextmenu,x.initialTarget);T.pageX=d.Gb(x.rollingPageX),T.pageY=d.Gb(x.rollingPageY),this.dispatchEvent(T)}else if(_===1){let T=d.Gb(x.rollingPageX),N=d.Gb(x.rollingPageY),L=d.Gb(x.rollingTimestamps)-x.rollingTimestamps[0],R=T-x.rollingPageX[0],b=N-x.rollingPageY[0];const P=this.targets.filter(V=>x.initialTarget instanceof Node&&V.contains(x.initialTarget));this.inertia(P,w,Math.abs(R)/L,R>0?1:-1,T,Math.abs(b)/L,b>0?1:-1,N)}this.dispatchEvent(this.newGestureEvent(W.End,x.initialTarget)),delete this.activeTouches[a.identifier]}this.dispatched&&(I.preventDefault(),I.stopPropagation(),this.dispatched=!1)}newGestureEvent(I,w){let _=document.createEvent("CustomEvent");return _.initEvent(I,!1,!0),_.initialTarget=w,_.tapCount=0,_}dispatchEvent(I){if(I.type===W.Tap){const w=new Date().getTime();let _=0;w-this._lastSetTapCountTime>A.CLEAR_TAP_COUNT_TIME?_=1:_=2,this._lastSetTapCountTime=w,I.tapCount=_}else(I.type===W.Change||I.type===W.Contextmenu)&&(this._lastSetTapCountTime=0);for(let w=0;w<this.ignoreTargets.length;w++)if(I.initialTarget instanceof Node&&this.ignoreTargets[w].contains(I.initialTarget))return;this.targets.forEach(w=>{I.initialTarget instanceof Node&&w.contains(I.initialTarget)&&(w.dispatchEvent(I),this.dispatched=!0)})}inertia(I,w,_,f,m,a,x,k){this.handle=C.jL(()=>{let T=Date.now(),N=T-w,L=0,R=0,b=!0;_+=A.SCROLL_FRICTION*N,a+=A.SCROLL_FRICTION*N,_>0&&(b=!1,L=f*_*N),a>0&&(b=!1,R=x*a*N);let P=this.newGestureEvent(W.Change);P.translationX=L,P.translationY=R,I.forEach(V=>V.dispatchEvent(P)),b||this.inertia(I,T,_,f,m+L,a,x,k+R)})}onTouchMove(I){let w=Date.now();for(let _=0,f=I.changedTouches.length;_<f;_++){let m=I.changedTouches.item(_);if(!this.activeTouches.hasOwnProperty(String(m.identifier))){console.warn("end of an UNKNOWN touch",m);continue}let a=this.activeTouches[m.identifier],x=this.newGestureEvent(W.Change,a.initialTarget);x.translationX=m.pageX-d.Gb(a.rollingPageX),x.translationY=m.pageY-d.Gb(a.rollingPageY),x.pageX=m.pageX,x.pageY=m.pageY,this.dispatchEvent(x),a.rollingPageX.length>3&&(a.rollingPageX.shift(),a.rollingPageY.shift(),a.rollingTimestamps.shift()),a.rollingPageX.push(m.pageX),a.rollingPageY.push(m.pageY),a.rollingTimestamps.push(w)}this.dispatched&&(I.preventDefault(),I.stopPropagation(),this.dispatched=!1)}}A.SCROLL_FRICTION=-.005,A.HOLD_DELAY=700,A.CLEAR_TAP_COUNT_TIME=400,y([z.H],A,"isTouchDevice",null)},96050:function(it,Ee,l){"use strict";l.d(Ee,{Y:function(){return _},g:function(){return f}});var C=l(50731),d=l(78333),z=l(50082),O=l(50364),y=l(83337),W=l(1405),A=l(24180),M=l(37061),I=l(29841),w=l(82215);class _ extends W.JT{constructor(a,x,k={}){super(),this.options=k,this._context=a||this,this._action=x,x instanceof y.aU&&this._register(x.onDidChange(T=>{!this.element||this.handleActionChangeEvent(T)}))}handleActionChangeEvent(a){a.enabled!==void 0&&this.updateEnabled(),a.checked!==void 0&&this.updateChecked(),a.class!==void 0&&this.updateClass(),a.label!==void 0&&(this.updateLabel(),this.updateTooltip()),a.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new y.Wi)),this._actionRunner}set actionRunner(a){this._actionRunner=a}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(a){this._context=a}render(a){const x=this.element=a;this._register(O.o.addTarget(a));const k=this.options&&this.options.draggable;k&&(a.draggable=!0,C.isFirefox&&this._register((0,z.nm)(a,z.tw.DRAG_START,T=>{var N;return(N=T.dataTransfer)===null||N===void 0?void 0:N.setData(d.go.TEXT,this._action.label)}))),this._register((0,z.nm)(x,O.t.Tap,T=>this.onClick(T,!0))),this._register((0,z.nm)(x,z.tw.MOUSE_DOWN,T=>{k||z.zB.stop(T,!0),this._action.enabled&&T.button===0&&x.classList.add("active")})),A.dz&&this._register((0,z.nm)(x,z.tw.CONTEXT_MENU,T=>{T.button===0&&T.ctrlKey===!0&&this.onClick(T)})),this._register((0,z.nm)(x,z.tw.CLICK,T=>{z.zB.stop(T,!0),this.options&&this.options.isMenu||this.onClick(T)})),this._register((0,z.nm)(x,z.tw.DBLCLICK,T=>{z.zB.stop(T,!0)})),[z.tw.MOUSE_UP,z.tw.MOUSE_OUT].forEach(T=>{this._register((0,z.nm)(x,T,N=>{z.zB.stop(N),x.classList.remove("active")}))})}onClick(a,x=!1){var k;z.zB.stop(a,!0);const T=M.Jp(this._context)?!((k=this.options)===null||k===void 0)&&k.useEventAsContext?a:{preserveFocus:x}:this._context;this.actionRunner.run(this._action,T)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(a){this.element&&(this.element.tabIndex=a?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}class f extends _{constructor(a,x,k={}){super(a,x,k),this.options=k,this.options.icon=k.icon!==void 0?k.icon:!1,this.options.label=k.label!==void 0?k.label:!0,this.cssClass=""}render(a){super.render(a),this.element&&(this.label=(0,z.R3)(this.element,(0,z.$)("a.action-label"))),this.label&&(this._action.id===y.Z0.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&((0,z.R3)(this.element,(0,z.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(a){this.label&&(this.label.tabIndex=a?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let a=null;this.getAction().tooltip?a=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(a=this.getAction().label,this.options.keybinding&&(a=w.N({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",a,this.options.keybinding))),a&&this.label&&(this.label.title=a)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}},46984:function(it,Ee,l){"use strict";l.d(Ee,{o:function(){return w}});var C=l(50082),d=l(16259),z=l(96050),O=l(83337),y=l(60774),W=l(1405),A=l(37061),M=l(29841),I=function(_,f,m,a){function x(k){return k instanceof m?k:new m(function(T){T(k)})}return new(m||(m=Promise))(function(k,T){function N(b){try{R(a.next(b))}catch(P){T(P)}}function L(b){try{R(a.throw(b))}catch(P){T(P)}}function R(b){b.done?k(b.value):x(b.value).then(N,L)}R((a=a.apply(_,f||[])).next())})};class w extends W.JT{constructor(f,m={}){var a,x,k,T,N,L;super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new y.Q5),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new y.Q5({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new y.Q5),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new y.Q5),this.onBeforeRun=this._onBeforeRun.event,this.options=m,this._context=(a=m.context)!==null&&a!==void 0?a:null,this._orientation=(x=this.options.orientation)!==null&&x!==void 0?x:0,this._triggerKeys={keyDown:(T=(k=this.options.triggerKeys)===null||k===void 0?void 0:k.keyDown)!==null&&T!==void 0?T:!1,keys:(L=(N=this.options.triggerKeys)===null||N===void 0?void 0:N.keys)!==null&&L!==void 0?L:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new O.Wi,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(P=>this._onDidRun.fire(P))),this._register(this._actionRunner.onBeforeRun(P=>this._onBeforeRun.fire(P))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",m.animated!==!1&&this.domNode.classList.add("animated");let R,b;switch(this._orientation){case 0:R=[15],b=[17];break;case 1:R=[16],b=[18],this.domNode.className+=" vertical";break}this._register(C.nm(this.domNode,C.tw.KEY_DOWN,P=>{const V=new d.y(P);let H=!0;const ee=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;R&&(V.equals(R[0])||V.equals(R[1]))?H=this.focusPrevious():b&&(V.equals(b[0])||V.equals(b[1]))?H=this.focusNext():V.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():V.equals(14)?H=this.focusFirst():V.equals(13)?H=this.focusLast():V.equals(2)&&ee instanceof z.Y&&ee.trapsArrowNavigation?H=this.focusNext():this.isTriggerKeyEvent(V)?this._triggerKeys.keyDown?this.doTrigger(V):this.triggerKeyDown=!0:H=!1,H&&(V.preventDefault(),V.stopPropagation())})),this._register(C.nm(this.domNode,C.tw.KEY_UP,P=>{const V=new d.y(P);this.isTriggerKeyEvent(V)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(V)),V.preventDefault(),V.stopPropagation()):(V.equals(2)||V.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(C.go(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(C.vY()===this.domNode||!C.jg(C.vY(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),f.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role","toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(f){if(this.focusable=f,this.focusable){const m=this.viewItems.find(a=>a instanceof z.Y&&a.isEnabled());m instanceof z.Y&&m.setFocusable(!0)}else this.viewItems.forEach(m=>{m instanceof z.Y&&m.setFocusable(!1)})}isTriggerKeyEvent(f){let m=!1;return this._triggerKeys.keys.forEach(a=>{m=m||f.equals(a)}),m}updateFocusedItem(){for(let f=0;f<this.actionsList.children.length;f++){const m=this.actionsList.children[f];if(C.jg(C.vY(),m)){this.focusedItem=f;break}}}get context(){return this._context}set context(f){this._context=f,this.viewItems.forEach(m=>m.setActionContext(f))}get actionRunner(){return this._actionRunner}set actionRunner(f){f&&(this._actionRunner=f,this.viewItems.forEach(m=>m.actionRunner=f))}getContainer(){return this.domNode}push(f,m={}){const a=Array.isArray(f)?f:[f];let x=A.hj(m.index)?m.index:null;a.forEach(k=>{const T=document.createElement("li");T.className="action-item",T.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(C.nm(T,C.tw.CONTEXT_MENU,L=>{C.zB.stop(L,!0)}));let N;this.options.actionViewItemProvider&&(N=this.options.actionViewItemProvider(k)),N||(N=new z.g(this.context,k,m)),N.actionRunner=this._actionRunner,N.setActionContext(this.context),N.render(T),this.focusable&&N instanceof z.Y&&this.viewItems.length===0&&N.setFocusable(!0),x===null||x<0||x>=this.actionsList.children.length?(this.actionsList.appendChild(T),this.viewItems.push(N),this._actionIds.push(k.id)):(this.actionsList.insertBefore(T,this.actionsList.children[x]),this.viewItems.splice(x,0,N),this._actionIds.splice(x,0,k.id),x++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){(0,W.B9)(this.viewItems),this.viewItems=[],this._actionIds=[],C.PO(this.actionsList),this.refreshRole()}length(){return this.viewItems.length}focus(f){let m=!1,a;if(f===void 0?m=!0:typeof f=="number"?a=f:typeof f=="boolean"&&(m=f),m&&typeof this.focusedItem=="undefined"){const x=this.viewItems.findIndex(k=>k.isEnabled());this.focusedItem=x===-1?void 0:x,this.updateFocus(void 0,void 0,!0)}else a!==void 0&&(this.focusedItem=a),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(f){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const m=this.focusedItem;let a;do{if(!f&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=m,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,a=this.viewItems[this.focusedItem]}while(this.focusedItem!==m&&this.options.focusOnlyEnabledItems&&!a.isEnabled());return this.updateFocus(),!0}focusPrevious(f){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const m=this.focusedItem;let a;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!f&&this.options.preventLoopNavigation)return this.focusedItem=m,!1;this.focusedItem=this.viewItems.length-1}a=this.viewItems[this.focusedItem]}while(this.focusedItem!==m&&this.options.focusOnlyEnabledItems&&!a.isEnabled());return this.updateFocus(!0),!0}updateFocus(f,m,a=!1){var x;typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:m}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((x=this.viewItems[this.previouslyFocusedItem])===null||x===void 0||x.blur());const k=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(k){let T=!0;A.mf(k.focus)||(T=!1),this.options.focusOnlyEnabledItems&&A.mf(k.isEnabled)&&!k.isEnabled()&&(T=!1),T?(a||this.previouslyFocusedItem!==this.focusedItem)&&(k.focus(f),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:m}),this.previouslyFocusedItem=void 0)}}doTrigger(f){if(typeof this.focusedItem=="undefined")return;const m=this.viewItems[this.focusedItem];if(m instanceof z.Y){const a=m._context===null||m._context===void 0?f:m._context;this.run(m._action,a)}}run(f,m){return I(this,void 0,void 0,function*(){yield this._actionRunner.run(f,m)})}dispose(){(0,W.B9)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}},74749:function(it,Ee,l){"use strict";l.d(Ee,{Z9:function(){return w},wW:function(){return I},i7:function(){return _}});var C=l(50082),d=l(24180);const z=2e4;let O,y,W,A,M;function I(m){O=document.createElement("div"),O.className="monaco-aria-container";const a=()=>{const k=document.createElement("div");return k.className="monaco-alert",k.setAttribute("role","alert"),k.setAttribute("aria-atomic","true"),O.appendChild(k),k};y=a(),W=a();const x=()=>{const k=document.createElement("div");return k.className="monaco-status",k.setAttribute("role","complementary"),k.setAttribute("aria-live","polite"),k.setAttribute("aria-atomic","true"),O.appendChild(k),k};A=x(),M=x(),m.appendChild(O)}function w(m){!O||(y.textContent!==m?(C.PO(W),f(y,m)):(C.PO(y),f(W,m)))}function _(m){!O||(d.dz?w(m):A.textContent!==m?(C.PO(M),f(A,m)):(C.PO(A),f(M,m)))}function f(m,a){C.PO(m),a.length>z&&(a=a.substr(0,z)),m.textContent=a,m.style.visibility="hidden",m.style.visibility="visible"}},63073:function(it,Ee,l){"use strict";l.d(Ee,{a:function(){return d}});var C=l(74696);function d(z){let O=z.definition;for(;O instanceof C.lA;)O=O.definition;return`.codicon-${z.id}:before { content: '${O.fontCharacter}'; }`}},33074:function(it,Ee,l){"use strict";l.d(Ee,{Z:function(){return W}});var C=l(50082),d=l(8957),z=l(42893),O=l(76311);const y={badgeBackground:d.Il.fromHex("#4D4D4D"),badgeForeground:d.Il.fromHex("#FFFFFF")};class W{constructor(M,I){this.count=0,this.options=I||Object.create(null),(0,z.jB)(this.options,y,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,C.R3)(M,(0,C.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(M){this.count=M,this.render()}setTitleFormat(M){this.titleFormat=M,this.render()}render(){this.element.textContent=(0,O.WU)(this.countFormat,this.count),this.element.title=(0,O.WU)(this.titleFormat,this.count),this.applyStyles()}style(M){this.badgeBackground=M.badgeBackground,this.badgeForeground=M.badgeForeground,this.badgeBorder=M.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const M=this.badgeBackground?this.badgeBackground.toString():"",I=this.badgeForeground?this.badgeForeground.toString():"",w=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=M,this.element.style.color=I,this.element.style.borderWidth=w?"1px":"",this.element.style.borderStyle=w?"solid":"",this.element.style.borderColor=w}}}},62559:function(it,Ee,l){"use strict";l.d(Ee,{q:function(){return O}});var C=l(50082),d=l(41612),z=l(42893);class O{constructor(W,A){var M;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(M=A==null?void 0:A.supportIcons)!==null&&M!==void 0?M:!1,this.domNode=C.R3(W,C.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(W,A=[],M="",I){W||(W=""),I&&(W=O.escapeNewLines(W,A)),!(this.didEverRender&&this.text===W&&this.title===M&&z.fS(this.highlights,A))&&(this.text=W,this.title=M,this.highlights=A,this.render())}render(){const W=[];let A=0;for(const M of this.highlights){if(M.end===M.start)continue;if(A<M.start){const _=this.text.substring(A,M.start);W.push(C.$("span",void 0,...this.supportIcons?(0,d.T)(_):[_])),A=M.end}const I=this.text.substring(M.start,M.end),w=C.$("span.highlight",void 0,...this.supportIcons?(0,d.T)(I):[I]);M.extraClasses&&w.classList.add(...M.extraClasses),W.push(w),A=M.end}if(A<this.text.length){const M=this.text.substring(A);W.push(C.$("span",void 0,...this.supportIcons?(0,d.T)(M):[M]))}C.mc(this.domNode,...W),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(W,A){let M=0,I=0;return W.replace(/\r\n|\r|\n/g,(w,_)=>{I=w===`\r
`?-1:0,_+=M;for(const f of A)f.end<=_||(f.start>=_&&(f.start+=I),f.end>=_&&(f.end+=I));return M+=I,"\u23CE"})}}},74188:function(it,Ee,l){"use strict";l.d(Ee,{g:function(){return T}});var C=l(50082),d=l(62559),z=l(57186),O=l(34484),y=l(91903),W=l(65249),A=l(1405),M=l(37061),I=l(82215),w=function(b,P,V,H){function ee(ae){return ae instanceof V?ae:new V(function(me){me(ae)})}return new(V||(V=Promise))(function(ae,me){function ge(X){try{se(H.next(X))}catch($){me($)}}function re(X){try{se(H.throw(X))}catch($){me($)}}function se(X){X.done?ae(X.value):ee(X.value).then(ge,re)}se((H=H.apply(b,P||[])).next())})};function _(b,P){(0,M.HD)(P)?b.title=(0,W.x$)(P):P!=null&&P.markdownNotSupportedFallback?b.title=P.markdownNotSupportedFallback:b.removeAttribute("title")}class f{constructor(P,V,H){this.hoverDelegate=P,this.target=V,this.fadeInAnimation=H}update(P,V){var H;return w(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let ee;if(P===void 0||(0,M.HD)(P)||P instanceof HTMLElement)ee=P;else if(!(0,M.mf)(P.markdown))ee=(H=P.markdown)!==null&&H!==void 0?H:P.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,I.N)("iconLabel.loading","Loading..."),V),this._cancellationTokenSource=new O.A;const ae=this._cancellationTokenSource.token;if(ee=yield P.markdown(ae),ee===void 0&&(ee=P.markdownNotSupportedFallback),this.isDisposed||ae.isCancellationRequested)return}this.show(ee,V)})}show(P,V){const H=this._hoverWidget;if(this.hasContent(P)){const ee={content:P,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!H};this._hoverWidget=this.hoverDelegate.showHover(ee,V)}H==null||H.dispose()}hasContent(P){return P?(0,y.Fr)(P)?!!P.value:!0:!1}get isDisposed(){var P;return(P=this._hoverWidget)===null||P===void 0?void 0:P.isDisposed}dispose(){var P,V;(P=this._hoverWidget)===null||P===void 0||P.dispose(),(V=this._cancellationTokenSource)===null||V===void 0||V.dispose(!0),this._cancellationTokenSource=void 0}}function m(b,P,V){let H,ee;const ae=(X,$)=>{var j;X&&(ee==null||ee.dispose(),ee=void 0),$&&(H==null||H.dispose(),H=void 0),(j=b.onDidHideHover)===null||j===void 0||j.call(b)},me=(X,$,j)=>new z._F(()=>w(this,void 0,void 0,function*(){(!ee||ee.isDisposed)&&(ee=new f(b,j||P,X>0),yield ee.update(V,$))}),X),ge=()=>{if(H)return;const X=new A.SL,$=J=>ae(!1,J.fromElement===P);X.add(C.nm(P,C.tw.MOUSE_LEAVE,$,!0));const j=()=>ae(!0,!0);X.add(C.nm(P,C.tw.MOUSE_DOWN,j,!0));const ie={targetElements:[P],dispose:()=>{}};if(b.placement===void 0||b.placement==="mouse"){const J=oe=>ie.x=oe.x+10;X.add(C.nm(P,C.tw.MOUSE_MOVE,J,!0))}X.add(me(b.delay,!1,ie)),H=X},re=C.nm(P,C.tw.MOUSE_OVER,ge,!0);return{show:X=>{ae(!1,!0),me(0,X)},hide:()=>{ae(!0,!0)},update:X=>w(this,void 0,void 0,function*(){V=X,yield ee==null?void 0:ee.update(V)}),dispose:()=>{re.dispose(),ae(!0,!0)}}}var a=l(42893),x=l(51741);class k{constructor(P){this._element=P}get element(){return this._element}set textContent(P){this.disposed||P===this._textContent||(this._textContent=P,this._element.textContent=P)}set className(P){this.disposed||P===this._className||(this._className=P,this._element.className=P)}set empty(P){this.disposed||P===this._empty||(this._empty=P,this._element.style.marginLeft=P?"0":"")}dispose(){this.disposed=!0}}class T extends A.JT{constructor(P,V){super(),this.customHovers=new Map,this.domNode=this._register(new k(C.R3(P,C.$(".monaco-icon-label")))),this.labelContainer=C.R3(this.domNode.element,C.$(".monaco-icon-label-container"));const H=C.R3(this.labelContainer,C.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new k(C.R3(this.labelContainer,C.$("span.monaco-icon-description-container")))),(V==null?void 0:V.supportHighlights)||(V==null?void 0:V.supportIcons)?this.nameNode=new R(H,!!V.supportIcons):this.nameNode=new N(H),V!=null&&V.supportDescriptionHighlights?this.descriptionNodeFactory=()=>new d.q(C.R3(this.descriptionContainer.element,C.$("span.label-description")),{supportIcons:!!V.supportIcons}):this.descriptionNodeFactory=()=>this._register(new k(C.R3(this.descriptionContainer.element,C.$("span.label-description")))),this.hoverDelegate=V==null?void 0:V.hoverDelegate}get element(){return this.domNode.element}setLabel(P,V,H){const ee=["monaco-icon-label"];H&&(H.extraClasses&&ee.push(...H.extraClasses),H.italic&&ee.push("italic"),H.strikethrough&&ee.push("strikethrough")),this.domNode.className=ee.join(" "),this.setupHover(H!=null&&H.descriptionTitle?this.labelContainer:this.element,H==null?void 0:H.title),this.nameNode.setLabel(P,H),(V||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof d.q?(this.descriptionNode.set(V||"",H?H.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,H==null?void 0:H.descriptionTitle)):(this.descriptionNode.textContent=V||"",this.setupHover(this.descriptionNode.element,(H==null?void 0:H.descriptionTitle)||""),this.descriptionNode.empty=!V))}setupHover(P,V){const H=this.customHovers.get(P);if(H&&(H.dispose(),this.customHovers.delete(P)),!V){P.removeAttribute("title");return}if(!this.hoverDelegate)_(P,V);else{const ee=m(this.hoverDelegate,P,V);ee&&this.customHovers.set(P,ee)}}dispose(){super.dispose();for(const P of this.customHovers.values())P.dispose();this.customHovers.clear()}}class N{constructor(P){this.container=P,this.label=void 0,this.singleLabel=void 0}setLabel(P,V){if(!(this.label===P&&(0,a.fS)(this.options,V)))if(this.label=P,this.options=V,typeof P=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=C.R3(this.container,C.$("a.label-name",{id:V==null?void 0:V.domId}))),this.singleLabel.textContent=P;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let H=0;H<P.length;H++){const ee=P[H],ae=(V==null?void 0:V.domId)&&`${V==null?void 0:V.domId}_${H}`;C.R3(this.container,C.$("a.label-name",{id:ae,"data-icon-label-count":P.length,"data-icon-label-index":H,role:"treeitem"},ee)),H<P.length-1&&C.R3(this.container,C.$("span.label-separator",void 0,(V==null?void 0:V.separator)||"/"))}}}}function L(b,P,V){if(!V)return;let H=0;return b.map(ee=>{const ae={start:H,end:H+ee.length},me=V.map(ge=>x.e.intersect(ae,ge)).filter(ge=>!x.e.isEmpty(ge)).map(({start:ge,end:re})=>({start:ge-H,end:re-H}));return H=ae.end+P.length,me})}class R{constructor(P,V){this.container=P,this.supportIcons=V,this.label=void 0,this.singleLabel=void 0}setLabel(P,V){if(!(this.label===P&&(0,a.fS)(this.options,V)))if(this.label=P,this.options=V,typeof P=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new d.q(C.R3(this.container,C.$("a.label-name",{id:V==null?void 0:V.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(P,V==null?void 0:V.matches,void 0,V==null?void 0:V.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const H=(V==null?void 0:V.separator)||"/",ee=L(P,H,V==null?void 0:V.matches);for(let ae=0;ae<P.length;ae++){const me=P[ae],ge=ee?ee[ae]:void 0,re=(V==null?void 0:V.domId)&&`${V==null?void 0:V.domId}_${ae}`,se=C.$("a.label-name",{id:re,"data-icon-label-count":P.length,"data-icon-label-index":ae,role:"treeitem"});new d.q(C.R3(this.container,se),{supportIcons:this.supportIcons}).set(me,ge,void 0,V==null?void 0:V.labelEscapeNewLines),ae<P.length-1&&C.R3(se,C.$("span.label-separator",void 0,H))}}}}},41612:function(it,Ee,l){"use strict";l.d(Ee,{T:function(){return O}});var C=l(50082),d=l(74696);const z=new RegExp(`(\\\\)?\\$\\((${d.dT.iconNameExpression}(?:${d.dT.iconModifierExpression})?)\\)`,"g");function O(W){const A=new Array;let M,I=0,w=0;for(;(M=z.exec(W))!==null;){w=M.index||0,A.push(W.substring(I,w)),I=(M.index||0)+M[0].length;const[,_,f]=M;A.push(_?`$(${f})`:y({id:f}))}return I<W.length&&A.push(W.substring(I)),A}function y(W){const A=C.$("span");return A.classList.add(...d.dT.asClassNameArray(W)),A}},99627:function(it,Ee,l){"use strict";l.d(Ee,{p:function(){return T},W:function(){return k}});var C=l(50082),d=l(30053),z=l(39266),O=l(46984),y=l(74749),W=l(25451),A=l(31246),M=l(8957),I=l(60774);class w{constructor(L,R=0,b=L.length,P=R-1){this.items=L,this.start=R,this.end=b,this.index=P}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class _{constructor(L=[],R=10){this._initialize(L),this._limit=R,this._onChange()}getHistory(){return this._elements}add(L){this._history.delete(L),this._history.add(L),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(L){return this._history.has(L)}_onChange(){this._reduceToLimit();const L=this._elements;this._navigator=new w(L,0,L.length,L.length)}_reduceToLimit(){const L=this._elements;L.length>this._limit&&this._initialize(L.slice(L.length-this._limit))}_currentPosition(){const L=this._navigator.current();return L?this._elements.indexOf(L):-1}_initialize(L){this._history=new Set;for(const R of L)this._history.add(R)}get _elements(){const L=[];return this._history.forEach(R=>L.push(R)),L}}var f=l(42893),m=l(82215);const a=C.$,x={inputBackground:M.Il.fromHex("#3C3C3C"),inputForeground:M.Il.fromHex("#CCCCCC"),inputValidationInfoBorder:M.Il.fromHex("#55AAFF"),inputValidationInfoBackground:M.Il.fromHex("#063B49"),inputValidationWarningBorder:M.Il.fromHex("#B89500"),inputValidationWarningBackground:M.Il.fromHex("#352A05"),inputValidationErrorBorder:M.Il.fromHex("#BE1100"),inputValidationErrorBackground:M.Il.fromHex("#5A1D1D")};class k extends A.${constructor(L,R,b){var P;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new I.Q5),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new I.Q5),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=R,this.options=b||Object.create(null),(0,f.jB)(this.options,x,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(P=this.options.tooltip)!==null&&P!==void 0?P:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=C.R3(L,a(".monaco-inputbox.idle"));let V=this.options.flexibleHeight?"textarea":"input",H=C.R3(this.element,a(".ibwrapper"));if(this.input=C.R3(H,a(V+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=C.R3(H,a("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new W.NB(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),C.R3(L,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(me=>this.input.scrollTop=me.scrollTop));const ee=this._register(new d.Y(document,"selectionchange")),ae=I.ju.filter(ee.event,()=>{const me=document.getSelection();return(me==null?void 0:me.anchorNode)===H});this._register(ae(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new O.o(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(L){this.placeholder=L,this.input.setAttribute("placeholder",L)}setTooltip(L){this.tooltip=L,this.input.title=L}setAriaLabel(L){this.ariaLabel=L,L?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(L){this.input.value!==L&&(this.input.value=L,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:C.wn(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(L=null){this.input.select(),L&&(this.input.setSelectionRange(L.start,L.end),L.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return C.w(this.input)}set width(L){if(this.options.flexibleHeight&&this.options.flexibleWidth){let R=0;if(this.mirror){const b=parseFloat(this.mirror.style.paddingLeft||"")||0,P=parseFloat(this.mirror.style.paddingRight||"")||0;R=b+P}this.input.style.width=L-R+"px"}else this.input.style.width=L+"px";this.mirror&&(this.mirror.style.width=L+"px")}set paddingRight(L){this.input.style.width=`calc(100% - ${L}px)`,this.mirror&&(this.mirror.style.paddingRight=L+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const L=this.cachedContentHeight,R=this.cachedHeight,b=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:L,height:R}),this.scrollableElement.setScrollPosition({scrollTop:b})}showMessage(L,R){this.message=L,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(L.type));const b=this.stylesForType(this.message.type);this.element.style.border=b.border?`1px solid ${b.border}`:"",(this.hasFocus()||R)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let L=null;return this.validation&&(L=this.validation(this.value),L?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(L)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),L==null?void 0:L.type}stylesForType(L){switch(L){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(L){switch(L){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let L,R=()=>L.style.width=C.w(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:P=>{if(!this.message)return null;L=C.R3(P,a(".monaco-inputbox-container")),R();const V={inline:!0,className:"monaco-inputbox-message"},H=this.message.formatContent?(0,z.BO)(this.message.content,V):(0,z.IY)(this.message.content,V);H.classList.add(this.classForType(this.message.type));const ee=this.stylesForType(this.message.type);return H.style.backgroundColor=ee.background?ee.background.toString():"",H.style.color=ee.foreground?ee.foreground.toString():"",H.style.border=ee.border?`1px solid ${ee.border}`:"",C.R3(L,H),null},onHide:()=>{this.state="closed"},layout:R});let b;this.message.type===3?b=m.N("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?b=m.N("alertWarningMessage","Warning: {0}",this.message.content):b=m.N("alertInfoMessage","Info: {0}",this.message.content),y.Z9(b),this.state="open"}_hideMessage(){!this.contextViewProvider||(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const L=this.value,b=L.charCodeAt(L.length-1)===10?" ":"";(L+b).replace(/\u000c/g,"")?this.mirror.textContent=L+b:this.mirror.innerText="\xA0",this.layout()}style(L){this.inputBackground=L.inputBackground,this.inputForeground=L.inputForeground,this.inputBorder=L.inputBorder,this.inputValidationInfoBackground=L.inputValidationInfoBackground,this.inputValidationInfoForeground=L.inputValidationInfoForeground,this.inputValidationInfoBorder=L.inputValidationInfoBorder,this.inputValidationWarningBackground=L.inputValidationWarningBackground,this.inputValidationWarningForeground=L.inputValidationWarningForeground,this.inputValidationWarningBorder=L.inputValidationWarningBorder,this.inputValidationErrorBackground=L.inputValidationErrorBackground,this.inputValidationErrorForeground=L.inputValidationErrorForeground,this.inputValidationErrorBorder=L.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const L=this.inputBackground?this.inputBackground.toString():"",R=this.inputForeground?this.inputForeground.toString():"",b=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=L,this.element.style.color=R,this.input.style.backgroundColor="inherit",this.input.style.color=R,this.element.style.borderWidth=b?"1px":"",this.element.style.borderStyle=b?"solid":"",this.element.style.borderColor=b}layout(){if(!this.mirror)return;const L=this.cachedContentHeight;this.cachedContentHeight=C.wn(this.mirror),L!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(L){const R=this.inputElement,b=R.selectionStart,P=R.selectionEnd,V=R.value;b!==null&&P!==null&&(this.value=V.substr(0,b)+L+V.substr(P),R.setSelectionRange(b+1,b+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class T extends k{constructor(L,R,b){const P=m.N({key:"history.inputbox.hint",comment:["Text will be prefixed with \u21C5 plus a single space, then used as a hint where input field keeps history"]},"for history"),V=` or \u21C5 ${P}`,H=` (\u21C5 ${P})`;super(L,R,b),this.history=new _(b.history,100);const ee=()=>{if(b.showHistoryHint&&b.showHistoryHint()&&!this.placeholder.endsWith(V)&&!this.placeholder.endsWith(H)&&this.history.getHistory().length){const ae=this.placeholder.endsWith(")")?V:H,me=this.placeholder+ae;b.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=me:this.setPlaceHolder(me)}};this.observer=new MutationObserver((ae,me)=>{ae.forEach(ge=>{ge.target.textContent||ee()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>ee()),this.onblur(this.input,()=>{const ae=me=>{if(this.placeholder.endsWith(me)){const ge=this.placeholder.slice(0,this.placeholder.length-me.length);return b.showPlaceholderOnFocus?this.placeholder=ge:this.setPlaceHolder(ge),!0}else return!1};ae(H)||ae(V)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let L=this.getNextValue();L&&(L=L===this.value?this.getNextValue():L),L&&(this.value=L,y.i7(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let L=this.getPreviousValue();L&&(L=L===this.value?this.getPreviousValue():L),L&&(this.value=L,y.i7(this.value))}getCurrentValue(){let L=this.history.current();return L||(L=this.history.last(),this.history.next()),L}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}},77964:function(it,Ee,l){"use strict";l.d(Ee,{kX:function(){return H},Bv:function(){return re}});var C=l(50731),d=l(78333),z=l(50082),O=l(30053),y=l(50364),W=l(25451),A=l(825),M=l(57186),I=l(52069),w=l(60774),_=l(1405),f=l(42893),m=l(51741),a=l(99661);function x(se,X){const $=[];for(let j of X){if(se.start>=j.range.end)continue;if(se.end<j.range.start)break;const ie=m.e.intersect(se,j.range);m.e.isEmpty(ie)||$.push({range:ie,size:j.size})}return $}function k({start:se,end:X},$){return{start:se+$,end:X+$}}function T(se){const X=[];let $=null;for(let j of se){const ie=j.range.start,J=j.range.end,oe=j.size;if($&&oe===$.size){$.range.end=J;continue}$={range:{start:ie,end:J},size:oe},X.push($)}return X}function N(...se){return T(se.reduce((X,$)=>X.concat($),[]))}class L{constructor(){this.groups=[],this._size=0}splice(X,$,j=[]){const ie=j.length-$,J=x({start:0,end:X},this.groups),oe=x({start:X+$,end:Number.POSITIVE_INFINITY},this.groups).map(we=>({range:k(we.range,ie),size:we.size})),ce=j.map((we,Me)=>({range:{start:X+Me,end:X+Me+1},size:we.size}));this.groups=N(J,ce,oe),this._size=this.groups.reduce((we,Me)=>we+Me.size*(Me.range.end-Me.range.start),0)}get count(){const X=this.groups.length;return X?this.groups[X-1].range.end:0}get size(){return this._size}indexAt(X){if(X<0)return-1;let $=0,j=0;for(let ie of this.groups){const J=ie.range.end-ie.range.start,oe=j+J*ie.size;if(X<oe)return $+Math.floor((X-j)/ie.size);$+=J,j=oe}return $}indexAfter(X){return Math.min(this.indexAt(X)+1,this.count)}positionAt(X){if(X<0)return-1;let $=0,j=0;for(let ie of this.groups){const J=ie.range.end-ie.range.start,oe=j+J;if(X<oe)return $+(X-j)*ie.size;$+=J*ie.size,j=oe}return-1}}function R(se){try{se.parentElement&&se.parentElement.removeChild(se)}catch(X){}}class b{constructor(X){this.renderers=X,this.cache=new Map}alloc(X){let $=this.getTemplateCache(X).pop();if(!$){const j=(0,z.$)(".monaco-list-row"),J=this.getRenderer(X).renderTemplate(j);$={domNode:j,templateId:X,templateData:J}}return $}release(X){!X||this.releaseRow(X)}releaseRow(X){const{domNode:$,templateId:j}=X;$&&($.classList.remove("scrolling"),R($)),this.getTemplateCache(j).push(X)}getTemplateCache(X){let $=this.cache.get(X);return $||($=[],this.cache.set(X,$)),$}dispose(){this.cache.forEach((X,$)=>{for(const j of X)this.getRenderer($).disposeTemplate(j.templateData),j.templateData=null}),this.cache.clear()}getRenderer(X){const $=this.renderers.get(X);if(!$)throw new Error(`No renderer found for ${X}`);return $}}var P=function(se,X,$,j){var ie=arguments.length,J=ie<3?X:j===null?j=Object.getOwnPropertyDescriptor(X,$):j,oe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(se,X,$,j);else for(var ce=se.length-1;ce>=0;ce--)(oe=se[ce])&&(J=(ie<3?oe(J):ie>3?oe(X,$,J):oe(X,$))||J);return ie>3&&J&&Object.defineProperty(X,$,J),J};const V={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(se){return[se]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class H{constructor(X){this.elements=X}update(){}getData(){return this.elements}}class ee{constructor(X){this.elements=X}update(){}getData(){return this.elements}}class ae{constructor(){this.types=[],this.files=[]}update(X){if(X.types&&this.types.splice(0,this.types.length,...X.types),X.files){this.files.splice(0,this.files.length);for(let $=0;$<X.files.length;$++){const j=X.files.item($);j&&(j.size||j.type)&&this.files.push(j)}}}getData(){return{types:this.types,files:this.files}}}function me(se,X){return Array.isArray(se)&&Array.isArray(X)?(0,A.fS)(se,X):se===X}class ge{constructor(X){X!=null&&X.getSetSize?this.getSetSize=X.getSetSize.bind(X):this.getSetSize=($,j,ie)=>ie,X!=null&&X.getPosInSet?this.getPosInSet=X.getPosInSet.bind(X):this.getPosInSet=($,j)=>j+1,X!=null&&X.getRole?this.getRole=X.getRole.bind(X):this.getRole=$=>"listitem",X!=null&&X.isChecked?this.isChecked=X.isChecked.bind(X):this.isChecked=$=>{}}}class re{constructor(X,$,j,ie=V){if(this.virtualDelegate=$,this.domId=`list_id_${++re.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new M.vp(50),this.splicing=!1,this.dragOverAnimationStopDisposable=_.JT.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=_.JT.None,this.onDragLeaveTimeout=_.JT.None,this.disposables=new _.SL,this._onDidChangeContentHeight=new w.Q5,this._horizontalScrolling=!1,ie.horizontalScrolling&&ie.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new L;for(const oe of j)this.renderers.set(oe.templateId,oe);this.cache=this.disposables.add(new b(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof ie.mouseSupport=="boolean"?ie.mouseSupport:!0),this._horizontalScrolling=(0,f.CJ)(ie,oe=>oe.horizontalScrolling,V.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof ie.additionalScrollHeight=="undefined"?0:ie.additionalScrollHeight,this.accessibilityProvider=new ge(ie.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(0,f.CJ)(ie,oe=>oe.transformOptimization,V.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(y.o.addTarget(this.rowsContainer)),this.scrollable=new a.Rm({forceIntegerValues:!0,smoothScrollDuration:(0,f.CJ)(ie,oe=>oe.smoothScrolling,!1)?125:0,scheduleAtNextAnimationFrame:oe=>(0,z.jL)(oe)}),this.scrollableElement=this.disposables.add(new W.$Z(this.rowsContainer,{alwaysConsumeMouseWheel:(0,f.CJ)(ie,oe=>oe.alwaysConsumeMouseWheel,V.alwaysConsumeMouseWheel),horizontal:1,vertical:(0,f.CJ)(ie,oe=>oe.verticalScrollMode,V.verticalScrollMode),useShadows:(0,f.CJ)(ie,oe=>oe.useShadows,V.useShadows),mouseWheelScrollSensitivity:ie.mouseWheelScrollSensitivity,fastScrollSensitivity:ie.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),X.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,z.nm)(this.rowsContainer,y.t.Change,oe=>this.onTouchChange(oe))),this.disposables.add((0,z.nm)(this.scrollableElement.getDomNode(),"scroll",oe=>oe.target.scrollTop=0)),this.disposables.add((0,z.nm)(this.domNode,"dragover",oe=>this.onDragOver(this.toDragEvent(oe)))),this.disposables.add((0,z.nm)(this.domNode,"drop",oe=>this.onDrop(this.toDragEvent(oe)))),this.disposables.add((0,z.nm)(this.domNode,"dragleave",oe=>this.onDragLeave(this.toDragEvent(oe)))),this.disposables.add((0,z.nm)(this.domNode,"dragend",oe=>this.onDragEnd(oe))),this.setRowLineHeight=(0,f.CJ)(ie,oe=>oe.setRowLineHeight,V.setRowLineHeight),this.setRowHeight=(0,f.CJ)(ie,oe=>oe.setRowHeight,V.setRowHeight),this.supportDynamicHeights=(0,f.CJ)(ie,oe=>oe.supportDynamicHeights,V.supportDynamicHeights),this.dnd=(0,f.CJ)(ie,oe=>oe.dnd,V.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(X){if(X!==this._horizontalScrolling){if(X&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=X,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const $ of this.items)this.measureItemWidth($);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,z.FK)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(X){X.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=X.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),X.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(X.smoothScrolling?125:0),X.horizontalScrolling!==void 0&&(this.horizontalScrolling=X.horizontalScrolling),X.mouseWheelScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:X.mouseWheelScrollSensitivity}),X.fastScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({fastScrollSensitivity:X.fastScrollSensitivity})}splice(X,$,j=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(X,$,j)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(X,$,j=[]){const ie=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),J={start:X,end:X+$},oe=m.e.intersect(ie,J),ce=new Map;for(let Ge=oe.end-1;Ge>=oe.start;Ge--){const Et=this.items[Ge];if(Et.dragStartDisposable.dispose(),Et.row){let Wt=ce.get(Et.templateId);Wt||(Wt=[],ce.set(Et.templateId,Wt));const Ze=this.renderers.get(Et.templateId);Ze&&Ze.disposeElement&&Ze.disposeElement(Et.element,Ge,Et.row.templateData,Et.size),Wt.push(Et.row)}Et.row=null}const we={start:X+$,end:this.items.length},Me=m.e.intersect(we,ie),Ke=m.e.relativeComplement(we,ie),De=j.map(Ge=>({id:String(this.itemId++),element:Ge,templateId:this.virtualDelegate.getTemplateId(Ge),size:this.virtualDelegate.getHeight(Ge),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(Ge),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:_.JT.None,checkedDisposable:_.JT.None}));let be;X===0&&$>=this.items.length?(this.rangeMap=new L,this.rangeMap.splice(0,0,De),be=this.items,this.items=De):(this.rangeMap.splice(X,$,De),be=this.items.splice(X,$,...De));const We=j.length-$,et=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),Kt=k(Me,We),_t=m.e.intersect(et,Kt);for(let Ge=_t.start;Ge<_t.end;Ge++)this.updateItemInDOM(this.items[Ge],Ge);const tt=m.e.relativeComplement(Kt,et);for(const Ge of tt)for(let Et=Ge.start;Et<Ge.end;Et++)this.removeItemFromDOM(Et);const kt=Ke.map(Ge=>k(Ge,We)),Ft=[{start:X,end:X+j.length},...kt].map(Ge=>m.e.intersect(et,Ge)),Te=this.getNextToLastElement(Ft);for(const Ge of Ft)for(let Et=Ge.start;Et<Ge.end;Et++){const Wt=this.items[Et],Ze=ce.get(Wt.templateId),xe=Ze==null?void 0:Ze.pop();this.insertItemInDOM(Et,Te,xe)}for(const Ge of ce.values())for(const Et of Ge)this.cache.release(Et);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),be.map(Ge=>Ge.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,z.jL)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let X=0;for(const $ of this.items)typeof $.width!="undefined"&&(X=Math.max(X,$.width));this.scrollWidth=X,this.scrollableElement.setScrollDimensions({scrollWidth:X===0?0:X+10})}rerender(){if(!!this.supportDynamicHeights){for(const X of this.items)X.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(X){return this.items[X].element}domElement(X){const $=this.items[X].row;return $&&$.domNode}elementHeight(X){return this.items[X].size}elementTop(X){return this.rangeMap.positionAt(X)}indexAt(X){return this.rangeMap.indexAt(X)}indexAfter(X){return this.rangeMap.indexAfter(X)}layout(X,$){let j={height:typeof X=="number"?X:(0,z.If)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,j.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(j),typeof $!="undefined"&&(this.renderWidth=$,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof $=="number"?$:(0,z.FK)(this.domNode)})}render(X,$,j,ie,J,oe=!1){const ce=this.getRenderRange($,j),we=m.e.relativeComplement(ce,X),Me=m.e.relativeComplement(X,ce),Ke=this.getNextToLastElement(we);if(oe){const De=m.e.intersect(X,ce);for(let be=De.start;be<De.end;be++)this.updateItemInDOM(this.items[be],be)}for(const De of we)for(let be=De.start;be<De.end;be++)this.insertItemInDOM(be,Ke);for(const De of Me)for(let be=De.start;be<De.end;be++)this.removeItemFromDOM(be);ie!==void 0&&(this.rowsContainer.style.left=`-${ie}px`),this.rowsContainer.style.top=`-${$}px`,this.horizontalScrolling&&J!==void 0&&(this.rowsContainer.style.width=`${Math.max(J,this.renderWidth)}px`),this.lastRenderTop=$,this.lastRenderHeight=j}insertItemInDOM(X,$,j){const ie=this.items[X];ie.row||(ie.row=j!=null?j:this.cache.alloc(ie.templateId));const J=this.accessibilityProvider.getRole(ie.element)||"listitem";ie.row.domNode.setAttribute("role",J);const oe=this.accessibilityProvider.isChecked(ie.element);if(typeof oe=="boolean")ie.row.domNode.setAttribute("aria-checked",String(!!oe));else if(oe){const Me=Ke=>ie.row.domNode.setAttribute("aria-checked",String(!!Ke));Me(oe.value),ie.checkedDisposable=oe.onDidChange(Me)}ie.row.domNode.parentElement||($?this.rowsContainer.insertBefore(ie.row.domNode,$):this.rowsContainer.appendChild(ie.row.domNode)),this.updateItemInDOM(ie,X);const ce=this.renderers.get(ie.templateId);if(!ce)throw new Error(`No renderer found for template id ${ie.templateId}`);ce&&ce.renderElement(ie.element,X,ie.row.templateData,ie.size);const we=this.dnd.getDragURI(ie.element);ie.dragStartDisposable.dispose(),ie.row.domNode.draggable=!!we,we&&(ie.dragStartDisposable=(0,z.nm)(ie.row.domNode,"dragstart",Me=>this.onDragStart(ie.element,we,Me))),this.horizontalScrolling&&(this.measureItemWidth(ie),this.eventuallyUpdateScrollWidth())}measureItemWidth(X){if(!X.row||!X.row.domNode)return;X.row.domNode.style.width=C.isFirefox?"-moz-fit-content":"fit-content",X.width=(0,z.FK)(X.row.domNode);const $=window.getComputedStyle(X.row.domNode);$.paddingLeft&&(X.width+=parseFloat($.paddingLeft)),$.paddingRight&&(X.width+=parseFloat($.paddingRight)),X.row.domNode.style.width=""}updateItemInDOM(X,$){X.row.domNode.style.top=`${this.elementTop($)}px`,this.setRowHeight&&(X.row.domNode.style.height=`${X.size}px`),this.setRowLineHeight&&(X.row.domNode.style.lineHeight=`${X.size}px`),X.row.domNode.setAttribute("data-index",`${$}`),X.row.domNode.setAttribute("data-last-element",$===this.length-1?"true":"false"),X.row.domNode.setAttribute("data-parity",$%2===0?"even":"odd"),X.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(X.element,$,this.length))),X.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(X.element,$))),X.row.domNode.setAttribute("id",this.getElementDomId($)),X.row.domNode.classList.toggle("drop-target",X.dropTarget)}removeItemFromDOM(X){const $=this.items[X];if($.dragStartDisposable.dispose(),$.checkedDisposable.dispose(),$.row){const j=this.renderers.get($.templateId);j&&j.disposeElement&&j.disposeElement($.element,X,$.row.templateData,$.size),this.cache.release($.row),$.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(X,$){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:X,reuseAnimation:$})}get scrollTop(){return this.getScrollTop()}set scrollTop(X){this.setScrollTop(X)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return w.ju.map(this.disposables.add(new O.Y(this.domNode,"click")).event,X=>this.toMouseEvent(X))}get onMouseDblClick(){return w.ju.map(this.disposables.add(new O.Y(this.domNode,"dblclick")).event,X=>this.toMouseEvent(X))}get onMouseMiddleClick(){return w.ju.filter(w.ju.map(this.disposables.add(new O.Y(this.domNode,"auxclick")).event,X=>this.toMouseEvent(X)),X=>X.browserEvent.button===1)}get onMouseDown(){return w.ju.map(this.disposables.add(new O.Y(this.domNode,"mousedown")).event,X=>this.toMouseEvent(X))}get onContextMenu(){return w.ju.any(w.ju.map(this.disposables.add(new O.Y(this.domNode,"contextmenu")).event,X=>this.toMouseEvent(X)),w.ju.map(this.disposables.add(new O.Y(this.domNode,y.t.Contextmenu)).event,X=>this.toGestureEvent(X)))}get onTouchStart(){return w.ju.map(this.disposables.add(new O.Y(this.domNode,"touchstart")).event,X=>this.toTouchEvent(X))}get onTap(){return w.ju.map(this.disposables.add(new O.Y(this.rowsContainer,y.t.Tap)).event,X=>this.toGestureEvent(X))}toMouseEvent(X){const $=this.getItemIndexFromEventTarget(X.target||null),j=typeof $=="undefined"?void 0:this.items[$],ie=j&&j.element;return{browserEvent:X,index:$,element:ie}}toTouchEvent(X){const $=this.getItemIndexFromEventTarget(X.target||null),j=typeof $=="undefined"?void 0:this.items[$],ie=j&&j.element;return{browserEvent:X,index:$,element:ie}}toGestureEvent(X){const $=this.getItemIndexFromEventTarget(X.initialTarget||null),j=typeof $=="undefined"?void 0:this.items[$],ie=j&&j.element;return{browserEvent:X,index:$,element:ie}}toDragEvent(X){const $=this.getItemIndexFromEventTarget(X.target||null),j=typeof $=="undefined"?void 0:this.items[$],ie=j&&j.element;return{browserEvent:X,index:$,element:ie}}onScroll(X){try{const $=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render($,X.scrollTop,X.height,X.scrollLeft,X.scrollWidth),this.supportDynamicHeights&&this._rerender(X.scrollTop,X.height,X.inSmoothScrolling)}catch($){throw console.error("Got bad scroll event:",X),$}}onTouchChange(X){X.preventDefault(),X.stopPropagation(),this.scrollTop-=X.translationY}onDragStart(X,$,j){if(!j.dataTransfer)return;const ie=this.dnd.getDragElements(X);if(j.dataTransfer.effectAllowed="copyMove",j.dataTransfer.setData(d.go.TEXT,$),j.dataTransfer.setDragImage){let J;this.dnd.getDragLabel&&(J=this.dnd.getDragLabel(ie,j)),typeof J=="undefined"&&(J=String(ie.length));const oe=(0,z.$)(".monaco-drag-image");oe.textContent=J,document.body.appendChild(oe),j.dataTransfer.setDragImage(oe,-10,-10),setTimeout(()=>document.body.removeChild(oe),0)}this.currentDragData=new H(ie),d.P$.CurrentDragAndDropData=new ee(ie),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,j)}onDragOver(X){if(X.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),d.P$.CurrentDragAndDropData&&d.P$.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(X.browserEvent),!X.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(d.P$.CurrentDragAndDropData)this.currentDragData=d.P$.CurrentDragAndDropData;else{if(!X.browserEvent.dataTransfer.types)return!1;this.currentDragData=new ae}const $=this.dnd.onDragOver(this.currentDragData,X.element,X.index,X.browserEvent);if(this.canDrop=typeof $=="boolean"?$:$.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;X.browserEvent.dataTransfer.dropEffect=typeof $!="boolean"&&$.effect===0?"copy":"move";let j;if(typeof $!="boolean"&&$.feedback?j=$.feedback:typeof X.index=="undefined"?j=[-1]:j=[X.index],j=(0,A.EB)(j).filter(ie=>ie>=-1&&ie<this.length).sort((ie,J)=>ie-J),j=j[0]===-1?[-1]:j,me(this.currentDragFeedback,j))return!0;if(this.currentDragFeedback=j,this.currentDragFeedbackDisposable.dispose(),j[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,_.OF)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const ie of j){const J=this.items[ie];J.dropTarget=!0,J.row&&J.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,_.OF)(()=>{for(const ie of j){const J=this.items[ie];J.dropTarget=!1,J.row&&J.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(X){var $,j;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,M.Vg)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((j=($=this.dnd).onDragLeave)===null||j===void 0||j.call($,this.currentDragData,X.element,X.index,X.browserEvent))}onDrop(X){if(!this.canDrop)return;const $=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,d.P$.CurrentDragAndDropData=void 0,!(!$||!X.browserEvent.dataTransfer)&&(X.browserEvent.preventDefault(),$.update(X.browserEvent.dataTransfer),this.dnd.drop($,X.element,X.index,X.browserEvent))}onDragEnd(X){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,d.P$.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(X)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=_.JT.None}setupDragAndDropScrollTopAnimation(X){if(!this.dragOverAnimationDisposable){const $=(0,z.xQ)(this.domNode).top;this.dragOverAnimationDisposable=(0,z.jt)(this.animateDragAndDropScrollTop.bind(this,$))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,M.Vg)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=X.pageY}animateDragAndDropScrollTop(X){if(this.dragOverMouseY===void 0)return;const $=this.dragOverMouseY-X,j=this.renderHeight-35;$<35?this.scrollTop+=Math.max(-14,Math.floor(.3*($-35))):$>j&&(this.scrollTop+=Math.min(14,Math.floor(.3*($-j))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(X){const $=this.scrollableElement.getDomNode();let j=X;for(;j instanceof HTMLElement&&j!==this.rowsContainer&&$.contains(j);){const ie=j.getAttribute("data-index");if(ie){const J=Number(ie);if(!isNaN(J))return J}j=j.parentElement}}getRenderRange(X,$){return{start:this.rangeMap.indexAt(X),end:this.rangeMap.indexAfter(X+$-1)}}_rerender(X,$,j){const ie=this.getRenderRange(X,$);let J,oe;X===this.elementTop(ie.start)?(J=ie.start,oe=0):ie.end-ie.start>1&&(J=ie.start+1,oe=this.elementTop(J)-X);let ce=0;for(;;){const we=this.getRenderRange(X,$);let Me=!1;for(let Ke=we.start;Ke<we.end;Ke++){const De=this.probeDynamicHeight(Ke);De!==0&&this.rangeMap.splice(Ke,1,[this.items[Ke]]),ce+=De,Me=Me||De!==0}if(!Me){ce!==0&&this.eventuallyUpdateScrollDimensions();const Ke=m.e.relativeComplement(ie,we);for(const be of Ke)for(let We=be.start;We<be.end;We++)this.items[We].row&&this.removeItemFromDOM(We);const De=m.e.relativeComplement(we,ie);for(const be of De)for(let We=be.start;We<be.end;We++){const et=We+1,Kt=et<this.items.length?this.items[et].row:null,_t=Kt?Kt.domNode:null;this.insertItemInDOM(We,_t)}for(let be=we.start;be<we.end;be++)this.items[be].row&&this.updateItemInDOM(this.items[be],be);if(typeof J=="number"){const be=this.scrollable.getFutureScrollPosition().scrollTop-X,We=this.elementTop(J)-oe+be;this.setScrollTop(We,j)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(X){const $=this.items[X];if(this.virtualDelegate.getDynamicHeight){const oe=this.virtualDelegate.getDynamicHeight($.element);if(oe!==null){const ce=$.size;return $.size=oe,$.lastDynamicHeightWidth=this.renderWidth,oe-ce}}if(!$.hasDynamicHeight||$.lastDynamicHeightWidth===this.renderWidth||!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight($.element))return 0;const j=$.size;if(!this.setRowHeight&&$.row){let oe=$.row.domNode.offsetHeight;return $.size=oe,$.lastDynamicHeightWidth=this.renderWidth,oe-j}const ie=this.cache.alloc($.templateId);ie.domNode.style.height="",this.rowsContainer.appendChild(ie.domNode);const J=this.renderers.get($.templateId);return J&&(J.renderElement($.element,X,ie.templateData,void 0),J.disposeElement&&J.disposeElement($.element,X,ie.templateData,void 0)),$.size=ie.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight($.element,$.size),$.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(ie.domNode),this.cache.release(ie),$.size-j}getNextToLastElement(X){const $=X[X.length-1];if(!$)return null;const j=this.items[$.end];return!j||!j.row?null:j.row.domNode}getElementDomId(X){return`${this.domId}_${X}`}dispose(){if(this.items){for(const X of this.items)if(X.row){const $=this.renderers.get(X.row.templateId);$&&($.disposeElement&&$.disposeElement(X.element,-1,X.row.templateData,void 0),$.disposeTemplate(X.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,_.B9)(this.disposables)}}re.InstanceCount=0,P([I.H],re.prototype,"onMouseClick",null),P([I.H],re.prototype,"onMouseDblClick",null),P([I.H],re.prototype,"onMouseMiddleClick",null),P([I.H],re.prototype,"onMouseDown",null),P([I.H],re.prototype,"onContextMenu",null),P([I.H],re.prototype,"onTouchStart",null),P([I.H],re.prototype,"onTap",null)},96653:function(it,Ee,l){"use strict";l.d(Ee,{WK:function(){return X},wD:function(){return Me},aV:function(){return Ut},sx:function(){return we},cK:function(){return me},hD:function(){return ge},wn:function(){return J},Zo:function(){return ie}});var C=l(50082),d=l(30053),z=l(16259),O=l(50364),y=l(74749);class W{constructor(Te){this.spliceables=Te}splice(Te,Ge,Et){this.spliceables.forEach(Wt=>Wt.splice(Te,Ge,Et))}}var A=l(825),M=l(57186),I=l(8957),w=l(52069),_=l(60774),f=l(79669),m=l(1405),a=l(48641),x=l(42893),k=l(24180),T=l(37061),N=l(23838);class L extends Error{constructor(Te,Ge){super(`ListError [${Te}] ${Ge}`)}}var R=l(77964),b=function(Ft,Te,Ge,Et){var Wt=arguments.length,Ze=Wt<3?Te:Et===null?Et=Object.getOwnPropertyDescriptor(Te,Ge):Et,xe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ze=Reflect.decorate(Ft,Te,Ge,Et);else for(var ve=Ft.length-1;ve>=0;ve--)(xe=Ft[ve])&&(Ze=(Wt<3?xe(Ze):Wt>3?xe(Te,Ge,Ze):xe(Te,Ge))||Ze);return Wt>3&&Ze&&Object.defineProperty(Te,Ge,Ze),Ze},P=function(Ft,Te,Ge,Et){function Wt(Ze){return Ze instanceof Ge?Ze:new Ge(function(xe){xe(Ze)})}return new(Ge||(Ge=Promise))(function(Ze,xe){function ve(Tt){try{at(Et.next(Tt))}catch(Mt){xe(Mt)}}function $e(Tt){try{at(Et.throw(Tt))}catch(Mt){xe(Mt)}}function at(Tt){Tt.done?Ze(Tt.value):Wt(Tt.value).then(ve,$e)}at((Et=Et.apply(Ft,Te||[])).next())})};class V{constructor(Te){this.trait=Te,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(Te){return Te}renderElement(Te,Ge,Et){const Wt=this.renderedElements.findIndex(Ze=>Ze.templateData===Et);if(Wt>=0){const Ze=this.renderedElements[Wt];this.trait.unrender(Et),Ze.index=Ge}else{const Ze={index:Ge,templateData:Et};this.renderedElements.push(Ze)}this.trait.renderIndex(Ge,Et)}splice(Te,Ge,Et){const Wt=[];for(const Ze of this.renderedElements)Ze.index<Te?Wt.push(Ze):Ze.index>=Te+Ge&&Wt.push({index:Ze.index+Et-Ge,templateData:Ze.templateData});this.renderedElements=Wt}renderIndexes(Te){for(const{index:Ge,templateData:Et}of this.renderedElements)Te.indexOf(Ge)>-1&&this.trait.renderIndex(Ge,Et)}disposeTemplate(Te){const Ge=this.renderedElements.findIndex(Et=>Et.templateData===Te);Ge<0||this.renderedElements.splice(Ge,1)}}class H{constructor(Te){this._trait=Te,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new _.Q5,this.onChange=this._onChange.event}get name(){return this._trait}get renderer(){return new V(this)}splice(Te,Ge,Et){var Wt;Ge=Math.max(0,Math.min(Ge,this.length-Te));const Ze=Et.length-Ge,xe=Te+Ge,ve=[...this.sortedIndexes.filter(at=>at<Te),...Et.map((at,Tt)=>at?Tt+Te:-1).filter(at=>at!==-1),...this.sortedIndexes.filter(at=>at>=xe).map(at=>at+Ze)],$e=this.length+Ze;if(this.sortedIndexes.length>0&&ve.length===0&&$e>0){const at=(Wt=this.sortedIndexes.find(Tt=>Tt>=Te))!==null&&Wt!==void 0?Wt:$e-1;ve.push(Math.min(at,$e-1))}this.renderer.splice(Te,Ge,Et.length),this._set(ve,ve),this.length=$e}renderIndex(Te,Ge){Ge.classList.toggle(this._trait,this.contains(Te))}unrender(Te){Te.classList.remove(this._trait)}set(Te,Ge){return this._set(Te,[...Te].sort(Kt),Ge)}_set(Te,Ge,Et){const Wt=this.indexes,Ze=this.sortedIndexes;this.indexes=Te,this.sortedIndexes=Ge;const xe=We(Ze,Te);return this.renderer.renderIndexes(xe),this._onChange.fire({indexes:Te,browserEvent:Et}),Wt}get(){return this.indexes}contains(Te){return(0,A.ry)(this.sortedIndexes,Te,Kt)>=0}dispose(){(0,m.B9)(this._onChange)}}b([w.H],H.prototype,"renderer",null);class ee extends H{constructor(Te){super("selected"),this.setAriaSelected=Te}renderIndex(Te,Ge){super.renderIndex(Te,Ge),this.setAriaSelected&&(this.contains(Te)?Ge.setAttribute("aria-selected","true"):Ge.setAttribute("aria-selected","false"))}}class ae{constructor(Te,Ge,Et){this.trait=Te,this.view=Ge,this.identityProvider=Et}splice(Te,Ge,Et){if(!this.identityProvider)return this.trait.splice(Te,Ge,Et.map(()=>!1));const Wt=this.trait.get().map(xe=>this.identityProvider.getId(this.view.element(xe)).toString()),Ze=Et.map(xe=>Wt.indexOf(this.identityProvider.getId(xe).toString())>-1);this.trait.splice(Te,Ge,Ze)}}function me(Ft){return Ft.tagName==="INPUT"||Ft.tagName==="TEXTAREA"}function ge(Ft){return Ft.classList.contains("monaco-editor")?!0:Ft.classList.contains("monaco-list")||!Ft.parentElement?!1:ge(Ft.parentElement)}class re{constructor(Te,Ge,Et){this.list=Te,this.view=Ge,this.disposables=new m.SL,this.multipleSelectionDisposables=new m.SL,this.onKeyDown.filter(Wt=>Wt.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(Wt=>Wt.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(Wt=>Wt.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(Wt=>Wt.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(Wt=>Wt.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(Wt=>Wt.keyCode===9).on(this.onEscape,this,this.disposables),Et.multipleSelectionSupport!==!1&&this.onKeyDown.filter(Wt=>(k.dz?Wt.metaKey:Wt.ctrlKey)&&Wt.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return _.ju.chain(this.disposables.add(new d.Y(this.view.domNode,"keydown")).event).filter(Te=>!me(Te.target)).map(Te=>new z.y(Te))}updateOptions(Te){Te.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),Te.multipleSelectionSupport&&this.onKeyDown.filter(Ge=>(k.dz?Ge.metaKey:Ge.ctrlKey)&&Ge.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(Te){Te.preventDefault(),Te.stopPropagation(),this.list.setSelection(this.list.getFocus(),Te.browserEvent)}onUpArrow(Te){Te.preventDefault(),Te.stopPropagation(),this.list.focusPrevious(1,!1,Te.browserEvent);const Ge=this.list.getFocus()[0];this.list.setAnchor(Ge),this.list.reveal(Ge),this.view.domNode.focus()}onDownArrow(Te){Te.preventDefault(),Te.stopPropagation(),this.list.focusNext(1,!1,Te.browserEvent);const Ge=this.list.getFocus()[0];this.list.setAnchor(Ge),this.list.reveal(Ge),this.view.domNode.focus()}onPageUpArrow(Te){Te.preventDefault(),Te.stopPropagation(),this.list.focusPreviousPage(Te.browserEvent);const Ge=this.list.getFocus()[0];this.list.setAnchor(Ge),this.list.reveal(Ge),this.view.domNode.focus()}onPageDownArrow(Te){Te.preventDefault(),Te.stopPropagation(),this.list.focusNextPage(Te.browserEvent);const Ge=this.list.getFocus()[0];this.list.setAnchor(Ge),this.list.reveal(Ge),this.view.domNode.focus()}onCtrlA(Te){Te.preventDefault(),Te.stopPropagation(),this.list.setSelection((0,A.w6)(this.list.length),Te.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(Te){this.list.getSelection().length&&(Te.preventDefault(),Te.stopPropagation(),this.list.setSelection([],Te.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}b([w.H],re.prototype,"onKeyDown",null);var se;(function(Ft){Ft[Ft.Idle=0]="Idle",Ft[Ft.Typing=1]="Typing"})(se||(se={}));const X=new class{mightProducePrintableCharacter(Ft){return Ft.ctrlKey||Ft.metaKey||Ft.altKey?!1:Ft.keyCode>=31&&Ft.keyCode<=56||Ft.keyCode>=21&&Ft.keyCode<=30||Ft.keyCode>=93&&Ft.keyCode<=102||Ft.keyCode>=80&&Ft.keyCode<=90}};class ${constructor(Te,Ge,Et,Wt){this.list=Te,this.view=Ge,this.keyboardNavigationLabelProvider=Et,this.delegate=Wt,this.enabled=!1,this.state=se.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new m.SL,this.disposables=new m.SL,this.updateOptions(Te.options)}updateOptions(Te){(typeof Te.enableKeyboardNavigation=="undefined"?!0:!!Te.enableKeyboardNavigation)?this.enable():this.disable(),typeof Te.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=Te.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const Te=_.ju.chain(this.enabledDisposables.add(new d.Y(this.view.domNode,"keydown")).event).filter(Wt=>!me(Wt.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(Wt=>new z.y(Wt)).filter(Wt=>this.delegate.mightProducePrintableCharacter(Wt)).forEach(Wt=>Wt.preventDefault()).map(Wt=>Wt.browserEvent.key).event,Ge=_.ju.debounce(Te,()=>null,800);_.ju.reduce(_.ju.any(Te,Ge),(Wt,Ze)=>Ze===null?null:(Wt||"")+Ze)(this.onInput,this,this.enabledDisposables),Ge(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var Te;const Ge=this.list.getFocus();if(Ge.length>0&&Ge[0]===this.previouslyFocused){const Et=(Te=this.list.options.accessibilityProvider)===null||Te===void 0?void 0:Te.getAriaLabel(this.list.element(Ge[0]));Et&&(0,y.Z9)(Et)}this.previouslyFocused=-1}onInput(Te){if(!Te){this.state=se.Idle,this.triggered=!1;return}const Ge=this.list.getFocus(),Et=Ge.length>0?Ge[0]:0,Wt=this.state===se.Idle?1:0;this.state=se.Typing;for(let Ze=0;Ze<this.list.length;Ze++){const xe=(Et+Ze+Wt)%this.list.length,ve=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(xe)),$e=ve&&ve.toString();if(typeof $e=="undefined"||(0,f.Ji)(Te,$e)){this.previouslyFocused=Et,this.list.setFocus([xe]),this.list.reveal(xe);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class j{constructor(Te,Ge){this.list=Te,this.view=Ge,this.disposables=new m.SL,_.ju.chain(this.disposables.add(new d.Y(Ge.domNode,"keydown")).event).filter(Wt=>!me(Wt.target)).map(Wt=>new z.y(Wt)).filter(Wt=>Wt.keyCode===2&&!Wt.ctrlKey&&!Wt.metaKey&&!Wt.shiftKey&&!Wt.altKey).on(this.onTab,this,this.disposables)}onTab(Te){if(Te.target!==this.view.domNode)return;const Ge=this.list.getFocus();if(Ge.length===0)return;const Et=this.view.domElement(Ge[0]);if(!Et)return;const Wt=Et.querySelector("[tabIndex]");if(!Wt||!(Wt instanceof HTMLElement)||Wt.tabIndex===-1)return;const Ze=window.getComputedStyle(Wt);Ze.visibility==="hidden"||Ze.display==="none"||(Te.preventDefault(),Te.stopPropagation(),Wt.focus())}dispose(){this.disposables.dispose()}}function ie(Ft){return k.dz?Ft.browserEvent.metaKey:Ft.browserEvent.ctrlKey}function J(Ft){return Ft.browserEvent.shiftKey}function oe(Ft){return Ft instanceof MouseEvent&&Ft.button===2}const ce={isSelectionSingleChangeEvent:ie,isSelectionRangeChangeEvent:J};class we{constructor(Te){this.list=Te,this.disposables=new m.SL,this._onPointer=new _.Q5,this.onPointer=this._onPointer.event,Te.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||ce),this.mouseSupport=typeof Te.options.mouseSupport=="undefined"||!!Te.options.mouseSupport,this.mouseSupport&&(Te.onMouseDown(this.onMouseDown,this,this.disposables),Te.onContextMenu(this.onContextMenu,this,this.disposables),Te.onMouseDblClick(this.onDoubleClick,this,this.disposables),Te.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(O.o.addTarget(Te.getHTMLElement()))),_.ju.any(Te.onMouseClick,Te.onMouseMiddleClick,Te.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(Te){Te.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,Te.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||ce))}isSelectionSingleChangeEvent(Te){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(Te):!1}isSelectionRangeChangeEvent(Te){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(Te):!1}isSelectionChangeEvent(Te){return this.isSelectionSingleChangeEvent(Te)||this.isSelectionRangeChangeEvent(Te)}onMouseDown(Te){ge(Te.browserEvent.target)||document.activeElement!==Te.browserEvent.target&&this.list.domFocus()}onContextMenu(Te){if(ge(Te.browserEvent.target))return;const Ge=typeof Te.index=="undefined"?[]:[Te.index];this.list.setFocus(Ge,Te.browserEvent)}onViewPointer(Te){if(!this.mouseSupport||me(Te.browserEvent.target)||ge(Te.browserEvent.target))return;const Ge=Te.index;if(typeof Ge=="undefined"){this.list.setFocus([],Te.browserEvent),this.list.setSelection([],Te.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(Te))return this.changeSelection(Te);if(this.isSelectionChangeEvent(Te))return this.changeSelection(Te);this.list.setFocus([Ge],Te.browserEvent),this.list.setAnchor(Ge),oe(Te.browserEvent)||this.list.setSelection([Ge],Te.browserEvent),this._onPointer.fire(Te)}onDoubleClick(Te){if(me(Te.browserEvent.target)||ge(Te.browserEvent.target)||this.isSelectionChangeEvent(Te))return;const Ge=this.list.getFocus();this.list.setSelection(Ge,Te.browserEvent)}changeSelection(Te){const Ge=Te.index;let Et=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(Te)){if(typeof Et=="undefined"){const Tt=this.list.getFocus()[0];Et=Tt!=null?Tt:Ge,this.list.setAnchor(Et)}const Wt=Math.min(Et,Ge),Ze=Math.max(Et,Ge),xe=(0,A.w6)(Wt,Ze+1),ve=this.list.getSelection(),$e=be(We(ve,[Et]),Et);if($e.length===0)return;const at=We(xe,et(ve,$e));this.list.setSelection(at,Te.browserEvent),this.list.setFocus([Ge],Te.browserEvent)}else if(this.isSelectionSingleChangeEvent(Te)){const Wt=this.list.getSelection(),Ze=Wt.filter(xe=>xe!==Ge);this.list.setFocus([Ge]),this.list.setAnchor(Ge),Wt.length===Ze.length?this.list.setSelection([...Ze,Ge],Te.browserEvent):this.list.setSelection(Ze,Te.browserEvent)}}dispose(){this.disposables.dispose()}}class Me{constructor(Te,Ge){this.styleElement=Te,this.selectorSuffix=Ge}style(Te){const Ge=this.selectorSuffix&&`.${this.selectorSuffix}`,Et=[];Te.listBackground&&(Te.listBackground.isOpaque()?Et.push(`.monaco-list${Ge} .monaco-list-rows { background: ${Te.listBackground}; }`):k.dz||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),Te.listFocusBackground&&(Et.push(`.monaco-list${Ge}:focus .monaco-list-row.focused { background-color: ${Te.listFocusBackground}; }`),Et.push(`.monaco-list${Ge}:focus .monaco-list-row.focused:hover { background-color: ${Te.listFocusBackground}; }`)),Te.listFocusForeground&&Et.push(`.monaco-list${Ge}:focus .monaco-list-row.focused { color: ${Te.listFocusForeground}; }`),Te.listActiveSelectionBackground&&(Et.push(`.monaco-list${Ge}:focus .monaco-list-row.selected { background-color: ${Te.listActiveSelectionBackground}; }`),Et.push(`.monaco-list${Ge}:focus .monaco-list-row.selected:hover { background-color: ${Te.listActiveSelectionBackground}; }`)),Te.listActiveSelectionForeground&&Et.push(`.monaco-list${Ge}:focus .monaco-list-row.selected { color: ${Te.listActiveSelectionForeground}; }`),Te.listActiveSelectionIconForeground&&Et.push(`.monaco-list${Ge}:focus .monaco-list-row.selected .codicon { color: ${Te.listActiveSelectionIconForeground}; }`),Te.listFocusAndSelectionBackground&&Et.push(`
				.monaco-drag-image,
				.monaco-list${Ge}:focus .monaco-list-row.selected.focused { background-color: ${Te.listFocusAndSelectionBackground}; }
			`),Te.listFocusAndSelectionForeground&&Et.push(`
				.monaco-drag-image,
				.monaco-list${Ge}:focus .monaco-list-row.selected.focused { color: ${Te.listFocusAndSelectionForeground}; }
			`),Te.listInactiveFocusForeground&&(Et.push(`.monaco-list${Ge} .monaco-list-row.focused { color:  ${Te.listInactiveFocusForeground}; }`),Et.push(`.monaco-list${Ge} .monaco-list-row.focused:hover { color:  ${Te.listInactiveFocusForeground}; }`)),Te.listInactiveSelectionIconForeground&&Et.push(`.monaco-list${Ge} .monaco-list-row.focused .codicon { color:  ${Te.listInactiveSelectionIconForeground}; }`),Te.listInactiveFocusBackground&&(Et.push(`.monaco-list${Ge} .monaco-list-row.focused { background-color:  ${Te.listInactiveFocusBackground}; }`),Et.push(`.monaco-list${Ge} .monaco-list-row.focused:hover { background-color:  ${Te.listInactiveFocusBackground}; }`)),Te.listInactiveSelectionBackground&&(Et.push(`.monaco-list${Ge} .monaco-list-row.selected { background-color:  ${Te.listInactiveSelectionBackground}; }`),Et.push(`.monaco-list${Ge} .monaco-list-row.selected:hover { background-color:  ${Te.listInactiveSelectionBackground}; }`)),Te.listInactiveSelectionForeground&&Et.push(`.monaco-list${Ge} .monaco-list-row.selected { color: ${Te.listInactiveSelectionForeground}; }`),Te.listHoverBackground&&Et.push(`.monaco-list${Ge}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${Te.listHoverBackground}; }`),Te.listHoverForeground&&Et.push(`.monaco-list${Ge} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${Te.listHoverForeground}; }`),Te.listSelectionOutline&&Et.push(`.monaco-list${Ge} .monaco-list-row.selected { outline: 1px dotted ${Te.listSelectionOutline}; outline-offset: -1px; }`),Te.listFocusOutline&&Et.push(`
				.monaco-drag-image,
				.monaco-list${Ge}:focus .monaco-list-row.focused { outline: 1px solid ${Te.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${Ge}.last-focused .monaco-list-row.focused { outline: 1px solid ${Te.listFocusOutline}; outline-offset: -1px; }
			`),Te.listInactiveFocusOutline&&Et.push(`.monaco-list${Ge} .monaco-list-row.focused { outline: 1px dotted ${Te.listInactiveFocusOutline}; outline-offset: -1px; }`),Te.listHoverOutline&&Et.push(`.monaco-list${Ge} .monaco-list-row:hover { outline: 1px dashed ${Te.listHoverOutline}; outline-offset: -1px; }`),Te.listDropBackground&&Et.push(`
				.monaco-list${Ge}.drop-target,
				.monaco-list${Ge} .monaco-list-rows.drop-target,
				.monaco-list${Ge} .monaco-list-row.drop-target { background-color: ${Te.listDropBackground} !important; color: inherit !important; }
			`),Te.listFilterWidgetBackground&&Et.push(`.monaco-list-type-filter { background-color: ${Te.listFilterWidgetBackground} }`),Te.listFilterWidgetOutline&&Et.push(`.monaco-list-type-filter { border: 1px solid ${Te.listFilterWidgetOutline}; }`),Te.listFilterWidgetNoMatchesOutline&&Et.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${Te.listFilterWidgetNoMatchesOutline}; }`),Te.listMatchesShadow&&Et.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${Te.listMatchesShadow}; }`),Te.tableColumnsBorder&&Et.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${Te.tableColumnsBorder};
			}`),Te.tableOddRowsBackgroundColor&&Et.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${Te.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=Et.join(`
`)}}const Ke={listFocusBackground:I.Il.fromHex("#7FB0D0"),listActiveSelectionBackground:I.Il.fromHex("#0E639C"),listActiveSelectionForeground:I.Il.fromHex("#FFFFFF"),listActiveSelectionIconForeground:I.Il.fromHex("#FFFFFF"),listFocusAndSelectionBackground:I.Il.fromHex("#094771"),listFocusAndSelectionForeground:I.Il.fromHex("#FFFFFF"),listInactiveSelectionBackground:I.Il.fromHex("#3F3F46"),listInactiveSelectionIconForeground:I.Il.fromHex("#FFFFFF"),listHoverBackground:I.Il.fromHex("#2A2D2E"),listDropBackground:I.Il.fromHex("#383B3D"),treeIndentGuidesStroke:I.Il.fromHex("#a9a9a9"),tableColumnsBorder:I.Il.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:I.Il.fromHex("#cccccc").transparent(.04)},De={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function be(Ft,Te){const Ge=Ft.indexOf(Te);if(Ge===-1)return[];const Et=[];let Wt=Ge-1;for(;Wt>=0&&Ft[Wt]===Te-(Ge-Wt);)Et.push(Ft[Wt--]);for(Et.reverse(),Wt=Ge;Wt<Ft.length&&Ft[Wt]===Te+(Wt-Ge);)Et.push(Ft[Wt++]);return Et}function We(Ft,Te){const Ge=[];let Et=0,Wt=0;for(;Et<Ft.length||Wt<Te.length;)if(Et>=Ft.length)Ge.push(Te[Wt++]);else if(Wt>=Te.length)Ge.push(Ft[Et++]);else if(Ft[Et]===Te[Wt]){Ge.push(Ft[Et]),Et++,Wt++;continue}else Ft[Et]<Te[Wt]?Ge.push(Ft[Et++]):Ge.push(Te[Wt++]);return Ge}function et(Ft,Te){const Ge=[];let Et=0,Wt=0;for(;Et<Ft.length||Wt<Te.length;)if(Et>=Ft.length)Ge.push(Te[Wt++]);else if(Wt>=Te.length)Ge.push(Ft[Et++]);else if(Ft[Et]===Te[Wt]){Et++,Wt++;continue}else Ft[Et]<Te[Wt]?Ge.push(Ft[Et++]):Wt++;return Ge}const Kt=(Ft,Te)=>Ft-Te;class _t{constructor(Te,Ge){this._templateId=Te,this.renderers=Ge}get templateId(){return this._templateId}renderTemplate(Te){return this.renderers.map(Ge=>Ge.renderTemplate(Te))}renderElement(Te,Ge,Et,Wt){let Ze=0;for(const xe of this.renderers)xe.renderElement(Te,Ge,Et[Ze++],Wt)}disposeElement(Te,Ge,Et,Wt){let Ze=0;for(const xe of this.renderers)xe.disposeElement&&xe.disposeElement(Te,Ge,Et[Ze],Wt),Ze+=1}disposeTemplate(Te){let Ge=0;for(const Et of this.renderers)Et.disposeTemplate(Te[Ge++])}}class tt{constructor(Te){this.accessibilityProvider=Te,this.templateId="a18n"}renderTemplate(Te){return Te}renderElement(Te,Ge,Et){const Wt=this.accessibilityProvider.getAriaLabel(Te);Wt?Et.setAttribute("aria-label",Wt):Et.removeAttribute("aria-label");const Ze=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(Te);typeof Ze=="number"?Et.setAttribute("aria-level",`${Ze}`):Et.removeAttribute("aria-level")}disposeTemplate(Te){}}class kt{constructor(Te,Ge){this.list=Te,this.dnd=Ge}getDragElements(Te){const Ge=this.list.getSelectedElements();return Ge.indexOf(Te)>-1?Ge:[Te]}getDragURI(Te){return this.dnd.getDragURI(Te)}getDragLabel(Te,Ge){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(Te,Ge)}onDragStart(Te,Ge){this.dnd.onDragStart&&this.dnd.onDragStart(Te,Ge)}onDragOver(Te,Ge,Et,Wt){return this.dnd.onDragOver(Te,Ge,Et,Wt)}onDragLeave(Te,Ge,Et,Wt){var Ze,xe;(xe=(Ze=this.dnd).onDragLeave)===null||xe===void 0||xe.call(Ze,Te,Ge,Et,Wt)}onDragEnd(Te){this.dnd.onDragEnd&&this.dnd.onDragEnd(Te)}drop(Te,Ge,Et,Wt){this.dnd.drop(Te,Ge,Et,Wt)}}class Ut{constructor(Te,Ge,Et,Wt,Ze=De){var xe;this.user=Te,this._options=Ze,this.focus=new H("focused"),this.anchor=new H("anchor"),this.eventBufferer=new _.E7,this._ariaLabel="",this.disposables=new m.SL,this._onDidDispose=new _.Q5,this.onDidDispose=this._onDidDispose.event;const ve=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(xe=this._options.accessibilityProvider)===null||xe===void 0?void 0:xe.getWidgetRole():"list";this.selection=new ee(ve!=="listbox"),(0,x.jB)(Ze,Ke,!1);const $e=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=Ze.accessibilityProvider,this.accessibilityProvider&&($e.push(new tt(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),Wt=Wt.map(Tt=>new _t(Tt.templateId,[...$e,Tt]));const at=Object.assign(Object.assign({},Ze),{dnd:Ze.dnd&&new kt(this,Ze.dnd)});if(this.view=new R.Bv(Ge,Et,Wt,at),this.view.domNode.setAttribute("role",ve),Ze.styleController)this.styleController=Ze.styleController(this.view.domId);else{const Tt=(0,C.dS)(this.view.domNode);this.styleController=new Me(Tt,this.view.domId)}if(this.spliceable=new W([new ae(this.focus,this.view,Ze.identityProvider),new ae(this.selection,this.view,Ze.identityProvider),new ae(this.anchor,this.view,Ze.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new j(this,this.view)),(typeof Ze.keyboardSupport!="boolean"||Ze.keyboardSupport)&&(this.keyboardController=new re(this,this.view,Ze),this.disposables.add(this.keyboardController)),Ze.keyboardNavigationLabelProvider){const Tt=Ze.keyboardNavigationDelegate||X;this.typeLabelController=new $(this,this.view,Ze.keyboardNavigationLabelProvider,Tt),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(Ze),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return _.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),Te=>this.toListEvent(Te))}get onDidChangeSelection(){return _.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),Te=>this.toListEvent(Te))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let Te=!1;const Ge=_.ju.chain(this.disposables.add(new d.Y(this.view.domNode,"keydown")).event).map(Ze=>new z.y(Ze)).filter(Ze=>Te=Ze.keyCode===58||Ze.shiftKey&&Ze.keyCode===68).map(d.p).filter(()=>!1).event,Et=_.ju.chain(this.disposables.add(new d.Y(this.view.domNode,"keyup")).event).forEach(()=>Te=!1).map(Ze=>new z.y(Ze)).filter(Ze=>Ze.keyCode===58||Ze.shiftKey&&Ze.keyCode===68).map(d.p).map(({browserEvent:Ze})=>{const xe=this.getFocus(),ve=xe.length?xe[0]:void 0,$e=typeof ve!="undefined"?this.view.element(ve):void 0,at=typeof ve!="undefined"?this.view.domElement(ve):this.view.domNode;return{index:ve,element:$e,anchor:at,browserEvent:Ze}}).event,Wt=_.ju.chain(this.view.onContextMenu).filter(Ze=>!Te).map(({element:Ze,index:xe,browserEvent:ve})=>({element:Ze,index:xe,anchor:{x:ve.pageX+1,y:ve.pageY},browserEvent:ve})).event;return _.ju.any(Ge,Et,Wt)}get onKeyDown(){return this.disposables.add(new d.Y(this.view.domNode,"keydown")).event}get onDidFocus(){return _.ju.signal(this.disposables.add(new d.Y(this.view.domNode,"focus",!0)).event)}createMouseController(Te){return new we(this)}updateOptions(Te={}){var Ge;this._options=Object.assign(Object.assign({},this._options),Te),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(Te),(Ge=this.keyboardController)===null||Ge===void 0||Ge.updateOptions(Te),this.view.updateOptions(Te)}get options(){return this._options}splice(Te,Ge,Et=[]){if(Te<0||Te>this.view.length)throw new L(this.user,`Invalid start index: ${Te}`);if(Ge<0)throw new L(this.user,`Invalid delete count: ${Ge}`);Ge===0&&Et.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(Te,Ge,Et))}rerender(){this.view.rerender()}element(Te){return this.view.element(Te)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(Te){this.view.setScrollTop(Te)}get ariaLabel(){return this._ariaLabel}set ariaLabel(Te){this._ariaLabel=Te,this.view.domNode.setAttribute("aria-label",Te)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(Te,Ge){this.view.layout(Te,Ge)}setSelection(Te,Ge){for(const Et of Te)if(Et<0||Et>=this.length)throw new L(this.user,`Invalid index ${Et}`);this.selection.set(Te,Ge)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(Te=>this.view.element(Te))}setAnchor(Te){if(typeof Te=="undefined"){this.anchor.set([]);return}if(Te<0||Te>=this.length)throw new L(this.user,`Invalid index ${Te}`);this.anchor.set([Te])}getAnchor(){return(0,A.Xh)(this.anchor.get(),void 0)}getAnchorElement(){const Te=this.getAnchor();return typeof Te=="undefined"?void 0:this.element(Te)}setFocus(Te,Ge){for(const Et of Te)if(Et<0||Et>=this.length)throw new L(this.user,`Invalid index ${Et}`);this.focus.set(Te,Ge)}focusNext(Te=1,Ge=!1,Et,Wt){if(this.length===0)return;const Ze=this.focus.get(),xe=this.findNextIndex(Ze.length>0?Ze[0]+Te:0,Ge,Wt);xe>-1&&this.setFocus([xe],Et)}focusPrevious(Te=1,Ge=!1,Et,Wt){if(this.length===0)return;const Ze=this.focus.get(),xe=this.findPreviousIndex(Ze.length>0?Ze[0]-Te:0,Ge,Wt);xe>-1&&this.setFocus([xe],Et)}focusNextPage(Te,Ge){return P(this,void 0,void 0,function*(){let Et=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);Et=Et===0?0:Et-1;const Wt=this.view.element(Et),Ze=this.getFocusedElements()[0];if(Ze!==Wt){const xe=this.findPreviousIndex(Et,!1,Ge);xe>-1&&Ze!==this.view.element(xe)?this.setFocus([xe],Te):this.setFocus([Et],Te)}else{const xe=this.view.getScrollTop();this.view.setScrollTop(xe+this.view.renderHeight-this.view.elementHeight(Et)),this.view.getScrollTop()!==xe&&(this.setFocus([]),yield(0,M.Vs)(0),yield this.focusNextPage(Te,Ge))}})}focusPreviousPage(Te,Ge){return P(this,void 0,void 0,function*(){let Et;const Wt=this.view.getScrollTop();Wt===0?Et=this.view.indexAt(Wt):Et=this.view.indexAfter(Wt-1);const Ze=this.view.element(Et),xe=this.getFocusedElements()[0];if(xe!==Ze){const ve=this.findNextIndex(Et,!1,Ge);ve>-1&&xe!==this.view.element(ve)?this.setFocus([ve],Te):this.setFocus([Et],Te)}else{const ve=Wt;this.view.setScrollTop(Wt-this.view.renderHeight),this.view.getScrollTop()!==ve&&(this.setFocus([]),yield(0,M.Vs)(0),yield this.focusPreviousPage(Te,Ge))}})}focusLast(Te,Ge){if(this.length===0)return;const Et=this.findPreviousIndex(this.length-1,!1,Ge);Et>-1&&this.setFocus([Et],Te)}focusFirst(Te,Ge){this.focusNth(0,Te,Ge)}focusNth(Te,Ge,Et){if(this.length===0)return;const Wt=this.findNextIndex(Te,!1,Et);Wt>-1&&this.setFocus([Wt],Ge)}findNextIndex(Te,Ge=!1,Et){for(let Wt=0;Wt<this.length;Wt++){if(Te>=this.length&&!Ge)return-1;if(Te=Te%this.length,!Et||Et(this.element(Te)))return Te;Te++}return-1}findPreviousIndex(Te,Ge=!1,Et){for(let Wt=0;Wt<this.length;Wt++){if(Te<0&&!Ge)return-1;if(Te=(this.length+Te%this.length)%this.length,!Et||Et(this.element(Te)))return Te;Te--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(Te=>this.view.element(Te))}reveal(Te,Ge){if(Te<0||Te>=this.length)throw new L(this.user,`Invalid index ${Te}`);const Et=this.view.getScrollTop(),Wt=this.view.elementTop(Te),Ze=this.view.elementHeight(Te);if((0,T.hj)(Ge)){const xe=Ze-this.view.renderHeight;this.view.setScrollTop(xe*(0,a.uZ)(Ge,0,1)+Wt)}else{const xe=Wt+Ze,ve=Et+this.view.renderHeight;Wt<Et&&xe>=ve||(Wt<Et||xe>=ve&&Ze>=this.view.renderHeight?this.view.setScrollTop(Wt):xe>=ve&&this.view.setScrollTop(xe-this.view.renderHeight))}}getRelativeTop(Te){if(Te<0||Te>=this.length)throw new L(this.user,`Invalid index ${Te}`);const Ge=this.view.getScrollTop(),Et=this.view.elementTop(Te),Wt=this.view.elementHeight(Te);if(Et<Ge||Et+Wt>Ge+this.view.renderHeight)return null;const Ze=Wt-this.view.renderHeight;return Math.abs((Ge-Et)/Ze)}getHTMLElement(){return this.view.domNode}style(Te){this.styleController.style(Te)}toListEvent({indexes:Te,browserEvent:Ge}){return{indexes:Te,elements:Te.map(Et=>this.view.element(Et)),browserEvent:Ge}}_onFocusChange(){const Te=this.focus.get();this.view.domNode.classList.toggle("element-focused",Te.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var Te;const Ge=this.focus.get();if(Ge.length>0){let Et;!((Te=this.accessibilityProvider)===null||Te===void 0)&&Te.getActiveDescendantId&&(Et=this.accessibilityProvider.getActiveDescendantId(this.view.element(Ge[0]))),this.view.domNode.setAttribute("aria-activedescendant",Et||this.view.getElementDomId(Ge[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const Te=this.selection.get();this.view.domNode.classList.toggle("selection-none",Te.length===0),this.view.domNode.classList.toggle("selection-single",Te.length===1),this.view.domNode.classList.toggle("selection-multiple",Te.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}b([w.H],Ut.prototype,"onDidChangeFocus",null),b([w.H],Ut.prototype,"onDidChangeSelection",null),b([w.H],Ut.prototype,"onContextMenu",null),b([w.H],Ut.prototype,"onKeyDown",null),b([w.H],Ut.prototype,"onDidFocus",null)},82464:function(it,Ee,l){"use strict";l.d(Ee,{S:function(){return C}});const C="monaco-mouse-cursor-text"},36819:function(it,Ee,l){"use strict";l.d(Ee,{l:function(){return _},g:function(){return R}});var C=l(50082),d=l(30053),z=l(50364),O=l(57186),y=l(52069),W=l(60774),A=l(1405),M=l(24180),I=function(b,P,V,H){var ee=arguments.length,ae=ee<3?P:H===null?H=Object.getOwnPropertyDescriptor(P,V):H,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ae=Reflect.decorate(b,P,V,H);else for(var ge=b.length-1;ge>=0;ge--)(me=b[ge])&&(ae=(ee<3?me(ae):ee>3?me(P,V,ae):me(P,V))||ae);return ee>3&&ae&&Object.defineProperty(P,V,ae),ae};let w=!1;var _;(function(b){b.North="north",b.South="south",b.East="east",b.West="west"})(_||(_={}));let f=4;const m=new W.Q5;let a=300;const x=new W.Q5;class k{constructor(){this.disposables=new A.SL}get onPointerMove(){return this.disposables.add(new d.Y(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new d.Y(window,"mouseup")).event}dispose(){this.disposables.dispose()}}I([y.H],k.prototype,"onPointerMove",null),I([y.H],k.prototype,"onPointerUp",null);class T{constructor(P){this.el=P,this.disposables=new A.SL}get onPointerMove(){return this.disposables.add(new d.Y(this.el,z.t.Change)).event}get onPointerUp(){return this.disposables.add(new d.Y(this.el,z.t.End)).event}dispose(){this.disposables.dispose()}}I([y.H],T.prototype,"onPointerMove",null),I([y.H],T.prototype,"onPointerUp",null);class N{constructor(P){this.factory=P}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}I([y.H],N.prototype,"onPointerMove",null),I([y.H],N.prototype,"onPointerUp",null);const L="pointer-events-disabled";class R extends A.JT{constructor(P,V,H){super(),this.hoverDelay=a,this.hoverDelayer=this._register(new O.vp(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new W.Q5),this._onDidStart=this._register(new W.Q5),this._onDidChange=this._register(new W.Q5),this._onDidReset=this._register(new W.Q5),this._onDidEnd=this._register(new W.Q5),this.orthogonalStartSashDisposables=this._register(new A.SL),this.orthogonalStartDragHandleDisposables=this._register(new A.SL),this.orthogonalEndSashDisposables=this._register(new A.SL),this.orthogonalEndDragHandleDisposables=this._register(new A.SL),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,C.R3)(P,(0,C.$)(".monaco-sash")),H.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${H.orthogonalEdge}`),M.dz&&this.el.classList.add("mac");const ee=this._register(new d.Y(this.el,"mousedown")).event;this._register(ee($=>this.onPointerStart($,new k),this));const ae=this._register(new d.Y(this.el,"dblclick")).event;this._register(ae(this.onPointerDoublePress,this));const me=this._register(new d.Y(this.el,"mouseenter")).event;this._register(me(()=>R.onMouseEnter(this)));const ge=this._register(new d.Y(this.el,"mouseleave")).event;this._register(ge(()=>R.onMouseLeave(this))),this._register(z.o.addTarget(this.el));const re=W.ju.map(this._register(new d.Y(this.el,z.t.Start)).event,$=>{var j;return Object.assign(Object.assign({},$),{target:(j=$.initialTarget)!==null&&j!==void 0?j:null})});this._register(re($=>this.onPointerStart($,new T(this.el)),this));const se=this._register(new d.Y(this.el,z.t.Tap)).event,X=W.ju.map(W.ju.filter(W.ju.debounce(se,($,j)=>{var ie;return{event:j,count:((ie=$==null?void 0:$.count)!==null&&ie!==void 0?ie:0)+1}},250),({count:$})=>$===2),({event:$})=>{var j;return Object.assign(Object.assign({},$),{target:(j=$.initialTarget)!==null&&j!==void 0?j:null})});this._register(X(this.onPointerDoublePress,this)),typeof H.size=="number"?(this.size=H.size,H.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=f,this._register(m.event($=>{this.size=$,this.layout()}))),this._register(x.event($=>this.hoverDelay=$)),this.layoutProvider=V,this.orthogonalStartSash=H.orthogonalStartSash,this.orthogonalEndSash=H.orthogonalEndSash,this.orientation=H.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",w),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(P){this._state!==P&&(this.el.classList.toggle("disabled",P===0),this.el.classList.toggle("minimum",P===1),this.el.classList.toggle("maximum",P===2),this._state=P,this.onDidEnablementChange.fire(P))}set orthogonalStartSash(P){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),P){const V=H=>{this.orthogonalStartDragHandleDisposables.clear(),H!==0&&(this._orthogonalStartDragHandle=(0,C.R3)(this.el,(0,C.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,A.OF)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new d.Y(this._orthogonalStartDragHandle,"mouseenter")).event(()=>R.onMouseEnter(P),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new d.Y(this._orthogonalStartDragHandle,"mouseleave")).event(()=>R.onMouseLeave(P),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(P.onDidEnablementChange.event(V,this)),V(P.state)}this._orthogonalStartSash=P}set orthogonalEndSash(P){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),P){const V=H=>{this.orthogonalEndDragHandleDisposables.clear(),H!==0&&(this._orthogonalEndDragHandle=(0,C.R3)(this.el,(0,C.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,A.OF)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new d.Y(this._orthogonalEndDragHandle,"mouseenter")).event(()=>R.onMouseEnter(P),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new d.Y(this._orthogonalEndDragHandle,"mouseleave")).event(()=>R.onMouseLeave(P),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(P.onDidEnablementChange.event(V,this)),V(P.state)}this._orthogonalEndSash=P}onPointerStart(P,V){C.zB.stop(P);let H=!1;if(!P.__orthogonalSashEvent){const J=this.getOrthogonalSash(P);J&&(H=!0,P.__orthogonalSashEvent=!0,J.onPointerStart(P,new N(V)))}if(this.linkedSash&&!P.__linkedSashEvent&&(P.__linkedSashEvent=!0,this.linkedSash.onPointerStart(P,new N(V))),!this.state)return;const ee=(0,C.H$)("iframe");for(const J of ee)J.classList.add(L);const ae=P.pageX,me=P.pageY,ge=P.altKey,re={startX:ae,currentX:ae,startY:me,currentY:me,altKey:ge};this.el.classList.add("active"),this._onDidStart.fire(re);const se=(0,C.dS)(this.el),X=()=>{let J="";H?J="all-scroll":this.orientation===1?this.state===1?J="s-resize":this.state===2?J="n-resize":J=M.dz?"row-resize":"ns-resize":this.state===1?J="e-resize":this.state===2?J="w-resize":J=M.dz?"col-resize":"ew-resize",se.textContent=`* { cursor: ${J} !important; }`},$=new A.SL;X(),H||this.onDidEnablementChange.event(X,null,$);const j=J=>{C.zB.stop(J,!1);const oe={startX:ae,currentX:J.pageX,startY:me,currentY:J.pageY,altKey:ge};this._onDidChange.fire(oe)},ie=J=>{C.zB.stop(J,!1),this.el.removeChild(se),this.el.classList.remove("active"),this._onDidEnd.fire(),$.dispose();for(const oe of ee)oe.classList.remove(L)};V.onPointerMove(j,null,$),V.onPointerUp(ie,null,$),$.add(V)}onPointerDoublePress(P){const V=this.getOrthogonalSash(P);V&&V._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(P,V=!1){P.el.classList.contains("active")?(P.hoverDelayer.cancel(),P.el.classList.add("hover")):P.hoverDelayer.trigger(()=>P.el.classList.add("hover"),P.hoverDelay).then(void 0,()=>{}),!V&&P.linkedSash&&R.onMouseEnter(P.linkedSash,!0)}static onMouseLeave(P,V=!1){P.hoverDelayer.cancel(),P.el.classList.remove("hover"),!V&&P.linkedSash&&R.onMouseLeave(P.linkedSash,!0)}clearSashHoverState(){R.onMouseLeave(this)}layout(){if(this.orientation===0){const P=this.layoutProvider;this.el.style.left=P.getVerticalSashLeft(this)-this.size/2+"px",P.getVerticalSashTop&&(this.el.style.top=P.getVerticalSashTop(this)+"px"),P.getVerticalSashHeight&&(this.el.style.height=P.getVerticalSashHeight(this)+"px")}else{const P=this.layoutProvider;this.el.style.top=P.getHorizontalSashTop(this)-this.size/2+"px",P.getHorizontalSashLeft&&(this.el.style.left=P.getHorizontalSashLeft(this)+"px"),P.getHorizontalSashWidth&&(this.el.style.width=P.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(P){if(!(!P.target||!(P.target instanceof HTMLElement))&&P.target.classList.contains("orthogonal-drag-handle"))return P.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}},25451:function(it,Ee,l){"use strict";l.d(Ee,{s$:function(){return se},NB:function(){return ge},$Z:function(){return re}});var C=l(50731),d=l(50082),z=l(34653),O=l(26934),y=l(14401),W=l(31246),A=l(57186);const M=11;class I extends W.${constructor(j){super(),this._onActivate=j.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=j.bgWidth+"px",this.bgDomNode.style.height=j.bgHeight+"px",typeof j.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof j.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof j.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof j.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=j.className,this.domNode.classList.add(...j.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=M+"px",this.domNode.style.height=M+"px",typeof j.top!="undefined"&&(this.domNode.style.top=j.top+"px"),typeof j.left!="undefined"&&(this.domNode.style.left=j.left+"px"),typeof j.bottom!="undefined"&&(this.domNode.style.bottom=j.bottom+"px"),typeof j.right!="undefined"&&(this.domNode.style.right=j.right+"px"),this._mouseMoveMonitor=this._register(new y.Z),this.onmousedown(this.bgDomNode,ie=>this._arrowMouseDown(ie)),this.onmousedown(this.domNode,ie=>this._arrowMouseDown(ie)),this._mousedownRepeatTimer=this._register(new A.zh),this._mousedownScheduleRepeatTimer=this._register(new A._F)}_arrowMouseDown(j){const ie=()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),41.666666666666664)};this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(ie,200),this._mouseMoveMonitor.startMonitoring(j.target,j.buttons,y.e,J=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),j.preventDefault()}}var w=l(1405);class _ extends w.JT{constructor(j,ie,J){super(),this._visibility=j,this._visibleClassName=ie,this._invisibleClassName=J,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new A._F)}setVisibility(j){this._visibility!==j&&(this._visibility=j,this._updateShouldBeVisible())}setShouldBeVisible(j){this._rawShouldBeVisible=j,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const j=this._applyVisibilitySetting();this._shouldBeVisible!==j&&(this._shouldBeVisible=j,this.ensureVisibility())}setIsNeeded(j){this._isNeeded!==j&&(this._isNeeded=j,this.ensureVisibility())}setDomNode(j){this._domNode=j,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(j){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(j?" fade":"")))}}var f=l(24180);const m=140;class a extends W.${constructor(j){super(),this._lazyRender=j.lazyRender,this._host=j.host,this._scrollable=j.scrollable,this._scrollByPage=j.scrollByPage,this._scrollbarState=j.scrollbarState,this._visibilityController=this._register(new _(j.visibility,"visible scrollbar "+j.extraScrollbarClassName,"invisible scrollbar "+j.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new y.Z),this._shouldRender=!0,this.domNode=(0,z.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,ie=>this._domNodeMouseDown(ie))}_createArrow(j){const ie=this._register(new I(j));this.domNode.domNode.appendChild(ie.bgDomNode),this.domNode.domNode.appendChild(ie.domNode)}_createSlider(j,ie,J,oe){this.slider=(0,z.X)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(j),this.slider.setLeft(ie),typeof J=="number"&&this.slider.setWidth(J),typeof oe=="number"&&this.slider.setHeight(oe),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,ce=>{ce.leftButton&&(ce.preventDefault(),this._sliderMouseDown(ce,()=>{}))}),this.onclick(this.slider.domNode,ce=>{ce.leftButton&&ce.stopPropagation()})}_onElementSize(j){return this._scrollbarState.setVisibleSize(j)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(j){return this._scrollbarState.setScrollSize(j)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(j){return this._scrollbarState.setScrollPosition(j)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(j){j.target===this.domNode.domNode&&this._onMouseDown(j)}delegateMouseDown(j){const ie=this.domNode.domNode.getClientRects()[0].top,J=ie+this._scrollbarState.getSliderPosition(),oe=ie+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),ce=this._sliderMousePosition(j);J<=ce&&ce<=oe?j.leftButton&&(j.preventDefault(),this._sliderMouseDown(j,()=>{})):this._onMouseDown(j)}_onMouseDown(j){let ie,J;if(j.target===this.domNode.domNode&&typeof j.browserEvent.offsetX=="number"&&typeof j.browserEvent.offsetY=="number")ie=j.browserEvent.offsetX,J=j.browserEvent.offsetY;else{const ce=d.i(this.domNode.domNode);ie=j.posx-ce.left,J=j.posy-ce.top}const oe=this._mouseDownRelativePosition(ie,J);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(oe):this._scrollbarState.getDesiredScrollPositionFromOffset(oe)),j.leftButton&&(j.preventDefault(),this._sliderMouseDown(j,()=>{}))}_sliderMouseDown(j,ie){const J=this._sliderMousePosition(j),oe=this._sliderOrthogonalMousePosition(j),ce=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(j.target,j.buttons,y.e,we=>{const Me=this._sliderOrthogonalMousePosition(we),Ke=Math.abs(Me-oe);if(f.ED&&Ke>m){this._setDesiredScrollPositionNow(ce.getScrollPosition());return}const be=this._sliderMousePosition(we)-J;this._setDesiredScrollPositionNow(ce.getDesiredScrollPositionFromDelta(be))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),ie()}),this._host.onDragStart()}_setDesiredScrollPositionNow(j){const ie={};this.writeScrollPosition(ie,j),this._scrollable.setScrollPositionNow(ie)}updateScrollbarSize(j){this._updateScrollbarSize(j),this._scrollbarState.setScrollbarSize(j),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}const x=20;class k{constructor(j,ie,J,oe,ce,we){this._scrollbarSize=Math.round(ie),this._oppositeScrollbarSize=Math.round(J),this._arrowSize=Math.round(j),this._visibleSize=oe,this._scrollSize=ce,this._scrollPosition=we,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new k(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(j){const ie=Math.round(j);return this._visibleSize!==ie?(this._visibleSize=ie,this._refreshComputedValues(),!0):!1}setScrollSize(j){const ie=Math.round(j);return this._scrollSize!==ie?(this._scrollSize=ie,this._refreshComputedValues(),!0):!1}setScrollPosition(j){const ie=Math.round(j);return this._scrollPosition!==ie?(this._scrollPosition=ie,this._refreshComputedValues(),!0):!1}setScrollbarSize(j){this._scrollbarSize=Math.round(j)}setOppositeScrollbarSize(j){this._oppositeScrollbarSize=Math.round(j)}static _computeValues(j,ie,J,oe,ce){const we=Math.max(0,J-j),Me=Math.max(0,we-2*ie),Ke=oe>0&&oe>J;if(!Ke)return{computedAvailableSize:Math.round(we),computedIsNeeded:Ke,computedSliderSize:Math.round(Me),computedSliderRatio:0,computedSliderPosition:0};const De=Math.round(Math.max(x,Math.floor(J*Me/oe))),be=(Me-De)/(oe-J),We=ce*be;return{computedAvailableSize:Math.round(we),computedIsNeeded:Ke,computedSliderSize:Math.round(De),computedSliderRatio:be,computedSliderPosition:Math.round(We)}}_refreshComputedValues(){const j=k._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=j.computedAvailableSize,this._computedIsNeeded=j.computedIsNeeded,this._computedSliderSize=j.computedSliderSize,this._computedSliderRatio=j.computedSliderRatio,this._computedSliderPosition=j.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(j){if(!this._computedIsNeeded)return 0;const ie=j-this._arrowSize-this._computedSliderSize/2;return Math.round(ie/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(j){if(!this._computedIsNeeded)return 0;const ie=j-this._arrowSize;let J=this._scrollPosition;return ie<this._computedSliderPosition?J-=this._visibleSize:J+=this._visibleSize,J}getDesiredScrollPositionFromDelta(j){if(!this._computedIsNeeded)return 0;const ie=this._computedSliderPosition+j;return Math.round(ie/this._computedSliderRatio)}}var T=l(74696);class N extends a{constructor(j,ie,J){const oe=j.getScrollDimensions(),ce=j.getCurrentScrollPosition();if(super({lazyRender:ie.lazyRender,host:J,scrollbarState:new k(ie.horizontalHasArrows?ie.arrowSize:0,ie.horizontal===2?0:ie.horizontalScrollbarSize,ie.vertical===2?0:ie.verticalScrollbarSize,oe.width,oe.scrollWidth,ce.scrollLeft),visibility:ie.horizontal,extraScrollbarClassName:"horizontal",scrollable:j,scrollByPage:ie.scrollByPage}),ie.horizontalHasArrows){const we=(ie.arrowSize-M)/2,Me=(ie.horizontalScrollbarSize-M)/2;this._createArrow({className:"scra",icon:T.lA.scrollbarButtonLeft,top:Me,left:we,bottom:void 0,right:void 0,bgWidth:ie.arrowSize,bgHeight:ie.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new O.q(null,1,0))}),this._createArrow({className:"scra",icon:T.lA.scrollbarButtonRight,top:Me,left:void 0,bottom:void 0,right:we,bgWidth:ie.arrowSize,bgHeight:ie.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new O.q(null,-1,0))})}this._createSlider(Math.floor((ie.horizontalScrollbarSize-ie.horizontalSliderSize)/2),0,void 0,ie.horizontalSliderSize)}_updateSlider(j,ie){this.slider.setWidth(j),this.slider.setLeft(ie)}_renderDomNode(j,ie){this.domNode.setWidth(j),this.domNode.setHeight(ie),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(j){return this._shouldRender=this._onElementScrollSize(j.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(j.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(j.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(j,ie){return j}_sliderMousePosition(j){return j.posx}_sliderOrthogonalMousePosition(j){return j.posy}_updateScrollbarSize(j){this.slider.setHeight(j)}writeScrollPosition(j,ie){j.scrollLeft=ie}updateOptions(j){this.updateScrollbarSize(j.horizontal===2?0:j.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(j.vertical===2?0:j.verticalScrollbarSize),this._visibilityController.setVisibility(j.horizontal),this._scrollByPage=j.scrollByPage}}class L extends a{constructor(j,ie,J){const oe=j.getScrollDimensions(),ce=j.getCurrentScrollPosition();if(super({lazyRender:ie.lazyRender,host:J,scrollbarState:new k(ie.verticalHasArrows?ie.arrowSize:0,ie.vertical===2?0:ie.verticalScrollbarSize,0,oe.height,oe.scrollHeight,ce.scrollTop),visibility:ie.vertical,extraScrollbarClassName:"vertical",scrollable:j,scrollByPage:ie.scrollByPage}),ie.verticalHasArrows){const we=(ie.arrowSize-M)/2,Me=(ie.verticalScrollbarSize-M)/2;this._createArrow({className:"scra",icon:T.lA.scrollbarButtonUp,top:we,left:Me,bottom:void 0,right:void 0,bgWidth:ie.verticalScrollbarSize,bgHeight:ie.arrowSize,onActivate:()=>this._host.onMouseWheel(new O.q(null,0,1))}),this._createArrow({className:"scra",icon:T.lA.scrollbarButtonDown,top:void 0,left:Me,bottom:we,right:void 0,bgWidth:ie.verticalScrollbarSize,bgHeight:ie.arrowSize,onActivate:()=>this._host.onMouseWheel(new O.q(null,0,-1))})}this._createSlider(0,Math.floor((ie.verticalScrollbarSize-ie.verticalSliderSize)/2),ie.verticalSliderSize,void 0)}_updateSlider(j,ie){this.slider.setHeight(j),this.slider.setTop(ie)}_renderDomNode(j,ie){this.domNode.setWidth(ie),this.domNode.setHeight(j),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(j){return this._shouldRender=this._onElementScrollSize(j.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(j.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(j.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(j,ie){return ie}_sliderMousePosition(j){return j.posy}_sliderOrthogonalMousePosition(j){return j.posx}_updateScrollbarSize(j){this.slider.setWidth(j)}writeScrollPosition(j,ie){j.scrollTop=ie}updateOptions(j){this.updateScrollbarSize(j.vertical===2?0:j.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(j.vertical),this._scrollByPage=j.scrollByPage}}var R=l(60774),b=l(99661);const P=500,V=50,H=!0;class ee{constructor(j,ie,J){this.timestamp=j,this.deltaX=ie,this.deltaY=J,this.score=0}}class ae{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let j=1,ie=0,J=1,oe=this._rear;do{const ce=oe===this._front?j:Math.pow(2,-J);if(j-=ce,ie+=this._memory[oe].score*ce,oe===this._front)break;oe=(this._capacity+oe-1)%this._capacity,J++}while(!0);return ie<=.5}accept(j,ie,J){const oe=new ee(j,ie,J);oe.score=this._computeScore(oe),this._front===-1&&this._rear===-1?(this._memory[0]=oe,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=oe)}_computeScore(j){if(Math.abs(j.deltaX)>0&&Math.abs(j.deltaY)>0)return 1;let ie=.5;const J=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(j.deltaX)||!this._isAlmostInt(j.deltaY))&&(ie+=.25),Math.min(Math.max(ie,0),1)}_isAlmostInt(j){return Math.abs(Math.round(j)-j)<.01}}ae.INSTANCE=new ae;class me extends W.${constructor(j,ie,J){super(),this._onScroll=this._register(new R.Q5),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new R.Q5),j.style.overflow="hidden",this._options=X(ie),this._scrollable=J,this._register(this._scrollable.onScroll(ce=>{this._onWillScroll.fire(ce),this._onDidScroll(ce),this._onScroll.fire(ce)}));const oe={onMouseWheel:ce=>this._onMouseWheel(ce),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new L(this._scrollable,this._options,oe)),this._horizontalScrollbar=this._register(new N(this._scrollable,this._options,oe)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(j),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,z.X)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,z.X)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,z.X)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,ce=>this._onMouseOver(ce)),this.onnonbubblingmouseout(this._listenOnDomNode,ce=>this._onMouseOut(ce)),this._hideTimeout=this._register(new A._F),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=(0,w.B9)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(j){this._verticalScrollbar.delegateMouseDown(j)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(j){this._scrollable.setScrollDimensions(j,!1)}updateClassName(j){this._options.className=j,f.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(j){typeof j.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=j.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof j.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=j.mouseWheelScrollSensitivity),typeof j.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=j.fastScrollSensitivity),typeof j.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=j.scrollPredominantAxis),typeof j.horizontal!="undefined"&&(this._options.horizontal=j.horizontal),typeof j.vertical!="undefined"&&(this._options.vertical=j.vertical),typeof j.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=j.horizontalScrollbarSize),typeof j.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=j.verticalScrollbarSize),typeof j.scrollByPage!="undefined"&&(this._options.scrollByPage=j.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(j){if(this._mouseWheelToDispose.length>0!==j&&(this._mouseWheelToDispose=(0,w.B9)(this._mouseWheelToDispose),j)){const J=oe=>{this._onMouseWheel(new O.q(oe))};this._mouseWheelToDispose.push(d.nm(this._listenOnDomNode,d.tw.MOUSE_WHEEL,J,{passive:!1}))}}_onMouseWheel(j){const ie=ae.INSTANCE;if(H){const ce=window.devicePixelRatio/(0,C.getZoomFactor)();f.ED||f.IJ?ie.accept(Date.now(),j.deltaX/ce,j.deltaY/ce):ie.accept(Date.now(),j.deltaX,j.deltaY)}let J=!1;if(j.deltaY||j.deltaX){let ce=j.deltaY*this._options.mouseWheelScrollSensitivity,we=j.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(ce)>=Math.abs(we)?we=0:ce=0),this._options.flipAxes&&([ce,we]=[we,ce]);const Me=!f.dz&&j.browserEvent&&j.browserEvent.shiftKey;(this._options.scrollYToX||Me)&&!we&&(we=ce,ce=0),j.browserEvent&&j.browserEvent.altKey&&(we=we*this._options.fastScrollSensitivity,ce=ce*this._options.fastScrollSensitivity);const Ke=this._scrollable.getFutureScrollPosition();let De={};if(ce){const be=V*ce,We=Ke.scrollTop-(be<0?Math.floor(be):Math.ceil(be));this._verticalScrollbar.writeScrollPosition(De,We)}if(we){const be=V*we,We=Ke.scrollLeft-(be<0?Math.floor(be):Math.ceil(be));this._horizontalScrollbar.writeScrollPosition(De,We)}De=this._scrollable.validateScrollPosition(De),(Ke.scrollLeft!==De.scrollLeft||Ke.scrollTop!==De.scrollTop)&&(H&&this._options.mouseWheelSmoothScroll&&ie.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(De):this._scrollable.setScrollPositionNow(De),J=!0)}let oe=J;!oe&&this._options.alwaysConsumeMouseWheel&&(oe=!0),!oe&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(oe=!0),oe&&(j.preventDefault(),j.stopPropagation())}_onDidScroll(j){this._shouldRender=this._horizontalScrollbar.onDidScroll(j)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(j)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!!this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const j=this._scrollable.getCurrentScrollPosition(),ie=j.scrollTop>0,J=j.scrollLeft>0,oe=J?" left":"",ce=ie?" top":"",we=J||ie?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${oe}`),this._topShadowDomNode.setClassName(`shadow${ce}`),this._topLeftShadowDomNode.setClassName(`shadow${we}${ce}${oe}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(j){this._mouseIsOver=!1,this._hide()}_onMouseOver(j){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),P)}}class ge extends me{constructor(j,ie){ie=ie||{},ie.mouseWheelSmoothScroll=!1;const J=new b.Rm({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:oe=>d.jL(oe)});super(j,ie,J),this._register(J)}setScrollPosition(j){this._scrollable.setScrollPositionNow(j)}}class re extends me{constructor(j,ie,J){super(j,ie,J)}setScrollPosition(j){j.reuseAnimation?this._scrollable.setScrollPositionSmooth(j,j.reuseAnimation):this._scrollable.setScrollPositionNow(j)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class se extends me{constructor(j,ie){ie=ie||{},ie.mouseWheelSmoothScroll=!1;const J=new b.Rm({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:oe=>d.jL(oe)});super(j,ie,J),this._register(J),this._element=j,this.onScroll(oe=>{oe.scrollTopChanged&&(this._element.scrollTop=oe.scrollTop),oe.scrollLeftChanged&&(this._element.scrollLeft=oe.scrollLeft)}),this.scanDomNode()}setScrollPosition(j){this._scrollable.setScrollPositionNow(j)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}function X($){const j={lazyRender:typeof $.lazyRender!="undefined"?$.lazyRender:!1,className:typeof $.className!="undefined"?$.className:"",useShadows:typeof $.useShadows!="undefined"?$.useShadows:!0,handleMouseWheel:typeof $.handleMouseWheel!="undefined"?$.handleMouseWheel:!0,flipAxes:typeof $.flipAxes!="undefined"?$.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof $.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?$.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof $.alwaysConsumeMouseWheel!="undefined"?$.alwaysConsumeMouseWheel:!1,scrollYToX:typeof $.scrollYToX!="undefined"?$.scrollYToX:!1,mouseWheelScrollSensitivity:typeof $.mouseWheelScrollSensitivity!="undefined"?$.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof $.fastScrollSensitivity!="undefined"?$.fastScrollSensitivity:5,scrollPredominantAxis:typeof $.scrollPredominantAxis!="undefined"?$.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof $.mouseWheelSmoothScroll!="undefined"?$.mouseWheelSmoothScroll:!0,arrowSize:typeof $.arrowSize!="undefined"?$.arrowSize:11,listenOnDomNode:typeof $.listenOnDomNode!="undefined"?$.listenOnDomNode:null,horizontal:typeof $.horizontal!="undefined"?$.horizontal:1,horizontalScrollbarSize:typeof $.horizontalScrollbarSize!="undefined"?$.horizontalScrollbarSize:10,horizontalSliderSize:typeof $.horizontalSliderSize!="undefined"?$.horizontalSliderSize:0,horizontalHasArrows:typeof $.horizontalHasArrows!="undefined"?$.horizontalHasArrows:!1,vertical:typeof $.vertical!="undefined"?$.vertical:1,verticalScrollbarSize:typeof $.verticalScrollbarSize!="undefined"?$.verticalScrollbarSize:10,verticalHasArrows:typeof $.verticalHasArrows!="undefined"?$.verticalHasArrows:!1,verticalSliderSize:typeof $.verticalSliderSize!="undefined"?$.verticalSliderSize:0,scrollByPage:typeof $.scrollByPage!="undefined"?$.scrollByPage:!1};return j.horizontalSliderSize=typeof $.horizontalSliderSize!="undefined"?$.horizontalSliderSize:j.horizontalScrollbarSize,j.verticalSliderSize=typeof $.verticalSliderSize!="undefined"?$.verticalSliderSize:j.verticalScrollbarSize,f.dz&&(j.className+=" mac"),j}},61350:function(it,Ee,l){"use strict";l.d(Ee,{M:function(){return k},z:function(){return T}});var C=l(50082),d=l(36819),z=l(25451),O=l(825),y=l(8957),W=l(60774),A=l(1405),M=l(48641),I=l(99661),w=l(37061);const _={separatorBorder:y.Il.transparent};class f{constructor(L,R,b,P){this.container=L,this.view=R,this.disposable=P,this._cachedVisibleSize=void 0,typeof b=="number"?(this._size=b,this._cachedVisibleSize=void 0,L.classList.add("visible")):(this._size=0,this._cachedVisibleSize=b.cachedVisibleSize)}set size(L){this._size=L}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(L,R){L!==this.visible&&(L?(this.size=(0,M.uZ)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof R=="number"?R:this.size,this.size=0),this.container.classList.toggle("visible",L),this.view.setVisible&&this.view.setVisible(L))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(L){this.container.style.pointerEvents=L?"":"none"}layout(L,R){this.layoutContainer(L),this.view.layout(this.size,L,R)}dispose(){return this.disposable.dispose(),this.view}}class m extends f{layoutContainer(L){this.container.style.top=`${L}px`,this.container.style.height=`${this.size}px`}}class a extends f{layoutContainer(L){this.container.style.left=`${L}px`,this.container.style.width=`${this.size}px`}}var x;(function(N){N[N.Idle=0]="Idle",N[N.Busy=1]="Busy"})(x||(x={}));var k;(function(N){N.Distribute={type:"distribute"};function L(b){return{type:"split",index:b}}N.Split=L;function R(b){return{type:"invisible",cachedVisibleSize:b}}N.Invisible=R})(k||(k={}));class T extends A.JT{constructor(L,R={}){var b,P,V,H,ee;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=x.Idle,this._onDidSashChange=this._register(new W.Q5),this._onDidSashReset=this._register(new W.Q5),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(b=R.orientation)!==null&&b!==void 0?b:0,this.inverseAltBehavior=(P=R.inverseAltBehavior)!==null&&P!==void 0?P:!1,this.proportionalLayout=(V=R.proportionalLayout)!==null&&V!==void 0?V:!0,this.getSashOrthogonalSize=R.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),L.appendChild(this.el),this.sashContainer=(0,C.R3)(this.el,(0,C.$)(".sash-container")),this.viewContainer=(0,C.$)(".split-view-container"),this.scrollable=new I.Rm({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:C.jL}),this.scrollableElement=this._register(new z.$Z(this.viewContainer,{vertical:this.orientation===0?(H=R.scrollbarVisibility)!==null&&H!==void 0?H:1:2,horizontal:this.orientation===1?(ee=R.scrollbarVisibility)!==null&&ee!==void 0?ee:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(ae=>{this.viewContainer.scrollTop=ae.scrollTop,this.viewContainer.scrollLeft=ae.scrollLeft})),(0,C.R3)(this.el,this.scrollableElement.getDomNode()),this.style(R.styles||_),R.descriptor&&(this.size=R.descriptor.size,R.descriptor.views.forEach((ae,me)=>{const ge=w.o8(ae.visible)||ae.visible?ae.size:{type:"invisible",cachedVisibleSize:ae.size},re=ae.view;this.doAddView(re,ge,me,!0)}),this.contentSize=this.viewItems.reduce((ae,me)=>ae+me.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(L){for(const R of this.sashItems)R.sash.orthogonalStartSash=L;this._orthogonalStartSash=L}set orthogonalEndSash(L){for(const R of this.sashItems)R.sash.orthogonalEndSash=L;this._orthogonalEndSash=L}set startSnappingEnabled(L){this._startSnappingEnabled!==L&&(this._startSnappingEnabled=L,this.updateSashEnablement())}set endSnappingEnabled(L){this._endSnappingEnabled!==L&&(this._endSnappingEnabled=L,this.updateSashEnablement())}style(L){L.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",L.separatorBorder.toString()))}addView(L,R,b=this.viewItems.length,P){this.doAddView(L,R,b,P)}layout(L,R){const b=Math.max(this.size,this.contentSize);if(this.size=L,this.layoutContext=R,this.proportions)for(let P=0;P<this.viewItems.length;P++){const V=this.viewItems[P];V.size=(0,M.uZ)(Math.round(this.proportions[P]*L),V.minimumSize,V.maximumSize)}else{const P=(0,O.w6)(this.viewItems.length),V=P.filter(ee=>this.viewItems[ee].priority===1),H=P.filter(ee=>this.viewItems[ee].priority===2);this.resize(this.viewItems.length-1,L-b,void 0,V,H)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(L=>L.size/this.contentSize))}onSashStart({sash:L,start:R,alt:b}){for(const ee of this.viewItems)ee.enabled=!1;const P=this.sashItems.findIndex(ee=>ee.sash===L),V=(0,A.F8)((0,C.nm)(document.body,"keydown",ee=>H(this.sashDragState.current,ee.altKey)),(0,C.nm)(document.body,"keyup",()=>H(this.sashDragState.current,!1))),H=(ee,ae)=>{const me=this.viewItems.map($=>$.size);let ge=Number.NEGATIVE_INFINITY,re=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(ae=!ae),ae)if(P===this.sashItems.length-1){const j=this.viewItems[P];ge=(j.minimumSize-j.size)/2,re=(j.maximumSize-j.size)/2}else{const j=this.viewItems[P+1];ge=(j.size-j.maximumSize)/2,re=(j.size-j.minimumSize)/2}let se,X;if(!ae){const $=(0,O.w6)(P,-1),j=(0,O.w6)(P+1,this.viewItems.length),ie=$.reduce((be,We)=>be+(this.viewItems[We].minimumSize-me[We]),0),J=$.reduce((be,We)=>be+(this.viewItems[We].viewMaximumSize-me[We]),0),oe=j.length===0?Number.POSITIVE_INFINITY:j.reduce((be,We)=>be+(me[We]-this.viewItems[We].minimumSize),0),ce=j.length===0?Number.NEGATIVE_INFINITY:j.reduce((be,We)=>be+(me[We]-this.viewItems[We].viewMaximumSize),0),we=Math.max(ie,ce),Me=Math.min(oe,J),Ke=this.findFirstSnapIndex($),De=this.findFirstSnapIndex(j);if(typeof Ke=="number"){const be=this.viewItems[Ke],We=Math.floor(be.viewMinimumSize/2);se={index:Ke,limitDelta:be.visible?we-We:we+We,size:be.size}}if(typeof De=="number"){const be=this.viewItems[De],We=Math.floor(be.viewMinimumSize/2);X={index:De,limitDelta:be.visible?Me+We:Me-We,size:be.size}}}this.sashDragState={start:ee,current:ee,index:P,sizes:me,minDelta:ge,maxDelta:re,alt:ae,snapBefore:se,snapAfter:X,disposable:V}};H(R,b)}onSashChange({current:L}){const{index:R,start:b,sizes:P,alt:V,minDelta:H,maxDelta:ee,snapBefore:ae,snapAfter:me}=this.sashDragState;this.sashDragState.current=L;const ge=L-b,re=this.resize(R,ge,P,void 0,void 0,H,ee,ae,me);if(V){const se=R===this.sashItems.length-1,X=this.viewItems.map(ce=>ce.size),$=se?R:R+1,j=this.viewItems[$],ie=j.size-j.maximumSize,J=j.size-j.minimumSize,oe=se?R-1:R+1;this.resize(oe,-re,X,void 0,void 0,ie,J)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(L){this._onDidSashChange.fire(L),this.sashDragState.disposable.dispose(),this.saveProportions();for(const R of this.viewItems)R.enabled=!0}onViewChange(L,R){const b=this.viewItems.indexOf(L);b<0||b>=this.viewItems.length||(R=typeof R=="number"?R:L.size,R=(0,M.uZ)(R,L.minimumSize,L.maximumSize),this.inverseAltBehavior&&b>0?(this.resize(b-1,Math.floor((L.size-R)/2)),this.distributeEmptySpace(),this.layoutViews()):(L.size=R,this.relayout([b],void 0)))}resizeView(L,R){if(this.state!==x.Idle)throw new Error("Cant modify splitview");if(this.state=x.Busy,L<0||L>=this.viewItems.length)return;const b=(0,O.w6)(this.viewItems.length).filter(ee=>ee!==L),P=[...b.filter(ee=>this.viewItems[ee].priority===1),L],V=b.filter(ee=>this.viewItems[ee].priority===2),H=this.viewItems[L];R=Math.round(R),R=(0,M.uZ)(R,H.minimumSize,Math.min(H.maximumSize,this.size)),H.size=R,this.relayout(P,V),this.state=x.Idle}distributeViewSizes(){const L=[];let R=0;for(const ee of this.viewItems)ee.maximumSize-ee.minimumSize>0&&(L.push(ee),R+=ee.size);const b=Math.floor(R/L.length);for(const ee of L)ee.size=(0,M.uZ)(b,ee.minimumSize,ee.maximumSize);const P=(0,O.w6)(this.viewItems.length),V=P.filter(ee=>this.viewItems[ee].priority===1),H=P.filter(ee=>this.viewItems[ee].priority===2);this.relayout(V,H)}getViewSize(L){return L<0||L>=this.viewItems.length?-1:this.viewItems[L].size}doAddView(L,R,b=this.viewItems.length,P){if(this.state!==x.Idle)throw new Error("Cant modify splitview");this.state=x.Busy;const V=(0,C.$)(".split-view-view");b===this.viewItems.length?this.viewContainer.appendChild(V):this.viewContainer.insertBefore(V,this.viewContainer.children.item(b));const H=L.onDidChange(se=>this.onViewChange(ge,se)),ee=(0,A.OF)(()=>this.viewContainer.removeChild(V)),ae=(0,A.F8)(H,ee);let me;typeof R=="number"?me=R:R.type==="split"?me=this.getViewSize(R.index)/2:R.type==="invisible"?me={cachedVisibleSize:R.cachedVisibleSize}:me=L.minimumSize;const ge=this.orientation===0?new m(V,L,me,ae):new a(V,L,me,ae);if(this.viewItems.splice(b,0,ge),this.viewItems.length>1){let se={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const X=this.orientation===0?new d.g(this.sashContainer,{getHorizontalSashTop:be=>this.getSashPosition(be),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},se),{orientation:1})):new d.g(this.sashContainer,{getVerticalSashLeft:be=>this.getSashPosition(be),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},se),{orientation:0})),$=this.orientation===0?be=>({sash:X,start:be.startY,current:be.currentY,alt:be.altKey}):be=>({sash:X,start:be.startX,current:be.currentX,alt:be.altKey}),ie=W.ju.map(X.onDidStart,$)(this.onSashStart,this),oe=W.ju.map(X.onDidChange,$)(this.onSashChange,this),we=W.ju.map(X.onDidEnd,()=>this.sashItems.findIndex(be=>be.sash===X))(this.onSashEnd,this),Me=X.onDidReset(()=>{const be=this.sashItems.findIndex(tt=>tt.sash===X),We=(0,O.w6)(be,-1),et=(0,O.w6)(be+1,this.viewItems.length),Kt=this.findFirstSnapIndex(We),_t=this.findFirstSnapIndex(et);typeof Kt=="number"&&!this.viewItems[Kt].visible||typeof _t=="number"&&!this.viewItems[_t].visible||this._onDidSashReset.fire(be)}),Ke=(0,A.F8)(ie,oe,we,Me,X),De={sash:X,disposable:Ke};this.sashItems.splice(b-1,0,De)}V.appendChild(L.element);let re;typeof R!="number"&&R.type==="split"&&(re=[R.index]),P||this.relayout([b],re),this.state=x.Idle,!P&&typeof R!="number"&&R.type==="distribute"&&this.distributeViewSizes()}relayout(L,R){const b=this.viewItems.reduce((P,V)=>P+V.size,0);this.resize(this.viewItems.length-1,this.size-b,void 0,L,R),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(L,R,b=this.viewItems.map(ge=>ge.size),P,V,H=Number.NEGATIVE_INFINITY,ee=Number.POSITIVE_INFINITY,ae,me){if(L<0||L>=this.viewItems.length)return 0;const ge=(0,O.w6)(L,-1),re=(0,O.w6)(L+1,this.viewItems.length);if(V)for(const De of V)(0,O.zI)(ge,De),(0,O.zI)(re,De);if(P)for(const De of P)(0,O.al)(ge,De),(0,O.al)(re,De);const se=ge.map(De=>this.viewItems[De]),X=ge.map(De=>b[De]),$=re.map(De=>this.viewItems[De]),j=re.map(De=>b[De]),ie=ge.reduce((De,be)=>De+(this.viewItems[be].minimumSize-b[be]),0),J=ge.reduce((De,be)=>De+(this.viewItems[be].maximumSize-b[be]),0),oe=re.length===0?Number.POSITIVE_INFINITY:re.reduce((De,be)=>De+(b[be]-this.viewItems[be].minimumSize),0),ce=re.length===0?Number.NEGATIVE_INFINITY:re.reduce((De,be)=>De+(b[be]-this.viewItems[be].maximumSize),0),we=Math.max(ie,ce,H),Me=Math.min(oe,J,ee);let Ke=!1;if(ae){const De=this.viewItems[ae.index],be=R>=ae.limitDelta;Ke=be!==De.visible,De.setVisible(be,ae.size)}if(!Ke&&me){const De=this.viewItems[me.index],be=R<me.limitDelta;Ke=be!==De.visible,De.setVisible(be,me.size)}if(Ke)return this.resize(L,R,b,P,V,H,ee);R=(0,M.uZ)(R,we,Me);for(let De=0,be=R;De<se.length;De++){const We=se[De],et=(0,M.uZ)(X[De]+be,We.minimumSize,We.maximumSize),Kt=et-X[De];be-=Kt,We.size=et}for(let De=0,be=R;De<$.length;De++){const We=$[De],et=(0,M.uZ)(j[De]-be,We.minimumSize,We.maximumSize),Kt=et-j[De];be+=Kt,We.size=et}return R}distributeEmptySpace(L){const R=this.viewItems.reduce((ee,ae)=>ee+ae.size,0);let b=this.size-R;const P=(0,O.w6)(this.viewItems.length-1,-1),V=P.filter(ee=>this.viewItems[ee].priority===1),H=P.filter(ee=>this.viewItems[ee].priority===2);for(const ee of H)(0,O.zI)(P,ee);for(const ee of V)(0,O.al)(P,ee);typeof L=="number"&&(0,O.al)(P,L);for(let ee=0;b!==0&&ee<P.length;ee++){const ae=this.viewItems[P[ee]],me=(0,M.uZ)(ae.size+b,ae.minimumSize,ae.maximumSize),ge=me-ae.size;b-=ge,ae.size=me}}layoutViews(){this.contentSize=this.viewItems.reduce((R,b)=>R+b.size,0);let L=0;for(const R of this.viewItems)R.layout(L,this.layoutContext),L+=R.size;this.sashItems.forEach(R=>R.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let L=!1;const R=this.viewItems.map(ae=>L=ae.size-ae.minimumSize>0||L);L=!1;const b=this.viewItems.map(ae=>L=ae.maximumSize-ae.size>0||L),P=[...this.viewItems].reverse();L=!1;const V=P.map(ae=>L=ae.size-ae.minimumSize>0||L).reverse();L=!1;const H=P.map(ae=>L=ae.maximumSize-ae.size>0||L).reverse();let ee=0;for(let ae=0;ae<this.sashItems.length;ae++){const{sash:me}=this.sashItems[ae],ge=this.viewItems[ae];ee+=ge.size;const re=!(R[ae]&&H[ae+1]),se=!(b[ae]&&V[ae+1]);if(re&&se){const X=(0,O.w6)(ae,-1),$=(0,O.w6)(ae+1,this.viewItems.length),j=this.findFirstSnapIndex(X),ie=this.findFirstSnapIndex($),J=typeof j=="number"&&!this.viewItems[j].visible,oe=typeof ie=="number"&&!this.viewItems[ie].visible;J&&V[ae]&&(ee>0||this.startSnappingEnabled)?me.state=1:oe&&R[ae]&&(ee<this.contentSize||this.endSnappingEnabled)?me.state=2:me.state=0}else re&&!se?me.state=1:!re&&se?me.state=2:me.state=3}}getSashPosition(L){let R=0;for(let b=0;b<this.sashItems.length;b++)if(R+=this.viewItems[b].size,this.sashItems[b].sash===L)return R;return 0}findFirstSnapIndex(L){for(const R of L){const b=this.viewItems[R];if(!!b.visible&&b.snap)return R}for(const R of L){const b=this.viewItems[R];if(b.visible&&b.maximumSize-b.minimumSize>0)return;if(!b.visible&&b.snap)return R}}dispose(){super.dispose(),(0,A.B9)(this.viewItems),this.viewItems=[],this.sashItems.forEach(L=>L.disposable.dispose()),this.sashItems=[]}}},31246:function(it,Ee,l){"use strict";l.d(Ee,{$:function(){return W}});var C=l(50082),d=l(16259),z=l(26934),O=l(50364),y=l(1405);class W extends y.JT{onclick(M,I){this._register(C.nm(M,C.tw.CLICK,w=>I(new z.n(w))))}onmousedown(M,I){this._register(C.nm(M,C.tw.MOUSE_DOWN,w=>I(new z.n(w))))}onmouseover(M,I){this._register(C.nm(M,C.tw.MOUSE_OVER,w=>I(new z.n(w))))}onnonbubblingmouseout(M,I){this._register(C.j_(M,w=>I(new z.n(w))))}onkeydown(M,I){this._register(C.nm(M,C.tw.KEY_DOWN,w=>I(new d.y(w))))}onkeyup(M,I){this._register(C.nm(M,C.tw.KEY_UP,w=>I(new d.y(w))))}oninput(M,I){this._register(C.nm(M,C.tw.INPUT,I))}onblur(M,I){this._register(C.nm(M,C.tw.BLUR,I))}onfocus(M,I){this._register(C.nm(M,C.tw.FOCUS,I))}ignoreGesture(M){O.o.ignoreTarget(M)}}},83337:function(it,Ee,l){"use strict";l.d(Ee,{Wi:function(){return W},Z0:function(){return A},aU:function(){return y},eZ:function(){return I},wY:function(){return M}});var C=l(60774),d=l(1405),z=l(82215),O=function(w,_,f,m){function a(x){return x instanceof f?x:new f(function(k){k(x)})}return new(f||(f=Promise))(function(x,k){function T(R){try{L(m.next(R))}catch(b){k(b)}}function N(R){try{L(m.throw(R))}catch(b){k(b)}}function L(R){R.done?x(R.value):a(R.value).then(T,N)}L((m=m.apply(w,_||[])).next())})};class y extends d.JT{constructor(_,f="",m="",a=!0,x){super(),this._onDidChange=this._register(new C.Q5),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=_,this._label=f,this._cssClass=m,this._enabled=a,this._actionCallback=x}get id(){return this._id}get label(){return this._label}set label(_){this._setLabel(_)}_setLabel(_){this._label!==_&&(this._label=_,this._onDidChange.fire({label:_}))}get tooltip(){return this._tooltip||""}set tooltip(_){this._setTooltip(_)}_setTooltip(_){this._tooltip!==_&&(this._tooltip=_,this._onDidChange.fire({tooltip:_}))}get class(){return this._cssClass}set class(_){this._setClass(_)}_setClass(_){this._cssClass!==_&&(this._cssClass=_,this._onDidChange.fire({class:_}))}get enabled(){return this._enabled}set enabled(_){this._setEnabled(_)}_setEnabled(_){this._enabled!==_&&(this._enabled=_,this._onDidChange.fire({enabled:_}))}get checked(){return this._checked}set checked(_){this._setChecked(_)}_setChecked(_){this._checked!==_&&(this._checked=_,this._onDidChange.fire({checked:_}))}run(_,f){return O(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(_))})}}class W extends d.JT{constructor(){super(...arguments),this._onBeforeRun=this._register(new C.Q5),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new C.Q5),this.onDidRun=this._onDidRun.event}run(_,f){return O(this,void 0,void 0,function*(){if(!_.enabled)return;this._onBeforeRun.fire({action:_});let m;try{yield this.runAction(_,f)}catch(a){m=a}this._onDidRun.fire({action:_,error:m})})}runAction(_,f){return O(this,void 0,void 0,function*(){yield _.run(f)})}}class A extends y{constructor(_){super(A.ID,_,_?"separator text":"separator"),this.checked=!1,this.enabled=!1}}A.ID="vs.actions.separator";class M{constructor(_,f,m,a){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=_,this.label=f,this.class=a,this._actions=m}get actions(){return this._actions}dispose(){}run(){return O(this,void 0,void 0,function*(){})}}class I extends y{constructor(){super(I.ID,z.N("submenu.empty","(empty)"),void 0,!1)}}I.ID="vs.actions.empty"},825:function(it,Ee,l){"use strict";l.d(Ee,{Dc:function(){return ae},EB:function(){return _},Gb:function(){return C},H9:function(){return re},HW:function(){return W},JH:function(){return d},Of:function(){return w},VJ:function(){return ge},XY:function(){return I},Xh:function(){return a},Zv:function(){return T},_2:function(){return R},al:function(){return L},dF:function(){return f},db:function(){return P},fS:function(){return z},fv:function(){return ee},jV:function(){return me},kX:function(){return M},lG:function(){return y},ry:function(){return O},tT:function(){return H},vM:function(){return A},w6:function(){return k},xH:function(){return x},zI:function(){return N}});function C(se,X=0){return se[se.length-(1+X)]}function d(se){if(se.length===0)throw new Error("Invalid tail call");return[se.slice(0,se.length-1),se[se.length-1]]}function z(se,X,$=(j,ie)=>j===ie){if(se===X)return!0;if(!se||!X||se.length!==X.length)return!1;for(let j=0,ie=se.length;j<ie;j++)if(!$(se[j],X[j]))return!1;return!0}function O(se,X,$){let j=0,ie=se.length-1;for(;j<=ie;){const J=(j+ie)/2|0,oe=$(se[J],X);if(oe<0)j=J+1;else if(oe>0)ie=J-1;else return J}return-(j+1)}function y(se,X){let $=0,j=se.length;if(j===0)return 0;for(;$<j;){const ie=Math.floor(($+j)/2);X(se[ie])?j=ie:$=ie+1}return $}function W(se,X,$){if(se=se|0,se>=X.length)throw new TypeError("invalid index");let j=X[Math.floor(X.length*Math.random())],ie=[],J=[],oe=[];for(let ce of X){const we=$(ce,j);we<0?ie.push(ce):we>0?J.push(ce):oe.push(ce)}return se<ie.length?W(se,ie,$):se<ie.length+oe.length?oe[0]:W(se-(ie.length+oe.length),J,$)}function A(se,X){const $=[];let j;for(const ie of se.slice(0).sort(X))!j||X(j[0],ie)!==0?(j=[ie],$.push(j)):j.push(ie);return $}function M(se){return se.filter(X=>!!X)}function I(se){return!Array.isArray(se)||se.length===0}function w(se){return Array.isArray(se)&&se.length>0}function _(se,X=$=>$){const $=new Set;return se.filter(j=>{const ie=X(j);return $.has(ie)?!1:($.add(ie),!0)})}function f(se,X){const $=m(se,X);if($!==-1)return se[$]}function m(se,X){for(let $=se.length-1;$>=0;$--){const j=se[$];if(X(j))return $}return-1}function a(se,X){return se.length>0?se[0]:X}function x(se){return[].concat(...se)}function k(se,X){let $=typeof X=="number"?se:0;typeof X=="number"?$=se:($=0,X=se);const j=[];if($<=X)for(let ie=$;ie<X;ie++)j.push(ie);else for(let ie=$;ie>X;ie--)j.push(ie);return j}function T(se,X,$){const j=se.slice(0,X),ie=se.slice(X);return j.concat($,ie)}function N(se,X){const $=se.indexOf(X);$>-1&&(se.splice($,1),se.unshift(X))}function L(se,X){const $=se.indexOf(X);$>-1&&(se.splice($,1),se.push(X))}function R(se){return Array.isArray(se)?se:[se]}function b(se,X,$){const j=V(se,X),ie=se.length,J=$.length;se.length=ie+J;for(let oe=ie-1;oe>=j;oe--)se[oe+J]=se[oe];for(let oe=0;oe<J;oe++)se[oe+j]=$[oe]}function P(se,X,$,j){const ie=V(se,X),J=se.splice(ie,$);return b(se,ie,j),J}function V(se,X){return X<0?Math.max(X+se.length,0):Math.min(X,se.length)}function H(se,X){return($,j)=>X(se($),se(j))}const ee=(se,X)=>se-X;function ae(se,X){if(se.length===0)return;let $=se[0];for(let j=1;j<se.length;j++){const ie=se[j];X(ie,$)>0&&($=ie)}return $}function me(se,X){if(se.length===0)return;let $=se[0];for(let j=1;j<se.length;j++){const ie=se[j];X(ie,$)>=0&&($=ie)}return $}function ge(se,X){return ae(se,($,j)=>-X($,j))}class re{constructor(X){this.items=X,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile(X){let $=this.firstIdx;for(;$<this.items.length&&X(this.items[$]);)$++;const j=$===this.firstIdx?null:this.items.slice(this.firstIdx,$);return this.firstIdx=$,j}takeFromEndWhile(X){let $=this.lastIdx;for(;$>=0&&X(this.items[$]);)$--;const j=$===this.lastIdx?null:this.items.slice($+1,this.lastIdx+1);return this.lastIdx=$,j}peek(){return this.items[this.firstIdx]}dequeue(){const X=this.items[this.firstIdx];return this.firstIdx++,X}takeCount(X){const $=this.items.slice(this.firstIdx,this.firstIdx+X);return this.firstIdx+=X,$}}},83158:function(it,Ee,l){"use strict";l.d(Ee,{ok:function(){return C}});function C(d,z){if(!d)throw new Error(z?`Assertion failed (${z})`:"Assertion Failed")}},57186:function(it,Ee,l){"use strict";l.d(Ee,{Aq:function(){return me},CR:function(){return ee},J8:function(){return M},PG:function(){return I},Ps:function(){return L},To:function(){return V},Ue:function(){return H},Vg:function(){return N},Vs:function(){return T},_F:function(){return R},eP:function(){return w},jT:function(){return ae},ne:function(){return a},pY:function(){return P},rH:function(){return k},vp:function(){return x},zS:function(){return re},zh:function(){return b}});var C=l(34484),d=l(91273),z=l(60774),O=l(1405),y=l(24180),W=function(se,X,$,j){function ie(J){return J instanceof $?J:new $(function(oe){oe(J)})}return new($||($=Promise))(function(J,oe){function ce(Ke){try{Me(j.next(Ke))}catch(De){oe(De)}}function we(Ke){try{Me(j.throw(Ke))}catch(De){oe(De)}}function Me(Ke){Ke.done?J(Ke.value):ie(Ke.value).then(ce,we)}Me((j=j.apply(se,X||[])).next())})},A=function(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var X=se[Symbol.asyncIterator],$;return X?X.call(se):(se=typeof __values=="function"?__values(se):se[Symbol.iterator](),$={},j("next"),j("throw"),j("return"),$[Symbol.asyncIterator]=function(){return this},$);function j(J){$[J]=se[J]&&function(oe){return new Promise(function(ce,we){oe=se[J](oe),ie(ce,we,oe.done,oe.value)})}}function ie(J,oe,ce,we){Promise.resolve(we).then(function(Me){J({value:Me,done:ce})},oe)}};function M(se){return!!se&&typeof se.then=="function"}function I(se){const X=new C.A,$=se(X.token),j=new Promise((ie,J)=>{const oe=X.token.onCancellationRequested(()=>{oe.dispose(),X.dispose(),J(new d.FU)});Promise.resolve($).then(ce=>{oe.dispose(),X.dispose(),ie(ce)},ce=>{oe.dispose(),X.dispose(),J(ce)})});return new class{cancel(){X.cancel()}then(ie,J){return j.then(ie,J)}catch(ie){return this.then(void 0,ie)}finally(ie){return j.finally(ie)}}}function w(se,X,$){return new Promise((j,ie)=>{const J=X.onCancellationRequested(()=>{J.dispose(),j($)});se.then(j,ie).finally(()=>J.dispose())})}class _{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(X){if(this.activePromise){if(this.queuedPromiseFactory=X,!this.queuedPromise){const $=()=>{this.queuedPromise=null;const j=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,j};this.queuedPromise=new Promise(j=>{this.activePromise.then($,$).then(j)})}return new Promise(($,j)=>{this.queuedPromise.then($,j)})}return this.activePromise=X(),new Promise(($,j)=>{this.activePromise.then(ie=>{this.activePromise=null,$(ie)},ie=>{this.activePromise=null,j(ie)})})}}const f=(se,X)=>{let $=!0;const j=setTimeout(()=>{$=!1,X()},se);return{isTriggered:()=>$,dispose:()=>{clearTimeout(j),$=!1}}},m=se=>{let X=!0;return queueMicrotask(()=>{X&&(X=!1,se())}),{isTriggered:()=>X,dispose:()=>{X=!1}}},a=Symbol("MicrotaskDelay");class x{constructor(X){this.defaultDelay=X,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(X,$=this.defaultDelay){this.task=X,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((ie,J)=>{this.doResolve=ie,this.doReject=J}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const ie=this.task;return this.task=null,ie()}}));const j=()=>{var ie;this.deferred=null,(ie=this.doResolve)===null||ie===void 0||ie.call(this,null)};return this.deferred=$===a?m(j):f($,j),this.completionPromise}isTriggered(){var X;return!!(!((X=this.deferred)===null||X===void 0)&&X.isTriggered())}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(new d.FU),this.completionPromise=null)}cancelTimeout(){var X;(X=this.deferred)===null||X===void 0||X.dispose(),this.deferred=null}dispose(){this.cancel()}}class k{constructor(X){this.delayer=new x(X),this.throttler=new _}trigger(X,$){return this.delayer.trigger(()=>this.throttler.queue(X),$)}dispose(){this.delayer.dispose()}}function T(se,X){return X?new Promise(($,j)=>{const ie=setTimeout(()=>{J.dispose(),$()},se),J=X.onCancellationRequested(()=>{clearTimeout(ie),J.dispose(),j(new d.FU)})}):I($=>T(se,$))}function N(se,X=0){const $=setTimeout(se,X);return(0,O.OF)(()=>clearTimeout($))}function L(se,X=j=>!!j,$=null){let j=0;const ie=se.length,J=()=>{if(j>=ie)return Promise.resolve($);const oe=se[j++];return Promise.resolve(oe()).then(we=>X(we)?Promise.resolve(we):J())};return J()}class R{constructor(X,$){this._token=-1,typeof X=="function"&&typeof $=="number"&&this.setIfNotSet(X,$)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(X,$){this.cancel(),this._token=setTimeout(()=>{this._token=-1,X()},$)}setIfNotSet(X,$){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,X()},$))}}class b{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(X,$){this.cancel(),this._token=setInterval(()=>{X()},$)}}class P{constructor(X,$){this.timeoutToken=-1,this.runner=X,this.timeout=$,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(X=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,X)}get delay(){return this.timeout}set delay(X){this.timeout=X}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}let V;(function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?V=se=>{(0,y.fn)(()=>{if(X)return;const $=Date.now()+15;se(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,$-Date.now())}}))});let X=!1;return{dispose(){X||(X=!0)}}}:V=(se,X)=>{const $=requestIdleCallback(se,typeof X=="number"?{timeout:X}:void 0);let j=!1;return{dispose(){j||(j=!0,cancelIdleCallback($))}}}})();class H{constructor(X){this._didRun=!1,this._executor=()=>{try{this._value=X()}catch($){this._error=$}finally{this._didRun=!0}},this._handle=V(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class ee{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((X,$)=>{this.completeCallback=X,this.errorCallback=$})}get isRejected(){return this.rejected}get isSettled(){return this.rejected||this.resolved}complete(X){return new Promise($=>{this.completeCallback(X),this.resolved=!0,$()})}cancel(){new Promise(X=>{this.errorCallback(new d.FU),this.rejected=!0,X()})}}var ae;(function(se){function X(j){return W(this,void 0,void 0,function*(){let ie;const J=yield Promise.all(j.map(oe=>oe.then(ce=>ce,ce=>{ie||(ie=ce)})));if(typeof ie!="undefined")throw ie;return J})}se.settled=X;function $(j){return new Promise((ie,J)=>W(this,void 0,void 0,function*(){try{yield j(ie,J)}catch(oe){J(oe)}}))}se.withAsyncBody=$})(ae||(ae={}));class me{constructor(X){this._state=0,this._results=[],this._error=null,this._onStateChanged=new z.Q5,queueMicrotask(()=>W(this,void 0,void 0,function*(){const $={emitOne:j=>this.emitOne(j),emitMany:j=>this.emitMany(j),reject:j=>this.reject(j)};try{yield Promise.resolve(X($)),this.resolve()}catch(j){this.reject(j)}finally{$.emitOne=void 0,$.emitMany=void 0,$.reject=void 0}}))}static fromArray(X){return new me($=>{$.emitMany(X)})}static fromPromise(X){return new me($=>W(this,void 0,void 0,function*(){$.emitMany(yield X)}))}static fromPromises(X){return new me($=>W(this,void 0,void 0,function*(){yield Promise.all(X.map(j=>W(this,void 0,void 0,function*(){return $.emitOne(yield j)})))}))}static merge(X){return new me($=>W(this,void 0,void 0,function*(){yield Promise.all(X.map(j=>{var ie,J;return W(this,void 0,void 0,function*(){var oe,ce;try{for(ie=A(j);J=yield ie.next(),!J.done;){const we=J.value;$.emitOne(we)}}catch(we){oe={error:we}}finally{try{J&&!J.done&&(ce=ie.return)&&(yield ce.call(ie))}finally{if(oe)throw oe.error}}})}))}))}[Symbol.asyncIterator](){let X=0;return{next:()=>W(this,void 0,void 0,function*(){do{if(this._state===2)throw this._error;if(X<this._results.length)return{done:!1,value:this._results[X++]};if(this._state===1)return{done:!0,value:void 0};yield z.ju.toPromise(this._onStateChanged.event)}while(!0)})}}static map(X,$){return new me(j=>W(this,void 0,void 0,function*(){var ie,J;try{for(var oe=A(X),ce;ce=yield oe.next(),!ce.done;){const we=ce.value;j.emitOne($(we))}}catch(we){ie={error:we}}finally{try{ce&&!ce.done&&(J=oe.return)&&(yield J.call(oe))}finally{if(ie)throw ie.error}}}))}map(X){return me.map(this,X)}static filter(X,$){return new me(j=>W(this,void 0,void 0,function*(){var ie,J;try{for(var oe=A(X),ce;ce=yield oe.next(),!ce.done;){const we=ce.value;$(we)&&j.emitOne(we)}}catch(we){ie={error:we}}finally{try{ce&&!ce.done&&(J=oe.return)&&(yield J.call(oe))}finally{if(ie)throw ie.error}}}))}filter(X){return me.filter(this,X)}static coalesce(X){return me.filter(X,$=>!!$)}coalesce(){return me.coalesce(this)}static toPromise(X){var $,j,ie,J;return W(this,void 0,void 0,function*(){const oe=[];try{for($=A(X);j=yield $.next(),!j.done;){const ce=j.value;oe.push(ce)}}catch(ce){ie={error:ce}}finally{try{j&&!j.done&&(J=$.return)&&(yield J.call($))}finally{if(ie)throw ie.error}}return oe})}toPromise(){return me.toPromise(this)}emitOne(X){this._state===0&&(this._results.push(X),this._onStateChanged.fire())}emitMany(X){this._state===0&&(this._results=this._results.concat(X),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(X){this._state===0&&(this._state=2,this._error=X,this._onStateChanged.fire())}}me.EMPTY=me.fromArray([]);class ge extends me{constructor(X,$){super($),this._source=X}cancel(){this._source.cancel()}}function re(se){const X=new C.A,$=se(X.token);return new ge(X,j=>W(this,void 0,void 0,function*(){var ie,J;const oe=X.token.onCancellationRequested(()=>{oe.dispose(),X.dispose(),j.reject(new d.FU)});try{try{for(var ce=A($),we;we=yield ce.next(),!we.done;){const Me=we.value;if(X.token.isCancellationRequested)return;j.emitOne(Me)}}catch(Me){ie={error:Me}}finally{try{we&&!we.done&&(J=ce.return)&&(yield J.call(ce))}finally{if(ie)throw ie.error}}oe.dispose(),X.dispose()}catch(Me){oe.dispose(),X.dispose(),j.reject(Me)}}))}},1015:function(it,Ee,l){"use strict";l.d(Ee,{Ag:function(){return A},Cg:function(){return w},KN:function(){return O},Q$:function(){return I},T4:function(){return M},mP:function(){return y},oq:function(){return W}});var C=l(36379).lW;const d=typeof C!="undefined";let z;class O{constructor(f){this.buffer=f,this.byteLength=this.buffer.byteLength}static wrap(f){return d&&!C.isBuffer(f)&&(f=C.from(f.buffer,f.byteOffset,f.byteLength)),new O(f)}toString(){return d?this.buffer.toString():(z||(z=new TextDecoder),z.decode(this.buffer))}}function y(_,f){return _[f+0]<<0>>>0|_[f+1]<<8>>>0}function W(_,f,m){_[m+0]=f&255,f=f>>>8,_[m+1]=f&255}function A(_,f){return _[f]*Math.pow(2,24)+_[f+1]*Math.pow(2,16)+_[f+2]*Math.pow(2,8)+_[f+3]}function M(_,f,m){_[m+3]=f,f=f>>>8,_[m+2]=f,f=f>>>8,_[m+1]=f,f=f>>>8,_[m]=f}function I(_,f){return _[f]}function w(_,f,m){_[m]=f}},34484:function(it,Ee,l){"use strict";l.d(Ee,{A:function(){return y},T:function(){return z}});var C=l(60774);const d=Object.freeze(function(W,A){const M=setTimeout(W.bind(A),0);return{dispose(){clearTimeout(M)}}});var z;(function(W){function A(M){return M===W.None||M===W.Cancelled||M instanceof O?!0:!M||typeof M!="object"?!1:typeof M.isCancellationRequested=="boolean"&&typeof M.onCancellationRequested=="function"}W.isCancellationToken=A,W.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:C.ju.None}),W.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:d})})(z||(z={}));class O{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?d:(this._emitter||(this._emitter=new C.Q5),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class y{constructor(A){this._token=void 0,this._parentListener=void 0,this._parentListener=A&&A.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new O),this._token}cancel(){this._token?this._token instanceof O&&this._token.cancel():this._token=z.Cancelled}dispose(A=!1){A&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof O&&this._token.dispose():this._token=z.None}}},74696:function(it,Ee,l){"use strict";l.d(Ee,{JL:function(){return C},dT:function(){return z},lA:function(){return d}});function C(O){return O?O.replace(/\$\((.*?)\)/g,(y,W)=>` ${W} `).trim():""}class d{constructor(y,W,A){this.id=y,this.definition=W,this.description=A,d._allCodicons.push(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}static getAll(){return d._allCodicons}}d._allCodicons=[],d.add=new d("add",{fontCharacter:"\\ea60"}),d.plus=new d("plus",d.add.definition),d.gistNew=new d("gist-new",d.add.definition),d.repoCreate=new d("repo-create",d.add.definition),d.lightbulb=new d("lightbulb",{fontCharacter:"\\ea61"}),d.lightBulb=new d("light-bulb",{fontCharacter:"\\ea61"}),d.repo=new d("repo",{fontCharacter:"\\ea62"}),d.repoDelete=new d("repo-delete",{fontCharacter:"\\ea62"}),d.gistFork=new d("gist-fork",{fontCharacter:"\\ea63"}),d.repoForked=new d("repo-forked",{fontCharacter:"\\ea63"}),d.gitPullRequest=new d("git-pull-request",{fontCharacter:"\\ea64"}),d.gitPullRequestAbandoned=new d("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),d.recordKeys=new d("record-keys",{fontCharacter:"\\ea65"}),d.keyboard=new d("keyboard",{fontCharacter:"\\ea65"}),d.tag=new d("tag",{fontCharacter:"\\ea66"}),d.tagAdd=new d("tag-add",{fontCharacter:"\\ea66"}),d.tagRemove=new d("tag-remove",{fontCharacter:"\\ea66"}),d.person=new d("person",{fontCharacter:"\\ea67"}),d.personFollow=new d("person-follow",{fontCharacter:"\\ea67"}),d.personOutline=new d("person-outline",{fontCharacter:"\\ea67"}),d.personFilled=new d("person-filled",{fontCharacter:"\\ea67"}),d.gitBranch=new d("git-branch",{fontCharacter:"\\ea68"}),d.gitBranchCreate=new d("git-branch-create",{fontCharacter:"\\ea68"}),d.gitBranchDelete=new d("git-branch-delete",{fontCharacter:"\\ea68"}),d.sourceControl=new d("source-control",{fontCharacter:"\\ea68"}),d.mirror=new d("mirror",{fontCharacter:"\\ea69"}),d.mirrorPublic=new d("mirror-public",{fontCharacter:"\\ea69"}),d.star=new d("star",{fontCharacter:"\\ea6a"}),d.starAdd=new d("star-add",{fontCharacter:"\\ea6a"}),d.starDelete=new d("star-delete",{fontCharacter:"\\ea6a"}),d.starEmpty=new d("star-empty",{fontCharacter:"\\ea6a"}),d.comment=new d("comment",{fontCharacter:"\\ea6b"}),d.commentAdd=new d("comment-add",{fontCharacter:"\\ea6b"}),d.alert=new d("alert",{fontCharacter:"\\ea6c"}),d.warning=new d("warning",{fontCharacter:"\\ea6c"}),d.search=new d("search",{fontCharacter:"\\ea6d"}),d.searchSave=new d("search-save",{fontCharacter:"\\ea6d"}),d.logOut=new d("log-out",{fontCharacter:"\\ea6e"}),d.signOut=new d("sign-out",{fontCharacter:"\\ea6e"}),d.logIn=new d("log-in",{fontCharacter:"\\ea6f"}),d.signIn=new d("sign-in",{fontCharacter:"\\ea6f"}),d.eye=new d("eye",{fontCharacter:"\\ea70"}),d.eyeUnwatch=new d("eye-unwatch",{fontCharacter:"\\ea70"}),d.eyeWatch=new d("eye-watch",{fontCharacter:"\\ea70"}),d.circleFilled=new d("circle-filled",{fontCharacter:"\\ea71"}),d.primitiveDot=new d("primitive-dot",{fontCharacter:"\\ea71"}),d.closeDirty=new d("close-dirty",{fontCharacter:"\\ea71"}),d.debugBreakpoint=new d("debug-breakpoint",{fontCharacter:"\\ea71"}),d.debugBreakpointDisabled=new d("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),d.debugHint=new d("debug-hint",{fontCharacter:"\\ea71"}),d.primitiveSquare=new d("primitive-square",{fontCharacter:"\\ea72"}),d.edit=new d("edit",{fontCharacter:"\\ea73"}),d.pencil=new d("pencil",{fontCharacter:"\\ea73"}),d.info=new d("info",{fontCharacter:"\\ea74"}),d.issueOpened=new d("issue-opened",{fontCharacter:"\\ea74"}),d.gistPrivate=new d("gist-private",{fontCharacter:"\\ea75"}),d.gitForkPrivate=new d("git-fork-private",{fontCharacter:"\\ea75"}),d.lock=new d("lock",{fontCharacter:"\\ea75"}),d.mirrorPrivate=new d("mirror-private",{fontCharacter:"\\ea75"}),d.close=new d("close",{fontCharacter:"\\ea76"}),d.removeClose=new d("remove-close",{fontCharacter:"\\ea76"}),d.x=new d("x",{fontCharacter:"\\ea76"}),d.repoSync=new d("repo-sync",{fontCharacter:"\\ea77"}),d.sync=new d("sync",{fontCharacter:"\\ea77"}),d.clone=new d("clone",{fontCharacter:"\\ea78"}),d.desktopDownload=new d("desktop-download",{fontCharacter:"\\ea78"}),d.beaker=new d("beaker",{fontCharacter:"\\ea79"}),d.microscope=new d("microscope",{fontCharacter:"\\ea79"}),d.vm=new d("vm",{fontCharacter:"\\ea7a"}),d.deviceDesktop=new d("device-desktop",{fontCharacter:"\\ea7a"}),d.file=new d("file",{fontCharacter:"\\ea7b"}),d.fileText=new d("file-text",{fontCharacter:"\\ea7b"}),d.more=new d("more",{fontCharacter:"\\ea7c"}),d.ellipsis=new d("ellipsis",{fontCharacter:"\\ea7c"}),d.kebabHorizontal=new d("kebab-horizontal",{fontCharacter:"\\ea7c"}),d.mailReply=new d("mail-reply",{fontCharacter:"\\ea7d"}),d.reply=new d("reply",{fontCharacter:"\\ea7d"}),d.organization=new d("organization",{fontCharacter:"\\ea7e"}),d.organizationFilled=new d("organization-filled",{fontCharacter:"\\ea7e"}),d.organizationOutline=new d("organization-outline",{fontCharacter:"\\ea7e"}),d.newFile=new d("new-file",{fontCharacter:"\\ea7f"}),d.fileAdd=new d("file-add",{fontCharacter:"\\ea7f"}),d.newFolder=new d("new-folder",{fontCharacter:"\\ea80"}),d.fileDirectoryCreate=new d("file-directory-create",{fontCharacter:"\\ea80"}),d.trash=new d("trash",{fontCharacter:"\\ea81"}),d.trashcan=new d("trashcan",{fontCharacter:"\\ea81"}),d.history=new d("history",{fontCharacter:"\\ea82"}),d.clock=new d("clock",{fontCharacter:"\\ea82"}),d.folder=new d("folder",{fontCharacter:"\\ea83"}),d.fileDirectory=new d("file-directory",{fontCharacter:"\\ea83"}),d.symbolFolder=new d("symbol-folder",{fontCharacter:"\\ea83"}),d.logoGithub=new d("logo-github",{fontCharacter:"\\ea84"}),d.markGithub=new d("mark-github",{fontCharacter:"\\ea84"}),d.github=new d("github",{fontCharacter:"\\ea84"}),d.terminal=new d("terminal",{fontCharacter:"\\ea85"}),d.console=new d("console",{fontCharacter:"\\ea85"}),d.repl=new d("repl",{fontCharacter:"\\ea85"}),d.zap=new d("zap",{fontCharacter:"\\ea86"}),d.symbolEvent=new d("symbol-event",{fontCharacter:"\\ea86"}),d.error=new d("error",{fontCharacter:"\\ea87"}),d.stop=new d("stop",{fontCharacter:"\\ea87"}),d.variable=new d("variable",{fontCharacter:"\\ea88"}),d.symbolVariable=new d("symbol-variable",{fontCharacter:"\\ea88"}),d.array=new d("array",{fontCharacter:"\\ea8a"}),d.symbolArray=new d("symbol-array",{fontCharacter:"\\ea8a"}),d.symbolModule=new d("symbol-module",{fontCharacter:"\\ea8b"}),d.symbolPackage=new d("symbol-package",{fontCharacter:"\\ea8b"}),d.symbolNamespace=new d("symbol-namespace",{fontCharacter:"\\ea8b"}),d.symbolObject=new d("symbol-object",{fontCharacter:"\\ea8b"}),d.symbolMethod=new d("symbol-method",{fontCharacter:"\\ea8c"}),d.symbolFunction=new d("symbol-function",{fontCharacter:"\\ea8c"}),d.symbolConstructor=new d("symbol-constructor",{fontCharacter:"\\ea8c"}),d.symbolBoolean=new d("symbol-boolean",{fontCharacter:"\\ea8f"}),d.symbolNull=new d("symbol-null",{fontCharacter:"\\ea8f"}),d.symbolNumeric=new d("symbol-numeric",{fontCharacter:"\\ea90"}),d.symbolNumber=new d("symbol-number",{fontCharacter:"\\ea90"}),d.symbolStructure=new d("symbol-structure",{fontCharacter:"\\ea91"}),d.symbolStruct=new d("symbol-struct",{fontCharacter:"\\ea91"}),d.symbolParameter=new d("symbol-parameter",{fontCharacter:"\\ea92"}),d.symbolTypeParameter=new d("symbol-type-parameter",{fontCharacter:"\\ea92"}),d.symbolKey=new d("symbol-key",{fontCharacter:"\\ea93"}),d.symbolText=new d("symbol-text",{fontCharacter:"\\ea93"}),d.symbolReference=new d("symbol-reference",{fontCharacter:"\\ea94"}),d.goToFile=new d("go-to-file",{fontCharacter:"\\ea94"}),d.symbolEnum=new d("symbol-enum",{fontCharacter:"\\ea95"}),d.symbolValue=new d("symbol-value",{fontCharacter:"\\ea95"}),d.symbolRuler=new d("symbol-ruler",{fontCharacter:"\\ea96"}),d.symbolUnit=new d("symbol-unit",{fontCharacter:"\\ea96"}),d.activateBreakpoints=new d("activate-breakpoints",{fontCharacter:"\\ea97"}),d.archive=new d("archive",{fontCharacter:"\\ea98"}),d.arrowBoth=new d("arrow-both",{fontCharacter:"\\ea99"}),d.arrowDown=new d("arrow-down",{fontCharacter:"\\ea9a"}),d.arrowLeft=new d("arrow-left",{fontCharacter:"\\ea9b"}),d.arrowRight=new d("arrow-right",{fontCharacter:"\\ea9c"}),d.arrowSmallDown=new d("arrow-small-down",{fontCharacter:"\\ea9d"}),d.arrowSmallLeft=new d("arrow-small-left",{fontCharacter:"\\ea9e"}),d.arrowSmallRight=new d("arrow-small-right",{fontCharacter:"\\ea9f"}),d.arrowSmallUp=new d("arrow-small-up",{fontCharacter:"\\eaa0"}),d.arrowUp=new d("arrow-up",{fontCharacter:"\\eaa1"}),d.bell=new d("bell",{fontCharacter:"\\eaa2"}),d.bold=new d("bold",{fontCharacter:"\\eaa3"}),d.book=new d("book",{fontCharacter:"\\eaa4"}),d.bookmark=new d("bookmark",{fontCharacter:"\\eaa5"}),d.debugBreakpointConditionalUnverified=new d("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),d.debugBreakpointConditional=new d("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),d.debugBreakpointConditionalDisabled=new d("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),d.debugBreakpointDataUnverified=new d("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),d.debugBreakpointData=new d("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),d.debugBreakpointDataDisabled=new d("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),d.debugBreakpointLogUnverified=new d("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),d.debugBreakpointLog=new d("debug-breakpoint-log",{fontCharacter:"\\eaab"}),d.debugBreakpointLogDisabled=new d("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),d.briefcase=new d("briefcase",{fontCharacter:"\\eaac"}),d.broadcast=new d("broadcast",{fontCharacter:"\\eaad"}),d.browser=new d("browser",{fontCharacter:"\\eaae"}),d.bug=new d("bug",{fontCharacter:"\\eaaf"}),d.calendar=new d("calendar",{fontCharacter:"\\eab0"}),d.caseSensitive=new d("case-sensitive",{fontCharacter:"\\eab1"}),d.check=new d("check",{fontCharacter:"\\eab2"}),d.checklist=new d("checklist",{fontCharacter:"\\eab3"}),d.chevronDown=new d("chevron-down",{fontCharacter:"\\eab4"}),d.dropDownButton=new d("drop-down-button",d.chevronDown.definition),d.chevronLeft=new d("chevron-left",{fontCharacter:"\\eab5"}),d.chevronRight=new d("chevron-right",{fontCharacter:"\\eab6"}),d.chevronUp=new d("chevron-up",{fontCharacter:"\\eab7"}),d.chromeClose=new d("chrome-close",{fontCharacter:"\\eab8"}),d.chromeMaximize=new d("chrome-maximize",{fontCharacter:"\\eab9"}),d.chromeMinimize=new d("chrome-minimize",{fontCharacter:"\\eaba"}),d.chromeRestore=new d("chrome-restore",{fontCharacter:"\\eabb"}),d.circleOutline=new d("circle-outline",{fontCharacter:"\\eabc"}),d.debugBreakpointUnverified=new d("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),d.circleSlash=new d("circle-slash",{fontCharacter:"\\eabd"}),d.circuitBoard=new d("circuit-board",{fontCharacter:"\\eabe"}),d.clearAll=new d("clear-all",{fontCharacter:"\\eabf"}),d.clippy=new d("clippy",{fontCharacter:"\\eac0"}),d.closeAll=new d("close-all",{fontCharacter:"\\eac1"}),d.cloudDownload=new d("cloud-download",{fontCharacter:"\\eac2"}),d.cloudUpload=new d("cloud-upload",{fontCharacter:"\\eac3"}),d.code=new d("code",{fontCharacter:"\\eac4"}),d.collapseAll=new d("collapse-all",{fontCharacter:"\\eac5"}),d.colorMode=new d("color-mode",{fontCharacter:"\\eac6"}),d.commentDiscussion=new d("comment-discussion",{fontCharacter:"\\eac7"}),d.compareChanges=new d("compare-changes",{fontCharacter:"\\eafd"}),d.creditCard=new d("credit-card",{fontCharacter:"\\eac9"}),d.dash=new d("dash",{fontCharacter:"\\eacc"}),d.dashboard=new d("dashboard",{fontCharacter:"\\eacd"}),d.database=new d("database",{fontCharacter:"\\eace"}),d.debugContinue=new d("debug-continue",{fontCharacter:"\\eacf"}),d.debugDisconnect=new d("debug-disconnect",{fontCharacter:"\\ead0"}),d.debugPause=new d("debug-pause",{fontCharacter:"\\ead1"}),d.debugRestart=new d("debug-restart",{fontCharacter:"\\ead2"}),d.debugStart=new d("debug-start",{fontCharacter:"\\ead3"}),d.debugStepInto=new d("debug-step-into",{fontCharacter:"\\ead4"}),d.debugStepOut=new d("debug-step-out",{fontCharacter:"\\ead5"}),d.debugStepOver=new d("debug-step-over",{fontCharacter:"\\ead6"}),d.debugStop=new d("debug-stop",{fontCharacter:"\\ead7"}),d.debug=new d("debug",{fontCharacter:"\\ead8"}),d.deviceCameraVideo=new d("device-camera-video",{fontCharacter:"\\ead9"}),d.deviceCamera=new d("device-camera",{fontCharacter:"\\eada"}),d.deviceMobile=new d("device-mobile",{fontCharacter:"\\eadb"}),d.diffAdded=new d("diff-added",{fontCharacter:"\\eadc"}),d.diffIgnored=new d("diff-ignored",{fontCharacter:"\\eadd"}),d.diffModified=new d("diff-modified",{fontCharacter:"\\eade"}),d.diffRemoved=new d("diff-removed",{fontCharacter:"\\eadf"}),d.diffRenamed=new d("diff-renamed",{fontCharacter:"\\eae0"}),d.diff=new d("diff",{fontCharacter:"\\eae1"}),d.discard=new d("discard",{fontCharacter:"\\eae2"}),d.editorLayout=new d("editor-layout",{fontCharacter:"\\eae3"}),d.emptyWindow=new d("empty-window",{fontCharacter:"\\eae4"}),d.exclude=new d("exclude",{fontCharacter:"\\eae5"}),d.extensions=new d("extensions",{fontCharacter:"\\eae6"}),d.eyeClosed=new d("eye-closed",{fontCharacter:"\\eae7"}),d.fileBinary=new d("file-binary",{fontCharacter:"\\eae8"}),d.fileCode=new d("file-code",{fontCharacter:"\\eae9"}),d.fileMedia=new d("file-media",{fontCharacter:"\\eaea"}),d.filePdf=new d("file-pdf",{fontCharacter:"\\eaeb"}),d.fileSubmodule=new d("file-submodule",{fontCharacter:"\\eaec"}),d.fileSymlinkDirectory=new d("file-symlink-directory",{fontCharacter:"\\eaed"}),d.fileSymlinkFile=new d("file-symlink-file",{fontCharacter:"\\eaee"}),d.fileZip=new d("file-zip",{fontCharacter:"\\eaef"}),d.files=new d("files",{fontCharacter:"\\eaf0"}),d.filter=new d("filter",{fontCharacter:"\\eaf1"}),d.flame=new d("flame",{fontCharacter:"\\eaf2"}),d.foldDown=new d("fold-down",{fontCharacter:"\\eaf3"}),d.foldUp=new d("fold-up",{fontCharacter:"\\eaf4"}),d.fold=new d("fold",{fontCharacter:"\\eaf5"}),d.folderActive=new d("folder-active",{fontCharacter:"\\eaf6"}),d.folderOpened=new d("folder-opened",{fontCharacter:"\\eaf7"}),d.gear=new d("gear",{fontCharacter:"\\eaf8"}),d.gift=new d("gift",{fontCharacter:"\\eaf9"}),d.gistSecret=new d("gist-secret",{fontCharacter:"\\eafa"}),d.gist=new d("gist",{fontCharacter:"\\eafb"}),d.gitCommit=new d("git-commit",{fontCharacter:"\\eafc"}),d.gitCompare=new d("git-compare",{fontCharacter:"\\eafd"}),d.gitMerge=new d("git-merge",{fontCharacter:"\\eafe"}),d.githubAction=new d("github-action",{fontCharacter:"\\eaff"}),d.githubAlt=new d("github-alt",{fontCharacter:"\\eb00"}),d.globe=new d("globe",{fontCharacter:"\\eb01"}),d.grabber=new d("grabber",{fontCharacter:"\\eb02"}),d.graph=new d("graph",{fontCharacter:"\\eb03"}),d.gripper=new d("gripper",{fontCharacter:"\\eb04"}),d.heart=new d("heart",{fontCharacter:"\\eb05"}),d.home=new d("home",{fontCharacter:"\\eb06"}),d.horizontalRule=new d("horizontal-rule",{fontCharacter:"\\eb07"}),d.hubot=new d("hubot",{fontCharacter:"\\eb08"}),d.inbox=new d("inbox",{fontCharacter:"\\eb09"}),d.issueClosed=new d("issue-closed",{fontCharacter:"\\eba4"}),d.issueReopened=new d("issue-reopened",{fontCharacter:"\\eb0b"}),d.issues=new d("issues",{fontCharacter:"\\eb0c"}),d.italic=new d("italic",{fontCharacter:"\\eb0d"}),d.jersey=new d("jersey",{fontCharacter:"\\eb0e"}),d.json=new d("json",{fontCharacter:"\\eb0f"}),d.kebabVertical=new d("kebab-vertical",{fontCharacter:"\\eb10"}),d.key=new d("key",{fontCharacter:"\\eb11"}),d.law=new d("law",{fontCharacter:"\\eb12"}),d.lightbulbAutofix=new d("lightbulb-autofix",{fontCharacter:"\\eb13"}),d.linkExternal=new d("link-external",{fontCharacter:"\\eb14"}),d.link=new d("link",{fontCharacter:"\\eb15"}),d.listOrdered=new d("list-ordered",{fontCharacter:"\\eb16"}),d.listUnordered=new d("list-unordered",{fontCharacter:"\\eb17"}),d.liveShare=new d("live-share",{fontCharacter:"\\eb18"}),d.loading=new d("loading",{fontCharacter:"\\eb19"}),d.location=new d("location",{fontCharacter:"\\eb1a"}),d.mailRead=new d("mail-read",{fontCharacter:"\\eb1b"}),d.mail=new d("mail",{fontCharacter:"\\eb1c"}),d.markdown=new d("markdown",{fontCharacter:"\\eb1d"}),d.megaphone=new d("megaphone",{fontCharacter:"\\eb1e"}),d.mention=new d("mention",{fontCharacter:"\\eb1f"}),d.milestone=new d("milestone",{fontCharacter:"\\eb20"}),d.mortarBoard=new d("mortar-board",{fontCharacter:"\\eb21"}),d.move=new d("move",{fontCharacter:"\\eb22"}),d.multipleWindows=new d("multiple-windows",{fontCharacter:"\\eb23"}),d.mute=new d("mute",{fontCharacter:"\\eb24"}),d.noNewline=new d("no-newline",{fontCharacter:"\\eb25"}),d.note=new d("note",{fontCharacter:"\\eb26"}),d.octoface=new d("octoface",{fontCharacter:"\\eb27"}),d.openPreview=new d("open-preview",{fontCharacter:"\\eb28"}),d.package_=new d("package",{fontCharacter:"\\eb29"}),d.paintcan=new d("paintcan",{fontCharacter:"\\eb2a"}),d.pin=new d("pin",{fontCharacter:"\\eb2b"}),d.play=new d("play",{fontCharacter:"\\eb2c"}),d.run=new d("run",{fontCharacter:"\\eb2c"}),d.plug=new d("plug",{fontCharacter:"\\eb2d"}),d.preserveCase=new d("preserve-case",{fontCharacter:"\\eb2e"}),d.preview=new d("preview",{fontCharacter:"\\eb2f"}),d.project=new d("project",{fontCharacter:"\\eb30"}),d.pulse=new d("pulse",{fontCharacter:"\\eb31"}),d.question=new d("question",{fontCharacter:"\\eb32"}),d.quote=new d("quote",{fontCharacter:"\\eb33"}),d.radioTower=new d("radio-tower",{fontCharacter:"\\eb34"}),d.reactions=new d("reactions",{fontCharacter:"\\eb35"}),d.references=new d("references",{fontCharacter:"\\eb36"}),d.refresh=new d("refresh",{fontCharacter:"\\eb37"}),d.regex=new d("regex",{fontCharacter:"\\eb38"}),d.remoteExplorer=new d("remote-explorer",{fontCharacter:"\\eb39"}),d.remote=new d("remote",{fontCharacter:"\\eb3a"}),d.remove=new d("remove",{fontCharacter:"\\eb3b"}),d.replaceAll=new d("replace-all",{fontCharacter:"\\eb3c"}),d.replace=new d("replace",{fontCharacter:"\\eb3d"}),d.repoClone=new d("repo-clone",{fontCharacter:"\\eb3e"}),d.repoForcePush=new d("repo-force-push",{fontCharacter:"\\eb3f"}),d.repoPull=new d("repo-pull",{fontCharacter:"\\eb40"}),d.repoPush=new d("repo-push",{fontCharacter:"\\eb41"}),d.report=new d("report",{fontCharacter:"\\eb42"}),d.requestChanges=new d("request-changes",{fontCharacter:"\\eb43"}),d.rocket=new d("rocket",{fontCharacter:"\\eb44"}),d.rootFolderOpened=new d("root-folder-opened",{fontCharacter:"\\eb45"}),d.rootFolder=new d("root-folder",{fontCharacter:"\\eb46"}),d.rss=new d("rss",{fontCharacter:"\\eb47"}),d.ruby=new d("ruby",{fontCharacter:"\\eb48"}),d.saveAll=new d("save-all",{fontCharacter:"\\eb49"}),d.saveAs=new d("save-as",{fontCharacter:"\\eb4a"}),d.save=new d("save",{fontCharacter:"\\eb4b"}),d.screenFull=new d("screen-full",{fontCharacter:"\\eb4c"}),d.screenNormal=new d("screen-normal",{fontCharacter:"\\eb4d"}),d.searchStop=new d("search-stop",{fontCharacter:"\\eb4e"}),d.server=new d("server",{fontCharacter:"\\eb50"}),d.settingsGear=new d("settings-gear",{fontCharacter:"\\eb51"}),d.settings=new d("settings",{fontCharacter:"\\eb52"}),d.shield=new d("shield",{fontCharacter:"\\eb53"}),d.smiley=new d("smiley",{fontCharacter:"\\eb54"}),d.sortPrecedence=new d("sort-precedence",{fontCharacter:"\\eb55"}),d.splitHorizontal=new d("split-horizontal",{fontCharacter:"\\eb56"}),d.splitVertical=new d("split-vertical",{fontCharacter:"\\eb57"}),d.squirrel=new d("squirrel",{fontCharacter:"\\eb58"}),d.starFull=new d("star-full",{fontCharacter:"\\eb59"}),d.starHalf=new d("star-half",{fontCharacter:"\\eb5a"}),d.symbolClass=new d("symbol-class",{fontCharacter:"\\eb5b"}),d.symbolColor=new d("symbol-color",{fontCharacter:"\\eb5c"}),d.symbolCustomColor=new d("symbol-customcolor",{fontCharacter:"\\eb5c"}),d.symbolConstant=new d("symbol-constant",{fontCharacter:"\\eb5d"}),d.symbolEnumMember=new d("symbol-enum-member",{fontCharacter:"\\eb5e"}),d.symbolField=new d("symbol-field",{fontCharacter:"\\eb5f"}),d.symbolFile=new d("symbol-file",{fontCharacter:"\\eb60"}),d.symbolInterface=new d("symbol-interface",{fontCharacter:"\\eb61"}),d.symbolKeyword=new d("symbol-keyword",{fontCharacter:"\\eb62"}),d.symbolMisc=new d("symbol-misc",{fontCharacter:"\\eb63"}),d.symbolOperator=new d("symbol-operator",{fontCharacter:"\\eb64"}),d.symbolProperty=new d("symbol-property",{fontCharacter:"\\eb65"}),d.wrench=new d("wrench",{fontCharacter:"\\eb65"}),d.wrenchSubaction=new d("wrench-subaction",{fontCharacter:"\\eb65"}),d.symbolSnippet=new d("symbol-snippet",{fontCharacter:"\\eb66"}),d.tasklist=new d("tasklist",{fontCharacter:"\\eb67"}),d.telescope=new d("telescope",{fontCharacter:"\\eb68"}),d.textSize=new d("text-size",{fontCharacter:"\\eb69"}),d.threeBars=new d("three-bars",{fontCharacter:"\\eb6a"}),d.thumbsdown=new d("thumbsdown",{fontCharacter:"\\eb6b"}),d.thumbsup=new d("thumbsup",{fontCharacter:"\\eb6c"}),d.tools=new d("tools",{fontCharacter:"\\eb6d"}),d.triangleDown=new d("triangle-down",{fontCharacter:"\\eb6e"}),d.triangleLeft=new d("triangle-left",{fontCharacter:"\\eb6f"}),d.triangleRight=new d("triangle-right",{fontCharacter:"\\eb70"}),d.triangleUp=new d("triangle-up",{fontCharacter:"\\eb71"}),d.twitter=new d("twitter",{fontCharacter:"\\eb72"}),d.unfold=new d("unfold",{fontCharacter:"\\eb73"}),d.unlock=new d("unlock",{fontCharacter:"\\eb74"}),d.unmute=new d("unmute",{fontCharacter:"\\eb75"}),d.unverified=new d("unverified",{fontCharacter:"\\eb76"}),d.verified=new d("verified",{fontCharacter:"\\eb77"}),d.versions=new d("versions",{fontCharacter:"\\eb78"}),d.vmActive=new d("vm-active",{fontCharacter:"\\eb79"}),d.vmOutline=new d("vm-outline",{fontCharacter:"\\eb7a"}),d.vmRunning=new d("vm-running",{fontCharacter:"\\eb7b"}),d.watch=new d("watch",{fontCharacter:"\\eb7c"}),d.whitespace=new d("whitespace",{fontCharacter:"\\eb7d"}),d.wholeWord=new d("whole-word",{fontCharacter:"\\eb7e"}),d.window=new d("window",{fontCharacter:"\\eb7f"}),d.wordWrap=new d("word-wrap",{fontCharacter:"\\eb80"}),d.zoomIn=new d("zoom-in",{fontCharacter:"\\eb81"}),d.zoomOut=new d("zoom-out",{fontCharacter:"\\eb82"}),d.listFilter=new d("list-filter",{fontCharacter:"\\eb83"}),d.listFlat=new d("list-flat",{fontCharacter:"\\eb84"}),d.listSelection=new d("list-selection",{fontCharacter:"\\eb85"}),d.selection=new d("selection",{fontCharacter:"\\eb85"}),d.listTree=new d("list-tree",{fontCharacter:"\\eb86"}),d.debugBreakpointFunctionUnverified=new d("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),d.debugBreakpointFunction=new d("debug-breakpoint-function",{fontCharacter:"\\eb88"}),d.debugBreakpointFunctionDisabled=new d("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),d.debugStackframeActive=new d("debug-stackframe-active",{fontCharacter:"\\eb89"}),d.debugStackframeDot=new d("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),d.debugStackframe=new d("debug-stackframe",{fontCharacter:"\\eb8b"}),d.debugStackframeFocused=new d("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),d.debugBreakpointUnsupported=new d("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),d.symbolString=new d("symbol-string",{fontCharacter:"\\eb8d"}),d.debugReverseContinue=new d("debug-reverse-continue",{fontCharacter:"\\eb8e"}),d.debugStepBack=new d("debug-step-back",{fontCharacter:"\\eb8f"}),d.debugRestartFrame=new d("debug-restart-frame",{fontCharacter:"\\eb90"}),d.callIncoming=new d("call-incoming",{fontCharacter:"\\eb92"}),d.callOutgoing=new d("call-outgoing",{fontCharacter:"\\eb93"}),d.menu=new d("menu",{fontCharacter:"\\eb94"}),d.expandAll=new d("expand-all",{fontCharacter:"\\eb95"}),d.feedback=new d("feedback",{fontCharacter:"\\eb96"}),d.groupByRefType=new d("group-by-ref-type",{fontCharacter:"\\eb97"}),d.ungroupByRefType=new d("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),d.account=new d("account",{fontCharacter:"\\eb99"}),d.bellDot=new d("bell-dot",{fontCharacter:"\\eb9a"}),d.debugConsole=new d("debug-console",{fontCharacter:"\\eb9b"}),d.library=new d("library",{fontCharacter:"\\eb9c"}),d.output=new d("output",{fontCharacter:"\\eb9d"}),d.runAll=new d("run-all",{fontCharacter:"\\eb9e"}),d.syncIgnored=new d("sync-ignored",{fontCharacter:"\\eb9f"}),d.pinned=new d("pinned",{fontCharacter:"\\eba0"}),d.githubInverted=new d("github-inverted",{fontCharacter:"\\eba1"}),d.debugAlt=new d("debug-alt",{fontCharacter:"\\eb91"}),d.serverProcess=new d("server-process",{fontCharacter:"\\eba2"}),d.serverEnvironment=new d("server-environment",{fontCharacter:"\\eba3"}),d.pass=new d("pass",{fontCharacter:"\\eba4"}),d.stopCircle=new d("stop-circle",{fontCharacter:"\\eba5"}),d.playCircle=new d("play-circle",{fontCharacter:"\\eba6"}),d.record=new d("record",{fontCharacter:"\\eba7"}),d.debugAltSmall=new d("debug-alt-small",{fontCharacter:"\\eba8"}),d.vmConnect=new d("vm-connect",{fontCharacter:"\\eba9"}),d.cloud=new d("cloud",{fontCharacter:"\\ebaa"}),d.merge=new d("merge",{fontCharacter:"\\ebab"}),d.exportIcon=new d("export",{fontCharacter:"\\ebac"}),d.graphLeft=new d("graph-left",{fontCharacter:"\\ebad"}),d.magnet=new d("magnet",{fontCharacter:"\\ebae"}),d.notebook=new d("notebook",{fontCharacter:"\\ebaf"}),d.redo=new d("redo",{fontCharacter:"\\ebb0"}),d.checkAll=new d("check-all",{fontCharacter:"\\ebb1"}),d.pinnedDirty=new d("pinned-dirty",{fontCharacter:"\\ebb2"}),d.passFilled=new d("pass-filled",{fontCharacter:"\\ebb3"}),d.circleLargeFilled=new d("circle-large-filled",{fontCharacter:"\\ebb4"}),d.circleLargeOutline=new d("circle-large-outline",{fontCharacter:"\\ebb5"}),d.combine=new d("combine",{fontCharacter:"\\ebb6"}),d.gather=new d("gather",{fontCharacter:"\\ebb6"}),d.table=new d("table",{fontCharacter:"\\ebb7"}),d.variableGroup=new d("variable-group",{fontCharacter:"\\ebb8"}),d.typeHierarchy=new d("type-hierarchy",{fontCharacter:"\\ebb9"}),d.typeHierarchySub=new d("type-hierarchy-sub",{fontCharacter:"\\ebba"}),d.typeHierarchySuper=new d("type-hierarchy-super",{fontCharacter:"\\ebbb"}),d.gitPullRequestCreate=new d("git-pull-request-create",{fontCharacter:"\\ebbc"}),d.runAbove=new d("run-above",{fontCharacter:"\\ebbd"}),d.runBelow=new d("run-below",{fontCharacter:"\\ebbe"}),d.notebookTemplate=new d("notebook-template",{fontCharacter:"\\ebbf"}),d.debugRerun=new d("debug-rerun",{fontCharacter:"\\ebc0"}),d.workspaceTrusted=new d("workspace-trusted",{fontCharacter:"\\ebc1"}),d.workspaceUntrusted=new d("workspace-untrusted",{fontCharacter:"\\ebc2"}),d.workspaceUnspecified=new d("workspace-unspecified",{fontCharacter:"\\ebc3"}),d.terminalCmd=new d("terminal-cmd",{fontCharacter:"\\ebc4"}),d.terminalDebian=new d("terminal-debian",{fontCharacter:"\\ebc5"}),d.terminalLinux=new d("terminal-linux",{fontCharacter:"\\ebc6"}),d.terminalPowershell=new d("terminal-powershell",{fontCharacter:"\\ebc7"}),d.terminalTmux=new d("terminal-tmux",{fontCharacter:"\\ebc8"}),d.terminalUbuntu=new d("terminal-ubuntu",{fontCharacter:"\\ebc9"}),d.terminalBash=new d("terminal-bash",{fontCharacter:"\\ebca"}),d.arrowSwap=new d("arrow-swap",{fontCharacter:"\\ebcb"}),d.copy=new d("copy",{fontCharacter:"\\ebcc"}),d.personAdd=new d("person-add",{fontCharacter:"\\ebcd"}),d.filterFilled=new d("filter-filled",{fontCharacter:"\\ebce"}),d.wand=new d("wand",{fontCharacter:"\\ebcf"}),d.debugLineByLine=new d("debug-line-by-line",{fontCharacter:"\\ebd0"}),d.inspect=new d("inspect",{fontCharacter:"\\ebd1"}),d.layers=new d("layers",{fontCharacter:"\\ebd2"}),d.layersDot=new d("layers-dot",{fontCharacter:"\\ebd3"}),d.layersActive=new d("layers-active",{fontCharacter:"\\ebd4"}),d.compass=new d("compass",{fontCharacter:"\\ebd5"}),d.compassDot=new d("compass-dot",{fontCharacter:"\\ebd6"}),d.compassActive=new d("compass-active",{fontCharacter:"\\ebd7"}),d.azure=new d("azure",{fontCharacter:"\\ebd8"}),d.issueDraft=new d("issue-draft",{fontCharacter:"\\ebd9"}),d.gitPullRequestClosed=new d("git-pull-request-closed",{fontCharacter:"\\ebda"}),d.gitPullRequestDraft=new d("git-pull-request-draft",{fontCharacter:"\\ebdb"}),d.debugAll=new d("debug-all",{fontCharacter:"\\ebdc"}),d.debugCoverage=new d("debug-coverage",{fontCharacter:"\\ebdd"}),d.runErrors=new d("run-errors",{fontCharacter:"\\ebde"}),d.folderLibrary=new d("folder-library",{fontCharacter:"\\ebdf"}),d.debugContinueSmall=new d("debug-continue-small",{fontCharacter:"\\ebe0"}),d.beakerStop=new d("beaker-stop",{fontCharacter:"\\ebe1"}),d.graphLine=new d("graph-line",{fontCharacter:"\\ebe2"}),d.graphScatter=new d("graph-scatter",{fontCharacter:"\\ebe3"}),d.pieChart=new d("pie-chart",{fontCharacter:"\\ebe4"}),d.bracket=new d("bracket",d.json.definition),d.bracketDot=new d("bracket-dot",{fontCharacter:"\\ebe5"}),d.bracketError=new d("bracket-error",{fontCharacter:"\\ebe6"}),d.lockSmall=new d("lock-small",{fontCharacter:"\\ebe7"}),d.azureDevops=new d("azure-devops",{fontCharacter:"\\ebe8"}),d.verifiedFilled=new d("verified-filled",{fontCharacter:"\\ebe9"}),d.newLine=new d("newline",{fontCharacter:"\\ebea"}),d.layout=new d("layout",{fontCharacter:"\\ebeb"}),d.layoutActivitybarLeft=new d("layout-activitybar-left",{fontCharacter:"\\ebec"}),d.layoutActivitybarRight=new d("layout-activitybar-right",{fontCharacter:"\\ebed"}),d.layoutPanelLeft=new d("layout-panel-left",{fontCharacter:"\\ebee"}),d.layoutPanelCenter=new d("layout-panel-center",{fontCharacter:"\\ebef"}),d.layoutPanelJustify=new d("layout-panel-justify",{fontCharacter:"\\ebf0"}),d.layoutPanelRight=new d("layout-panel-right",{fontCharacter:"\\ebf1"}),d.layoutPanel=new d("layout-panel",{fontCharacter:"\\ebf2"}),d.layoutSidebarLeft=new d("layout-sidebar-left",{fontCharacter:"\\ebf3"}),d.layoutSidebarRight=new d("layout-sidebar-right",{fontCharacter:"\\ebf4"}),d.layoutStatusbar=new d("layout-statusbar",{fontCharacter:"\\ebf5"}),d.layoutMenubar=new d("layout-menubar",{fontCharacter:"\\ebf6"}),d.layoutCentered=new d("layout-centered",{fontCharacter:"\\ebf7"}),d.target=new d("target",{fontCharacter:"\\ebf8"}),d.indent=new d("indent",{fontCharacter:"\\ebf9"}),d.recordSmall=new d("record-small",{fontCharacter:"\\ebfa"}),d.errorSmall=new d("error-small",{fontCharacter:"\\ebfb"}),d.arrowCircleDown=new d("arrow-circle-down",{fontCharacter:"\\ebfc"}),d.arrowCircleLeft=new d("arrow-circle-left",{fontCharacter:"\\ebfd"}),d.arrowCircleRight=new d("arrow-circle-right",{fontCharacter:"\\ebfe"}),d.arrowCircleUp=new d("arrow-circle-up",{fontCharacter:"\\ebff"}),d.dialogError=new d("dialog-error",d.error.definition),d.dialogWarning=new d("dialog-warning",d.warning.definition),d.dialogInfo=new d("dialog-info",d.info.definition),d.dialogClose=new d("dialog-close",d.close.definition),d.treeItemExpanded=new d("tree-item-expanded",d.chevronDown.definition),d.treeFilterOnTypeOn=new d("tree-filter-on-type-on",d.listFilter.definition),d.treeFilterOnTypeOff=new d("tree-filter-on-type-off",d.listSelection.definition),d.treeFilterClear=new d("tree-filter-clear",d.close.definition),d.treeItemLoading=new d("tree-item-loading",d.loading.definition),d.menuSelection=new d("menu-selection",d.check.definition),d.menuSubmenu=new d("menu-submenu",d.chevronRight.definition),d.menuBarMore=new d("menubar-more",d.more.definition),d.scrollbarButtonLeft=new d("scrollbar-button-left",d.triangleLeft.definition),d.scrollbarButtonRight=new d("scrollbar-button-right",d.triangleRight.definition),d.scrollbarButtonUp=new d("scrollbar-button-up",d.triangleUp.definition),d.scrollbarButtonDown=new d("scrollbar-button-down",d.triangleDown.definition),d.toolBarMore=new d("toolbar-more",d.more.definition),d.quickInputBack=new d("quick-input-back",d.arrowLeft.definition);var z;(function(O){O.iconNameSegment="[A-Za-z0-9]+",O.iconNameExpression="[A-Za-z0-9-]+",O.iconModifierExpression="~[A-Za-z]+",O.iconNameCharacter="[A-Za-z0-9~-]";const y=new RegExp(`^(${O.iconNameExpression})(${O.iconModifierExpression})?$`);function W(I){if(I instanceof d)return["codicon","codicon-"+I.id];const w=y.exec(I.id);if(!w)return W(d.error);let[,_,f]=w;const m=["codicon","codicon-"+_];return f&&m.push("codicon-modifier-"+f.substr(1)),m}O.asClassNameArray=W;function A(I){return W(I).join(" ")}O.asClassName=A;function M(I){return"."+W(I).join(".")}O.asCSSSelector=M})(z||(z={}))},32926:function(it,Ee,l){"use strict";l.d(Ee,{E:function(){return d},r:function(){return z}});const C=Object.prototype.hasOwnProperty;function d(O,y){for(let W in O)if(C.call(O,W)&&y({key:W,value:O[W]},function(){delete O[W]})===!1)return}class z{constructor(){this.map=new Map}add(y,W){let A=this.map.get(y);A||(A=new Set,this.map.set(y,A)),A.add(W)}delete(y,W){const A=this.map.get(y);!A||(A.delete(W),A.size===0&&this.map.delete(y))}forEach(y,W){const A=this.map.get(y);!A||A.forEach(W)}}},8957:function(it,Ee,l){"use strict";l.d(Ee,{Il:function(){return y},VS:function(){return d},tx:function(){return O}});function C(W,A){const M=Math.pow(10,A);return Math.round(W*M)/M}class d{constructor(A,M,I,w=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,A))|0,this.g=Math.min(255,Math.max(0,M))|0,this.b=Math.min(255,Math.max(0,I))|0,this.a=C(Math.max(Math.min(1,w),0),3)}static equals(A,M){return A.r===M.r&&A.g===M.g&&A.b===M.b&&A.a===M.a}}class z{constructor(A,M,I,w){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,A),0)|0,this.s=C(Math.max(Math.min(1,M),0),3),this.l=C(Math.max(Math.min(1,I),0),3),this.a=C(Math.max(Math.min(1,w),0),3)}static equals(A,M){return A.h===M.h&&A.s===M.s&&A.l===M.l&&A.a===M.a}static fromRGBA(A){const M=A.r/255,I=A.g/255,w=A.b/255,_=A.a,f=Math.max(M,I,w),m=Math.min(M,I,w);let a=0,x=0;const k=(m+f)/2,T=f-m;if(T>0){switch(x=Math.min(k<=.5?T/(2*k):T/(2-2*k),1),f){case M:a=(I-w)/T+(I<w?6:0);break;case I:a=(w-M)/T+2;break;case w:a=(M-I)/T+4;break}a*=60,a=Math.round(a)}return new z(a,x,k,_)}static _hue2rgb(A,M,I){return I<0&&(I+=1),I>1&&(I-=1),I<1/6?A+(M-A)*6*I:I<1/2?M:I<2/3?A+(M-A)*(2/3-I)*6:A}static toRGBA(A){const M=A.h/360,{s:I,l:w,a:_}=A;let f,m,a;if(I===0)f=m=a=w;else{const x=w<.5?w*(1+I):w+I-w*I,k=2*w-x;f=z._hue2rgb(k,x,M+1/3),m=z._hue2rgb(k,x,M),a=z._hue2rgb(k,x,M-1/3)}return new d(Math.round(f*255),Math.round(m*255),Math.round(a*255),_)}}class O{constructor(A,M,I,w){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,A),0)|0,this.s=C(Math.max(Math.min(1,M),0),3),this.v=C(Math.max(Math.min(1,I),0),3),this.a=C(Math.max(Math.min(1,w),0),3)}static equals(A,M){return A.h===M.h&&A.s===M.s&&A.v===M.v&&A.a===M.a}static fromRGBA(A){const M=A.r/255,I=A.g/255,w=A.b/255,_=Math.max(M,I,w),f=Math.min(M,I,w),m=_-f,a=_===0?0:m/_;let x;return m===0?x=0:_===M?x=((I-w)/m%6+6)%6:_===I?x=(w-M)/m+2:x=(M-I)/m+4,new O(Math.round(x*60),a,_,A.a)}static toRGBA(A){const{h:M,s:I,v:w,a:_}=A,f=w*I,m=f*(1-Math.abs(M/60%2-1)),a=w-f;let[x,k,T]=[0,0,0];return M<60?(x=f,k=m):M<120?(x=m,k=f):M<180?(k=f,T=m):M<240?(k=m,T=f):M<300?(x=m,T=f):M<=360&&(x=f,T=m),x=Math.round((x+a)*255),k=Math.round((k+a)*255),T=Math.round((T+a)*255),new d(x,k,T,_)}}class y{constructor(A){if(A)if(A instanceof d)this.rgba=A;else if(A instanceof z)this._hsla=A,this.rgba=z.toRGBA(A);else if(A instanceof O)this._hsva=A,this.rgba=O.toRGBA(A);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(A){return y.Format.CSS.parseHex(A)||y.red}get hsla(){return this._hsla?this._hsla:z.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:O.fromRGBA(this.rgba)}equals(A){return!!A&&d.equals(this.rgba,A.rgba)&&z.equals(this.hsla,A.hsla)&&O.equals(this.hsva,A.hsva)}getRelativeLuminance(){const A=y._relativeLuminanceForComponent(this.rgba.r),M=y._relativeLuminanceForComponent(this.rgba.g),I=y._relativeLuminanceForComponent(this.rgba.b),w=.2126*A+.7152*M+.0722*I;return C(w,4)}static _relativeLuminanceForComponent(A){const M=A/255;return M<=.03928?M/12.92:Math.pow((M+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(A){const M=this.getRelativeLuminance(),I=A.getRelativeLuminance();return M>I}isDarkerThan(A){const M=this.getRelativeLuminance(),I=A.getRelativeLuminance();return M<I}lighten(A){return new y(new z(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*A,this.hsla.a))}darken(A){return new y(new z(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*A,this.hsla.a))}transparent(A){const{r:M,g:I,b:w,a:_}=this.rgba;return new y(new d(M,I,w,_*A))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new y(new d(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=y.Format.CSS.format(this)),this._toString}static getLighterColor(A,M,I){if(A.isLighterThan(M))return A;I=I||.5;const w=A.getRelativeLuminance(),_=M.getRelativeLuminance();return I=I*(_-w)/_,A.lighten(I)}static getDarkerColor(A,M,I){if(A.isDarkerThan(M))return A;I=I||.5;const w=A.getRelativeLuminance(),_=M.getRelativeLuminance();return I=I*(w-_)/w,A.darken(I)}}y.white=new y(new d(255,255,255,1)),y.black=new y(new d(0,0,0,1)),y.red=new y(new d(255,0,0,1)),y.blue=new y(new d(0,0,255,1)),y.green=new y(new d(0,255,0,1)),y.cyan=new y(new d(0,255,255,1)),y.lightgrey=new y(new d(211,211,211,1)),y.transparent=new y(new d(0,0,0,0)),function(W){let A;(function(M){let I;(function(w){function _(b){return b.rgba.a===1?`rgb(${b.rgba.r}, ${b.rgba.g}, ${b.rgba.b})`:W.Format.CSS.formatRGBA(b)}w.formatRGB=_;function f(b){return`rgba(${b.rgba.r}, ${b.rgba.g}, ${b.rgba.b}, ${+b.rgba.a.toFixed(2)})`}w.formatRGBA=f;function m(b){return b.hsla.a===1?`hsl(${b.hsla.h}, ${(b.hsla.s*100).toFixed(2)}%, ${(b.hsla.l*100).toFixed(2)}%)`:W.Format.CSS.formatHSLA(b)}w.formatHSL=m;function a(b){return`hsla(${b.hsla.h}, ${(b.hsla.s*100).toFixed(2)}%, ${(b.hsla.l*100).toFixed(2)}%, ${b.hsla.a.toFixed(2)})`}w.formatHSLA=a;function x(b){const P=b.toString(16);return P.length!==2?"0"+P:P}function k(b){return`#${x(b.rgba.r)}${x(b.rgba.g)}${x(b.rgba.b)}`}w.formatHex=k;function T(b,P=!1){return P&&b.rgba.a===1?W.Format.CSS.formatHex(b):`#${x(b.rgba.r)}${x(b.rgba.g)}${x(b.rgba.b)}${x(Math.round(b.rgba.a*255))}`}w.formatHexA=T;function N(b){return b.isOpaque()?W.Format.CSS.formatHex(b):W.Format.CSS.formatRGBA(b)}w.format=N;function L(b){const P=b.length;if(P===0||b.charCodeAt(0)!==35)return null;if(P===7){const V=16*R(b.charCodeAt(1))+R(b.charCodeAt(2)),H=16*R(b.charCodeAt(3))+R(b.charCodeAt(4)),ee=16*R(b.charCodeAt(5))+R(b.charCodeAt(6));return new W(new d(V,H,ee,1))}if(P===9){const V=16*R(b.charCodeAt(1))+R(b.charCodeAt(2)),H=16*R(b.charCodeAt(3))+R(b.charCodeAt(4)),ee=16*R(b.charCodeAt(5))+R(b.charCodeAt(6)),ae=16*R(b.charCodeAt(7))+R(b.charCodeAt(8));return new W(new d(V,H,ee,ae/255))}if(P===4){const V=R(b.charCodeAt(1)),H=R(b.charCodeAt(2)),ee=R(b.charCodeAt(3));return new W(new d(16*V+V,16*H+H,16*ee+ee))}if(P===5){const V=R(b.charCodeAt(1)),H=R(b.charCodeAt(2)),ee=R(b.charCodeAt(3)),ae=R(b.charCodeAt(4));return new W(new d(16*V+V,16*H+H,16*ee+ee,(16*ae+ae)/255))}return null}w.parseHex=L;function R(b){switch(b){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(I=M.CSS||(M.CSS={}))})(A=W.Format||(W.Format={}))}(y||(y={}))},52069:function(it,Ee,l){"use strict";l.d(Ee,{H:function(){return C}});function C(d,z,O){let y=null,W=null;if(typeof O.value=="function"?(y="value",W=O.value,W.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof O.get=="function"&&(y="get",W=O.get),!W)throw new Error("not supported");const A=`$memoize$${z}`;O[y]=function(...M){return this.hasOwnProperty(A)||Object.defineProperty(this,A,{configurable:!1,enumerable:!1,writable:!1,value:W.apply(this,M)}),this[A]}}},42946:function(it,Ee,l){"use strict";l.d(Ee,{Hs:function(){return M},a$:function(){return O}});class C{constructor(w,_,f,m){this.originalStart=w,this.originalLength=_,this.modifiedStart=f,this.modifiedLength=m}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var d=l(53099);class z{constructor(w){this.source=w}getElements(){const w=this.source,_=new Int32Array(w.length);for(let f=0,m=w.length;f<m;f++)_[f]=w.charCodeAt(f);return _}}function O(I,w,_){return new M(new z(I),new z(w)).ComputeDiff(_).changes}class y{static Assert(w,_){if(!w)throw new Error(_)}}class W{static Copy(w,_,f,m,a){for(let x=0;x<a;x++)f[m+x]=w[_+x]}static Copy2(w,_,f,m,a){for(let x=0;x<a;x++)f[m+x]=w[_+x]}}class A{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new C(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(w,_){this.m_originalStart=Math.min(this.m_originalStart,w),this.m_modifiedStart=Math.min(this.m_modifiedStart,_),this.m_originalCount++}AddModifiedElement(w,_){this.m_originalStart=Math.min(this.m_originalStart,w),this.m_modifiedStart=Math.min(this.m_modifiedStart,_),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class M{constructor(w,_,f=null){this.ContinueProcessingPredicate=f,this._originalSequence=w,this._modifiedSequence=_;const[m,a,x]=M._getElements(w),[k,T,N]=M._getElements(_);this._hasStrings=x&&N,this._originalStringElements=m,this._originalElementsOrHash=a,this._modifiedStringElements=k,this._modifiedElementsOrHash=T,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(w){return w.length>0&&typeof w[0]=="string"}static _getElements(w){const _=w.getElements();if(M._isStringArray(_)){const f=new Int32Array(_.length);for(let m=0,a=_.length;m<a;m++)f[m]=(0,d.Cv)(_[m],0);return[_,f,!0]}return _ instanceof Int32Array?[[],_,!1]:[[],new Int32Array(_),!1]}ElementsAreEqual(w,_){return this._originalElementsOrHash[w]!==this._modifiedElementsOrHash[_]?!1:this._hasStrings?this._originalStringElements[w]===this._modifiedStringElements[_]:!0}ElementsAreStrictEqual(w,_){if(!this.ElementsAreEqual(w,_))return!1;const f=M._getStrictElement(this._originalSequence,w),m=M._getStrictElement(this._modifiedSequence,_);return f===m}static _getStrictElement(w,_){return typeof w.getStrictElement=="function"?w.getStrictElement(_):null}OriginalElementsAreEqual(w,_){return this._originalElementsOrHash[w]!==this._originalElementsOrHash[_]?!1:this._hasStrings?this._originalStringElements[w]===this._originalStringElements[_]:!0}ModifiedElementsAreEqual(w,_){return this._modifiedElementsOrHash[w]!==this._modifiedElementsOrHash[_]?!1:this._hasStrings?this._modifiedStringElements[w]===this._modifiedStringElements[_]:!0}ComputeDiff(w){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,w)}_ComputeDiff(w,_,f,m,a){const x=[!1];let k=this.ComputeDiffRecursive(w,_,f,m,x);return a&&(k=this.PrettifyChanges(k)),{quitEarly:x[0],changes:k}}ComputeDiffRecursive(w,_,f,m,a){for(a[0]=!1;w<=_&&f<=m&&this.ElementsAreEqual(w,f);)w++,f++;for(;_>=w&&m>=f&&this.ElementsAreEqual(_,m);)_--,m--;if(w>_||f>m){let R;return f<=m?(y.Assert(w===_+1,"originalStart should only be one more than originalEnd"),R=[new C(w,0,f,m-f+1)]):w<=_?(y.Assert(f===m+1,"modifiedStart should only be one more than modifiedEnd"),R=[new C(w,_-w+1,f,0)]):(y.Assert(w===_+1,"originalStart should only be one more than originalEnd"),y.Assert(f===m+1,"modifiedStart should only be one more than modifiedEnd"),R=[]),R}const x=[0],k=[0],T=this.ComputeRecursionPoint(w,_,f,m,x,k,a),N=x[0],L=k[0];if(T!==null)return T;if(!a[0]){const R=this.ComputeDiffRecursive(w,N,f,L,a);let b=[];return a[0]?b=[new C(N+1,_-(N+1)+1,L+1,m-(L+1)+1)]:b=this.ComputeDiffRecursive(N+1,_,L+1,m,a),this.ConcatenateChanges(R,b)}return[new C(w,_-w+1,f,m-f+1)]}WALKTRACE(w,_,f,m,a,x,k,T,N,L,R,b,P,V,H,ee,ae,me){let ge=null,re=null,se=new A,X=_,$=f,j=P[0]-ee[0]-m,ie=-1073741824,J=this.m_forwardHistory.length-1;do{const oe=j+w;oe===X||oe<$&&N[oe-1]<N[oe+1]?(R=N[oe+1],V=R-j-m,R<ie&&se.MarkNextChange(),ie=R,se.AddModifiedElement(R+1,V),j=oe+1-w):(R=N[oe-1]+1,V=R-j-m,R<ie&&se.MarkNextChange(),ie=R-1,se.AddOriginalElement(R,V+1),j=oe-1-w),J>=0&&(N=this.m_forwardHistory[J],w=N[0],X=1,$=N.length-1)}while(--J>=-1);if(ge=se.getReverseChanges(),me[0]){let oe=P[0]+1,ce=ee[0]+1;if(ge!==null&&ge.length>0){const we=ge[ge.length-1];oe=Math.max(oe,we.getOriginalEnd()),ce=Math.max(ce,we.getModifiedEnd())}re=[new C(oe,b-oe+1,ce,H-ce+1)]}else{se=new A,X=x,$=k,j=P[0]-ee[0]-T,ie=1073741824,J=ae?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const oe=j+a;oe===X||oe<$&&L[oe-1]>=L[oe+1]?(R=L[oe+1]-1,V=R-j-T,R>ie&&se.MarkNextChange(),ie=R+1,se.AddOriginalElement(R+1,V+1),j=oe+1-a):(R=L[oe-1],V=R-j-T,R>ie&&se.MarkNextChange(),ie=R,se.AddModifiedElement(R+1,V+1),j=oe-1-a),J>=0&&(L=this.m_reverseHistory[J],a=L[0],X=1,$=L.length-1)}while(--J>=-1);re=se.getChanges()}return this.ConcatenateChanges(ge,re)}ComputeRecursionPoint(w,_,f,m,a,x,k){let T=0,N=0,L=0,R=0,b=0,P=0;w--,f--,a[0]=0,x[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const V=_-w+(m-f),H=V+1,ee=new Int32Array(H),ae=new Int32Array(H),me=m-f,ge=_-w,re=w-f,se=_-m,$=(ge-me)%2===0;ee[me]=w,ae[ge]=_,k[0]=!1;for(let j=1;j<=V/2+1;j++){let ie=0,J=0;L=this.ClipDiagonalBound(me-j,j,me,H),R=this.ClipDiagonalBound(me+j,j,me,H);for(let ce=L;ce<=R;ce+=2){ce===L||ce<R&&ee[ce-1]<ee[ce+1]?T=ee[ce+1]:T=ee[ce-1]+1,N=T-(ce-me)-re;const we=T;for(;T<_&&N<m&&this.ElementsAreEqual(T+1,N+1);)T++,N++;if(ee[ce]=T,T+N>ie+J&&(ie=T,J=N),!$&&Math.abs(ce-ge)<=j-1&&T>=ae[ce])return a[0]=T,x[0]=N,we<=ae[ce]&&1447>0&&j<=1447+1?this.WALKTRACE(me,L,R,re,ge,b,P,se,ee,ae,T,_,a,N,m,x,$,k):null}const oe=(ie-w+(J-f)-j)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(ie,oe))return k[0]=!0,a[0]=ie,x[0]=J,oe>0&&1447>0&&j<=1447+1?this.WALKTRACE(me,L,R,re,ge,b,P,se,ee,ae,T,_,a,N,m,x,$,k):(w++,f++,[new C(w,_-w+1,f,m-f+1)]);b=this.ClipDiagonalBound(ge-j,j,ge,H),P=this.ClipDiagonalBound(ge+j,j,ge,H);for(let ce=b;ce<=P;ce+=2){ce===b||ce<P&&ae[ce-1]>=ae[ce+1]?T=ae[ce+1]-1:T=ae[ce-1],N=T-(ce-ge)-se;const we=T;for(;T>w&&N>f&&this.ElementsAreEqual(T,N);)T--,N--;if(ae[ce]=T,$&&Math.abs(ce-me)<=j&&T<=ee[ce])return a[0]=T,x[0]=N,we>=ee[ce]&&1447>0&&j<=1447+1?this.WALKTRACE(me,L,R,re,ge,b,P,se,ee,ae,T,_,a,N,m,x,$,k):null}if(j<=1447){let ce=new Int32Array(R-L+2);ce[0]=me-L+1,W.Copy2(ee,L,ce,1,R-L+1),this.m_forwardHistory.push(ce),ce=new Int32Array(P-b+2),ce[0]=ge-b+1,W.Copy2(ae,b,ce,1,P-b+1),this.m_reverseHistory.push(ce)}}return this.WALKTRACE(me,L,R,re,ge,b,P,se,ee,ae,T,_,a,N,m,x,$,k)}PrettifyChanges(w){for(let _=0;_<w.length;_++){const f=w[_],m=_<w.length-1?w[_+1].originalStart:this._originalElementsOrHash.length,a=_<w.length-1?w[_+1].modifiedStart:this._modifiedElementsOrHash.length,x=f.originalLength>0,k=f.modifiedLength>0;for(;f.originalStart+f.originalLength<m&&f.modifiedStart+f.modifiedLength<a&&(!x||this.OriginalElementsAreEqual(f.originalStart,f.originalStart+f.originalLength))&&(!k||this.ModifiedElementsAreEqual(f.modifiedStart,f.modifiedStart+f.modifiedLength));){const N=this.ElementsAreStrictEqual(f.originalStart,f.modifiedStart);if(this.ElementsAreStrictEqual(f.originalStart+f.originalLength,f.modifiedStart+f.modifiedLength)&&!N)break;f.originalStart++,f.modifiedStart++}let T=[null];if(_<w.length-1&&this.ChangesOverlap(w[_],w[_+1],T)){w[_]=T[0],w.splice(_+1,1),_--;continue}}for(let _=w.length-1;_>=0;_--){const f=w[_];let m=0,a=0;if(_>0){const R=w[_-1];m=R.originalStart+R.originalLength,a=R.modifiedStart+R.modifiedLength}const x=f.originalLength>0,k=f.modifiedLength>0;let T=0,N=this._boundaryScore(f.originalStart,f.originalLength,f.modifiedStart,f.modifiedLength);for(let R=1;;R++){const b=f.originalStart-R,P=f.modifiedStart-R;if(b<m||P<a||x&&!this.OriginalElementsAreEqual(b,b+f.originalLength)||k&&!this.ModifiedElementsAreEqual(P,P+f.modifiedLength))break;const H=(b===m&&P===a?5:0)+this._boundaryScore(b,f.originalLength,P,f.modifiedLength);H>N&&(N=H,T=R)}f.originalStart-=T,f.modifiedStart-=T;const L=[null];if(_>0&&this.ChangesOverlap(w[_-1],w[_],L)){w[_-1]=L[0],w.splice(_,1),_++;continue}}if(this._hasStrings)for(let _=1,f=w.length;_<f;_++){const m=w[_-1],a=w[_],x=a.originalStart-m.originalStart-m.originalLength,k=m.originalStart,T=a.originalStart+a.originalLength,N=T-k,L=m.modifiedStart,R=a.modifiedStart+a.modifiedLength,b=R-L;if(x<5&&N<20&&b<20){const P=this._findBetterContiguousSequence(k,N,L,b,x);if(P){const[V,H]=P;(V!==m.originalStart+m.originalLength||H!==m.modifiedStart+m.modifiedLength)&&(m.originalLength=V-m.originalStart,m.modifiedLength=H-m.modifiedStart,a.originalStart=V+x,a.modifiedStart=H+x,a.originalLength=T-a.originalStart,a.modifiedLength=R-a.modifiedStart)}}}return w}_findBetterContiguousSequence(w,_,f,m,a){if(_<a||m<a)return null;const x=w+_-a+1,k=f+m-a+1;let T=0,N=0,L=0;for(let R=w;R<x;R++)for(let b=f;b<k;b++){const P=this._contiguousSequenceScore(R,b,a);P>0&&P>T&&(T=P,N=R,L=b)}return T>0?[N,L]:null}_contiguousSequenceScore(w,_,f){let m=0;for(let a=0;a<f;a++){if(!this.ElementsAreEqual(w+a,_+a))return 0;m+=this._originalStringElements[w+a].length}return m}_OriginalIsBoundary(w){return w<=0||w>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[w])}_OriginalRegionIsBoundary(w,_){if(this._OriginalIsBoundary(w)||this._OriginalIsBoundary(w-1))return!0;if(_>0){const f=w+_;if(this._OriginalIsBoundary(f-1)||this._OriginalIsBoundary(f))return!0}return!1}_ModifiedIsBoundary(w){return w<=0||w>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[w])}_ModifiedRegionIsBoundary(w,_){if(this._ModifiedIsBoundary(w)||this._ModifiedIsBoundary(w-1))return!0;if(_>0){const f=w+_;if(this._ModifiedIsBoundary(f-1)||this._ModifiedIsBoundary(f))return!0}return!1}_boundaryScore(w,_,f,m){const a=this._OriginalRegionIsBoundary(w,_)?1:0,x=this._ModifiedRegionIsBoundary(f,m)?1:0;return a+x}ConcatenateChanges(w,_){let f=[];if(w.length===0||_.length===0)return _.length>0?_:w;if(this.ChangesOverlap(w[w.length-1],_[0],f)){const m=new Array(w.length+_.length-1);return W.Copy(w,0,m,0,w.length-1),m[w.length-1]=f[0],W.Copy(_,1,m,w.length,_.length-1),m}else{const m=new Array(w.length+_.length);return W.Copy(w,0,m,0,w.length),W.Copy(_,0,m,w.length,_.length),m}}ChangesOverlap(w,_,f){if(y.Assert(w.originalStart<=_.originalStart,"Left change is not less than or equal to right change"),y.Assert(w.modifiedStart<=_.modifiedStart,"Left change is not less than or equal to right change"),w.originalStart+w.originalLength>=_.originalStart||w.modifiedStart+w.modifiedLength>=_.modifiedStart){const m=w.originalStart;let a=w.originalLength;const x=w.modifiedStart;let k=w.modifiedLength;return w.originalStart+w.originalLength>=_.originalStart&&(a=_.originalStart+_.originalLength-w.originalStart),w.modifiedStart+w.modifiedLength>=_.modifiedStart&&(k=_.modifiedStart+_.modifiedLength-w.modifiedStart),f[0]=new C(m,a,x,k),!0}else return f[0]=null,!1}ClipDiagonalBound(w,_,f,m){if(w>=0&&w<m)return w;const a=f,x=m-f-1,k=_%2===0;if(w<0){const T=a%2===0;return k===T?0:1}else{const T=x%2===0;return k===T?m-1:m-2}}}},91273:function(it,Ee,l){"use strict";l.d(Ee,{B8:function(){return f},Cp:function(){return O},F0:function(){return I},FU:function(){return M},L6:function(){return _},b1:function(){return w},dL:function(){return z},n2:function(){return A},ri:function(){return y}});class C{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(a){setTimeout(()=>{throw a.stack?new Error(a.message+`

`+a.stack):a},0)}}emit(a){this.listeners.forEach(x=>{x(a)})}onUnexpectedError(a){this.unexpectedErrorHandler(a),this.emit(a)}onUnexpectedExternalError(a){this.unexpectedErrorHandler(a)}}const d=new C;function z(m){A(m)||d.onUnexpectedError(m)}function O(m){A(m)||d.onUnexpectedExternalError(m)}function y(m){if(m instanceof Error){let{name:a,message:x}=m;const k=m.stacktrace||m.stack;return{$isError:!0,name:a,message:x,stack:k}}return m}const W="Canceled";function A(m){return m instanceof M?!0:m instanceof Error&&m.name===W&&m.message===W}class M extends Error{constructor(){super(W),this.name=this.message}}function I(){const m=new Error(W);return m.name=m.message,m}function w(m){return m?new Error(`Illegal argument: ${m}`):new Error("Illegal argument")}function _(m){return m?new Error(`Illegal state: ${m}`):new Error("Illegal state")}class f extends Error{constructor(a){super("NotSupported"),a&&(this.message=a)}}},60774:function(it,Ee,l){"use strict";l.d(Ee,{D0:function(){return x},E7:function(){return k},K3:function(){return a},Q5:function(){return m},ZD:function(){return T},ju:function(){return A}});var C=l(91273),d=l(1405),z=l(80200),O=l(57734);let y=!1,W=!1;var A;(function(N){N.None=()=>d.JT.None;function L(Me){if(W){const{onListenerDidAdd:Ke}=Me,De=_.create();let be=0;Me.onListenerDidAdd=()=>{++be===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),De.print()),Ke==null||Ke()}}}function R(Me){return(Ke,De=null,be)=>{let We=!1,et;return et=Me(Kt=>{if(!We)return et?et.dispose():We=!0,Ke.call(De,Kt)},null,be),We&&et.dispose(),et}}N.once=R;function b(Me,Ke,De){return me((be,We=null,et)=>Me(Kt=>be.call(We,Ke(Kt)),null,et),De)}N.map=b;function P(Me,Ke,De){return me((be,We=null,et)=>Me(Kt=>{Ke(Kt),be.call(We,Kt)},null,et),De)}N.forEach=P;function V(Me,Ke,De){return me((be,We=null,et)=>Me(Kt=>Ke(Kt)&&be.call(We,Kt),null,et),De)}N.filter=V;function H(Me){return Me}N.signal=H;function ee(...Me){return(Ke,De=null,be)=>(0,d.F8)(...Me.map(We=>We(et=>Ke.call(De,et),null,be)))}N.any=ee;function ae(Me,Ke,De,be){let We=De;return b(Me,et=>(We=Ke(We,et),We),be)}N.reduce=ae;function me(Me,Ke){let De;const be={onFirstListenerAdd(){De=Me(We.fire,We)},onLastListenerRemove(){De.dispose()}};Ke||L(be);const We=new m(be);return Ke&&Ke.add(We),We.event}function ge(Me,Ke,De=100,be=!1,We,et){let Kt,_t,tt,kt=0;const Ut={leakWarningThreshold:We,onFirstListenerAdd(){Kt=Me(Te=>{kt++,_t=Ke(_t,Te),be&&!tt&&(Ft.fire(_t),_t=void 0),clearTimeout(tt),tt=setTimeout(()=>{const Ge=_t;_t=void 0,tt=void 0,(!be||kt>1)&&Ft.fire(Ge),kt=0},De)})},onLastListenerRemove(){Kt.dispose()}};et||L(Ut);const Ft=new m(Ut);return et&&et.add(Ft),Ft.event}N.debounce=ge;function re(Me,Ke=(be,We)=>be===We,De){let be=!0,We;return V(Me,et=>{const Kt=be||!Ke(et,We);return be=!1,We=et,Kt},De)}N.latch=re;function se(Me,Ke,De){return[N.filter(Me,Ke,De),N.filter(Me,be=>!Ke(be),De)]}N.split=se;function X(Me,Ke=!1,De=[]){let be=De.slice(),We=Me(_t=>{be?be.push(_t):Kt.fire(_t)});const et=()=>{be&&be.forEach(_t=>Kt.fire(_t)),be=null},Kt=new m({onFirstListenerAdd(){We||(We=Me(_t=>Kt.fire(_t)))},onFirstListenerDidAdd(){be&&(Ke?setTimeout(et):et())},onLastListenerRemove(){We&&We.dispose(),We=null}});return Kt.event}N.buffer=X;class ${constructor(Ke){this.event=Ke}map(Ke){return new $(b(this.event,Ke))}forEach(Ke){return new $(P(this.event,Ke))}filter(Ke){return new $(V(this.event,Ke))}reduce(Ke,De){return new $(ae(this.event,Ke,De))}latch(){return new $(re(this.event))}debounce(Ke,De=100,be=!1,We){return new $(ge(this.event,Ke,De,be,We))}on(Ke,De,be){return this.event(Ke,De,be)}once(Ke,De,be){return R(this.event)(Ke,De,be)}}function j(Me){return new $(Me)}N.chain=j;function ie(Me,Ke,De=be=>be){const be=(..._t)=>Kt.fire(De(..._t)),We=()=>Me.on(Ke,be),et=()=>Me.removeListener(Ke,be),Kt=new m({onFirstListenerAdd:We,onLastListenerRemove:et});return Kt.event}N.fromNodeEventEmitter=ie;function J(Me,Ke,De=be=>be){const be=(..._t)=>Kt.fire(De(..._t)),We=()=>Me.addEventListener(Ke,be),et=()=>Me.removeEventListener(Ke,be),Kt=new m({onFirstListenerAdd:We,onLastListenerRemove:et});return Kt.event}N.fromDOMEventEmitter=J;function oe(Me){return new Promise(Ke=>R(Me)(Ke))}N.toPromise=oe;function ce(Me,Ke){return Ke(void 0),Me(De=>Ke(De))}N.runAndSubscribe=ce;function we(Me,Ke){let De=null;function be(et){De==null||De.dispose(),De=new d.SL,Ke(et,De)}be(void 0);const We=Me(et=>be(et));return(0,d.OF)(()=>{We.dispose(),De==null||De.dispose()})}N.runAndSubscribeWithStore=we})(A||(A={}));class M{constructor(L){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${L}_${M._idPool++}`}start(L){this._stopWatch=new O.G(!0),this._listenerCount=L}stop(){if(this._stopWatch){const L=this._stopWatch.elapsed();this._elapsedOverall+=L,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${L.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}M._idPool=0;let I=-1;class w{constructor(L,R=Math.random().toString(18).slice(2,5)){this.customThreshold=L,this.name=R,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(L,R){let b=I;if(typeof this.customThreshold=="number"&&(b=this.customThreshold),b<=0||R<b)return;this._stacks||(this._stacks=new Map);const P=this._stacks.get(L.value)||0;if(this._stacks.set(L.value,P+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=b*.5;let V,H=0;for(const[ee,ae]of this._stacks)(!V||H<ae)&&(V=ee,H=ae);console.warn(`[${this.name}] potential listener LEAK detected, having ${R} listeners already. MOST frequent listener (${H}):`),console.warn(V)}return()=>{const V=this._stacks.get(L.value)||0;this._stacks.set(L.value,V-1)}}}class _{constructor(L){this.value=L}static create(){var L;return new _((L=new Error().stack)!==null&&L!==void 0?L:"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class f{constructor(L,R,b){this.callback=L,this.callbackThis=R,this.stack=b,this.subscription=new d.dt}invoke(L){this.callback.call(this.callbackThis,L)}}class m{constructor(L){var R;this._disposed=!1,this._options=L,this._leakageMon=I>0?new w(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=!((R=this._options)===null||R===void 0)&&R._profName?new M(this._options._profName):void 0}dispose(){var L,R,b,P;if(!this._disposed){if(this._disposed=!0,this._listeners){if(y){const V=Array.from(this._listeners);queueMicrotask(()=>{var H;for(const ee of V)ee.subscription.isset()&&(ee.subscription.unset(),(H=ee.stack)===null||H===void 0||H.print())})}this._listeners.clear()}(L=this._deliveryQueue)===null||L===void 0||L.clear(),(b=(R=this._options)===null||R===void 0?void 0:R.onLastListenerRemove)===null||b===void 0||b.call(R),(P=this._leakageMon)===null||P===void 0||P.dispose()}}get event(){return this._event||(this._event=(L,R,b)=>{var P,V,H;this._listeners||(this._listeners=new z.S);const ee=this._listeners.isEmpty();ee&&((P=this._options)===null||P===void 0?void 0:P.onFirstListenerAdd)&&this._options.onFirstListenerAdd(this);let ae,me;this._leakageMon&&this._listeners.size>=30&&(me=_.create(),ae=this._leakageMon.check(me,this._listeners.size+1)),y&&(me=me!=null?me:_.create());const ge=new f(L,R,me),re=this._listeners.push(ge);ee&&((V=this._options)===null||V===void 0?void 0:V.onFirstListenerDidAdd)&&this._options.onFirstListenerDidAdd(this),!((H=this._options)===null||H===void 0)&&H.onListenerDidAdd&&this._options.onListenerDidAdd(this,L,R);const se=ge.subscription.set(()=>{ae&&ae(),this._disposed||(re(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return b instanceof d.SL?b.add(se):Array.isArray(b)&&b.push(se),se}),this._event}fire(L){var R,b;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new z.S);for(let P of this._listeners)this._deliveryQueue.push([P,L]);for((R=this._perfMon)===null||R===void 0||R.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[P,V]=this._deliveryQueue.shift();try{P.invoke(V)}catch(H){(0,C.dL)(H)}}(b=this._perfMon)===null||b===void 0||b.stop()}}}class a extends m{constructor(L){super(L),this._isPaused=0,this._eventQueue=new z.S,this._mergeFn=L==null?void 0:L.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){const L=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(L))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(L){this._listeners&&(this._isPaused!==0?this._eventQueue.push(L):super.fire(L))}}class x extends a{constructor(L){var R;super(L),this._delay=(R=L.delay)!==null&&R!==void 0?R:100}fire(L){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(L)}}class k{constructor(){this.buffers=[]}wrapEvent(L){return(R,b,P)=>L(V=>{const H=this.buffers[this.buffers.length-1];H?H.push(()=>R.call(b,V)):R.call(b,V)},void 0,P)}bufferEvents(L){const R=[];this.buffers.push(R);const b=L();return this.buffers.pop(),R.forEach(P=>P()),b}}class T{constructor(){this.listening=!1,this.inputEvent=A.None,this.inputEventListener=d.JT.None,this.emitter=new m({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(L){this.inputEvent=L,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=L(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},62186:function(it,Ee,l){"use strict";l.d(Ee,{KM:function(){return M},ej:function(){return y},fn:function(){return W},oP:function(){return _},vY:function(){return w},yj:function(){return A}});var C=l(50018),d=l(24180),z=l(76311);function O(f){return f===47||f===92}function y(f){return f.replace(/[\\/]/g,C.KR.sep)}function W(f){return f.indexOf("/")===-1&&(f=y(f)),/^[a-zA-Z]:(\/|$)/.test(f)&&(f="/"+f),f}function A(f,m=C.KR.sep){if(!f)return"";const a=f.length,x=f.charCodeAt(0);if(O(x)){if(O(f.charCodeAt(1))&&!O(f.charCodeAt(2))){let T=3;const N=T;for(;T<a&&!O(f.charCodeAt(T));T++);if(N!==T&&!O(f.charCodeAt(T+1))){for(T+=1;T<a;T++)if(O(f.charCodeAt(T)))return f.slice(0,T+1).replace(/[\\/]/g,m)}}return m}else if(I(x)&&f.charCodeAt(1)===58)return O(f.charCodeAt(2))?f.slice(0,2)+m:f.slice(0,2);let k=f.indexOf("://");if(k!==-1){for(k+=3;k<a;k++)if(O(f.charCodeAt(k)))return f.slice(0,k+1)}return""}function M(f,m,a,x=C.ir){if(f===m)return!0;if(!f||!m||m.length>f.length)return!1;if(a){if(!(0,z.ok)(f,m))return!1;if(m.length===f.length)return!0;let T=m.length;return m.charAt(m.length-1)===x&&T--,f.charAt(T)===x}return m.charAt(m.length-1)!==x&&(m+=x),f.indexOf(m)===0}function I(f){return f>=65&&f<=90||f>=97&&f<=122}function w(f){const m=(0,C.Fv)(f);return d.ED?f.length>3?!1:_(m)&&(f.length===2||m.charCodeAt(2)===92):m===C.KR.sep}function _(f,m){return(m!==void 0?m:d.ED)?I(f.charCodeAt(0))&&f.charCodeAt(1)===58:!1}},79669:function(it,Ee,l){"use strict";l.d(Ee,{CL:function(){return Ft},EW:function(){return Te},Ji:function(){return y},KZ:function(){return ae},Oh:function(){return $},ir:function(){return A},jB:function(){return j},l7:function(){return Wt},mB:function(){return ie},or:function(){return z}});var C=l(30860),d=l(76311);function z(...ve){return function($e,at){for(let Tt=0,Mt=ve.length;Tt<Mt;Tt++){const gt=ve[Tt]($e,at);if(gt)return gt}return null}}const O=W.bind(void 0,!1),y=W.bind(void 0,!0);function W(ve,$e,at){if(!at||at.length<$e.length)return null;let Tt;return ve?Tt=d.ok(at,$e):Tt=at.indexOf($e)===0,Tt?$e.length>0?[{start:0,end:$e.length}]:[]:null}function A(ve,$e){const at=$e.toLowerCase().indexOf(ve.toLowerCase());return at===-1?null:[{start:at,end:at+ve.length}]}function M(ve,$e){return I(ve.toLowerCase(),$e.toLowerCase(),0,0)}function I(ve,$e,at,Tt){if(at===ve.length)return[];if(Tt===$e.length)return null;if(ve[at]===$e[Tt]){let Mt=null;return(Mt=I(ve,$e,at+1,Tt+1))?N({start:Tt,end:Tt+1},Mt):null}return I(ve,$e,at,Tt+1)}function w(ve){return 97<=ve&&ve<=122}function _(ve){return 65<=ve&&ve<=90}function f(ve){return 48<=ve&&ve<=57}function m(ve){return ve===32||ve===9||ve===10||ve===13}const a=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(ve=>a.add(ve.charCodeAt(0)));function x(ve){return m(ve)||a.has(ve)}function k(ve,$e){return ve===$e||x(ve)&&x($e)}function T(ve){return w(ve)||_(ve)||f(ve)}function N(ve,$e){return $e.length===0?$e=[ve]:ve.end===$e[0].start?$e[0].start=ve.start:$e.unshift(ve),$e}function L(ve,$e){for(let at=$e;at<ve.length;at++){const Tt=ve.charCodeAt(at);if(_(Tt)||f(Tt)||at>0&&!T(ve.charCodeAt(at-1)))return at}return ve.length}function R(ve,$e,at,Tt){if(at===ve.length)return[];if(Tt===$e.length)return null;if(ve[at]!==$e[Tt].toLowerCase())return null;{let Mt=null,gt=Tt+1;for(Mt=R(ve,$e,at+1,Tt+1);!Mt&&(gt=L($e,gt))<$e.length;)Mt=R(ve,$e,at+1,gt),gt++;return Mt===null?null:N({start:Tt,end:Tt+1},Mt)}}function b(ve){let $e=0,at=0,Tt=0,Mt=0,gt=0;for(let en=0;en<ve.length;en++)gt=ve.charCodeAt(en),_(gt)&&$e++,w(gt)&&at++,T(gt)&&Tt++,f(gt)&&Mt++;const Rt=$e/ve.length,Zt=at/ve.length,hn=Tt/ve.length,Pe=Mt/ve.length;return{upperPercent:Rt,lowerPercent:Zt,alphaPercent:hn,numericPercent:Pe}}function P(ve){const{upperPercent:$e,lowerPercent:at}=ve;return at===0&&$e>.6}function V(ve){const{upperPercent:$e,lowerPercent:at,alphaPercent:Tt,numericPercent:Mt}=ve;return at>.2&&$e<.8&&Tt>.6&&Mt<.2}function H(ve){let $e=0,at=0,Tt=0,Mt=0;for(let gt=0;gt<ve.length;gt++)Tt=ve.charCodeAt(gt),_(Tt)&&$e++,w(Tt)&&at++,m(Tt)&&Mt++;return($e===0||at===0)&&Mt===0?ve.length<=30:$e<=5}function ee(ve,$e){if(!$e||($e=$e.trim(),$e.length===0)||!H(ve)||$e.length>60)return null;const at=b($e);if(!V(at)){if(!P(at))return null;$e=$e.toLowerCase()}let Tt=null,Mt=0;for(ve=ve.toLowerCase();Mt<$e.length&&(Tt=R(ve,$e,0,Mt))===null;)Mt=L($e,Mt+1);return Tt}function ae(ve,$e,at=!1){if(!$e||$e.length===0)return null;let Tt=null,Mt=0;for(ve=ve.toLowerCase(),$e=$e.toLowerCase();Mt<$e.length&&(Tt=me(ve,$e,0,Mt,at))===null;)Mt=ge($e,Mt+1);return Tt}function me(ve,$e,at,Tt,Mt){if(at===ve.length)return[];if(Tt===$e.length)return null;if(k(ve.charCodeAt(at),$e.charCodeAt(Tt))){let gt=null,Rt=Tt+1;if(gt=me(ve,$e,at+1,Tt+1,Mt),!Mt)for(;!gt&&(Rt=ge($e,Rt))<$e.length;)gt=me(ve,$e,at+1,Rt,Mt),Rt++;return gt===null?null:N({start:Tt,end:Tt+1},gt)}else return null}function ge(ve,$e){for(let at=$e;at<ve.length;at++)if(x(ve.charCodeAt(at))||at>0&&x(ve.charCodeAt(at-1)))return at;return ve.length}const re=z(y,ee,A),se=z(y,ee,M),X=new C.z6(1e4);function $(ve,$e,at=!1){if(typeof ve!="string"||typeof $e!="string")return null;let Tt=X.get(ve);Tt||(Tt=new RegExp(d.un(ve),"i"),X.set(ve,Tt));const Mt=Tt.exec($e);return Mt?[{start:Mt.index,end:Mt.index+Mt[0].length}]:at?se(ve,$e):re(ve,$e)}function j(ve,$e,at,Tt,Mt,gt){const Rt=Math.min(13,ve.length);for(;at<Rt;at++){const Zt=Te(ve,$e,at,Tt,Mt,gt,!1);if(Zt)return Zt}return[0,gt]}function ie(ve){if(typeof ve=="undefined")return[];const $e=[],at=ve[1];for(let Tt=ve.length-1;Tt>1;Tt--){const Mt=ve[Tt]+at,gt=$e[$e.length-1];gt&&gt.end===Mt?gt.end=Mt+1:$e.push({start:Mt,end:Mt+1})}return $e}const J=128;function oe(){const ve=[],$e=[];for(let at=0;at<=J;at++)$e[at]=0;for(let at=0;at<=J;at++)ve.push($e.slice(0));return ve}function ce(ve){const $e=[];for(let at=0;at<=ve;at++)$e[at]=0;return $e}const we=ce(2*J),Me=ce(2*J),Ke=oe(),De=oe(),be=oe(),We=!1;function et(ve,$e,at,Tt,Mt){function gt(Zt,hn,Pe=" "){for(;Zt.length<hn;)Zt=Pe+Zt;return Zt}let Rt=` |   |${Tt.split("").map(Zt=>gt(Zt,3)).join("|")}
`;for(let Zt=0;Zt<=at;Zt++)Zt===0?Rt+=" |":Rt+=`${$e[Zt-1]}|`,Rt+=ve[Zt].slice(0,Mt+1).map(hn=>gt(hn.toString(),3)).join("|")+`
`;return Rt}function Kt(ve,$e,at,Tt){ve=ve.substr($e),at=at.substr(Tt),console.log(et(De,ve,ve.length,at,at.length)),console.log(et(be,ve,ve.length,at,at.length)),console.log(et(Ke,ve,ve.length,at,at.length))}function _t(ve,$e){if($e<0||$e>=ve.length)return!1;const at=ve.codePointAt($e);switch(at){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!d.C8(at)}}function tt(ve,$e){if($e<0||$e>=ve.length)return!1;switch(ve.charCodeAt($e)){case 32:case 9:return!0;default:return!1}}function kt(ve,$e,at){return $e[ve]!==at[ve]}function Ut(ve,$e,at,Tt,Mt,gt,Rt=!1){for(;$e<at&&Mt<gt;)ve[$e]===Tt[Mt]&&(Rt&&(we[$e]=Mt),$e+=1),Mt+=1;return $e===at}var Ft;(function(ve){ve.Default=[-100,0];function $e(at){return!at||at.length===2&&at[0]===-100&&at[1]===0}ve.isDefault=$e})(Ft||(Ft={}));function Te(ve,$e,at,Tt,Mt,gt,Rt){const Zt=ve.length>J?J:ve.length,hn=Tt.length>J?J:Tt.length;if(at>=Zt||gt>=hn||Zt-at>hn-gt||!Ut($e,at,Zt,Mt,gt,hn,!0))return;Ge(Zt,hn,at,gt,$e,Mt);let Pe=1,en=1,vt=at,Le=gt;const nn=[!1];for(Pe=1,vt=at;vt<Zt;Pe++,vt++){const Fe=we[vt],ht=Me[vt],Qt=vt+1<Zt?Me[vt+1]:hn;for(en=Fe-gt+1,Le=Fe;Le<Qt;en++,Le++){let dn=Number.MIN_SAFE_INTEGER,gn=!1;Le<=ht&&(dn=Et(ve,$e,vt,at,Tt,Mt,Le,hn,gt,Ke[Pe-1][en-1]===0,nn));let Ht=0;dn!==Number.MAX_SAFE_INTEGER&&(gn=!0,Ht=dn+De[Pe-1][en-1]);const lt=Le>Fe,Cn=lt?De[Pe][en-1]+(Ke[Pe][en-1]>0?-5:0):0,Ue=Le>Fe+1&&Ke[Pe][en-1]>0,Pt=Ue?De[Pe][en-2]+(Ke[Pe][en-2]>0?-5:0):0;if(Ue&&(!lt||Pt>=Cn)&&(!gn||Pt>=Ht))De[Pe][en]=Pt,be[Pe][en]=3,Ke[Pe][en]=0;else if(lt&&(!gn||Cn>=Ht))De[Pe][en]=Cn,be[Pe][en]=2,Ke[Pe][en]=0;else if(gn)De[Pe][en]=Ht,be[Pe][en]=1,Ke[Pe][en]=Ke[Pe-1][en-1]+1;else throw new Error("not possible")}}if(We&&Kt(ve,at,Tt,gt),!nn[0]&&!Rt)return;Pe--,en--;const sn=[De[Pe][en],gt];let ei=0,wn=0;for(;Pe>=1;){let Fe=en;do{const ht=be[Pe][Fe];if(ht===3)Fe=Fe-2;else if(ht===2)Fe=Fe-1;else break}while(Fe>=1);ei>1&&$e[at+Pe-1]===Mt[gt+en-1]&&!kt(Fe+gt-1,Tt,Mt)&&ei+1>Ke[Pe][Fe]&&(Fe=en),Fe===en?ei++:ei=1,wn||(wn=Fe),Pe--,en=Fe-1,sn.push(en)}hn===Zt&&(sn[0]+=2);const Ne=wn-Zt;return sn[0]-=Ne,sn}function Ge(ve,$e,at,Tt,Mt,gt){let Rt=ve-1,Zt=$e-1;for(;Rt>=at&&Zt>=Tt;)Mt[Rt]===gt[Zt]&&(Me[Rt]=Zt,Rt--),Zt--}function Et(ve,$e,at,Tt,Mt,gt,Rt,Zt,hn,Pe,en){if($e[at]!==gt[Rt])return Number.MIN_SAFE_INTEGER;let vt=1,Le=!1;return Rt===at-Tt?vt=ve[at]===Mt[Rt]?7:5:kt(Rt,Mt,gt)&&(Rt===0||!kt(Rt-1,Mt,gt))?(vt=ve[at]===Mt[Rt]?7:5,Le=!0):_t(gt,Rt)&&(Rt===0||!_t(gt,Rt-1))?vt=5:(_t(gt,Rt-1)||tt(gt,Rt-1))&&(vt=5,Le=!0),vt>1&&at===Tt&&(en[0]=!0),Le||(Le=kt(Rt,Mt,gt)||_t(gt,Rt-1)||tt(gt,Rt-1)),at===Tt?Rt>hn&&(vt-=Le?3:5):Pe?vt+=Le?2:0:vt+=Le?0:1,Rt+1===Zt&&(vt-=Le?3:5),vt}function Wt(ve,$e,at,Tt,Mt,gt,Rt){return Ze(ve,$e,at,Tt,Mt,gt,!0,Rt)}function Ze(ve,$e,at,Tt,Mt,gt,Rt,Zt){let hn=Te(ve,$e,at,Tt,Mt,gt,Zt);if(hn&&!Rt)return hn;if(ve.length>=3){const Pe=Math.min(7,ve.length-1);for(let en=at+1;en<Pe;en++){const vt=xe(ve,en);if(vt){const Le=Te(vt,vt.toLowerCase(),at,Tt,Mt,gt,Zt);Le&&(Le[0]-=3,(!hn||Le[0]>hn[0])&&(hn=Le))}}}return hn}function xe(ve,$e){if($e+1>=ve.length)return;const at=ve[$e],Tt=ve[$e+1];if(at!==Tt)return ve.slice(0,$e)+Tt+at+ve.slice($e+2)}},26372:function(it,Ee,l){"use strict";l.d(Ee,{I:function(){return C}});function C(d){const z=this;let O=!1,y;return function(){return O||(O=!0,y=d.apply(z,arguments)),y}}},53099:function(it,Ee,l){"use strict";l.d(Ee,{Cv:function(){return W},SP:function(){return z},vp:function(){return d},yP:function(){return m}});var C=l(76311);function d(a){return z(a,0)}function z(a,x){switch(typeof a){case"object":return a===null?O(349,x):Array.isArray(a)?A(a,x):M(a,x);case"string":return W(a,x);case"boolean":return y(a,x);case"number":return O(a,x);case"undefined":return O(937,x);default:return O(617,x)}}function O(a,x){return(x<<5)-x+a|0}function y(a,x){return O(a?433:863,x)}function W(a,x){x=O(149417,x);for(let k=0,T=a.length;k<T;k++)x=O(a.charCodeAt(k),x);return x}function A(a,x){return x=O(104579,x),a.reduce((k,T)=>z(T,k),x)}function M(a,x){return x=O(181387,x),Object.keys(a).sort().reduce((k,T)=>(k=W(T,k),z(a[T],k)),x)}function I(a,x,k=32){const T=k-x,N=~((1<<T)-1);return(a<<x|(N&a)>>>T)>>>0}function w(a,x=0,k=a.byteLength,T=0){for(let N=0;N<k;N++)a[x+N]=T}function _(a,x,k="0"){for(;a.length<x;)a=k+a;return a}function f(a,x=32){return a instanceof ArrayBuffer?Array.from(new Uint8Array(a)).map(k=>k.toString(16).padStart(2,"0")).join(""):_((a>>>0).toString(16),x/4)}class m{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(x){const k=x.length;if(k===0)return;const T=this._buff;let N=this._buffLen,L=this._leftoverHighSurrogate,R,b;for(L!==0?(R=L,b=-1,L=0):(R=x.charCodeAt(0),b=0);;){let P=R;if(C.ZG(R))if(b+1<k){const V=x.charCodeAt(b+1);C.YK(V)?(b++,P=C.rL(R,V)):P=65533}else{L=R;break}else C.YK(R)&&(P=65533);if(N=this._push(T,N,P),b++,b<k)R=x.charCodeAt(b);else break}this._buffLen=N,this._leftoverHighSurrogate=L}_push(x,k,T){return T<128?x[k++]=T:T<2048?(x[k++]=192|(T&1984)>>>6,x[k++]=128|(T&63)>>>0):T<65536?(x[k++]=224|(T&61440)>>>12,x[k++]=128|(T&4032)>>>6,x[k++]=128|(T&63)>>>0):(x[k++]=240|(T&1835008)>>>18,x[k++]=128|(T&258048)>>>12,x[k++]=128|(T&4032)>>>6,x[k++]=128|(T&63)>>>0),k>=64&&(this._step(),k-=64,this._totalLen+=64,x[0]=x[64+0],x[1]=x[64+1],x[2]=x[64+2]),k}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),f(this._h0)+f(this._h1)+f(this._h2)+f(this._h3)+f(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,w(this._buff,this._buffLen),this._buffLen>56&&(this._step(),w(this._buff));const x=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(x/4294967296),!1),this._buffDV.setUint32(60,x%4294967296,!1),this._step()}_step(){const x=m._bigBlock32,k=this._buffDV;for(let ee=0;ee<64;ee+=4)x.setUint32(ee,k.getUint32(ee,!1),!1);for(let ee=64;ee<320;ee+=4)x.setUint32(ee,I(x.getUint32(ee-12,!1)^x.getUint32(ee-32,!1)^x.getUint32(ee-56,!1)^x.getUint32(ee-64,!1),1),!1);let T=this._h0,N=this._h1,L=this._h2,R=this._h3,b=this._h4,P,V,H;for(let ee=0;ee<80;ee++)ee<20?(P=N&L|~N&R,V=1518500249):ee<40?(P=N^L^R,V=1859775393):ee<60?(P=N&L|N&R|L&R,V=2400959708):(P=N^L^R,V=3395469782),H=I(T,5)+P+b+V+x.getUint32(ee*4,!1)&4294967295,b=R,R=L,L=I(N,30),N=T,T=H;this._h0=this._h0+T&4294967295,this._h1=this._h1+N&4294967295,this._h2=this._h2+L&4294967295,this._h3=this._h3+R&4294967295,this._h4=this._h4+b&4294967295}}m._bigBlock32=new DataView(new ArrayBuffer(320))},91903:function(it,Ee,l){"use strict";l.d(Ee,{CP:function(){return O},Fr:function(){return y},W5:function(){return z},oR:function(){return A},v1:function(){return M}});var C=l(91273),d=l(65249);class z{constructor(w="",_=!1){var f,m,a;if(this.value=w,typeof this.value!="string")throw(0,C.b1)("value");typeof _=="boolean"?(this.isTrusted=_,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(f=_.isTrusted)!==null&&f!==void 0?f:void 0,this.supportThemeIcons=(m=_.supportThemeIcons)!==null&&m!==void 0?m:!1,this.supportHtml=(a=_.supportHtml)!==null&&a!==void 0?a:!1)}appendText(w,_=0){return this.value+=W(this.supportThemeIcons?(0,d.Qo)(w):w).replace(/([ \t]+)/g,(f,m)=>"&nbsp;".repeat(m.length)).replace(/\>/gm,"\\>").replace(/\n/g,_===1?`\\
`:`

`),this}appendMarkdown(w){return this.value+=w,this}appendCodeblock(w,_){return this.value+="\n```",this.value+=w,this.value+=`
`,this.value+=_,this.value+="\n```\n",this}}function O(I){return y(I)?!I.value:Array.isArray(I)?I.every(O):!0}function y(I){return I instanceof z?!0:I&&typeof I=="object"?typeof I.value=="string"&&(typeof I.isTrusted=="boolean"||I.isTrusted===void 0)&&(typeof I.supportThemeIcons=="boolean"||I.supportThemeIcons===void 0):!1}function W(I){return I.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}function A(I){return I&&I.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}function M(I){const w=[],_=I.split("|").map(m=>m.trim());I=_[0];const f=_[1];if(f){const m=/height=(\d+)/.exec(f),a=/width=(\d+)/.exec(f),x=m?m[1]:"",k=a?a[1]:"",T=isFinite(parseInt(k)),N=isFinite(parseInt(x));T&&w.push(`width="${k}"`),N&&w.push(`height="${x}"`)}return{href:I,dimensions:w}}},65249:function(it,Ee,l){"use strict";l.d(Ee,{Gt:function(){return x},Ho:function(){return m},Qo:function(){return M},f$:function(){return w},x$:function(){return f}});var C=l(74696),d=l(79669),z=l(76311);const O="$(",y=new RegExp(`\\$\\(${C.dT.iconNameExpression}(?:${C.dT.iconModifierExpression})?\\)`,"g"),W=new RegExp(C.dT.iconNameCharacter),A=new RegExp(`(\\\\)?${y.source}`,"g");function M(k){return k.replace(A,(T,N)=>N?T:`\\${T}`)}const I=new RegExp(`\\\\${y.source}`,"g");function w(k){return k.replace(I,T=>`\\${T}`)}const _=new RegExp(`(\\s)?(\\\\)?${y.source}(\\s)?`,"g");function f(k){return k.indexOf(O)===-1?k:k.replace(_,(T,N,L,R)=>L?T:N||R||"")}function m(k){const T=k.indexOf(O);return T===-1?{text:k}:a(k,T)}function a(k,T){const N=[];let L="";function R(ge){if(ge){L+=ge;for(const re of ge)N.push(V)}}let b=-1,P="",V=0,H,ee,ae=T;const me=k.length;for(R(k.substr(0,T));ae<me;){if(H=k[ae],ee=k[ae+1],H===O[0]&&ee===O[1])b=ae,R(P),P=O,ae++;else if(H===")"&&b!==-1){const ge=ae-b+1;V+=ge,b=-1,P=""}else b!==-1?W.test(H)?P+=H:(R(P),b=-1,P=""):R(H);ae++}return R(P),{text:L,iconOffsets:N}}function x(k,T,N=!1){const{text:L,iconOffsets:R}=T;if(!R||R.length===0)return(0,d.Oh)(k,L,N);const b=(0,z.j3)(L," "),P=L.length-b.length,V=(0,d.Oh)(k,b,N);if(V)for(const H of V){const ee=R[H.start+P]+P;H.start+=ee,H.end+=ee}return V}},58893:function(it,Ee,l){"use strict";l.d(Ee,{R:function(){return C},a:function(){return d}});class C{constructor(O){this._prefix=O,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const d=new C("id#")},80050:function(it,Ee,l){"use strict";l.d(Ee,{$:function(){return C}});var C;(function(d){function z(R){return R&&typeof R=="object"&&typeof R[Symbol.iterator]=="function"}d.is=z;const O=Object.freeze([]);function y(){return O}d.empty=y;function*W(R){yield R}d.single=W;function A(R){return R||O}d.from=A;function M(R){return!R||R[Symbol.iterator]().next().done===!0}d.isEmpty=M;function I(R){return R[Symbol.iterator]().next().value}d.first=I;function w(R,b){for(const P of R)if(b(P))return!0;return!1}d.some=w;function _(R,b){for(const P of R)if(b(P))return P}d.find=_;function*f(R,b){for(const P of R)b(P)&&(yield P)}d.filter=f;function*m(R,b){let P=0;for(const V of R)yield b(V,P++)}d.map=m;function*a(...R){for(const b of R)for(const P of b)yield P}d.concat=a;function*x(R){for(const b of R)for(const P of b)yield P}d.concatNested=x;function k(R,b,P){let V=P;for(const H of R)V=b(V,H);return V}d.reduce=k;function*T(R,b,P=R.length){for(b<0&&(b+=R.length),P<0?P+=R.length:P>R.length&&(P=R.length);b<P;b++)yield R[b]}d.slice=T;function N(R,b=Number.POSITIVE_INFINITY){const P=[];if(b===0)return[P,R];const V=R[Symbol.iterator]();for(let H=0;H<b;H++){const ee=V.next();if(ee.done)return[P,d.empty()];P.push(ee.value)}return[P,{[Symbol.iterator](){return V}}]}d.consume=N;function L(R,b,P=(V,H)=>V===H){const V=R[Symbol.iterator](),H=b[Symbol.iterator]();for(;;){const ee=V.next(),ae=H.next();if(ee.done!==ae.done)return!1;if(ee.done)return!0;if(!P(ee.value,ae.value))return!1}}d.equals=L})(C||(C={}))},52972:function(it,Ee,l){"use strict";l.d(Ee,{H_:function(){return y},Vd:function(){return w},gx:function(){return m},kL:function(){return f}});class C{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(x,k){this._keyCodeToStr[x]=k,this._strToKeyCode[k.toLowerCase()]=x}keyCodeToStr(x){return this._keyCodeToStr[x]}strToKeyCode(x){return this._strToKeyCode[x.toLowerCase()]||0}}const d=new C,z=new C,O=new C,y=new Array(230),W={},A=[],M=Object.create(null),I=Object.create(null),w=[],_=[];for(let a=0;a<=193;a++)w[a]=-1;for(let a=0;a<=127;a++)_[a]=-1;(function(){const a="",x=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",a,a],[0,1,1,"Hyper",0,a,0,a,a,a],[0,1,2,"Super",0,a,0,a,a,a],[0,1,3,"Fn",0,a,0,a,a,a],[0,1,4,"FnLock",0,a,0,a,a,a],[0,1,5,"Suspend",0,a,0,a,a,a],[0,1,6,"Resume",0,a,0,a,a,a],[0,1,7,"Turbo",0,a,0,a,a,a],[0,1,8,"Sleep",0,a,0,"VK_SLEEP",a,a],[0,1,9,"WakeUp",0,a,0,a,a,a],[31,0,10,"KeyA",31,"A",65,"VK_A",a,a],[32,0,11,"KeyB",32,"B",66,"VK_B",a,a],[33,0,12,"KeyC",33,"C",67,"VK_C",a,a],[34,0,13,"KeyD",34,"D",68,"VK_D",a,a],[35,0,14,"KeyE",35,"E",69,"VK_E",a,a],[36,0,15,"KeyF",36,"F",70,"VK_F",a,a],[37,0,16,"KeyG",37,"G",71,"VK_G",a,a],[38,0,17,"KeyH",38,"H",72,"VK_H",a,a],[39,0,18,"KeyI",39,"I",73,"VK_I",a,a],[40,0,19,"KeyJ",40,"J",74,"VK_J",a,a],[41,0,20,"KeyK",41,"K",75,"VK_K",a,a],[42,0,21,"KeyL",42,"L",76,"VK_L",a,a],[43,0,22,"KeyM",43,"M",77,"VK_M",a,a],[44,0,23,"KeyN",44,"N",78,"VK_N",a,a],[45,0,24,"KeyO",45,"O",79,"VK_O",a,a],[46,0,25,"KeyP",46,"P",80,"VK_P",a,a],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",a,a],[48,0,27,"KeyR",48,"R",82,"VK_R",a,a],[49,0,28,"KeyS",49,"S",83,"VK_S",a,a],[50,0,29,"KeyT",50,"T",84,"VK_T",a,a],[51,0,30,"KeyU",51,"U",85,"VK_U",a,a],[52,0,31,"KeyV",52,"V",86,"VK_V",a,a],[53,0,32,"KeyW",53,"W",87,"VK_W",a,a],[54,0,33,"KeyX",54,"X",88,"VK_X",a,a],[55,0,34,"KeyY",55,"Y",89,"VK_Y",a,a],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",a,a],[22,0,36,"Digit1",22,"1",49,"VK_1",a,a],[23,0,37,"Digit2",23,"2",50,"VK_2",a,a],[24,0,38,"Digit3",24,"3",51,"VK_3",a,a],[25,0,39,"Digit4",25,"4",52,"VK_4",a,a],[26,0,40,"Digit5",26,"5",53,"VK_5",a,a],[27,0,41,"Digit6",27,"6",54,"VK_6",a,a],[28,0,42,"Digit7",28,"7",55,"VK_7",a,a],[29,0,43,"Digit8",29,"8",56,"VK_8",a,a],[30,0,44,"Digit9",30,"9",57,"VK_9",a,a],[21,0,45,"Digit0",21,"0",48,"VK_0",a,a],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",a,a],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",a,a],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",a,a],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",a,a],[10,1,50,"Space",10,"Space",32,"VK_SPACE",a,a],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,a,0,a,a,a],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",a,a],[59,1,64,"F1",59,"F1",112,"VK_F1",a,a],[60,1,65,"F2",60,"F2",113,"VK_F2",a,a],[61,1,66,"F3",61,"F3",114,"VK_F3",a,a],[62,1,67,"F4",62,"F4",115,"VK_F4",a,a],[63,1,68,"F5",63,"F5",116,"VK_F5",a,a],[64,1,69,"F6",64,"F6",117,"VK_F6",a,a],[65,1,70,"F7",65,"F7",118,"VK_F7",a,a],[66,1,71,"F8",66,"F8",119,"VK_F8",a,a],[67,1,72,"F9",67,"F9",120,"VK_F9",a,a],[68,1,73,"F10",68,"F10",121,"VK_F10",a,a],[69,1,74,"F11",69,"F11",122,"VK_F11",a,a],[70,1,75,"F12",70,"F12",123,"VK_F12",a,a],[0,1,76,"PrintScreen",0,a,0,a,a,a],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",a,a],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",a,a],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",a,a],[14,1,80,"Home",14,"Home",36,"VK_HOME",a,a],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",a,a],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",a,a],[13,1,83,"End",13,"End",35,"VK_END",a,a],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",a,a],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",a],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",a],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",a],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",a],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",a,a],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",a,a],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",a,a],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",a,a],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",a,a],[3,1,94,"NumpadEnter",3,a,0,a,a,a],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",a,a],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",a,a],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",a,a],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",a,a],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",a,a],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",a,a],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",a,a],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",a,a],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",a,a],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",a,a],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",a,a],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",a,a],[58,1,107,"ContextMenu",58,"ContextMenu",93,a,a,a],[0,1,108,"Power",0,a,0,a,a,a],[0,1,109,"NumpadEqual",0,a,0,a,a,a],[71,1,110,"F13",71,"F13",124,"VK_F13",a,a],[72,1,111,"F14",72,"F14",125,"VK_F14",a,a],[73,1,112,"F15",73,"F15",126,"VK_F15",a,a],[74,1,113,"F16",74,"F16",127,"VK_F16",a,a],[75,1,114,"F17",75,"F17",128,"VK_F17",a,a],[76,1,115,"F18",76,"F18",129,"VK_F18",a,a],[77,1,116,"F19",77,"F19",130,"VK_F19",a,a],[0,1,117,"F20",0,a,0,"VK_F20",a,a],[0,1,118,"F21",0,a,0,"VK_F21",a,a],[0,1,119,"F22",0,a,0,"VK_F22",a,a],[0,1,120,"F23",0,a,0,"VK_F23",a,a],[0,1,121,"F24",0,a,0,"VK_F24",a,a],[0,1,122,"Open",0,a,0,a,a,a],[0,1,123,"Help",0,a,0,a,a,a],[0,1,124,"Select",0,a,0,a,a,a],[0,1,125,"Again",0,a,0,a,a,a],[0,1,126,"Undo",0,a,0,a,a,a],[0,1,127,"Cut",0,a,0,a,a,a],[0,1,128,"Copy",0,a,0,a,a,a],[0,1,129,"Paste",0,a,0,a,a,a],[0,1,130,"Find",0,a,0,a,a,a],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",a,a],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",a,a],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",a,a],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",a,a],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",a,a],[0,1,136,"KanaMode",0,a,0,a,a,a],[0,0,137,"IntlYen",0,a,0,a,a,a],[0,1,138,"Convert",0,a,0,a,a,a],[0,1,139,"NonConvert",0,a,0,a,a,a],[0,1,140,"Lang1",0,a,0,a,a,a],[0,1,141,"Lang2",0,a,0,a,a,a],[0,1,142,"Lang3",0,a,0,a,a,a],[0,1,143,"Lang4",0,a,0,a,a,a],[0,1,144,"Lang5",0,a,0,a,a,a],[0,1,145,"Abort",0,a,0,a,a,a],[0,1,146,"Props",0,a,0,a,a,a],[0,1,147,"NumpadParenLeft",0,a,0,a,a,a],[0,1,148,"NumpadParenRight",0,a,0,a,a,a],[0,1,149,"NumpadBackspace",0,a,0,a,a,a],[0,1,150,"NumpadMemoryStore",0,a,0,a,a,a],[0,1,151,"NumpadMemoryRecall",0,a,0,a,a,a],[0,1,152,"NumpadMemoryClear",0,a,0,a,a,a],[0,1,153,"NumpadMemoryAdd",0,a,0,a,a,a],[0,1,154,"NumpadMemorySubtract",0,a,0,a,a,a],[0,1,155,"NumpadClear",126,"Clear",12,"VK_CLEAR",a,a],[0,1,156,"NumpadClearEntry",0,a,0,a,a,a],[5,1,0,a,5,"Ctrl",17,"VK_CONTROL",a,a],[4,1,0,a,4,"Shift",16,"VK_SHIFT",a,a],[6,1,0,a,6,"Alt",18,"VK_MENU",a,a],[57,1,0,a,57,"Meta",0,"VK_COMMAND",a,a],[5,1,157,"ControlLeft",5,a,0,"VK_LCONTROL",a,a],[4,1,158,"ShiftLeft",4,a,0,"VK_LSHIFT",a,a],[6,1,159,"AltLeft",6,a,0,"VK_LMENU",a,a],[57,1,160,"MetaLeft",57,a,0,"VK_LWIN",a,a],[5,1,161,"ControlRight",5,a,0,"VK_RCONTROL",a,a],[4,1,162,"ShiftRight",4,a,0,"VK_RSHIFT",a,a],[6,1,163,"AltRight",6,a,0,"VK_RMENU",a,a],[57,1,164,"MetaRight",57,a,0,"VK_RWIN",a,a],[0,1,165,"BrightnessUp",0,a,0,a,a,a],[0,1,166,"BrightnessDown",0,a,0,a,a,a],[0,1,167,"MediaPlay",0,a,0,a,a,a],[0,1,168,"MediaRecord",0,a,0,a,a,a],[0,1,169,"MediaFastForward",0,a,0,a,a,a],[0,1,170,"MediaRewind",0,a,0,a,a,a],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",a,a],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",a,a],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",a,a],[0,1,174,"Eject",0,a,0,a,a,a],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",a,a],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",a,a],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",a,a],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",a,a],[0,1,179,"LaunchApp1",0,a,0,"VK_MEDIA_LAUNCH_APP1",a,a],[0,1,180,"SelectTask",0,a,0,a,a,a],[0,1,181,"LaunchScreenSaver",0,a,0,a,a,a],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",a,a],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",a,a],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",a,a],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",a,a],[0,1,186,"BrowserStop",0,a,0,"VK_BROWSER_STOP",a,a],[0,1,187,"BrowserRefresh",0,a,0,"VK_BROWSER_REFRESH",a,a],[0,1,188,"BrowserFavorites",0,a,0,"VK_BROWSER_FAVORITES",a,a],[0,1,189,"ZoomToggle",0,a,0,a,a,a],[0,1,190,"MailReply",0,a,0,a,a,a],[0,1,191,"MailForward",0,a,0,a,a,a],[0,1,192,"MailSend",0,a,0,a,a,a],[109,1,0,a,109,"KeyInComposition",229,a,a,a],[111,1,0,a,111,"ABNT_C2",194,"VK_ABNT_C2",a,a],[91,1,0,a,91,"OEM_8",223,"VK_OEM_8",a,a],[0,1,0,a,0,a,0,"VK_KANA",a,a],[0,1,0,a,0,a,0,"VK_HANGUL",a,a],[0,1,0,a,0,a,0,"VK_JUNJA",a,a],[0,1,0,a,0,a,0,"VK_FINAL",a,a],[0,1,0,a,0,a,0,"VK_HANJA",a,a],[0,1,0,a,0,a,0,"VK_KANJI",a,a],[0,1,0,a,0,a,0,"VK_CONVERT",a,a],[0,1,0,a,0,a,0,"VK_NONCONVERT",a,a],[0,1,0,a,0,a,0,"VK_ACCEPT",a,a],[0,1,0,a,0,a,0,"VK_MODECHANGE",a,a],[0,1,0,a,0,a,0,"VK_SELECT",a,a],[0,1,0,a,0,a,0,"VK_PRINT",a,a],[0,1,0,a,0,a,0,"VK_EXECUTE",a,a],[0,1,0,a,0,a,0,"VK_SNAPSHOT",a,a],[0,1,0,a,0,a,0,"VK_HELP",a,a],[0,1,0,a,0,a,0,"VK_APPS",a,a],[0,1,0,a,0,a,0,"VK_PROCESSKEY",a,a],[0,1,0,a,0,a,0,"VK_PACKET",a,a],[0,1,0,a,0,a,0,"VK_DBE_SBCSCHAR",a,a],[0,1,0,a,0,a,0,"VK_DBE_DBCSCHAR",a,a],[0,1,0,a,0,a,0,"VK_ATTN",a,a],[0,1,0,a,0,a,0,"VK_CRSEL",a,a],[0,1,0,a,0,a,0,"VK_EXSEL",a,a],[0,1,0,a,0,a,0,"VK_EREOF",a,a],[0,1,0,a,0,a,0,"VK_PLAY",a,a],[0,1,0,a,0,a,0,"VK_ZOOM",a,a],[0,1,0,a,0,a,0,"VK_NONAME",a,a],[0,1,0,a,0,a,0,"VK_PA1",a,a],[0,1,0,a,0,a,0,"VK_OEM_CLEAR",a,a]];let k=[],T=[];for(const N of x){const[L,R,b,P,V,H,ee,ae,me,ge]=N;if(T[b]||(T[b]=!0,A[b]=P,M[P]=b,I[P.toLowerCase()]=b,R&&(w[b]=V,V!==0&&V!==3&&V!==5&&V!==4&&V!==6&&V!==57&&(_[V]=b))),!k[V]){if(k[V]=!0,!H)throw new Error(`String representation missing for key code ${V} around scan code ${P}`);d.define(V,H),z.define(V,me||H),O.define(V,ge||me||H)}ee&&(y[ee]=V),ae&&(W[ae]=V)}_[3]=46})();var f;(function(a){function x(b){return d.keyCodeToStr(b)}a.toString=x;function k(b){return d.strToKeyCode(b)}a.fromString=k;function T(b){return z.keyCodeToStr(b)}a.toUserSettingsUS=T;function N(b){return O.keyCodeToStr(b)}a.toUserSettingsGeneral=N;function L(b){return z.strToKeyCode(b)||O.strToKeyCode(b)}a.fromUserSettings=L;function R(b){if(b>=93&&b<=108)return null;switch(b){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return d.keyCodeToStr(b)}a.toElectronAccelerator=R})(f||(f={}));function m(a,x){const k=(x&65535)<<16>>>0;return(a|k)>>>0}},26899:function(it,Ee,l){"use strict";l.d(Ee,{X4:function(){return O},jC:function(){return y},xo:function(){return z}});var C=l(82215);class d{constructor(I,w,_=w){this.modifierLabels=[null],this.modifierLabels[2]=I,this.modifierLabels[1]=w,this.modifierLabels[3]=_}toLabel(I,w,_){if(w.length===0)return null;const f=[];for(let m=0,a=w.length;m<a;m++){const x=w[m],k=_(x);if(k===null)return null;f[m]=A(x,k,this.modifierLabels[I])}return f.join(" ")}}const z=new d({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:C.N({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:C.N({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:C.N({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:C.N({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:C.N({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:C.N({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:C.N({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:C.N({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),O=new d({ctrlKey:C.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:C.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:C.N({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:C.N({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:C.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:C.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:C.N({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:C.N({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:C.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:C.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:C.N({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:C.N({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),y=new d({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),W=new d({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function A(M,I,w){if(I===null)return"";const _=[];return M.ctrlKey&&_.push(w.ctrlKey),M.shiftKey&&_.push(w.shiftKey),M.altKey&&_.push(w.altKey),M.metaKey&&_.push(w.metaKey),I!==""&&_.push(I),_.join(w.separator)}},66534:function(it,Ee,l){"use strict";l.d(Ee,{BQ:function(){return A},QC:function(){return O},X_:function(){return y},f1:function(){return M},gm:function(){return d}});var C=l(91273);function d(I,w){if(I===0)return null;const _=(I&65535)>>>0,f=(I&4294901760)>>>16;return f!==0?new y([z(_,w),z(f,w)]):new y([z(_,w)])}function z(I,w){const _=!!(I&2048),f=!!(I&256),m=w===2?f:_,a=!!(I&1024),x=!!(I&512),k=w===2?_:f,T=I&255;return new O(m,a,x,k,T)}class O{constructor(w,_,f,m,a){this.ctrlKey=w,this.shiftKey=_,this.altKey=f,this.metaKey=m,this.keyCode=a}equals(w){return this.ctrlKey===w.ctrlKey&&this.shiftKey===w.shiftKey&&this.altKey===w.altKey&&this.metaKey===w.metaKey&&this.keyCode===w.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new y([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class y{constructor(w){if(w.length===0)throw(0,C.b1)("parts");this.parts=w}}class W{constructor(w,_,f,m,a){this.ctrlKey=w,this.shiftKey=_,this.altKey=f,this.metaKey=m,this.scanCode=a}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}class A{constructor(w,_,f,m,a,x){this.ctrlKey=w,this.shiftKey=_,this.altKey=f,this.metaKey=m,this.keyLabel=a,this.keyAriaLabel=x}}class M{}},83098:function(it,Ee,l){"use strict";l.d(Ee,{o:function(){return C}});class C{constructor(z){this.executor=z,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(z){this._error=z}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}},1405:function(it,Ee,l){"use strict";l.d(Ee,{B9:function(){return m},F8:function(){return a},JT:function(){return T},Jz:function(){return R},OF:function(){return x},SL:function(){return k},Wf:function(){return f},XK:function(){return N},dk:function(){return w},dt:function(){return L}});var C=l(26372),d=l(80050);const z=!1;let O=null;function y(b){O=b}if(z){const b="__is_disposable_tracked__";y(new class{trackDisposable(P){const V=new Error("Potentially leaked disposable").stack;setTimeout(()=>{P[b]||console.log(V)},3e3)}setParent(P,V){if(P&&P!==T.None)try{P[b]=!0}catch(H){}}markAsDisposed(P){if(P&&P!==T.None)try{P[b]=!0}catch(V){}}markAsSingleton(P){}})}function W(b){return O==null||O.trackDisposable(b),b}function A(b){O==null||O.markAsDisposed(b)}function M(b,P){O==null||O.setParent(b,P)}function I(b,P){if(!!O)for(const V of b)O.setParent(V,P)}function w(b){return O==null||O.markAsSingleton(b),b}class _ extends Error{constructor(P){super(`Encountered errors while disposing of store. Errors: [${P.join(", ")}]`),this.errors=P}}function f(b){return typeof b.dispose=="function"&&b.dispose.length===0}function m(b){if(d.$.is(b)){let P=[];for(const V of b)if(V)try{V.dispose()}catch(H){P.push(H)}if(P.length===1)throw P[0];if(P.length>1)throw new _(P);return Array.isArray(b)?[]:b}else if(b)return b.dispose(),b}function a(...b){const P=x(()=>m(b));return I(b,P),P}function x(b){const P=W({dispose:(0,C.I)(()=>{A(P),b()})});return P}class k{constructor(){this._toDispose=new Set,this._isDisposed=!1,W(this)}dispose(){this._isDisposed||(A(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){try{m(this._toDispose.values())}finally{this._toDispose.clear()}}add(P){if(!P)return P;if(P===this)throw new Error("Cannot register a disposable on itself!");return M(P,this),this._isDisposed?k.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(P),P}}k.DISABLE_DISPOSED_WARNING=!1;class T{constructor(){this._store=new k,W(this),M(this._store,this)}dispose(){A(this),this._store.dispose()}_register(P){if(P===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(P)}}T.None=Object.freeze({dispose(){}});class N{constructor(){this._isDisposed=!1,W(this)}get value(){return this._isDisposed?void 0:this._value}set value(P){var V;this._isDisposed||P===this._value||((V=this._value)===null||V===void 0||V.dispose(),P&&M(P,this),this._value=P)}clear(){this.value=void 0}dispose(){var P;this._isDisposed=!0,A(this),(P=this._value)===null||P===void 0||P.dispose(),this._value=void 0}clearAndLeak(){const P=this._value;return this._value=void 0,P&&M(P,null),P}}class L{constructor(){this.dispose=()=>{},this.unset=()=>{},this.isset=()=>!1,W(this)}set(P){let V=P;return this.unset=()=>V=void 0,this.isset=()=>V!==void 0,this.dispose=()=>{V&&(V(),V=void 0,A(this))},this}}class R{constructor(P){this.object=P}dispose(){}}},80200:function(it,Ee,l){"use strict";l.d(Ee,{S:function(){return d}});class C{constructor(O){this.element=O,this.next=C.Undefined,this.prev=C.Undefined}}C.Undefined=new C(void 0);class d{constructor(){this._first=C.Undefined,this._last=C.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===C.Undefined}clear(){let O=this._first;for(;O!==C.Undefined;){const y=O.next;O.prev=C.Undefined,O.next=C.Undefined,O=y}this._first=C.Undefined,this._last=C.Undefined,this._size=0}unshift(O){return this._insert(O,!1)}push(O){return this._insert(O,!0)}_insert(O,y){const W=new C(O);if(this._first===C.Undefined)this._first=W,this._last=W;else if(y){const M=this._last;this._last=W,W.prev=M,M.next=W}else{const M=this._first;this._first=W,W.next=M,M.prev=W}this._size+=1;let A=!1;return()=>{A||(A=!0,this._remove(W))}}shift(){if(this._first!==C.Undefined){const O=this._first.element;return this._remove(this._first),O}}pop(){if(this._last!==C.Undefined){const O=this._last.element;return this._remove(this._last),O}}_remove(O){if(O.prev!==C.Undefined&&O.next!==C.Undefined){const y=O.prev;y.next=O.next,O.next.prev=y}else O.prev===C.Undefined&&O.next===C.Undefined?(this._first=C.Undefined,this._last=C.Undefined):O.next===C.Undefined?(this._last=this._last.prev,this._last.next=C.Undefined):O.prev===C.Undefined&&(this._first=this._first.next,this._first.prev=C.Undefined);this._size-=1}*[Symbol.iterator](){let O=this._first;for(;O!==C.Undefined;)yield O.element,O=O.next}}},30860:function(it,Ee,l){"use strict";l.d(Ee,{Id:function(){return I},Y9:function(){return _},z6:function(){return m}});var C=l(76311),d,z;class O{constructor(){this._value="",this._pos=0}reset(x){return this._value=x,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(x){const k=x.charCodeAt(0),T=this._value.charCodeAt(this._pos);return k-T}value(){return this._value[this._pos]}}class y{constructor(x=!0){this._caseSensitive=x}reset(x){return this._value=x,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let x=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(x)this._from++;else break;else x=!1;return this}cmp(x){return this._caseSensitive?(0,C.TT)(x,this._value,0,x.length,this._from,this._to):(0,C.j_)(x,this._value,0,x.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class W{constructor(x=!0,k=!0){this._splitOnBackslash=x,this._caseSensitive=k}reset(x){this._from=0,this._to=0,this._value=x,this._valueLen=x.length;for(let k=x.length-1;k>=0;k--,this._valueLen--){const T=this._value.charCodeAt(k);if(!(T===47||this._splitOnBackslash&&T===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let x=!0;for(;this._to<this._valueLen;this._to++){const k=this._value.charCodeAt(this._to);if(k===47||this._splitOnBackslash&&k===92)if(x)this._from++;else break;else x=!1}return this}cmp(x){return this._caseSensitive?(0,C.TT)(x,this._value,0,x.length,this._from,this._to):(0,C.j_)(x,this._value,0,x.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class A{constructor(x){this._ignorePathCasing=x,this._states=[],this._stateIdx=0}reset(x){return this._value=x,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new W(!1,!this._ignorePathCasing(x)),this._pathIterator.reset(x.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(x){if(this._states[this._stateIdx]===1)return(0,C.zY)(x,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,C.zY)(x,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(x);if(this._states[this._stateIdx]===4)return(0,C.qu)(x,this._value.query);if(this._states[this._stateIdx]===5)return(0,C.qu)(x,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class M{constructor(){this.height=1}rotateLeft(){const x=this.right;return this.right=x.left,x.left=this,this.updateHeight(),x.updateHeight(),x}rotateRight(){const x=this.left;return this.left=x.right,x.right=this,this.updateHeight(),x.updateHeight(),x}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var x,k;return(k=(x=this.left)===null||x===void 0?void 0:x.height)!==null&&k!==void 0?k:0}get heightRight(){var x,k;return(k=(x=this.right)===null||x===void 0?void 0:x.height)!==null&&k!==void 0?k:0}}class I{constructor(x){this._iter=x}static forUris(x=()=>!1){return new I(new A(x))}static forStrings(){return new I(new O)}static forConfigKeys(){return new I(new y)}clear(){this._root=void 0}set(x,k){const T=this._iter.reset(x);let N;this._root||(this._root=new M,this._root.segment=T.value());const L=[];for(N=this._root;;){const b=T.cmp(N.segment);if(b>0)N.left||(N.left=new M,N.left.segment=T.value()),L.push([-1,N]),N=N.left;else if(b<0)N.right||(N.right=new M,N.right.segment=T.value()),L.push([1,N]),N=N.right;else if(T.hasNext())T.next(),N.mid||(N.mid=new M,N.mid.segment=T.value()),L.push([0,N]),N=N.mid;else break}const R=N.value;N.value=k,N.key=x;for(let b=L.length-1;b>=0;b--){const P=L[b][1];P.updateHeight();const V=P.balanceFactor();if(V<-1||V>1){const H=L[b][0],ee=L[b+1][0];if(H===1&&ee===1)L[b][1]=P.rotateLeft();else if(H===-1&&ee===-1)L[b][1]=P.rotateRight();else if(H===1&&ee===-1)P.right=L[b+1][1]=L[b+1][1].rotateRight(),L[b][1]=P.rotateLeft();else if(H===-1&&ee===1)P.left=L[b+1][1]=L[b+1][1].rotateLeft(),L[b][1]=P.rotateRight();else throw new Error;if(b>0)switch(L[b-1][0]){case-1:L[b-1][1].left=L[b][1];break;case 1:L[b-1][1].right=L[b][1];break;case 0:L[b-1][1].mid=L[b][1];break}else this._root=L[0][1]}}return R}get(x){var k;return(k=this._getNode(x))===null||k===void 0?void 0:k.value}_getNode(x){const k=this._iter.reset(x);let T=this._root;for(;T;){const N=k.cmp(T.segment);if(N>0)T=T.left;else if(N<0)T=T.right;else if(k.hasNext())k.next(),T=T.mid;else break}return T}has(x){const k=this._getNode(x);return!((k==null?void 0:k.value)===void 0&&(k==null?void 0:k.mid)===void 0)}delete(x){return this._delete(x,!1)}deleteSuperstr(x){return this._delete(x,!0)}_delete(x,k){var T;const N=this._iter.reset(x),L=[];let R=this._root;for(;R;){const b=N.cmp(R.segment);if(b>0)L.push([-1,R]),R=R.left;else if(b<0)L.push([1,R]),R=R.right;else if(N.hasNext())N.next(),L.push([0,R]),R=R.mid;else break}if(!!R){if(k?(R.left=void 0,R.mid=void 0,R.right=void 0,R.height=1):(R.key=void 0,R.value=void 0),!R.mid&&!R.value)if(R.left&&R.right){const b=this._min(R.right),{key:P,value:V,segment:H}=b;this._delete(b.key,!1),R.key=P,R.value=V,R.segment=H}else{const b=(T=R.left)!==null&&T!==void 0?T:R.right;if(L.length>0){const[P,V]=L[L.length-1];switch(P){case-1:V.left=b;break;case 0:V.mid=b;break;case 1:V.right=b;break}}else this._root=b}for(let b=L.length-1;b>=0;b--){const P=L[b][1];P.updateHeight();const V=P.balanceFactor();if(V>1?(P.right.balanceFactor()>=0||(P.right=P.right.rotateRight()),L[b][1]=P.rotateLeft()):V<-1&&(P.left.balanceFactor()<=0||(P.left=P.left.rotateLeft()),L[b][1]=P.rotateRight()),b>0)switch(L[b-1][0]){case-1:L[b-1][1].left=L[b][1];break;case 1:L[b-1][1].right=L[b][1];break;case 0:L[b-1][1].mid=L[b][1];break}else this._root=L[0][1]}}}_min(x){for(;x.left;)x=x.left;return x}findSubstr(x){const k=this._iter.reset(x);let T=this._root,N;for(;T;){const L=k.cmp(T.segment);if(L>0)T=T.left;else if(L<0)T=T.right;else if(k.hasNext())k.next(),N=T.value||N,T=T.mid;else break}return T&&T.value||N}findSuperstr(x){const k=this._iter.reset(x);let T=this._root;for(;T;){const N=k.cmp(T.segment);if(N>0)T=T.left;else if(N<0)T=T.right;else if(k.hasNext())k.next(),T=T.mid;else return T.mid?this._entries(T.mid):void 0}}forEach(x){for(const[k,T]of this)x(T,k)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(x){!x||(x.left&&(yield*this._entries(x.left)),x.value&&(yield[x.key,x.value]),x.mid&&(yield*this._entries(x.mid)),x.right&&(yield*this._entries(x.right)))}}class w{constructor(x,k){this.uri=x,this.value=k}}class _{constructor(x,k){this[d]="ResourceMap",x instanceof _?(this.map=new Map(x.map),this.toKey=k!=null?k:_.defaultToKey):(this.map=new Map,this.toKey=x!=null?x:_.defaultToKey)}set(x,k){return this.map.set(this.toKey(x),new w(x,k)),this}get(x){var k;return(k=this.map.get(this.toKey(x)))===null||k===void 0?void 0:k.value}has(x){return this.map.has(this.toKey(x))}get size(){return this.map.size}clear(){this.map.clear()}delete(x){return this.map.delete(this.toKey(x))}forEach(x,k){typeof k!="undefined"&&(x=x.bind(k));for(let[T,N]of this.map)x(N.value,N.uri,this)}*values(){for(let x of this.map.values())yield x.value}*keys(){for(let x of this.map.values())yield x.uri}*entries(){for(let x of this.map.values())yield[x.uri,x.value]}*[(d=Symbol.toStringTag,Symbol.iterator)](){for(let[,x]of this.map)yield[x.uri,x.value]}}_.defaultToKey=a=>a.toString();class f{constructor(){this[z]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var x;return(x=this._head)===null||x===void 0?void 0:x.value}get last(){var x;return(x=this._tail)===null||x===void 0?void 0:x.value}has(x){return this._map.has(x)}get(x,k=0){const T=this._map.get(x);if(!!T)return k!==0&&this.touch(T,k),T.value}set(x,k,T=0){let N=this._map.get(x);if(N)N.value=k,T!==0&&this.touch(N,T);else{switch(N={key:x,value:k,next:void 0,previous:void 0},T){case 0:this.addItemLast(N);break;case 1:this.addItemFirst(N);break;case 2:this.addItemLast(N);break;default:this.addItemLast(N);break}this._map.set(x,N),this._size++}return this}delete(x){return!!this.remove(x)}remove(x){const k=this._map.get(x);if(!!k)return this._map.delete(x),this.removeItem(k),this._size--,k.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const x=this._head;return this._map.delete(x.key),this.removeItem(x),this._size--,x.value}forEach(x,k){const T=this._state;let N=this._head;for(;N;){if(k?x.bind(k)(N.value,N.key,this):x(N.value,N.key,this),this._state!==T)throw new Error("LinkedMap got modified during iteration.");N=N.next}}keys(){const x=this,k=this._state;let T=this._head;const N={[Symbol.iterator](){return N},next(){if(x._state!==k)throw new Error("LinkedMap got modified during iteration.");if(T){const L={value:T.key,done:!1};return T=T.next,L}else return{value:void 0,done:!0}}};return N}values(){const x=this,k=this._state;let T=this._head;const N={[Symbol.iterator](){return N},next(){if(x._state!==k)throw new Error("LinkedMap got modified during iteration.");if(T){const L={value:T.value,done:!1};return T=T.next,L}else return{value:void 0,done:!0}}};return N}entries(){const x=this,k=this._state;let T=this._head;const N={[Symbol.iterator](){return N},next(){if(x._state!==k)throw new Error("LinkedMap got modified during iteration.");if(T){const L={value:[T.key,T.value],done:!1};return T=T.next,L}else return{value:void 0,done:!0}}};return N}[(z=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(x){if(x>=this.size)return;if(x===0){this.clear();return}let k=this._head,T=this.size;for(;k&&T>x;)this._map.delete(k.key),k=k.next,T--;this._head=k,this._size=T,k&&(k.previous=void 0),this._state++}addItemFirst(x){if(!this._head&&!this._tail)this._tail=x;else if(this._head)x.next=this._head,this._head.previous=x;else throw new Error("Invalid list");this._head=x,this._state++}addItemLast(x){if(!this._head&&!this._tail)this._head=x;else if(this._tail)x.previous=this._tail,this._tail.next=x;else throw new Error("Invalid list");this._tail=x,this._state++}removeItem(x){if(x===this._head&&x===this._tail)this._head=void 0,this._tail=void 0;else if(x===this._head){if(!x.next)throw new Error("Invalid list");x.next.previous=void 0,this._head=x.next}else if(x===this._tail){if(!x.previous)throw new Error("Invalid list");x.previous.next=void 0,this._tail=x.previous}else{const k=x.next,T=x.previous;if(!k||!T)throw new Error("Invalid list");k.previous=T,T.next=k}x.next=void 0,x.previous=void 0,this._state++}touch(x,k){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(k!==1&&k!==2)){if(k===1){if(x===this._head)return;const T=x.next,N=x.previous;x===this._tail?(N.next=void 0,this._tail=N):(T.previous=N,N.next=T),x.previous=void 0,x.next=this._head,this._head.previous=x,this._head=x,this._state++}else if(k===2){if(x===this._tail)return;const T=x.next,N=x.previous;x===this._head?(T.previous=void 0,this._head=T):(T.previous=N,N.next=T),x.next=void 0,x.previous=this._tail,this._tail.next=x,this._tail=x,this._state++}}}toJSON(){const x=[];return this.forEach((k,T)=>{x.push([T,k])}),x}fromJSON(x){this.clear();for(const[k,T]of x)this.set(k,T)}}class m extends f{constructor(x,k=1){super(),this._limit=x,this._ratio=Math.min(Math.max(0,k),1)}get limit(){return this._limit}set limit(x){this._limit=x,this.checkTrim()}get(x,k=2){return super.get(x,k)}peek(x){return super.get(x,0)}set(x,k){return super.set(x,k,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},78240:function(it,Ee,l){"use strict";l.d(Ee,{Q:function(){return z}});var C=l(1015),d=l(47087);function z(y){let W=JSON.parse(y);return W=O(W),W}function O(y,W=0){if(!y||W>200)return y;if(typeof y=="object"){switch(y.$mid){case 1:return d.o.revive(y);case 2:return new RegExp(y.source,y.flags);case 14:return new Date(y.source)}if(y instanceof C.KN||y instanceof Uint8Array)return y;if(Array.isArray(y))for(let A=0;A<y.length;++A)y[A]=O(y[A],W+1);else for(const A in y)Object.hasOwnProperty.call(y,A)&&(y[A]=O(y[A],W+1))}return y}},34271:function(it,Ee,l){"use strict";l.d(Ee,{v:function(){return C}});var C;(function(d){d.text="text/plain",d.binary="application/octet-stream",d.unknown="application/unknown",d.markdown="text/markdown",d.latex="text/latex",d.uriList="text/uri-list"})(C||(C={}))},22818:function(it,Ee,l){"use strict";l.d(Ee,{Gi:function(){return M},WX:function(){return W},lg:function(){return z}});var C=l(24180),d=l(47087),z;(function(I){I.inMemory="inmemory",I.vscode="vscode",I.internal="private",I.walkThrough="walkThrough",I.walkThroughSnippet="walkThroughSnippet",I.http="http",I.https="https",I.file="file",I.mailto="mailto",I.untitled="untitled",I.data="data",I.command="command",I.vscodeRemote="vscode-remote",I.vscodeRemoteResource="vscode-remote-resource",I.userData="vscode-userdata",I.vscodeCustomEditor="vscode-custom-editor",I.vscodeNotebook="vscode-notebook",I.vscodeNotebookCell="vscode-notebook-cell",I.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",I.vscodeNotebookCellOutput="vscode-notebook-cell-output",I.vscodeInteractive="vscode-interactive",I.vscodeInteractiveInput="vscode-interactive-input",I.vscodeSettings="vscode-settings",I.vscodeWorkspaceTrust="vscode-workspace-trust",I.vscodeTerminal="vscode-terminal",I.webviewPanel="webview-panel",I.vscodeWebview="vscode-webview",I.extension="extension",I.vscodeFileResource="vscode-file",I.tmp="tmp",I.vsls="vsls"})(z||(z={}));const O="tkn";class y{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(w){this._preferredWebSchema=w}rewrite(w){if(this._delegate)return this._delegate(w);const _=w.authority;let f=this._hosts[_];f&&f.indexOf(":")!==-1&&(f=`[${f}]`);const m=this._ports[_],a=this._connectionTokens[_];let x=`path=${encodeURIComponent(w.path)}`;return typeof a=="string"&&(x+=`&${O}=${encodeURIComponent(a)}`),d.o.from({scheme:C.$L?this._preferredWebSchema:z.vscodeRemoteResource,authority:`${f}:${m}`,path:"/vscode-remote-resource",query:x})}}const W=new y;class A{asBrowserUri(w,_){const f=this.toUri(w,_);return f.scheme===z.vscodeRemote?W.rewrite(f):f.scheme===z.file&&(C.tY||C.n2&&C.li.origin===`${z.vscodeFileResource}://${A.FALLBACK_AUTHORITY}`)?f.with({scheme:z.vscodeFileResource,authority:f.authority||A.FALLBACK_AUTHORITY,query:null,fragment:null}):f}toUri(w,_){return d.o.isUri(w)?w:d.o.parse(_.toUrl(w))}}A.FALLBACK_AUTHORITY="vscode-app";const M=new A},48641:function(it,Ee,l){"use strict";l.d(Ee,{N:function(){return z},nM:function(){return d},uZ:function(){return C}});function C(O,y,W){return Math.min(Math.max(O,y),W)}class d{constructor(){this._n=1,this._val=0}update(y){return this._val=this._val+(y-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class z{constructor(y){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(y),this._values.fill(0,0,y)}update(y){const W=this._values[this._index];return this._values[this._index]=y,this._index=(this._index+1)%this._values.length,this._sum-=W,this._sum+=y,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}},42893:function(it,Ee,l){"use strict";l.d(Ee,{CJ:function(){return I},I8:function(){return d},_A:function(){return z},fS:function(){return M},jB:function(){return A},rs:function(){return y}});var C=l(37061);function d(w){if(!w||typeof w!="object"||w instanceof RegExp)return w;const _=Array.isArray(w)?[]:{};return Object.keys(w).forEach(f=>{w[f]&&typeof w[f]=="object"?_[f]=d(w[f]):_[f]=w[f]}),_}function z(w){if(!w||typeof w!="object")return w;const _=[w];for(;_.length>0;){const f=_.shift();Object.freeze(f);for(const m in f)if(O.call(f,m)){const a=f[m];typeof a=="object"&&!Object.isFrozen(a)&&_.push(a)}}return w}const O=Object.prototype.hasOwnProperty;function y(w,_){return W(w,_,new Set)}function W(w,_,f){if((0,C.Jp)(w))return w;const m=_(w);if(typeof m!="undefined")return m;if((0,C.kJ)(w)){const a=[];for(const x of w)a.push(W(x,_,f));return a}if((0,C.Kn)(w)){if(f.has(w))throw new Error("Cannot clone recursive data-structure");f.add(w);const a={};for(let x in w)O.call(w,x)&&(a[x]=W(w[x],_,f));return f.delete(w),a}return w}function A(w,_,f=!0){return(0,C.Kn)(w)?((0,C.Kn)(_)&&Object.keys(_).forEach(m=>{m in w?f&&((0,C.Kn)(w[m])&&(0,C.Kn)(_[m])?A(w[m],_[m],f):w[m]=_[m]):w[m]=_[m]}),w):_}function M(w,_){if(w===_)return!0;if(w==null||_===null||_===void 0||typeof w!=typeof _||typeof w!="object"||Array.isArray(w)!==Array.isArray(_))return!1;let f,m;if(Array.isArray(w)){if(w.length!==_.length)return!1;for(f=0;f<w.length;f++)if(!M(w[f],_[f]))return!1}else{const a=[];for(m in w)a.push(m);a.sort();const x=[];for(m in _)x.push(m);if(x.sort(),!M(a,x))return!1;for(f=0;f<a.length;f++)if(!M(w[a[f]],_[a[f]]))return!1}return!0}function I(w,_,f){const m=_(w);return typeof m=="undefined"?f:m}},50018:function(it,Ee,l){"use strict";l.d(Ee,{EZ:function(){return re},XX:function(){return ge},DZ:function(){return se},Fv:function(){return ee},KR:function(){return H},Gf:function(){return me},DB:function(){return ae},ir:function(){return X},Ku:function(){return V}});var C=l(24180),d=l(14224);let z;if(typeof C.li.vscode!="undefined"&&typeof C.li.vscode.process!="undefined"){const $=C.li.vscode.process;z={get platform(){return $.platform},get arch(){return $.arch},get env(){return $.env},cwd(){return $.cwd()}}}else typeof d!="undefined"?z={get platform(){return d.platform},get arch(){return d.arch},get env(){return{NODE_ENV:"production",PUBLIC_PATH:"/"}},cwd(){return{NODE_ENV:"production",PUBLIC_PATH:"/"}.VSCODE_CWD||d.cwd()}}:z={get platform(){return C.ED?"win32":C.dz?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};const O=z.cwd,y=z.env,W=z.platform,A=65,M=97,I=90,w=122,_=46,f=47,m=92,a=58,x=63;class k extends Error{constructor(j,ie,J){let oe;typeof ie=="string"&&ie.indexOf("not ")===0?(oe="must not be",ie=ie.replace(/^not /,"")):oe="must be";const ce=j.indexOf(".")!==-1?"property":"argument";let we=`The "${j}" ${ce} ${oe} of type ${ie}`;we+=`. Received type ${typeof J}`,super(we),this.code="ERR_INVALID_ARG_TYPE"}}function T($,j){if(typeof $!="string")throw new k(j,"string",$)}function N($){return $===f||$===m}function L($){return $===f}function R($){return $>=A&&$<=I||$>=M&&$<=w}function b($,j,ie,J){let oe="",ce=0,we=-1,Me=0,Ke=0;for(let De=0;De<=$.length;++De){if(De<$.length)Ke=$.charCodeAt(De);else{if(J(Ke))break;Ke=f}if(J(Ke)){if(!(we===De-1||Me===1))if(Me===2){if(oe.length<2||ce!==2||oe.charCodeAt(oe.length-1)!==_||oe.charCodeAt(oe.length-2)!==_){if(oe.length>2){const be=oe.lastIndexOf(ie);be===-1?(oe="",ce=0):(oe=oe.slice(0,be),ce=oe.length-1-oe.lastIndexOf(ie)),we=De,Me=0;continue}else if(oe.length!==0){oe="",ce=0,we=De,Me=0;continue}}j&&(oe+=oe.length>0?`${ie}..`:"..",ce=2)}else oe.length>0?oe+=`${ie}${$.slice(we+1,De)}`:oe=$.slice(we+1,De),ce=De-we-1;we=De,Me=0}else Ke===_&&Me!==-1?++Me:Me=-1}return oe}function P($,j){if(j===null||typeof j!="object")throw new k("pathObject","Object",j);const ie=j.dir||j.root,J=j.base||`${j.name||""}${j.ext||""}`;return ie?ie===j.root?`${ie}${J}`:`${ie}${$}${J}`:J}const V={resolve(...$){let j="",ie="",J=!1;for(let oe=$.length-1;oe>=-1;oe--){let ce;if(oe>=0){if(ce=$[oe],T(ce,"path"),ce.length===0)continue}else j.length===0?ce=O():(ce={NODE_ENV:"production",PUBLIC_PATH:"/"}[`=${j}`]||O(),(ce===void 0||ce.slice(0,2).toLowerCase()!==j.toLowerCase()&&ce.charCodeAt(2)===m)&&(ce=`${j}\\`));const we=ce.length;let Me=0,Ke="",De=!1;const be=ce.charCodeAt(0);if(we===1)N(be)&&(Me=1,De=!0);else if(N(be))if(De=!0,N(ce.charCodeAt(1))){let We=2,et=We;for(;We<we&&!N(ce.charCodeAt(We));)We++;if(We<we&&We!==et){const Kt=ce.slice(et,We);for(et=We;We<we&&N(ce.charCodeAt(We));)We++;if(We<we&&We!==et){for(et=We;We<we&&!N(ce.charCodeAt(We));)We++;(We===we||We!==et)&&(Ke=`\\\\${Kt}\\${ce.slice(et,We)}`,Me=We)}}}else Me=1;else R(be)&&ce.charCodeAt(1)===a&&(Ke=ce.slice(0,2),Me=2,we>2&&N(ce.charCodeAt(2))&&(De=!0,Me=3));if(Ke.length>0)if(j.length>0){if(Ke.toLowerCase()!==j.toLowerCase())continue}else j=Ke;if(J){if(j.length>0)break}else if(ie=`${ce.slice(Me)}\\${ie}`,J=De,De&&j.length>0)break}return ie=b(ie,!J,"\\",N),J?`${j}\\${ie}`:`${j}${ie}`||"."},normalize($){T($,"path");const j=$.length;if(j===0)return".";let ie=0,J,oe=!1;const ce=$.charCodeAt(0);if(j===1)return L(ce)?"\\":$;if(N(ce))if(oe=!0,N($.charCodeAt(1))){let Me=2,Ke=Me;for(;Me<j&&!N($.charCodeAt(Me));)Me++;if(Me<j&&Me!==Ke){const De=$.slice(Ke,Me);for(Ke=Me;Me<j&&N($.charCodeAt(Me));)Me++;if(Me<j&&Me!==Ke){for(Ke=Me;Me<j&&!N($.charCodeAt(Me));)Me++;if(Me===j)return`\\\\${De}\\${$.slice(Ke)}\\`;Me!==Ke&&(J=`\\\\${De}\\${$.slice(Ke,Me)}`,ie=Me)}}}else ie=1;else R(ce)&&$.charCodeAt(1)===a&&(J=$.slice(0,2),ie=2,j>2&&N($.charCodeAt(2))&&(oe=!0,ie=3));let we=ie<j?b($.slice(ie),!oe,"\\",N):"";return we.length===0&&!oe&&(we="."),we.length>0&&N($.charCodeAt(j-1))&&(we+="\\"),J===void 0?oe?`\\${we}`:we:oe?`${J}\\${we}`:`${J}${we}`},isAbsolute($){T($,"path");const j=$.length;if(j===0)return!1;const ie=$.charCodeAt(0);return N(ie)||j>2&&R(ie)&&$.charCodeAt(1)===a&&N($.charCodeAt(2))},join(...$){if($.length===0)return".";let j,ie;for(let ce=0;ce<$.length;++ce){const we=$[ce];T(we,"path"),we.length>0&&(j===void 0?j=ie=we:j+=`\\${we}`)}if(j===void 0)return".";let J=!0,oe=0;if(typeof ie=="string"&&N(ie.charCodeAt(0))){++oe;const ce=ie.length;ce>1&&N(ie.charCodeAt(1))&&(++oe,ce>2&&(N(ie.charCodeAt(2))?++oe:J=!1))}if(J){for(;oe<j.length&&N(j.charCodeAt(oe));)oe++;oe>=2&&(j=`\\${j.slice(oe)}`)}return V.normalize(j)},relative($,j){if(T($,"from"),T(j,"to"),$===j)return"";const ie=V.resolve($),J=V.resolve(j);if(ie===J||($=ie.toLowerCase(),j=J.toLowerCase(),$===j))return"";let oe=0;for(;oe<$.length&&$.charCodeAt(oe)===m;)oe++;let ce=$.length;for(;ce-1>oe&&$.charCodeAt(ce-1)===m;)ce--;const we=ce-oe;let Me=0;for(;Me<j.length&&j.charCodeAt(Me)===m;)Me++;let Ke=j.length;for(;Ke-1>Me&&j.charCodeAt(Ke-1)===m;)Ke--;const De=Ke-Me,be=we<De?we:De;let We=-1,et=0;for(;et<be;et++){const _t=$.charCodeAt(oe+et);if(_t!==j.charCodeAt(Me+et))break;_t===m&&(We=et)}if(et!==be){if(We===-1)return J}else{if(De>be){if(j.charCodeAt(Me+et)===m)return J.slice(Me+et+1);if(et===2)return J.slice(Me+et)}we>be&&($.charCodeAt(oe+et)===m?We=et:et===2&&(We=3)),We===-1&&(We=0)}let Kt="";for(et=oe+We+1;et<=ce;++et)(et===ce||$.charCodeAt(et)===m)&&(Kt+=Kt.length===0?"..":"\\..");return Me+=We,Kt.length>0?`${Kt}${J.slice(Me,Ke)}`:(J.charCodeAt(Me)===m&&++Me,J.slice(Me,Ke))},toNamespacedPath($){if(typeof $!="string")return $;if($.length===0)return"";const j=V.resolve($);if(j.length<=2)return $;if(j.charCodeAt(0)===m){if(j.charCodeAt(1)===m){const ie=j.charCodeAt(2);if(ie!==x&&ie!==_)return`\\\\?\\UNC\\${j.slice(2)}`}}else if(R(j.charCodeAt(0))&&j.charCodeAt(1)===a&&j.charCodeAt(2)===m)return`\\\\?\\${j}`;return $},dirname($){T($,"path");const j=$.length;if(j===0)return".";let ie=-1,J=0;const oe=$.charCodeAt(0);if(j===1)return N(oe)?$:".";if(N(oe)){if(ie=J=1,N($.charCodeAt(1))){let Me=2,Ke=Me;for(;Me<j&&!N($.charCodeAt(Me));)Me++;if(Me<j&&Me!==Ke){for(Ke=Me;Me<j&&N($.charCodeAt(Me));)Me++;if(Me<j&&Me!==Ke){for(Ke=Me;Me<j&&!N($.charCodeAt(Me));)Me++;if(Me===j)return $;Me!==Ke&&(ie=J=Me+1)}}}}else R(oe)&&$.charCodeAt(1)===a&&(ie=j>2&&N($.charCodeAt(2))?3:2,J=ie);let ce=-1,we=!0;for(let Me=j-1;Me>=J;--Me)if(N($.charCodeAt(Me))){if(!we){ce=Me;break}}else we=!1;if(ce===-1){if(ie===-1)return".";ce=ie}return $.slice(0,ce)},basename($,j){j!==void 0&&T(j,"ext"),T($,"path");let ie=0,J=-1,oe=!0,ce;if($.length>=2&&R($.charCodeAt(0))&&$.charCodeAt(1)===a&&(ie=2),j!==void 0&&j.length>0&&j.length<=$.length){if(j===$)return"";let we=j.length-1,Me=-1;for(ce=$.length-1;ce>=ie;--ce){const Ke=$.charCodeAt(ce);if(N(Ke)){if(!oe){ie=ce+1;break}}else Me===-1&&(oe=!1,Me=ce+1),we>=0&&(Ke===j.charCodeAt(we)?--we===-1&&(J=ce):(we=-1,J=Me))}return ie===J?J=Me:J===-1&&(J=$.length),$.slice(ie,J)}for(ce=$.length-1;ce>=ie;--ce)if(N($.charCodeAt(ce))){if(!oe){ie=ce+1;break}}else J===-1&&(oe=!1,J=ce+1);return J===-1?"":$.slice(ie,J)},extname($){T($,"path");let j=0,ie=-1,J=0,oe=-1,ce=!0,we=0;$.length>=2&&$.charCodeAt(1)===a&&R($.charCodeAt(0))&&(j=J=2);for(let Me=$.length-1;Me>=j;--Me){const Ke=$.charCodeAt(Me);if(N(Ke)){if(!ce){J=Me+1;break}continue}oe===-1&&(ce=!1,oe=Me+1),Ke===_?ie===-1?ie=Me:we!==1&&(we=1):ie!==-1&&(we=-1)}return ie===-1||oe===-1||we===0||we===1&&ie===oe-1&&ie===J+1?"":$.slice(ie,oe)},format:P.bind(null,"\\"),parse($){T($,"path");const j={root:"",dir:"",base:"",ext:"",name:""};if($.length===0)return j;const ie=$.length;let J=0,oe=$.charCodeAt(0);if(ie===1)return N(oe)?(j.root=j.dir=$,j):(j.base=j.name=$,j);if(N(oe)){if(J=1,N($.charCodeAt(1))){let We=2,et=We;for(;We<ie&&!N($.charCodeAt(We));)We++;if(We<ie&&We!==et){for(et=We;We<ie&&N($.charCodeAt(We));)We++;if(We<ie&&We!==et){for(et=We;We<ie&&!N($.charCodeAt(We));)We++;We===ie?J=We:We!==et&&(J=We+1)}}}}else if(R(oe)&&$.charCodeAt(1)===a){if(ie<=2)return j.root=j.dir=$,j;if(J=2,N($.charCodeAt(2))){if(ie===3)return j.root=j.dir=$,j;J=3}}J>0&&(j.root=$.slice(0,J));let ce=-1,we=J,Me=-1,Ke=!0,De=$.length-1,be=0;for(;De>=J;--De){if(oe=$.charCodeAt(De),N(oe)){if(!Ke){we=De+1;break}continue}Me===-1&&(Ke=!1,Me=De+1),oe===_?ce===-1?ce=De:be!==1&&(be=1):ce!==-1&&(be=-1)}return Me!==-1&&(ce===-1||be===0||be===1&&ce===Me-1&&ce===we+1?j.base=j.name=$.slice(we,Me):(j.name=$.slice(we,ce),j.base=$.slice(we,Me),j.ext=$.slice(ce,Me))),we>0&&we!==J?j.dir=$.slice(0,we-1):j.dir=j.root,j},sep:"\\",delimiter:";",win32:null,posix:null},H={resolve(...$){let j="",ie=!1;for(let J=$.length-1;J>=-1&&!ie;J--){const oe=J>=0?$[J]:O();T(oe,"path"),oe.length!==0&&(j=`${oe}/${j}`,ie=oe.charCodeAt(0)===f)}return j=b(j,!ie,"/",L),ie?`/${j}`:j.length>0?j:"."},normalize($){if(T($,"path"),$.length===0)return".";const j=$.charCodeAt(0)===f,ie=$.charCodeAt($.length-1)===f;return $=b($,!j,"/",L),$.length===0?j?"/":ie?"./":".":(ie&&($+="/"),j?`/${$}`:$)},isAbsolute($){return T($,"path"),$.length>0&&$.charCodeAt(0)===f},join(...$){if($.length===0)return".";let j;for(let ie=0;ie<$.length;++ie){const J=$[ie];T(J,"path"),J.length>0&&(j===void 0?j=J:j+=`/${J}`)}return j===void 0?".":H.normalize(j)},relative($,j){if(T($,"from"),T(j,"to"),$===j||($=H.resolve($),j=H.resolve(j),$===j))return"";const ie=1,J=$.length,oe=J-ie,ce=1,we=j.length-ce,Me=oe<we?oe:we;let Ke=-1,De=0;for(;De<Me;De++){const We=$.charCodeAt(ie+De);if(We!==j.charCodeAt(ce+De))break;We===f&&(Ke=De)}if(De===Me)if(we>Me){if(j.charCodeAt(ce+De)===f)return j.slice(ce+De+1);if(De===0)return j.slice(ce+De)}else oe>Me&&($.charCodeAt(ie+De)===f?Ke=De:De===0&&(Ke=0));let be="";for(De=ie+Ke+1;De<=J;++De)(De===J||$.charCodeAt(De)===f)&&(be+=be.length===0?"..":"/..");return`${be}${j.slice(ce+Ke)}`},toNamespacedPath($){return $},dirname($){if(T($,"path"),$.length===0)return".";const j=$.charCodeAt(0)===f;let ie=-1,J=!0;for(let oe=$.length-1;oe>=1;--oe)if($.charCodeAt(oe)===f){if(!J){ie=oe;break}}else J=!1;return ie===-1?j?"/":".":j&&ie===1?"//":$.slice(0,ie)},basename($,j){j!==void 0&&T(j,"ext"),T($,"path");let ie=0,J=-1,oe=!0,ce;if(j!==void 0&&j.length>0&&j.length<=$.length){if(j===$)return"";let we=j.length-1,Me=-1;for(ce=$.length-1;ce>=0;--ce){const Ke=$.charCodeAt(ce);if(Ke===f){if(!oe){ie=ce+1;break}}else Me===-1&&(oe=!1,Me=ce+1),we>=0&&(Ke===j.charCodeAt(we)?--we===-1&&(J=ce):(we=-1,J=Me))}return ie===J?J=Me:J===-1&&(J=$.length),$.slice(ie,J)}for(ce=$.length-1;ce>=0;--ce)if($.charCodeAt(ce)===f){if(!oe){ie=ce+1;break}}else J===-1&&(oe=!1,J=ce+1);return J===-1?"":$.slice(ie,J)},extname($){T($,"path");let j=-1,ie=0,J=-1,oe=!0,ce=0;for(let we=$.length-1;we>=0;--we){const Me=$.charCodeAt(we);if(Me===f){if(!oe){ie=we+1;break}continue}J===-1&&(oe=!1,J=we+1),Me===_?j===-1?j=we:ce!==1&&(ce=1):j!==-1&&(ce=-1)}return j===-1||J===-1||ce===0||ce===1&&j===J-1&&j===ie+1?"":$.slice(j,J)},format:P.bind(null,"/"),parse($){T($,"path");const j={root:"",dir:"",base:"",ext:"",name:""};if($.length===0)return j;const ie=$.charCodeAt(0)===f;let J;ie?(j.root="/",J=1):J=0;let oe=-1,ce=0,we=-1,Me=!0,Ke=$.length-1,De=0;for(;Ke>=J;--Ke){const be=$.charCodeAt(Ke);if(be===f){if(!Me){ce=Ke+1;break}continue}we===-1&&(Me=!1,we=Ke+1),be===_?oe===-1?oe=Ke:De!==1&&(De=1):oe!==-1&&(De=-1)}if(we!==-1){const be=ce===0&&ie?1:ce;oe===-1||De===0||De===1&&oe===we-1&&oe===ce+1?j.base=j.name=$.slice(be,we):(j.name=$.slice(be,oe),j.base=$.slice(be,we),j.ext=$.slice(oe,we))}return ce>0?j.dir=$.slice(0,ce-1):ie&&(j.dir="/"),j},sep:"/",delimiter:":",win32:null,posix:null};H.win32=V.win32=V,H.posix=V.posix=H;const ee=W==="win32"?V.normalize:H.normalize,ae=W==="win32"?V.resolve:H.resolve,me=W==="win32"?V.relative:H.relative,ge=W==="win32"?V.dirname:H.dirname,re=W==="win32"?V.basename:H.basename,se=W==="win32"?V.extname:H.extname,X=W==="win32"?V.sep:H.sep},24180:function(it,Ee,l){"use strict";l.d(Ee,{$L:function(){return ae},ED:function(){return P},G6:function(){return we},IJ:function(){return H},OS:function(){return $},dK:function(){return se},dz:function(){return V},fn:function(){return X},gn:function(){return ge},i7:function(){return oe},li:function(){return T},n2:function(){return me},r:function(){return J},tY:function(){return ee},un:function(){return Me},vU:function(){return ce}});var C=l(14224),d;const z="en";let O=!1,y=!1,W=!1,A=!1,M=!1,I=!1,w=!1,_=!1,f=!1,m,a=z,x=null,k;const T=typeof self=="object"?self:typeof l.g=="object"?l.g:{};let N;typeof T.vscode!="undefined"&&typeof T.vscode.process!="undefined"?N=T.vscode.process:typeof C!="undefined"&&(N=C);const L=typeof((d=N==null?void 0:N.versions)===null||d===void 0?void 0:d.electron)=="string",R=L&&(N==null?void 0:N.type)==="renderer";if(typeof navigator=="object"&&!R)k=navigator.userAgent,O=k.indexOf("Windows")>=0,y=k.indexOf("Macintosh")>=0,_=(k.indexOf("Macintosh")>=0||k.indexOf("iPad")>=0||k.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,W=k.indexOf("Linux")>=0,I=!0,m=navigator.language,a=m;else if(typeof N=="object"){O=N.platform==="win32",y=N.platform==="darwin",W=N.platform==="linux",A=W&&!!N.env.SNAP&&!!N.env.SNAP_REVISION,w=L,f=!!N.env.CI||!!N.env.BUILD_ARTIFACTSTAGINGDIRECTORY,m=z,a=z;const De=N.env.VSCODE_NLS_CONFIG;if(De)try{const be=JSON.parse(De),We=be.availableLanguages["*"];m=be.locale,a=We||z,x=be._translationsConfigFile}catch(be){}M=!0}else console.error("Unable to resolve platform.");let b=0;y?b=1:O?b=3:W&&(b=2);const P=O,V=y,H=W,ee=M,ae=I,me=I&&typeof T.importScripts=="function",ge=_,re=k,se=a,X=(()=>{if(typeof T.postMessage=="function"&&!T.importScripts){let De=[];T.addEventListener("message",We=>{if(We.data&&We.data.vscodeScheduleAsyncWork)for(let et=0,Kt=De.length;et<Kt;et++){const _t=De[et];if(_t.id===We.data.vscodeScheduleAsyncWork){De.splice(et,1),_t.callback();return}}});let be=0;return We=>{const et=++be;De.push({id:et,callback:We}),T.postMessage({vscodeScheduleAsyncWork:et},"*")}}return De=>setTimeout(De)})(),$=y||_?2:O?1:3;let j=!0,ie=!1;function J(){if(!ie){ie=!0;const De=new Uint8Array(2);De[0]=1,De[1]=2,j=new Uint16Array(De.buffer)[0]===(2<<8)+1}return j}const oe=!!(re&&re.indexOf("Chrome")>=0),ce=!!(re&&re.indexOf("Firefox")>=0),we=!!(!oe&&re&&re.indexOf("Safari")>=0),Me=!!(re&&re.indexOf("Edg/")>=0),Ke=!!(re&&re.indexOf("Android")>=0)},51741:function(it,Ee,l){"use strict";l.d(Ee,{e:function(){return C}});var C;(function(d){function z(A,M){if(A.start>=M.end||M.start>=A.end)return{start:0,end:0};const I=Math.max(A.start,M.start),w=Math.min(A.end,M.end);return w-I<=0?{start:0,end:0}:{start:I,end:w}}d.intersect=z;function O(A){return A.end-A.start<=0}d.isEmpty=O;function y(A,M){return!O(z(A,M))}d.intersects=y;function W(A,M){const I=[],w={start:A.start,end:Math.min(M.start,A.end)},_={start:Math.max(M.end,A.start),end:A.end};return O(w)||I.push(w),O(_)||I.push(_),I}d.relativeComplement=W})(C||(C={}))},63795:function(it,Ee,l){"use strict";l.d(Ee,{AH:function(){return R},DZ:function(){return T},EZ:function(){return k},Hx:function(){return x},SF:function(){return I},Vb:function(){return ge},Vo:function(){return L},XX:function(){return N},Xy:function(){return f},i3:function(){return P},z_:function(){return A}});var C=l(62186),d=l(22818),z=l(50018),O=l(24180),y=l(76311),W=l(47087);function A(re){return(0,W.q)(re,!0)}class M{constructor(se){this._ignorePathCasing=se}compare(se,X,$=!1){return se===X?0:(0,y.qu)(this.getComparisonKey(se,$),this.getComparisonKey(X,$))}isEqual(se,X,$=!1){return se===X?!0:!se||!X?!1:this.getComparisonKey(se,$)===this.getComparisonKey(X,$)}getComparisonKey(se,X=!1){return se.with({path:this._ignorePathCasing(se)?se.path.toLowerCase():void 0,fragment:X?null:void 0}).toString()}isEqualOrParent(se,X,$=!1){if(se.scheme===X.scheme){if(se.scheme===d.lg.file)return C.KM(A(se),A(X),this._ignorePathCasing(se))&&se.query===X.query&&($||se.fragment===X.fragment);if(H(se.authority,X.authority))return C.KM(se.path,X.path,this._ignorePathCasing(se),"/")&&se.query===X.query&&($||se.fragment===X.fragment)}return!1}joinPath(se,...X){return W.o.joinPath(se,...X)}basenameOrAuthority(se){return k(se)||se.authority}basename(se){return z.KR.basename(se.path)}extname(se){return z.KR.extname(se.path)}dirname(se){if(se.path.length===0)return se;let X;return se.scheme===d.lg.file?X=W.o.file(z.XX(A(se))).path:(X=z.KR.dirname(se.path),se.authority&&X.length&&X.charCodeAt(0)!==47&&(console.error(`dirname("${se.toString})) resulted in a relative path`),X="/")),se.with({path:X})}normalizePath(se){if(!se.path.length)return se;let X;return se.scheme===d.lg.file?X=W.o.file(z.Fv(A(se))).path:X=z.KR.normalize(se.path),se.with({path:X})}relativePath(se,X){if(se.scheme!==X.scheme||!H(se.authority,X.authority))return;if(se.scheme===d.lg.file){const ie=z.Gf(A(se),A(X));return O.ED?C.ej(ie):ie}let $=se.path||"/",j=X.path||"/";if(this._ignorePathCasing(se)){let ie=0;for(const J=Math.min($.length,j.length);ie<J&&!($.charCodeAt(ie)!==j.charCodeAt(ie)&&$.charAt(ie).toLowerCase()!==j.charAt(ie).toLowerCase());ie++);$=j.substr(0,ie)+$.substr(ie)}return z.KR.relative($,j)}resolvePath(se,X){if(se.scheme===d.lg.file){const $=W.o.file(z.DB(A(se),X));return se.with({authority:$.authority,path:$.path})}return X=C.fn(X),se.with({path:z.KR.resolve(se.path,X)})}isAbsolutePath(se){return!!se.path&&se.path[0]==="/"}isEqualAuthority(se,X){return se===X||se!==void 0&&X!==void 0&&(0,y.qq)(se,X)}hasTrailingPathSeparator(se,X=z.ir){if(se.scheme===d.lg.file){const $=A(se);return $.length>C.yj($).length&&$[$.length-1]===X}else{const $=se.path;return $.length>1&&$.charCodeAt($.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(se.fsPath)}}removeTrailingPathSeparator(se,X=z.ir){return ee(se,X)?se.with({path:se.path.substr(0,se.path.length-1)}):se}addTrailingPathSeparator(se,X=z.ir){let $=!1;if(se.scheme===d.lg.file){const j=A(se);$=j!==void 0&&j.length===C.yj(j).length&&j[j.length-1]===X}else{X="/";const j=se.path;$=j.length===1&&j.charCodeAt(j.length-1)===47}return!$&&!ee(se,X)?se.with({path:se.path+"/"}):se}}const I=new M(()=>!1),w=new M(re=>re.scheme===d.lg.file?!O.IJ:!0),_=new M(re=>!0),f=I.isEqual.bind(I),m=I.isEqualOrParent.bind(I),a=I.getComparisonKey.bind(I),x=I.basenameOrAuthority.bind(I),k=I.basename.bind(I),T=I.extname.bind(I),N=I.dirname.bind(I),L=I.joinPath.bind(I),R=I.normalizePath.bind(I),b=I.relativePath.bind(I),P=I.resolvePath.bind(I),V=I.isAbsolutePath.bind(I),H=I.isEqualAuthority.bind(I),ee=I.hasTrailingPathSeparator.bind(I),ae=I.removeTrailingPathSeparator.bind(I),me=I.addTrailingPathSeparator.bind(I);var ge;(function(re){re.META_DATA_LABEL="label",re.META_DATA_DESCRIPTION="description",re.META_DATA_SIZE="size",re.META_DATA_MIME="mime";function se(X){const $=new Map;X.path.substring(X.path.indexOf(";")+1,X.path.lastIndexOf(";")).split(";").forEach(J=>{const[oe,ce]=J.split(":");oe&&ce&&$.set(oe,ce)});const ie=X.path.substring(0,X.path.indexOf(";"));return ie&&$.set(re.META_DATA_MIME,ie),$}re.parseMetaData=se})(ge||(ge={}))},99661:function(it,Ee,l){"use strict";l.d(Ee,{Rm:function(){return O}});var C=l(60774),d=l(1405);class z{constructor(f,m,a,x,k,T,N){this._forceIntegerValues=f,this._scrollStateBrand=void 0,this._forceIntegerValues&&(m=m|0,a=a|0,x=x|0,k=k|0,T=T|0,N=N|0),this.rawScrollLeft=x,this.rawScrollTop=N,m<0&&(m=0),x+m>a&&(x=a-m),x<0&&(x=0),k<0&&(k=0),N+k>T&&(N=T-k),N<0&&(N=0),this.width=m,this.scrollWidth=a,this.scrollLeft=x,this.height=k,this.scrollHeight=T,this.scrollTop=N}equals(f){return this.rawScrollLeft===f.rawScrollLeft&&this.rawScrollTop===f.rawScrollTop&&this.width===f.width&&this.scrollWidth===f.scrollWidth&&this.scrollLeft===f.scrollLeft&&this.height===f.height&&this.scrollHeight===f.scrollHeight&&this.scrollTop===f.scrollTop}withScrollDimensions(f,m){return new z(this._forceIntegerValues,typeof f.width!="undefined"?f.width:this.width,typeof f.scrollWidth!="undefined"?f.scrollWidth:this.scrollWidth,m?this.rawScrollLeft:this.scrollLeft,typeof f.height!="undefined"?f.height:this.height,typeof f.scrollHeight!="undefined"?f.scrollHeight:this.scrollHeight,m?this.rawScrollTop:this.scrollTop)}withScrollPosition(f){return new z(this._forceIntegerValues,this.width,this.scrollWidth,typeof f.scrollLeft!="undefined"?f.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof f.scrollTop!="undefined"?f.scrollTop:this.rawScrollTop)}createScrollEvent(f,m){const a=this.width!==f.width,x=this.scrollWidth!==f.scrollWidth,k=this.scrollLeft!==f.scrollLeft,T=this.height!==f.height,N=this.scrollHeight!==f.scrollHeight,L=this.scrollTop!==f.scrollTop;return{inSmoothScrolling:m,oldWidth:f.width,oldScrollWidth:f.scrollWidth,oldScrollLeft:f.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:f.height,oldScrollHeight:f.scrollHeight,oldScrollTop:f.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:a,scrollWidthChanged:x,scrollLeftChanged:k,heightChanged:T,scrollHeightChanged:N,scrollTopChanged:L}}}class O extends d.JT{constructor(f){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new C.Q5),this.onScroll=this._onScroll.event,this._smoothScrollDuration=f.smoothScrollDuration,this._scheduleAtNextAnimationFrame=f.scheduleAtNextAnimationFrame,this._state=new z(f.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(f){this._smoothScrollDuration=f}validateScrollPosition(f){return this._state.withScrollPosition(f)}getScrollDimensions(){return this._state}setScrollDimensions(f,m){const a=this._state.withScrollDimensions(f,m);this._setState(a,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(f){const m=this._state.withScrollPosition(f);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(m,!1)}setScrollPositionSmooth(f,m){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(f);if(this._smoothScrolling){f={scrollLeft:typeof f.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:f.scrollLeft,scrollTop:typeof f.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:f.scrollTop};const a=this._state.withScrollPosition(f);if(this._smoothScrolling.to.scrollLeft===a.scrollLeft&&this._smoothScrolling.to.scrollTop===a.scrollTop)return;let x;m?x=new M(this._smoothScrolling.from,a,this._smoothScrolling.startTime,this._smoothScrolling.duration):x=this._smoothScrolling.combine(this._state,a,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=x}else{const a=this._state.withScrollPosition(f);this._smoothScrolling=M.start(this._state,a,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const f=this._smoothScrolling.tick(),m=this._state.withScrollPosition(f);if(this._setState(m,!0),!!this._smoothScrolling){if(f.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(f,m){const a=this._state;a.equals(f)||(this._state=f,this._onScroll.fire(this._state.createScrollEvent(a,m)))}}class y{constructor(f,m,a){this.scrollLeft=f,this.scrollTop=m,this.isDone=a}}function W(_,f){const m=f-_;return function(a){return _+m*w(a)}}function A(_,f,m){return function(a){return a<m?_(a/m):f((a-m)/(1-m))}}class M{constructor(f,m,a,x){this.from=f,this.to=m,this.duration=x,this.startTime=a,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(f,m,a){if(Math.abs(f-m)>2.5*a){let k,T;return f<m?(k=f+.75*a,T=m-.75*a):(k=f-.75*a,T=m+.75*a),A(W(f,k),W(T,m),.33)}return W(f,m)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(f){this.to=f.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(f){const m=(f-this.startTime)/this.duration;if(m<1){const a=this.scrollLeft(m),x=this.scrollTop(m);return new y(a,x,!1)}return new y(this.to.scrollLeft,this.to.scrollTop,!0)}combine(f,m,a){return M.start(f,m,a)}static start(f,m,a){a=a+10;const x=Date.now()-10;return new M(f,m,x,a)}}function I(_){return Math.pow(_,3)}function w(_){return 1-I(1-_)}},75780:function(it,Ee,l){"use strict";var C=l(76311),d;(function(z){z[z.Ignore=0]="Ignore",z[z.Info=1]="Info",z[z.Warning=2]="Warning",z[z.Error=3]="Error"})(d||(d={})),function(z){const O="error",y="warning",W="warn",A="info",M="ignore";function I(_){return _?C.qq(O,_)?z.Error:C.qq(y,_)||C.qq(W,_)?z.Warning:C.qq(A,_)?z.Info:z.Ignore:z.Ignore}z.fromValue=I;function w(_){switch(_){case z.Error:return O;case z.Warning:return y;case z.Info:return A;default:return M}}z.toString=w}(d||(d={})),Ee.Z=d},57734:function(it,Ee,l){"use strict";l.d(Ee,{G:function(){return z}});var C=l(24180);const d=C.li.performance&&typeof C.li.performance.now=="function";class z{constructor(y){this._highResolution=d&&y,this._startTime=this._now(),this._stopTime=-1}static create(y=!0){return new z(y)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?C.li.performance.now():Date.now()}}},76311:function(it,Ee,l){"use strict";l.d(Ee,{ZK:function(){return Tt},W1:function(){return ce},vU:function(){return Mt},Qe:function(){return Kt},c1:function(){return Ut},Mh:function(){return re},P1:function(){return se},qu:function(){return b},zY:function(){return V},TT:function(){return P},j_:function(){return H},rL:function(){return j},Ut:function(){return be},ab:function(){return _t},Kw:function(){return Te},un:function(){return f},GF:function(){return a},qq:function(){return me},YU:function(){return A},ec:function(){return M},LC:function(){return N},WU:function(){return W},J_:function(){return Ke},V8:function(){return L},oH:function(){return xe},ZH:function(){return ie},$i:function(){return et},C8:function(){return kt},m5:function(){return O},K7:function(){return tt},ZG:function(){return X},YK:function(){return $},mK:function(){return ee},df:function(){return ae},ow:function(){return R},j3:function(){return w},vH:function(){return we},B4:function(){return at},HO:function(){return Me},mr:function(){return k},IO:function(){return x},oL:function(){return _},PJ:function(){return Ge},uq:function(){return T},ok:function(){return ge},uS:function(){return Ft},R1:function(){return m},fy:function(){return I}});class C{constructor(Rt){this.computeFn=Rt,this.lastCache=void 0,this.lastArgKey=void 0}get(Rt){const Zt=JSON.stringify(Rt);return this.lastArgKey!==Zt&&(this.lastArgKey=Zt,this.lastCache=this.computeFn(Rt)),this.lastCache}}var d=l(83098),z;function O(gt){return!gt||typeof gt!="string"?!0:gt.trim().length===0}const y=/{(\d+)}/g;function W(gt,...Rt){return Rt.length===0?gt:gt.replace(y,function(Zt,hn){const Pe=parseInt(hn,10);return isNaN(Pe)||Pe<0||Pe>=Rt.length?Zt:Rt[Pe]})}function A(gt){return gt.replace(/[<>&]/g,function(Rt){switch(Rt){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return Rt}})}function M(gt){return gt.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function I(gt,Rt=" "){const Zt=w(gt,Rt);return _(Zt,Rt)}function w(gt,Rt){if(!gt||!Rt)return gt;const Zt=Rt.length;if(Zt===0||gt.length===0)return gt;let hn=0;for(;gt.indexOf(Rt,hn)===hn;)hn=hn+Zt;return gt.substring(hn)}function _(gt,Rt){if(!gt||!Rt)return gt;const Zt=Rt.length,hn=gt.length;if(Zt===0||hn===0)return gt;let Pe=hn,en=-1;for(;en=gt.lastIndexOf(Rt,Pe-1),!(en===-1||en+Zt!==Pe);){if(en===0)return"";Pe=en}return gt.substring(0,Pe)}function f(gt){return gt.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function m(gt){return gt.replace(/\*/g,"")}function a(gt,Rt,Zt={}){if(!gt)throw new Error("Cannot create regex from empty string");Rt||(gt=M(gt)),Zt.wholeWord&&(/\B/.test(gt.charAt(0))||(gt="\\b"+gt),/\B/.test(gt.charAt(gt.length-1))||(gt=gt+"\\b"));let hn="";return Zt.global&&(hn+="g"),Zt.matchCase||(hn+="i"),Zt.multiline&&(hn+="m"),Zt.unicode&&(hn+="u"),new RegExp(gt,hn)}function x(gt){return gt.source==="^"||gt.source==="^$"||gt.source==="$"||gt.source==="^\\s*$"?!1:!!(gt.exec("")&&gt.lastIndex===0)}function k(gt){return(gt.global?"g":"")+(gt.ignoreCase?"i":"")+(gt.multiline?"m":"")+(gt.unicode?"u":"")}function T(gt){return gt.split(/\r\n|\r|\n/)}function N(gt){for(let Rt=0,Zt=gt.length;Rt<Zt;Rt++){const hn=gt.charCodeAt(Rt);if(hn!==32&&hn!==9)return Rt}return-1}function L(gt,Rt=0,Zt=gt.length){for(let hn=Rt;hn<Zt;hn++){const Pe=gt.charCodeAt(hn);if(Pe!==32&&Pe!==9)return gt.substring(Rt,hn)}return gt.substring(Rt,Zt)}function R(gt,Rt=gt.length-1){for(let Zt=Rt;Zt>=0;Zt--){const hn=gt.charCodeAt(Zt);if(hn!==32&&hn!==9)return Zt}return-1}function b(gt,Rt){return gt<Rt?-1:gt>Rt?1:0}function P(gt,Rt,Zt=0,hn=gt.length,Pe=0,en=Rt.length){for(;Zt<hn&&Pe<en;Zt++,Pe++){let nn=gt.charCodeAt(Zt),sn=Rt.charCodeAt(Pe);if(nn<sn)return-1;if(nn>sn)return 1}const vt=hn-Zt,Le=en-Pe;return vt<Le?-1:vt>Le?1:0}function V(gt,Rt){return H(gt,Rt,0,gt.length,0,Rt.length)}function H(gt,Rt,Zt=0,hn=gt.length,Pe=0,en=Rt.length){for(;Zt<hn&&Pe<en;Zt++,Pe++){let nn=gt.charCodeAt(Zt),sn=Rt.charCodeAt(Pe);if(nn===sn)continue;if(nn>=128||sn>=128)return P(gt.toLowerCase(),Rt.toLowerCase(),Zt,hn,Pe,en);ee(nn)&&(nn-=32),ee(sn)&&(sn-=32);const ei=nn-sn;if(ei!==0)return ei}const vt=hn-Zt,Le=en-Pe;return vt<Le?-1:vt>Le?1:0}function ee(gt){return gt>=97&&gt<=122}function ae(gt){return gt>=65&&gt<=90}function me(gt,Rt){return gt.length===Rt.length&&H(gt,Rt)===0}function ge(gt,Rt){const Zt=Rt.length;return Rt.length>gt.length?!1:H(gt,Rt,0,Zt)===0}function re(gt,Rt){let Zt,hn=Math.min(gt.length,Rt.length);for(Zt=0;Zt<hn;Zt++)if(gt.charCodeAt(Zt)!==Rt.charCodeAt(Zt))return Zt;return hn}function se(gt,Rt){let Zt,hn=Math.min(gt.length,Rt.length);const Pe=gt.length-1,en=Rt.length-1;for(Zt=0;Zt<hn;Zt++)if(gt.charCodeAt(Pe-Zt)!==Rt.charCodeAt(en-Zt))return Zt;return hn}function X(gt){return 55296<=gt&&gt<=56319}function $(gt){return 56320<=gt&&gt<=57343}function j(gt,Rt){return(gt-55296<<10)+(Rt-56320)+65536}function ie(gt,Rt,Zt){const hn=gt.charCodeAt(Zt);if(X(hn)&&Zt+1<Rt){const Pe=gt.charCodeAt(Zt+1);if($(Pe))return j(hn,Pe)}return hn}function J(gt,Rt){const Zt=gt.charCodeAt(Rt-1);if($(Zt)&&Rt>1){const hn=gt.charCodeAt(Rt-2);if(X(hn))return j(hn,Zt)}return Zt}class oe{constructor(Rt,Zt=0){this._str=Rt,this._len=Rt.length,this._offset=Zt}get offset(){return this._offset}setOffset(Rt){this._offset=Rt}prevCodePoint(){const Rt=J(this._str,this._offset);return this._offset-=Rt>=65536?2:1,Rt}nextCodePoint(){const Rt=ie(this._str,this._len,this._offset);return this._offset+=Rt>=65536?2:1,Rt}eol(){return this._offset>=this._len}}class ce{constructor(Rt,Zt=0){this._iterator=new oe(Rt,Zt)}get offset(){return this._iterator.offset}nextGraphemeLength(){const Rt=Wt.getInstance(),Zt=this._iterator,hn=Zt.offset;let Pe=Rt.getGraphemeBreakType(Zt.nextCodePoint());for(;!Zt.eol();){const en=Zt.offset,vt=Rt.getGraphemeBreakType(Zt.nextCodePoint());if(Et(Pe,vt)){Zt.setOffset(en);break}Pe=vt}return Zt.offset-hn}prevGraphemeLength(){const Rt=Wt.getInstance(),Zt=this._iterator,hn=Zt.offset;let Pe=Rt.getGraphemeBreakType(Zt.prevCodePoint());for(;Zt.offset>0;){const en=Zt.offset,vt=Rt.getGraphemeBreakType(Zt.prevCodePoint());if(Et(vt,Pe)){Zt.setOffset(en);break}Pe=vt}return hn-Zt.offset}eol(){return this._iterator.eol()}}function we(gt,Rt){return new ce(gt,Rt).nextGraphemeLength()}function Me(gt,Rt){return new ce(gt,Rt).prevGraphemeLength()}function Ke(gt,Rt){Rt>0&&$(gt.charCodeAt(Rt))&&Rt--;const Zt=Rt+we(gt,Rt);return[Zt-Me(gt,Zt),Zt]}const De=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function be(gt){return De.test(gt)}const We=/^[\t\n\r\x20-\x7E]*$/;function et(gt){return We.test(gt)}const Kt=/[\u2028\u2029]/;function _t(gt){return Kt.test(gt)}function tt(gt){return gt>=11904&&gt<=55215||gt>=63744&&gt<=64255||gt>=65281&&gt<=65374}function kt(gt){return gt>=127462&&gt<=127487||gt===8986||gt===8987||gt===9200||gt===9203||gt>=9728&&gt<=10175||gt===11088||gt===11093||gt>=127744&&gt<=128591||gt>=128640&&gt<=128764||gt>=128992&&gt<=129008||gt>=129280&&gt<=129535||gt>=129648&&gt<=129782}const Ut=String.fromCharCode(65279);function Ft(gt){return!!(gt&&gt.length>0&&gt.charCodeAt(0)===65279)}function Te(gt,Rt=!1){return gt?(Rt&&(gt=gt.replace(/\\./g,"")),gt.toLowerCase()!==gt):!1}function Ge(gt){return gt=gt%(2*26),gt<26?String.fromCharCode(97+gt):String.fromCharCode(65+gt-26)}function Et(gt,Rt){return gt===0?Rt!==5&&Rt!==7:gt===2&&Rt===3?!1:gt===4||gt===2||gt===3||Rt===4||Rt===2||Rt===3?!0:!(gt===8&&(Rt===8||Rt===9||Rt===11||Rt===12)||(gt===11||gt===9)&&(Rt===9||Rt===10)||(gt===12||gt===10)&&Rt===10||Rt===5||Rt===13||Rt===7||gt===1||gt===13&&Rt===14||gt===6&&Rt===6)}class Wt{constructor(){this._data=Ze()}static getInstance(){return Wt._INSTANCE||(Wt._INSTANCE=new Wt),Wt._INSTANCE}getGraphemeBreakType(Rt){if(Rt<32)return Rt===10?3:Rt===13?2:4;if(Rt<127)return 0;const Zt=this._data,hn=Zt.length/3;let Pe=1;for(;Pe<=hn;)if(Rt<Zt[3*Pe])Pe=2*Pe;else if(Rt>Zt[3*Pe+1])Pe=2*Pe+1;else return Zt[3*Pe+2];return 0}}Wt._INSTANCE=null;function Ze(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function xe(gt,Rt){if(gt===0)return 0;const Zt=ve(gt,Rt);if(Zt!==void 0)return Zt;const hn=new oe(Rt,gt);return hn.prevCodePoint(),hn.offset}function ve(gt,Rt){const Zt=new oe(Rt,gt);let hn=Zt.prevCodePoint();for(;$e(hn)||hn===65039||hn===8419;){if(Zt.offset===0)return;hn=Zt.prevCodePoint()}if(!kt(hn))return;let Pe=Zt.offset;return Pe>0&&Zt.prevCodePoint()===8205&&(Pe=Zt.offset),Pe}function $e(gt){return 127995<=gt&&gt<=127999}const at="\xA0";class Tt{constructor(Rt){this.confusableDictionary=Rt}static getInstance(Rt){return Tt.cache.get(Array.from(Rt))}static getLocales(){return Tt._locales.getValue()}isAmbiguous(Rt){return this.confusableDictionary.has(Rt)}getPrimaryConfusable(Rt){return this.confusableDictionary.get(Rt)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}z=Tt,Tt.ambiguousCharacterData=new d.o(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),Tt.cache=new C(gt=>{function Rt(sn){const ei=new Map;for(let wn=0;wn<sn.length;wn+=2)ei.set(sn[wn],sn[wn+1]);return ei}function Zt(sn,ei){const wn=new Map(sn);for(const[Ne,Fe]of ei)wn.set(Ne,Fe);return wn}function hn(sn,ei){if(!sn)return ei;const wn=new Map;for(const[Ne,Fe]of sn)ei.has(Ne)&&wn.set(Ne,Fe);return wn}const Pe=z.ambiguousCharacterData.getValue();let en=gt.filter(sn=>!sn.startsWith("_")&&sn in Pe);en.length===0&&(en=["_default"]);let vt;for(const sn of en){const ei=Rt(Pe[sn]);vt=hn(vt,ei)}const Le=Rt(Pe._common),nn=Zt(Le,vt);return new Tt(nn)}),Tt._locales=new d.o(()=>Object.keys(Tt.ambiguousCharacterData.getValue()).filter(gt=>!gt.startsWith("_")));class Mt{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(Mt.getRawData())),this._data}static isInvisibleCharacter(Rt){return Mt.getData().has(Rt)}static get codePoints(){return Mt.getData()}}Mt._data=void 0},37061:function(it,Ee,l){"use strict";l.d(Ee,{$E:function(){return k},$K:function(){return M},D8:function(){return m},HD:function(){return d},IU:function(){return T},Jp:function(){return I},Kn:function(){return z},TW:function(){return y},cW:function(){return _},f6:function(){return N},hj:function(){return O},jn:function(){return W},kJ:function(){return C},mf:function(){return f},o8:function(){return A},p_:function(){return w},vE:function(){return L}});function C(R){return Array.isArray(R)}function d(R){return typeof R=="string"}function z(R){return typeof R=="object"&&R!==null&&!Array.isArray(R)&&!(R instanceof RegExp)&&!(R instanceof Date)}function O(R){return typeof R=="number"&&!isNaN(R)}function y(R){return!!R&&typeof R[Symbol.iterator]=="function"}function W(R){return R===!0||R===!1}function A(R){return typeof R=="undefined"}function M(R){return!I(R)}function I(R){return A(R)||R===null}function w(R,b){if(!R)throw new Error(b?`Unexpected type, expected '${b}'`:"Unexpected type")}function _(R){if(I(R))throw new Error("Assertion Failed: argument is undefined or null");return R}function f(R){return typeof R=="function"}function m(R,b){const P=Math.min(R.length,b.length);for(let V=0;V<P;V++)a(R[V],b[V])}function a(R,b){if(d(b)){if(typeof R!==b)throw new Error(`argument does not match constraint: typeof ${b}`)}else if(f(b)){try{if(R instanceof b)return}catch(P){}if(!I(R)&&R.constructor===b||b.length===1&&b.call(void 0,R)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function x(R){let b=[],P=Object.getPrototypeOf(R);for(;Object.prototype!==P;)b=b.concat(Object.getOwnPropertyNames(P)),P=Object.getPrototypeOf(P);return b}function k(R){const b=[];for(const P of x(R))typeof R[P]=="function"&&b.push(P);return b}function T(R,b){const P=H=>function(){const ee=Array.prototype.slice.call(arguments,0);return b(H,ee)};let V={};for(const H of R)V[H]=P(H);return V}function N(R){return R===null?void 0:R}function L(R,b="Unreachable"){throw new Error(b)}},7666:function(it,Ee,l){"use strict";l.d(Ee,{A:function(){return d},K:function(){return C}});function C(z){return z<0?0:z>255?255:z|0}function d(z){return z<0?0:z>4294967295?4294967295:z|0}},47087:function(it,Ee,l){"use strict";l.d(Ee,{o:function(){return f},q:function(){return N}});var C=l(50018),d=l(24180);const z=/^\w[\w\d+.-]*$/,O=/^\//,y=/^\/\//;function W(V,H){if(!V.scheme&&H)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${V.authority}", path: "${V.path}", query: "${V.query}", fragment: "${V.fragment}"}`);if(V.scheme&&!z.test(V.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(V.path){if(V.authority){if(!O.test(V.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(y.test(V.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function A(V,H){return!V&&!H?"file":V}function M(V,H){switch(V){case"https":case"http":case"file":H?H[0]!==w&&(H=w+H):H=w;break}return H}const I="",w="/",_=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class f{constructor(H,ee,ae,me,ge,re=!1){typeof H=="object"?(this.scheme=H.scheme||I,this.authority=H.authority||I,this.path=H.path||I,this.query=H.query||I,this.fragment=H.fragment||I):(this.scheme=A(H,re),this.authority=ee||I,this.path=M(this.scheme,ae||I),this.query=me||I,this.fragment=ge||I,W(this,re))}static isUri(H){return H instanceof f?!0:H?typeof H.authority=="string"&&typeof H.fragment=="string"&&typeof H.path=="string"&&typeof H.query=="string"&&typeof H.scheme=="string"&&typeof H.fsPath=="string"&&typeof H.with=="function"&&typeof H.toString=="function":!1}get fsPath(){return N(this,!1)}with(H){if(!H)return this;let{scheme:ee,authority:ae,path:me,query:ge,fragment:re}=H;return ee===void 0?ee=this.scheme:ee===null&&(ee=I),ae===void 0?ae=this.authority:ae===null&&(ae=I),me===void 0?me=this.path:me===null&&(me=I),ge===void 0?ge=this.query:ge===null&&(ge=I),re===void 0?re=this.fragment:re===null&&(re=I),ee===this.scheme&&ae===this.authority&&me===this.path&&ge===this.query&&re===this.fragment?this:new a(ee,ae,me,ge,re)}static parse(H,ee=!1){const ae=_.exec(H);return ae?new a(ae[2]||I,P(ae[4]||I),P(ae[5]||I),P(ae[7]||I),P(ae[9]||I),ee):new a(I,I,I,I,I)}static file(H){let ee=I;if(d.ED&&(H=H.replace(/\\/g,w)),H[0]===w&&H[1]===w){const ae=H.indexOf(w,2);ae===-1?(ee=H.substring(2),H=w):(ee=H.substring(2,ae),H=H.substring(ae)||w)}return new a("file",ee,H,I,I)}static from(H){const ee=new a(H.scheme,H.authority,H.path,H.query,H.fragment);return W(ee,!0),ee}static joinPath(H,...ee){if(!H.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let ae;return d.ED&&H.scheme==="file"?ae=f.file(C.Ku.join(N(H,!0),...ee)).path:ae=C.KR.join(H.path,...ee),H.with({path:ae})}toString(H=!1){return L(this,H)}toJSON(){return this}static revive(H){if(H){if(H instanceof f)return H;{const ee=new a(H);return ee._formatted=H.external,ee._fsPath=H._sep===m?H.fsPath:null,ee}}else return H}}const m=d.ED?1:void 0;class a extends f{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=N(this,!1)),this._fsPath}toString(H=!1){return H?L(this,!0):(this._formatted||(this._formatted=L(this,!1)),this._formatted)}toJSON(){const H={$mid:1};return this._fsPath&&(H.fsPath=this._fsPath,H._sep=m),this._formatted&&(H.external=this._formatted),this.path&&(H.path=this.path),this.scheme&&(H.scheme=this.scheme),this.authority&&(H.authority=this.authority),this.query&&(H.query=this.query),this.fragment&&(H.fragment=this.fragment),H}}const x={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function k(V,H){let ee,ae=-1;for(let me=0;me<V.length;me++){const ge=V.charCodeAt(me);if(ge>=97&&ge<=122||ge>=65&&ge<=90||ge>=48&&ge<=57||ge===45||ge===46||ge===95||ge===126||H&&ge===47)ae!==-1&&(ee+=encodeURIComponent(V.substring(ae,me)),ae=-1),ee!==void 0&&(ee+=V.charAt(me));else{ee===void 0&&(ee=V.substr(0,me));const re=x[ge];re!==void 0?(ae!==-1&&(ee+=encodeURIComponent(V.substring(ae,me)),ae=-1),ee+=re):ae===-1&&(ae=me)}}return ae!==-1&&(ee+=encodeURIComponent(V.substring(ae))),ee!==void 0?ee:V}function T(V){let H;for(let ee=0;ee<V.length;ee++){const ae=V.charCodeAt(ee);ae===35||ae===63?(H===void 0&&(H=V.substr(0,ee)),H+=x[ae]):H!==void 0&&(H+=V[ee])}return H!==void 0?H:V}function N(V,H){let ee;return V.authority&&V.path.length>1&&V.scheme==="file"?ee=`//${V.authority}${V.path}`:V.path.charCodeAt(0)===47&&(V.path.charCodeAt(1)>=65&&V.path.charCodeAt(1)<=90||V.path.charCodeAt(1)>=97&&V.path.charCodeAt(1)<=122)&&V.path.charCodeAt(2)===58?H?ee=V.path.substr(1):ee=V.path[1].toLowerCase()+V.path.substr(2):ee=V.path,d.ED&&(ee=ee.replace(/\//g,"\\")),ee}function L(V,H){const ee=H?T:k;let ae="",{scheme:me,authority:ge,path:re,query:se,fragment:X}=V;if(me&&(ae+=me,ae+=":"),(ge||me==="file")&&(ae+=w,ae+=w),ge){let $=ge.indexOf("@");if($!==-1){const j=ge.substr(0,$);ge=ge.substr($+1),$=j.indexOf(":"),$===-1?ae+=ee(j,!1):(ae+=ee(j.substr(0,$),!1),ae+=":",ae+=ee(j.substr($+1),!1)),ae+="@"}ge=ge.toLowerCase(),$=ge.indexOf(":"),$===-1?ae+=ee(ge,!1):(ae+=ee(ge.substr(0,$),!1),ae+=ge.substr($))}if(re){if(re.length>=3&&re.charCodeAt(0)===47&&re.charCodeAt(2)===58){const $=re.charCodeAt(1);$>=65&&$<=90&&(re=`/${String.fromCharCode($+32)}:${re.substr(3)}`)}else if(re.length>=2&&re.charCodeAt(1)===58){const $=re.charCodeAt(0);$>=65&&$<=90&&(re=`${String.fromCharCode($+32)}:${re.substr(2)}`)}ae+=ee(re,!0)}return se&&(ae+="?",ae+=ee(se,!1)),X&&(ae+="#",ae+=H?X:k(X,!1)),ae}function R(V){try{return decodeURIComponent(V)}catch(H){return V.length>3?V.substr(0,3)+R(V.substr(3)):V}}const b=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function P(V){return V.match(b)?V.replace(b,H=>R(H)):V}},76176:function(it,Ee,l){"use strict";l.d(Ee,{Jq:function(){return d},X5:function(){return C},jG:function(){return z}});const C={ctrlCmd:!1,alt:!1};var d;(function(W){W[W.Blur=1]="Blur",W[W.Gesture=2]="Gesture",W[W.Other=3]="Other"})(d||(d={}));var z;(function(W){W[W.NONE=0]="NONE",W[W.FIRST=1]="FIRST",W[W.SECOND=2]="SECOND",W[W.LAST=3]="LAST"})(z||(z={}));class O{constructor(A){this.options=A}}const y=new O},16537:function(it,Ee,l){"use strict";l.d(Ee,{N:function(){return O}});var C=l(50731),d=l(34653),z=l(36143);function O(y,W){y instanceof d.Z?(y.setFontFamily(W.getMassagedFontFamily(C.isSafari?z.hL.fontFamily:null)),y.setFontWeight(W.fontWeight),y.setFontSize(W.fontSize),y.setFontFeatureSettings(W.fontFeatureSettings),y.setLineHeight(W.lineHeight),y.setLetterSpacing(W.letterSpacing)):(y.style.fontFamily=W.getMassagedFontFamily(C.isSafari?z.hL.fontFamily:null),y.style.fontWeight=W.fontWeight,y.style.fontSize=W.fontSize+"px",y.style.fontFeatureSettings=W.fontFeatureSettings,y.style.lineHeight=W.lineHeight+"px",y.style.letterSpacing=W.letterSpacing+"px")}},91425:function(it,Ee,l){"use strict";l.d(Ee,{I:function(){return z}});var C=l(1405),d=l(60774);class z extends C.JT{constructor(y,W){super(),this._onDidChange=this._register(new d.Q5),this.onDidChange=this._onDidChange.event,this._referenceDomElement=y,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,W)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(y=>{y&&y[0]&&y[0].contentRect?this.observe({width:y[0].contentRect.width,height:y[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(y){this.measureReferenceDomElement(!0,y)}measureReferenceDomElement(y,W){let A=0,M=0;W?(A=W.width,M=W.height):this._referenceDomElement&&(A=this._referenceDomElement.clientWidth,M=this._referenceDomElement.clientHeight),A=Math.max(5,A),M=Math.max(5,M),(this._width!==A||this._height!==M)&&(this._width=A,this._height=M,y&&this._onDidChange.fire())}}},87567:function(it,Ee,l){"use strict";l.d(Ee,{g:function(){return f}});var C=l(50731),d=l(60774),z=l(1405),O=l(16537);class y{constructor(a,x){this.chr=a,this.type=x,this.width=0}fulfill(a){this.width=a}}class W{constructor(a,x){this._bareFontInfo=a,this._requests=x,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const a=document.createElement("div");a.style.position="absolute",a.style.top="-50000px",a.style.width="50000px";const x=document.createElement("div");(0,O.N)(x,this._bareFontInfo),a.appendChild(x);const k=document.createElement("div");(0,O.N)(k,this._bareFontInfo),k.style.fontWeight="bold",a.appendChild(k);const T=document.createElement("div");(0,O.N)(T,this._bareFontInfo),T.style.fontStyle="italic",a.appendChild(T);const N=[];for(const L of this._requests){let R;L.type===0&&(R=x),L.type===2&&(R=k),L.type===1&&(R=T),R.appendChild(document.createElement("br"));const b=document.createElement("span");W._render(b,L),R.appendChild(b),N.push(b)}this._container=a,this._testElements=N}static _render(a,x){if(x.chr===" "){let k="\xA0";for(let T=0;T<8;T++)k+=k;a.innerText=k}else{let k=x.chr;for(let T=0;T<8;T++)k+=k;a.textContent=k}}_readFromDomElements(){for(let a=0,x=this._requests.length;a<x;a++){const k=this._requests[a],T=this._testElements[a];k.fulfill(T.offsetWidth/256)}}}function A(m,a){new W(m,a).read()}var M=l(36143),I=l(69367);class w extends z.JT{constructor(){super(),this._onDidChange=this._register(new d.Q5),this.onDidChange=this._onDidChange.event,this._cache=new _,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new _,this._onDidChange.fire()}_writeToCache(a,x){this._cache.put(a,x),!x.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const a=this._cache.getValues();let x=!1;for(const k of a)k.isTrusted||(x=!0,this._cache.remove(k));x&&this._onDidChange.fire()}readFontInfo(a){if(!this._cache.has(a)){let x=this._actualReadFontInfo(a);(x.typicalHalfwidthCharacterWidth<=2||x.typicalFullwidthCharacterWidth<=2||x.spaceWidth<=2||x.maxDigitWidth<=2)&&(x=new I.pR({pixelRatio:C.PixelRatio.value,fontFamily:x.fontFamily,fontWeight:x.fontWeight,fontSize:x.fontSize,fontFeatureSettings:x.fontFeatureSettings,lineHeight:x.lineHeight,letterSpacing:x.letterSpacing,isMonospace:x.isMonospace,typicalHalfwidthCharacterWidth:Math.max(x.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(x.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:x.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(x.spaceWidth,5),middotWidth:Math.max(x.middotWidth,5),wsmiddotWidth:Math.max(x.wsmiddotWidth,5),maxDigitWidth:Math.max(x.maxDigitWidth,5)},!1)),this._writeToCache(a,x)}return this._cache.get(a)}_createRequest(a,x,k,T){const N=new y(a,x);return k.push(N),T&&T.push(N),N}_actualReadFontInfo(a){const x=[],k=[],T=this._createRequest("n",0,x,k),N=this._createRequest("\uFF4D",0,x,null),L=this._createRequest(" ",0,x,k),R=this._createRequest("0",0,x,k),b=this._createRequest("1",0,x,k),P=this._createRequest("2",0,x,k),V=this._createRequest("3",0,x,k),H=this._createRequest("4",0,x,k),ee=this._createRequest("5",0,x,k),ae=this._createRequest("6",0,x,k),me=this._createRequest("7",0,x,k),ge=this._createRequest("8",0,x,k),re=this._createRequest("9",0,x,k),se=this._createRequest("\u2192",0,x,k),X=this._createRequest("\uFFEB",0,x,null),$=this._createRequest("\xB7",0,x,k),j=this._createRequest(String.fromCharCode(11825),0,x,null),ie="|/-_ilm%";for(let Me=0,Ke=ie.length;Me<Ke;Me++)this._createRequest(ie.charAt(Me),0,x,k),this._createRequest(ie.charAt(Me),1,x,k),this._createRequest(ie.charAt(Me),2,x,k);A(a,x);const J=Math.max(R.width,b.width,P.width,V.width,H.width,ee.width,ae.width,me.width,ge.width,re.width);let oe=a.fontFeatureSettings===M.n0.OFF;const ce=k[0].width;for(let Me=1,Ke=k.length;oe&&Me<Ke;Me++){const De=ce-k[Me].width;if(De<-.001||De>.001){oe=!1;break}}let we=!0;return oe&&X.width!==ce&&(we=!1),X.width>se.width&&(we=!1),new I.pR({pixelRatio:C.PixelRatio.value,fontFamily:a.fontFamily,fontWeight:a.fontWeight,fontSize:a.fontSize,fontFeatureSettings:a.fontFeatureSettings,lineHeight:a.lineHeight,letterSpacing:a.letterSpacing,isMonospace:oe,typicalHalfwidthCharacterWidth:T.width,typicalFullwidthCharacterWidth:N.width,canUseHalfwidthRightwardsArrow:we,spaceWidth:L.width,middotWidth:$.width,wsmiddotWidth:j.width,maxDigitWidth:J},!0)}}class _{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(a){const x=a.getId();return!!this._values[x]}get(a){const x=a.getId();return this._values[x]}put(a,x){const k=a.getId();this._keys[k]=a,this._values[k]=x}remove(a){const x=a.getId();delete this._keys[x],delete this._values[x]}getValues(){return Object.keys(this._keys).map(a=>this._values[a])}}const f=new w},4577:function(it,Ee,l){"use strict";l.d(Ee,{n:function(){return z}});var C=l(60774);class d{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new C.Q5,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(y){this._tabFocus!==y&&(this._tabFocus=y,this._onDidChangeTabFocus.fire(this._tabFocus))}}const z=new d},67430:function(it,Ee,l){"use strict";l.d(Ee,{Fz:function(){return x},Nl:function(){return m},RA:function(){return f},Tj:function(){return T},pd:function(){return _}});var C=l(50731),d=l(50082),z=l(16259),O=l(57186),y=l(60774),W=l(1405),A=l(34271),M=l(76311),I=l(96818),w=l(83141),_;(function(N){N.Tap="-monaco-textarea-synthetic-tap"})(_||(_={}));const f={forceCopyWithSyntaxHighlighting:!1};class m{constructor(){this._lastState=null}set(L,R){this._lastState={lastCopiedValue:L,data:R}}get(L){return this._lastState&&this._lastState.lastCopiedValue===L?this._lastState.data:(this._lastState=null,null)}}m.INSTANCE=new m;class a{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(L){L=L||"";const R={text:L,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=L.length,R}}class x extends W.JT{constructor(L,R,b,P){super(),this._host=L,this._textArea=R,this._OS=b,this._browser=P,this._onFocus=this._register(new y.Q5),this.onFocus=this._onFocus.event,this._onBlur=this._register(new y.Q5),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new y.Q5),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new y.Q5),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new y.Q5),this.onCut=this._onCut.event,this._onPaste=this._register(new y.Q5),this.onPaste=this._onPaste.event,this._onType=this._register(new y.Q5),this.onType=this._onType.event,this._onCompositionStart=this._register(new y.Q5),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new y.Q5),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new y.Q5),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new y.Q5),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new O.pY(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new O.pY(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=I.un.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let V=null;this._register(this._textArea.onKeyDown(H=>{const ee=new z.y(H);(ee.keyCode===109||this._currentComposition&&ee.keyCode===1)&&ee.stopPropagation(),ee.equals(9)&&ee.preventDefault(),V=ee,this._onKeyDown.fire(ee)})),this._register(this._textArea.onKeyUp(H=>{const ee=new z.y(H);this._onKeyUp.fire(ee)})),this._register(this._textArea.onCompositionStart(H=>{I.al&&console.log("[compositionstart]",H);const ee=new a;if(this._currentComposition){this._currentComposition=ee;return}if(this._currentComposition=ee,this._OS===2&&V&&V.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===H.data&&(V.code==="ArrowRight"||V.code==="ArrowLeft")){I.al&&console.log("[compositionstart] Handling long press case on macOS + arrow key",H),ee.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:H.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:H.data});return}this._onCompositionStart.fire({data:H.data})})),this._register(this._textArea.onCompositionUpdate(H=>{I.al&&console.log("[compositionupdate]",H);const ee=this._currentComposition;if(!ee)return;if(this._browser.isAndroid){const me=I.un.readFromTextArea(this._textArea),ge=I.un.deduceAndroidCompositionInput(this._textAreaState,me);this._textAreaState=me,this._onType.fire(ge),this._onCompositionUpdate.fire(H);return}const ae=ee.handleCompositionUpdate(H.data);this._textAreaState=I.un.readFromTextArea(this._textArea),this._onType.fire(ae),this._onCompositionUpdate.fire(H)})),this._register(this._textArea.onCompositionEnd(H=>{I.al&&console.log("[compositionend]",H);const ee=this._currentComposition;if(!ee)return;if(this._currentComposition=null,this._browser.isAndroid){const me=I.un.readFromTextArea(this._textArea),ge=I.un.deduceAndroidCompositionInput(this._textAreaState,me);this._textAreaState=me,this._onType.fire(ge),this._onCompositionEnd.fire();return}const ae=ee.handleCompositionUpdate(H.data);this._textAreaState=I.un.readFromTextArea(this._textArea),this._onType.fire(ae),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(H=>{if(I.al&&console.log("[input]",H),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const ee=I.un.readFromTextArea(this._textArea),ae=I.un.deduceInput(this._textAreaState,ee,this._OS===2);ae.replacePrevCharCnt===0&&ae.text.length===1&&M.ZG(ae.text.charCodeAt(0))||(this._textAreaState=ee,(ae.text!==""||ae.replacePrevCharCnt!==0||ae.replaceNextCharCnt!==0||ae.positionDelta!==0)&&this._onType.fire(ae))})),this._register(this._textArea.onCut(H=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(H),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(H=>{this._ensureClipboardGetsEditorSelection(H)})),this._register(this._textArea.onPaste(H=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),H.preventDefault(),!H.clipboardData)return;let[ee,ae]=k.getTextData(H.clipboardData);!ee||(ae=ae||m.INSTANCE.get(ee),this._onPaste.fire({text:ee,metadata:ae}))})),this._register(this._textArea.onFocus(()=>{const H=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!H&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let L=0;return d.nm(document,"selectionchange",R=>{if(!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const b=Date.now(),P=b-L;if(L=b,P<5)return;const V=b-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),V<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const H=this._textArea.getValue();if(this._textAreaState.value!==H)return;const ee=this._textArea.getSelectionStart(),ae=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===ee&&this._textAreaState.selectionEnd===ae)return;const me=this._textAreaState.deduceEditorPosition(ee),ge=this._host.deduceModelPosition(me[0],me[1],me[2]),re=this._textAreaState.deduceEditorPosition(ae),se=this._host.deduceModelPosition(re[0],re[1],re[2]),X=new w.Y(ge.lineNumber,ge.column,se.lineNumber,se.column);this._onSelectionChangeRequest.fire(X)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(L){this._hasFocus!==L&&(this._hasFocus=L,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(L,R){this._hasFocus||(R=R.collapseSelection()),R.writeToTextArea(L,this._textArea,this._hasFocus),this._textAreaState=R}writeScreenReaderContent(L){this._currentComposition||this._setAndWriteTextAreaState(L,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(L){const R=this._host.getDataToCopy(),b={version:1,isFromEmptySelection:R.isFromEmptySelection,multicursorText:R.multicursorText,mode:R.mode};m.INSTANCE.set(this._browser.isFirefox?R.text.replace(/\r\n/g,`
`):R.text,b),L.preventDefault(),L.clipboardData&&k.setTextData(L.clipboardData,R.text,R.html,b)}}class k{static getTextData(L){const R=L.getData(A.v.text);let b=null;const P=L.getData("vscode-editor-data");if(typeof P=="string")try{b=JSON.parse(P),b.version!==1&&(b=null)}catch(V){}return[R,b]}static setTextData(L,R,b,P){L.setData(A.v.text,R),typeof b=="string"&&L.setData("text/html",b),L.setData("vscode-editor-data",JSON.stringify(P))}}class T extends W.JT{constructor(L){super(),this._actual=L,this.onKeyDown=this._register(d.IC(this._actual,"keydown")).event,this.onKeyUp=this._register(d.IC(this._actual,"keyup")).event,this.onCompositionStart=this._register(d.IC(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(d.IC(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(d.IC(this._actual,"compositionend")).event,this.onInput=this._register(d.IC(this._actual,"input")).event,this.onCut=this._register(d.IC(this._actual,"cut")).event,this.onCopy=this._register(d.IC(this._actual,"copy")).event,this.onPaste=this._register(d.IC(this._actual,"paste")).event,this.onFocus=this._register(d.IC(this._actual,"focus")).event,this.onBlur=this._register(d.IC(this._actual,"blur")).event,this._onSyntheticTap=this._register(new y.Q5),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(d.nm(this._actual,_.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const L=d.Ay(this._actual);return L?L.activeElement===this._actual:d.Uw(this._actual)?document.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(L){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(L,R){const b=this._actual;b.value!==R&&(this.setIgnoreSelectionChangeTime("setValue"),b.value=R)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(L,R,b){const P=this._actual;let V=null;const H=d.Ay(P);H?V=H.activeElement:V=document.activeElement;const ee=V===P,ae=P.selectionStart,me=P.selectionEnd;if(ee&&ae===R&&me===b){C.isFirefox&&window.parent!==window&&P.focus();return}if(ee){this.setIgnoreSelectionChangeTime("setSelectionRange"),P.setSelectionRange(R,b),C.isFirefox&&window.parent!==window&&P.focus();return}try{const ge=d.vL(P);this.setIgnoreSelectionChangeTime("setSelectionRange"),P.focus(),P.setSelectionRange(R,b),d._0(P,ge)}catch(ge){}}}},96818:function(it,Ee,l){"use strict";l.d(Ee,{al:function(){return O},ee:function(){return W},un:function(){return y}});var C=l(76311),d=l(7747),z=l(50757);const O=!1;class y{constructor(M,I,w,_,f){this.value=M,this.selectionStart=I,this.selectionEnd=w,this.selectionStartPosition=_,this.selectionEndPosition=f}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(M){return new y(M.getValue(),M.getSelectionStart(),M.getSelectionEnd(),null,null)}collapseSelection(){return new y(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(M,I,w){O&&console.log(`writeToTextArea ${M}: ${this.toString()}`),I.setValue(M,this.value),w&&I.setSelectionRange(M,this.selectionStart,this.selectionEnd)}deduceEditorPosition(M){if(M<=this.selectionStart){const _=this.value.substring(M,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,_,-1)}if(M>=this.selectionEnd){const _=this.value.substring(this.selectionEnd,M);return this._finishDeduceEditorPosition(this.selectionEndPosition,_,1)}const I=this.value.substring(this.selectionStart,M);if(I.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,I,1);const w=this.value.substring(M,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,w,-1)}_finishDeduceEditorPosition(M,I,w){let _=0,f=-1;for(;(f=I.indexOf(`
`,f+1))!==-1;)_++;return[M,w*I.length,_]}static deduceInput(M,I,w){if(!M)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};O&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${M.toString()}`),console.log(`CURRENT STATE: ${I.toString()}`));const _=Math.min(C.Mh(M.value,I.value),M.selectionStart,I.selectionStart),f=Math.min(C.P1(M.value,I.value),M.value.length-M.selectionEnd,I.value.length-I.selectionEnd),m=M.value.substring(_,M.value.length-f),a=I.value.substring(_,I.value.length-f),x=M.selectionStart-_,k=M.selectionEnd-_,T=I.selectionStart-_,N=I.selectionEnd-_;if(O&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${m}>, selectionStart: ${x}, selectionEnd: ${k}`),console.log(`AFTER DIFFING CURRENT STATE: <${a}>, selectionStart: ${T}, selectionEnd: ${N}`)),T===N){const R=M.selectionStart-_;return O&&console.log(`REMOVE PREVIOUS: ${R} chars`),{text:a,replacePrevCharCnt:R,replaceNextCharCnt:0,positionDelta:0}}const L=k-x;return{text:a,replacePrevCharCnt:L,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(M,I){if(!M)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(O&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${M.toString()}`),console.log(`CURRENT STATE: ${I.toString()}`)),M.value===I.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:I.selectionEnd-M.selectionEnd};const w=Math.min(C.Mh(M.value,I.value),M.selectionEnd),_=Math.min(C.P1(M.value,I.value),M.value.length-M.selectionEnd),f=M.value.substring(w,M.value.length-_),m=I.value.substring(w,I.value.length-_),a=M.selectionStart-w,x=M.selectionEnd-w,k=I.selectionStart-w,T=I.selectionEnd-w;return O&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${f}>, selectionStart: ${a}, selectionEnd: ${x}`),console.log(`AFTER DIFFING CURRENT STATE: <${m}>, selectionStart: ${k}, selectionEnd: ${T}`)),{text:m,replacePrevCharCnt:x,replaceNextCharCnt:f.length-x,positionDelta:T-m.length}}}y.EMPTY=new y("",0,0,null,null);class W{static _getPageOfLine(M,I){return Math.floor((M-1)/I)}static _getRangeForPage(M,I){const w=M*I,_=w+1,f=w+I;return new z.e(_,1,f+1,1)}static fromEditorSelection(M,I,w,_,f){const m=W._getPageOfLine(w.startLineNumber,_),a=W._getRangeForPage(m,_),x=W._getPageOfLine(w.endLineNumber,_),k=W._getRangeForPage(x,_),T=a.intersectRanges(new z.e(1,1,w.startLineNumber,w.startColumn));let N=I.getValueInRange(T,1);const L=I.getLineCount(),R=I.getLineMaxColumn(L),b=k.intersectRanges(new z.e(w.endLineNumber,w.endColumn,L,R));let P=I.getValueInRange(b,1),V;if(m===x||m+1===x)V=I.getValueInRange(w,1);else{const H=a.intersectRanges(w),ee=k.intersectRanges(w);V=I.getValueInRange(H,1)+String.fromCharCode(8230)+I.getValueInRange(ee,1)}return f&&(N.length>500&&(N=N.substring(N.length-500,N.length)),P.length>500&&(P=P.substring(0,500)),V.length>2*500&&(V=V.substring(0,500)+String.fromCharCode(8230)+V.substring(V.length-500,V.length))),new y(N+V+P,N.length,N.length+V.length,new d.L(w.startLineNumber,w.startColumn),new d.L(w.endLineNumber,w.endColumn))}}},99947:function(it,Ee,l){"use strict";l.d(Ee,{wk:function(){return ae},Ox:function(){return P}});var C=l(82215),d=l(50731),z=l(37061),O=l(74749),y=l(20244),W=l(31753),A=l(92386),M=l(7747),I=l(50757);class w{static columnSelect(se,X,$,j,ie,J){const oe=Math.abs(ie-$)+1,ce=$>ie,we=j>J,Me=j<J,Ke=[];for(let De=0;De<oe;De++){const be=$+(ce?-De:De),We=se.columnFromVisibleColumn(X,be,j),et=se.columnFromVisibleColumn(X,be,J),Kt=se.visibleColumnFromColumn(X,new M.L(be,We)),_t=se.visibleColumnFromColumn(X,new M.L(be,et));Me&&(Kt>J||_t<j)||we&&(_t>j||Kt<J)||Ke.push(new A.rS(new I.e(be,We,be,We),0,new M.L(be,et),0))}if(Ke.length===0)for(let De=0;De<oe;De++){const be=$+(ce?-De:De),We=X.getLineMaxColumn(be);Ke.push(new A.rS(new I.e(be,We,be,We),0,new M.L(be,We),0))}return{viewStates:Ke,reversed:ce,fromLineNumber:$,fromVisualColumn:j,toLineNumber:ie,toVisualColumn:J}}static columnSelectLeft(se,X,$){let j=$.toViewVisualColumn;return j>0&&j--,w.columnSelect(se,X,$.fromViewLineNumber,$.fromViewVisualColumn,$.toViewLineNumber,j)}static columnSelectRight(se,X,$){let j=0;const ie=Math.min($.fromViewLineNumber,$.toViewLineNumber),J=Math.max($.fromViewLineNumber,$.toViewLineNumber);for(let ce=ie;ce<=J;ce++){const we=X.getLineMaxColumn(ce),Me=se.visibleColumnFromColumn(X,new M.L(ce,we));j=Math.max(j,Me)}let oe=$.toViewVisualColumn;return oe<j&&oe++,this.columnSelect(se,X,$.fromViewLineNumber,$.fromViewVisualColumn,$.toViewLineNumber,oe)}static columnSelectUp(se,X,$,j){const ie=j?se.pageSize:1,J=Math.max(1,$.toViewLineNumber-ie);return this.columnSelect(se,X,$.fromViewLineNumber,$.fromViewVisualColumn,J,$.toViewVisualColumn)}static columnSelectDown(se,X,$,j){const ie=j?se.pageSize:1,J=Math.min(X.getLineCount(),$.toViewLineNumber+ie);return this.columnSelect(se,X,$.fromViewLineNumber,$.fromViewVisualColumn,J,$.toViewVisualColumn)}}var _=l(92244),f=l(65147),m=l(28286),a=l(50368),x=l(96072),k=l(82918);const T=0;class N extends y._l{runEditorCommand(se,X,$){const j=X._getViewModel();!j||this.runCoreEditorCommand(j,$||{})}}var L;(function(re){const se=function($){if(!z.Kn($))return!1;const j=$;return!(!z.HD(j.to)||!z.o8(j.by)&&!z.HD(j.by)||!z.o8(j.value)&&!z.hj(j.value)||!z.o8(j.revealCursor)&&!z.jn(j.revealCursor))};re.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:se,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},re.RawDirection={Up:"up",Down:"down"},re.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function X($){let j;switch($.to){case re.RawDirection.Up:j=1;break;case re.RawDirection.Down:j=2;break;default:return null}let ie;switch($.by){case re.RawUnit.Line:ie=1;break;case re.RawUnit.WrappedLine:ie=2;break;case re.RawUnit.Page:ie=3;break;case re.RawUnit.HalfPage:ie=4;break;default:ie=2}const J=Math.floor($.value||1),oe=!!$.revealCursor;return{direction:j,unit:ie,value:J,revealCursor:oe,select:!!$.select}}re.parse=X})(L||(L={}));var R;(function(re){const se=function(X){if(!z.Kn(X))return!1;const $=X;return!(!z.hj($.lineNumber)&&!z.HD($.lineNumber)||!z.o8($.at)&&!z.HD($.at))};re.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:se,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},re.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(R||(R={}));class b{constructor(se){se.addImplementation(1e4,"code-editor",(X,$)=>{const j=X.get(W.$).getFocusedCodeEditor();return j&&j.hasTextFocus()?this._runEditorCommand(X,j,$):!1}),se.addImplementation(1e3,"generic-dom-input-textarea",(X,$)=>{const j=document.activeElement;return j&&["input","textarea"].indexOf(j.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),se.addImplementation(0,"generic-dom",(X,$)=>{const j=X.get(W.$).getActiveCodeEditor();return j?(j.focus(),this._runEditorCommand(X,j,$)):!1})}_runEditorCommand(se,X,$){const j=this.runEditorCommand(se,X,$);return j||!0}}var P;(function(re){class se extends N{constructor(tt){super(tt),this._minimalReveal=tt.minimalReveal,this._inSelectionMode=tt.inSelectionMode}runCoreEditorCommand(tt,kt){tt.model.pushStackElement(),tt.setCursorStates(kt.source,3,[f.P.moveTo(tt,tt.getPrimaryCursorState(),this._inSelectionMode,kt.position,kt.viewPosition)])&&tt.revealPrimaryCursor(kt.source,!0,this._minimalReveal)}}re.MoveTo=(0,y.fK)(new se({id:"_moveTo",minimalReveal:!0,inSelectionMode:!1,precondition:void 0})),re.MoveToSelect=(0,y.fK)(new se({id:"_moveToSelect",minimalReveal:!1,inSelectionMode:!0,precondition:void 0}));class X extends N{runCoreEditorCommand(tt,kt){tt.model.pushStackElement();const Ut=this._getColumnSelectResult(tt,tt.getPrimaryCursorState(),tt.getCursorColumnSelectData(),kt);tt.setCursorStates(kt.source,3,Ut.viewStates.map(Ft=>A.Vi.fromViewState(Ft))),tt.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:Ut.fromLineNumber,fromViewVisualColumn:Ut.fromVisualColumn,toViewLineNumber:Ut.toLineNumber,toViewVisualColumn:Ut.toVisualColumn}),Ut.reversed?tt.revealTopMostCursor(kt.source):tt.revealBottomMostCursor(kt.source)}}re.ColumnSelect=(0,y.fK)(new class extends X{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(_t,tt,kt,Ut){const Ft=_t.model.validatePosition(Ut.position),Te=_t.coordinatesConverter.validateViewPosition(new M.L(Ut.viewPosition.lineNumber,Ut.viewPosition.column),Ft),Ge=Ut.doColumnSelect?kt.fromViewLineNumber:Te.lineNumber,Et=Ut.doColumnSelect?kt.fromViewVisualColumn:Ut.mouseColumn-1;return w.columnSelect(_t.cursorConfig,_t,Ge,Et,Te.lineNumber,Ut.mouseColumn-1)}}),re.CursorColumnSelectLeft=(0,y.fK)(new class extends X{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(_t,tt,kt,Ut){return w.columnSelectLeft(_t.cursorConfig,_t,kt)}}),re.CursorColumnSelectRight=(0,y.fK)(new class extends X{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(_t,tt,kt,Ut){return w.columnSelectRight(_t.cursorConfig,_t,kt)}});class $ extends X{constructor(tt){super(tt),this._isPaged=tt.isPaged}_getColumnSelectResult(tt,kt,Ut,Ft){return w.columnSelectUp(tt.cursorConfig,tt,Ut,this._isPaged)}}re.CursorColumnSelectUp=(0,y.fK)(new $({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:3600,linux:{primary:0}}})),re.CursorColumnSelectPageUp=(0,y.fK)(new $({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:3595,linux:{primary:0}}}));class j extends X{constructor(tt){super(tt),this._isPaged=tt.isPaged}_getColumnSelectResult(tt,kt,Ut,Ft){return w.columnSelectDown(tt.cursorConfig,tt,Ut,this._isPaged)}}re.CursorColumnSelectDown=(0,y.fK)(new j({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:3602,linux:{primary:0}}})),re.CursorColumnSelectPageDown=(0,y.fK)(new j({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:3596,linux:{primary:0}}}));class ie extends N{constructor(){super({id:"cursorMove",precondition:void 0,description:f.N.description})}runCoreEditorCommand(tt,kt){const Ut=f.N.parse(kt);!Ut||this._runCursorMove(tt,kt.source,Ut)}_runCursorMove(tt,kt,Ut){tt.model.pushStackElement(),tt.setCursorStates(kt,3,ie._move(tt,tt.getCursorStates(),Ut)),tt.revealPrimaryCursor(kt,!0)}static _move(tt,kt,Ut){const Ft=Ut.select,Te=Ut.value;switch(Ut.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return f.P.simpleMove(tt,kt,Ut.direction,Ft,Te,Ut.unit);case 11:case 13:case 12:case 14:return f.P.viewportMove(tt,kt,Ut.direction,Ft,Te);default:return null}}}re.CursorMoveImpl=ie,re.CursorMove=(0,y.fK)(new ie);class J extends N{constructor(tt){super(tt),this._staticArgs=tt.args}runCoreEditorCommand(tt,kt){let Ut=this._staticArgs;this._staticArgs.value===-1&&(Ut={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:kt.pageSize||tt.cursorConfig.pageSize}),tt.model.pushStackElement(),tt.setCursorStates(kt.source,3,f.P.simpleMove(tt,tt.getCursorStates(),Ut.direction,Ut.select,Ut.value,Ut.unit)),tt.revealPrimaryCursor(kt.source,!0)}}re.CursorLeft=(0,y.fK)(new J({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),re.CursorLeftSelect=(0,y.fK)(new J({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:1039}})),re.CursorRight=(0,y.fK)(new J({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),re.CursorRightSelect=(0,y.fK)(new J({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:1041}})),re.CursorUp=(0,y.fK)(new J({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),re.CursorUpSelect=(0,y.fK)(new J({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),re.CursorPageUp=(0,y.fK)(new J({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:11}})),re.CursorPageUpSelect=(0,y.fK)(new J({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:1035}})),re.CursorDown=(0,y.fK)(new J({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),re.CursorDownSelect=(0,y.fK)(new J({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),re.CursorPageDown=(0,y.fK)(new J({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:12}})),re.CursorPageDownSelect=(0,y.fK)(new J({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:1036}})),re.CreateCursor=(0,y.fK)(new class extends N{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(_t,tt){let kt;tt.wholeLine?kt=f.P.line(_t,_t.getPrimaryCursorState(),!1,tt.position,tt.viewPosition):kt=f.P.moveTo(_t,_t.getPrimaryCursorState(),!1,tt.position,tt.viewPosition);const Ut=_t.getCursorStates();if(Ut.length>1){const Ft=kt.modelState?kt.modelState.position:null,Te=kt.viewState?kt.viewState.position:null;for(let Ge=0,Et=Ut.length;Ge<Et;Ge++){const Wt=Ut[Ge];if(!(Ft&&!Wt.modelState.selection.containsPosition(Ft))&&!(Te&&!Wt.viewState.selection.containsPosition(Te))){Ut.splice(Ge,1),_t.model.pushStackElement(),_t.setCursorStates(tt.source,3,Ut);return}}}Ut.push(kt),_t.model.pushStackElement(),_t.setCursorStates(tt.source,3,Ut)}}),re.LastCursorMoveToSelect=(0,y.fK)(new class extends N{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(_t,tt){const kt=_t.getLastAddedCursorIndex(),Ut=_t.getCursorStates(),Ft=Ut.slice(0);Ft[kt]=f.P.moveTo(_t,Ut[kt],!0,tt.position,tt.viewPosition),_t.model.pushStackElement(),_t.setCursorStates(tt.source,3,Ft)}});class oe extends N{constructor(tt){super(tt),this._inSelectionMode=tt.inSelectionMode}runCoreEditorCommand(tt,kt){tt.model.pushStackElement(),tt.setCursorStates(kt.source,3,f.P.moveToBeginningOfLine(tt,tt.getCursorStates(),this._inSelectionMode)),tt.revealPrimaryCursor(kt.source,!0)}}re.CursorHome=(0,y.fK)(new oe({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),re.CursorHomeSelect=(0,y.fK)(new oe({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class ce extends N{constructor(tt){super(tt),this._inSelectionMode=tt.inSelectionMode}runCoreEditorCommand(tt,kt){tt.model.pushStackElement(),tt.setCursorStates(kt.source,3,this._exec(tt.getCursorStates())),tt.revealPrimaryCursor(kt.source,!0)}_exec(tt){const kt=[];for(let Ut=0,Ft=tt.length;Ut<Ft;Ut++){const Te=tt[Ut],Ge=Te.modelState.position.lineNumber;kt[Ut]=A.Vi.fromModelState(Te.modelState.move(this._inSelectionMode,Ge,1,0))}return kt}}re.CursorLineStart=(0,y.fK)(new ce({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:0,mac:{primary:287}}})),re.CursorLineStartSelect=(0,y.fK)(new ce({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:0,mac:{primary:1311}}}));class we extends N{constructor(tt){super(tt),this._inSelectionMode=tt.inSelectionMode}runCoreEditorCommand(tt,kt){tt.model.pushStackElement(),tt.setCursorStates(kt.source,3,f.P.moveToEndOfLine(tt,tt.getCursorStates(),this._inSelectionMode,kt.sticky||!1)),tt.revealPrimaryCursor(kt.source,!0)}}re.CursorEnd=(0,y.fK)(new we({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:T,kbExpr:a.u.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:C.N("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),re.CursorEndSelect=(0,y.fK)(new we({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:T,kbExpr:a.u.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:C.N("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class Me extends N{constructor(tt){super(tt),this._inSelectionMode=tt.inSelectionMode}runCoreEditorCommand(tt,kt){tt.model.pushStackElement(),tt.setCursorStates(kt.source,3,this._exec(tt,tt.getCursorStates())),tt.revealPrimaryCursor(kt.source,!0)}_exec(tt,kt){const Ut=[];for(let Ft=0,Te=kt.length;Ft<Te;Ft++){const Ge=kt[Ft],Et=Ge.modelState.position.lineNumber,Wt=tt.model.getLineMaxColumn(Et);Ut[Ft]=A.Vi.fromModelState(Ge.modelState.move(this._inSelectionMode,Et,Wt,0))}return Ut}}re.CursorLineEnd=(0,y.fK)(new Me({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:0,mac:{primary:291}}})),re.CursorLineEndSelect=(0,y.fK)(new Me({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:0,mac:{primary:1315}}}));class Ke extends N{constructor(tt){super(tt),this._inSelectionMode=tt.inSelectionMode}runCoreEditorCommand(tt,kt){tt.model.pushStackElement(),tt.setCursorStates(kt.source,3,f.P.moveToBeginningOfBuffer(tt,tt.getCursorStates(),this._inSelectionMode)),tt.revealPrimaryCursor(kt.source,!0)}}re.CursorTop=(0,y.fK)(new Ke({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:2062,mac:{primary:2064}}})),re.CursorTopSelect=(0,y.fK)(new Ke({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:3086,mac:{primary:3088}}}));class De extends N{constructor(tt){super(tt),this._inSelectionMode=tt.inSelectionMode}runCoreEditorCommand(tt,kt){tt.model.pushStackElement(),tt.setCursorStates(kt.source,3,f.P.moveToEndOfBuffer(tt,tt.getCursorStates(),this._inSelectionMode)),tt.revealPrimaryCursor(kt.source,!0)}}re.CursorBottom=(0,y.fK)(new De({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:2061,mac:{primary:2066}}})),re.CursorBottomSelect=(0,y.fK)(new De({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:3085,mac:{primary:3090}}}));class be extends N{constructor(){super({id:"editorScroll",precondition:void 0,description:L.description})}runCoreEditorCommand(tt,kt){const Ut=L.parse(kt);!Ut||this._runEditorScroll(tt,kt.source,Ut)}_runEditorScroll(tt,kt,Ut){const Ft=this._computeDesiredScrollTop(tt,Ut);if(Ut.revealCursor){const Te=tt.getCompletelyVisibleViewRangeAtScrollTop(Ft);tt.setCursorStates(kt,3,[f.P.findPositionInViewportIfOutside(tt,tt.getPrimaryCursorState(),Te,Ut.select)])}tt.viewLayout.setScrollPosition({scrollTop:Ft},0)}_computeDesiredScrollTop(tt,kt){if(kt.unit===1){const Te=tt.getCompletelyVisibleViewRange(),Ge=tt.coordinatesConverter.convertViewRangeToModelRange(Te);let Et;kt.direction===1?Et=Math.max(1,Ge.startLineNumber-kt.value):Et=Math.min(tt.model.getLineCount(),Ge.startLineNumber+kt.value);const Wt=tt.coordinatesConverter.convertModelPositionToViewPosition(new M.L(Et,1));return tt.viewLayout.getVerticalOffsetForLineNumber(Wt.lineNumber)}let Ut;kt.unit===3?Ut=tt.cursorConfig.pageSize*kt.value:kt.unit===4?Ut=Math.round(tt.cursorConfig.pageSize/2)*kt.value:Ut=kt.value;const Ft=(kt.direction===1?-1:1)*Ut;return tt.viewLayout.getCurrentScrollTop()+Ft*tt.cursorConfig.lineHeight}}re.EditorScrollImpl=be,re.EditorScroll=(0,y.fK)(new be),re.ScrollLineUp=(0,y.fK)(new class extends N{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(_t,tt){re.EditorScroll._runEditorScroll(_t,tt.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),re.ScrollPageUp=(0,y.fK)(new class extends N{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(_t,tt){re.EditorScroll._runEditorScroll(_t,tt.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),re.ScrollLineDown=(0,y.fK)(new class extends N{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(_t,tt){re.EditorScroll._runEditorScroll(_t,tt.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),re.ScrollPageDown=(0,y.fK)(new class extends N{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(_t,tt){re.EditorScroll._runEditorScroll(_t,tt.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class We extends N{constructor(tt){super(tt),this._inSelectionMode=tt.inSelectionMode}runCoreEditorCommand(tt,kt){tt.model.pushStackElement(),tt.setCursorStates(kt.source,3,[f.P.word(tt,tt.getPrimaryCursorState(),this._inSelectionMode,kt.position)]),tt.revealPrimaryCursor(kt.source,!0)}}re.WordSelect=(0,y.fK)(new We({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),re.WordSelectDrag=(0,y.fK)(new We({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),re.LastCursorWordSelect=(0,y.fK)(new class extends N{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(_t,tt){const kt=_t.getLastAddedCursorIndex(),Ut=_t.getCursorStates(),Ft=Ut.slice(0),Te=Ut[kt];Ft[kt]=f.P.word(_t,Te,Te.modelState.hasSelection(),tt.position),_t.model.pushStackElement(),_t.setCursorStates(tt.source,3,Ft)}});class et extends N{constructor(tt){super(tt),this._inSelectionMode=tt.inSelectionMode}runCoreEditorCommand(tt,kt){tt.model.pushStackElement(),tt.setCursorStates(kt.source,3,[f.P.line(tt,tt.getPrimaryCursorState(),this._inSelectionMode,kt.position,kt.viewPosition)]),tt.revealPrimaryCursor(kt.source,!1)}}re.LineSelect=(0,y.fK)(new et({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),re.LineSelectDrag=(0,y.fK)(new et({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class Kt extends N{constructor(tt){super(tt),this._inSelectionMode=tt.inSelectionMode}runCoreEditorCommand(tt,kt){const Ut=tt.getLastAddedCursorIndex(),Ft=tt.getCursorStates(),Te=Ft.slice(0);Te[Ut]=f.P.line(tt,Ft[Ut],this._inSelectionMode,kt.position,kt.viewPosition),tt.model.pushStackElement(),tt.setCursorStates(kt.source,3,Te)}}re.LastCursorLineSelect=(0,y.fK)(new Kt({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),re.LastCursorLineSelectDrag=(0,y.fK)(new Kt({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),re.CancelSelection=(0,y.fK)(new class extends N{constructor(){super({id:"cancelSelection",precondition:a.u.hasNonEmptySelection,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(_t,tt){_t.model.pushStackElement(),_t.setCursorStates(tt.source,3,[f.P.cancelSelection(_t,_t.getPrimaryCursorState())]),_t.revealPrimaryCursor(tt.source,!0)}}),re.RemoveSecondaryCursors=(0,y.fK)(new class extends N{constructor(){super({id:"removeSecondaryCursors",precondition:a.u.hasMultipleSelections,kbOpts:{weight:T+1,kbExpr:a.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(_t,tt){_t.model.pushStackElement(),_t.setCursorStates(tt.source,3,[_t.getPrimaryCursorState()]),_t.revealPrimaryCursor(tt.source,!0),(0,O.i7)(C.N("removedCursor","Removed secondary cursors"))}}),re.RevealLine=(0,y.fK)(new class extends N{constructor(){super({id:"revealLine",precondition:void 0,description:R.description})}runCoreEditorCommand(_t,tt){const kt=tt,Ut=kt.lineNumber||0;let Ft=typeof Ut=="number"?Ut+1:parseInt(Ut)+1;Ft<1&&(Ft=1);const Te=_t.model.getLineCount();Ft>Te&&(Ft=Te);const Ge=new I.e(Ft,1,Ft,_t.model.getLineMaxColumn(Ft));let Et=0;if(kt.at)switch(kt.at){case R.RawAtArgument.Top:Et=3;break;case R.RawAtArgument.Center:Et=1;break;case R.RawAtArgument.Bottom:Et=4;break;default:break}const Wt=_t.coordinatesConverter.convertModelRangeToViewRange(Ge);_t.revealRange(tt.source,!1,Wt,Et,0)}}),re.SelectAll=new class extends b{constructor(){super(y.Sq)}runDOMCommand(){d.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(_t,tt,kt){const Ut=tt._getViewModel();!Ut||this.runCoreEditorCommand(Ut,kt)}runCoreEditorCommand(_t,tt){_t.model.pushStackElement(),_t.setCursorStates("keyboard",3,[f.P.selectAll(_t,_t.getPrimaryCursorState())])}},re.SetSelection=(0,y.fK)(new class extends N{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(_t,tt){_t.model.pushStackElement(),_t.setCursorStates(tt.source,3,[A.Vi.fromModelSelection(tt.selection)])}})})(P||(P={}));const V=x.Ao.and(a.u.textInputFocus,a.u.columnSelection);function H(re,se){k.W.registerKeybindingRule({id:re,primary:se,when:V,weight:T+1})}H(P.CursorColumnSelectLeft.id,1039),H(P.CursorColumnSelectRight.id,1041),H(P.CursorColumnSelectUp.id,1040),H(P.CursorColumnSelectPageUp.id,1035),H(P.CursorColumnSelectDown.id,1042),H(P.CursorColumnSelectPageDown.id,1036);function ee(re){return re.register(),re}var ae;(function(re){class se extends y._l{runEditorCommand($,j,ie){const J=j._getViewModel();!J||this.runCoreEditingCommand(j,J,ie||{})}}re.CoreEditingCommand=se,re.LineBreakInsert=(0,y.fK)(new class extends se{constructor(){super({id:"lineBreakInsert",precondition:a.u.writable,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(X,$,j){X.pushUndoStop(),X.executeCommands(this.id,m.u.lineBreakInsert($.cursorConfig,$.model,$.getCursorStates().map(ie=>ie.modelState.selection)))}}),re.Outdent=(0,y.fK)(new class extends se{constructor(){super({id:"outdent",precondition:a.u.writable,kbOpts:{weight:T,kbExpr:x.Ao.and(a.u.editorTextFocus,a.u.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(X,$,j){X.pushUndoStop(),X.executeCommands(this.id,m.u.outdent($.cursorConfig,$.model,$.getCursorStates().map(ie=>ie.modelState.selection))),X.pushUndoStop()}}),re.Tab=(0,y.fK)(new class extends se{constructor(){super({id:"tab",precondition:a.u.writable,kbOpts:{weight:T,kbExpr:x.Ao.and(a.u.editorTextFocus,a.u.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(X,$,j){X.pushUndoStop(),X.executeCommands(this.id,m.u.tab($.cursorConfig,$.model,$.getCursorStates().map(ie=>ie.modelState.selection))),X.pushUndoStop()}}),re.DeleteLeft=(0,y.fK)(new class extends se{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(X,$,j){const[ie,J]=_.A.deleteLeft($.getPrevEditOperationType(),$.cursorConfig,$.model,$.getCursorStates().map(oe=>oe.modelState.selection),$.getCursorAutoClosedCharacters());ie&&X.pushUndoStop(),X.executeCommands(this.id,J),$.setPrevEditOperationType(2)}}),re.DeleteRight=(0,y.fK)(new class extends se{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:T,kbExpr:a.u.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(X,$,j){const[ie,J]=_.A.deleteRight($.getPrevEditOperationType(),$.cursorConfig,$.model,$.getCursorStates().map(oe=>oe.modelState.selection));ie&&X.pushUndoStop(),X.executeCommands(this.id,J),$.setPrevEditOperationType(3)}}),re.Undo=new class extends b{constructor(){super(y.n_)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(X,$,j){if(!(!$.hasModel()||$.getOption(81)===!0))return $.getModel().undo()}},re.Redo=new class extends b{constructor(){super(y.kz)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(X,$,j){if(!(!$.hasModel()||$.getOption(81)===!0))return $.getModel().redo()}}})(ae||(ae={}));class me extends y.mY{constructor(se,X,$){super({id:se,precondition:void 0,description:$}),this._handlerId=X}runCommand(se,X){const $=se.get(W.$).getFocusedCodeEditor();!$||$.trigger("keyboard",this._handlerId,X)}}function ge(re,se){ee(new me("default:"+re,re)),ee(new me(re,re,se))}ge("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),ge("replacePreviousChar"),ge("compositionType"),ge("compositionStart"),ge("compositionEnd"),ge("paste"),ge("cut")},73673:function(it,Ee,l){"use strict";l.d(Ee,{CL:function(){return d},Pi:function(){return O},QI:function(){return z}});var C=l(35405);function d(y){return y&&typeof y.getEditorType=="function"?y.getEditorType()===C.g.ICodeEditor:!1}function z(y){return y&&typeof y.getEditorType=="function"?y.getEditorType()===C.g.IDiffEditor:!1}function O(y){return d(y)?y:z(y)?y.getModifiedEditor():null}},80269:function(it,Ee,l){"use strict";l.d(Ee,{N5:function(){return a},Pp:function(){return f},YN:function(){return A},gy:function(){return m},iB:function(){return k},kG:function(){return _},rU:function(){return M},t7:function(){return T},tC:function(){return x}});var C=l(50082),d=l(14401),z=l(26934),O=l(57186),y=l(1405),W=l(58385);class A{constructor(b,P){this.x=b,this.y=P,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new M(this.x-C.DI.scrollX,this.y-C.DI.scrollY)}}class M{constructor(b,P){this.clientX=b,this.clientY=P,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new A(this.clientX+C.DI.scrollX,this.clientY+C.DI.scrollY)}}class I{constructor(b,P,V,H){this.x=b,this.y=P,this.width=V,this.height=H,this._editorPagePositionBrand=void 0}}class w{constructor(b,P){this.x=b,this.y=P,this._positionRelativeToEditorBrand=void 0}}function _(R){const b=C.i(R);return new I(b.left,b.top,b.width,b.height)}function f(R,b,P){const V=b.width/R.offsetWidth,H=b.height/R.offsetHeight,ee=(P.x-b.x)/V,ae=(P.y-b.y)/H;return new w(ee,ae)}class m extends z.n{constructor(b,P){super(b),this._editorMouseEventBrand=void 0,this.pos=new A(this.posx,this.posy),this.editorPos=_(P),this.relativePos=f(P,this.editorPos,this.pos)}}class a{constructor(b){this._editorViewDomNode=b}_create(b){return new m(b,this._editorViewDomNode)}onContextMenu(b,P){return C.nm(b,"contextmenu",V=>{P(this._create(V))})}onMouseUp(b,P){return C.nm(b,"mouseup",V=>{P(this._create(V))})}onMouseDown(b,P){return C.nm(b,"mousedown",V=>{P(this._create(V))})}onMouseLeave(b,P){return C.j_(b,V=>{P(this._create(V))})}onMouseMoveThrottled(b,P,V,H){const ee=(ae,me)=>V(ae,this._create(me));return C.Y_(b,"mousemove",P,ee,H)}}class x{constructor(b){this._editorViewDomNode=b}_create(b){return new m(b,this._editorViewDomNode)}onPointerUp(b,P){return C.nm(b,"pointerup",V=>{P(this._create(V))})}onPointerDown(b,P){return C.nm(b,"pointerdown",V=>{P(this._create(V))})}onPointerLeave(b,P){return C.RE(b,V=>{P(this._create(V))})}onPointerMoveThrottled(b,P,V,H){const ee=(ae,me)=>V(ae,this._create(me));return C.Y_(b,"pointermove",P,ee,H)}}class k extends y.JT{constructor(b){super(),this._editorViewDomNode=b,this._globalMouseMoveMonitor=this._register(new d.Z),this._keydownListener=null}startMonitoring(b,P,V,H,ee){this._keydownListener=C.mu(document,"keydown",me=>{me.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,me.browserEvent)},!0);const ae=(me,ge)=>V(me,new m(ge,this._editorViewDomNode));this._globalMouseMoveMonitor.startMonitoring(b,P,ae,H,me=>{this._keydownListener.dispose(),ee(me)})}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}class T{constructor(b){this._editor=b,this._instanceId=++T._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new O.pY(()=>this.garbageCollect(),1e3)}createClassNameRef(b){const P=this.getOrCreateRule(b);return P.increaseRefCount(),{className:P.className,dispose:()=>{P.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(b){const P=this.computeUniqueKey(b);let V=this._rules.get(P);if(!V){const H=this._counter++;V=new N(P,`dyn-rule-${this._instanceId}-${H}`,C.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,b),this._rules.set(P,V)}return V}computeUniqueKey(b){return JSON.stringify(b)}garbageCollect(){for(const b of this._rules.values())b.hasReferences()||(this._rules.delete(b.key),b.dispose())}}T._idPool=0;class N{constructor(b,P,V,H){this.key=b,this.className=P,this.properties=H,this._referenceCount=0,this._styleElement=C.dS(V),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(b,P){let V=`.${b} {`;for(const H in P){const ee=P[H];let ae;typeof ee=="object"?ae=`var(${(0,W.QO2)(ee.id)})`:ae=ee;const me=L(H);V+=`
	${me}: ${ae};`}return V+=`
}`,V}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function L(R){return R.replace(/(^[A-Z])/,([b])=>b.toLowerCase()).replace(/([A-Z])/g,([b])=>`-${b.toLowerCase()}`)}},20244:function(it,Ee,l){"use strict";l.d(Ee,{AJ:function(){return T},QG:function(){return ae},Qr:function(){return H},R6:function(){return R},Sq:function(){return ie},Uc:function(){return ge},_K:function(){return me},_l:function(){return L},fK:function(){return V},jY:function(){return b},kz:function(){return j},mY:function(){return k},n_:function(){return $},rn:function(){return ee},sb:function(){return P}});var C=l(82215),d=l(47087),z=l(31753),O=l(7747),y=l(20169),W=l(60166),A=l(56878),M=l(58829),I=l(96072),w=l(95024),_=l(82918),f=l(1062),m=l(27983),a=l(37061),x=l(76057);class k{constructor(oe){this.id=oe.id,this.precondition=oe.precondition,this._kbOpts=oe.kbOpts,this._menuOpts=oe.menuOpts,this._description=oe.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const oe=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const ce of oe){let we=ce.kbExpr;this.precondition&&(we?we=I.Ao.and(we,this.precondition):we=this.precondition);const Me={id:this.id,weight:ce.weight,args:ce.args,when:we,primary:ce.primary,secondary:ce.secondary,win:ce.win,linux:ce.linux,mac:ce.mac};_.W.registerKeybindingRule(Me)}}M.P0.registerCommand({id:this.id,handler:(oe,ce)=>this.runCommand(oe,ce),description:this._description})}_registerMenuItem(oe){A.BH.appendMenuItem(oe.menuId,{group:oe.group,command:{id:this.id,title:oe.title,icon:oe.icon,precondition:this.precondition},when:oe.when,order:oe.order})}}class T extends k{constructor(){super(...arguments),this._implementations=[]}addImplementation(oe,ce,we){return this._implementations.push({priority:oe,name:ce,implementation:we}),this._implementations.sort((Me,Ke)=>Ke.priority-Me.priority),{dispose:()=>{for(let Me=0;Me<this._implementations.length;Me++)if(this._implementations[Me].implementation===we){this._implementations.splice(Me,1);return}}}}runCommand(oe,ce){const we=oe.get(x.VZ);we.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const Me of this._implementations){const Ke=Me.implementation(oe,ce);if(Ke)return we.trace(`Command '${this.id}' was handled by '${Me.name}'.`),typeof Ke=="boolean"?void 0:Ke}we.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class N extends k{constructor(oe,ce){super(ce),this.command=oe}runCommand(oe,ce){return this.command.runCommand(oe,ce)}}class L extends k{static bindToContribution(oe){return class extends L{constructor(we){super(we),this._callback=we.handler}runEditorCommand(we,Me,Ke){const De=oe(Me);De&&this._callback(De,Ke)}}}runCommand(oe,ce){const we=oe.get(z.$),Me=we.getFocusedCodeEditor()||we.getActiveCodeEditor();if(!!Me)return Me.invokeWithinContext(Ke=>{if(!!Ke.get(I.i6).contextMatchesRules((0,a.f6)(this.precondition)))return this.runEditorCommand(Ke,Me,ce)})}}class R extends L{constructor(oe){super(R.convertOptions(oe)),this.label=oe.label,this.alias=oe.alias}static convertOptions(oe){let ce;Array.isArray(oe.menuOpts)?ce=oe.menuOpts:oe.menuOpts?ce=[oe.menuOpts]:ce=[];function we(Me){return Me.menuId||(Me.menuId=A.eH.EditorContext),Me.title||(Me.title=oe.label),Me.when=I.Ao.and(oe.precondition,Me.when),Me}return Array.isArray(oe.contextMenuOpts)?ce.push(...oe.contextMenuOpts.map(we)):oe.contextMenuOpts&&ce.push(we(oe.contextMenuOpts)),oe.menuOpts=ce,oe}runEditorCommand(oe,ce,we){return this.reportTelemetry(oe,ce),this.run(oe,ce,we||{})}reportTelemetry(oe,ce){oe.get(m.b).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class b extends R{constructor(){super(...arguments),this._implementations=[]}addImplementation(oe,ce){return this._implementations.push([oe,ce]),this._implementations.sort((we,Me)=>Me[0]-we[0]),{dispose:()=>{for(let we=0;we<this._implementations.length;we++)if(this._implementations[we][1]===ce){this._implementations.splice(we,1);return}}}}run(oe,ce,we){for(const Me of this._implementations){const Ke=Me[1](oe,ce,we);if(Ke)return typeof Ke=="boolean"?void 0:Ke}}}function P(J,oe){M.P0.registerCommand(J,function(ce,...we){const Me=ce.get(w.TG),[Ke,De]=we;(0,a.p_)(d.o.isUri(Ke)),(0,a.p_)(O.L.isIPosition(De));const be=ce.get(y.q).getModel(Ke);if(be){const We=O.L.lift(De);return Me.invokeFunction(oe,be,We,...we.slice(2))}return ce.get(W.S).createModelReference(Ke).then(We=>new Promise((et,Kt)=>{try{const _t=Me.invokeFunction(oe,We.object.textEditorModel,O.L.lift(De),we.slice(2));et(_t)}catch(_t){Kt(_t)}}).finally(()=>{We.dispose()}))})}function V(J){return se.INSTANCE.registerEditorCommand(J),J}function H(J){const oe=new J;return se.INSTANCE.registerEditorAction(oe),oe}function ee(J){return se.INSTANCE.registerEditorAction(J),J}function ae(J){se.INSTANCE.registerEditorAction(J)}function me(J,oe){se.INSTANCE.registerEditorContribution(J,oe)}var ge;(function(J){function oe(De){return se.INSTANCE.getEditorCommand(De)}J.getEditorCommand=oe;function ce(){return se.INSTANCE.getEditorActions()}J.getEditorActions=ce;function we(){return se.INSTANCE.getEditorContributions()}J.getEditorContributions=we;function Me(De){return se.INSTANCE.getEditorContributions().filter(be=>De.indexOf(be.id)>=0)}J.getSomeEditorContributions=Me;function Ke(){return se.INSTANCE.getDiffEditorContributions()}J.getDiffEditorContributions=Ke})(ge||(ge={}));const re={EditorCommonContributions:"editor.contributions"};class se{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(oe,ce){this.editorContributions.push({id:oe,ctor:ce})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(oe){oe.register(),this.editorActions.push(oe)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(oe){oe.register(),this.editorCommands[oe.id]=oe}getEditorCommand(oe){return this.editorCommands[oe]||null}}se.INSTANCE=new se,f.B.add(re.EditorCommonContributions,se.INSTANCE);function X(J){return J.register(),J}const $=X(new T({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:A.eH.MenubarEditMenu,group:"1_do",title:C.N({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:A.eH.CommandPalette,group:"",title:C.N("undo","Undo"),order:1}]}));X(new N($,{id:"default:undo",precondition:void 0}));const j=X(new T({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:A.eH.MenubarEditMenu,group:"1_do",title:C.N({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:A.eH.CommandPalette,group:"",title:C.N("redo","Redo"),order:1}]}));X(new N(j,{id:"default:redo",precondition:void 0}));const ie=X(new T({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:A.eH.MenubarSelectionMenu,group:"1_basic",title:C.N({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:A.eH.CommandPalette,group:"",title:C.N("selectAll","Select All"),order:1}]}))},93167:function(it,Ee,l){"use strict";l.d(Ee,{Gl:function(){return M},fo:function(){return A},vu:function(){return O}});var C=l(95024),d=l(47087),z=l(37061);const O=(0,C.yh)("IWorkspaceEditService");function y(w){return(0,z.Kn)(w)&&(Boolean(w.newUri)||Boolean(w.oldUri))}function W(w){return(0,z.Kn)(w)&&d.o.isUri(w.resource)&&(0,z.Kn)(w.edit)}class A{constructor(_){this.metadata=_}static convert(_){return _.edits.map(f=>{if(W(f))return new M(f.resource,f.edit,f.modelVersionId,f.metadata);if(y(f))return new I(f.oldUri,f.newUri,f.options,f.metadata);throw new Error("Unsupported edit")})}}class M extends A{constructor(_,f,m,a){super(a),this.resource=_,this.textEdit=f,this.versionId=m}}class I extends A{constructor(_,f,m,a){super(a),this.oldResource=_,this.newResource=f,this.options=m}}},31753:function(it,Ee,l){"use strict";l.d(Ee,{$:function(){return d}});var C=l(95024);const d=(0,C.yh)("codeEditorService")},756:function(it,Ee,l){"use strict";l.d(Ee,{Z:function(){return C}});class C{constructor(z,O,y){this._visiblePosition=z,this._visiblePositionScrollDelta=O,this._cursorPosition=y}static capture(z){let O=null,y=0;if(z.getScrollTop()!==0){const W=z.getVisibleRanges();if(W.length>0){O=W[0].getStartPosition();const A=z.getTopForPosition(O.lineNumber,O.column);y=z.getScrollTop()-A}}return new C(O,y,z.getPosition())}restore(z){if(this._visiblePosition){const O=z.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);z.setScrollTop(O+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(z){const O=z.getPosition();if(!this._cursorPosition||!O)return;const y=z.getTopForLineNumber(O.lineNumber)-z.getTopForLineNumber(this._cursorPosition.lineNumber);z.setScrollTop(z.getScrollTop()+y)}}},87360:function(it,Ee,l){"use strict";l.d(Ee,{Gm:function(){return Ja}});var C=l(42641),d=l(20244),z=function(ut,i,c,v){var B=arguments.length,U=B<3?i:v===null?v=Object.getOwnPropertyDescriptor(i,c):v,le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(ut,i,c,v);else for(var Ce=ut.length-1;Ce>=0;Ce--)(le=ut[Ce])&&(U=(B<3?le(U):B>3?le(i,c,U):le(i,c))||U);return B>3&&U&&Object.defineProperty(i,c,U),U},O=function(ut,i){return function(c,v){i(c,v,ut)}};let y=class{constructor(i,c){}dispose(){}};y.ID="editor.contrib.markerDecorations",y=z([O(1,C.i)],y),(0,d._K)(y.ID,y);var W=l(82215),A=l(50082),M=l(91273),I=l(60774),w=l(1405),_=l(22818),f=l(50731),m=l(825),a=l(42893),x=l(24180),k=l(91425),T=l(87567),N=l(32926);function L(ut){const i=ut.wordWrap;i===!0?ut.wordWrap="on":i===!1&&(ut.wordWrap="off");const c=ut.lineNumbers;c===!0?ut.lineNumbers="on":c===!1&&(ut.lineNumbers="off"),ut.autoClosingBrackets===!1&&(ut.autoClosingBrackets="never",ut.autoClosingQuotes="never",ut.autoSurround="never"),ut.cursorBlinking==="visible"&&(ut.cursorBlinking="solid");const U=ut.renderWhitespace;U===!0?ut.renderWhitespace="boundary":U===!1&&(ut.renderWhitespace="none");const le=ut.renderLineHighlight;le===!0?ut.renderLineHighlight="line":le===!1&&(ut.renderLineHighlight="none");const Ce=ut.acceptSuggestionOnEnter;Ce===!0?ut.acceptSuggestionOnEnter="on":Ce===!1&&(ut.acceptSuggestionOnEnter="off");const ke=ut.tabCompletion;ke===!1?ut.tabCompletion="off":ke===!0&&(ut.tabCompletion="onlySnippets");const Oe=ut.suggest;if(Oe&&typeof Oe.filteredTypes=="object"&&Oe.filteredTypes){const un={};un.method="showMethods",un.function="showFunctions",un.constructor="showConstructors",un.deprecated="showDeprecated",un.field="showFields",un.variable="showVariables",un.class="showClasses",un.struct="showStructs",un.interface="showInterfaces",un.module="showModules",un.property="showProperties",un.event="showEvents",un.operator="showOperators",un.unit="showUnits",un.value="showValues",un.constant="showConstants",un.enum="showEnums",un.enumMember="showEnumMembers",un.keyword="showKeywords",un.text="showWords",un.color="showColors",un.file="showFiles",un.reference="showReferences",un.folder="showFolders",un.typeParameter="showTypeParameters",un.snippet="showSnippets",(0,N.E)(un,In=>{const Bn=Oe.filteredTypes[In.key];Bn===!1&&(Oe[In.value]=Bn)})}const Qe=ut.hover;Qe===!0?ut.hover={enabled:!0}:Qe===!1&&(ut.hover={enabled:!1});const qe=ut.parameterHints;qe===!0?ut.parameterHints={enabled:!0}:qe===!1&&(ut.parameterHints={enabled:!1});const Ct=ut.autoIndent;Ct===!0?ut.autoIndent="full":Ct===!1&&(ut.autoIndent="advanced");const Dt=ut.matchBrackets;Dt===!0?ut.matchBrackets="always":Dt===!1&&(ut.matchBrackets="never");const{renderIndentGuides:$t,highlightActiveIndentGuide:qt}=ut;ut.guides||(ut.guides={}),$t!==void 0&&(ut.guides.indentation=!!$t),qt!==void 0&&(ut.guides.highlightActiveIndentation=!!qt)}var R=l(4577),b=l(36143),P=l(42485),V=l(69367),H=l(40761),ee=function(ut,i,c,v){var B=arguments.length,U=B<3?i:v===null?v=Object.getOwnPropertyDescriptor(i,c):v,le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(ut,i,c,v);else for(var Ce=ut.length-1;Ce>=0;Ce--)(le=ut[Ce])&&(U=(B<3?le(U):B>3?le(i,c,U):le(i,c))||U);return B>3&&U&&Object.defineProperty(i,c,U),U},ae=function(ut,i){return function(c,v){i(c,v,ut)}};let me=class extends w.JT{constructor(i,c,v,B){super(),this._accessibilityService=B,this._onDidChange=this._register(new I.Q5),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new I.Q5),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._computeOptionsMemory=new b.LJ,this.isSimpleWidget=i,this._containerObserver=this._register(new k.I(v,c.dimension)),this._rawOptions=j(c),this._validatedOptions=$.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(10)&&this._containerObserver.startObserving(),this._register(P.C.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(R.n.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(T.g.onDidChange(()=>this._recomputeOptions())),this._register(f.PixelRatio.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const i=this._computeOptions(),c=$.checkEquals(this.options,i);c!==null&&(this.options=i,this._onDidChangeFast.fire(c),this._onDidChange.fire(c))}_computeOptions(){const i=this._readEnvConfiguration(),c=V.E4.createFromValidatedSettings(this._validatedOptions,i.pixelRatio,this.isSimpleWidget),v=this._readFontInfo(c),B={memory:this._computeOptionsMemory,outerWidth:i.outerWidth,outerHeight:i.outerHeight-this._reservedHeight,fontInfo:v,extraEditorClassName:i.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:i.emptySelectionClipboard,pixelRatio:i.pixelRatio,tabFocusMode:R.n.getTabFocusMode(),accessibilitySupport:i.accessibilitySupport};return $.computeOptions(this._validatedOptions,B)}_readEnvConfiguration(){return{extraEditorClassName:re(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:f.isWebKit||f.isFirefox,pixelRatio:f.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(i){return T.g.readFontInfo(i)}getRawOptions(){return this._rawOptions}updateOptions(i){const c=j(i);!$.applyUpdate(this._rawOptions,c)||(this._validatedOptions=$.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(i){this._containerObserver.observe(i)}setIsDominatedByLongLines(i){this._isDominatedByLongLines!==i&&(this._isDominatedByLongLines=i,this._recomputeOptions())}setModelLineCount(i){const c=ge(i);this._lineNumbersDigitCount!==c&&(this._lineNumbersDigitCount=c,this._recomputeOptions())}setViewLineCount(i){this._viewLineCount!==i&&(this._viewLineCount=i,this._recomputeOptions())}setReservedHeight(i){this._reservedHeight!==i&&(this._reservedHeight=i,this._recomputeOptions())}};me=ee([ae(3,H.F)],me);function ge(ut){let i=0;for(;ut;)ut=Math.floor(ut/10),i++;return i||1}function re(){let ut="";return!f.isSafari&&!f.isWebkitWebView&&(ut+="no-user-select "),f.isSafari&&(ut+="no-minimap-shadow "),x.dz&&(ut+="mac "),ut}class se{constructor(){this._values=[]}_read(i){return this._values[i]}get(i){return this._values[i]}_write(i,c){this._values[i]=c}}class X{constructor(){this._values=[]}_read(i){if(i>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[i]}get(i){return this._read(i)}_write(i,c){this._values[i]=c}}class ${static validateOptions(i){const c=new se;for(const v of b.Bc){const B=v.name==="_never_"?void 0:i[v.name];c._write(v.id,v.validate(B))}return c}static computeOptions(i,c){const v=new X;for(const B of b.Bc)v._write(B.id,B.compute(c,v,i._read(B.id)));return v}static _deepEquals(i,c){if(typeof i!="object"||typeof c!="object"||!i||!c)return i===c;if(Array.isArray(i)||Array.isArray(c))return Array.isArray(i)&&Array.isArray(c)?m.fS(i,c):!1;if(Object.keys(i).length!==Object.keys(c).length)return!1;for(const v in i)if(!$._deepEquals(i[v],c[v]))return!1;return!0}static checkEquals(i,c){const v=[];let B=!1;for(const U of b.Bc){const le=!$._deepEquals(i._read(U.id),c._read(U.id));v[U.id]=le,le&&(B=!0)}return B?new b.Bb(v):null}static applyUpdate(i,c){let v=!1;for(const B of b.Bc)if(c.hasOwnProperty(B.name)){const U=B.applyUpdate(i[B.name],c[B.name]);i[B.name]=U.newValue,v=v||U.didChange}return v}}function j(ut){const i=a.I8(ut);return L(i),i}var ie=l(31753),J=l(83141),oe=l(34653),ce=l(50364),we=l(26934),Me=l(57186),Ke=l(80269);class De extends w.JT{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(i){return!1}onCompositionEnd(i){return!1}onConfigurationChanged(i){return!1}onCursorStateChanged(i){return!1}onDecorationsChanged(i){return!1}onFlushed(i){return!1}onFocusChanged(i){return!1}onLanguageConfigurationChanged(i){return!1}onLineMappingChanged(i){return!1}onLinesChanged(i){return!1}onLinesDeleted(i){return!1}onLinesInserted(i){return!1}onRevealRangeRequest(i){return!1}onScrollChanged(i){return!1}onThemeChanged(i){return!1}onTokensChanged(i){return!1}onTokensColorsChanged(i){return!1}onZonesChanged(i){return!1}handleEvents(i){let c=!1;for(let v=0,B=i.length;v<B;v++){const U=i[v];switch(U.type){case 0:this.onCompositionStart(U)&&(c=!0);break;case 1:this.onCompositionEnd(U)&&(c=!0);break;case 2:this.onConfigurationChanged(U)&&(c=!0);break;case 3:this.onCursorStateChanged(U)&&(c=!0);break;case 4:this.onDecorationsChanged(U)&&(c=!0);break;case 5:this.onFlushed(U)&&(c=!0);break;case 6:this.onFocusChanged(U)&&(c=!0);break;case 7:this.onLanguageConfigurationChanged(U)&&(c=!0);break;case 8:this.onLineMappingChanged(U)&&(c=!0);break;case 9:this.onLinesChanged(U)&&(c=!0);break;case 10:this.onLinesDeleted(U)&&(c=!0);break;case 11:this.onLinesInserted(U)&&(c=!0);break;case 12:this.onRevealRangeRequest(U)&&(c=!0);break;case 13:this.onScrollChanged(U)&&(c=!0);break;case 15:this.onTokensChanged(U)&&(c=!0);break;case 14:this.onThemeChanged(U)&&(c=!0);break;case 16:this.onTokensColorsChanged(U)&&(c=!0);break;case 17:this.onZonesChanged(U)&&(c=!0);break;default:console.info("View received unknown event: "),console.info(U)}}c&&(this._shouldRender=!0)}}class be extends De{constructor(i){super(),this._context=i,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class We{static write(i,c){i.setAttribute("data-mprt",String(c))}static read(i){const c=i.getAttribute("data-mprt");return c===null?0:parseInt(c,10)}static collect(i,c){const v=[];let B=0;for(;i&&i!==document.body&&i!==c;)i.nodeType===i.ELEMENT_NODE&&(v[B++]=this.read(i)),i=i.parentElement;const U=new Uint8Array(B);for(let le=0;le<B;le++)U[le]=v[B-le-1];return U}}class et{constructor(i,c){this._restrictedRenderingContextBrand=void 0,this._viewLayout=i,this.viewportData=c,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const v=this._viewLayout.getCurrentViewport();this.scrollTop=v.top,this.scrollLeft=v.left,this.viewportWidth=v.width,this.viewportHeight=v.height}getScrolledTopFromAbsoluteTop(i){return i-this.scrollTop}getVerticalOffsetForLineNumber(i){return this._viewLayout.getVerticalOffsetForLineNumber(i)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class Kt extends et{constructor(i,c,v){super(i,c),this._renderingContextBrand=void 0,this._viewLines=v}linesVisibleRangesForRange(i,c){return this._viewLines.linesVisibleRangesForRange(i,c)}visibleRangeForPosition(i){return this._viewLines.visibleRangeForPosition(i)}}class _t{constructor(i,c,v){this.outsideRenderedLine=i,this.lineNumber=c,this.ranges=v}}class tt{constructor(i,c){this._horizontalRangeBrand=void 0,this.left=Math.round(i),this.width=Math.round(c)}static from(i){const c=new Array(i.length);for(let v=0,B=i.length;v<B;v++){const U=i[v];c[v]=new tt(U.left,U.width)}return c}toString(){return`[${this.left},${this.width}]`}}class kt{constructor(i,c){this._floatHorizontalRangeBrand=void 0,this.left=i,this.width=c}toString(){return`[${this.left},${this.width}]`}static compare(i,c){return i.left-c.left}}class Ut{constructor(i,c){this.outsideRenderedLine=i,this.originalLeft=c,this.left=Math.round(this.originalLeft)}}class Ft{constructor(i,c){this.outsideRenderedLine=i,this.ranges=c}}class Te{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(i,c){i.selectNodeContents(c)}static _readClientRects(i,c,v,B,U){const le=this._createRange();try{return le.setStart(i,c),le.setEnd(v,B),le.getClientRects()}catch(Ce){return null}finally{this._detachRange(le,U)}}static _mergeAdjacentRanges(i){if(i.length===1)return i;i.sort(kt.compare);const c=[];let v=0,B=i[0];for(let U=1,le=i.length;U<le;U++){const Ce=i[U];B.left+B.width+.9>=Ce.left?B.width=Math.max(B.width,Ce.left+Ce.width-B.left):(c[v++]=B,B=Ce)}return c[v++]=B,c}static _createHorizontalRangesFromClientRects(i,c,v){if(!i||i.length===0)return null;const B=[];for(let U=0,le=i.length;U<le;U++){const Ce=i[U];B[U]=new kt(Math.max(0,(Ce.left-c)/v),Ce.width/v)}return this._mergeAdjacentRanges(B)}static readHorizontalRanges(i,c,v,B,U,le,Ce,ke){const Qe=i.children.length-1;if(0>Qe)return null;if(c=Math.min(Qe,Math.max(0,c)),B=Math.min(Qe,Math.max(0,B)),c===B&&v===U&&v===0&&!i.children[c].firstChild){const $t=i.children[c].getClientRects();return this._createHorizontalRangesFromClientRects($t,le,Ce)}c!==B&&B>0&&U===0&&(B--,U=1073741824);let qe=i.children[c].firstChild,Ct=i.children[B].firstChild;if((!qe||!Ct)&&(!qe&&v===0&&c>0&&(qe=i.children[c-1].firstChild,v=1073741824),!Ct&&U===0&&B>0&&(Ct=i.children[B-1].firstChild,U=1073741824)),!qe||!Ct)return null;v=Math.min(qe.textContent.length,Math.max(0,v)),U=Math.min(Ct.textContent.length,Math.max(0,U));const Dt=this._readClientRects(qe,v,Ct,U,ke);return this._createHorizontalRangesFromClientRects(Dt,le,Ce)}}var Ge=l(7144),Et=l(52664),Wt=l(48475);const Ze=function(){return x.tY?!0:!(x.IJ||f.isFirefox||f.isSafari)}();let xe=!0;class ve{constructor(i,c){this._domNode=i,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1,this.endNode=c}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const i=this._domNode.getBoundingClientRect();this._clientRectDeltaLeft=i.left,this._clientRectScale=i.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}}class $e{constructor(i,c){this.themeType=c;const v=i.options,B=v.get(44);this.renderWhitespace=v.get(88),this.renderControlCharacters=v.get(83),this.spaceWidth=B.spaceWidth,this.middotWidth=B.middotWidth,this.wsmiddotWidth=B.wsmiddotWidth,this.useMonospaceOptimizations=B.isMonospace&&!v.get(29),this.canUseHalfwidthRightwardsArrow=B.canUseHalfwidthRightwardsArrow,this.lineHeight=v.get(59),this.stopRenderingLineAfter=v.get(105),this.fontLigatures=v.get(45)}equals(i){return this.themeType===i.themeType&&this.renderWhitespace===i.renderWhitespace&&this.renderControlCharacters===i.renderControlCharacters&&this.spaceWidth===i.spaceWidth&&this.middotWidth===i.middotWidth&&this.wsmiddotWidth===i.wsmiddotWidth&&this.useMonospaceOptimizations===i.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===i.canUseHalfwidthRightwardsArrow&&this.lineHeight===i.lineHeight&&this.stopRenderingLineAfter===i.stopRenderingLineAfter&&this.fontLigatures===i.fontLigatures}}class at{constructor(i){this._options=i,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(i){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,oe.X)(i);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(i){this._isMaybeInvalid=!0,this._options=i}onSelectionChanged(){return this._options.themeType===Wt.e.HIGH_CONTRAST||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(i,c,v,B){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const U=v.getViewLineRenderingData(i),le=this._options,Ce=Ge.Kp.filter(U.inlineDecorations,i,U.minColumn,U.maxColumn);let ke=null;if(le.themeType===Wt.e.HIGH_CONTRAST||this._options.renderWhitespace==="selection"){const Ct=v.selections;for(const Dt of Ct){if(Dt.endLineNumber<i||Dt.startLineNumber>i)continue;const $t=Dt.startLineNumber===i?Dt.startColumn:U.minColumn,qt=Dt.endLineNumber===i?Dt.endColumn:U.maxColumn;$t<qt&&(le.themeType===Wt.e.HIGH_CONTRAST||this._options.renderWhitespace!=="selection"?Ce.push(new Ge.Kp($t,qt,"inline-selected-text",0)):(ke||(ke=[]),ke.push(new Et.zG($t-1,qt-1))))}}const Oe=new Et.IJ(le.useMonospaceOptimizations,le.canUseHalfwidthRightwardsArrow,U.content,U.continuesWithWrappedLine,U.isBasicASCII,U.containsRTL,U.minColumn-1,U.tokens,Ce,U.tabSize,U.startVisibleColumn,le.spaceWidth,le.middotWidth,le.wsmiddotWidth,le.stopRenderingLineAfter,le.renderWhitespace,le.renderControlCharacters,le.fontLigatures!==b.n0.OFF,ke);if(this._renderedViewLine&&this._renderedViewLine.input.equals(Oe))return!1;B.appendASCIIString('<div style="top:'),B.appendASCIIString(String(c)),B.appendASCIIString("px;height:"),B.appendASCIIString(String(this._options.lineHeight)),B.appendASCIIString('px;" class="'),B.appendASCIIString(at.CLASS_NAME),B.appendASCIIString('">');const Qe=(0,Et.d1)(Oe,B);B.appendASCIIString("</div>");let qe=null;return xe&&Ze&&U.isBasicASCII&&le.useMonospaceOptimizations&&Qe.containsForeignElements===0&&U.content.length<300&&Oe.lineTokens.getCount()<100&&(qe=new Tt(this._renderedViewLine?this._renderedViewLine.domNode:null,Oe,Qe.characterMapping)),qe||(qe=Rt(this._renderedViewLine?this._renderedViewLine.domNode:null,Oe,Qe.characterMapping,Qe.containsRTL,Qe.containsForeignElements)),this._renderedViewLine=qe,!0}layoutLine(i,c){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(c),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof Tt:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof Tt?this._renderedViewLine.monospaceAssumptionsAreValid():xe}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof Tt&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(i,c,v,B){if(!this._renderedViewLine)return null;c=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,c)),v=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,v));const U=this._renderedViewLine.input.stopRenderingLineAfter;let le=!1;U!==-1&&c>U+1&&v>U+1&&(le=!0),U!==-1&&c>U+1&&(c=U+1),U!==-1&&v>U+1&&(v=U+1);const Ce=this._renderedViewLine.getVisibleRangesForRange(i,c,v,B);return Ce&&Ce.length>0?new Ft(le,Ce):null}getColumnOfNodeOffset(i,c,v){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(i,c,v):1}}at.CLASS_NAME="view-line";class Tt{constructor(i,c,v){this.domNode=i,this.input=c,this._characterMapping=v,this._charWidth=c.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return xe;const i=this.getWidth(),c=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(i-c)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),xe=!1),xe}toSlowRenderedLine(){return Rt(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(i,c,v,B){const U=this._getCharPosition(c),le=this._getCharPosition(v);return[new kt(U,le-U)]}_getCharPosition(i){const c=this._characterMapping.getAbsoluteOffset(i);return this._charWidth*c}getColumnOfNodeOffset(i,c,v){const B=c.textContent.length;let U=-1;for(;c;)c=c.previousSibling,U++;return this._characterMapping.getColumn(new Et.Nd(U,v),B)}}class Mt{constructor(i,c,v,B,U){if(this.domNode=i,this.input=c,this._characterMapping=v,this._isWhitespaceOnly=/^\s*$/.test(c.lineContent),this._containsForeignElements=U,this._cachedWidth=-1,this._pixelOffsetCache=null,!B||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let le=0,Ce=this._characterMapping.length;le<=Ce;le++)this._pixelOffsetCache[le]=-1}}_getReadingTarget(i){return i.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(i,c,v,B){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const U=this._readPixelOffset(this.domNode,i,c,B);if(U===-1)return null;const le=this._readPixelOffset(this.domNode,i,v,B);return le===-1?null:[new kt(U,le-U)]}return this._readVisibleRangesForRange(this.domNode,i,c,v,B)}_readVisibleRangesForRange(i,c,v,B,U){if(v===B){const le=this._readPixelOffset(i,c,v,U);return le===-1?null:[new kt(le,0)]}else return this._readRawVisibleRangesForRange(i,v,B,U)}_readPixelOffset(i,c,v,B){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const U=this._getReadingTarget(i);return U.firstChild?U.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const U=this._pixelOffsetCache[v];if(U!==-1)return U;const le=this._actualReadPixelOffset(i,c,v,B);return this._pixelOffsetCache[v]=le,le}return this._actualReadPixelOffset(i,c,v,B)}_actualReadPixelOffset(i,c,v,B){if(this._characterMapping.length===0){const ke=Te.readHorizontalRanges(this._getReadingTarget(i),0,0,0,0,B.clientRectDeltaLeft,B.clientRectScale,B.endNode);return!ke||ke.length===0?-1:ke[0].left}if(v===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const U=this._characterMapping.getDomPosition(v),le=Te.readHorizontalRanges(this._getReadingTarget(i),U.partIndex,U.charIndex,U.partIndex,U.charIndex,B.clientRectDeltaLeft,B.clientRectScale,B.endNode);if(!le||le.length===0)return-1;const Ce=le[0].left;if(this.input.isBasicASCII){const ke=this._characterMapping.getAbsoluteOffset(v),Oe=Math.round(this.input.spaceWidth*ke);if(Math.abs(Oe-Ce)<=1)return Oe}return Ce}_readRawVisibleRangesForRange(i,c,v,B){if(c===1&&v===this._characterMapping.length)return[new kt(0,this.getWidth())];const U=this._characterMapping.getDomPosition(c),le=this._characterMapping.getDomPosition(v);return Te.readHorizontalRanges(this._getReadingTarget(i),U.partIndex,U.charIndex,le.partIndex,le.charIndex,B.clientRectDeltaLeft,B.clientRectScale,B.endNode)}getColumnOfNodeOffset(i,c,v){const B=c.textContent.length;let U=-1;for(;c;)c=c.previousSibling,U++;return this._characterMapping.getColumn(new Et.Nd(U,v),B)}}class gt extends Mt{_readVisibleRangesForRange(i,c,v,B,U){const le=super._readVisibleRangesForRange(i,c,v,B,U);if(!le||le.length===0||v===B||v===1&&B===this._characterMapping.length)return le;if(!this.input.containsRTL){const Ce=this._readPixelOffset(i,c,B,U);if(Ce!==-1){const ke=le[le.length-1];ke.left<Ce&&(ke.width=Ce-ke.left)}}return le}}const Rt=function(){return f.isWebKit?Zt:hn}();function Zt(ut,i,c,v,B){return new gt(ut,i,c,v,B)}function hn(ut,i,c,v,B){return new Mt(ut,i,c,v,B)}var Pe=l(7747),en=l(50757),vt=l(22761),Le=l(87216);class nn{constructor(i=null){this.hitTarget=i,this.type=0}}class sn{constructor(i,c,v){this.position=i,this.spanNode=c,this.injectedText=v,this.type=1}}var ei;(function(ut){function i(c,v,B){const U=c.getPositionFromDOMInfo(v,B);return U?new sn(U,v,null):new nn(v)}ut.createFromDOMInfo=i})(ei||(ei={}));class wn{constructor(i,c){this.lastViewCursorsRenderData=i,this.lastTextareaPosition=c}}class Ne{static _deduceRage(i,c=null){return!c&&i?new en.e(i.lineNumber,i.column,i.lineNumber,i.column):c!=null?c:null}static createUnknown(i,c,v){return{type:0,element:i,mouseColumn:c,position:v,range:this._deduceRage(v)}}static createTextarea(i,c){return{type:1,element:i,mouseColumn:c,position:null,range:null}}static createMargin(i,c,v,B,U,le){return{type:i,element:c,mouseColumn:v,position:B,range:U,detail:le}}static createViewZone(i,c,v,B,U){return{type:i,element:c,mouseColumn:v,position:B,range:this._deduceRage(B),detail:U}}static createContentText(i,c,v,B,U){return{type:6,element:i,mouseColumn:c,position:v,range:this._deduceRage(v,B),detail:U}}static createContentEmpty(i,c,v,B){return{type:7,element:i,mouseColumn:c,position:v,range:this._deduceRage(v),detail:B}}static createContentWidget(i,c,v){return{type:9,element:i,mouseColumn:c,position:null,range:null,detail:v}}static createScrollbar(i,c,v){return{type:11,element:i,mouseColumn:c,position:v,range:this._deduceRage(v)}}static createOverlayWidget(i,c,v){return{type:12,element:i,mouseColumn:c,position:null,range:null,detail:v}}static createOutsideEditor(i,c){return{type:13,element:null,mouseColumn:i,position:c,range:this._deduceRage(c)}}static _typeToString(i){return i===1?"TEXTAREA":i===2?"GUTTER_GLYPH_MARGIN":i===3?"GUTTER_LINE_NUMBERS":i===4?"GUTTER_LINE_DECORATIONS":i===5?"GUTTER_VIEW_ZONE":i===6?"CONTENT_TEXT":i===7?"CONTENT_EMPTY":i===8?"CONTENT_VIEW_ZONE":i===9?"CONTENT_WIDGET":i===10?"OVERVIEW_RULER":i===11?"SCROLLBAR":i===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(i){return this._typeToString(i.type)+": "+i.position+" - "+i.range+" - "+JSON.stringify(i.detail)}}class Fe{static isTextArea(i){return i.length===2&&i[0]===3&&i[1]===6}static isChildOfViewLines(i){return i.length>=4&&i[0]===3&&i[3]===7}static isStrictChildOfViewLines(i){return i.length>4&&i[0]===3&&i[3]===7}static isChildOfScrollableElement(i){return i.length>=2&&i[0]===3&&i[1]===5}static isChildOfMinimap(i){return i.length>=2&&i[0]===3&&i[1]===8}static isChildOfContentWidgets(i){return i.length>=4&&i[0]===3&&i[3]===1}static isChildOfOverflowingContentWidgets(i){return i.length>=1&&i[0]===2}static isChildOfOverlayWidgets(i){return i.length>=2&&i[0]===3&&i[1]===4}}class ht{constructor(i,c,v){this.viewModel=i.viewModel;const B=i.configuration.options;this.layoutInfo=B.get(131),this.viewDomNode=c.viewDomNode,this.lineHeight=B.get(59),this.stickyTabStops=B.get(104),this.typicalHalfwidthCharacterWidth=B.get(44).typicalHalfwidthCharacterWidth,this.lastRenderData=v,this._context=i,this._viewHelper=c}getZoneAtCoord(i){return ht.getZoneAtCoord(this._context,i)}static getZoneAtCoord(i,c){const v=i.viewLayout.getWhitespaceAtVerticalOffset(c);if(v){const B=v.verticalOffset+v.height/2,U=i.viewModel.getLineCount();let le=null,Ce,ke=null;return v.afterLineNumber!==U&&(ke=new Pe.L(v.afterLineNumber+1,1)),v.afterLineNumber>0&&(le=new Pe.L(v.afterLineNumber,i.viewModel.getLineMaxColumn(v.afterLineNumber))),ke===null?Ce=le:le===null?Ce=ke:c<B?Ce=le:Ce=ke,{viewZoneId:v.id,afterLineNumber:v.afterLineNumber,positionBefore:le,positionAfter:ke,position:Ce}}return null}getFullLineRangeAtCoord(i){if(this._context.viewLayout.isAfterLines(i)){const B=this._context.viewModel.getLineCount(),U=this._context.viewModel.getLineMaxColumn(B);return{range:new en.e(B,U,B,U),isAfterLines:!0}}const c=this._context.viewLayout.getLineNumberAtVerticalOffset(i),v=this._context.viewModel.getLineMaxColumn(c);return{range:new en.e(c,1,c,v),isAfterLines:!1}}getLineNumberAtVerticalOffset(i){return this._context.viewLayout.getLineNumberAtVerticalOffset(i)}isAfterLines(i){return this._context.viewLayout.isAfterLines(i)}isInTopPadding(i){return this._context.viewLayout.isInTopPadding(i)}isInBottomPadding(i){return this._context.viewLayout.isInBottomPadding(i)}getVerticalOffsetForLineNumber(i){return this._context.viewLayout.getVerticalOffsetForLineNumber(i)}findAttribute(i,c){return ht._findAttribute(i,c,this._viewHelper.viewDomNode)}static _findAttribute(i,c,v){for(;i&&i!==document.body;){if(i.hasAttribute&&i.hasAttribute(c))return i.getAttribute(c);if(i===v)return null;i=i.parentNode}return null}getLineWidth(i){return this._viewHelper.getLineWidth(i)}visibleRangeForPosition(i,c){return this._viewHelper.visibleRangeForPosition(i,c)}getPositionFromDOMInfo(i,c){return this._viewHelper.getPositionFromDOMInfo(i,c)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class Qt{constructor(i,c,v,B){this.editorPos=c,this.pos=v,this.relativePos=B,this.mouseVerticalOffset=Math.max(0,i.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=i.getCurrentScrollLeft()+this.relativePos.x-i.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<i.layoutInfo.contentLeft&&this.relativePos.x>=i.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,lt._getMouseColumn(this.mouseContentHorizontalOffset,i.typicalHalfwidthCharacterWidth))}}class dn extends Qt{constructor(i,c,v,B,U){super(i,c,v,B),this._ctx=i,U?(this.target=U,this.targetPath=We.collect(U,i.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(i=null){return i&&i.column<this._ctx.viewModel.getLineMaxColumn(i.lineNumber)?vt.i.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(i.lineNumber),i.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(i=null){return Ne.createUnknown(this.target,this._getMouseColumn(i),i)}fulfillTextarea(){return Ne.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(i,c,v,B){return Ne.createMargin(i,this.target,this._getMouseColumn(c),c,v,B)}fulfillViewZone(i,c,v){return Ne.createViewZone(i,this.target,this._getMouseColumn(c),c,v)}fulfillContentText(i,c,v){return Ne.createContentText(this.target,this._getMouseColumn(i),i,c,v)}fulfillContentEmpty(i,c){return Ne.createContentEmpty(this.target,this._getMouseColumn(i),i,c)}fulfillContentWidget(i){return Ne.createContentWidget(this.target,this._getMouseColumn(),i)}fulfillScrollbar(i){return Ne.createScrollbar(this.target,this._getMouseColumn(i),i)}fulfillOverlayWidget(i){return Ne.createOverlayWidget(this.target,this._getMouseColumn(),i)}withTarget(i){return new dn(this._ctx,this.editorPos,this.pos,this.relativePos,i)}}const gn={isAfterLines:!0};function Ht(ut){return{isAfterLines:!1,horizontalDistanceToText:ut}}class lt{constructor(i,c){this._context=i,this._viewHelper=c}mouseTargetIsWidget(i){const c=i.target,v=We.collect(c,this._viewHelper.viewDomNode);return!!(Fe.isChildOfContentWidgets(v)||Fe.isChildOfOverflowingContentWidgets(v)||Fe.isChildOfOverlayWidgets(v))}createMouseTarget(i,c,v,B,U){const le=new ht(this._context,this._viewHelper,i),Ce=new dn(le,c,v,B,U);try{return lt._createMouseTarget(le,Ce,!1)}catch(ke){return Ce.fulfillUnknown()}}static _createMouseTarget(i,c,v){if(c.target===null){if(v)return c.fulfillUnknown();const le=lt._doHitTest(i,c);return le.type===1?lt.createMouseTargetFromHitTestPosition(i,c,le.spanNode,le.position,le.injectedText):this._createMouseTarget(i,c.withTarget(le.hitTarget),!0)}const B=c;let U=null;return U=U||lt._hitTestContentWidget(i,B),U=U||lt._hitTestOverlayWidget(i,B),U=U||lt._hitTestMinimap(i,B),U=U||lt._hitTestScrollbarSlider(i,B),U=U||lt._hitTestViewZone(i,B),U=U||lt._hitTestMargin(i,B),U=U||lt._hitTestViewCursor(i,B),U=U||lt._hitTestTextArea(i,B),U=U||lt._hitTestViewLines(i,B,v),U=U||lt._hitTestScrollbar(i,B),U||c.fulfillUnknown()}static _hitTestContentWidget(i,c){if(Fe.isChildOfContentWidgets(c.targetPath)||Fe.isChildOfOverflowingContentWidgets(c.targetPath)){const v=i.findAttribute(c.target,"widgetId");return v?c.fulfillContentWidget(v):c.fulfillUnknown()}return null}static _hitTestOverlayWidget(i,c){if(Fe.isChildOfOverlayWidgets(c.targetPath)){const v=i.findAttribute(c.target,"widgetId");return v?c.fulfillOverlayWidget(v):c.fulfillUnknown()}return null}static _hitTestViewCursor(i,c){if(c.target){const v=i.lastRenderData.lastViewCursorsRenderData;for(const B of v)if(c.target===B.domNode)return c.fulfillContentText(B.position,null,{mightBeForeignElement:!1,injectedText:null})}if(c.isInContentArea){const v=i.lastRenderData.lastViewCursorsRenderData,B=c.mouseContentHorizontalOffset,U=c.mouseVerticalOffset;for(const le of v){if(B<le.contentLeft||B>le.contentLeft+le.width)continue;const Ce=i.getVerticalOffsetForLineNumber(le.position.lineNumber);if(Ce<=U&&U<=Ce+le.height)return c.fulfillContentText(le.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(i,c){const v=i.getZoneAtCoord(c.mouseVerticalOffset);if(v){const B=c.isInContentArea?8:5;return c.fulfillViewZone(B,v.position,v)}return null}static _hitTestTextArea(i,c){return Fe.isTextArea(c.targetPath)?i.lastRenderData.lastTextareaPosition?c.fulfillContentText(i.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):c.fulfillTextarea():null}static _hitTestMargin(i,c){if(c.isInMarginArea){const v=i.getFullLineRangeAtCoord(c.mouseVerticalOffset),B=v.range.getStartPosition();let U=Math.abs(c.relativePos.x);const le={isAfterLines:v.isAfterLines,glyphMarginLeft:i.layoutInfo.glyphMarginLeft,glyphMarginWidth:i.layoutInfo.glyphMarginWidth,lineNumbersWidth:i.layoutInfo.lineNumbersWidth,offsetX:U};return U-=i.layoutInfo.glyphMarginLeft,U<=i.layoutInfo.glyphMarginWidth?c.fulfillMargin(2,B,v.range,le):(U-=i.layoutInfo.glyphMarginWidth,U<=i.layoutInfo.lineNumbersWidth?c.fulfillMargin(3,B,v.range,le):(U-=i.layoutInfo.lineNumbersWidth,c.fulfillMargin(4,B,v.range,le)))}return null}static _hitTestViewLines(i,c,v){if(!Fe.isChildOfViewLines(c.targetPath))return null;if(i.isInTopPadding(c.mouseVerticalOffset))return c.fulfillContentEmpty(new Pe.L(1,1),gn);if(i.isAfterLines(c.mouseVerticalOffset)||i.isInBottomPadding(c.mouseVerticalOffset)){const U=i.viewModel.getLineCount(),le=i.viewModel.getLineMaxColumn(U);return c.fulfillContentEmpty(new Pe.L(U,le),gn)}if(v){if(Fe.isStrictChildOfViewLines(c.targetPath)){const U=i.getLineNumberAtVerticalOffset(c.mouseVerticalOffset);if(i.viewModel.getLineLength(U)===0){const Ce=i.getLineWidth(U),ke=Ht(c.mouseContentHorizontalOffset-Ce);return c.fulfillContentEmpty(new Pe.L(U,1),ke)}const le=i.getLineWidth(U);if(c.mouseContentHorizontalOffset>=le){const Ce=Ht(c.mouseContentHorizontalOffset-le),ke=new Pe.L(U,i.viewModel.getLineMaxColumn(U));return c.fulfillContentEmpty(ke,Ce)}}return c.fulfillUnknown()}const B=lt._doHitTest(i,c);return B.type===1?lt.createMouseTargetFromHitTestPosition(i,c,B.spanNode,B.position,B.injectedText):this._createMouseTarget(i,c.withTarget(B.hitTarget),!0)}static _hitTestMinimap(i,c){if(Fe.isChildOfMinimap(c.targetPath)){const v=i.getLineNumberAtVerticalOffset(c.mouseVerticalOffset),B=i.viewModel.getLineMaxColumn(v);return c.fulfillScrollbar(new Pe.L(v,B))}return null}static _hitTestScrollbarSlider(i,c){if(Fe.isChildOfScrollableElement(c.targetPath)&&c.target&&c.target.nodeType===1){const v=c.target.className;if(v&&/\b(slider|scrollbar)\b/.test(v)){const B=i.getLineNumberAtVerticalOffset(c.mouseVerticalOffset),U=i.viewModel.getLineMaxColumn(B);return c.fulfillScrollbar(new Pe.L(B,U))}}return null}static _hitTestScrollbar(i,c){if(Fe.isChildOfScrollableElement(c.targetPath)){const v=i.getLineNumberAtVerticalOffset(c.mouseVerticalOffset),B=i.viewModel.getLineMaxColumn(v);return c.fulfillScrollbar(new Pe.L(v,B))}return null}getMouseColumn(i){const c=this._context.configuration.options,v=c.get(131),B=this._context.viewLayout.getCurrentScrollLeft()+i.x-v.contentLeft;return lt._getMouseColumn(B,c.get(44).typicalHalfwidthCharacterWidth)}static _getMouseColumn(i,c){return i<0?1:Math.round(i/c)+1}static createMouseTargetFromHitTestPosition(i,c,v,B,U){const le=B.lineNumber,Ce=B.column,ke=i.getLineWidth(le);if(c.mouseContentHorizontalOffset>ke){const un=Ht(c.mouseContentHorizontalOffset-ke);return c.fulfillContentEmpty(B,un)}const Oe=i.visibleRangeForPosition(le,Ce);if(!Oe)return c.fulfillUnknown(B);const Qe=Oe.left;if(c.mouseContentHorizontalOffset===Qe)return c.fulfillContentText(B,null,{mightBeForeignElement:!!U,injectedText:U});const qe=[];if(qe.push({offset:Oe.left,column:Ce}),Ce>1){const un=i.visibleRangeForPosition(le,Ce-1);un&&qe.push({offset:un.left,column:Ce-1})}const Ct=i.viewModel.getLineMaxColumn(le);if(Ce<Ct){const un=i.visibleRangeForPosition(le,Ce+1);un&&qe.push({offset:un.left,column:Ce+1})}qe.sort((un,In)=>un.offset-In.offset);const Dt=c.pos.toClientCoordinates(),$t=v.getBoundingClientRect(),qt=$t.left<=Dt.clientX&&Dt.clientX<=$t.right;for(let un=1;un<qe.length;un++){const In=qe[un-1],Bn=qe[un];if(In.offset<=c.mouseContentHorizontalOffset&&c.mouseContentHorizontalOffset<=Bn.offset){const Vn=new en.e(le,In.column,le,Bn.column);return c.fulfillContentText(B,Vn,{mightBeForeignElement:!qt||!!U,injectedText:U})}}return c.fulfillContentText(B,null,{mightBeForeignElement:!qt||!!U,injectedText:U})}static _doHitTestWithCaretRangeFromPoint(i,c){const v=i.getLineNumberAtVerticalOffset(c.mouseVerticalOffset),U=i.getVerticalOffsetForLineNumber(v)+Math.floor(i.lineHeight/2);let le=c.pos.y+(U-c.mouseVerticalOffset);le<=c.editorPos.y&&(le=c.editorPos.y+1),le>=c.editorPos.y+c.editorPos.height&&(le=c.editorPos.y+c.editorPos.height-1);const Ce=new Ke.YN(c.pos.x,le),ke=this._actualDoHitTestWithCaretRangeFromPoint(i,Ce.toClientCoordinates());return ke.type===1?ke:this._actualDoHitTestWithCaretRangeFromPoint(i,c.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(i,c){const v=A.Ay(i.viewDomNode);let B;if(v?typeof v.caretRangeFromPoint=="undefined"?B=Cn(v,c.clientX,c.clientY):B=v.caretRangeFromPoint(c.clientX,c.clientY):B=document.caretRangeFromPoint(c.clientX,c.clientY),!B||!B.startContainer)return new nn;const U=B.startContainer;if(U.nodeType===U.TEXT_NODE){const le=U.parentNode,Ce=le?le.parentNode:null,ke=Ce?Ce.parentNode:null;return(ke&&ke.nodeType===ke.ELEMENT_NODE?ke.className:null)===at.CLASS_NAME?ei.createFromDOMInfo(i,le,B.startOffset):new nn(U.parentNode)}else if(U.nodeType===U.ELEMENT_NODE){const le=U.parentNode,Ce=le?le.parentNode:null;return(Ce&&Ce.nodeType===Ce.ELEMENT_NODE?Ce.className:null)===at.CLASS_NAME?ei.createFromDOMInfo(i,U,U.textContent.length):new nn(U)}return new nn}static _doHitTestWithCaretPositionFromPoint(i,c){const v=document.caretPositionFromPoint(c.clientX,c.clientY);if(v.offsetNode.nodeType===v.offsetNode.TEXT_NODE){const B=v.offsetNode.parentNode,U=B?B.parentNode:null,le=U?U.parentNode:null;return(le&&le.nodeType===le.ELEMENT_NODE?le.className:null)===at.CLASS_NAME?ei.createFromDOMInfo(i,v.offsetNode.parentNode,v.offset):new nn(v.offsetNode.parentNode)}if(v.offsetNode.nodeType===v.offsetNode.ELEMENT_NODE){const B=v.offsetNode.parentNode,U=B&&B.nodeType===B.ELEMENT_NODE?B.className:null,le=B?B.parentNode:null,Ce=le&&le.nodeType===le.ELEMENT_NODE?le.className:null;if(U===at.CLASS_NAME){const ke=v.offsetNode.childNodes[Math.min(v.offset,v.offsetNode.childNodes.length-1)];if(ke)return ei.createFromDOMInfo(i,ke,0)}else if(Ce===at.CLASS_NAME)return ei.createFromDOMInfo(i,v.offsetNode,0)}return new nn(v.offsetNode)}static _snapToSoftTabBoundary(i,c){const v=c.getLineContent(i.lineNumber),{tabSize:B}=c.model.getOptions(),U=Le.l.atomicPosition(v,i.column-1,B,2);return U!==-1?new Pe.L(i.lineNumber,U+1):i}static _doHitTest(i,c){let v=new nn;if(typeof document.caretRangeFromPoint=="function"?v=this._doHitTestWithCaretRangeFromPoint(i,c):document.caretPositionFromPoint&&(v=this._doHitTestWithCaretPositionFromPoint(i,c.pos.toClientCoordinates())),v.type===1){const B=i.viewModel.getInjectedTextAt(v.position),U=i.viewModel.normalizePosition(v.position,2);(B||!U.equals(v.position))&&(v=new sn(U,v.spanNode,B))}return v.type===1&&i.stickyTabStops&&(v=new sn(this._snapToSoftTabBoundary(v.position,i.viewModel),v.spanNode,v.injectedText)),v}}function Cn(ut,i,c){const v=document.createRange();let B=ut.elementFromPoint(i,c);if(B!==null){for(;B&&B.firstChild&&B.firstChild.nodeType!==B.firstChild.TEXT_NODE&&B.lastChild&&B.lastChild.firstChild;)B=B.lastChild;const U=B.getBoundingClientRect(),le=window.getComputedStyle(B,null).getPropertyValue("font"),Ce=B.innerText;let ke=U.left,Oe=0,Qe;if(i>U.left+U.width)Oe=Ce.length;else{const qe=Ue.getInstance();for(let Ct=0;Ct<Ce.length+1;Ct++){if(Qe=qe.getCharWidth(Ce.charAt(Ct),le)/2,ke+=Qe,i<ke){Oe=Ct;break}ke+=Qe}}v.setStart(B.firstChild,Oe),v.setEnd(B.firstChild,Oe)}return v}class Ue{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return Ue._INSTANCE||(Ue._INSTANCE=new Ue),Ue._INSTANCE}getCharWidth(i,c){const v=i+c;if(this._cache[v])return this._cache[v];const B=this._canvas.getContext("2d");B.font=c;const le=B.measureText(i).width;return this._cache[v]=le,le}}Ue._INSTANCE=null;function Pt(ut){return function(i,c){let v=!1;return ut&&(v=ut.mouseTargetIsWidget(c)),v||c.preventDefault(),c}}class Lt extends De{constructor(i,c,v){super(),this._context=i,this.viewController=c,this.viewHelper=v,this.mouseTargetFactory=new lt(this._context,v),this._mouseDownOperation=this._register(new He(this._context,this.viewController,this.viewHelper,(le,Ce)=>this._createMouseTarget(le,Ce),le=>this._getMouseColumn(le))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(131).height;const B=new Ke.N5(this.viewHelper.viewDomNode);this._register(B.onContextMenu(this.viewHelper.viewDomNode,le=>this._onContextMenu(le,!0))),this._register(B.onMouseMoveThrottled(this.viewHelper.viewDomNode,le=>this._onMouseMove(le),Pt(this.mouseTargetFactory),Lt.MOUSE_MOVE_MINIMUM_TIME)),this._register(B.onMouseUp(this.viewHelper.viewDomNode,le=>this._onMouseUp(le))),this._register(B.onMouseLeave(this.viewHelper.viewDomNode,le=>this._onMouseLeave(le))),this._register(B.onMouseDown(this.viewHelper.viewDomNode,le=>this._onMouseDown(le)));const U=le=>{if(this.viewController.emitMouseWheel(le),!this._context.configuration.options.get(68))return;const Ce=new we.q(le);if(x.dz?(le.metaKey||le.ctrlKey)&&!le.shiftKey&&!le.altKey:le.ctrlKey&&!le.metaKey&&!le.shiftKey&&!le.altKey){const Oe=P.C.getZoomLevel(),Qe=Ce.deltaY>0?1:-1;P.C.setZoomLevel(Oe+Qe),Ce.preventDefault(),Ce.stopPropagation()}};this._register(A.nm(this.viewHelper.viewDomNode,A.tw.MOUSE_WHEEL,U,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(i){if(i.hasChanged(131)){const c=this._context.configuration.options.get(131).height;this._height!==c&&(this._height=c,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(i){return this._mouseDownOperation.onCursorStateChanged(i),!1}onFocusChanged(i){return!1}onScrollChanged(i){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(i,c){const B=new Ke.rU(i,c).toPageCoordinates(),U=(0,Ke.kG)(this.viewHelper.viewDomNode);if(B.y<U.y||B.y>U.y+U.height||B.x<U.x||B.x>U.x+U.width)return null;const le=(0,Ke.Pp)(this.viewHelper.viewDomNode,U,B);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),U,B,le,null)}_createMouseTarget(i,c){let v=i.target;if(!this.viewHelper.viewDomNode.contains(v)){const B=A.Ay(this.viewHelper.viewDomNode);B&&(v=B.elementsFromPoint(i.posx,i.posy).find(U=>this.viewHelper.viewDomNode.contains(U)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),i.editorPos,i.pos,i.relativePos,c?v:null)}_getMouseColumn(i){return this.mouseTargetFactory.getMouseColumn(i.relativePos)}_onContextMenu(i,c){this.viewController.emitContextMenu({event:i,target:this._createMouseTarget(i,c)})}_onMouseMove(i){this._mouseDownOperation.isActive()||i.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:i,target:this._createMouseTarget(i,!0)})}_onMouseLeave(i){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:i,target:null})}_onMouseUp(i){this.viewController.emitMouseUp({event:i,target:this._createMouseTarget(i,!0)})}_onMouseDown(i){const c=this._createMouseTarget(i,!0),v=c.type===6||c.type===7,B=c.type===2||c.type===3||c.type===4,U=c.type===3,le=this._context.configuration.options.get(98),Ce=c.type===8||c.type===5,ke=c.type===9;let Oe=i.leftButton||i.middleButton;x.dz&&i.leftButton&&i.ctrlKey&&(Oe=!1);const Qe=()=>{i.preventDefault(),this.viewHelper.focusTextArea()};if(Oe&&(v||U&&le))Qe(),this._mouseDownOperation.start(c.type,i);else if(B)i.preventDefault();else if(Ce){const qe=c.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(qe.viewZoneId)&&(Qe(),this._mouseDownOperation.start(c.type,i),i.preventDefault())}else ke&&this.viewHelper.shouldSuppressMouseDownOnWidget(c.detail)&&(Qe(),i.preventDefault());this.viewController.emitMouseDown({event:i,target:c})}}Lt.MOUSE_MOVE_MINIMUM_TIME=100;class He extends w.JT{constructor(i,c,v,B,U){super(),this._context=i,this._viewController=c,this._viewHelper=v,this._createMouseTarget=B,this._getMouseColumn=U,this._mouseMoveMonitor=this._register(new Ke.iB(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new Me._F),this._mouseState=new Ve,this._currentSelection=new J.Y(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(i){this._lastMouseEvent=i,this._mouseState.setModifiers(i);const c=this._findMousePosition(i,!0);!c||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:i,target:c}):this._dispatchMouse(c,!0))}start(i,c){this._lastMouseEvent=c,this._mouseState.setStartedOnLineNumbers(i===3),this._mouseState.setStartButtons(c),this._mouseState.setModifiers(c);const v=this._findMousePosition(c,!0);if(!v||!v.position)return;this._mouseState.trySetCount(c.detail,v.position),c.detail=this._mouseState.count;const B=this._context.configuration.options;if(!B.get(81)&&B.get(31)&&!B.get(18)&&!this._mouseState.altKey&&c.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&v.type===6&&v.position&&this._currentSelection.containsPosition(v.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(c.target,c.buttons,Pt(null),U=>this._onMouseDownThenMove(U),U=>{const le=this._findMousePosition(this._lastMouseEvent,!0);U&&U instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:le?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(v,c.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(c.target,c.buttons,Pt(null),U=>this._onMouseDownThenMove(U),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const i=this._findMousePosition(this._lastMouseEvent,!1);!i||this._mouseState.isDragAndDrop||this._dispatchMouse(i,!0)},10)}onCursorStateChanged(i){this._currentSelection=i.selections[0]}_getPositionOutsideEditor(i){const c=i.editorPos,v=this._context.viewModel,B=this._context.viewLayout,U=this._getMouseColumn(i);if(i.posy<c.y){const Ce=Math.max(B.getCurrentScrollTop()-(c.y-i.posy),0),ke=ht.getZoneAtCoord(this._context,Ce);if(ke){const Qe=this._helpPositionJumpOverViewZone(ke);if(Qe)return Ne.createOutsideEditor(U,Qe)}const Oe=B.getLineNumberAtVerticalOffset(Ce);return Ne.createOutsideEditor(U,new Pe.L(Oe,1))}if(i.posy>c.y+c.height){const Ce=B.getCurrentScrollTop()+i.relativePos.y,ke=ht.getZoneAtCoord(this._context,Ce);if(ke){const Qe=this._helpPositionJumpOverViewZone(ke);if(Qe)return Ne.createOutsideEditor(U,Qe)}const Oe=B.getLineNumberAtVerticalOffset(Ce);return Ne.createOutsideEditor(U,new Pe.L(Oe,v.getLineMaxColumn(Oe)))}const le=B.getLineNumberAtVerticalOffset(B.getCurrentScrollTop()+i.relativePos.y);return i.posx<c.x?Ne.createOutsideEditor(U,new Pe.L(le,1)):i.posx>c.x+c.width?Ne.createOutsideEditor(U,new Pe.L(le,v.getLineMaxColumn(le))):null}_findMousePosition(i,c){const v=this._getPositionOutsideEditor(i);if(v)return v;const B=this._createMouseTarget(i,c);if(!B.position)return null;if(B.type===8||B.type===5){const le=this._helpPositionJumpOverViewZone(B.detail);if(le)return Ne.createViewZone(B.type,B.element,B.mouseColumn,le,B.detail)}return B}_helpPositionJumpOverViewZone(i){const c=new Pe.L(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),v=i.positionBefore,B=i.positionAfter;return v&&B?v.isBefore(c)?v:B:null}_dispatchMouse(i,c){!i.position||this._viewController.dispatchMouse({position:i.position,mouseColumn:i.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:c,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:i.type===6&&i.detail.injectedText!==null})}}class Ve{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(i){this._altKey=i.altKey,this._ctrlKey=i.ctrlKey,this._metaKey=i.metaKey,this._shiftKey=i.shiftKey}setStartButtons(i){this._leftButton=i.leftButton,this._middleButton=i.middleButton}setStartedOnLineNumbers(i){this._startedOnLineNumbers=i}trySetCount(i,c){const v=new Date().getTime();v-this._lastSetMouseDownCountTime>Ve.CLEAR_MOUSE_DOWN_COUNT_TIME&&(i=1),this._lastSetMouseDownCountTime=v,i>this._lastMouseDownCount+1&&(i=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(c)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=c,this._lastMouseDownCount=Math.min(i,this._lastMouseDownPositionEqualCount)}}Ve.CLEAR_MOUSE_DOWN_COUNT_TIME=400;var Se=l(13125),St=l(67430);class Jt extends Lt{constructor(i,c,v){super(i,c,v),this._register(ce.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(A.nm(this.viewHelper.linesContentDomNode,ce.t.Tap,U=>this.onTap(U))),this._register(A.nm(this.viewHelper.linesContentDomNode,ce.t.Change,U=>this.onChange(U))),this._register(A.nm(this.viewHelper.linesContentDomNode,ce.t.Contextmenu,U=>this._onContextMenu(new Ke.gy(U,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(A.nm(this.viewHelper.linesContentDomNode,"pointerdown",U=>{const le=U.pointerType;if(le==="mouse"){this._lastPointerType="mouse";return}else le==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const B=new Ke.tC(this.viewHelper.viewDomNode);this._register(B.onPointerMoveThrottled(this.viewHelper.viewDomNode,U=>this._onMouseMove(U),Pt(this.mouseTargetFactory),Lt.MOUSE_MOVE_MINIMUM_TIME)),this._register(B.onPointerUp(this.viewHelper.viewDomNode,U=>this._onMouseUp(U))),this._register(B.onPointerLeave(this.viewHelper.viewDomNode,U=>this._onMouseLeave(U))),this._register(B.onPointerDown(this.viewHelper.viewDomNode,U=>this._onMouseDown(U)))}onTap(i){if(!i.initialTarget||!this.viewHelper.linesContentDomNode.contains(i.initialTarget))return;i.preventDefault(),this.viewHelper.focusTextArea();const c=this._createMouseTarget(new Ke.gy(i,this.viewHelper.viewDomNode),!1);c.position&&this.viewController.dispatchMouse({position:c.position,mouseColumn:c.position.column,startedOnLineNumbers:!1,mouseDownCount:i.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:c.type===6&&c.detail.injectedText!==null})}onChange(i){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-i.translationX,-i.translationY)}_onMouseDown(i){i.browserEvent.pointerType!=="touch"&&super._onMouseDown(i)}}class mn extends Lt{constructor(i,c,v){super(i,c,v),this._register(ce.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(A.nm(this.viewHelper.linesContentDomNode,ce.t.Tap,B=>this.onTap(B))),this._register(A.nm(this.viewHelper.linesContentDomNode,ce.t.Change,B=>this.onChange(B))),this._register(A.nm(this.viewHelper.linesContentDomNode,ce.t.Contextmenu,B=>this._onContextMenu(new Ke.gy(B,this.viewHelper.viewDomNode),!1)))}onTap(i){i.preventDefault(),this.viewHelper.focusTextArea();const c=this._createMouseTarget(new Ke.gy(i,this.viewHelper.viewDomNode),!1);if(c.position){const v=document.createEvent("CustomEvent");v.initEvent(St.pd.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(v),this.viewController.moveTo(c.position)}}onChange(i){this._context.viewModel.viewLayout.deltaScrollNow(-i.translationX,-i.translationY)}}class Mn extends w.JT{constructor(i,c,v){super(),x.gn&&Se.D.pointerEvents?this.handler=this._register(new Jt(i,c,v)):window.TouchEvent?this.handler=this._register(new mn(i,c,v)):this.handler=this._register(new Lt(i,c,v))}getTargetAtClientPoint(i,c){return this.handler.getTargetAtClientPoint(i,c)}}var kn=l(76311),Nn=l(16537),xn=l(96818);class Xn extends De{}var Sn=l(60407),Gn=l(63655);class ti extends Xn{constructor(i){super(),this._context=i,this._readConfig(),this._lastCursorModelPosition=new Pe.L(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const i=this._context.configuration.options;this._lineHeight=i.get(59);const c=i.get(60);this._renderLineNumbers=c.renderType,this._renderCustomLineNumbers=c.renderFn,this._renderFinalNewline=i.get(84);const v=i.get(131);this._lineNumbersLeft=v.lineNumbersLeft,this._lineNumbersWidth=v.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){return this._readConfig(),!0}onCursorStateChanged(i){const c=i.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(c);let v=!1;return this._activeLineNumber!==c.lineNumber&&(this._activeLineNumber=c.lineNumber,v=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(v=!0),v}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_getLineRenderLineNumber(i){const c=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Pe.L(i,1));if(c.column!==1)return"";const v=c.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(v);if(this._renderLineNumbers===2){const B=Math.abs(this._lastCursorModelPosition.lineNumber-v);return B===0?'<span class="relative-current-line-number">'+v+"</span>":String(B)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===v||v%10===0?String(v):"":String(v)}prepareRender(i){if(this._renderLineNumbers===0){this._renderResult=null;return}const c=x.IJ?this._lineHeight%2===0?" lh-even":" lh-odd":"",v=i.visibleRange.startLineNumber,B=i.visibleRange.endLineNumber,U='<div class="'+ti.CLASS_NAME+c+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',le=this._context.viewModel.getLineCount(),Ce=[];for(let ke=v;ke<=B;ke++){const Oe=ke-v;if(!this._renderFinalNewline&&ke===le&&this._context.viewModel.getLineLength(ke)===0){Ce[Oe]="";continue}const Qe=this._getLineRenderLineNumber(ke);Qe?ke===this._activeLineNumber?Ce[Oe]='<div class="active-line-number '+ti.CLASS_NAME+c+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+Qe+"</div>":Ce[Oe]=U+Qe+"</div>":Ce[Oe]=""}this._renderResult=Ce}render(i,c){if(!this._renderResult)return"";const v=c-i;return v<0||v>=this._renderResult.length?"":this._renderResult[v]}}ti.CLASS_NAME="line-numbers",(0,Gn.Ic)((ut,i)=>{const c=ut.getColor(Sn.hw);c&&i.addRule(`.monaco-editor .line-numbers { color: ${c}; }`);const v=ut.getColor(Sn.DD);v&&i.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${v}; }`)});class An extends be{constructor(i){super(i);const c=this._context.configuration.options,v=c.get(131);this._canUseLayerHinting=!c.get(28),this._contentLeft=v.contentLeft,this._glyphMarginLeft=v.glyphMarginLeft,this._glyphMarginWidth=v.glyphMarginWidth,this._domNode=(0,oe.X)(document.createElement("div")),this._domNode.setClassName(An.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,oe.X)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(An.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(i){const c=this._context.configuration.options,v=c.get(131);return this._canUseLayerHinting=!c.get(28),this._contentLeft=v.contentLeft,this._glyphMarginLeft=v.glyphMarginLeft,this._glyphMarginWidth=v.glyphMarginWidth,!0}onScrollChanged(i){return super.onScrollChanged(i)||i.scrollTopChanged}prepareRender(i){}render(i){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const c=i.scrollTop-i.bigNumbersDelta;this._domNode.setTop(-c);const v=Math.min(i.scrollHeight,1e6);this._domNode.setHeight(v),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(v)}}An.CLASS_NAME="glyph-margin",An.OUTER_CLASS_NAME="margin";var Bi=l(75328),oi=l(82464),Yn=l(46250),Ci=l(8957);class On{constructor(i,c,v,B,U){this._context=i,this.modelLineNumber=c,this.distanceToModelLineStart=v,this.widthOfHiddenLineTextBefore=B,this.distanceToModelLineEnd=U,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(i){const c=new Pe.L(this.modelLineNumber,this.distanceToModelLineStart+1),v=new Pe.L(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(c),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(v),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=i.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=i.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(i){return this._previousPresentation||(i?this._previousPresentation=i:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const Si=f.isFirefox;class Di extends be{constructor(i,c,v){super(i),this._primaryCursorPosition=new Pe.L(1,1),this._primaryCursorVisibleRange=null,this._viewController=c,this._visibleRangeProvider=v,this._scrollLeft=0,this._scrollTop=0;const B=this._context.configuration.options,U=B.get(131);this._setAccessibilityOptions(B),this._contentLeft=U.contentLeft,this._contentWidth=U.contentWidth,this._contentHeight=U.height,this._fontInfo=B.get(44),this._lineHeight=B.get(59),this._emptySelectionClipboard=B.get(32),this._copyWithSyntaxHighlighting=B.get(21),this._visibleTextArea=null,this._selections=[new J.Y(1,1,1,1)],this._modelSelections=[new J.Y(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,oe.X)(document.createElement("textarea")),We.write(this.textArea,6),this.textArea.setClassName(`inputarea ${oi.S}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(B)),this.textArea.setAttribute("tabindex",String(B.get(112))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",W.N("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),B.get(30)&&B.get(81)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,oe.X)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const le={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:Oe=>this._context.viewModel.getLineMaxColumn(Oe),getValueInRange:(Oe,Qe)=>this._context.viewModel.getValueInRange(Oe,Qe)},Ce={getDataToCopy:()=>{const Oe=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,x.ED),Qe=this._context.viewModel.model.getEOL(),qe=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),Ct=Array.isArray(Oe)?Oe:null,Dt=Array.isArray(Oe)?Oe.join(Qe):Oe;let $t,qt=null;if(St.RA.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&Dt.length<65536){const un=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);un&&($t=un.html,qt=un.mode)}return{isFromEmptySelection:qe,multicursorText:Ct,text:Dt,html:$t,mode:qt}},getScreenReaderContent:Oe=>{if(this._accessibilitySupport===1){if(x.dz){const Qe=this._selections[0];if(Qe.isEmpty()){const qe=Qe.getStartPosition();let Ct=this._getWordBeforePosition(qe);if(Ct.length===0&&(Ct=this._getCharacterBeforePosition(qe)),Ct.length>0)return new xn.un(Ct,Ct.length,Ct.length,qe,qe)}}return xn.un.EMPTY}if(f.isAndroid){const Qe=this._selections[0];if(Qe.isEmpty()){const qe=Qe.getStartPosition(),[Ct,Dt]=this._getAndroidWordAtPosition(qe);if(Ct.length>0)return new xn.un(Ct,Dt,Dt,qe,qe)}return xn.un.EMPTY}return xn.ee.fromEditorSelection(Oe,le,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(Oe,Qe,qe)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(Oe,Qe,qe)},ke=this._register(new St.Tj(this.textArea.domNode));this._textAreaInput=this._register(new St.Fz(Ce,ke,x.OS,f)),this._register(this._textAreaInput.onKeyDown(Oe=>{this._viewController.emitKeyDown(Oe)})),this._register(this._textAreaInput.onKeyUp(Oe=>{this._viewController.emitKeyUp(Oe)})),this._register(this._textAreaInput.onPaste(Oe=>{let Qe=!1,qe=null,Ct=null;Oe.metadata&&(Qe=this._emptySelectionClipboard&&!!Oe.metadata.isFromEmptySelection,qe=typeof Oe.metadata.multicursorText!="undefined"?Oe.metadata.multicursorText:null,Ct=Oe.metadata.mode),this._viewController.paste(Oe.text,Qe,qe,Ct)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(Oe=>{Oe.replacePrevCharCnt||Oe.replaceNextCharCnt||Oe.positionDelta?(xn.al&&console.log(` => compositionType: <<${Oe.text}>>, ${Oe.replacePrevCharCnt}, ${Oe.replaceNextCharCnt}, ${Oe.positionDelta}`),this._viewController.compositionType(Oe.text,Oe.replacePrevCharCnt,Oe.replaceNextCharCnt,Oe.positionDelta)):(xn.al&&console.log(` => type: <<${Oe.text}>>`),this._viewController.type(Oe.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(Oe=>{this._viewController.setSelection(Oe)})),this._register(this._textAreaInput.onCompositionStart(Oe=>{const Qe=this.textArea.domNode,qe=this._modelSelections[0],{distanceToModelLineStart:Ct,widthOfHiddenTextBefore:Dt}=(()=>{const qt=Qe.value.substring(0,Math.min(Qe.selectionStart,Qe.selectionEnd)),un=qt.lastIndexOf(`
`),In=qt.substring(un+1),Bn=In.lastIndexOf("	"),Vn=In.length-Bn-1,li=qe.getStartPosition(),si=Math.min(li.column-1,Vn),Ri=li.column-1-si,Ii=In.substring(0,In.length-si),gi=ni(Ii,this._fontInfo);return{distanceToModelLineStart:Ri,widthOfHiddenTextBefore:gi}})(),{distanceToModelLineEnd:$t}=(()=>{const qt=Qe.value.substring(Math.max(Qe.selectionStart,Qe.selectionEnd)),un=qt.indexOf(`
`),In=un===-1?qt:qt.substring(0,un),Bn=In.indexOf("	"),Vn=Bn===-1?In.length:In.length-Bn-1,li=qe.getEndPosition(),si=Math.min(this._context.viewModel.model.getLineMaxColumn(li.lineNumber)-li.column,Vn);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(li.lineNumber)-li.column-si}})();this._context.viewModel.revealRange("keyboard",!0,en.e.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new On(this._context,qe.startLineNumber,Ct,Dt,$t),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${oi.S} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(Oe=>{!this._visibleTextArea||(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${oi.S}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(i){const c='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',v=this._context.viewModel.getLineContent(i.lineNumber),B=(0,Bi.u)(c);let U=!0,le=i.column,Ce=!0,ke=i.column,Oe=0;for(;Oe<50&&(U||Ce);){if(U&&le<=1&&(U=!1),U){const Qe=v.charCodeAt(le-2);B.get(Qe)!==0?U=!1:le--}if(Ce&&ke>v.length&&(Ce=!1),Ce){const Qe=v.charCodeAt(ke-1);B.get(Qe)!==0?Ce=!1:ke++}Oe++}return[v.substring(le-1,ke-1),i.column-le]}_getWordBeforePosition(i){const c=this._context.viewModel.getLineContent(i.lineNumber),v=(0,Bi.u)(this._context.configuration.options.get(117));let B=i.column,U=0;for(;B>1;){const le=c.charCodeAt(B-2);if(v.get(le)!==0||U>50)return c.substring(B-1,i.column-1);U++,B--}return c.substring(0,i.column-1)}_getCharacterBeforePosition(i){if(i.column>1){const v=this._context.viewModel.getLineContent(i.lineNumber).charAt(i.column-2);if(!kn.ZG(v.charCodeAt(0)))return v}return""}_getAriaLabel(i){return i.get(2)===1?W.N("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",x.IJ?"Shift+Alt+F1":"Alt+F1"):i.get(4)}_setAccessibilityOptions(i){this._accessibilitySupport=i.get(2);const c=i.get(3);this._accessibilitySupport===2&&c===b.BH.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=c}onConfigurationChanged(i){const c=this._context.configuration.options,v=c.get(131);return this._setAccessibilityOptions(c),this._contentLeft=v.contentLeft,this._contentWidth=v.contentWidth,this._contentHeight=v.height,this._fontInfo=c.get(44),this._lineHeight=c.get(59),this._emptySelectionClipboard=c.get(32),this._copyWithSyntaxHighlighting=c.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(c)),this.textArea.setAttribute("tabindex",String(c.get(112))),(i.hasChanged(30)||i.hasChanged(81))&&(c.get(30)&&c.get(81)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),i.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(i){return this._selections=i.selections.slice(0),this._modelSelections=i.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return this._scrollLeft=i.scrollLeft,this._scrollTop=i.scrollTop,!0}onZonesChanged(i){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(i){i.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",i.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),i.role&&this.textArea.setAttribute("role",i.role)}prepareRender(i){this._primaryCursorPosition=new Pe.L(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=i.visibleRangeForPosition(this._primaryCursorPosition),this._visibleTextArea&&this._visibleTextArea.prepareRender(i)}render(i){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){const v=this._visibleTextArea.visibleTextareaStart,B=this._visibleTextArea.visibleTextareaEnd,U=this._visibleTextArea.startPosition,le=this._visibleTextArea.endPosition;if(U&&le&&v&&B&&B.left>=this._scrollLeft&&v.left<=this._scrollLeft+this._contentWidth){const Ce=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,ke=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let Oe=this._visibleTextArea.widthOfHiddenLineTextBefore,Qe=this._contentLeft+v.left-this._scrollLeft,qe=B.left-v.left+1;if(Qe<this._contentLeft){const In=this._contentLeft-Qe;Qe+=In,Oe+=In,qe-=In}qe>this._contentWidth&&(qe=this._contentWidth);const Ct=this._context.viewModel.getViewLineData(U.lineNumber),Dt=Ct.tokens.findTokenIndexAtOffset(U.column-1),$t=Ct.tokens.findTokenIndexAtOffset(le.column-1),qt=Dt===$t,un=this._visibleTextArea.definePresentation(qt?Ct.tokens.getPresentation(Dt):null);this.textArea.domNode.scrollTop=ke*this._lineHeight,this.textArea.domNode.scrollLeft=Oe,this._doRender({lastRenderPosition:null,top:Ce,left:Qe,width:qe,height:this._lineHeight,useCover:!1,color:(Yn.RW.getColorMap()||[])[un.foreground],italic:un.italic,bold:un.bold,underline:un.underline,strikethrough:un.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const i=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(i<this._contentLeft||i>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const c=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(c<0||c>this._contentHeight){this._renderAtTopLeft();return}if(x.dz){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:c,left:i,width:Si?0:1,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const v=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=v*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:c,left:i,width:Si?0:1,height:Si?0:1,useCover:!1})}_newlinecount(i){let c=0,v=-1;do{if(v=i.indexOf(`
`,v+1),v===-1)break;c++}while(!0);return c}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:Si?0:1,height:Si?0:1,useCover:!0})}_doRender(i){this._lastRenderPosition=i.lastRenderPosition;const c=this.textArea,v=this.textAreaCover;(0,Nn.N)(c,this._fontInfo),c.setTop(i.top),c.setLeft(i.left),c.setWidth(i.width),c.setHeight(i.height),c.setColor(i.color?Ci.Il.Format.CSS.formatHex(i.color):""),c.setFontStyle(i.italic?"italic":""),i.bold&&c.setFontWeight("bold"),c.setTextDecoration(`${i.underline?" underline":""}${i.strikethrough?" line-through":""}`),v.setTop(i.useCover?i.top:0),v.setLeft(i.useCover?i.left:0),v.setWidth(i.useCover?i.width:0),v.setHeight(i.useCover?i.height:0);const B=this._context.configuration.options;B.get(50)?v.setClassName("monaco-editor-background textAreaCover "+An.OUTER_CLASS_NAME):B.get(60).renderType!==0?v.setClassName("monaco-editor-background textAreaCover "+ti.CLASS_NAME):v.setClassName("monaco-editor-background textAreaCover")}}function ni(ut,i){if(ut.length===0)return 0;const c=document.createElement("div");c.style.position="absolute",c.style.top="-50000px",c.style.width="50000px";const v=document.createElement("span");(0,Nn.N)(v,i),v.style.whiteSpace="pre",v.append(ut),c.appendChild(v),document.body.appendChild(c);const B=v.offsetWidth;return document.body.removeChild(c),B}var Kn=l(99947);class Pi{constructor(i,c,v,B){this.configuration=i,this.viewModel=c,this.userInputEvents=v,this.commandDelegate=B}paste(i,c,v,B){this.commandDelegate.paste(i,c,v,B)}type(i){this.commandDelegate.type(i)}compositionType(i,c,v,B){this.commandDelegate.compositionType(i,c,v,B)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(i){Kn.Ox.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:i})}_validateViewColumn(i){const c=this.viewModel.getLineMinColumn(i.lineNumber);return i.column<c?new Pe.L(i.lineNumber,c):i}_hasMulticursorModifier(i){switch(this.configuration.options.get(70)){case"altKey":return i.altKey;case"ctrlKey":return i.ctrlKey;case"metaKey":return i.metaKey;default:return!1}}_hasNonMulticursorModifier(i){switch(this.configuration.options.get(70)){case"altKey":return i.ctrlKey||i.metaKey;case"ctrlKey":return i.altKey||i.metaKey;case"metaKey":return i.ctrlKey||i.altKey;default:return!1}}dispatchMouse(i){const c=this.configuration.options,v=x.IJ&&c.get(96),B=c.get(18);i.middleButton&&!v?this._columnSelect(i.position,i.mouseColumn,i.inSelectionMode):i.startedOnLineNumbers?this._hasMulticursorModifier(i)?i.inSelectionMode?this._lastCursorLineSelect(i.position):this._createCursor(i.position,!0):i.inSelectionMode?this._lineSelectDrag(i.position):this._lineSelect(i.position):i.mouseDownCount>=4?this._selectAll():i.mouseDownCount===3?this._hasMulticursorModifier(i)?i.inSelectionMode?this._lastCursorLineSelectDrag(i.position):this._lastCursorLineSelect(i.position):i.inSelectionMode?this._lineSelectDrag(i.position):this._lineSelect(i.position):i.mouseDownCount===2?i.onInjectedText||(this._hasMulticursorModifier(i)?this._lastCursorWordSelect(i.position):i.inSelectionMode?this._wordSelectDrag(i.position):this._wordSelect(i.position)):this._hasMulticursorModifier(i)?this._hasNonMulticursorModifier(i)||(i.shiftKey?this._columnSelect(i.position,i.mouseColumn,!0):i.inSelectionMode?this._lastCursorMoveToSelect(i.position):this._createCursor(i.position,!1)):i.inSelectionMode?i.altKey?this._columnSelect(i.position,i.mouseColumn,!0):B?this._columnSelect(i.position,i.mouseColumn,!0):this._moveToSelect(i.position):this.moveTo(i.position)}_usualArgs(i){return i=this._validateViewColumn(i),{source:"mouse",position:this._convertViewToModelPosition(i),viewPosition:i}}moveTo(i){Kn.Ox.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_moveToSelect(i){Kn.Ox.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_columnSelect(i,c,v){i=this._validateViewColumn(i),Kn.Ox.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(i),viewPosition:i,mouseColumn:c,doColumnSelect:v})}_createCursor(i,c){i=this._validateViewColumn(i),Kn.Ox.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(i),viewPosition:i,wholeLine:c})}_lastCursorMoveToSelect(i){Kn.Ox.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_wordSelect(i){Kn.Ox.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_wordSelectDrag(i){Kn.Ox.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_lastCursorWordSelect(i){Kn.Ox.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_lineSelect(i){Kn.Ox.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_lineSelectDrag(i){Kn.Ox.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_lastCursorLineSelect(i){Kn.Ox.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_lastCursorLineSelectDrag(i){Kn.Ox.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_selectAll(){Kn.Ox.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(i){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(i)}emitKeyDown(i){this.userInputEvents.emitKeyDown(i)}emitKeyUp(i){this.userInputEvents.emitKeyUp(i)}emitContextMenu(i){this.userInputEvents.emitContextMenu(i)}emitMouseMove(i){this.userInputEvents.emitMouseMove(i)}emitMouseLeave(i){this.userInputEvents.emitMouseLeave(i)}emitMouseUp(i){this.userInputEvents.emitMouseUp(i)}emitMouseDown(i){this.userInputEvents.emitMouseDown(i)}emitMouseDrag(i){this.userInputEvents.emitMouseDrag(i)}emitMouseDrop(i){this.userInputEvents.emitMouseDrop(i)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(i){this.userInputEvents.emitMouseWheel(i)}}class Vi{constructor(i){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=i}emitKeyDown(i){this.onKeyDown&&this.onKeyDown(i)}emitKeyUp(i){this.onKeyUp&&this.onKeyUp(i)}emitContextMenu(i){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(i))}emitMouseMove(i){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(i))}emitMouseLeave(i){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(i))}emitMouseDown(i){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(i))}emitMouseUp(i){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(i))}emitMouseDrag(i){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(i))}emitMouseDrop(i){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(i))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(i){this.onMouseWheel&&this.onMouseWheel(i)}_convertViewToModelMouseEvent(i){return i.target?{event:i.event,target:this._convertViewToModelMouseTarget(i.target)}:i}_convertViewToModelMouseTarget(i){return Vi.convertViewToModelMouseTarget(i,this._coordinatesConverter)}static convertViewToModelMouseTarget(i,c){const v=Object.assign({},i);return v.position&&(v.position=c.convertViewPositionToModelPosition(v.position)),v.range&&(v.range=c.convertViewRangeToModelRange(v.range)),v}}var Oi=l(20123),_i;class Ye{constructor(i){this._createLine=i,this._set(1,[])}flush(){this._set(1,[])}_set(i,c){this._lines=c,this._rendLineNumberStart=i}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(i){const c=i-this._rendLineNumberStart;if(c<0||c>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[c]}onLinesDeleted(i,c){if(this.getCount()===0)return null;const v=this.getStartLineNumber(),B=this.getEndLineNumber();if(c<v){const ke=c-i+1;return this._rendLineNumberStart-=ke,null}if(i>B)return null;let U=0,le=0;for(let ke=v;ke<=B;ke++){const Oe=ke-this._rendLineNumberStart;i<=ke&&ke<=c&&(le===0?(U=Oe,le=1):le++)}if(i<v){let ke=0;c<v?ke=c-i+1:ke=v-i,this._rendLineNumberStart-=ke}return this._lines.splice(U,le)}onLinesChanged(i,c){if(this.getCount()===0)return!1;const v=this.getStartLineNumber(),B=this.getEndLineNumber();let U=!1;for(let le=i;le<=c;le++)le>=v&&le<=B&&(this._lines[le-this._rendLineNumberStart].onContentChanged(),U=!0);return U}onLinesInserted(i,c){if(this.getCount()===0)return null;const v=c-i+1,B=this.getStartLineNumber(),U=this.getEndLineNumber();if(i<=B)return this._rendLineNumberStart+=v,null;if(i>U)return null;if(v+i>U)return this._lines.splice(i-this._rendLineNumberStart,U-i+1);const le=[];for(let qe=0;qe<v;qe++)le[qe]=this._createLine();const Ce=i-this._rendLineNumberStart,ke=this._lines.slice(0,Ce),Oe=this._lines.slice(Ce,this._lines.length-v),Qe=this._lines.slice(this._lines.length-v,this._lines.length);return this._lines=ke.concat(le).concat(Oe),Qe}onTokensChanged(i){if(this.getCount()===0)return!1;const c=this.getStartLineNumber(),v=this.getEndLineNumber();let B=!1;for(let U=0,le=i.length;U<le;U++){const Ce=i[U];if(Ce.toLineNumber<c||Ce.fromLineNumber>v)continue;const ke=Math.max(c,Ce.fromLineNumber),Oe=Math.min(v,Ce.toLineNumber);for(let Qe=ke;Qe<=Oe;Qe++){const qe=Qe-this._rendLineNumberStart;this._lines[qe].onTokensChanged(),B=!0}}return B}}class It{constructor(i){this._host=i,this.domNode=this._createDomNode(),this._linesCollection=new Ye(()=>this._host.createVisibleLine())}_createDomNode(){const i=(0,oe.X)(document.createElement("div"));return i.setClassName("view-layer"),i.setPosition("absolute"),i.domNode.setAttribute("role","presentation"),i.domNode.setAttribute("aria-hidden","true"),i}onConfigurationChanged(i){return!!i.hasChanged(131)}onFlushed(i){return this._linesCollection.flush(),!0}onLinesChanged(i){return this._linesCollection.onLinesChanged(i.fromLineNumber,i.toLineNumber)}onLinesDeleted(i){const c=this._linesCollection.onLinesDeleted(i.fromLineNumber,i.toLineNumber);if(c)for(let v=0,B=c.length;v<B;v++){const U=c[v].getDomNode();U&&this.domNode.domNode.removeChild(U)}return!0}onLinesInserted(i){const c=this._linesCollection.onLinesInserted(i.fromLineNumber,i.toLineNumber);if(c)for(let v=0,B=c.length;v<B;v++){const U=c[v].getDomNode();U&&this.domNode.domNode.removeChild(U)}return!0}onScrollChanged(i){return i.scrollTopChanged}onTokensChanged(i){return this._linesCollection.onTokensChanged(i.ranges)}onZonesChanged(i){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(i){return this._linesCollection.getLine(i)}renderLines(i){const c=this._linesCollection._get(),v=new cn(this.domNode.domNode,this._host,i),B={rendLineNumberStart:c.rendLineNumberStart,lines:c.lines,linesLength:c.lines.length},U=v.render(B,i.startLineNumber,i.endLineNumber,i.relativeVerticalOffset);this._linesCollection._set(U.rendLineNumberStart,U.lines)}}class cn{constructor(i,c,v){this.domNode=i,this.host=c,this.viewportData=v}render(i,c,v,B){const U={rendLineNumberStart:i.rendLineNumberStart,lines:i.lines.slice(0),linesLength:i.linesLength};if(U.rendLineNumberStart+U.linesLength-1<c||v<U.rendLineNumberStart){U.rendLineNumberStart=c,U.linesLength=v-c+1,U.lines=[];for(let le=c;le<=v;le++)U.lines[le-c]=this.host.createVisibleLine();return this._finishRendering(U,!0,B),U}if(this._renderUntouchedLines(U,Math.max(c-U.rendLineNumberStart,0),Math.min(v-U.rendLineNumberStart,U.linesLength-1),B,c),U.rendLineNumberStart>c){const le=c,Ce=Math.min(v,U.rendLineNumberStart-1);le<=Ce&&(this._insertLinesBefore(U,le,Ce,B,c),U.linesLength+=Ce-le+1)}else if(U.rendLineNumberStart<c){const le=Math.min(U.linesLength,c-U.rendLineNumberStart);le>0&&(this._removeLinesBefore(U,le),U.linesLength-=le)}if(U.rendLineNumberStart=c,U.rendLineNumberStart+U.linesLength-1<v){const le=U.rendLineNumberStart+U.linesLength,Ce=v;le<=Ce&&(this._insertLinesAfter(U,le,Ce,B,c),U.linesLength+=Ce-le+1)}else if(U.rendLineNumberStart+U.linesLength-1>v){const le=Math.max(0,v-U.rendLineNumberStart+1),ke=U.linesLength-1-le+1;ke>0&&(this._removeLinesAfter(U,ke),U.linesLength-=ke)}return this._finishRendering(U,!1,B),U}_renderUntouchedLines(i,c,v,B,U){const le=i.rendLineNumberStart,Ce=i.lines;for(let ke=c;ke<=v;ke++){const Oe=le+ke;Ce[ke].layoutLine(Oe,B[Oe-U])}}_insertLinesBefore(i,c,v,B,U){const le=[];let Ce=0;for(let ke=c;ke<=v;ke++)le[Ce++]=this.host.createVisibleLine();i.lines=le.concat(i.lines)}_removeLinesBefore(i,c){for(let v=0;v<c;v++){const B=i.lines[v].getDomNode();B&&this.domNode.removeChild(B)}i.lines.splice(0,c)}_insertLinesAfter(i,c,v,B,U){const le=[];let Ce=0;for(let ke=c;ke<=v;ke++)le[Ce++]=this.host.createVisibleLine();i.lines=i.lines.concat(le)}_removeLinesAfter(i,c){const v=i.linesLength-c;for(let B=0;B<c;B++){const U=i.lines[v+B].getDomNode();U&&this.domNode.removeChild(U)}i.lines.splice(v,c)}_finishRenderingNewLines(i,c,v,B){cn._ttPolicy&&(v=cn._ttPolicy.createHTML(v));const U=this.domNode.lastChild;c||!U?this.domNode.innerHTML=v:U.insertAdjacentHTML("afterend",v);let le=this.domNode.lastChild;for(let Ce=i.linesLength-1;Ce>=0;Ce--){const ke=i.lines[Ce];B[Ce]&&(ke.setDomNode(le),le=le.previousSibling)}}_finishRenderingInvalidLines(i,c,v){const B=document.createElement("div");cn._ttPolicy&&(c=cn._ttPolicy.createHTML(c)),B.innerHTML=c;for(let U=0;U<i.linesLength;U++){const le=i.lines[U];if(v[U]){const Ce=B.firstChild,ke=le.getDomNode();ke.parentNode.replaceChild(Ce,ke),le.setDomNode(Ce)}}}_finishRendering(i,c,v){const B=cn._sb,U=i.linesLength,le=i.lines,Ce=i.rendLineNumberStart,ke=[];{B.reset();let Oe=!1;for(let Qe=0;Qe<U;Qe++){const qe=le[Qe];ke[Qe]=!1,!(qe.getDomNode()||!qe.renderLine(Qe+Ce,v[Qe],this.viewportData,B))&&(ke[Qe]=!0,Oe=!0)}Oe&&this._finishRenderingNewLines(i,c,B.build(),ke)}{B.reset();let Oe=!1;const Qe=[];for(let qe=0;qe<U;qe++){const Ct=le[qe];Qe[qe]=!1,!(ke[qe]||!Ct.renderLine(qe+Ce,v[qe],this.viewportData,B))&&(Qe[qe]=!0,Oe=!0)}Oe&&this._finishRenderingInvalidLines(i,B.build(),Qe)}}}cn._ttPolicy=(_i=window.trustedTypes)===null||_i===void 0?void 0:_i.createPolicy("editorViewLayer",{createHTML:ut=>ut}),cn._sb=(0,Oi.l$)(1e5);class on extends be{constructor(i){super(i),this._visibleLines=new It(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let i=0,c=this._dynamicOverlays.length;i<c;i++)if(this._dynamicOverlays[i].shouldRender())return!0;return!1}dispose(){super.dispose();for(let i=0,c=this._dynamicOverlays.length;i<c;i++)this._dynamicOverlays[i].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new bn(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(i){this._dynamicOverlays.push(i)}onConfigurationChanged(i){this._visibleLines.onConfigurationChanged(i);const c=this._visibleLines.getStartLineNumber(),v=this._visibleLines.getEndLineNumber();for(let B=c;B<=v;B++)this._visibleLines.getVisibleLine(B).onConfigurationChanged(i);return!0}onFlushed(i){return this._visibleLines.onFlushed(i)}onFocusChanged(i){return this._isFocused=i.isFocused,!0}onLinesChanged(i){return this._visibleLines.onLinesChanged(i)}onLinesDeleted(i){return this._visibleLines.onLinesDeleted(i)}onLinesInserted(i){return this._visibleLines.onLinesInserted(i)}onScrollChanged(i){return this._visibleLines.onScrollChanged(i)||!0}onTokensChanged(i){return this._visibleLines.onTokensChanged(i)}onZonesChanged(i){return this._visibleLines.onZonesChanged(i)}prepareRender(i){const c=this._dynamicOverlays.filter(v=>v.shouldRender());for(let v=0,B=c.length;v<B;v++){const U=c[v];U.prepareRender(i),U.onDidRender()}}render(i){this._viewOverlaysRender(i),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(i){this._visibleLines.renderLines(i.viewportData)}}class bn{constructor(i,c){this._configuration=i,this._lineHeight=this._configuration.options.get(59),this._dynamicOverlays=c,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(i){this._domNode=(0,oe.X)(i)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(i){this._lineHeight=this._configuration.options.get(59)}renderLine(i,c,v,B){let U="";for(let le=0,Ce=this._dynamicOverlays.length;le<Ce;le++){const ke=this._dynamicOverlays[le];U+=ke.render(v.startLineNumber,i)}return this._renderedContent===U?!1:(this._renderedContent=U,B.appendASCIIString('<div style="position:absolute;top:'),B.appendASCIIString(String(c)),B.appendASCIIString("px;width:100%;height:"),B.appendASCIIString(String(this._lineHeight)),B.appendASCIIString('px;">'),B.appendASCIIString(U),B.appendASCIIString("</div>"),!0)}layoutLine(i,c){this._domNode&&(this._domNode.setTop(c),this._domNode.setHeight(this._lineHeight))}}class hi extends on{constructor(i){super(i);const v=this._context.configuration.options.get(131);this._contentWidth=v.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(i){const v=this._context.configuration.options.get(131);return this._contentWidth=v.contentWidth,super.onConfigurationChanged(i)||!0}onScrollChanged(i){return super.onScrollChanged(i)||i.scrollWidthChanged}_viewOverlaysRender(i){super._viewOverlaysRender(i),this.domNode.setWidth(Math.max(i.scrollWidth,this._contentWidth))}}class En extends on{constructor(i){super(i);const c=this._context.configuration.options,v=c.get(131);this._contentLeft=v.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,Nn.N)(this.domNode,c.get(44))}onConfigurationChanged(i){const c=this._context.configuration.options;(0,Nn.N)(this.domNode,c.get(44));const v=c.get(131);return this._contentLeft=v.contentLeft,super.onConfigurationChanged(i)||!0}onScrollChanged(i){return super.onScrollChanged(i)||i.scrollHeightChanged}_viewOverlaysRender(i){super._viewOverlaysRender(i);const c=Math.min(i.scrollHeight,1e6);this.domNode.setHeight(c),this.domNode.setWidth(this._contentLeft)}}class Zi{constructor(i,c){this._coordinateBrand=void 0,this.top=i,this.left=c}}class ri extends be{constructor(i,c){super(i),this._viewDomNode=c,this._widgets={},this.domNode=(0,oe.X)(document.createElement("div")),We.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,oe.X)(document.createElement("div")),We.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(i){const c=Object.keys(this._widgets);for(const v of c)this._widgets[v].onConfigurationChanged(i);return!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLineMappingChanged(i){const c=Object.keys(this._widgets);for(const v of c)this._widgets[v].onLineMappingChanged(i);return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return!0}onZonesChanged(i){return!0}addWidget(i){const c=new ki(this._context,this._viewDomNode,i);this._widgets[c.id]=c,c.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(c.domNode):this.domNode.appendChild(c.domNode),this.setShouldRender()}setWidgetPosition(i,c,v){this._widgets[i.getId()].setPosition(c,v),this.setShouldRender()}removeWidget(i){const c=i.getId();if(this._widgets.hasOwnProperty(c)){const v=this._widgets[c];delete this._widgets[c];const B=v.domNode.domNode;B.parentNode.removeChild(B),B.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(i){return this._widgets.hasOwnProperty(i)?this._widgets[i].suppressMouseDown:!1}onBeforeRender(i){const c=Object.keys(this._widgets);for(const v of c)this._widgets[v].onBeforeRender(i)}prepareRender(i){const c=Object.keys(this._widgets);for(const v of c)this._widgets[v].prepareRender(i)}render(i){const c=Object.keys(this._widgets);for(const v of c)this._widgets[v].render(i)}}class ki{constructor(i,c,v){this._context=i,this._viewDomNode=c,this._actual=v,this.domNode=(0,oe.X)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const B=this._context.configuration.options,U=B.get(131);this._fixedOverflowWidgets=B.get(36),this._contentWidth=U.contentWidth,this._contentLeft=U.contentLeft,this._lineHeight=B.get(59),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(i){const c=this._context.configuration.options;if(this._lineHeight=c.get(59),i.hasChanged(131)){const v=c.get(131);this._contentLeft=v.contentLeft,this._contentWidth=v.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(i){this._setPosition(this._range)}_setPosition(i){if(this._range=i,this._viewRange=null,this._range){const c=this._context.viewModel.model.validateRange(this._range);(this._context.viewModel.coordinatesConverter.modelPositionIsVisible(c.getStartPosition())||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(c.getEndPosition()))&&(this._viewRange=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(c))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(i,c){this._setPosition(i),this._preference=c,this._viewRange&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(i,c,v,B,U){const le=i.top,Ce=le,ke=c.top+this._lineHeight,Oe=U.viewportHeight-ke,Qe=le-B,qe=Ce>=B,Ct=ke,Dt=Oe>=B;let $t=i.left,qt=c.left;return $t+v>U.scrollLeft+U.viewportWidth&&($t=U.scrollLeft+U.viewportWidth-v),qt+v>U.scrollLeft+U.viewportWidth&&(qt=U.scrollLeft+U.viewportWidth-v),$t<U.scrollLeft&&($t=U.scrollLeft),qt<U.scrollLeft&&(qt=U.scrollLeft),{fitsAbove:qe,aboveTop:Qe,aboveLeft:$t,fitsBelow:Dt,belowTop:Ct,belowLeft:qt}}_layoutHorizontalSegmentInPage(i,c,v,B){const U=Math.max(0,c.left-B),le=Math.min(c.left+c.width+B,i.width);let Ce=c.left+v-A.DI.scrollX;if(Ce+B>le){const ke=Ce-(le-B);Ce-=ke,v-=ke}if(Ce<U){const ke=Ce-U;Ce-=ke,v-=ke}return[v,Ce]}_layoutBoxInPage(i,c,v,B,U){const le=i.top-B,Ce=c.top+this._lineHeight,ke=A.i(this._viewDomNode.domNode),Oe=ke.top+le-A.DI.scrollY,Qe=ke.top+Ce-A.DI.scrollY,qe=A.D6(document.body),[Ct,Dt]=this._layoutHorizontalSegmentInPage(qe,ke,i.left-U.scrollLeft+this._contentLeft,v),[$t,qt]=this._layoutHorizontalSegmentInPage(qe,ke,c.left-U.scrollLeft+this._contentLeft,v),un=22,In=22,Bn=Oe>=un,Vn=Qe+B<=qe.height-In;return this._fixedOverflowWidgets?{fitsAbove:Bn,aboveTop:Math.max(Oe,un),aboveLeft:Dt,fitsBelow:Vn,belowTop:Qe,belowLeft:qt}:{fitsAbove:Bn,aboveTop:le,aboveLeft:Ct,fitsBelow:Vn,belowTop:Ce,belowLeft:$t}}_prepareRenderWidgetAtExactPositionOverflowing(i){return new Zi(i.top,i.left+this._contentLeft)}_getTopAndBottomLeft(i){if(!this._viewRange)return[null,null];const c=i.linesVisibleRangesForRange(this._viewRange,!1);if(!c||c.length===0)return[null,null];let v=c[0],B=c[0];for(const qe of c)qe.lineNumber<v.lineNumber&&(v=qe),qe.lineNumber>B.lineNumber&&(B=qe);let U=1073741824;for(const qe of v.ranges)qe.left<U&&(U=qe.left);let le=1073741824;for(const qe of B.ranges)qe.left<le&&(le=qe.left);const Ce=i.getVerticalOffsetForLineNumber(v.lineNumber)-i.scrollTop,ke=new Zi(Ce,U),Oe=i.getVerticalOffsetForLineNumber(B.lineNumber)-i.scrollTop,Qe=new Zi(Oe,le);return[ke,Qe]}_prepareRenderWidget(i){if(!this._preference||this._preference.length===0)return null;const[c,v]=this._getTopAndBottomLeft(i);if(!c||!v)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let U=null;if(typeof this._actual.beforeRender=="function"&&(U=ui(this._actual.beforeRender,this._actual)),U)this._cachedDomNodeOffsetWidth=U.width,this._cachedDomNodeOffsetHeight=U.height;else{const le=this.domNode.domNode;this._cachedDomNodeOffsetWidth=le.offsetWidth,this._cachedDomNodeOffsetHeight=le.offsetHeight}}let B;this.allowEditorOverflow?B=this._layoutBoxInPage(c,v,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,i):B=this._layoutBoxInViewport(c,v,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,i);for(let U=1;U<=2;U++)for(const le of this._preference)if(le===1){if(!B)return null;if(U===2||B.fitsAbove)return{coordinate:new Zi(B.aboveTop,B.aboveLeft),position:1}}else if(le===2){if(!B)return null;if(U===2||B.fitsBelow)return{coordinate:new Zi(B.belowTop,B.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(c),position:0}:{coordinate:c,position:0};return null}onBeforeRender(i){!this._viewRange||!this._preference||this._viewRange.endLineNumber<i.startLineNumber||this._viewRange.startLineNumber>i.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(i){this._renderData=this._prepareRenderWidget(i)}render(i){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&ui(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+i.scrollTop-i.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&ui(this._actual.afterRender,this._actual,this._renderData.position)}}function ui(ut,i,...c){try{return ut.call(i,...c)}catch(v){return null}}class qi extends Xn{constructor(i){super(),this._context=i;const c=this._context.configuration.options,v=c.get(131);this._lineHeight=c.get(59),this._renderLineHighlight=c.get(85),this._renderLineHighlightOnlyWhenFocus=c.get(86),this._contentLeft=v.contentLeft,this._contentWidth=v.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new J.Y(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let i=!1;const c=this._selections.map(B=>B.positionLineNumber);c.sort((B,U)=>B-U),m.fS(this._cursorLineNumbers,c)||(this._cursorLineNumbers=c,i=!0);const v=this._selections.every(B=>B.isEmpty());return this._selectionIsEmpty!==v&&(this._selectionIsEmpty=v,i=!0),i}onThemeChanged(i){return this._readFromSelections()}onConfigurationChanged(i){const c=this._context.configuration.options,v=c.get(131);return this._lineHeight=c.get(59),this._renderLineHighlight=c.get(85),this._renderLineHighlightOnlyWhenFocus=c.get(86),this._contentLeft=v.contentLeft,this._contentWidth=v.contentWidth,!0}onCursorStateChanged(i){return this._selections=i.selections,this._readFromSelections()}onFlushed(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollWidthChanged||i.scrollTopChanged}onZonesChanged(i){return!0}onFocusChanged(i){return this._renderLineHighlightOnlyWhenFocus?(this._focused=i.isFocused,!0):!1}prepareRender(i){if(!this._shouldRenderThis()){this._renderData=null;return}const c=this._renderOne(i),v=i.visibleRange.startLineNumber,B=i.visibleRange.endLineNumber,U=this._cursorLineNumbers.length;let le=0;const Ce=[];for(let ke=v;ke<=B;ke++){const Oe=ke-v;for(;le<U&&this._cursorLineNumbers[le]<ke;)le++;le<U&&this._cursorLineNumbers[le]===ke?Ce[Oe]=c:Ce[Oe]=""}this._renderData=Ce}render(i,c){if(!this._renderData)return"";const v=c-i;return v>=this._renderData.length?"":this._renderData[v]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class Xs extends qi{_renderOne(i){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(i.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class zs extends qi{_renderOne(i){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}(0,Gn.Ic)((ut,i)=>{const c=ut.getColor(Sn.Kh);if(c&&(i.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${c}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${c}; border: none; }`)),!c||c.isTransparent()||ut.defines(Sn.Mm)){const v=ut.getColor(Sn.Mm);v&&(i.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${v}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${v}; }`),ut.type==="hc"&&(i.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),i.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});class Ki extends Xn{constructor(i){super(),this._context=i;const c=this._context.configuration.options;this._lineHeight=c.get(59),this._typicalHalfwidthCharacterWidth=c.get(44).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const c=this._context.configuration.options;return this._lineHeight=c.get(59),this._typicalHalfwidthCharacterWidth=c.get(44).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged||i.scrollWidthChanged}onZonesChanged(i){return!0}prepareRender(i){const c=i.getDecorationsInViewport();let v=[],B=0;for(let ke=0,Oe=c.length;ke<Oe;ke++){const Qe=c[ke];Qe.options.className&&(v[B++]=Qe)}v=v.sort((ke,Oe)=>{if(ke.options.zIndex<Oe.options.zIndex)return-1;if(ke.options.zIndex>Oe.options.zIndex)return 1;const Qe=ke.options.className,qe=Oe.options.className;return Qe<qe?-1:Qe>qe?1:en.e.compareRangesUsingStarts(ke.range,Oe.range)});const U=i.visibleRange.startLineNumber,le=i.visibleRange.endLineNumber,Ce=[];for(let ke=U;ke<=le;ke++){const Oe=ke-U;Ce[Oe]=""}this._renderWholeLineDecorations(i,v,Ce),this._renderNormalDecorations(i,v,Ce),this._renderResult=Ce}_renderWholeLineDecorations(i,c,v){const B=String(this._lineHeight),U=i.visibleRange.startLineNumber,le=i.visibleRange.endLineNumber;for(let Ce=0,ke=c.length;Ce<ke;Ce++){const Oe=c[Ce];if(!Oe.options.isWholeLine)continue;const Qe='<div class="cdr '+Oe.options.className+'" style="left:0;width:100%;height:'+B+'px;"></div>',qe=Math.max(Oe.range.startLineNumber,U),Ct=Math.min(Oe.range.endLineNumber,le);for(let Dt=qe;Dt<=Ct;Dt++){const $t=Dt-U;v[$t]+=Qe}}}_renderNormalDecorations(i,c,v){const B=String(this._lineHeight),U=i.visibleRange.startLineNumber;let le=null,Ce=!1,ke=null;for(let Oe=0,Qe=c.length;Oe<Qe;Oe++){const qe=c[Oe];if(qe.options.isWholeLine)continue;const Ct=qe.options.className,Dt=Boolean(qe.options.showIfCollapsed);let $t=qe.range;if(Dt&&$t.endColumn===1&&$t.endLineNumber!==$t.startLineNumber&&($t=new en.e($t.startLineNumber,$t.startColumn,$t.endLineNumber-1,this._context.viewModel.getLineMaxColumn($t.endLineNumber-1))),le===Ct&&Ce===Dt&&en.e.areIntersectingOrTouching(ke,$t)){ke=en.e.plusRange(ke,$t);continue}le!==null&&this._renderNormalDecoration(i,ke,le,Ce,B,U,v),le=Ct,Ce=Dt,ke=$t}le!==null&&this._renderNormalDecoration(i,ke,le,Ce,B,U,v)}_renderNormalDecoration(i,c,v,B,U,le,Ce){const ke=i.linesVisibleRangesForRange(c,v==="findMatch");if(!!ke)for(let Oe=0,Qe=ke.length;Oe<Qe;Oe++){const qe=ke[Oe];if(qe.outsideRenderedLine)continue;const Ct=qe.lineNumber-le;if(B&&qe.ranges.length===1){const Dt=qe.ranges[0];if(Dt.width<this._typicalHalfwidthCharacterWidth){const $t=Math.round(Dt.left+Dt.width/2),qt=Math.max(0,Math.round($t-this._typicalHalfwidthCharacterWidth/2));qe.ranges[0]=new tt(qt,this._typicalHalfwidthCharacterWidth)}}for(let Dt=0,$t=qe.ranges.length;Dt<$t;Dt++){const qt=qe.ranges[Dt],un='<div class="cdr '+v+'" style="left:'+String(qt.left)+"px;width:"+String(qt.width)+"px;height:"+U+'px;"></div>';Ce[Ct]+=un}}}render(i,c){if(!this._renderResult)return"";const v=c-i;return v<0||v>=this._renderResult.length?"":this._renderResult[v]}}var Os=l(25451),ai=l(58385);class Jo extends be{constructor(i,c,v,B){super(i);const U=this._context.configuration.options,le=U.get(92),Ce=U.get(67),ke=U.get(34),Oe=U.get(95),Qe={listenOnDomNode:v.domNode,className:"editor-scrollable "+(0,Gn.m6)(i.theme.type),useShadows:!1,lazyRender:!0,vertical:le.vertical,horizontal:le.horizontal,verticalHasArrows:le.verticalHasArrows,horizontalHasArrows:le.horizontalHasArrows,verticalScrollbarSize:le.verticalScrollbarSize,verticalSliderSize:le.verticalSliderSize,horizontalScrollbarSize:le.horizontalScrollbarSize,horizontalSliderSize:le.horizontalSliderSize,handleMouseWheel:le.handleMouseWheel,alwaysConsumeMouseWheel:le.alwaysConsumeMouseWheel,arrowSize:le.arrowSize,mouseWheelScrollSensitivity:Ce,fastScrollSensitivity:ke,scrollPredominantAxis:Oe,scrollByPage:le.scrollByPage};this.scrollbar=this._register(new Os.$Z(c.domNode,Qe,this._context.viewLayout.getScrollable())),We.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,oe.X)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const qe=(Ct,Dt,$t)=>{const qt={};if(Dt){const un=Ct.scrollTop;un&&(qt.scrollTop=this._context.viewLayout.getCurrentScrollTop()+un,Ct.scrollTop=0)}if($t){const un=Ct.scrollLeft;un&&(qt.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+un,Ct.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(qt,1)};this._register(A.nm(v.domNode,"scroll",Ct=>qe(v.domNode,!0,!0))),this._register(A.nm(c.domNode,"scroll",Ct=>qe(c.domNode,!0,!1))),this._register(A.nm(B.domNode,"scroll",Ct=>qe(B.domNode,!0,!1))),this._register(A.nm(this.scrollbarDomNode.domNode,"scroll",Ct=>qe(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const i=this._context.configuration.options,c=i.get(131);this.scrollbarDomNode.setLeft(c.contentLeft),i.get(65).side==="right"?this.scrollbarDomNode.setWidth(c.contentWidth+c.minimap.minimapWidth):this.scrollbarDomNode.setWidth(c.contentWidth),this.scrollbarDomNode.setHeight(c.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(i){this.scrollbar.delegateVerticalScrollbarMouseDown(i)}onConfigurationChanged(i){if(i.hasChanged(92)||i.hasChanged(67)||i.hasChanged(34)){const c=this._context.configuration.options,v=c.get(92),B=c.get(67),U=c.get(34),le=c.get(95),Ce={vertical:v.vertical,horizontal:v.horizontal,verticalScrollbarSize:v.verticalScrollbarSize,horizontalScrollbarSize:v.horizontalScrollbarSize,scrollByPage:v.scrollByPage,handleMouseWheel:v.handleMouseWheel,mouseWheelScrollSensitivity:B,fastScrollSensitivity:U,scrollPredominantAxis:le};this.scrollbar.updateOptions(Ce)}return i.hasChanged(131)&&this._setLayout(),!0}onScrollChanged(i){return!0}onThemeChanged(i){return this.scrollbar.updateClassName("editor-scrollable "+(0,Gn.m6)(this._context.theme.type)),!0}prepareRender(i){}render(i){this.scrollbar.renderNow()}}(0,Gn.Ic)((ut,i)=>{const c=ut.getColor(ai._wn);c&&i.addRule(`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${c} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${c} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${c} 6px 6px 6px -6px inset;
			}
		`);const v=ut.getColor(ai.etL);v&&i.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${v};
			}
		`);const B=ut.getColor(ai.ABB);B&&i.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${B};
			}
		`);const U=ut.getColor(ai.ynu);U&&i.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${U};
			}
		`)});class co{constructor(i,c,v){this._decorationToRenderBrand=void 0,this.startLineNumber=+i,this.endLineNumber=+c,this.className=String(v)}}class Ks extends Xn{_render(i,c,v){const B=[];for(let Ce=i;Ce<=c;Ce++){const ke=Ce-i;B[ke]=[]}if(v.length===0)return B;v.sort((Ce,ke)=>Ce.className===ke.className?Ce.startLineNumber===ke.startLineNumber?Ce.endLineNumber-ke.endLineNumber:Ce.startLineNumber-ke.startLineNumber:Ce.className<ke.className?-1:1);let U=null,le=0;for(let Ce=0,ke=v.length;Ce<ke;Ce++){const Oe=v[Ce],Qe=Oe.className;let qe=Math.max(Oe.startLineNumber,i)-i;const Ct=Math.min(Oe.endLineNumber,c)-i;U===Qe?(qe=Math.max(le+1,qe),le=Math.max(le,Ct)):(U=Qe,le=Ct);for(let Dt=qe;Dt<=le;Dt++)B[Dt].push(U)}return B}}class ts extends Ks{constructor(i){super(),this._context=i;const c=this._context.configuration.options,v=c.get(131);this._lineHeight=c.get(59),this._glyphMargin=c.get(50),this._glyphMarginLeft=v.glyphMarginLeft,this._glyphMarginWidth=v.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const c=this._context.configuration.options,v=c.get(131);return this._lineHeight=c.get(59),this._glyphMargin=c.get(50),this._glyphMarginLeft=v.glyphMarginLeft,this._glyphMarginWidth=v.glyphMarginWidth,!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_getDecorations(i){const c=i.getDecorationsInViewport(),v=[];let B=0;for(let U=0,le=c.length;U<le;U++){const Ce=c[U],ke=Ce.options.glyphMarginClassName;ke&&(v[B++]=new co(Ce.range.startLineNumber,Ce.range.endLineNumber,ke))}return v}prepareRender(i){if(!this._glyphMargin){this._renderResult=null;return}const c=i.visibleRange.startLineNumber,v=i.visibleRange.endLineNumber,B=this._render(c,v,this._getDecorations(i)),U=this._lineHeight.toString(),le=this._glyphMarginLeft.toString(),Ce=this._glyphMarginWidth.toString(),ke='" style="left:'+le+"px;width:"+Ce+"px;height:"+U+'px;"></div>',Oe=[];for(let Qe=c;Qe<=v;Qe++){const qe=Qe-c,Ct=B[qe];Ct.length===0?Oe[qe]="":Oe[qe]='<div class="cgmr codicon '+Ct.join(" ")+ke}this._renderResult=Oe}render(i,c){if(!this._renderResult)return"";const v=c-i;return v<0||v>=this._renderResult.length?"":this._renderResult[v]}}var bo=l(37061),Lo=l(57604),Us=l(11370);class Rs extends Xn{constructor(i){super(),this._context=i,this._primaryPosition=null;const c=this._context.configuration.options,v=c.get(132),B=c.get(44);this._lineHeight=c.get(59),this._spaceWidth=B.spaceWidth,this._maxIndentLeft=v.wrappingColumn===-1?-1:v.wrappingColumn*B.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=c.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const c=this._context.configuration.options,v=c.get(132),B=c.get(44);return this._lineHeight=c.get(59),this._spaceWidth=B.spaceWidth,this._maxIndentLeft=v.wrappingColumn===-1?-1:v.wrappingColumn*B.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=c.get(13),!0}onCursorStateChanged(i){var c;const B=i.selections[0].getPosition();return!((c=this._primaryPosition)===null||c===void 0)&&c.equals(B)?!1:(this._primaryPosition=B,!0)}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}onLanguageConfigurationChanged(i){return!0}prepareRender(i){var c,v,B,U;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const le=i.visibleRange.startLineNumber,Ce=i.visibleRange.endLineNumber,ke=i.scrollWidth,Oe=this._lineHeight,Qe=this._primaryPosition,qe=this.getGuidesByLine(le,Ce,Qe),Ct=[];for(let Dt=le;Dt<=Ce;Dt++){const $t=Dt-le,qt=qe[$t];let un="";const In=(v=(c=i.visibleRangeForPosition(new Pe.L(Dt,1)))===null||c===void 0?void 0:c.left)!==null&&v!==void 0?v:0;for(const Bn of qt){const Vn=In+(Bn.visibleColumn-1)*this._spaceWidth;if(Vn>ke||this._maxIndentLeft>0&&Vn>this._maxIndentLeft)break;const li=Bn.horizontalLine?Bn.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",si=Bn.horizontalLine?((U=(B=i.visibleRangeForPosition(new Pe.L(Dt,Bn.horizontalLine.endColumn)))===null||B===void 0?void 0:B.left)!==null&&U!==void 0?U:Vn+this._spaceWidth)-Vn:this._spaceWidth;un+=`<div class="core-guide ${Bn.className} ${li}" style="left:${Vn}px;height:${Oe}px;width:${si}px"></div>`}Ct[$t]=un}this._renderResult=Ct}getGuidesByLine(i,c,v){const B=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(i,c,v,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?Us.s6.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?Us.s6.EnabledForActive:Us.s6.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,U=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(i,c):null;let le=0,Ce=0,ke=0;if(this._bracketPairGuideOptions.highlightActiveIndentation&&v){const qe=this._context.viewModel.getActiveIndentGuide(v.lineNumber,i,c);le=qe.startLineNumber,Ce=qe.endLineNumber,ke=qe.indent}const{indentSize:Oe}=this._context.viewModel.model.getOptions(),Qe=[];for(let qe=i;qe<=c;qe++){const Ct=new Array;Qe.push(Ct);const Dt=B?B[qe-i]:[],$t=new m.H9(Dt),qt=U?U[qe-i]:[];for(let un=1;un<=qt;un++){const In=(un-1)*Oe+1,Bn=Dt.length===0&&le<=qe&&qe<=Ce&&un===ke;Ct.push(...$t.takeWhile(li=>li.visibleColumn<In)||[]);const Vn=$t.peek();(!Vn||Vn.visibleColumn!==In||Vn.horizontalLine)&&Ct.push(new Us.UO(In,Bn?"core-guide-indent-active":"core-guide-indent",null))}Ct.push(...$t.takeWhile(un=>!0)||[])}return Qe}render(i,c){if(!this._renderResult)return"";const v=c-i;return v<0||v>=this._renderResult.length?"":this._renderResult[v]}}function Ns(ut){if(!(ut&&ut.isTransparent()))return ut}(0,Gn.Ic)((ut,i)=>{const c=ut.getColor(Sn.tR);c&&i.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${c} inset; }`);const v=ut.getColor(Sn.Ym)||c;v&&i.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${v} inset; }`);const B=[{bracketColor:Sn.zJ,guideColor:Sn.oV,guideColorActive:Sn.Qb},{bracketColor:Sn.Vs,guideColor:Sn.m$,guideColorActive:Sn.m3},{bracketColor:Sn.CE,guideColor:Sn.DS,guideColorActive:Sn.To},{bracketColor:Sn.UP,guideColor:Sn.lS,guideColorActive:Sn.L7},{bracketColor:Sn.r0,guideColor:Sn.Jn,guideColorActive:Sn.HV},{bracketColor:Sn.m1,guideColor:Sn.YF,guideColorActive:Sn.f9}],U=new Lo.W,le=B.map(Ce=>{var ke,Oe;const Qe=ut.getColor(Ce.bracketColor),qe=ut.getColor(Ce.guideColor),Ct=ut.getColor(Ce.guideColorActive),Dt=Ns((ke=Ns(qe))!==null&&ke!==void 0?ke:Qe==null?void 0:Qe.transparent(.3)),$t=Ns((Oe=Ns(Ct))!==null&&Oe!==void 0?Oe:Qe);if(!(!Dt||!$t))return{guideColor:Dt,guideColorActive:$t}}).filter(bo.$K);if(le.length>0){for(let Ce=0;Ce<30;Ce++){const ke=le[Ce%le.length];i.addRule(`.monaco-editor .${U.getInlineClassNameOfLevel(Ce).replace(/ /g,".")} { --guide-color: ${ke.guideColor}; --guide-color-active: ${ke.guideColorActive}; }`)}i.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),i.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),i.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),i.addRule(`.monaco-editor .vertical.${U.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),i.addRule(`.monaco-editor .horizontal-top.${U.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),i.addRule(`.monaco-editor .horizontal-bottom.${U.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}});class Vo{constructor(){this._currentVisibleRange=new en.e(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(i){this._currentVisibleRange=i}}class Po{constructor(i,c,v,B,U,le,Ce){this.minimalReveal=i,this.lineNumber=c,this.startColumn=v,this.endColumn=B,this.startScrollTop=U,this.stopScrollTop=le,this.scrollType=Ce,this.type="range",this.minLineNumber=c,this.maxLineNumber=c}}class $o{constructor(i,c,v,B,U){this.minimalReveal=i,this.selections=c,this.startScrollTop=v,this.stopScrollTop=B,this.scrollType=U,this.type="selections";let le=c[0].startLineNumber,Ce=c[0].endLineNumber;for(let ke=1,Oe=c.length;ke<Oe;ke++){const Qe=c[ke];le=Math.min(le,Qe.startLineNumber),Ce=Math.max(Ce,Qe.endLineNumber)}this.minLineNumber=le,this.maxLineNumber=Ce}}class go extends be{constructor(i,c){super(i),this._linesContent=c,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new It(this),this.domNode=this._visibleLines.domNode;const v=this._context.configuration,B=this._context.configuration.options,U=B.get(44),le=B.get(132),Ce=B.get(131);this._lineHeight=B.get(59),this._typicalHalfwidthCharacterWidth=U.typicalHalfwidthCharacterWidth,this._isViewportWrapping=le.isViewportWrapping,this._revealHorizontalRightPadding=B.get(89),this._horizontalScrollbarHeight=Ce.horizontalScrollbarHeight,this._cursorSurroundingLines=B.get(25),this._cursorSurroundingLinesStyle=B.get(26),this._canUseLayerHinting=!B.get(28),this._viewLineOptions=new $e(v,this._context.theme.type),We.write(this.domNode,7),this.domNode.setClassName(`view-lines ${oi.S}`),(0,Nn.N)(this.domNode,U),this._maxLineWidth=0,this._asyncUpdateLineWidths=new Me.pY(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new Me.pY(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new Vo,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new at(this._viewLineOptions)}onConfigurationChanged(i){this._visibleLines.onConfigurationChanged(i),i.hasChanged(132)&&(this._maxLineWidth=0);const c=this._context.configuration.options,v=c.get(44),B=c.get(132),U=c.get(131);return this._lineHeight=c.get(59),this._typicalHalfwidthCharacterWidth=v.typicalHalfwidthCharacterWidth,this._isViewportWrapping=B.isViewportWrapping,this._revealHorizontalRightPadding=c.get(89),this._horizontalScrollbarHeight=U.horizontalScrollbarHeight,this._cursorSurroundingLines=c.get(25),this._cursorSurroundingLinesStyle=c.get(26),this._canUseLayerHinting=!c.get(28),(0,Nn.N)(this.domNode,v),this._onOptionsMaybeChanged(),i.hasChanged(131)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const i=this._context.configuration,c=new $e(i,this._context.theme.type);if(!this._viewLineOptions.equals(c)){this._viewLineOptions=c;const v=this._visibleLines.getStartLineNumber(),B=this._visibleLines.getEndLineNumber();for(let U=v;U<=B;U++)this._visibleLines.getVisibleLine(U).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(i){const c=this._visibleLines.getStartLineNumber(),v=this._visibleLines.getEndLineNumber();let B=!1;for(let U=c;U<=v;U++)B=this._visibleLines.getVisibleLine(U).onSelectionChanged()||B;return B}onDecorationsChanged(i){{const c=this._visibleLines.getStartLineNumber(),v=this._visibleLines.getEndLineNumber();for(let B=c;B<=v;B++)this._visibleLines.getVisibleLine(B).onDecorationsChanged()}return!0}onFlushed(i){const c=this._visibleLines.onFlushed(i);return this._maxLineWidth=0,c}onLinesChanged(i){return this._visibleLines.onLinesChanged(i)}onLinesDeleted(i){return this._visibleLines.onLinesDeleted(i)}onLinesInserted(i){return this._visibleLines.onLinesInserted(i)}onRevealRangeRequest(i){const c=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),i.source,i.minimalReveal,i.range,i.selections,i.verticalType);if(c===-1)return!1;let v=this._context.viewLayout.validateScrollPosition({scrollTop:c});i.revealHorizontal?i.range&&i.range.startLineNumber!==i.range.endLineNumber?v={scrollTop:v.scrollTop,scrollLeft:0}:i.range?this._horizontalRevealRequest=new Po(i.minimalReveal,i.range.startLineNumber,i.range.startColumn,i.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),v.scrollTop,i.scrollType):i.selections&&i.selections.length>0&&(this._horizontalRevealRequest=new $o(i.minimalReveal,i.selections,this._context.viewLayout.getCurrentScrollTop(),v.scrollTop,i.scrollType)):this._horizontalRevealRequest=null;const U=Math.abs(this._context.viewLayout.getCurrentScrollTop()-v.scrollTop)<=this._lineHeight?1:i.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(v,U),!0}onScrollChanged(i){if(this._horizontalRevealRequest&&i.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&i.scrollTopChanged){const c=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),v=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(i.scrollTop<c||i.scrollTop>v)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(i.scrollWidth),this._visibleLines.onScrollChanged(i)||!0}onTokensChanged(i){return this._visibleLines.onTokensChanged(i)}onZonesChanged(i){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(i)}onThemeChanged(i){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(i,c){const v=this._getViewLineDomNode(i);if(v===null)return null;const B=this._getLineNumberFor(v);if(B===-1||B<1||B>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(B)===1)return new Pe.L(B,1);const U=this._visibleLines.getStartLineNumber(),le=this._visibleLines.getEndLineNumber();if(B<U||B>le)return null;let Ce=this._visibleLines.getVisibleLine(B).getColumnOfNodeOffset(B,i,c);const ke=this._context.viewModel.getLineMinColumn(B);return Ce<ke&&(Ce=ke),new Pe.L(B,Ce)}_getViewLineDomNode(i){for(;i&&i.nodeType===1;){if(i.className===at.CLASS_NAME)return i;i=i.parentElement}return null}_getLineNumberFor(i){const c=this._visibleLines.getStartLineNumber(),v=this._visibleLines.getEndLineNumber();for(let B=c;B<=v;B++){const U=this._visibleLines.getVisibleLine(B);if(i===U.getDomNode())return B}return-1}getLineWidth(i){const c=this._visibleLines.getStartLineNumber(),v=this._visibleLines.getEndLineNumber();return i<c||i>v?-1:this._visibleLines.getVisibleLine(i).getWidth()}linesVisibleRangesForRange(i,c){if(this.shouldRender())return null;const v=i.endLineNumber,B=en.e.intersectRanges(i,this._lastRenderedData.getCurrentVisibleRange());if(!B)return null;let U=[],le=0;const Ce=new ve(this.domNode.domNode,this._textRangeRestingSpot);let ke=0;c&&(ke=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Pe.L(B.startLineNumber,1)).lineNumber);const Oe=this._visibleLines.getStartLineNumber(),Qe=this._visibleLines.getEndLineNumber();for(let qe=B.startLineNumber;qe<=B.endLineNumber;qe++){if(qe<Oe||qe>Qe)continue;const Ct=qe===B.startLineNumber?B.startColumn:1,Dt=qe===B.endLineNumber?B.endColumn:this._context.viewModel.getLineMaxColumn(qe),$t=this._visibleLines.getVisibleLine(qe).getVisibleRangesForRange(qe,Ct,Dt,Ce);if(!!$t){if(c&&qe<v){const qt=ke;ke=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Pe.L(qe+1,1)).lineNumber,qt!==ke&&($t.ranges[$t.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}U[le++]=new _t($t.outsideRenderedLine,qe,tt.from($t.ranges))}}return le===0?null:U}_visibleRangesForLineRange(i,c,v){return this.shouldRender()||i<this._visibleLines.getStartLineNumber()||i>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(i).getVisibleRangesForRange(i,c,v,new ve(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(i){const c=this._visibleRangesForLineRange(i.lineNumber,i.column,i.column);return c?new Ut(c.outsideRenderedLine,c.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(i){const c=this._visibleLines.getStartLineNumber(),v=this._visibleLines.getEndLineNumber();let B=1,U=!0;for(let le=c;le<=v;le++){const Ce=this._visibleLines.getVisibleLine(le);if(i&&!Ce.getWidthIsFast()){U=!1;continue}B=Math.max(B,Ce.getWidth())}return U&&c===1&&v===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(B),U}_checkMonospaceFontAssumptions(){let i=-1,c=-1;const v=this._visibleLines.getStartLineNumber(),B=this._visibleLines.getEndLineNumber();for(let U=v;U<=B;U++){const le=this._visibleLines.getVisibleLine(U);if(le.needsMonospaceFontCheck()){const Ce=le.getWidth();Ce>c&&(c=Ce,i=U)}}if(i!==-1&&!this._visibleLines.getVisibleLine(i).monospaceAssumptionsAreValid())for(let U=v;U<=B;U++)this._visibleLines.getVisibleLine(U).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(i){if(this._visibleLines.renderLines(i),this._lastRenderedData.setCurrentVisibleRange(i.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const v=this._horizontalRevealRequest;if(i.startLineNumber<=v.minLineNumber&&v.maxLineNumber<=i.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const B=this._computeScrollLeftToReveal(v);B&&(this._isViewportWrapping||this._ensureMaxLineWidth(B.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:B.scrollLeft},v.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),x.IJ&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const v=this._visibleLines.getStartLineNumber(),B=this._visibleLines.getEndLineNumber();for(let U=v;U<=B;U++)if(this._visibleLines.getVisibleLine(U).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const c=this._context.viewLayout.getCurrentScrollTop()-i.bigNumbersDelta;this._linesContent.setTop(-c),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(i){const c=Math.ceil(i);this._maxLineWidth<c&&(this._maxLineWidth=c,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(i,c,v,B,U,le){const Ce=i.top,ke=i.height,Oe=Ce+ke;let Qe,qe,Ct;if(U&&U.length>0){let qt=U[0].startLineNumber,un=U[0].endLineNumber;for(let In=1,Bn=U.length;In<Bn;In++){const Vn=U[In];qt=Math.min(qt,Vn.startLineNumber),un=Math.max(un,Vn.endLineNumber)}Qe=!1,qe=this._context.viewLayout.getVerticalOffsetForLineNumber(qt),Ct=this._context.viewLayout.getVerticalOffsetForLineNumber(un)+this._lineHeight}else if(B)Qe=!0,qe=this._context.viewLayout.getVerticalOffsetForLineNumber(B.startLineNumber),Ct=this._context.viewLayout.getVerticalOffsetForLineNumber(B.endLineNumber)+this._lineHeight;else return-1;if((c==="mouse"||v)&&this._cursorSurroundingLinesStyle==="default")v||(qe-=this._lineHeight);else{const qt=Math.min(ke/this._lineHeight/2,this._cursorSurroundingLines);qe-=qt*this._lineHeight,Ct+=Math.max(0,qt-1)*this._lineHeight}(le===0||le===4)&&(Ct+=v?this._horizontalScrollbarHeight:this._lineHeight);let $t;if(Ct-qe>ke){if(!Qe)return-1;$t=qe}else if(le===5||le===6)if(le===6&&Ce<=qe&&Ct<=Oe)$t=Ce;else{const qt=Math.max(5*this._lineHeight,ke*.2),un=qe-qt,In=Ct-ke;$t=Math.max(In,un)}else if(le===1||le===2)if(le===2&&Ce<=qe&&Ct<=Oe)$t=Ce;else{const qt=(qe+Ct)/2;$t=Math.max(0,qt-ke/2)}else $t=this._computeMinimumScrolling(Ce,Oe,qe,Ct,le===3,le===4);return $t}_computeScrollLeftToReveal(i){const c=this._context.viewLayout.getCurrentViewport(),v=c.left,B=v+c.width;let U=1073741824,le=0;if(i.type==="range"){const ke=this._visibleRangesForLineRange(i.lineNumber,i.startColumn,i.endColumn);if(!ke)return null;for(const Oe of ke.ranges)U=Math.min(U,Math.round(Oe.left)),le=Math.max(le,Math.round(Oe.left+Oe.width))}else for(const ke of i.selections){if(ke.startLineNumber!==ke.endLineNumber)return null;const Oe=this._visibleRangesForLineRange(ke.startLineNumber,ke.startColumn,ke.endColumn);if(!Oe)return null;for(const Qe of Oe.ranges)U=Math.min(U,Math.round(Qe.left)),le=Math.max(le,Math.round(Qe.left+Qe.width))}return i.minimalReveal||(U=Math.max(0,U-go.HORIZONTAL_EXTRA_PX),le+=this._revealHorizontalRightPadding),i.type==="selections"&&le-U>c.width?null:{scrollLeft:this._computeMinimumScrolling(v,B,U,le),maxHorizontalOffset:le}}_computeMinimumScrolling(i,c,v,B,U,le){i=i|0,c=c|0,v=v|0,B=B|0,U=!!U,le=!!le;const Ce=c-i;if(B-v<Ce){if(U)return v;if(le)return Math.max(0,B-Ce);if(v<i)return v;if(B>c)return Math.max(0,B-Ce)}else return v;return i}}go.HORIZONTAL_EXTRA_PX=30;class Is extends Ks{constructor(i){super(),this._context=i;const v=this._context.configuration.options.get(131);this._decorationsLeft=v.decorationsLeft,this._decorationsWidth=v.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const v=this._context.configuration.options.get(131);return this._decorationsLeft=v.decorationsLeft,this._decorationsWidth=v.decorationsWidth,!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_getDecorations(i){const c=i.getDecorationsInViewport(),v=[];let B=0;for(let U=0,le=c.length;U<le;U++){const Ce=c[U],ke=Ce.options.linesDecorationsClassName;ke&&(v[B++]=new co(Ce.range.startLineNumber,Ce.range.endLineNumber,ke));const Oe=Ce.options.firstLineDecorationClassName;Oe&&(v[B++]=new co(Ce.range.startLineNumber,Ce.range.startLineNumber,Oe))}return v}prepareRender(i){const c=i.visibleRange.startLineNumber,v=i.visibleRange.endLineNumber,B=this._render(c,v,this._getDecorations(i)),U=this._decorationsLeft.toString(),le=this._decorationsWidth.toString(),Ce='" style="left:'+U+"px;width:"+le+'px;"></div>',ke=[];for(let Oe=c;Oe<=v;Oe++){const Qe=Oe-c,qe=B[Qe];let Ct="";for(let Dt=0,$t=qe.length;Dt<$t;Dt++)Ct+='<div class="cldr '+qe[Dt]+Ce;ke[Qe]=Ct}this._renderResult=ke}render(i,c){return this._renderResult?this._renderResult[c-i]:""}}class Go extends Ks{constructor(i){super(),this._context=i,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){return!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_getDecorations(i){const c=i.getDecorationsInViewport(),v=[];let B=0;for(let U=0,le=c.length;U<le;U++){const Ce=c[U],ke=Ce.options.marginClassName;ke&&(v[B++]=new co(Ce.range.startLineNumber,Ce.range.endLineNumber,ke))}return v}prepareRender(i){const c=i.visibleRange.startLineNumber,v=i.visibleRange.endLineNumber,B=this._render(c,v,this._getDecorations(i)),U=[];for(let le=c;le<=v;le++){const Ce=le-c,ke=B[Ce];let Oe="";for(let Qe=0,qe=ke.length;Qe<qe;Qe++)Oe+='<div class="cmdr '+ke[Qe]+'" style=""></div>';U[Ce]=Oe}this._renderResult=U}render(i,c){return this._renderResult?this._renderResult[c-i]:""}}var qo=l(14401);class Xi{constructor(i,c,v,B){this._rgba8Brand=void 0,this.r=Xi._clamp(i),this.g=Xi._clamp(c),this.b=Xi._clamp(v),this.a=Xi._clamp(B)}equals(i){return this.r===i.r&&this.g===i.g&&this.b===i.b&&this.a===i.a}static _clamp(i){return i<0?0:i>255?255:i|0}}Xi.Empty=new Xi(0,0,0,0);class Gs extends w.JT{constructor(){super(),this._onDidChange=new I.Q5,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(Yn.RW.onDidChange(i=>{i.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,w.dk)(new Gs)),this._INSTANCE}_updateColorMap(){const i=Yn.RW.getColorMap();if(!i){this._colors=[Xi.Empty],this._backgroundIsLight=!0;return}this._colors=[Xi.Empty];for(let v=1;v<i.length;v++){const B=i[v].rgba;this._colors[v]=new Xi(B.r,B.g,B.b,Math.round(B.a*255))}const c=i[2].getRelativeLuminance();this._backgroundIsLight=c>=.5,this._onDidChange.fire(void 0)}getColor(i){return(i<1||i>=this._colors.length)&&(i=2),this._colors[i]}backgroundIsLight(){return this._backgroundIsLight}}Gs._INSTANCE=null;var es=l(93831);const va=(()=>{const ut=[];for(let i=32;i<=126;i++)ut.push(i);return ut.push(65533),ut})(),tn=(ut,i)=>(ut-=32,ut<0||ut>96?i<=2?(ut+96)%96:96-1:ut);var G=l(7666);class q{constructor(i,c){this.scale=c,this._minimapCharRendererBrand=void 0,this.charDataNormal=q.soften(i,12/15),this.charDataLight=q.soften(i,50/60)}static soften(i,c){const v=new Uint8ClampedArray(i.length);for(let B=0,U=i.length;B<U;B++)v[B]=(0,G.K)(i[B]*c);return v}renderChar(i,c,v,B,U,le,Ce,ke,Oe,Qe,qe){const Ct=1*this.scale,Dt=2*this.scale,$t=qe?1:Dt;if(c+Ct>i.width||v+$t>i.height){console.warn("bad render request outside image data");return}const qt=Qe?this.charDataLight:this.charDataNormal,un=tn(B,Oe),In=i.width*4,Bn=Ce.r,Vn=Ce.g,li=Ce.b,si=U.r-Bn,Ri=U.g-Vn,Ii=U.b-li,gi=Math.max(le,ke),bi=i.data;let ms=un*Ct*Dt,Hi=v*In+c*4;for(let Bs=0;Bs<$t;Bs++){let Zs=Hi;for(let yo=0;yo<Ct;yo++){const Ds=qt[ms++]/255*(le/255);bi[Zs++]=Bn+si*Ds,bi[Zs++]=Vn+Ri*Ds,bi[Zs++]=li+Ii*Ds,bi[Zs++]=gi}Hi+=In}}blockRenderChar(i,c,v,B,U,le,Ce,ke){const Oe=1*this.scale,Qe=2*this.scale,qe=ke?1:Qe;if(c+Oe>i.width||v+qe>i.height){console.warn("bad render request outside image data");return}const Ct=i.width*4,Dt=.5*(U/255),$t=le.r,qt=le.g,un=le.b,In=B.r-$t,Bn=B.g-qt,Vn=B.b-un,li=$t+In*Dt,si=qt+Bn*Dt,Ri=un+Vn*Dt,Ii=Math.max(U,Ce),gi=i.data;let bi=v*Ct+c*4;for(let ms=0;ms<qe;ms++){let Hi=bi;for(let Bs=0;Bs<Oe;Bs++)gi[Hi++]=li,gi[Hi++]=si,gi[Hi++]=Ri,gi[Hi++]=Ii;bi+=Ct}}}var fe=l(26372);const p={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},F=ut=>{const i=new Uint8ClampedArray(ut.length/2);for(let c=0;c<ut.length;c+=2)i[c>>1]=p[ut[c]]<<4|p[ut[c+1]]&15;return i},Z={1:(0,fe.I)(()=>F("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,fe.I)(()=>F("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class de{static create(i,c){if(this.lastCreated&&i===this.lastCreated.scale&&c===this.lastFontFamily)return this.lastCreated;let v;return Z[i]?v=new q(Z[i](),i):v=de.createFromSampleData(de.createSampleData(c).data,i),this.lastFontFamily=c,this.lastCreated=v,v}static createSampleData(i){const c=document.createElement("canvas"),v=c.getContext("2d");c.style.height=`${16}px`,c.height=16,c.width=96*10,c.style.width=96*10+"px",v.fillStyle="#ffffff",v.font=`bold ${16}px ${i}`,v.textBaseline="middle";let B=0;for(const U of va)v.fillText(String.fromCharCode(U),B,16/2),B+=10;return v.getImageData(0,0,96*10,16)}static createFromSampleData(i,c){if(i.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const B=de._downsample(i,c);return new q(B,c)}static _downsampleChar(i,c,v,B,U){const le=1*U,Ce=2*U;let ke=B,Oe=0;for(let Qe=0;Qe<Ce;Qe++){const qe=Qe/Ce*16,Ct=(Qe+1)/Ce*16;for(let Dt=0;Dt<le;Dt++){const $t=Dt/le*10,qt=(Dt+1)/le*10;let un=0,In=0;for(let Vn=qe;Vn<Ct;Vn++){const li=c+Math.floor(Vn)*3840,si=1-(Vn-Math.floor(Vn));for(let Ri=$t;Ri<qt;Ri++){const Ii=1-(Ri-Math.floor(Ri)),gi=li+Math.floor(Ri)*4,bi=Ii*si;In+=bi,un+=i[gi]*i[gi+3]/255*bi}}const Bn=un/In;Oe=Math.max(Oe,Bn),v[ke++]=(0,G.K)(Bn)}}return Oe}static _downsample(i,c){const v=2*c*1*c,B=v*96,U=new Uint8ClampedArray(B);let le=0,Ce=0,ke=0;for(let Oe=0;Oe<96;Oe++)ke=Math.max(ke,this._downsampleChar(i,Ce,U,le,c)),le+=v,Ce+=10*4;if(ke>0){const Oe=255/ke;for(let Qe=0;Qe<B;Qe++)U[Qe]*=Oe}return U}}var pe=l(62420);const Ie=140,st=2;class ot{constructor(i,c,v){const B=i.options,U=B.get(129),le=B.get(131),Ce=le.minimap,ke=B.get(44),Oe=B.get(65);this.renderMinimap=Ce.renderMinimap,this.size=Oe.size,this.minimapHeightIsEditorHeight=Ce.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=B.get(94),this.showSlider=Oe.showSlider,this.pixelRatio=U,this.typicalHalfwidthCharacterWidth=ke.typicalHalfwidthCharacterWidth,this.lineHeight=B.get(59),this.minimapLeft=Ce.minimapLeft,this.minimapWidth=Ce.minimapWidth,this.minimapHeight=le.height,this.canvasInnerWidth=Ce.minimapCanvasInnerWidth,this.canvasInnerHeight=Ce.minimapCanvasInnerHeight,this.canvasOuterWidth=Ce.minimapCanvasOuterWidth,this.canvasOuterHeight=Ce.minimapCanvasOuterHeight,this.isSampling=Ce.minimapIsSampling,this.editorHeight=le.height,this.fontScale=Ce.minimapScale,this.minimapLineHeight=Ce.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,fe.I)(()=>de.create(this.fontScale,ke.fontFamily)),this.defaultBackgroundColor=v.getColor(2),this.backgroundColor=ot._getMinimapBackground(c,this.defaultBackgroundColor),this.foregroundAlpha=ot._getMinimapForegroundOpacity(c)}static _getMinimapBackground(i,c){const v=i.getColor(ai.kVY);return v?new Xi(v.rgba.r,v.rgba.g,v.rgba.b,Math.round(255*v.rgba.a)):c}static _getMinimapForegroundOpacity(i){const c=i.getColor(ai.Itd);return c?Xi._clamp(Math.round(255*c.rgba.a)):255}equals(i){return this.renderMinimap===i.renderMinimap&&this.size===i.size&&this.minimapHeightIsEditorHeight===i.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===i.scrollBeyondLastLine&&this.showSlider===i.showSlider&&this.pixelRatio===i.pixelRatio&&this.typicalHalfwidthCharacterWidth===i.typicalHalfwidthCharacterWidth&&this.lineHeight===i.lineHeight&&this.minimapLeft===i.minimapLeft&&this.minimapWidth===i.minimapWidth&&this.minimapHeight===i.minimapHeight&&this.canvasInnerWidth===i.canvasInnerWidth&&this.canvasInnerHeight===i.canvasInnerHeight&&this.canvasOuterWidth===i.canvasOuterWidth&&this.canvasOuterHeight===i.canvasOuterHeight&&this.isSampling===i.isSampling&&this.editorHeight===i.editorHeight&&this.fontScale===i.fontScale&&this.minimapLineHeight===i.minimapLineHeight&&this.minimapCharWidth===i.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(i.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(i.backgroundColor)&&this.foregroundAlpha===i.foregroundAlpha}}class pt{constructor(i,c,v,B,U,le,Ce,ke){this.scrollTop=i,this.scrollHeight=c,this.sliderNeeded=v,this._computedSliderRatio=B,this.sliderTop=U,this.sliderHeight=le,this.startLineNumber=Ce,this.endLineNumber=ke}getDesiredScrollTopFromDelta(i){return Math.round(this.scrollTop+i/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(i){return Math.round((i-this.sliderHeight/2)/this._computedSliderRatio)}static create(i,c,v,B,U,le,Ce,ke,Oe,Qe,qe){const Ct=i.pixelRatio,Dt=i.minimapLineHeight,$t=Math.floor(i.canvasInnerHeight/Dt),qt=i.lineHeight;if(i.minimapHeightIsEditorHeight){const si=ke*i.lineHeight+(i.scrollBeyondLastLine?U-i.lineHeight:0),Ri=Math.max(1,Math.floor(U*U/si)),Ii=Math.max(0,i.minimapHeight-Ri),gi=Ii/(Qe-U),bi=Oe*gi,ms=Ii>0,Hi=Math.floor(i.canvasInnerHeight/i.minimapLineHeight);return new pt(Oe,Qe,ms,gi,bi,Ri,1,Math.min(Ce,Hi))}let un;if(le&&v!==Ce){const si=v-c+1;un=Math.floor(si*Dt/Ct)}else{const si=U/qt;un=Math.floor(si*Dt/Ct)}let In;i.scrollBeyondLastLine?In=(Ce-1)*Dt/Ct:In=Math.max(0,Ce*Dt/Ct-un),In=Math.min(i.minimapHeight-un,In);const Bn=In/(Qe-U),Vn=Oe*Bn;let li=0;if(i.scrollBeyondLastLine&&(li=U/qt-1),$t>=Ce+li){const Ri=Ce,Ii=In>0;return new pt(Oe,Qe,Ii,Bn,Vn,un,1,Ri)}else{let si=Math.max(1,Math.floor(c-Vn*Ct/Dt));qe&&qe.scrollHeight===Qe&&(qe.scrollTop>Oe&&(si=Math.min(si,qe.startLineNumber)),qe.scrollTop<Oe&&(si=Math.max(si,qe.startLineNumber)));const Ri=Math.min(Ce,si+$t-1),Ii=(Oe-B)/qt,gi=(c-si+Ii)*Dt/Ct;return new pt(Oe,Qe,!0,Bn,gi,un,si,Ri)}}}class mt{constructor(i){this.dy=i}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}mt.INVALID=new mt(-1);class xt{constructor(i,c,v){this.renderedLayout=i,this._imageData=c,this._renderedLines=new Ye(()=>mt.INVALID),this._renderedLines._set(i.startLineNumber,v)}linesEquals(i){if(!this.scrollEquals(i))return!1;const v=this._renderedLines._get().lines;for(let B=0,U=v.length;B<U;B++)if(v[B].dy===-1)return!1;return!0}scrollEquals(i){return this.renderedLayout.startLineNumber===i.startLineNumber&&this.renderedLayout.endLineNumber===i.endLineNumber}_get(){const i=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:i.rendLineNumberStart,lines:i.lines}}onLinesChanged(i,c){return this._renderedLines.onLinesChanged(i,c)}onLinesDeleted(i,c){this._renderedLines.onLinesDeleted(i,c)}onLinesInserted(i,c){this._renderedLines.onLinesInserted(i,c)}onTokensChanged(i){return this._renderedLines.onTokensChanged(i)}}class ft{constructor(i,c,v,B){this._backgroundFillData=ft._createBackgroundFillData(c,v,B),this._buffers=[i.createImageData(c,v),i.createImageData(c,v)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const i=this._buffers[this._lastUsedBuffer];return i.data.set(this._backgroundFillData),i}static _createBackgroundFillData(i,c,v){const B=v.r,U=v.g,le=v.b,Ce=v.a,ke=new Uint8ClampedArray(i*c*4);let Oe=0;for(let Qe=0;Qe<c;Qe++)for(let qe=0;qe<i;qe++)ke[Oe]=B,ke[Oe+1]=U,ke[Oe+2]=le,ke[Oe+3]=Ce,Oe+=4;return ke}}class wt{constructor(i,c){this.samplingRatio=i,this.minimapLines=c}static compute(i,c,v){if(i.renderMinimap===0||!i.isSampling)return[null,[]];const B=i.pixelRatio,U=i.lineHeight,le=i.scrollBeyondLastLine,{minimapLineCount:Ce}=b.gk.computeContainedMinimapLineCount({viewLineCount:c,scrollBeyondLastLine:le,height:i.editorHeight,lineHeight:U,pixelRatio:B}),ke=c/Ce,Oe=ke/2;if(!v||v.minimapLines.length===0){const Vn=[];if(Vn[0]=1,Ce>1){for(let li=0,si=Ce-1;li<si;li++)Vn[li]=Math.round(li*ke+Oe);Vn[Ce-1]=c}return[new wt(ke,Vn),[]]}const Qe=v.minimapLines,qe=Qe.length,Ct=[];let Dt=0,$t=0,qt=1;const un=10;let In=[],Bn=null;for(let Vn=0;Vn<Ce;Vn++){const li=Math.max(qt,Math.round(Vn*ke)),si=Math.max(li,Math.round((Vn+1)*ke));for(;Dt<qe&&Qe[Dt]<li;){if(In.length<un){const Ii=Dt+1+$t;Bn&&Bn.type==="deleted"&&Bn._oldIndex===Dt-1?Bn.deleteToLineNumber++:(Bn={type:"deleted",_oldIndex:Dt,deleteFromLineNumber:Ii,deleteToLineNumber:Ii},In.push(Bn)),$t--}Dt++}let Ri;if(Dt<qe&&Qe[Dt]<=si)Ri=Qe[Dt],Dt++;else if(Vn===0?Ri=1:Vn+1===Ce?Ri=c:Ri=Math.round(Vn*ke+Oe),In.length<un){const Ii=Dt+1+$t;Bn&&Bn.type==="inserted"&&Bn._i===Vn-1?Bn.insertToLineNumber++:(Bn={type:"inserted",_i:Vn,insertFromLineNumber:Ii,insertToLineNumber:Ii},In.push(Bn)),$t++}Ct[Vn]=Ri,qt=Ri}if(In.length<un)for(;Dt<qe;){const Vn=Dt+1+$t;Bn&&Bn.type==="deleted"&&Bn._oldIndex===Dt-1?Bn.deleteToLineNumber++:(Bn={type:"deleted",_oldIndex:Dt,deleteFromLineNumber:Vn,deleteToLineNumber:Vn},In.push(Bn)),$t--,Dt++}else In=[{type:"flush"}];return[new wt(ke,Ct),In]}modelLineToMinimapLine(i){return Math.min(this.minimapLines.length,Math.max(1,Math.round(i/this.samplingRatio)))}modelLineRangeToMinimapLineRange(i,c){let v=this.modelLineToMinimapLine(i)-1;for(;v>0&&this.minimapLines[v-1]>=i;)v--;let B=this.modelLineToMinimapLine(c)-1;for(;B+1<this.minimapLines.length&&this.minimapLines[B+1]<=c;)B++;if(v===B){const U=this.minimapLines[v];if(U<i||U>c)return null}return[v+1,B+1]}decorationLineRangeToMinimapLineRange(i,c){let v=this.modelLineToMinimapLine(i),B=this.modelLineToMinimapLine(c);return i!==c&&B===v&&(B===this.minimapLines.length?v>1&&v--:B++),[v,B]}onLinesDeleted(i){const c=i.toLineNumber-i.fromLineNumber+1;let v=this.minimapLines.length,B=0;for(let U=this.minimapLines.length-1;U>=0&&!(this.minimapLines[U]<i.fromLineNumber);U--)this.minimapLines[U]<=i.toLineNumber?(this.minimapLines[U]=Math.max(1,i.fromLineNumber-1),v=Math.min(v,U),B=Math.max(B,U)):this.minimapLines[U]-=c;return[v,B]}onLinesInserted(i){const c=i.toLineNumber-i.fromLineNumber+1;for(let v=this.minimapLines.length-1;v>=0&&!(this.minimapLines[v]<i.fromLineNumber);v--)this.minimapLines[v]+=c}}class _n extends be{constructor(i){super(i),this.tokensColorTracker=Gs.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new ot(this._context.configuration,this._context.theme,this.tokensColorTracker);const[c]=wt.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=c,this._shouldCheckSampling=!1,this._actual=new $n(i.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const i=new ot(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(i)?!1:(this.options=i,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(i){return this._onOptionsMaybeChanged()}onCursorStateChanged(i){return this._selections=i.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(i){return i.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(i){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(i){if(this._samplingState){const c=this._samplingState.modelLineRangeToMinimapLineRange(i.fromLineNumber,i.toLineNumber);return c?this._actual.onLinesChanged(c[0],c[1]):!1}else return this._actual.onLinesChanged(i.fromLineNumber,i.toLineNumber)}onLinesDeleted(i){if(this._samplingState){const[c,v]=this._samplingState.onLinesDeleted(i);return c<=v&&this._actual.onLinesChanged(c+1,v+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(i.fromLineNumber,i.toLineNumber)}onLinesInserted(i){return this._samplingState?(this._samplingState.onLinesInserted(i),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(i.fromLineNumber,i.toLineNumber)}onScrollChanged(i){return this._actual.onScrollChanged()}onThemeChanged(i){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(i){if(this._samplingState){const c=[];for(const v of i.ranges){const B=this._samplingState.modelLineRangeToMinimapLineRange(v.fromLineNumber,v.toLineNumber);B&&c.push({fromLineNumber:B[0],toLineNumber:B[1]})}return c.length?this._actual.onTokensChanged(c):!1}else return this._actual.onTokensChanged(i.ranges)}onTokensColorsChanged(i){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(i){return this._actual.onZonesChanged()}prepareRender(i){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(i){let c=i.visibleRange.startLineNumber,v=i.visibleRange.endLineNumber;this._samplingState&&(c=this._samplingState.modelLineToMinimapLine(c),v=this._samplingState.modelLineToMinimapLine(v));const B={viewportContainsWhitespaceGaps:i.viewportData.whitespaceViewportData.length>0,scrollWidth:i.scrollWidth,scrollHeight:i.scrollHeight,viewportStartLineNumber:c,viewportEndLineNumber:v,viewportStartLineNumberVerticalOffset:i.getVerticalOffsetForLineNumber(c),scrollTop:i.scrollTop,scrollLeft:i.scrollLeft,viewportWidth:i.viewportWidth,viewportHeight:i.viewportHeight};this._actual.render(B)}_recreateLineSampling(){this._minimapSelections=null;const i=Boolean(this._samplingState),[c,v]=wt.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=c,i&&this._samplingState)for(const B of v)switch(B.type){case"deleted":this._actual.onLinesDeleted(B.deleteFromLineNumber,B.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(B.insertFromLineNumber,B.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(i){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[i-1]):this._context.viewModel.getLineContent(i)}getLineMaxColumn(i){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[i-1]):this._context.viewModel.getLineMaxColumn(i)}getMinimapLinesRenderingData(i,c,v){if(this._samplingState){const B=[];for(let U=0,le=c-i+1;U<le;U++)v[U]?B[U]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[i+U-1]):B[U]=null;return B}return this._context.viewModel.getMinimapLinesRenderingData(i,c,v).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const i of this._selections){const[c,v]=this._samplingState.decorationLineRangeToMinimapLineRange(i.startLineNumber,i.endLineNumber);this._minimapSelections.push(new J.Y(c,i.startColumn,v,i.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(i,c){let v;if(this._samplingState){const U=this._samplingState.minimapLines[i-1],le=this._samplingState.minimapLines[c-1];v=new en.e(U,1,le,this._context.viewModel.getLineMaxColumn(le))}else v=new en.e(i,1,c,this._context.viewModel.getLineMaxColumn(c));const B=this._context.viewModel.getDecorationsInViewport(v);if(this._samplingState){const U=[];for(const le of B){if(!le.options.minimap)continue;const Ce=le.range,ke=this._samplingState.modelLineToMinimapLine(Ce.startLineNumber),Oe=this._samplingState.modelLineToMinimapLine(Ce.endLineNumber);U.push(new es.$l(new en.e(ke,Ce.startColumn,Oe,Ce.endColumn),le.options))}return U}return B}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(i){this._samplingState&&(i=this._samplingState.minimapLines[i-1]),this._context.viewModel.revealRange("mouse",!1,new en.e(i,1,i,1),1,0)}setScrollTop(i){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:i},1)}}class $n extends w.JT{constructor(i,c){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=i,this._model=c,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(ai.ov3),this._domNode=(0,oe.X)(document.createElement("div")),We.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,oe.X)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,oe.X)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,oe.X)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,oe.X)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,oe.X)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=A.mu(this._domNode.domNode,"mousedown",v=>{if(v.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(v.leftButton&&this._lastRenderData){const Oe=A.i(this._slider.domNode),Qe=Oe.top+Oe.height/2;this._startSliderDragging(v.buttons,v.posx,Qe,v.posy,this._lastRenderData.renderedLayout)}return}const U=this._model.options.minimapLineHeight,le=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*v.browserEvent.offsetY;let ke=Math.floor(le/U)+this._lastRenderData.renderedLayout.startLineNumber;ke=Math.min(ke,this._model.getLineCount()),this._model.revealLineNumber(ke)}),this._sliderMouseMoveMonitor=new qo.Z,this._sliderMouseDownListener=A.mu(this._slider.domNode,"mousedown",v=>{v.preventDefault(),v.stopPropagation(),v.leftButton&&this._lastRenderData&&this._startSliderDragging(v.buttons,v.posx,v.posy,v.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=ce.o.addTarget(this._domNode.domNode),this._sliderTouchStartListener=A.nm(this._domNode.domNode,ce.t.Start,v=>{v.preventDefault(),v.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(v))},{passive:!1}),this._sliderTouchMoveListener=A.nm(this._domNode.domNode,ce.t.Change,v=>{v.preventDefault(),v.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(v)},{passive:!1}),this._sliderTouchEndListener=A.mu(this._domNode.domNode,ce.t.End,v=>{v.preventDefault(),v.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(i,c,v,B,U){this._slider.toggleClassName("active",!0);const le=(Ce,ke)=>{const Oe=Math.abs(ke-c);if(x.ED&&Oe>Ie){this._model.setScrollTop(U.scrollTop);return}const Qe=Ce-v;this._model.setScrollTop(U.getDesiredScrollTopFromDelta(Qe))};B!==v&&le(B,c),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,i,qo.e,Ce=>le(Ce.posy,Ce.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(i){const c=this._domNode.domNode.getBoundingClientRect().top,v=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(i.pageY-c);this._model.setScrollTop(v)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return this._model.options.showSlider==="always"?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new ft(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(i,c){return this._lastRenderData?this._lastRenderData.onLinesChanged(i,c):!1}onLinesDeleted(i,c){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(i,c),!0}onLinesInserted(i,c){return this._lastRenderData&&this._lastRenderData.onLinesInserted(i,c),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(ai.ov3),this._renderDecorations=!0,!0}onTokensChanged(i){return this._lastRenderData?this._lastRenderData.onTokensChanged(i):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(i){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}i.scrollLeft+i.viewportWidth>=i.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const v=pt.create(this._model.options,i.viewportStartLineNumber,i.viewportEndLineNumber,i.viewportStartLineNumberVerticalOffset,i.viewportHeight,i.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),i.scrollTop,i.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(v.sliderNeeded?"block":"none"),this._slider.setTop(v.sliderTop),this._slider.setHeight(v.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(v.sliderHeight),this.renderDecorations(v),this._lastRenderData=this.renderLines(v)}renderDecorations(i){if(this._renderDecorations){this._renderDecorations=!1;const c=this._model.getSelections();c.sort(en.e.compareRangesUsingStarts);const v=this._model.getMinimapDecorationsInViewport(i.startLineNumber,i.endLineNumber);v.sort((Ct,Dt)=>(Ct.options.zIndex||0)-(Dt.options.zIndex||0));const{canvasInnerWidth:B,canvasInnerHeight:U}=this._model.options,le=this._model.options.minimapLineHeight,Ce=this._model.options.minimapCharWidth,ke=this._model.getOptions().tabSize,Oe=this._decorationsCanvas.domNode.getContext("2d");Oe.clearRect(0,0,B,U);const Qe=new Wn(i.startLineNumber,i.endLineNumber,!1);this._renderSelectionLineHighlights(Oe,c,Qe,i,le),this._renderDecorationsLineHighlights(Oe,v,Qe,i,le);const qe=new Wn(i.startLineNumber,i.endLineNumber,null);this._renderSelectionsHighlights(Oe,c,qe,i,le,ke,Ce,B),this._renderDecorationsHighlights(Oe,v,qe,i,le,ke,Ce,B)}}_renderSelectionLineHighlights(i,c,v,B,U){if(!this._selectionColor||this._selectionColor.isTransparent())return;i.fillStyle=this._selectionColor.transparent(.5).toString();let le=0,Ce=0;for(const ke of c){const Oe=Math.max(B.startLineNumber,ke.startLineNumber),Qe=Math.min(B.endLineNumber,ke.endLineNumber);if(Oe>Qe)continue;for(let Dt=Oe;Dt<=Qe;Dt++)v.set(Dt,!0);const qe=(Oe-B.startLineNumber)*U,Ct=(Qe-B.startLineNumber)*U+U;Ce>=qe||(Ce>le&&i.fillRect(b.y0,le,i.canvas.width,Ce-le),le=qe),Ce=Ct}Ce>le&&i.fillRect(b.y0,le,i.canvas.width,Ce-le)}_renderDecorationsLineHighlights(i,c,v,B,U){const le=new Map;for(let Ce=c.length-1;Ce>=0;Ce--){const ke=c[Ce],Oe=ke.options.minimap;if(!Oe||Oe.position!==pe.F5.Inline)continue;const Qe=Math.max(B.startLineNumber,ke.range.startLineNumber),qe=Math.min(B.endLineNumber,ke.range.endLineNumber);if(Qe>qe)continue;const Ct=Oe.getColor(this._theme.value);if(!Ct||Ct.isTransparent())continue;let Dt=le.get(Ct.toString());Dt||(Dt=Ct.transparent(.5).toString(),le.set(Ct.toString(),Dt)),i.fillStyle=Dt;for(let $t=Qe;$t<=qe;$t++){if(v.has($t))continue;v.set($t,!0);const qt=(Qe-B.startLineNumber)*U;i.fillRect(b.y0,qt,i.canvas.width,U)}}}_renderSelectionsHighlights(i,c,v,B,U,le,Ce,ke){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const Oe of c){const Qe=Math.max(B.startLineNumber,Oe.startLineNumber),qe=Math.min(B.endLineNumber,Oe.endLineNumber);if(!(Qe>qe))for(let Ct=Qe;Ct<=qe;Ct++)this.renderDecorationOnLine(i,v,Oe,this._selectionColor,B,Ct,U,U,le,Ce,ke)}}_renderDecorationsHighlights(i,c,v,B,U,le,Ce,ke){for(const Oe of c){const Qe=Oe.options.minimap;if(!Qe)continue;const qe=Math.max(B.startLineNumber,Oe.range.startLineNumber),Ct=Math.min(B.endLineNumber,Oe.range.endLineNumber);if(qe>Ct)continue;const Dt=Qe.getColor(this._theme.value);if(!(!Dt||Dt.isTransparent()))for(let $t=qe;$t<=Ct;$t++)switch(Qe.position){case pe.F5.Inline:this.renderDecorationOnLine(i,v,Oe.range,Dt,B,$t,U,U,le,Ce,ke);continue;case pe.F5.Gutter:{const qt=($t-B.startLineNumber)*U,un=2;this.renderDecoration(i,Dt,un,qt,st,U);continue}}}}renderDecorationOnLine(i,c,v,B,U,le,Ce,ke,Oe,Qe,qe){const Ct=(le-U.startLineNumber)*ke;if(Ct+Ce<0||Ct>this._model.options.canvasInnerHeight)return;const{startLineNumber:Dt,endLineNumber:$t}=v,qt=Dt===le?v.startColumn:1,un=$t===le?v.endColumn:this._model.getLineMaxColumn(le),In=this.getXOffsetForPosition(c,le,qt,Oe,Qe,qe),Bn=this.getXOffsetForPosition(c,le,un,Oe,Qe,qe);this.renderDecoration(i,B,In,Ct,Bn-In,Ce)}getXOffsetForPosition(i,c,v,B,U,le){if(v===1)return b.y0;if((v-1)*U>=le)return le;let ke=i.get(c);if(!ke){const Oe=this._model.getLineContent(c);ke=[b.y0];let Qe=b.y0;for(let qe=1;qe<Oe.length+1;qe++){const Ct=Oe.charCodeAt(qe-1),Dt=Ct===9?B*U:kn.K7(Ct)?2*U:U,$t=Qe+Dt;if($t>=le){ke[qe]=le;break}ke[qe]=$t,Qe=$t}i.set(c,ke)}return v-1<ke.length?ke[v-1]:le}renderDecoration(i,c,v,B,U,le){i.fillStyle=c&&c.toString()||"",i.fillRect(v,B,U,le)}renderLines(i){const c=i.startLineNumber,v=i.endLineNumber,B=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(i)){const Ds=this._lastRenderData._get();return new xt(i,Ds.imageData,Ds.lines)}const U=this._getBuffer();if(!U)return null;const[le,Ce,ke]=$n._renderUntouchedLines(U,c,v,B,this._lastRenderData),Oe=this._model.getMinimapLinesRenderingData(c,v,ke),Qe=this._model.getOptions().tabSize,qe=this._model.options.defaultBackgroundColor,Ct=this._model.options.backgroundColor,Dt=this._model.options.foregroundAlpha,$t=this._model.tokensColorTracker,qt=$t.backgroundIsLight(),un=this._model.options.renderMinimap,In=this._model.options.charRenderer(),Bn=this._model.options.fontScale,Vn=this._model.options.minimapCharWidth,si=(un===1?2:2+1)*Bn,Ri=B>si?Math.floor((B-si)/2):0,Ii=Ct.a/255,gi=new Xi(Math.round((Ct.r-qe.r)*Ii+qe.r),Math.round((Ct.g-qe.g)*Ii+qe.g),Math.round((Ct.b-qe.b)*Ii+qe.b),255);let bi=0;const ms=[];for(let Ds=0,eo=v-c+1;Ds<eo;Ds++)ke[Ds]&&$n._renderLine(U,gi,Ct.a,qt,un,Vn,$t,Dt,In,bi,Ri,Qe,Oe[Ds],Bn,B),ms[Ds]=new mt(bi),bi+=B;const Hi=le===-1?0:le,Zs=(Ce===-1?U.height:Ce)-Hi;return this._canvas.domNode.getContext("2d").putImageData(U,0,0,0,Hi,U.width,Zs),new xt(i,U,ms)}static _renderUntouchedLines(i,c,v,B,U){const le=[];if(!U){for(let gi=0,bi=v-c+1;gi<bi;gi++)le[gi]=!0;return[-1,-1,le]}const Ce=U._get(),ke=Ce.imageData.data,Oe=Ce.rendLineNumberStart,Qe=Ce.lines,qe=Qe.length,Ct=i.width,Dt=i.data,$t=(v-c+1)*B*Ct*4;let qt=-1,un=-1,In=-1,Bn=-1,Vn=-1,li=-1,si=0;for(let gi=c;gi<=v;gi++){const bi=gi-c,ms=gi-Oe,Hi=ms>=0&&ms<qe?Qe[ms].dy:-1;if(Hi===-1){le[bi]=!0,si+=B;continue}const Bs=Hi*Ct*4,Zs=(Hi+B)*Ct*4,yo=si*Ct*4,Ds=(si+B)*Ct*4;Bn===Bs&&li===yo?(Bn=Zs,li=Ds):(In!==-1&&(Dt.set(ke.subarray(In,Bn),Vn),qt===-1&&In===0&&In===Vn&&(qt=Bn),un===-1&&Bn===$t&&In===Vn&&(un=In)),In=Bs,Bn=Zs,Vn=yo,li=Ds),le[bi]=!1,si+=B}In!==-1&&(Dt.set(ke.subarray(In,Bn),Vn),qt===-1&&In===0&&In===Vn&&(qt=Bn),un===-1&&Bn===$t&&In===Vn&&(un=In));const Ri=qt===-1?-1:qt/(Ct*4),Ii=un===-1?-1:un/(Ct*4);return[Ri,Ii,le]}static _renderLine(i,c,v,B,U,le,Ce,ke,Oe,Qe,qe,Ct,Dt,$t,qt){const un=Dt.content,In=Dt.tokens,Bn=i.width-le,Vn=qt===1;let li=b.y0,si=0,Ri=0;for(let Ii=0,gi=In.getCount();Ii<gi;Ii++){const bi=In.getEndOffset(Ii),ms=In.getForeground(Ii),Hi=Ce.getColor(ms);for(;si<bi;si++){if(li>Bn)return;const Bs=un.charCodeAt(si);if(Bs===9){const Zs=Ct-(si+Ri)%Ct;Ri+=Zs-1,li+=Zs*le}else if(Bs===32)li+=le;else{const Zs=kn.K7(Bs)?2:1;for(let yo=0;yo<Zs;yo++)if(U===2?Oe.blockRenderChar(i,li,Qe+qe,Hi,ke,c,v,Vn):Oe.renderChar(i,li,Qe+qe,Bs,Hi,ke,c,v,$t,B,Vn),li+=le,li>Bn)return}}}}}class Wn{constructor(i,c,v){this._startLineNumber=i,this._endLineNumber=c,this._defaultValue=v,this._values=[];for(let B=0,U=this._endLineNumber-this._startLineNumber+1;B<U;B++)this._values[B]=v}has(i){return this.get(i)!==this._defaultValue}set(i,c){i<this._startLineNumber||i>this._endLineNumber||(this._values[i-this._startLineNumber]=c)}get(i){return i<this._startLineNumber||i>this._endLineNumber?this._defaultValue:this._values[i-this._startLineNumber]}}(0,Gn.Ic)((ut,i)=>{const c=ut.getColor(ai.CA6);c&&i.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${c}; }`);const v=ut.getColor(ai.Xy4);v&&i.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${v}; }`);const B=ut.getColor(ai.brw);B&&i.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${B}; }`);const U=ut.getColor(ai._wn);U&&i.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${U} -6px 0 6px -6px inset; }`)});class fi extends be{constructor(i){super(i);const v=this._context.configuration.options.get(131);this._widgets={},this._verticalScrollbarWidth=v.verticalScrollbarWidth,this._minimapWidth=v.minimap.minimapWidth,this._horizontalScrollbarHeight=v.horizontalScrollbarHeight,this._editorHeight=v.height,this._editorWidth=v.width,this._domNode=(0,oe.X)(document.createElement("div")),We.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(i){const v=this._context.configuration.options.get(131);return this._verticalScrollbarWidth=v.verticalScrollbarWidth,this._minimapWidth=v.minimap.minimapWidth,this._horizontalScrollbarHeight=v.horizontalScrollbarHeight,this._editorHeight=v.height,this._editorWidth=v.width,!0}addWidget(i){const c=(0,oe.X)(i.getDomNode());this._widgets[i.getId()]={widget:i,preference:null,domNode:c},c.setPosition("absolute"),c.setAttribute("widgetId",i.getId()),this._domNode.appendChild(c),this.setShouldRender()}setWidgetPosition(i,c){const v=this._widgets[i.getId()];return v.preference===c?!1:(v.preference=c,this.setShouldRender(),!0)}removeWidget(i){const c=i.getId();if(this._widgets.hasOwnProperty(c)){const B=this._widgets[c].domNode.domNode;delete this._widgets[c],B.parentNode.removeChild(B),this.setShouldRender()}}_renderWidget(i){const c=i.domNode;if(i.preference===null){c.unsetTop();return}if(i.preference===0)c.setTop(0),c.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(i.preference===1){const v=c.domNode.clientHeight;c.setTop(this._editorHeight-v-2*this._horizontalScrollbarHeight),c.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else i.preference===2&&(c.setTop(0),c.domNode.style.right="50%")}prepareRender(i){}render(i){this._domNode.setWidth(this._editorWidth);const c=Object.keys(this._widgets);for(let v=0,B=c.length;v<B;v++){const U=c[v];this._renderWidget(this._widgets[U])}}}class Fi{constructor(i,c){const v=i.options;this.lineHeight=v.get(59),this.pixelRatio=v.get(129),this.overviewRulerLanes=v.get(74),this.renderBorder=v.get(73);const B=c.getColor(Sn.zw);this.borderColor=B?B.toString():null,this.hideCursor=v.get(52);const U=c.getColor(Sn.n0);this.cursorColor=U?U.transparent(.7).toString():null,this.themeType=c.type;const le=v.get(65),Ce=le.enabled,ke=le.side,Oe=Ce?c.getColor(Sn.e_)||Yn.RW.getDefaultBackground():null;Oe===null||ke==="left"?this.backgroundColor=null:this.backgroundColor=Ci.Il.Format.CSS.formatHex(Oe);const qe=v.get(131).overviewRuler;this.top=qe.top,this.right=qe.right,this.domWidth=qe.width,this.domHeight=qe.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[Ct,Dt]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=Ct,this.w=Dt}_initLanes(i,c,v){const B=c-i;if(v>=3){const U=Math.floor(B/3),le=Math.floor(B/3),Ce=B-U-le,ke=i,Oe=ke+U,Qe=ke+U+Ce;return[[0,ke,Oe,ke,Qe,ke,Oe,ke],[0,U,Ce,U+Ce,le,U+Ce+le,Ce+le,U+Ce+le]]}else if(v===2){const U=Math.floor(B/2),le=B-U,Ce=i,ke=Ce+U;return[[0,Ce,Ce,Ce,ke,Ce,Ce,Ce],[0,U,U,U,le,U+le,U+le,U+le]]}else{const U=i,le=B;return[[0,U,U,U,U,U,U,U],[0,le,le,le,le,le,le,le]]}}equals(i){return this.lineHeight===i.lineHeight&&this.pixelRatio===i.pixelRatio&&this.overviewRulerLanes===i.overviewRulerLanes&&this.renderBorder===i.renderBorder&&this.borderColor===i.borderColor&&this.hideCursor===i.hideCursor&&this.cursorColor===i.cursorColor&&this.themeType===i.themeType&&this.backgroundColor===i.backgroundColor&&this.top===i.top&&this.right===i.right&&this.domWidth===i.domWidth&&this.domHeight===i.domHeight&&this.canvasWidth===i.canvasWidth&&this.canvasHeight===i.canvasHeight}}class jt extends be{constructor(i){super(i),this._domNode=(0,oe.X)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=Yn.RW.onDidChange(c=>{c.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(i){const c=new Fi(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(c)?!1:(this._settings=c,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,i&&this._render(),!0)}onConfigurationChanged(i){return this._updateSettings(!1)}onCursorStateChanged(i){this._cursorPositions=[];for(let c=0,v=i.selections.length;c<v;c++)this._cursorPositions[c]=i.selections[c].getPosition();return this._cursorPositions.sort(Pe.L.compare),!0}onDecorationsChanged(i){return!!i.affectsOverviewRuler}onFlushed(i){return!0}onScrollChanged(i){return i.scrollHeightChanged}onZonesChanged(i){return!0}onThemeChanged(i){return this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(i){}render(i){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:""),this._domNode.setDisplay("none");return}this._domNode.setDisplay("block");const i=this._settings.canvasWidth,c=this._settings.canvasHeight,v=this._settings.lineHeight,B=this._context.viewLayout,U=this._context.viewLayout.getScrollHeight(),le=c/U,Ce=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),ke=6*this._settings.pixelRatio|0,Oe=ke/2|0,Qe=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?Qe.clearRect(0,0,i,c):(Qe.fillStyle=this._settings.backgroundColor,Qe.fillRect(0,0,i,c));const qe=this._settings.x,Ct=this._settings.w;Ce.sort(es.SQ.cmp);for(const Dt of Ce){const $t=Dt.color,qt=Dt.data;Qe.fillStyle=$t;let un=0,In=0,Bn=0;for(let Vn=0,li=qt.length/3;Vn<li;Vn++){const si=qt[3*Vn],Ri=qt[3*Vn+1],Ii=qt[3*Vn+2];let gi=B.getVerticalOffsetForLineNumber(Ri)*le|0,bi=(B.getVerticalOffsetForLineNumber(Ii)+v)*le|0;if(bi-gi<ke){let Hi=(gi+bi)/2|0;Hi<Oe?Hi=Oe:Hi+Oe>c&&(Hi=c-Oe),gi=Hi-Oe,bi=Hi+Oe}gi>Bn+1||si!==un?(Vn!==0&&Qe.fillRect(qe[un],In,Ct[un],Bn-In),un=si,In=gi,Bn=bi):bi>Bn&&(Bn=bi)}Qe.fillRect(qe[un],In,Ct[un],Bn-In)}if(!this._settings.hideCursor&&this._settings.cursorColor){const Dt=2*this._settings.pixelRatio|0,$t=Dt/2|0,qt=this._settings.x[7],un=this._settings.w[7];Qe.fillStyle=this._settings.cursorColor;let In=-100,Bn=-100;for(let Vn=0,li=this._cursorPositions.length;Vn<li;Vn++){const si=this._cursorPositions[Vn];let Ri=B.getVerticalOffsetForLineNumber(si.lineNumber)*le|0;Ri<$t?Ri=$t:Ri+$t>c&&(Ri=c-$t);const Ii=Ri-$t,gi=Ii+Dt;Ii>Bn+1?(Vn!==0&&Qe.fillRect(qt,In,un,Bn-In),In=Ii,Bn=gi):gi>Bn&&(Bn=gi)}Qe.fillRect(qt,In,un,Bn-In)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(Qe.beginPath(),Qe.lineWidth=1,Qe.strokeStyle=this._settings.borderColor,Qe.moveTo(0,0),Qe.lineTo(0,c),Qe.stroke(),Qe.moveTo(0,0),Qe.lineTo(i,0),Qe.stroke())}}var vi=l(2567);class rs extends De{constructor(i,c){super(),this._context=i;const v=this._context.configuration.options;this._domNode=(0,oe.X)(document.createElement("canvas")),this._domNode.setClassName(c),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new vi.Tj(B=>this._context.viewLayout.getVerticalOffsetForLineNumber(B)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(v.get(59)),this._zoneManager.setPixelRatio(v.get(129)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(i){const c=this._context.configuration.options;return i.hasChanged(59)&&(this._zoneManager.setLineHeight(c.get(59)),this._render()),i.hasChanged(129)&&(this._zoneManager.setPixelRatio(c.get(129)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(i){return this._render(),!0}onScrollChanged(i){return i.scrollHeightChanged&&(this._zoneManager.setOuterHeight(i.scrollHeight),this._render()),!0}onZonesChanged(i){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(i){this._domNode.setTop(i.top),this._domNode.setRight(i.right);let c=!1;c=this._zoneManager.setDOMWidth(i.width)||c,c=this._zoneManager.setDOMHeight(i.height)||c,c&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(i){this._zoneManager.setZones(i),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const i=this._zoneManager.getCanvasWidth(),c=this._zoneManager.getCanvasHeight(),v=this._zoneManager.resolveColorZones(),B=this._zoneManager.getId2Color(),U=this._domNode.domNode.getContext("2d");return U.clearRect(0,0,i,c),v.length>0&&this._renderOneLane(U,v,B,i),!0}_renderOneLane(i,c,v,B){let U=0,le=0,Ce=0;for(const ke of c){const Oe=ke.colorId,Qe=ke.from,qe=ke.to;Oe!==U?(i.fillRect(0,le,B,Ce-le),U=Oe,i.fillStyle=v[U],le=Qe,Ce=qe):Ce>=Qe?Ce=Math.max(Ce,qe):(i.fillRect(0,le,B,Ce-le),le=Qe,Ce=qe)}i.fillRect(0,le,B,Ce-le)}}class Fs extends be{constructor(i){super(i),this.domNode=(0,oe.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const c=this._context.configuration.options;this._rulers=c.get(91),this._typicalHalfwidthCharacterWidth=c.get(44).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(i){const c=this._context.configuration.options;return this._rulers=c.get(91),this._typicalHalfwidthCharacterWidth=c.get(44).typicalHalfwidthCharacterWidth,!0}onScrollChanged(i){return i.scrollHeightChanged}prepareRender(i){}_ensureRulersCount(){const i=this._renderedRulers.length,c=this._rulers.length;if(i===c)return;if(i<c){const{tabSize:B}=this._context.viewModel.model.getOptions(),U=B;let le=c-i;for(;le>0;){const Ce=(0,oe.X)(document.createElement("div"));Ce.setClassName("view-ruler"),Ce.setWidth(U),this.domNode.appendChild(Ce),this._renderedRulers.push(Ce),le--}return}let v=i-c;for(;v>0;){const B=this._renderedRulers.pop();this.domNode.removeChild(B),v--}}render(i){this._ensureRulersCount();for(let c=0,v=this._rulers.length;c<v;c++){const B=this._renderedRulers[c],U=this._rulers[c];B.setBoxShadow(U.color?`1px 0 0 0 ${U.color} inset`:""),B.setHeight(Math.min(i.scrollHeight,1e6)),B.setLeft(U.column*this._typicalHalfwidthCharacterWidth)}}}(0,Gn.Ic)((ut,i)=>{const c=ut.getColor(Sn.zk);c&&i.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${c} inset; }`)});class Js extends be{constructor(i){super(i),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const v=this._context.configuration.options.get(92);this._useShadows=v.useShadows,this._domNode=(0,oe.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const i=this._useShadows&&this._scrollTop>0;return this._shouldShow!==i?(this._shouldShow=i,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const c=this._context.configuration.options.get(131);c.minimap.renderMinimap===0||c.minimap.minimapWidth>0&&c.minimap.minimapLeft===0?this._width=c.width:this._width=c.width-c.minimap.minimapWidth-c.verticalScrollbarWidth}onConfigurationChanged(i){const v=this._context.configuration.options.get(92);return this._useShadows=v.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(i){return this._scrollTop=i.scrollTop,this._updateShouldShow()}prepareRender(i){}render(i){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}(0,Gn.Ic)((ut,i)=>{const c=ut.getColor(ai._wn);c&&i.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${c} 0 6px 6px -6px inset; }`)});class gr{constructor(i){this.left=i.left,this.width=i.width,this.startStyle=null,this.endStyle=null}}class Zo{constructor(i,c){this.lineNumber=i,this.ranges=c}}function ls(ut){return new gr(ut)}function zi(ut){return new Zo(ut.lineNumber,ut.ranges.map(ls))}class ks extends Xn{constructor(i){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=i;const c=this._context.configuration.options;this._lineHeight=c.get(59),this._roundedSelection=c.get(90),this._typicalHalfwidthCharacterWidth=c.get(44).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const c=this._context.configuration.options;return this._lineHeight=c.get(59),this._roundedSelection=c.get(90),this._typicalHalfwidthCharacterWidth=c.get(44).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(i){return this._selections=i.selections.slice(0),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_visibleRangesHaveGaps(i){for(let c=0,v=i.length;c<v;c++)if(i[c].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(i,c,v){const B=this._typicalHalfwidthCharacterWidth/4;let U=null,le=null;if(v&&v.length>0&&c.length>0){const Ce=c[0].lineNumber;if(Ce===i.startLineNumber)for(let Oe=0;!U&&Oe<v.length;Oe++)v[Oe].lineNumber===Ce&&(U=v[Oe].ranges[0]);const ke=c[c.length-1].lineNumber;if(ke===i.endLineNumber)for(let Oe=v.length-1;!le&&Oe>=0;Oe--)v[Oe].lineNumber===ke&&(le=v[Oe].ranges[0]);U&&!U.startStyle&&(U=null),le&&!le.startStyle&&(le=null)}for(let Ce=0,ke=c.length;Ce<ke;Ce++){const Oe=c[Ce].ranges[0],Qe=Oe.left,qe=Oe.left+Oe.width,Ct={top:0,bottom:0},Dt={top:0,bottom:0};if(Ce>0){const $t=c[Ce-1].ranges[0].left,qt=c[Ce-1].ranges[0].left+c[Ce-1].ranges[0].width;Ss(Qe-$t)<B?Ct.top=2:Qe>$t&&(Ct.top=1),Ss(qe-qt)<B?Dt.top=2:$t<qe&&qe<qt&&(Dt.top=1)}else U&&(Ct.top=U.startStyle.top,Dt.top=U.endStyle.top);if(Ce+1<ke){const $t=c[Ce+1].ranges[0].left,qt=c[Ce+1].ranges[0].left+c[Ce+1].ranges[0].width;Ss(Qe-$t)<B?Ct.bottom=2:$t<Qe&&Qe<qt&&(Ct.bottom=1),Ss(qe-qt)<B?Dt.bottom=2:qe<qt&&(Dt.bottom=1)}else le&&(Ct.bottom=le.startStyle.bottom,Dt.bottom=le.endStyle.bottom);Oe.startStyle=Ct,Oe.endStyle=Dt}}_getVisibleRangesWithStyle(i,c,v){const U=(c.linesVisibleRangesForRange(i,!0)||[]).map(zi);return!this._visibleRangesHaveGaps(U)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(c.visibleRange,U,v),U}_createSelectionPiece(i,c,v,B,U){return'<div class="cslr '+v+'" style="top:'+i.toString()+"px;left:"+B.toString()+"px;width:"+U.toString()+"px;height:"+c+'px;"></div>'}_actualRenderOneSelection(i,c,v,B){if(B.length===0)return;const U=!!B[0].ranges[0].startStyle,le=this._lineHeight.toString(),Ce=(this._lineHeight-1).toString(),ke=B[0].lineNumber,Oe=B[B.length-1].lineNumber;for(let Qe=0,qe=B.length;Qe<qe;Qe++){const Ct=B[Qe],Dt=Ct.lineNumber,$t=Dt-c,qt=v&&(Dt===Oe||Dt===ke)?Ce:le,un=v&&Dt===ke?1:0;let In="",Bn="";for(let Vn=0,li=Ct.ranges.length;Vn<li;Vn++){const si=Ct.ranges[Vn];if(U){const Ii=si.startStyle,gi=si.endStyle;if(Ii.top===1||Ii.bottom===1){In+=this._createSelectionPiece(un,qt,ks.SELECTION_CLASS_NAME,si.left-ks.ROUNDED_PIECE_WIDTH,ks.ROUNDED_PIECE_WIDTH);let bi=ks.EDITOR_BACKGROUND_CLASS_NAME;Ii.top===1&&(bi+=" "+ks.SELECTION_TOP_RIGHT),Ii.bottom===1&&(bi+=" "+ks.SELECTION_BOTTOM_RIGHT),In+=this._createSelectionPiece(un,qt,bi,si.left-ks.ROUNDED_PIECE_WIDTH,ks.ROUNDED_PIECE_WIDTH)}if(gi.top===1||gi.bottom===1){In+=this._createSelectionPiece(un,qt,ks.SELECTION_CLASS_NAME,si.left+si.width,ks.ROUNDED_PIECE_WIDTH);let bi=ks.EDITOR_BACKGROUND_CLASS_NAME;gi.top===1&&(bi+=" "+ks.SELECTION_TOP_LEFT),gi.bottom===1&&(bi+=" "+ks.SELECTION_BOTTOM_LEFT),In+=this._createSelectionPiece(un,qt,bi,si.left+si.width,ks.ROUNDED_PIECE_WIDTH)}}let Ri=ks.SELECTION_CLASS_NAME;if(U){const Ii=si.startStyle,gi=si.endStyle;Ii.top===0&&(Ri+=" "+ks.SELECTION_TOP_LEFT),Ii.bottom===0&&(Ri+=" "+ks.SELECTION_BOTTOM_LEFT),gi.top===0&&(Ri+=" "+ks.SELECTION_TOP_RIGHT),gi.bottom===0&&(Ri+=" "+ks.SELECTION_BOTTOM_RIGHT)}Bn+=this._createSelectionPiece(un,qt,Ri,si.left,si.width)}i[$t][0]+=In,i[$t][1]+=Bn}}prepareRender(i){const c=[],v=i.visibleRange.startLineNumber,B=i.visibleRange.endLineNumber;for(let le=v;le<=B;le++){const Ce=le-v;c[Ce]=["",""]}const U=[];for(let le=0,Ce=this._selections.length;le<Ce;le++){const ke=this._selections[le];if(ke.isEmpty()){U[le]=null;continue}const Oe=this._getVisibleRangesWithStyle(ke,i,this._previousFrameVisibleRangesWithStyle[le]);U[le]=Oe,this._actualRenderOneSelection(c,v,this._selections.length>1,Oe)}this._previousFrameVisibleRangesWithStyle=U,this._renderResult=c.map(([le,Ce])=>le+Ce)}render(i,c){if(!this._renderResult)return"";const v=c-i;return v<0||v>=this._renderResult.length?"":this._renderResult[v]}}ks.SELECTION_CLASS_NAME="selected-text",ks.SELECTION_TOP_LEFT="top-left-radius",ks.SELECTION_BOTTOM_LEFT="bottom-left-radius",ks.SELECTION_TOP_RIGHT="top-right-radius",ks.SELECTION_BOTTOM_RIGHT="bottom-right-radius",ks.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",ks.ROUNDED_PIECE_WIDTH=10,(0,Gn.Ic)((ut,i)=>{const c=ut.getColor(ai.hEj);c&&i.addRule(`.monaco-editor .focused .selected-text { background-color: ${c}; }`);const v=ut.getColor(ai.ES4);v&&i.addRule(`.monaco-editor .selected-text { background-color: ${v}; }`);const B=ut.getColor(ai.yb5);B&&!B.isTransparent()&&i.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${B}; }`)});function Ss(ut){return ut<0?-ut:ut}class Mr{constructor(i,c,v,B,U,le){this.top=i,this.left=c,this.width=v,this.height=B,this.textContent=U,this.textContentClassName=le}}class Io{constructor(i){this._context=i;const c=this._context.configuration.options,v=c.get(44);this._cursorStyle=c.get(24),this._lineHeight=c.get(59),this._typicalHalfwidthCharacterWidth=v.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(c.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,oe.X)(document.createElement("div")),this._domNode.setClassName(`cursor ${oi.S}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,Nn.N)(this._domNode,v),this._domNode.setDisplay("none"),this._position=new Pe.L(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(i){const c=this._context.configuration.options,v=c.get(44);return this._cursorStyle=c.get(24),this._lineHeight=c.get(59),this._typicalHalfwidthCharacterWidth=v.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(c.get(27),this._typicalHalfwidthCharacterWidth),(0,Nn.N)(this._domNode,v),!0}onCursorPositionChanged(i){return this._position=i,!0}_getGraphemeAwarePosition(){const{lineNumber:i,column:c}=this._position,v=this._context.viewModel.getLineContent(i),[B,U]=kn.J_(v,c-1);return[new Pe.L(i,B+1),v.substring(B,U)]}_prepareRender(i){let c="";const[v,B]=this._getGraphemeAwarePosition();if(this._cursorStyle===b.d2.Line||this._cursorStyle===b.d2.LineThin){const Ct=i.visibleRangeForPosition(v);if(!Ct||Ct.outsideRenderedLine)return null;let Dt;this._cursorStyle===b.d2.Line?(Dt=A.Uh(this._lineCursorWidth>0?this._lineCursorWidth:2),Dt>2&&(c=B)):Dt=A.Uh(1);let $t=Ct.left;Dt>=2&&$t>=1&&($t-=1);const qt=i.getVerticalOffsetForLineNumber(v.lineNumber)-i.bigNumbersDelta;return new Mr(qt,$t,Dt,this._lineHeight,c,"")}const U=i.linesVisibleRangesForRange(new en.e(v.lineNumber,v.column,v.lineNumber,v.column+B.length),!1);if(!U||U.length===0)return null;const le=U[0];if(le.outsideRenderedLine||le.ranges.length===0)return null;const Ce=le.ranges[0],ke=Ce.width<1?this._typicalHalfwidthCharacterWidth:Ce.width;let Oe="";if(this._cursorStyle===b.d2.Block){const Ct=this._context.viewModel.getViewLineData(v.lineNumber);c=B;const Dt=Ct.tokens.findTokenIndexAtOffset(v.column-1);Oe=Ct.tokens.getClassName(Dt)}let Qe=i.getVerticalOffsetForLineNumber(v.lineNumber)-i.bigNumbersDelta,qe=this._lineHeight;return(this._cursorStyle===b.d2.Underline||this._cursorStyle===b.d2.UnderlineThin)&&(Qe+=this._lineHeight-2,qe=2),new Mr(Qe,Ce.left,ke,qe,c,Oe)}prepareRender(i){this._renderData=this._prepareRender(i)}render(i){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${oi.S} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class us extends be{constructor(i){super(i);const c=this._context.configuration.options;this._readOnly=c.get(81),this._cursorBlinking=c.get(22),this._cursorStyle=c.get(24),this._cursorSmoothCaretAnimation=c.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new Io(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,oe.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new Me._F,this._cursorFlatBlinkInterval=new Me.zh,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(i){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(i){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(i){const c=this._context.configuration.options;this._readOnly=c.get(81),this._cursorBlinking=c.get(22),this._cursorStyle=c.get(24),this._cursorSmoothCaretAnimation=c.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(i);for(let v=0,B=this._secondaryCursors.length;v<B;v++)this._secondaryCursors[v].onConfigurationChanged(i);return!0}_onCursorPositionChanged(i,c){if(this._primaryCursor.onCursorPositionChanged(i),this._updateBlinking(),this._secondaryCursors.length<c.length){const v=c.length-this._secondaryCursors.length;for(let B=0;B<v;B++){const U=new Io(this._context);this._domNode.domNode.insertBefore(U.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(U)}}else if(this._secondaryCursors.length>c.length){const v=this._secondaryCursors.length-c.length;for(let B=0;B<v;B++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let v=0;v<c.length;v++)this._secondaryCursors[v].onCursorPositionChanged(c[v])}onCursorStateChanged(i){const c=[];for(let B=0,U=i.selections.length;B<U;B++)c[B]=i.selections[B].getPosition();this._onCursorPositionChanged(c[0],c.slice(1));const v=i.selections[0].isEmpty();return this._selectionIsEmpty!==v&&(this._selectionIsEmpty=v,this._updateDomClassName()),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onFocusChanged(i){return this._editorHasFocus=i.isFocused,this._updateBlinking(),!1}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return!0}onTokensChanged(i){const c=v=>{for(let B=0,U=i.ranges.length;B<U;B++)if(i.ranges[B].fromLineNumber<=v.lineNumber&&v.lineNumber<=i.ranges[B].toLineNumber)return!0;return!1};if(c(this._primaryCursor.getPosition()))return!0;for(const v of this._secondaryCursors)if(c(v.getPosition()))return!0;return!1}onZonesChanged(i){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const i=this._getCursorBlinking(),c=i===0,v=i===5;c?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!c&&!v&&(i===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},us.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},us.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let i="cursors-layer";switch(this._selectionIsEmpty||(i+=" has-selection"),this._cursorStyle){case b.d2.Line:i+=" cursor-line-style";break;case b.d2.Block:i+=" cursor-block-style";break;case b.d2.Underline:i+=" cursor-underline-style";break;case b.d2.LineThin:i+=" cursor-line-thin-style";break;case b.d2.BlockOutline:i+=" cursor-block-outline-style";break;case b.d2.UnderlineThin:i+=" cursor-underline-thin-style";break;default:i+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:i+=" cursor-blink";break;case 2:i+=" cursor-smooth";break;case 3:i+=" cursor-phase";break;case 4:i+=" cursor-expand";break;case 5:i+=" cursor-solid";break;default:i+=" cursor-solid"}else i+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(i+=" cursor-smooth-caret-animation"),i}_show(){this._primaryCursor.show();for(let i=0,c=this._secondaryCursors.length;i<c;i++)this._secondaryCursors[i].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let i=0,c=this._secondaryCursors.length;i<c;i++)this._secondaryCursors[i].hide();this._isVisible=!1}prepareRender(i){this._primaryCursor.prepareRender(i);for(let c=0,v=this._secondaryCursors.length;c<v;c++)this._secondaryCursors[c].prepareRender(i)}render(i){const c=[];let v=0;const B=this._primaryCursor.render(i);B&&(c[v++]=B);for(let U=0,le=this._secondaryCursors.length;U<le;U++){const Ce=this._secondaryCursors[U].render(i);Ce&&(c[v++]=Ce)}this._renderData=c}getLastRenderData(){return this._renderData}}us.BLINK_INTERVAL=500,(0,Gn.Ic)((ut,i)=>{const c=ut.getColor(Sn.n0);if(c){let v=ut.getColor(Sn.fY);v||(v=c.opposite()),i.addRule(`.monaco-editor .inputarea.ime-input { caret-color: ${c}; }`),i.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${c}; border-color: ${c}; color: ${v}; }`),ut.type==="hc"&&i.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${v}; border-right: 1px solid ${v}; }`)}});const uo=()=>{throw new Error("Invalid change accessor")};class xo extends be{constructor(i){super(i);const c=this._context.configuration.options,v=c.get(131);this._lineHeight=c.get(59),this._contentWidth=v.contentWidth,this._contentLeft=v.contentLeft,this.domNode=(0,oe.X)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,oe.X)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const i=this._context.viewLayout.getWhitespaces(),c=new Map;for(const B of i)c.set(B.id,B);let v=!1;return this._context.viewModel.changeWhitespace(B=>{const U=Object.keys(this._zones);for(let le=0,Ce=U.length;le<Ce;le++){const ke=U[le],Oe=this._zones[ke],Qe=this._computeWhitespaceProps(Oe.delegate);Oe.isInHiddenArea=Qe.isInHiddenArea;const qe=c.get(ke);qe&&(qe.afterLineNumber!==Qe.afterViewLineNumber||qe.height!==Qe.heightInPx)&&(B.changeOneWhitespace(ke,Qe.afterViewLineNumber,Qe.heightInPx),this._safeCallOnComputedHeight(Oe.delegate,Qe.heightInPx),v=!0)}}),v}onConfigurationChanged(i){const c=this._context.configuration.options,v=c.get(131);return this._lineHeight=c.get(59),this._contentWidth=v.contentWidth,this._contentLeft=v.contentLeft,i.hasChanged(59)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(i){return this._recomputeWhitespacesProps()}onLinesDeleted(i){return!0}onScrollChanged(i){return i.scrollTopChanged||i.scrollWidthChanged}onZonesChanged(i){return!0}onLinesInserted(i){return!0}_getZoneOrdinal(i){return typeof i.afterColumn!="undefined"?i.afterColumn:1e4}_computeWhitespaceProps(i){if(i.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(i),minWidthInPx:this._minWidthInPixels(i)};let c;if(typeof i.afterColumn!="undefined")c=this._context.viewModel.model.validatePosition({lineNumber:i.afterLineNumber,column:i.afterColumn});else{const le=this._context.viewModel.model.validatePosition({lineNumber:i.afterLineNumber,column:1}).lineNumber;c=new Pe.L(le,this._context.viewModel.model.getLineMaxColumn(le))}let v;c.column===this._context.viewModel.model.getLineMaxColumn(c.lineNumber)?v=this._context.viewModel.model.validatePosition({lineNumber:c.lineNumber+1,column:1}):v=this._context.viewModel.model.validatePosition({lineNumber:c.lineNumber,column:c.column+1});const B=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(c,i.afterColumnAffinity),U=this._context.viewModel.coordinatesConverter.modelPositionIsVisible(v);return{isInHiddenArea:!U,afterViewLineNumber:B.lineNumber,heightInPx:U?this._heightInPixels(i):0,minWidthInPx:this._minWidthInPixels(i)}}changeViewZones(i){let c=!1;return this._context.viewModel.changeWhitespace(v=>{const B={addZone:U=>(c=!0,this._addZone(v,U)),removeZone:U=>{!U||(c=this._removeZone(v,U)||c)},layoutZone:U=>{!U||(c=this._layoutZone(v,U)||c)}};Sr(i,B),B.addZone=uo,B.removeZone=uo,B.layoutZone=uo}),c}_addZone(i,c){const v=this._computeWhitespaceProps(c),U={whitespaceId:i.insertWhitespace(v.afterViewLineNumber,this._getZoneOrdinal(c),v.heightInPx,v.minWidthInPx),delegate:c,isInHiddenArea:v.isInHiddenArea,isVisible:!1,domNode:(0,oe.X)(c.domNode),marginDomNode:c.marginDomNode?(0,oe.X)(c.marginDomNode):null};return this._safeCallOnComputedHeight(U.delegate,v.heightInPx),U.domNode.setPosition("absolute"),U.domNode.domNode.style.width="100%",U.domNode.setDisplay("none"),U.domNode.setAttribute("monaco-view-zone",U.whitespaceId),this.domNode.appendChild(U.domNode),U.marginDomNode&&(U.marginDomNode.setPosition("absolute"),U.marginDomNode.domNode.style.width="100%",U.marginDomNode.setDisplay("none"),U.marginDomNode.setAttribute("monaco-view-zone",U.whitespaceId),this.marginDomNode.appendChild(U.marginDomNode)),this._zones[U.whitespaceId]=U,this.setShouldRender(),U.whitespaceId}_removeZone(i,c){if(this._zones.hasOwnProperty(c)){const v=this._zones[c];return delete this._zones[c],i.removeWhitespace(v.whitespaceId),v.domNode.removeAttribute("monaco-visible-view-zone"),v.domNode.removeAttribute("monaco-view-zone"),v.domNode.domNode.parentNode.removeChild(v.domNode.domNode),v.marginDomNode&&(v.marginDomNode.removeAttribute("monaco-visible-view-zone"),v.marginDomNode.removeAttribute("monaco-view-zone"),v.marginDomNode.domNode.parentNode.removeChild(v.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(i,c){if(this._zones.hasOwnProperty(c)){const v=this._zones[c],B=this._computeWhitespaceProps(v.delegate);return v.isInHiddenArea=B.isInHiddenArea,i.changeOneWhitespace(v.whitespaceId,B.afterViewLineNumber,B.heightInPx),this._safeCallOnComputedHeight(v.delegate,B.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(i){if(this._zones.hasOwnProperty(i)){const c=this._zones[i];return Boolean(c.delegate.suppressMouseDown)}return!1}_heightInPixels(i){return typeof i.heightInPx=="number"?i.heightInPx:typeof i.heightInLines=="number"?this._lineHeight*i.heightInLines:this._lineHeight}_minWidthInPixels(i){return typeof i.minWidthInPx=="number"?i.minWidthInPx:0}_safeCallOnComputedHeight(i,c){if(typeof i.onComputedHeight=="function")try{i.onComputedHeight(c)}catch(v){(0,M.dL)(v)}}_safeCallOnDomNodeTop(i,c){if(typeof i.onDomNodeTop=="function")try{i.onDomNodeTop(c)}catch(v){(0,M.dL)(v)}}prepareRender(i){}render(i){const c=i.viewportData.whitespaceViewportData,v={};let B=!1;for(const le of c)this._zones[le.id].isInHiddenArea||(v[le.id]=le,B=!0);const U=Object.keys(this._zones);for(let le=0,Ce=U.length;le<Ce;le++){const ke=U[le],Oe=this._zones[ke];let Qe=0,qe=0,Ct="none";v.hasOwnProperty(ke)?(Qe=v[ke].verticalOffset-i.bigNumbersDelta,qe=v[ke].height,Ct="block",Oe.isVisible||(Oe.domNode.setAttribute("monaco-visible-view-zone","true"),Oe.isVisible=!0),this._safeCallOnDomNodeTop(Oe.delegate,i.getScrolledTopFromAbsoluteTop(v[ke].verticalOffset))):(Oe.isVisible&&(Oe.domNode.removeAttribute("monaco-visible-view-zone"),Oe.isVisible=!1),this._safeCallOnDomNodeTop(Oe.delegate,i.getScrolledTopFromAbsoluteTop(-1e6))),Oe.domNode.setTop(Qe),Oe.domNode.setHeight(qe),Oe.domNode.setDisplay(Ct),Oe.marginDomNode&&(Oe.marginDomNode.setTop(Qe),Oe.marginDomNode.setHeight(qe),Oe.marginDomNode.setDisplay(Ct))}B&&(this.domNode.setWidth(Math.max(i.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}function Sr(ut,i){try{return ut(i)}catch(c){(0,M.dL)(c)}}class mr{constructor(i){this._theme=i}get type(){return this._theme.type}get value(){return this._theme}update(i){this._theme=i}getColor(i){return this._theme.getColor(i)}}class Eo{constructor(i,c,v){this.configuration=i,this.theme=new mr(c),this.viewModel=v,this.viewLayout=v.viewLayout}addEventHandler(i){this.viewModel.addViewEventHandler(i)}removeEventHandler(i){this.viewModel.removeViewEventHandler(i)}}class xi{constructor(i,c,v,B){this.selections=i,this.startLineNumber=c.startLineNumber|0,this.endLineNumber=c.endLineNumber|0,this.relativeVerticalOffset=c.relativeVerticalOffset,this.bigNumbersDelta=c.bigNumbersDelta|0,this.whitespaceViewportData=v,this._model=B,this.visibleRange=new en.e(c.startLineNumber,this._model.getLineMinColumn(c.startLineNumber),c.endLineNumber,this._model.getLineMaxColumn(c.endLineNumber))}getViewLineRenderingData(i){return this._model.getViewLineRenderingData(this.visibleRange,i)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class nt extends De{constructor(i,c,v,B,U,le){super(),this._selections=[new J.Y(1,1,1,1)],this._renderAnimationFrame=null;const Ce=new Pi(c,B,U,i);this._context=new Eo(c,v,B),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=new Di(this._context,Ce,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,oe.X)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,oe.X)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,oe.X)(document.createElement("div")),We.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new Jo(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new go(this._context,this._linesContent),this._viewZones=new xo(this._context),this._viewParts.push(this._viewZones);const ke=new jt(this._context);this._viewParts.push(ke);const Oe=new Js(this._context);this._viewParts.push(Oe);const Qe=new hi(this._context);this._viewParts.push(Qe),Qe.addDynamicOverlay(new Xs(this._context)),Qe.addDynamicOverlay(new ks(this._context)),Qe.addDynamicOverlay(new Rs(this._context)),Qe.addDynamicOverlay(new Ki(this._context));const qe=new En(this._context);this._viewParts.push(qe),qe.addDynamicOverlay(new zs(this._context)),qe.addDynamicOverlay(new ts(this._context)),qe.addDynamicOverlay(new Go(this._context)),qe.addDynamicOverlay(new Is(this._context)),qe.addDynamicOverlay(new ti(this._context));const Ct=new An(this._context);Ct.getDomNode().appendChild(this._viewZones.marginDomNode),Ct.getDomNode().appendChild(qe.getDomNode()),this._viewParts.push(Ct),this._contentWidgets=new ri(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new us(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new fi(this._context),this._viewParts.push(this._overlayWidgets);const Dt=new Fs(this._context);this._viewParts.push(Dt);const $t=new _n(this._context);if(this._viewParts.push($t),ke){const qt=this._scrollbar.getOverviewRulerLayoutInfo();qt.parent.insertBefore(ke.getDomNode(),qt.insertBefore)}this._linesContent.appendChild(Qe.getDomNode()),this._linesContent.appendChild(Dt.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(Ct.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(Oe.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild($t.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),le?le.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new Mn(this._context,Ce,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:i=>{this._textAreaHandler.textArea.domNode.dispatchEvent(i)},getLastRenderData:()=>{const i=this._viewCursors.getLastRenderData()||[],c=this._textAreaHandler.getLastRenderData();return new wn(i,c)},shouldSuppressMouseDownOnViewZone:i=>this._viewZones.shouldSuppressMouseDownOnViewZone(i),shouldSuppressMouseDownOnWidget:i=>this._contentWidgets.shouldSuppressMouseDownOnWidget(i),getPositionFromDOMInfo:(i,c)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(i,c)),visibleRangeForPosition:(i,c)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new Pe.L(i,c))),getLineWidth:i=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(i))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:i=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(i))}}_applyLayout(){const c=this._context.configuration.options.get(131);this.domNode.setWidth(c.width),this.domNode.setHeight(c.height),this._overflowGuardContainer.setWidth(c.width),this._overflowGuardContainer.setHeight(c.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const i=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(128)+" "+(0,Gn.m6)(this._context.theme.type)+i}handleEvents(i){super.handleEvents(i),this._scheduleRender()}onConfigurationChanged(i){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(i){return this._selections=i.selections,!1}onFocusChanged(i){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(i){return this._context.theme.update(i.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const i of this._viewParts)i.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=A.lI(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){Ae(()=>this._actualRender())}_getViewPartsToRender(){const i=[];let c=0;for(const v of this._viewParts)v.shouldRender()&&(i[c++]=v);return i}_actualRender(){if(!A.Uw(this.domNode.domNode))return;let i=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&i.length===0)return;const c=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(c.startLineNumber,c.endLineNumber,c.centeredLineNumber);const v=new xi(this._selections,c,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(v),this._viewLines.shouldRender()&&(this._viewLines.renderText(v),this._viewLines.onDidRender(),i=this._getViewPartsToRender());const B=new Kt(this._context.viewLayout,v,this._viewLines);for(const U of i)U.prepareRender(B);for(const U of i)U.render(B),U.onDidRender()}delegateVerticalScrollbarMouseDown(i){this._scrollbar.delegateVerticalScrollbarMouseDown(i)}restoreState(i){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:i.scrollTop},1),this._context.viewModel.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:i.scrollLeft},1)}getOffsetForColumn(i,c){const v=this._context.viewModel.model.validatePosition({lineNumber:i,column:c}),B=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(v);this._flushAccumulatedAndRenderNow();const U=this._viewLines.visibleRangeForPosition(new Pe.L(B.lineNumber,B.column));return U?U.left:-1}getTargetAtClientPoint(i,c){const v=this._pointerHandler.getTargetAtClientPoint(i,c);return v?Vi.convertViewToModelMouseTarget(v,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(i){return new rs(this._context,i)}change(i){this._viewZones.changeViewZones(i),this._scheduleRender()}render(i,c){if(c){this._viewLines.forceShouldRender();for(const v of this._viewParts)v.forceShouldRender()}i?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(i){this._textAreaHandler.setAriaOptions(i)}addContentWidget(i){this._contentWidgets.addWidget(i.widget),this.layoutContentWidget(i),this._scheduleRender()}layoutContentWidget(i){let c=i.position&&i.position.range||null;if(c===null){const B=i.position?i.position.position:null;B!==null&&(c=new en.e(B.lineNumber,B.column,B.lineNumber,B.column))}const v=i.position?i.position.preference:null;this._contentWidgets.setWidgetPosition(i.widget,c,v),this._scheduleRender()}removeContentWidget(i){this._contentWidgets.removeWidget(i.widget),this._scheduleRender()}addOverlayWidget(i){this._overlayWidgets.addWidget(i.widget),this.layoutOverlayWidget(i),this._scheduleRender()}layoutOverlayWidget(i){const c=i.position?i.position.preference:null;this._overlayWidgets.setWidgetPosition(i.widget,c)&&this._scheduleRender()}removeOverlayWidget(i){this._overlayWidgets.removeWidget(i.widget),this._scheduleRender()}}function Ae(ut){try{return ut()}catch(i){(0,M.dL)(i)}}var dt=l(92386);class Bt{constructor(i){this._selTrackedRange=null,this._trackSelection=!0,this._setState(i,new dt.rS(new en.e(1,1,1,1),0,new Pe.L(1,1),0),new dt.rS(new en.e(1,1,1,1),0,new Pe.L(1,1),0))}dispose(i){this._removeTrackedRange(i)}startTrackingSelection(i){this._trackSelection=!0,this._updateTrackedRange(i)}stopTrackingSelection(i){this._trackSelection=!1,this._removeTrackedRange(i)}_updateTrackedRange(i){!this._trackSelection||(this._selTrackedRange=i.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(i){this._selTrackedRange=i.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new dt.Vi(this.modelState,this.viewState)}readSelectionFromMarkers(i){const c=i.model._getTrackedRange(this._selTrackedRange);return J.Y.fromRange(c,this.modelState.selection.getDirection())}ensureValidState(i){this._setState(i,this.modelState,this.viewState)}setState(i,c,v){this._setState(i,c,v)}static _validatePositionWithCache(i,c,v,B){return c.equals(v)?B:i.normalizePosition(c,2)}static _validateViewState(i,c){const v=c.position,B=c.selectionStart.getStartPosition(),U=c.selectionStart.getEndPosition(),le=i.normalizePosition(v,2),Ce=this._validatePositionWithCache(i,B,v,le),ke=this._validatePositionWithCache(i,U,B,Ce);return v.equals(le)&&B.equals(Ce)&&U.equals(ke)?c:new dt.rS(en.e.fromPositions(Ce,ke),c.selectionStartLeftoverVisibleColumns+B.column-Ce.column,le,c.leftoverVisibleColumns+v.column-le.column)}_setState(i,c,v){if(v&&(v=Bt._validateViewState(i.viewModel,v)),c){const B=i.model.validateRange(c.selectionStart),U=c.selectionStart.equalsRange(B)?c.selectionStartLeftoverVisibleColumns:0,le=i.model.validatePosition(c.position),Ce=c.position.equals(le)?c.leftoverVisibleColumns:0;c=new dt.rS(B,U,le,Ce)}else{if(!v)return;const B=i.model.validateRange(i.coordinatesConverter.convertViewRangeToModelRange(v.selectionStart)),U=i.model.validatePosition(i.coordinatesConverter.convertViewPositionToModelPosition(v.position));c=new dt.rS(B,v.selectionStartLeftoverVisibleColumns,U,v.leftoverVisibleColumns)}if(v){const B=i.coordinatesConverter.validateViewRange(v.selectionStart,c.selectionStart),U=i.coordinatesConverter.validateViewPosition(v.position,c.position);v=new dt.rS(B,c.selectionStartLeftoverVisibleColumns,U,c.leftoverVisibleColumns)}else{const B=i.coordinatesConverter.convertModelPositionToViewPosition(new Pe.L(c.selectionStart.startLineNumber,c.selectionStart.startColumn)),U=i.coordinatesConverter.convertModelPositionToViewPosition(new Pe.L(c.selectionStart.endLineNumber,c.selectionStart.endColumn)),le=new en.e(B.lineNumber,B.column,U.lineNumber,U.column),Ce=i.coordinatesConverter.convertModelPositionToViewPosition(c.position);v=new dt.rS(le,c.selectionStartLeftoverVisibleColumns,Ce,c.leftoverVisibleColumns)}this.modelState=c,this.viewState=v,this._updateTrackedRange(i)}}class Yt{constructor(i){this.context=i,this.cursors=[new Bt(i)],this.lastAddedCursorIndex=0}dispose(){for(const i of this.cursors)i.dispose(this.context)}startTrackingSelections(){for(const i of this.cursors)i.startTrackingSelection(this.context)}stopTrackingSelections(){for(const i of this.cursors)i.stopTrackingSelection(this.context)}updateContext(i){this.context=i}ensureValidState(){for(const i of this.cursors)i.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(i=>i.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(i=>i.asCursorState())}getViewPositions(){return this.cursors.map(i=>i.viewState.position)}getTopMostViewPosition(){return(0,m.VJ)(this.cursors,(0,m.tT)(i=>i.viewState.position,Pe.L.compare)).viewState.position}getBottomMostViewPosition(){return(0,m.jV)(this.cursors,(0,m.tT)(i=>i.viewState.position,Pe.L.compare)).viewState.position}getSelections(){return this.cursors.map(i=>i.modelState.selection)}getViewSelections(){return this.cursors.map(i=>i.viewState.selection)}setSelections(i){this.setStates(dt.Vi.fromModelSelections(i))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(i){i!==null&&(this.cursors[0].setState(this.context,i[0].modelState,i[0].viewState),this._setSecondaryStates(i.slice(1)))}_setSecondaryStates(i){const c=this.cursors.length-1,v=i.length;if(c<v){const B=v-c;for(let U=0;U<B;U++)this._addSecondaryCursor()}else if(c>v){const B=c-v;for(let U=0;U<B;U++)this._removeSecondaryCursor(this.cursors.length-2)}for(let B=0;B<v;B++)this.cursors[B+1].setState(this.context,i[B].modelState,i[B].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new Bt(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(i){this.lastAddedCursorIndex>=i+1&&this.lastAddedCursorIndex--,this.cursors[i+1].dispose(this.context),this.cursors.splice(i+1,1)}normalize(){if(this.cursors.length===1)return;const i=this.cursors.slice(0),c=[];for(let v=0,B=i.length;v<B;v++)c.push({index:v,selection:i[v].modelState.selection});c.sort((0,m.tT)(v=>v.selection,en.e.compareRangesUsingStarts));for(let v=0;v<c.length-1;v++){const B=c[v],U=c[v+1],le=B.selection,Ce=U.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let ke;if(Ce.isEmpty()||le.isEmpty()?ke=Ce.getStartPosition().isBeforeOrEqual(le.getEndPosition()):ke=Ce.getStartPosition().isBefore(le.getEndPosition()),ke){const Oe=B.index<U.index?v:v+1,Qe=B.index<U.index?v+1:v,qe=c[Qe].index,Ct=c[Oe].index,Dt=c[Qe].selection,$t=c[Oe].selection;if(!Dt.equalsSelection($t)){const qt=Dt.plusRange($t),un=Dt.selectionStartLineNumber===Dt.startLineNumber&&Dt.selectionStartColumn===Dt.startColumn,In=$t.selectionStartLineNumber===$t.startLineNumber&&$t.selectionStartColumn===$t.startColumn;let Bn;qe===this.lastAddedCursorIndex?(Bn=un,this.lastAddedCursorIndex=Ct):Bn=In;let Vn;Bn?Vn=new J.Y(qt.startLineNumber,qt.startColumn,qt.endLineNumber,qt.endColumn):Vn=new J.Y(qt.endLineNumber,qt.endColumn,qt.startLineNumber,qt.startColumn),c[Oe].selection=Vn;const li=dt.Vi.fromModelSelection(Vn);i[Ct].setState(this.context,li.modelState,li.viewState)}for(const qt of c)qt.index>qe&&qt.index--;i.splice(qe,1),c.splice(Qe,1),this._removeSecondaryCursor(qe-1),v--}}}}class ln{constructor(i,c,v,B){this._cursorContextBrand=void 0,this.model=i,this.viewModel=c,this.coordinatesConverter=v,this.cursorConfig=B}}var jn=l(92244),ci=l(28286),Li=l(62316);class is{constructor(){this.type=0}}class Ts{constructor(){this.type=1}}class Ls{constructor(i){this.type=2,this._source=i}hasChanged(i){return this._source.hasChanged(i)}}class wo{constructor(i,c){this.type=3,this.selections=i,this.modelSelections=c}}class Ho{constructor(i){this.type=4,i?(this.affectsMinimap=i.affectsMinimap,this.affectsOverviewRuler=i.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class er{constructor(){this.type=5}}class jl{constructor(i){this.type=6,this.isFocused=i}}class Pa{constructor(){this.type=7}}class so{constructor(){this.type=8}}class gs{constructor(i,c){this.type=9,this.fromLineNumber=i,this.toLineNumber=c}}class Yo{constructor(i,c){this.type=10,this.fromLineNumber=i,this.toLineNumber=c}}class pr{constructor(i,c){this.type=11,this.fromLineNumber=i,this.toLineNumber=c}}class sa{constructor(i,c,v,B,U,le,Ce){this.source=i,this.minimalReveal=c,this.range=v,this.selections=B,this.verticalType=U,this.revealHorizontal=le,this.scrollType=Ce,this.type=12}}class Oa{constructor(i){this.type=13,this.scrollWidth=i.scrollWidth,this.scrollLeft=i.scrollLeft,this.scrollHeight=i.scrollHeight,this.scrollTop=i.scrollTop,this.scrollWidthChanged=i.scrollWidthChanged,this.scrollLeftChanged=i.scrollLeftChanged,this.scrollHeightChanged=i.scrollHeightChanged,this.scrollTopChanged=i.scrollTopChanged}}class kr{constructor(i){this.theme=i,this.type=14}}class tr{constructor(i){this.type=15,this.ranges=i}}class ar{constructor(){this.type=16}}class Sl{constructor(){this.type=17}}class wd extends w.JT{constructor(){super(),this._onEvent=this._register(new I.Q5),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(i){this._addOutgoingEvent(i),this._emitOutgoingEvents()}_addOutgoingEvent(i){for(let c=0,v=this._outgoingEvents.length;c<v;c++)if(this._outgoingEvents[c].kind===i.kind){this._outgoingEvents[c]=this._outgoingEvents[c].merge(i);return}this._outgoingEvents.push(i)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const i=this._outgoingEvents.shift();i.isNoOp()||this._onEvent.fire(i)}}addViewEventHandler(i){for(let c=0,v=this._eventHandlers.length;c<v;c++)this._eventHandlers[c]===i&&console.warn("Detected duplicate listener in ViewEventDispatcher",i);this._eventHandlers.push(i)}removeViewEventHandler(i){for(let c=0;c<this._eventHandlers.length;c++)if(this._eventHandlers[c]===i){this._eventHandlers.splice(c,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new $a),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const i=this._collector.outgoingEvents,c=this._collector.viewEvents;this._collector=null;for(const v of i)this._addOutgoingEvent(v);c.length>0&&this._emitMany(c)}this._emitOutgoingEvents()}emitSingleViewEvent(i){try{this.beginEmitViewEvents().emitViewEvent(i)}finally{this.endEmitViewEvents()}}_emitMany(i){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(i):this._viewEventQueue=i,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const i=this._viewEventQueue;this._viewEventQueue=null;const c=this._eventHandlers.slice(0);for(const v of c)v.handleEvents(i)}}}class $a{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(i){this.viewEvents.push(i)}emitOutgoingEvent(i){this.outgoingEvents.push(i)}}class Ll{constructor(i,c,v,B){this.kind=0,this._oldContentWidth=i,this._oldContentHeight=c,this.contentWidth=v,this.contentHeight=B,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(i){return i.kind!==0?this:new Ll(this._oldContentWidth,this._oldContentHeight,i.contentWidth,i.contentHeight)}}class El{constructor(i,c){this.kind=1,this.oldHasFocus=i,this.hasFocus=c}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(i){return i.kind!==1?this:new El(this.oldHasFocus,i.hasFocus)}}class cl{constructor(i,c,v,B,U,le,Ce,ke){this.kind=2,this._oldScrollWidth=i,this._oldScrollLeft=c,this._oldScrollHeight=v,this._oldScrollTop=B,this.scrollWidth=U,this.scrollLeft=le,this.scrollHeight=Ce,this.scrollTop=ke,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}merge(i){return i.kind!==2?this:new cl(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,i.scrollWidth,i.scrollLeft,i.scrollHeight,i.scrollTop)}}class Uc{constructor(){this.kind=3}isNoOp(){return!1}merge(i){return this}}class Ca{constructor(){this.kind=4}isNoOp(){return!1}merge(i){return this}}class lr{constructor(i,c,v,B,U,le,Ce){this.kind=6,this.oldSelections=i,this.selections=c,this.oldModelVersionId=v,this.modelVersionId=B,this.source=U,this.reason=le,this.reachedMaxCursorCount=Ce}static _selectionsAreEqual(i,c){if(!i&&!c)return!0;if(!i||!c)return!1;const v=i.length,B=c.length;if(v!==B)return!1;for(let U=0;U<v;U++)if(!i[U].equalsSelection(c[U]))return!1;return!0}isNoOp(){return lr._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(i){return i.kind!==6?this:new lr(this.oldSelections,i.selections,this.oldModelVersionId,i.modelVersionId,i.source,i.reason,this.reachedMaxCursorCount||i.reachedMaxCursorCount)}}class mi{constructor(){this.kind=5}isNoOp(){return!1}merge(i){return this}}class $s extends w.JT{constructor(i,c,v,B){super(),this._model=i,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=c,this._coordinatesConverter=v,this.context=new ln(this._model,this._viewModel,this._coordinatesConverter,B),this._cursors=new Yt(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,w.B9)(this._autoClosedActions),super.dispose()}updateConfiguration(i){this.context=new ln(this._model,this._viewModel,this._coordinatesConverter,i),this._cursors.updateContext(this.context)}onLineMappingChanged(i){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(i,"viewModel",0,this.getCursorStates())}setHasFocus(i){this._hasFocus=i}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const i=this._cursors.getSelections();for(let c=0;c<this._autoClosedActions.length;c++){const v=this._autoClosedActions[c];v.isValid(i)||(v.dispose(),this._autoClosedActions.splice(c,1),c--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(i,c,v,B){let U=!1;B!==null&&B.length>$s.MAX_CURSOR_COUNT&&(B=B.slice(0,$s.MAX_CURSOR_COUNT),U=!0);const le=xs.from(this._model,this);return this._cursors.setStates(B),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(i,c,v,le,U)}setCursorColumnSelectData(i){this._columnSelectData=i}revealPrimary(i,c,v,B,U,le){const Ce=this._cursors.getViewPositions();let ke=null,Oe=null;Ce.length>1?Oe=this._cursors.getViewSelections():ke=en.e.fromPositions(Ce[0],Ce[0]),i.emitViewEvent(new sa(c,v,ke,Oe,B,U,le))}saveState(){const i=[],c=this._cursors.getSelections();for(let v=0,B=c.length;v<B;v++){const U=c[v];i.push({inSelectionMode:!U.isEmpty(),selectionStart:{lineNumber:U.selectionStartLineNumber,column:U.selectionStartColumn},position:{lineNumber:U.positionLineNumber,column:U.positionColumn}})}return i}restoreState(i,c){const v=[];for(let B=0,U=c.length;B<U;B++){const le=c[B];let Ce=1,ke=1;le.position&&le.position.lineNumber&&(Ce=le.position.lineNumber),le.position&&le.position.column&&(ke=le.position.column);let Oe=Ce,Qe=ke;le.selectionStart&&le.selectionStart.lineNumber&&(Oe=le.selectionStart.lineNumber),le.selectionStart&&le.selectionStart.column&&(Qe=le.selectionStart.column),v.push({selectionStartLineNumber:Oe,selectionStartColumn:Qe,positionLineNumber:Ce,positionColumn:ke})}this.setStates(i,"restoreState",0,dt.Vi.fromModelSelections(v)),this.revealPrimary(i,"restoreState",!1,0,!0,1)}onModelContentChanged(i,c){if(c instanceof Li.D8){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(i,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{if(this._knownModelVersionId=c.versionId,this._isHandling)return;const v=c.containsEvent(1);if(this._prevEditOperationType=0,v)this._cursors.dispose(),this._cursors=new Yt(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(i,"model",1,null,!1);else if(this._hasFocus&&c.resultingSelection&&c.resultingSelection.length>0){const B=dt.Vi.fromModelSelections(c.resultingSelection);this.setStates(i,"modelChange",c.isUndoing?5:c.isRedoing?6:2,B)&&this.revealPrimary(i,"modelChange",!1,0,!0,0)}else{const B=this._cursors.readSelectionFromMarkers();this.setStates(i,"modelChange",2,dt.Vi.fromModelSelections(B))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const i=this._cursors.getPrimaryCursor(),c=i.viewState.selectionStart.getStartPosition(),v=i.viewState.position;return{isReal:!1,fromViewLineNumber:c.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,c),toViewLineNumber:v.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,v)}}getSelections(){return this._cursors.getSelections()}setSelections(i,c,v,B){this.setStates(i,c,B,dt.Vi.fromModelSelections(v))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(i){this._prevEditOperationType=i}_pushAutoClosedAction(i,c){const v=[],B=[];for(let Ce=0,ke=i.length;Ce<ke;Ce++)v.push({range:i[Ce],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),B.push({range:c[Ce],options:{description:"auto-closed-enclosing",stickiness:1}});const U=this._model.deltaDecorations([],v),le=this._model.deltaDecorations([],B);this._autoClosedActions.push(new zo(this._model,U,le))}_executeEditOperation(i){if(!i)return;i.shouldPushStackElementBefore&&this._model.pushStackElement();const c=oo.executeCommands(this._model,this._cursors.getSelections(),i.commands);if(c){this._interpretCommandResult(c);const v=[],B=[];for(let U=0;U<i.commands.length;U++){const le=i.commands[U];le instanceof ci.g&&le.enclosingRange&&le.closeCharacterRange&&(v.push(le.closeCharacterRange),B.push(le.enclosingRange))}v.length>0&&this._pushAutoClosedAction(v,B),this._prevEditOperationType=i.type}i.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(i){(!i||i.length===0)&&(i=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(i),this._cursors.normalize()}_emitStateChangedIfNecessary(i,c,v,B,U){const le=xs.from(this._model,this);if(le.equals(B))return!1;const Ce=this._cursors.getSelections(),ke=this._cursors.getViewSelections();if(i.emitViewEvent(new wo(ke,Ce)),!B||B.cursorState.length!==le.cursorState.length||le.cursorState.some((Oe,Qe)=>!Oe.modelState.equals(B.cursorState[Qe].modelState))){const Oe=B?B.cursorState.map(qe=>qe.modelState.selection):null,Qe=B?B.modelVersionId:0;i.emitOutgoingEvent(new lr(Oe,Ce,Qe,le.modelVersionId,c||"keyboard",v,U))}return!0}_findAutoClosingPairs(i){if(!i.length)return null;const c=[];for(let v=0,B=i.length;v<B;v++){const U=i[v];if(!U.text||U.text.indexOf(`
`)>=0)return null;const le=U.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!le)return null;const Ce=le[1],ke=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(Ce);if(!ke||ke.length!==1)return null;const Oe=ke[0].open,Qe=U.text.length-le[2].length-1,qe=U.text.lastIndexOf(Oe,Qe-1);if(qe===-1)return null;c.push([qe,Qe])}return c}executeEdits(i,c,v,B){let U=null;c==="snippet"&&(U=this._findAutoClosingPairs(v)),U&&(v[0]._isTracked=!0);const le=[],Ce=[],ke=this._model.pushEditOperations(this.getSelections(),v,Oe=>{if(U)for(let qe=0,Ct=U.length;qe<Ct;qe++){const[Dt,$t]=U[qe],qt=Oe[qe],un=qt.range.startLineNumber,In=qt.range.startColumn-1+Dt,Bn=qt.range.startColumn-1+$t;le.push(new en.e(un,Bn+1,un,Bn+2)),Ce.push(new en.e(un,In+1,un,Bn+2))}const Qe=B(Oe);return Qe&&(this._isHandling=!0),Qe});ke&&(this._isHandling=!1,this.setSelections(i,c,ke,0)),le.length>0&&this._pushAutoClosedAction(le,Ce)}_executeEdit(i,c,v,B=0){if(this.context.cursorConfig.readOnly)return;const U=xs.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),i()}catch(le){(0,M.dL)(le)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(c,v,B,U,!1)&&this.revealPrimary(c,v,!1,0,!0,0)}setIsDoingComposition(i){this._isDoingComposition=i}getAutoClosedCharacters(){return zo.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(i){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(i,c){this._executeEdit(()=>{c==="keyboard"&&(this._executeEditOperation(ci.u.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)},i,c)}type(i,c,v){this._executeEdit(()=>{if(v==="keyboard"){const B=c.length;let U=0;for(;U<B;){const le=kn.vH(c,U),Ce=c.substr(U,le);this._executeEditOperation(ci.u.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),Ce)),U+=le}}else this._executeEditOperation(ci.u.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),c))},i,v)}compositionType(i,c,v,B,U,le){if(c.length===0&&v===0&&B===0){if(U!==0){const Ce=this.getSelections().map(ke=>{const Oe=ke.getPosition();return new J.Y(Oe.lineNumber,Oe.column+U,Oe.lineNumber,Oe.column+U)});this.setSelections(i,le,Ce,0)}return}this._executeEdit(()=>{this._executeEditOperation(ci.u.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),c,v,B,U))},i,le)}paste(i,c,v,B,U){this._executeEdit(()=>{this._executeEditOperation(ci.u.paste(this.context.cursorConfig,this._model,this.getSelections(),c,v,B||[]))},i,U,4)}cut(i,c){this._executeEdit(()=>{this._executeEditOperation(jn.A.cut(this.context.cursorConfig,this._model,this.getSelections()))},i,c)}executeCommand(i,c,v){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new dt.Tp(0,[c],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},i,v)}executeCommands(i,c,v){this._executeEdit(()=>{this._executeEditOperation(new dt.Tp(0,c,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},i,v)}}$s.MAX_CURSOR_COUNT=1e4;class xs{constructor(i,c){this.modelVersionId=i,this.cursorState=c}static from(i,c){return new xs(i.getVersionId(),c.getCursorStates())}equals(i){if(!i||this.modelVersionId!==i.modelVersionId||this.cursorState.length!==i.cursorState.length)return!1;for(let c=0,v=this.cursorState.length;c<v;c++)if(!this.cursorState[c].equals(i.cursorState[c]))return!1;return!0}}class zo{constructor(i,c,v){this._model=i,this._autoClosedCharactersDecorations=c,this._autoClosedEnclosingDecorations=v}static getAllAutoClosedCharacters(i){let c=[];for(const v of i)c=c.concat(v.getAutoClosedCharactersRanges());return c}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const i=[];for(let c=0;c<this._autoClosedCharactersDecorations.length;c++){const v=this._model.getDecorationRange(this._autoClosedCharactersDecorations[c]);v&&i.push(v)}return i}isValid(i){const c=[];for(let v=0;v<this._autoClosedEnclosingDecorations.length;v++){const B=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[v]);if(B&&(c.push(B),B.startLineNumber!==B.endLineNumber))return!1}c.sort(en.e.compareRangesUsingStarts),i.sort(en.e.compareRangesUsingStarts);for(let v=0;v<i.length;v++)if(v>=c.length||!c[v].strictContainsRange(i[v]))return!1;return!0}}class oo{static executeCommands(i,c,v){const B={model:i,selectionsBefore:c,trackedRanges:[],trackedRangesDirection:[]},U=this._innerExecuteCommands(B,v);for(let le=0,Ce=B.trackedRanges.length;le<Ce;le++)B.model._setTrackedRange(B.trackedRanges[le],null,0);return U}static _innerExecuteCommands(i,c){if(this._arrayIsEmpty(c))return null;const v=this._getEditOperations(i,c);if(v.operations.length===0)return null;const B=v.operations,U=this._getLoserCursorMap(B);if(U.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const le=[];for(let Oe=0,Qe=B.length;Oe<Qe;Oe++)U.hasOwnProperty(B[Oe].identifier.major.toString())||le.push(B[Oe]);v.hadTrackedEditOperation&&le.length>0&&(le[0]._isTracked=!0);let Ce=i.model.pushEditOperations(i.selectionsBefore,le,Oe=>{const Qe=[];for(let Dt=0;Dt<i.selectionsBefore.length;Dt++)Qe[Dt]=[];for(const Dt of Oe)!Dt.identifier||Qe[Dt.identifier.major].push(Dt);const qe=(Dt,$t)=>Dt.identifier.minor-$t.identifier.minor,Ct=[];for(let Dt=0;Dt<i.selectionsBefore.length;Dt++)Qe[Dt].length>0?(Qe[Dt].sort(qe),Ct[Dt]=c[Dt].computeCursorState(i.model,{getInverseEditOperations:()=>Qe[Dt],getTrackedSelection:$t=>{const qt=parseInt($t,10),un=i.model._getTrackedRange(i.trackedRanges[qt]);return i.trackedRangesDirection[qt]===0?new J.Y(un.startLineNumber,un.startColumn,un.endLineNumber,un.endColumn):new J.Y(un.endLineNumber,un.endColumn,un.startLineNumber,un.startColumn)}})):Ct[Dt]=i.selectionsBefore[Dt];return Ct});Ce||(Ce=i.selectionsBefore);const ke=[];for(let Oe in U)U.hasOwnProperty(Oe)&&ke.push(parseInt(Oe,10));ke.sort((Oe,Qe)=>Qe-Oe);for(const Oe of ke)Ce.splice(Oe,1);return Ce}static _arrayIsEmpty(i){for(let c=0,v=i.length;c<v;c++)if(i[c])return!1;return!0}static _getEditOperations(i,c){let v=[],B=!1;for(let U=0,le=c.length;U<le;U++){const Ce=c[U];if(Ce){const ke=this._getEditOperationsFromCommand(i,U,Ce);v=v.concat(ke.operations),B=B||ke.hadTrackedEditOperation}}return{operations:v,hadTrackedEditOperation:B}}static _getEditOperationsFromCommand(i,c,v){const B=[];let U=0;const le=(qe,Ct,Dt=!1)=>{en.e.isEmpty(qe)&&Ct===""||B.push({identifier:{major:c,minor:U++},range:qe,text:Ct,forceMoveMarkers:Dt,isAutoWhitespaceEdit:v.insertsAutoWhitespace})};let Ce=!1;const Qe={addEditOperation:le,addTrackedEditOperation:(qe,Ct,Dt)=>{Ce=!0,le(qe,Ct,Dt)},trackSelection:(qe,Ct)=>{const Dt=J.Y.liftSelection(qe);let $t;if(Dt.isEmpty())if(typeof Ct=="boolean")Ct?$t=2:$t=3;else{const In=i.model.getLineMaxColumn(Dt.startLineNumber);Dt.startColumn===In?$t=2:$t=3}else $t=1;const qt=i.trackedRanges.length,un=i.model._setTrackedRange(null,Dt,$t);return i.trackedRanges[qt]=un,i.trackedRangesDirection[qt]=Dt.getDirection(),qt.toString()}};try{v.getEditOperations(i.model,Qe)}catch(qe){return(0,M.dL)(qe),{operations:[],hadTrackedEditOperation:!1}}return{operations:B,hadTrackedEditOperation:Ce}}static _getLoserCursorMap(i){i=i.slice(0),i.sort((v,B)=>-en.e.compareRangesUsingEnds(v.range,B.range));const c={};for(let v=1;v<i.length;v++){const B=i[v-1],U=i[v];if(en.e.getStartPosition(B.range).isBefore(en.e.getEndPosition(U.range))){let le;B.identifier.major>U.identifier.major?le=B.identifier.major:le=U.identifier.major,c[le.toString()]=!0;for(let Ce=0;Ce<i.length;Ce++)i[Ce].identifier.major===le&&(i.splice(Ce,1),Ce<v&&v--,Ce--);v>0&&v--}}return c}}var fc=l(7190),Qr=l(35405),Ei=l(50368),Ji=l(85014),Cs=l(6972),ro=l(99661);class Do{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(i){this._hasPending=!0,this._inserts.push(i)}change(i){this._hasPending=!0,this._changes.push(i)}remove(i){this._hasPending=!0,this._removes.push(i)}mustCommit(){return this._hasPending}commit(i){if(!this._hasPending)return;const c=this._inserts,v=this._changes,B=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],i._commitPendingChanges(c,v,B)}}class js{constructor(i,c,v,B,U){this.id=i,this.afterLineNumber=c,this.ordinal=v,this.height=B,this.minWidth=U,this.prefixSum=0}}class Oo{constructor(i,c,v,B){this._instanceId=kn.PJ(++Oo.INSTANCE_COUNT),this._pendingChanges=new Do,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=i,this._lineHeight=c,this._paddingTop=v,this._paddingBottom=B}static findInsertionIndex(i,c,v){let B=0,U=i.length;for(;B<U;){const le=B+U>>>1;c===i[le].afterLineNumber?v<i[le].ordinal?U=le:B=le+1:c<i[le].afterLineNumber?U=le:B=le+1}return B}setLineHeight(i){this._checkPendingChanges(),this._lineHeight=i}setPadding(i,c){this._paddingTop=i,this._paddingBottom=c}onFlushed(i){this._checkPendingChanges(),this._lineCount=i}changeWhitespace(i){let c=!1;try{i({insertWhitespace:(B,U,le,Ce)=>{c=!0,B=B|0,U=U|0,le=le|0,Ce=Ce|0;const ke=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new js(ke,B,U,le,Ce)),ke},changeOneWhitespace:(B,U,le)=>{c=!0,U=U|0,le=le|0,this._pendingChanges.change({id:B,newAfterLineNumber:U,newHeight:le})},removeWhitespace:B=>{c=!0,this._pendingChanges.remove({id:B})}})}finally{this._pendingChanges.commit(this)}return c}_commitPendingChanges(i,c,v){if((i.length>0||v.length>0)&&(this._minWidth=-1),i.length+c.length+v.length<=1){for(const ke of i)this._insertWhitespace(ke);for(const ke of c)this._changeOneWhitespace(ke.id,ke.newAfterLineNumber,ke.newHeight);for(const ke of v){const Oe=this._findWhitespaceIndex(ke.id);Oe!==-1&&this._removeWhitespace(Oe)}return}const B=new Set;for(const ke of v)B.add(ke.id);const U=new Map;for(const ke of c)U.set(ke.id,ke);const le=ke=>{const Oe=[];for(const Qe of ke)if(!B.has(Qe.id)){if(U.has(Qe.id)){const qe=U.get(Qe.id);Qe.afterLineNumber=qe.newAfterLineNumber,Qe.height=qe.newHeight}Oe.push(Qe)}return Oe},Ce=le(this._arr).concat(le(i));Ce.sort((ke,Oe)=>ke.afterLineNumber===Oe.afterLineNumber?ke.ordinal-Oe.ordinal:ke.afterLineNumber-Oe.afterLineNumber),this._arr=Ce,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(i){const c=Oo.findInsertionIndex(this._arr,i.afterLineNumber,i.ordinal);this._arr.splice(c,0,i),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,c-1)}_findWhitespaceIndex(i){const c=this._arr;for(let v=0,B=c.length;v<B;v++)if(c[v].id===i)return v;return-1}_changeOneWhitespace(i,c,v){const B=this._findWhitespaceIndex(i);if(B!==-1&&(this._arr[B].height!==v&&(this._arr[B].height=v,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,B-1)),this._arr[B].afterLineNumber!==c)){const U=this._arr[B];this._removeWhitespace(B),U.afterLineNumber=c,this._insertWhitespace(U)}}_removeWhitespace(i){this._arr.splice(i,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,i-1)}onLinesDeleted(i,c){this._checkPendingChanges(),i=i|0,c=c|0,this._lineCount-=c-i+1;for(let v=0,B=this._arr.length;v<B;v++){const U=this._arr[v].afterLineNumber;i<=U&&U<=c?this._arr[v].afterLineNumber=i-1:U>c&&(this._arr[v].afterLineNumber-=c-i+1)}}onLinesInserted(i,c){this._checkPendingChanges(),i=i|0,c=c|0,this._lineCount+=c-i+1;for(let v=0,B=this._arr.length;v<B;v++){const U=this._arr[v].afterLineNumber;i<=U&&(this._arr[v].afterLineNumber+=c-i+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(i){this._checkPendingChanges(),i=i|0;let c=Math.max(0,this._prefixSumValidIndex+1);c===0&&(this._arr[0].prefixSum=this._arr[0].height,c++);for(let v=c;v<=i;v++)this._arr[v].prefixSum=this._arr[v-1].prefixSum+this._arr[v].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,i),this._arr[i].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const i=this._lineHeight*this._lineCount,c=this.getWhitespacesTotalHeight();return i+c+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(i){this._checkPendingChanges(),i=i|0;const c=this._findLastWhitespaceBeforeLineNumber(i);return c===-1?0:this.getWhitespacesAccumulatedHeight(c)}_findLastWhitespaceBeforeLineNumber(i){i=i|0;const c=this._arr;let v=0,B=c.length-1;for(;v<=B;){const le=(B-v|0)/2|0,Ce=v+le|0;if(c[Ce].afterLineNumber<i){if(Ce+1>=c.length||c[Ce+1].afterLineNumber>=i)return Ce;v=Ce+1|0}else B=Ce-1|0}return-1}_findFirstWhitespaceAfterLineNumber(i){i=i|0;const v=this._findLastWhitespaceBeforeLineNumber(i)+1;return v<this._arr.length?v:-1}getFirstWhitespaceIndexAfterLineNumber(i){return this._checkPendingChanges(),i=i|0,this._findFirstWhitespaceAfterLineNumber(i)}getVerticalOffsetForLineNumber(i){this._checkPendingChanges(),i=i|0;let c;i>1?c=this._lineHeight*(i-1):c=0;const v=this.getWhitespaceAccumulatedHeightBeforeLineNumber(i);return c+v+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let i=0;for(let c=0,v=this._arr.length;c<v;c++)i=Math.max(i,this._arr[c].minWidth);this._minWidth=i}return this._minWidth}isAfterLines(i){this._checkPendingChanges();const c=this.getLinesTotalHeight();return i>c}isInTopPadding(i){return this._paddingTop===0?!1:(this._checkPendingChanges(),i<this._paddingTop)}isInBottomPadding(i){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const c=this.getLinesTotalHeight();return i>=c-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(i){if(this._checkPendingChanges(),i=i|0,i<0)return 1;const c=this._lineCount|0,v=this._lineHeight;let B=1,U=c;for(;B<U;){const le=(B+U)/2|0,Ce=this.getVerticalOffsetForLineNumber(le)|0;if(i>=Ce+v)B=le+1;else{if(i>=Ce)return le;U=le}}return B>c?c:B}getLinesViewportData(i,c){this._checkPendingChanges(),i=i|0,c=c|0;const v=this._lineHeight,B=this.getLineNumberAtOrAfterVerticalOffset(i)|0,U=this.getVerticalOffsetForLineNumber(B)|0;let le=this._lineCount|0,Ce=this.getFirstWhitespaceIndexAfterLineNumber(B)|0;const ke=this.getWhitespacesCount()|0;let Oe,Qe;Ce===-1?(Ce=ke,Qe=le+1,Oe=0):(Qe=this.getAfterLineNumberForWhitespaceIndex(Ce)|0,Oe=this.getHeightForWhitespaceIndex(Ce)|0);let qe=U,Ct=qe;const Dt=5e5;let $t=0;U>=Dt&&($t=Math.floor(U/Dt)*Dt,$t=Math.floor($t/v)*v,Ct-=$t);const qt=[],un=i+(c-i)/2;let In=-1;for(let si=B;si<=le;si++){if(In===-1){const Ri=qe,Ii=qe+v;(Ri<=un&&un<Ii||Ri>un)&&(In=si)}for(qe+=v,qt[si-B]=Ct,Ct+=v;Qe===si;)Ct+=Oe,qe+=Oe,Ce++,Ce>=ke?Qe=le+1:(Qe=this.getAfterLineNumberForWhitespaceIndex(Ce)|0,Oe=this.getHeightForWhitespaceIndex(Ce)|0);if(qe>=c){le=si;break}}In===-1&&(In=le);const Bn=this.getVerticalOffsetForLineNumber(le)|0;let Vn=B,li=le;return Vn<li&&U<i&&Vn++,Vn<li&&Bn+v>c&&li--,{bigNumbersDelta:$t,startLineNumber:B,endLineNumber:le,relativeVerticalOffset:qt,centeredLineNumber:In,completelyVisibleStartLineNumber:Vn,completelyVisibleEndLineNumber:li}}getVerticalOffsetForWhitespaceIndex(i){this._checkPendingChanges(),i=i|0;const c=this.getAfterLineNumberForWhitespaceIndex(i);let v;c>=1?v=this._lineHeight*c:v=0;let B;return i>0?B=this.getWhitespacesAccumulatedHeight(i-1):B=0,v+B+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(i){this._checkPendingChanges(),i=i|0;let c=0,v=this.getWhitespacesCount()-1;if(v<0)return-1;const B=this.getVerticalOffsetForWhitespaceIndex(v),U=this.getHeightForWhitespaceIndex(v);if(i>=B+U)return-1;for(;c<v;){const le=Math.floor((c+v)/2),Ce=this.getVerticalOffsetForWhitespaceIndex(le),ke=this.getHeightForWhitespaceIndex(le);if(i>=Ce+ke)c=le+1;else{if(i>=Ce)return le;v=le}}return c}getWhitespaceAtVerticalOffset(i){this._checkPendingChanges(),i=i|0;const c=this.getWhitespaceIndexAtOrAfterVerticallOffset(i);if(c<0||c>=this.getWhitespacesCount())return null;const v=this.getVerticalOffsetForWhitespaceIndex(c);if(v>i)return null;const B=this.getHeightForWhitespaceIndex(c),U=this.getIdForWhitespaceIndex(c),le=this.getAfterLineNumberForWhitespaceIndex(c);return{id:U,afterLineNumber:le,verticalOffset:v,height:B}}getWhitespaceViewportData(i,c){this._checkPendingChanges(),i=i|0,c=c|0;const v=this.getWhitespaceIndexAtOrAfterVerticallOffset(i),B=this.getWhitespacesCount()-1;if(v<0)return[];const U=[];for(let le=v;le<=B;le++){const Ce=this.getVerticalOffsetForWhitespaceIndex(le),ke=this.getHeightForWhitespaceIndex(le);if(Ce>=c)break;U.push({id:this.getIdForWhitespaceIndex(le),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(le),verticalOffset:Ce,height:ke})}return U}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(i){return this._checkPendingChanges(),i=i|0,this._arr[i].id}getAfterLineNumberForWhitespaceIndex(i){return this._checkPendingChanges(),i=i|0,this._arr[i].afterLineNumber}getHeightForWhitespaceIndex(i){return this._checkPendingChanges(),i=i|0,this._arr[i].height}}Oo.INSTANCE_COUNT=0;const Lr=125;class Ga{constructor(i,c,v,B){i=i|0,c=c|0,v=v|0,B=B|0,i<0&&(i=0),c<0&&(c=0),v<0&&(v=0),B<0&&(B=0),this.width=i,this.contentWidth=c,this.scrollWidth=Math.max(i,c),this.height=v,this.contentHeight=B,this.scrollHeight=Math.max(v,B)}equals(i){return this.width===i.width&&this.contentWidth===i.contentWidth&&this.height===i.height&&this.contentHeight===i.contentHeight}}class jc extends w.JT{constructor(i,c){super(),this._onDidContentSizeChange=this._register(new I.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new Ga(0,0,0,0),this._scrollable=this._register(new ro.Rm({forceIntegerValues:!0,smoothScrollDuration:i,scheduleAtNextAnimationFrame:c})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(i){this._scrollable.setSmoothScrollDuration(i)}validateScrollPosition(i){return this._scrollable.validateScrollPosition(i)}getScrollDimensions(){return this._dimensions}setScrollDimensions(i){if(this._dimensions.equals(i))return;const c=this._dimensions;this._dimensions=i,this._scrollable.setScrollDimensions({width:i.width,scrollWidth:i.scrollWidth,height:i.height,scrollHeight:i.scrollHeight},!0);const v=c.contentWidth!==i.contentWidth,B=c.contentHeight!==i.contentHeight;(v||B)&&this._onDidContentSizeChange.fire(new Ll(c.contentWidth,c.contentHeight,i.contentWidth,i.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(i){this._scrollable.setScrollPositionNow(i)}setScrollPositionSmooth(i){this._scrollable.setScrollPositionSmooth(i)}}class Kc extends w.JT{constructor(i,c,v){super(),this._configuration=i;const B=this._configuration.options,U=B.get(131),le=B.get(75);this._linesLayout=new Oo(c,B.get(59),le.top,le.bottom),this._scrollable=this._register(new jc(0,v)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new Ga(U.contentWidth,0,U.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(103)?Lr:0)}onConfigurationChanged(i){const c=this._configuration.options;if(i.hasChanged(59)&&this._linesLayout.setLineHeight(c.get(59)),i.hasChanged(75)){const v=c.get(75);this._linesLayout.setPadding(v.top,v.bottom)}if(i.hasChanged(131)){const v=c.get(131),B=v.contentWidth,U=v.height,le=this._scrollable.getScrollDimensions(),Ce=le.contentWidth;this._scrollable.setScrollDimensions(new Ga(B,le.contentWidth,U,this._getContentHeight(B,U,Ce)))}else this._updateHeight();i.hasChanged(103)&&this._configureSmoothScrollDuration()}onFlushed(i){this._linesLayout.onFlushed(i)}onLinesDeleted(i,c){this._linesLayout.onLinesDeleted(i,c)}onLinesInserted(i,c){this._linesLayout.onLinesInserted(i,c)}_getHorizontalScrollbarHeight(i,c){const B=this._configuration.options.get(92);return B.horizontal===2||i>=c?0:B.horizontalScrollbarSize}_getContentHeight(i,c,v){const B=this._configuration.options;let U=this._linesLayout.getLinesTotalHeight();return B.get(94)?U+=Math.max(0,c-B.get(59)-B.get(75).bottom):U+=this._getHorizontalScrollbarHeight(i,v),U}_updateHeight(){const i=this._scrollable.getScrollDimensions(),c=i.width,v=i.height,B=i.contentWidth;this._scrollable.setScrollDimensions(new Ga(c,i.contentWidth,v,this._getContentHeight(c,v,B)))}getCurrentViewport(){const i=this._scrollable.getScrollDimensions(),c=this._scrollable.getCurrentScrollPosition();return new es.l_(c.scrollTop,c.scrollLeft,i.width,i.height)}getFutureViewport(){const i=this._scrollable.getScrollDimensions(),c=this._scrollable.getFutureScrollPosition();return new es.l_(c.scrollTop,c.scrollLeft,i.width,i.height)}_computeContentWidth(i){const c=this._configuration.options,v=c.get(132),B=c.get(44);if(v.isViewportWrapping){const U=c.get(131),le=c.get(65);return i>U.contentWidth+B.typicalHalfwidthCharacterWidth&&le.enabled&&le.side==="right"?i+U.verticalScrollbarWidth:i}else{const U=c.get(93)*B.typicalHalfwidthCharacterWidth,le=this._linesLayout.getWhitespaceMinWidth();return Math.max(i+U,le)}}setMaxLineWidth(i){const c=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Ga(c.width,this._computeContentWidth(i),c.height,c.contentHeight)),this._updateHeight()}saveState(){const i=this._scrollable.getFutureScrollPosition(),c=i.scrollTop,v=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(c),B=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(v);return{scrollTop:c,scrollTopWithoutViewZones:c-B,scrollLeft:i.scrollLeft}}changeWhitespace(i){const c=this._linesLayout.changeWhitespace(i);return c&&this.onHeightMaybeChanged(),c}getVerticalOffsetForLineNumber(i){return this._linesLayout.getVerticalOffsetForLineNumber(i)}isAfterLines(i){return this._linesLayout.isAfterLines(i)}isInTopPadding(i){return this._linesLayout.isInTopPadding(i)}isInBottomPadding(i){return this._linesLayout.isInBottomPadding(i)}getLineNumberAtVerticalOffset(i){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(i)}getWhitespaceAtVerticalOffset(i){return this._linesLayout.getWhitespaceAtVerticalOffset(i)}getLinesViewportData(){const i=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(i.top,i.top+i.height)}getLinesViewportDataAtScrollTop(i){const c=this._scrollable.getScrollDimensions();return i+c.height>c.scrollHeight&&(i=c.scrollHeight-c.height),i<0&&(i=0),this._linesLayout.getLinesViewportData(i,i+c.height)}getWhitespaceViewportData(){const i=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(i.top,i.top+i.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(i){return this._scrollable.validateScrollPosition(i)}setScrollPosition(i,c){c===1?this._scrollable.setScrollPositionNow(i):this._scrollable.setScrollPositionSmooth(i)}deltaScrollNow(i,c){const v=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:v.scrollLeft+i,scrollTop:v.scrollTop+c})}}var ba=l(46311),yd=l(12736),_r=l(32083);function Rr(ut,i){return ut===null?i?Za.INSTANCE:Kl.INSTANCE:new Sd(ut,i)}class Sd{constructor(i,c){this._projectionData=i,this._isVisible=c}isVisible(){return this._isVisible}setVisible(i){return this._isVisible=i,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(i,c,v){this._assertVisible();const B=v>0?this._projectionData.breakOffsets[v-1]:0,U=this._projectionData.breakOffsets[v];let le;if(this._projectionData.injectionOffsets!==null){const Ce=this._projectionData.injectionOffsets.map((Oe,Qe)=>new Li.gk(0,0,Oe+1,this._projectionData.injectionOptions[Qe],0));le=Li.gk.applyInjectedText(i.getLineContent(c),Ce).substring(B,U)}else le=i.getValueInRange({startLineNumber:c,startColumn:B+1,endLineNumber:c,endColumn:U+1});return v>0&&(le=Ld(this._projectionData.wrappedTextIndentLength)+le),le}getViewLineLength(i,c,v){return this._assertVisible(),this._projectionData.getLineLength(v)}getViewLineMinColumn(i,c,v){return this._assertVisible(),this._projectionData.getMinOutputOffset(v)+1}getViewLineMaxColumn(i,c,v){return this._assertVisible(),this._projectionData.getMaxOutputOffset(v)+1}getViewLineData(i,c,v){const B=new Array;return this.getViewLinesData(i,c,v,1,0,[!0],B),B[0]}getViewLinesData(i,c,v,B,U,le,Ce){this._assertVisible();const ke=this._projectionData,Oe=ke.injectionOffsets,Qe=ke.injectionOptions;let qe=null;if(Oe){qe=[];let Dt=0,$t=0;for(let qt=0;qt<ke.getOutputLineCount();qt++){const un=new Array;qe[qt]=un;const In=qt>0?ke.breakOffsets[qt-1]:0,Bn=ke.breakOffsets[qt];for(;$t<Oe.length;){const Vn=Qe[$t].content.length,li=Oe[$t]+Dt,si=li+Vn;if(li>Bn)break;if(In<si){const Ri=Qe[$t];if(Ri.inlineClassName){const Ii=qt>0?ke.wrappedTextIndentLength:0,gi=Ii+Math.max(li-In,0),bi=Ii+Math.min(si-In,Bn);gi!==bi&&un.push(new es.Wx(gi,bi,Ri.inlineClassName,Ri.inlineClassNameAffectsLetterSpacing))}}if(si<=Bn)Dt+=Vn,$t++;else break}}}let Ct;Oe?Ct=i.getLineTokens(c).withInserted(Oe.map((Dt,$t)=>({offset:Dt,text:Qe[$t].content,tokenMetadata:_r.A.defaultTokenMetadata}))):Ct=i.getLineTokens(c);for(let Dt=v;Dt<v+B;Dt++){const $t=U+Dt-v;if(!le[$t]){Ce[$t]=null;continue}Ce[$t]=this._getViewLineData(Ct,qe?qe[Dt]:null,Dt)}}_getViewLineData(i,c,v){this._assertVisible();const B=this._projectionData,U=v>0?B.wrappedTextIndentLength:0,le=v>0?B.breakOffsets[v-1]:0,Ce=B.breakOffsets[v],ke=i.sliceAndInflate(le,Ce,U);let Oe=ke.getLineContent();v>0&&(Oe=Ld(B.wrappedTextIndentLength)+Oe);const Qe=this._projectionData.getMinOutputOffset(v)+1,qe=Oe.length+1,Ct=v+1<this.getViewLineCount(),Dt=v===0?0:B.breakOffsetsVisibleColumn[v-1];return new es.IP(Oe,Ct,Qe,qe,Dt,ke,c)}getModelColumnOfViewPosition(i,c){return this._assertVisible(),this._projectionData.translateToInputOffset(i,c-1)+1}getViewPositionOfModelPosition(i,c,v=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(c-1,v).toPosition(i)}getViewLineNumberOfModelPosition(i,c){this._assertVisible();const v=this._projectionData.translateToOutputPosition(c-1);return i+v.outputLineIndex}normalizePosition(i,c,v){const B=c.lineNumber-i;return this._projectionData.normalizeOutputPosition(i,c.column-1,v).toPosition(B)}getInjectedTextAt(i,c){return this._projectionData.getInjectedText(i,c-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class Za{constructor(){}isVisible(){return!0}setVisible(i){return i?this:Kl.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(i,c,v){return i.getLineContent(c)}getViewLineLength(i,c,v){return i.getLineLength(c)}getViewLineMinColumn(i,c,v){return i.getLineMinColumn(c)}getViewLineMaxColumn(i,c,v){return i.getLineMaxColumn(c)}getViewLineData(i,c,v){const B=i.getLineTokens(c),U=B.getLineContent();return new es.IP(U,!1,1,U.length+1,0,B.inflate(),null)}getViewLinesData(i,c,v,B,U,le,Ce){if(!le[U]){Ce[U]=null;return}Ce[U]=this.getViewLineData(i,c,0)}getModelColumnOfViewPosition(i,c){return c}getViewPositionOfModelPosition(i,c){return new Pe.L(i,c)}getViewLineNumberOfModelPosition(i,c){return i}normalizePosition(i,c,v){return c}getInjectedTextAt(i,c){return null}}Za.INSTANCE=new Za;class Kl{constructor(){}isVisible(){return!1}setVisible(i){return i?Za.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(i,c,v){throw new Error("Not supported")}getViewLineLength(i,c,v){throw new Error("Not supported")}getViewLineMinColumn(i,c,v){throw new Error("Not supported")}getViewLineMaxColumn(i,c,v){throw new Error("Not supported")}getViewLineData(i,c,v){throw new Error("Not supported")}getViewLinesData(i,c,v,B,U,le,Ce){throw new Error("Not supported")}getModelColumnOfViewPosition(i,c){throw new Error("Not supported")}getViewPositionOfModelPosition(i,c){throw new Error("Not supported")}getViewLineNumberOfModelPosition(i,c){throw new Error("Not supported")}normalizePosition(i,c,v){throw new Error("Not supported")}getInjectedTextAt(i,c){throw new Error("Not supported")}}Kl.INSTANCE=new Kl;let Dl=[""];function Ld(ut){if(ut>=Dl.length)for(let i=1;i<=ut;i++)Dl[i]=$l(i);return Dl[ut]}function $l(ut){return new Array(ut+1).join(" ")}var nr=l(66336);class $c{constructor(i,c,v,B,U,le,Ce,ke,Oe){this._editorId=i,this.model=c,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=v,this._monospaceLineBreaksComputerFactory=B,this.fontInfo=U,this.tabSize=le,this.wrappingStrategy=Ce,this.wrappingColumn=ke,this.wrappingIndent=Oe,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new gc(this)}_constructLines(i,c){this.modelLineProjections=[],i&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const v=this.model.getLinesContent(),B=this.model.getInjectedTextDecorations(this._editorId),U=v.length,le=this.createLineBreaksComputer(),Ce=new m.H9(Li.gk.fromDecorations(B));for(let qt=0;qt<U;qt++){const un=Ce.takeWhile(In=>In.lineNumber===qt+1);le.addRequest(v[qt],un,c?c[qt]:null)}const ke=le.finalize(),Oe=[],Qe=this.hiddenAreasDecorationIds.map(qt=>this.model.getDecorationRange(qt)).sort(en.e.compareRangesUsingStarts);let qe=1,Ct=0,Dt=-1,$t=Dt+1<Qe.length?Ct+1:U+2;for(let qt=0;qt<U;qt++){const un=qt+1;un===$t&&(Dt++,qe=Qe[Dt].startLineNumber,Ct=Qe[Dt].endLineNumber,$t=Dt+1<Qe.length?Ct+1:U+2);const In=un>=qe&&un<=Ct,Bn=Rr(ke[qt],!In);Oe[qt]=Bn.getViewLineCount(),this.modelLineProjections[qt]=Bn}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new nr.Ck(Oe)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(i=>this.model.getDecorationRange(i))}setHiddenAreas(i){const c=i.map(Ct=>this.model.validateRange(Ct)),v=Ya(c),B=this.hiddenAreasDecorationIds.map(Ct=>this.model.getDecorationRange(Ct)).sort(en.e.compareRangesUsingStarts);if(v.length===B.length){let Ct=!1;for(let Dt=0;Dt<v.length;Dt++)if(!v[Dt].equalsRange(B[Dt])){Ct=!0;break}if(!Ct)return!1}const U=v.map(Ct=>({range:Ct,options:yd.qx.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,U);const le=v;let Ce=1,ke=0,Oe=-1,Qe=Oe+1<le.length?ke+1:this.modelLineProjections.length+2,qe=!1;for(let Ct=0;Ct<this.modelLineProjections.length;Ct++){const Dt=Ct+1;Dt===Qe&&(Oe++,Ce=le[Oe].startLineNumber,ke=le[Oe].endLineNumber,Qe=Oe+1<le.length?ke+1:this.modelLineProjections.length+2);let $t=!1;if(Dt>=Ce&&Dt<=ke?this.modelLineProjections[Ct].isVisible()&&(this.modelLineProjections[Ct]=this.modelLineProjections[Ct].setVisible(!1),$t=!0):(qe=!0,this.modelLineProjections[Ct].isVisible()||(this.modelLineProjections[Ct]=this.modelLineProjections[Ct].setVisible(!0),$t=!0)),$t){const qt=this.modelLineProjections[Ct].getViewLineCount();this.projectedModelLineLineCounts.setValue(Ct,qt)}}return qe||this.setHiddenAreas([]),!0}modelPositionIsVisible(i,c){return i<1||i>this.modelLineProjections.length?!1:this.modelLineProjections[i-1].isVisible()}getModelLineViewLineCount(i){return i<1||i>this.modelLineProjections.length?1:this.modelLineProjections[i-1].getViewLineCount()}setTabSize(i){return this.tabSize===i?!1:(this.tabSize=i,this._constructLines(!1,null),!0)}setWrappingSettings(i,c,v,B){const U=this.fontInfo.equals(i),le=this.wrappingStrategy===c,Ce=this.wrappingColumn===v,ke=this.wrappingIndent===B;if(U&&le&&Ce&&ke)return!1;const Oe=U&&le&&!Ce&&ke;this.fontInfo=i,this.wrappingStrategy=c,this.wrappingColumn=v,this.wrappingIndent=B;let Qe=null;if(Oe){Qe=[];for(let qe=0,Ct=this.modelLineProjections.length;qe<Ct;qe++)Qe[qe]=this.modelLineProjections[qe].getProjectionData()}return this._constructLines(!1,Qe),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(i,c,v){if(!i||i<=this._validModelVersionId)return null;const B=c===1?1:this.projectedModelLineLineCounts.getPrefixSum(c-1)+1,U=this.projectedModelLineLineCounts.getPrefixSum(v);return this.modelLineProjections.splice(c-1,v-c+1),this.projectedModelLineLineCounts.removeValues(c-1,v-c+1),new Yo(B,U)}onModelLinesInserted(i,c,v,B){if(!i||i<=this._validModelVersionId)return null;const U=c>2&&!this.modelLineProjections[c-2].isVisible(),le=c===1?1:this.projectedModelLineLineCounts.getPrefixSum(c-1)+1;let Ce=0;const ke=[],Oe=[];for(let Qe=0,qe=B.length;Qe<qe;Qe++){const Ct=Rr(B[Qe],!U);ke.push(Ct);const Dt=Ct.getViewLineCount();Ce+=Dt,Oe[Qe]=Dt}return this.modelLineProjections=this.modelLineProjections.slice(0,c-1).concat(ke).concat(this.modelLineProjections.slice(c-1)),this.projectedModelLineLineCounts.insertValues(c-1,Oe),new pr(le,le+Ce-1)}onModelLineChanged(i,c,v){if(i!==null&&i<=this._validModelVersionId)return[!1,null,null,null];const B=c-1,U=this.modelLineProjections[B].getViewLineCount(),le=this.modelLineProjections[B].isVisible(),Ce=Rr(v,le);this.modelLineProjections[B]=Ce;const ke=this.modelLineProjections[B].getViewLineCount();let Oe=!1,Qe=0,qe=-1,Ct=0,Dt=-1,$t=0,qt=-1;U>ke?(Qe=this.projectedModelLineLineCounts.getPrefixSum(c-1)+1,qe=Qe+ke-1,$t=qe+1,qt=$t+(U-ke)-1,Oe=!0):U<ke?(Qe=this.projectedModelLineLineCounts.getPrefixSum(c-1)+1,qe=Qe+U-1,Ct=qe+1,Dt=Ct+(ke-U)-1,Oe=!0):(Qe=this.projectedModelLineLineCounts.getPrefixSum(c-1)+1,qe=Qe+ke-1),this.projectedModelLineLineCounts.setValue(B,ke);const un=Qe<=qe?new gs(Qe,qe):null,In=Ct<=Dt?new pr(Ct,Dt):null,Bn=$t<=qt?new Yo($t,qt):null;return[Oe,un,In,Bn]}acceptVersionId(i){this._validModelVersionId=i,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(i){if(i<1)return 1;const c=this.getViewLineCount();return i>c?c:i|0}getActiveIndentGuide(i,c,v){i=this._toValidViewLineNumber(i),c=this._toValidViewLineNumber(c),v=this._toValidViewLineNumber(v);const B=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),U=this.convertViewPositionToModelPosition(c,this.getViewLineMinColumn(c)),le=this.convertViewPositionToModelPosition(v,this.getViewLineMinColumn(v)),Ce=this.model.guides.getActiveIndentGuide(B.lineNumber,U.lineNumber,le.lineNumber),ke=this.convertModelPositionToViewPosition(Ce.startLineNumber,1),Oe=this.convertModelPositionToViewPosition(Ce.endLineNumber,this.model.getLineMaxColumn(Ce.endLineNumber));return{startLineNumber:ke.lineNumber,endLineNumber:Oe.lineNumber,indent:Ce.indent}}getViewLineInfo(i){i=this._toValidViewLineNumber(i);const c=this.projectedModelLineLineCounts.getIndexOf(i-1),v=c.index,B=c.remainder;return new Qa(v+1,B)}getMinColumnOfViewLine(i){return this.modelLineProjections[i.modelLineNumber-1].getViewLineMinColumn(this.model,i.modelLineNumber,i.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(i){const c=this.modelLineProjections[i.modelLineNumber-1],v=c.getViewLineMinColumn(this.model,i.modelLineNumber,i.modelLineWrappedLineIdx),B=c.getModelColumnOfViewPosition(i.modelLineWrappedLineIdx,v);return new Pe.L(i.modelLineNumber,B)}getModelEndPositionOfViewLine(i){const c=this.modelLineProjections[i.modelLineNumber-1],v=c.getViewLineMaxColumn(this.model,i.modelLineNumber,i.modelLineWrappedLineIdx),B=c.getModelColumnOfViewPosition(i.modelLineWrappedLineIdx,v);return new Pe.L(i.modelLineNumber,B)}getViewLineInfosGroupedByModelRanges(i,c){const v=this.getViewLineInfo(i),B=this.getViewLineInfo(c),U=new Array;let le=this.getModelStartPositionOfViewLine(v),Ce=new Array;for(let ke=v.modelLineNumber;ke<=B.modelLineNumber;ke++){const Oe=this.modelLineProjections[ke-1];if(Oe.isVisible()){const Qe=ke===v.modelLineNumber?v.modelLineWrappedLineIdx:0,qe=ke===B.modelLineNumber?B.modelLineWrappedLineIdx+1:Oe.getViewLineCount();for(let Ct=Qe;Ct<qe;Ct++)Ce.push(new Qa(ke,Ct))}if(!Oe.isVisible()&&le){const Qe=new Pe.L(ke-1,this.model.getLineMaxColumn(ke-1)+1),qe=en.e.fromPositions(le,Qe);U.push(new dl(qe,Ce)),Ce=[],le=null}else Oe.isVisible()&&!le&&(le=new Pe.L(ke,1))}if(le){const ke=en.e.fromPositions(le,this.getModelEndPositionOfViewLine(B));U.push(new dl(ke,Ce))}return U}getViewLinesBracketGuides(i,c,v,B){const U=v?this.convertViewPositionToModelPosition(v.lineNumber,v.column):null,le=[];for(const Ce of this.getViewLineInfosGroupedByModelRanges(i,c)){const ke=Ce.modelRange.startLineNumber,Oe=this.model.guides.getLinesBracketGuides(ke,Ce.modelRange.endLineNumber,U,B);for(const Qe of Ce.viewLines)if(Qe.isWrappedLineContinuation&&this.getMinColumnOfViewLine(Qe)===1)le.push([]);else{let qe=Oe[Qe.modelLineNumber-ke];qe=qe.map(Ct=>Ct.horizontalLine?new Us.UO(Ct.visibleColumn,Ct.className,new Us.vW(Ct.horizontalLine.top,this.convertModelPositionToViewPosition(Qe.modelLineNumber,Ct.horizontalLine.endColumn).column)):Ct),le.push(qe)}}return le}getViewLinesIndentGuides(i,c){i=this._toValidViewLineNumber(i),c=this._toValidViewLineNumber(c);const v=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),B=this.convertViewPositionToModelPosition(c,this.getViewLineMaxColumn(c));let U=[];const le=[],Ce=[],ke=v.lineNumber-1,Oe=B.lineNumber-1;let Qe=null;for(let $t=ke;$t<=Oe;$t++){const qt=this.modelLineProjections[$t];if(qt.isVisible()){const un=qt.getViewLineNumberOfModelPosition(0,$t===ke?v.column:1),In=qt.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn($t+1)),Bn=In-un+1;let Vn=0;Bn>1&&qt.getViewLineMinColumn(this.model,$t+1,In)===1&&(Vn=un===0?1:2),le.push(Bn),Ce.push(Vn),Qe===null&&(Qe=new Pe.L($t+1,0))}else Qe!==null&&(U=U.concat(this.model.guides.getLinesIndentGuides(Qe.lineNumber,$t)),Qe=null)}Qe!==null&&(U=U.concat(this.model.guides.getLinesIndentGuides(Qe.lineNumber,B.lineNumber)),Qe=null);const qe=c-i+1,Ct=new Array(qe);let Dt=0;for(let $t=0,qt=U.length;$t<qt;$t++){let un=U[$t];const In=Math.min(qe-Dt,le[$t]),Bn=Ce[$t];let Vn;Bn===2?Vn=0:Bn===1?Vn=1:Vn=In;for(let li=0;li<In;li++)li===Vn&&(un=0),Ct[Dt++]=un}return Ct}getViewLineContent(i){const c=this.getViewLineInfo(i);return this.modelLineProjections[c.modelLineNumber-1].getViewLineContent(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLineLength(i){const c=this.getViewLineInfo(i);return this.modelLineProjections[c.modelLineNumber-1].getViewLineLength(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLineMinColumn(i){const c=this.getViewLineInfo(i);return this.modelLineProjections[c.modelLineNumber-1].getViewLineMinColumn(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLineMaxColumn(i){const c=this.getViewLineInfo(i);return this.modelLineProjections[c.modelLineNumber-1].getViewLineMaxColumn(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLineData(i){const c=this.getViewLineInfo(i);return this.modelLineProjections[c.modelLineNumber-1].getViewLineData(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLinesData(i,c,v){i=this._toValidViewLineNumber(i),c=this._toValidViewLineNumber(c);const B=this.projectedModelLineLineCounts.getIndexOf(i-1);let U=i;const le=B.index,Ce=B.remainder,ke=[];for(let Oe=le,Qe=this.model.getLineCount();Oe<Qe;Oe++){const qe=this.modelLineProjections[Oe];if(!qe.isVisible())continue;const Ct=Oe===le?Ce:0;let Dt=qe.getViewLineCount()-Ct,$t=!1;if(U+Dt>c&&($t=!0,Dt=c-U+1),qe.getViewLinesData(this.model,Oe+1,Ct,Dt,U-i,v,ke),U+=Dt,$t)break}return ke}validateViewPosition(i,c,v){i=this._toValidViewLineNumber(i);const B=this.projectedModelLineLineCounts.getIndexOf(i-1),U=B.index,le=B.remainder,Ce=this.modelLineProjections[U],ke=Ce.getViewLineMinColumn(this.model,U+1,le),Oe=Ce.getViewLineMaxColumn(this.model,U+1,le);c<ke&&(c=ke),c>Oe&&(c=Oe);const Qe=Ce.getModelColumnOfViewPosition(le,c);return this.model.validatePosition(new Pe.L(U+1,Qe)).equals(v)?new Pe.L(i,c):this.convertModelPositionToViewPosition(v.lineNumber,v.column)}validateViewRange(i,c){const v=this.validateViewPosition(i.startLineNumber,i.startColumn,c.getStartPosition()),B=this.validateViewPosition(i.endLineNumber,i.endColumn,c.getEndPosition());return new en.e(v.lineNumber,v.column,B.lineNumber,B.column)}convertViewPositionToModelPosition(i,c){const v=this.getViewLineInfo(i),B=this.modelLineProjections[v.modelLineNumber-1].getModelColumnOfViewPosition(v.modelLineWrappedLineIdx,c);return this.model.validatePosition(new Pe.L(v.modelLineNumber,B))}convertViewRangeToModelRange(i){const c=this.convertViewPositionToModelPosition(i.startLineNumber,i.startColumn),v=this.convertViewPositionToModelPosition(i.endLineNumber,i.endColumn);return new en.e(c.lineNumber,c.column,v.lineNumber,v.column)}convertModelPositionToViewPosition(i,c,v=2){const B=this.model.validatePosition(new Pe.L(i,c)),U=B.lineNumber,le=B.column;let Ce=U-1,ke=!1;for(;Ce>0&&!this.modelLineProjections[Ce].isVisible();)Ce--,ke=!0;if(Ce===0&&!this.modelLineProjections[Ce].isVisible())return new Pe.L(1,1);const Oe=1+this.projectedModelLineLineCounts.getPrefixSum(Ce);let Qe;return ke?Qe=this.modelLineProjections[Ce].getViewPositionOfModelPosition(Oe,this.model.getLineMaxColumn(Ce+1),v):Qe=this.modelLineProjections[U-1].getViewPositionOfModelPosition(Oe,le,v),Qe}convertModelRangeToViewRange(i,c=0){if(i.isEmpty()){const v=this.convertModelPositionToViewPosition(i.startLineNumber,i.startColumn,c);return en.e.fromPositions(v)}else{const v=this.convertModelPositionToViewPosition(i.startLineNumber,i.startColumn,1),B=this.convertModelPositionToViewPosition(i.endLineNumber,i.endColumn,0);return new en.e(v.lineNumber,v.column,B.lineNumber,B.column)}}getViewLineNumberOfModelPosition(i,c){let v=i-1;if(this.modelLineProjections[v].isVisible()){const U=1+this.projectedModelLineLineCounts.getPrefixSum(v);return this.modelLineProjections[v].getViewLineNumberOfModelPosition(U,c)}for(;v>0&&!this.modelLineProjections[v].isVisible();)v--;if(v===0&&!this.modelLineProjections[v].isVisible())return 1;const B=1+this.projectedModelLineLineCounts.getPrefixSum(v);return this.modelLineProjections[v].getViewLineNumberOfModelPosition(B,this.model.getLineMaxColumn(v+1))}getDecorationsInRange(i,c,v){const B=this.convertViewPositionToModelPosition(i.startLineNumber,i.startColumn),U=this.convertViewPositionToModelPosition(i.endLineNumber,i.endColumn);if(U.lineNumber-B.lineNumber<=i.endLineNumber-i.startLineNumber)return this.model.getDecorationsInRange(new en.e(B.lineNumber,1,U.lineNumber,U.column),c,v);let le=[];const Ce=B.lineNumber-1,ke=U.lineNumber-1;let Oe=null;for(let Dt=Ce;Dt<=ke;Dt++)if(this.modelLineProjections[Dt].isVisible())Oe===null&&(Oe=new Pe.L(Dt+1,Dt===Ce?B.column:1));else if(Oe!==null){const qt=this.model.getLineMaxColumn(Dt);le=le.concat(this.model.getDecorationsInRange(new en.e(Oe.lineNumber,Oe.column,Dt,qt),c,v)),Oe=null}Oe!==null&&(le=le.concat(this.model.getDecorationsInRange(new en.e(Oe.lineNumber,Oe.column,U.lineNumber,U.column),c,v)),Oe=null),le.sort((Dt,$t)=>{const qt=en.e.compareRangesUsingStarts(Dt.range,$t.range);return qt===0?Dt.id<$t.id?-1:Dt.id>$t.id?1:0:qt});let Qe=[],qe=0,Ct=null;for(const Dt of le){const $t=Dt.id;Ct!==$t&&(Ct=$t,Qe[qe++]=Dt)}return Qe}getInjectedTextAt(i){const c=this.getViewLineInfo(i.lineNumber);return this.modelLineProjections[c.modelLineNumber-1].getInjectedTextAt(c.modelLineWrappedLineIdx,i.column)}normalizePosition(i,c){const v=this.getViewLineInfo(i.lineNumber);return this.modelLineProjections[v.modelLineNumber-1].normalizePosition(v.modelLineWrappedLineIdx,i,c)}getLineIndentColumn(i){const c=this.getViewLineInfo(i);return c.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(c.modelLineNumber):0}}function Ya(ut){if(ut.length===0)return[];const i=ut.slice();i.sort(en.e.compareRangesUsingStarts);const c=[];let v=i[0].startLineNumber,B=i[0].endLineNumber;for(let U=1,le=i.length;U<le;U++){const Ce=i[U];Ce.startLineNumber>B+1?(c.push(new en.e(v,1,B,1)),v=Ce.startLineNumber,B=Ce.endLineNumber):Ce.endLineNumber>B&&(B=Ce.endLineNumber)}return c.push(new en.e(v,1,B,1)),c}class Qa{constructor(i,c){this.modelLineNumber=i,this.modelLineWrappedLineIdx=c}get isWrappedLineContinuation(){return this.modelLineWrappedLineIdx>0}}class dl{constructor(i,c){this.modelRange=i,this.viewLines=c}}class gc{constructor(i){this._lines=i}convertViewPositionToModelPosition(i){return this._lines.convertViewPositionToModelPosition(i.lineNumber,i.column)}convertViewRangeToModelRange(i){return this._lines.convertViewRangeToModelRange(i)}validateViewPosition(i,c){return this._lines.validateViewPosition(i.lineNumber,i.column,c)}validateViewRange(i,c){return this._lines.validateViewRange(i,c)}convertModelPositionToViewPosition(i,c){return this._lines.convertModelPositionToViewPosition(i.lineNumber,i.column,c)}convertModelRangeToViewRange(i,c){return this._lines.convertModelRangeToViewRange(i,c)}modelPositionIsVisible(i){return this._lines.modelPositionIsVisible(i.lineNumber,i.column)}getModelLineViewLineCount(i){return this._lines.getModelLineViewLineCount(i)}getViewLineNumberOfModelPosition(i,c){return this._lines.getViewLineNumberOfModelPosition(i,c)}}class Xr{constructor(i){this.model=i}dispose(){}createCoordinatesConverter(){return new oa(this)}getHiddenAreas(){return[]}setHiddenAreas(i){return!1}setTabSize(i){return!1}setWrappingSettings(i,c,v,B){return!1}createLineBreaksComputer(){const i=[];return{addRequest:(c,v,B)=>{i.push(null)},finalize:()=>i}}onModelFlushed(){}onModelLinesDeleted(i,c,v){return new Yo(c,v)}onModelLinesInserted(i,c,v,B){return new pr(c,v)}onModelLineChanged(i,c,v){return[!1,new gs(c,c),null,null]}acceptVersionId(i){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(i,c,v){return{startLineNumber:i,endLineNumber:i,indent:0}}getViewLinesBracketGuides(i,c,v){return new Array(c-i+1).fill([])}getViewLinesIndentGuides(i,c){const v=c-i+1,B=new Array(v);for(let U=0;U<v;U++)B[U]=0;return B}getViewLineContent(i){return this.model.getLineContent(i)}getViewLineLength(i){return this.model.getLineLength(i)}getViewLineMinColumn(i){return this.model.getLineMinColumn(i)}getViewLineMaxColumn(i){return this.model.getLineMaxColumn(i)}getViewLineData(i){const c=this.model.getLineTokens(i),v=c.getLineContent();return new es.IP(v,!1,1,v.length+1,0,c.inflate(),null)}getViewLinesData(i,c,v){const B=this.model.getLineCount();i=Math.min(Math.max(1,i),B),c=Math.min(Math.max(1,c),B);const U=[];for(let le=i;le<=c;le++){const Ce=le-i;U[Ce]=v[Ce]?this.getViewLineData(le):null}return U}getDecorationsInRange(i,c,v){return this.model.getDecorationsInRange(i,c,v)}normalizePosition(i,c){return this.model.normalizePosition(i,c)}getLineIndentColumn(i){return this.model.getLineIndentColumn(i)}getInjectedTextAt(i){return null}}class oa{constructor(i){this._lines=i}_validPosition(i){return this._lines.model.validatePosition(i)}_validRange(i){return this._lines.model.validateRange(i)}convertViewPositionToModelPosition(i){return this._validPosition(i)}convertViewRangeToModelRange(i){return this._validRange(i)}validateViewPosition(i,c){return this._validPosition(c)}validateViewRange(i,c){return this._validRange(c)}convertModelPositionToViewPosition(i){return this._validPosition(i)}convertModelRangeToViewRange(i){return this._validRange(i)}modelPositionIsVisible(i){const c=this._lines.model.getLineCount();return!(i.lineNumber<1||i.lineNumber>c)}getModelLineViewLineCount(i){return 1}getViewLineNumberOfModelPosition(i,c){return i}}const wa=!0;class Gc extends w.JT{constructor(i,c,v,B,U,le,Ce,ke){if(super(),this.languageConfigurationService=Ce,this._themeService=ke,this._editorId=i,this._configuration=c,this.model=v,this._eventDispatcher=new wd,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new dt.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._tokenizeViewportSoon=this._register(new Me.pY(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new Me.pY(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,wa&&this.model.isTooLargeForTokenization())this._lines=new Xr(this.model);else{const Oe=this._configuration.options,Qe=Oe.get(44),qe=Oe.get(125),Ct=Oe.get(132),Dt=Oe.get(124);this._lines=new $c(this._editorId,this.model,B,U,Qe,this.model.getOptions().tabSize,qe,Ct.wrappingColumn,Dt)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new $s(v,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new Kc(this._configuration,this.getLineCount(),le)),this._register(this.viewLayout.onDidScroll(Oe=>{Oe.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new Oa(Oe)),this._eventDispatcher.emitOutgoingEvent(new cl(Oe.oldScrollWidth,Oe.oldScrollLeft,Oe.oldScrollHeight,Oe.oldScrollTop,Oe.scrollWidth,Oe.scrollLeft,Oe.scrollHeight,Oe.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(Oe=>{this._eventDispatcher.emitOutgoingEvent(Oe)})),this._decorations=new ba.CU(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(Oe=>{try{const Qe=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(Qe,Oe)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(Gs.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new ar)})),this._register(this._themeService.onDidColorThemeChange(Oe=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new kr(Oe))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(i){this._eventDispatcher.addViewEventHandler(i)}removeViewEventHandler(i){this._eventDispatcher.removeViewEventHandler(i)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const i=this.viewLayout.getLinesViewportData(),c=new en.e(i.startLineNumber,this.getLineMinColumn(i.startLineNumber),i.endLineNumber,this.getLineMaxColumn(i.endLineNumber)),v=this._toModelVisibleRanges(c);for(const B of v)this.model.tokenizeViewport(B.startLineNumber,B.endLineNumber)}setHasFocus(i){this._hasFocus=i,this._cursor.setHasFocus(i),this._eventDispatcher.emitSingleViewEvent(new jl(i)),this._eventDispatcher.emitOutgoingEvent(new El(!i,i))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new is)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new Ts)}_onConfigurationChanged(i,c){let v=null;if(this._viewportStartLine!==-1){const Qe=new Pe.L(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));v=this.coordinatesConverter.convertViewPositionToModelPosition(Qe)}let B=!1;const U=this._configuration.options,le=U.get(44),Ce=U.get(125),ke=U.get(132),Oe=U.get(124);if(this._lines.setWrappingSettings(le,Ce,ke.wrappingColumn,Oe)&&(i.emitViewEvent(new er),i.emitViewEvent(new so),i.emitViewEvent(new Ho(null)),this._cursor.onLineMappingChanged(i),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(B=!0),this._updateConfigurationViewLineCount.schedule()),c.hasChanged(81)&&(this._decorations.reset(),i.emitViewEvent(new Ho(null))),i.emitViewEvent(new Ls(c)),this.viewLayout.onConfigurationChanged(c),B&&v){const Qe=this.coordinatesConverter.convertModelPositionToViewPosition(v),qe=this.viewLayout.getVerticalOffsetForLineNumber(Qe.lineNumber);this.viewLayout.setScrollPosition({scrollTop:qe+this._viewportStartLineDelta},1)}dt.LM.shouldRecreate(c)&&(this.cursorConfig=new dt.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(i=>{try{const c=this._eventDispatcher.beginEmitViewEvents();let v=!1,B=!1;const U=i.changes,le=i instanceof Li.dQ?i.versionId:null,Ce=this._lines.createLineBreaksComputer();for(const Qe of U)switch(Qe.changeType){case 4:{for(let qe=0;qe<Qe.detail.length;qe++){const Ct=Qe.detail[qe];let Dt=Qe.injectedTexts[qe];Dt&&(Dt=Dt.filter($t=>!$t.ownerId||$t.ownerId===this._editorId)),Ce.addRequest(Ct,Dt,null)}break}case 2:{let qe=null;Qe.injectedText&&(qe=Qe.injectedText.filter(Ct=>!Ct.ownerId||Ct.ownerId===this._editorId)),Ce.addRequest(Qe.detail,qe,null);break}}const ke=Ce.finalize(),Oe=new m.H9(ke);for(const Qe of U)switch(Qe.changeType){case 1:{this._lines.onModelFlushed(),c.emitViewEvent(new er),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),v=!0;break}case 3:{const qe=this._lines.onModelLinesDeleted(le,Qe.fromLineNumber,Qe.toLineNumber);qe!==null&&(c.emitViewEvent(qe),this.viewLayout.onLinesDeleted(qe.fromLineNumber,qe.toLineNumber)),v=!0;break}case 4:{const qe=Oe.takeCount(Qe.detail.length),Ct=this._lines.onModelLinesInserted(le,Qe.fromLineNumber,Qe.toLineNumber,qe);Ct!==null&&(c.emitViewEvent(Ct),this.viewLayout.onLinesInserted(Ct.fromLineNumber,Ct.toLineNumber)),v=!0;break}case 2:{const qe=Oe.dequeue(),[Ct,Dt,$t,qt]=this._lines.onModelLineChanged(le,Qe.lineNumber,qe);B=Ct,Dt&&c.emitViewEvent(Dt),$t&&(c.emitViewEvent($t),this.viewLayout.onLinesInserted($t.fromLineNumber,$t.toLineNumber)),qt&&(c.emitViewEvent(qt),this.viewLayout.onLinesDeleted(qt.fromLineNumber,qt.toLineNumber));break}case 5:break}le!==null&&this._lines.acceptVersionId(le),this.viewLayout.onHeightMaybeChanged(),!v&&B&&(c.emitViewEvent(new so),c.emitViewEvent(new Ho(null)),this._cursor.onLineMappingChanged(c),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const c=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(c){const v=this.coordinatesConverter.convertModelPositionToViewPosition(c.getStartPosition()),B=this.viewLayout.getVerticalOffsetForLineNumber(v.lineNumber);this.viewLayout.setScrollPosition({scrollTop:B+this._viewportStartLineDelta},1)}}try{const c=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(c,i)}finally{this._eventDispatcher.endEmitViewEvents()}this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeTokens(i=>{const c=[];for(let v=0,B=i.ranges.length;v<B;v++){const U=i.ranges[v],le=this.coordinatesConverter.convertModelPositionToViewPosition(new Pe.L(U.fromLineNumber,1)).lineNumber,Ce=this.coordinatesConverter.convertModelPositionToViewPosition(new Pe.L(U.toLineNumber,this.model.getLineMaxColumn(U.toLineNumber))).lineNumber;c[v]={fromLineNumber:le,toLineNumber:Ce}}this._eventDispatcher.emitSingleViewEvent(new tr(c)),i.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(i=>{this._eventDispatcher.emitSingleViewEvent(new Pa),this.cursorConfig=new dt.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(i=>{this.cursorConfig=new dt.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(i=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const c=this._eventDispatcher.beginEmitViewEvents();c.emitViewEvent(new er),c.emitViewEvent(new so),c.emitViewEvent(new Ho(null)),this._cursor.onLineMappingChanged(c),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new dt.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(i=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new Ho(i))}))}setHiddenAreas(i){let c=!1;try{const v=this._eventDispatcher.beginEmitViewEvents();c=this._lines.setHiddenAreas(i),c&&(v.emitViewEvent(new er),v.emitViewEvent(new so),v.emitViewEvent(new Ho(null)),this._cursor.onLineMappingChanged(v),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),c&&this._eventDispatcher.emitOutgoingEvent(new Uc)}getVisibleRangesPlusViewportAboveBelow(){const i=this._configuration.options.get(131),c=this._configuration.options.get(59),v=Math.max(20,Math.round(i.height/c)),B=this.viewLayout.getLinesViewportData(),U=Math.max(1,B.completelyVisibleStartLineNumber-v),le=Math.min(this.getLineCount(),B.completelyVisibleEndLineNumber+v);return this._toModelVisibleRanges(new en.e(U,this.getLineMinColumn(U),le,this.getLineMaxColumn(le)))}getVisibleRanges(){const i=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(i)}_toModelVisibleRanges(i){const c=this.coordinatesConverter.convertViewRangeToModelRange(i),v=this._lines.getHiddenAreas();if(v.length===0)return[c];const B=[];let U=0,le=c.startLineNumber,Ce=c.startColumn;const ke=c.endLineNumber,Oe=c.endColumn;for(let Qe=0,qe=v.length;Qe<qe;Qe++){const Ct=v[Qe].startLineNumber,Dt=v[Qe].endLineNumber;Dt<le||Ct>ke||(le<Ct&&(B[U++]=new en.e(le,Ce,Ct-1,this.model.getLineMaxColumn(Ct-1))),le=Dt+1,Ce=1)}return(le<ke||le===ke&&Ce<Oe)&&(B[U++]=new en.e(le,Ce,ke,Oe)),B}getCompletelyVisibleViewRange(){const i=this.viewLayout.getLinesViewportData(),c=i.completelyVisibleStartLineNumber,v=i.completelyVisibleEndLineNumber;return new en.e(c,this.getLineMinColumn(c),v,this.getLineMaxColumn(v))}getCompletelyVisibleViewRangeAtScrollTop(i){const c=this.viewLayout.getLinesViewportDataAtScrollTop(i),v=c.completelyVisibleStartLineNumber,B=c.completelyVisibleEndLineNumber;return new en.e(v,this.getLineMinColumn(v),B,this.getLineMaxColumn(B))}saveState(){const i=this.viewLayout.saveState(),c=i.scrollTop,v=this.viewLayout.getLineNumberAtVerticalOffset(c),B=this.coordinatesConverter.convertViewPositionToModelPosition(new Pe.L(v,this.getLineMinColumn(v))),U=this.viewLayout.getVerticalOffsetForLineNumber(v)-c;return{scrollLeft:i.scrollLeft,firstPosition:B,firstPositionDeltaTop:U}}reduceRestoreState(i){if(typeof i.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(i);const c=this.model.validatePosition(i.firstPosition),v=this.coordinatesConverter.convertModelPositionToViewPosition(c),B=this.viewLayout.getVerticalOffsetForLineNumber(v.lineNumber)-i.firstPositionDeltaTop;return{scrollLeft:i.scrollLeft,scrollTop:B}}_reduceRestoreStateCompatibility(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(i,c,v){this._viewportStartLine=i;const B=this.coordinatesConverter.convertViewPositionToModelPosition(new Pe.L(i,this.getLineMinColumn(i)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new en.e(B.lineNumber,B.column,B.lineNumber,B.column),1);const U=this.viewLayout.getVerticalOffsetForLineNumber(i),le=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=le-U}getActiveIndentGuide(i,c,v){return this._lines.getActiveIndentGuide(i,c,v)}getLinesIndentGuides(i,c){return this._lines.getViewLinesIndentGuides(i,c)}getBracketGuidesInRangeByLine(i,c,v,B){return this._lines.getViewLinesBracketGuides(i,c,v,B)}getLineContent(i){return this._lines.getViewLineContent(i)}getLineLength(i){return this._lines.getViewLineLength(i)}getLineMinColumn(i){return this._lines.getViewLineMinColumn(i)}getLineMaxColumn(i){return this._lines.getViewLineMaxColumn(i)}getLineFirstNonWhitespaceColumn(i){const c=kn.LC(this.getLineContent(i));return c===-1?0:c+1}getLineLastNonWhitespaceColumn(i){const c=kn.ow(this.getLineContent(i));return c===-1?0:c+2}getDecorationsInViewport(i){return this._decorations.getDecorationsViewportData(i).decorations}getInjectedTextAt(i){return this._lines.getInjectedTextAt(i)}getViewLineRenderingData(i,c){const v=this.model.mightContainRTL(),B=this.model.mightContainNonBasicASCII(),U=this.getTabSize(),le=this._lines.getViewLineData(c);let ke=this._decorations.getDecorationsViewportData(i).inlineDecorations[c-i.startLineNumber];return le.inlineDecorations&&(ke=[...ke,...le.inlineDecorations.map(Oe=>Oe.toInlineDecoration(c))]),new es.wA(le.minColumn,le.maxColumn,le.content,le.continuesWithWrappedLine,v,B,le.tokens,ke,U,le.startVisibleColumn)}getViewLineData(i){return this._lines.getViewLineData(i)}getMinimapLinesRenderingData(i,c,v){const B=this._lines.getViewLinesData(i,c,v);return new es.ud(this.getTabSize(),B)}getAllOverviewRulerDecorations(i){const c=this.model.getOverviewRulerDecorations(this._editorId,(0,b.$J)(this._configuration.options)),v=new ra;for(const B of c){const U=B.options,le=U.overviewRuler;if(!le)continue;const Ce=le.position;if(Ce===0)continue;const ke=le.getColor(i.value),Oe=this.coordinatesConverter.getViewLineNumberOfModelPosition(B.range.startLineNumber,B.range.startColumn),Qe=this.coordinatesConverter.getViewLineNumberOfModelPosition(B.range.endLineNumber,B.range.endColumn);v.accept(ke,U.zIndex,Oe,Qe,Ce)}return v.asArray}_invalidateDecorationsColorCache(){const i=this.model.getOverviewRulerDecorations();for(const c of i){const v=c.options.overviewRuler;v&&v.invalidateCachedColor();const B=c.options.minimap;B&&B.invalidateCachedColor()}}getValueInRange(i,c){const v=this.coordinatesConverter.convertViewRangeToModelRange(i);return this.model.getValueInRange(v,c)}deduceModelPositionRelativeToViewPosition(i,c,v){const B=this.coordinatesConverter.convertViewPositionToModelPosition(i);this.model.getEOL().length===2&&(c<0?c-=v:c+=v);const le=this.model.getOffsetAt(B)+c;return this.model.getPositionAt(le)}getPlainTextToCopy(i,c,v){const B=v?`\r
`:this.model.getEOL();i=i.slice(0),i.sort(en.e.compareRangesUsingStarts);let U=!1,le=!1;for(const ke of i)ke.isEmpty()?U=!0:le=!0;if(!le){if(!c)return"";const ke=i.map(Qe=>Qe.startLineNumber);let Oe="";for(let Qe=0;Qe<ke.length;Qe++)Qe>0&&ke[Qe-1]===ke[Qe]||(Oe+=this.model.getLineContent(ke[Qe])+B);return Oe}if(U&&c){const ke=[];let Oe=0;for(const Qe of i){const qe=Qe.startLineNumber;Qe.isEmpty()?qe!==Oe&&ke.push(this.model.getLineContent(qe)):ke.push(this.model.getValueInRange(Qe,v?2:0)),Oe=qe}return ke.length===1?ke[0]:ke}const Ce=[];for(const ke of i)ke.isEmpty()||Ce.push(this.model.getValueInRange(ke,v?2:0));return Ce.length===1?Ce[0]:Ce}getRichTextToCopy(i,c){const v=this.model.getLanguageId();if(v===Ji.bd||i.length!==1)return null;let B=i[0];if(B.isEmpty()){if(!c)return null;const Qe=B.startLineNumber;B=new en.e(Qe,this.model.getLineMinColumn(Qe),Qe,this.model.getLineMaxColumn(Qe))}const U=this._configuration.options.get(44),le=this._getColorMap(),ke=/[:;\\\/<>]/.test(U.fontFamily)||U.fontFamily===b.hL.fontFamily;let Oe;return ke?Oe=b.hL.fontFamily:(Oe=U.fontFamily,Oe=Oe.replace(/"/g,"'"),/[,']/.test(Oe)||/[+ ]/.test(Oe)&&(Oe=`'${Oe}'`),Oe=`${Oe}, ${b.hL.fontFamily}`),{mode:v,html:`<div style="color: ${le[1]};background-color: ${le[2]};font-family: ${Oe};font-weight: ${U.fontWeight};font-size: ${U.fontSize}px;line-height: ${U.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(B,le)+"</div>"}}_getHTMLToCopy(i,c){const v=i.startLineNumber,B=i.startColumn,U=i.endLineNumber,le=i.endColumn,Ce=this.getTabSize();let ke="";for(let Oe=v;Oe<=U;Oe++){const Qe=this.model.getLineTokens(Oe),qe=Qe.getLineContent(),Ct=Oe===v?B-1:0,Dt=Oe===U?le-1:qe.length;qe===""?ke+="<br>":ke+=(0,Cs.Fq)(qe,Qe.inflate(),c,Ct,Dt,Ce,x.ED)}return ke}_getColorMap(){const i=Yn.RW.getColorMap(),c=["#000000"];if(i)for(let v=1,B=i.length;v<B;v++)c[v]=Ci.Il.Format.CSS.formatHex(i[v]);return c}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(i,c,v){return this._withViewEventsCollector(B=>this._cursor.setStates(B,i,c,v))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(i){this._cursor.setCursorColumnSelectData(i)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(i){this._cursor.setPrevEditOperationType(i)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(i,c,v=0){this._withViewEventsCollector(B=>this._cursor.setSelections(B,i,c,v))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(i){this._withViewEventsCollector(c=>this._cursor.restoreState(c,i))}_executeCursorEdit(i){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new mi);return}this._withViewEventsCollector(i)}executeEdits(i,c,v){this._executeCursorEdit(B=>this._cursor.executeEdits(B,i,c,v))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(i=>this._cursor.startComposition(i))}endComposition(i){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(c=>this._cursor.endComposition(c,i))}type(i,c){this._executeCursorEdit(v=>this._cursor.type(v,i,c))}compositionType(i,c,v,B,U){this._executeCursorEdit(le=>this._cursor.compositionType(le,i,c,v,B,U))}paste(i,c,v,B){this._executeCursorEdit(U=>this._cursor.paste(U,i,c,v,B))}cut(i){this._executeCursorEdit(c=>this._cursor.cut(c,i))}executeCommand(i,c){this._executeCursorEdit(v=>this._cursor.executeCommand(v,i,c))}executeCommands(i,c){this._executeCursorEdit(v=>this._cursor.executeCommands(v,i,c))}revealPrimaryCursor(i,c,v=!1){this._withViewEventsCollector(B=>this._cursor.revealPrimary(B,i,v,0,c,0))}revealTopMostCursor(i){const c=this._cursor.getTopMostViewPosition(),v=new en.e(c.lineNumber,c.column,c.lineNumber,c.column);this._withViewEventsCollector(B=>B.emitViewEvent(new sa(i,!1,v,null,0,!0,0)))}revealBottomMostCursor(i){const c=this._cursor.getBottomMostViewPosition(),v=new en.e(c.lineNumber,c.column,c.lineNumber,c.column);this._withViewEventsCollector(B=>B.emitViewEvent(new sa(i,!1,v,null,0,!0,0)))}revealRange(i,c,v,B,U){this._withViewEventsCollector(le=>le.emitViewEvent(new sa(i,!1,v,null,B,c,U)))}changeWhitespace(i){this.viewLayout.changeWhitespace(i)&&(this._eventDispatcher.emitSingleViewEvent(new Sl),this._eventDispatcher.emitOutgoingEvent(new Uc))}_withViewEventsCollector(i){try{const c=this._eventDispatcher.beginEmitViewEvents();return i(c)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(i,c){return this._lines.normalizePosition(i,c)}getLineIndentColumn(i){return this._lines.getLineIndentColumn(i)}}class ra{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(i,c,v,B,U){const le=this._asMap[i];if(le){const Ce=le.data,ke=Ce[Ce.length-3],Oe=Ce[Ce.length-1];if(ke===U&&Oe+1>=v){B>Oe&&(Ce[Ce.length-1]=B);return}Ce.push(U,v,B)}else{const Ce=new es.SQ(i,c,[U,v,B]);this._asMap[i]=Ce,this.asArray.push(Ce)}}}var xl=l(58829),Gl=l(96072),Nl=l(95024),ul=l(85549),Jr=l(3565),hl=l(81818);class ao{constructor(i,c,v,B,U){this.injectionOffsets=i,this.injectionOptions=c,this.breakOffsets=v,this.breakOffsetsVisibleColumn=B,this.wrappedTextIndentLength=U}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(i){return i>0?this.wrappedTextIndentLength:0}getLineLength(i){const c=i>0?this.breakOffsets[i-1]:0;let B=this.breakOffsets[i]-c;return i>0&&(B+=this.wrappedTextIndentLength),B}getMaxOutputOffset(i){return this.getLineLength(i)}translateToInputOffset(i,c){i>0&&(c=Math.max(0,c-this.wrappedTextIndentLength));let B=i===0?c:this.breakOffsets[i-1]+c;if(this.injectionOffsets!==null)for(let U=0;U<this.injectionOffsets.length&&B>this.injectionOffsets[U];U++)B<this.injectionOffsets[U]+this.injectionOptions[U].content.length?B=this.injectionOffsets[U]:B-=this.injectionOptions[U].content.length;return B}translateToOutputPosition(i,c=2){let v=i;if(this.injectionOffsets!==null)for(let B=0;B<this.injectionOffsets.length&&!(i<this.injectionOffsets[B]||c!==1&&i===this.injectionOffsets[B]);B++)v+=this.injectionOptions[B].content.length;return this.offsetInInputWithInjectionsToOutputPosition(v,c)}offsetInInputWithInjectionsToOutputPosition(i,c=2){let v=0,B=this.breakOffsets.length-1,U=0,le=0;for(;v<=B;){U=v+(B-v)/2|0;const ke=this.breakOffsets[U];if(le=U>0?this.breakOffsets[U-1]:0,c===0)if(i<=le)B=U-1;else if(i>ke)v=U+1;else break;else if(i<le)B=U-1;else if(i>=ke)v=U+1;else break}let Ce=i-le;return U>0&&(Ce+=this.wrappedTextIndentLength),new aa(U,Ce)}normalizeOutputPosition(i,c,v){if(this.injectionOffsets!==null){const B=this.outputPositionToOffsetInInputWithInjections(i,c),U=this.normalizeOffsetInInputWithInjectionsAroundInjections(B,v);if(U!==B)return this.offsetInInputWithInjectionsToOutputPosition(U,v)}if(v===0){if(i>0&&c===this.getMinOutputOffset(i))return new aa(i-1,this.getMaxOutputOffset(i-1))}else if(v===1){const B=this.getOutputLineCount()-1;if(i<B&&c===this.getMaxOutputOffset(i))return new aa(i+1,this.getMinOutputOffset(i+1))}return new aa(i,c)}outputPositionToOffsetInInputWithInjections(i,c){return i>0&&(c=Math.max(0,c-this.wrappedTextIndentLength)),(i>0?this.breakOffsets[i-1]:0)+c}normalizeOffsetInInputWithInjectionsAroundInjections(i,c){const v=this.getInjectedTextAtOffset(i);if(!v)return i;if(c===2){if(i===v.offsetInInputWithInjections+v.length&&Zc(this.injectionOptions[v.injectedTextIndex].cursorStops))return v.offsetInInputWithInjections+v.length;{let B=v.offsetInInputWithInjections;if(ya(this.injectionOptions[v.injectedTextIndex].cursorStops))return B;let U=v.injectedTextIndex-1;for(;U>=0&&this.injectionOffsets[U]===this.injectionOffsets[v.injectedTextIndex]&&!(Zc(this.injectionOptions[U].cursorStops)||(B-=this.injectionOptions[U].content.length,ya(this.injectionOptions[U].cursorStops)));)U--;return B}}else if(c===1){let B=v.offsetInInputWithInjections+v.length,U=v.injectedTextIndex;for(;U+1<this.injectionOffsets.length&&this.injectionOffsets[U+1]===this.injectionOffsets[U];)B+=this.injectionOptions[U+1].content.length,U++;return B}else if(c===0){let B=v.offsetInInputWithInjections,U=v.injectedTextIndex;for(;U-1>=0&&this.injectionOffsets[U-1]===this.injectionOffsets[U];)B-=this.injectionOptions[U-1].content.length,U--;return B}(0,bo.vE)(c)}getInjectedText(i,c){const v=this.outputPositionToOffsetInInputWithInjections(i,c),B=this.getInjectedTextAtOffset(v);return B?{options:this.injectionOptions[B.injectedTextIndex]}:null}getInjectedTextAtOffset(i){const c=this.injectionOffsets,v=this.injectionOptions;if(c!==null){let B=0;for(let U=0;U<c.length;U++){const le=v[U].content.length,Ce=c[U]+B,ke=c[U]+B+le;if(Ce>i)break;if(i<=ke)return{injectedTextIndex:U,offsetInInputWithInjections:Ce,length:le};B+=le}}}}function Zc(ut){return ut==null?!0:ut===pe.RM.Right||ut===pe.RM.Both}function ya(ut){return ut==null?!0:ut===pe.RM.Left||ut===pe.RM.Both}class Il{constructor(i){this.options=i}}class aa{constructor(i,c){this.outputLineIndex=i,this.outputOffset=c}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(i){return new Pe.L(i+this.outputLineIndex,this.outputOffset+1)}}class Zl{constructor(i,c){this.classifier=new Ed(i,c)}static create(i){return new Zl(i.get(120),i.get(119))}createLineBreaksComputer(i,c,v,B){const U=[],le=[],Ce=[];return{addRequest:(ke,Oe,Qe)=>{U.push(ke),le.push(Oe),Ce.push(Qe)},finalize:()=>{const ke=i.typicalFullwidthCharacterWidth/i.typicalHalfwidthCharacterWidth,Oe=[];for(let Qe=0,qe=U.length;Qe<qe;Qe++){const Ct=le[Qe],Dt=Ce[Qe];Dt&&!Dt.injectionOptions&&!Ct?Oe[Qe]=xd(this.classifier,Dt,U[Qe],c,v,ke,B):Oe[Qe]=Ar(this.classifier,U[Qe],Ct,c,v,ke,B)}return Dd.length=0,mc.length=0,Oe}}}}class Ed extends hl.N{constructor(i,c){super(0);for(let v=0;v<i.length;v++)this.set(i.charCodeAt(v),1);for(let v=0;v<c.length;v++)this.set(c.charCodeAt(v),2)}get(i){return i>=0&&i<256?this._asciiMap[i]:i>=12352&&i<=12543||i>=13312&&i<=19903||i>=19968&&i<=40959?3:this._map.get(i)||this._defaultValue}}let Dd=[],mc=[];function xd(ut,i,c,v,B,U,le){if(B===-1)return null;const Ce=c.length;if(Ce<=1)return null;const ke=i.breakOffsets,Oe=i.breakOffsetsVisibleColumn,Qe=Tl(c,v,B,U,le),qe=B-Qe,Ct=Dd,Dt=mc;let $t=0,qt=0,un=0,In=B;const Bn=ke.length;let Vn=0;if(Vn>=0){let li=Math.abs(Oe[Vn]-In);for(;Vn+1<Bn;){const si=Math.abs(Oe[Vn+1]-In);if(si>=li)break;li=si,Vn++}}for(;Vn<Bn;){let li=Vn<0?0:ke[Vn],si=Vn<0?0:Oe[Vn];qt>li&&(li=qt,si=un);let Ri=0,Ii=0,gi=0,bi=0;if(si<=In){let Hi=si,Bs=li===0?0:c.charCodeAt(li-1),Zs=li===0?0:ut.get(Bs),yo=!0;for(let Ds=li;Ds<Ce;Ds++){const eo=Ds,ho=c.charCodeAt(Ds);let So,Dr;if(kn.ZG(ho)?(Ds++,So=0,Dr=2):(So=ut.get(ho),Dr=Fa(ho,Hi,v,U)),eo>qt&&Ba(Bs,Zs,ho,So)&&(Ri=eo,Ii=Hi),Hi+=Dr,Hi>In){eo>qt?(gi=eo,bi=Hi-Dr):(gi=Ds+1,bi=Hi),Hi-Ii>qe&&(Ri=0),yo=!1;break}Bs=ho,Zs=So}if(yo){$t>0&&(Ct[$t]=ke[ke.length-1],Dt[$t]=Oe[ke.length-1],$t++);break}}if(Ri===0){let Hi=si,Bs=c.charCodeAt(li),Zs=ut.get(Bs),yo=!1;for(let Ds=li-1;Ds>=qt;Ds--){const eo=Ds+1,ho=c.charCodeAt(Ds);if(ho===9){yo=!0;break}let So,Dr;if(kn.YK(ho)?(Ds--,So=0,Dr=2):(So=ut.get(ho),Dr=kn.K7(ho)?U:1),Hi<=In){if(gi===0&&(gi=eo,bi=Hi),Hi<=In-qe)break;if(Ba(ho,So,Bs,Zs)){Ri=eo,Ii=Hi;break}}Hi-=Dr,Bs=ho,Zs=So}if(Ri!==0){const Ds=qe-(bi-Ii);if(Ds<=v){const eo=c.charCodeAt(gi);let ho;kn.ZG(eo)?ho=2:ho=Fa(eo,bi,v,U),Ds-ho<0&&(Ri=0)}}if(yo){Vn--;continue}}if(Ri===0&&(Ri=gi,Ii=bi),Ri<=qt){const Hi=c.charCodeAt(qt);kn.ZG(Hi)?(Ri=qt+2,Ii=un+2):(Ri=qt+1,Ii=un+Fa(Hi,un,v,U))}for(qt=Ri,Ct[$t]=Ri,un=Ii,Dt[$t]=Ii,$t++,In=Ii+qe;Vn<0||Vn<Bn&&Oe[Vn]<Ii;)Vn++;let ms=Math.abs(Oe[Vn]-In);for(;Vn+1<Bn;){const Hi=Math.abs(Oe[Vn+1]-In);if(Hi>=ms)break;ms=Hi,Vn++}}return $t===0?null:(Ct.length=$t,Dt.length=$t,Dd=i.breakOffsets,mc=i.breakOffsetsVisibleColumn,i.breakOffsets=Ct,i.breakOffsetsVisibleColumn=Dt,i.wrappedTextIndentLength=Qe,i)}function Ar(ut,i,c,v,B,U,le){const Ce=Li.gk.applyInjectedText(i,c);let ke,Oe;if(c&&c.length>0?(ke=c.map(Ii=>Ii.options),Oe=c.map(Ii=>Ii.column-1)):(ke=null,Oe=null),B===-1)return ke?new ao(Oe,ke,[Ce.length],[],0):null;const Qe=Ce.length;if(Qe<=1)return ke?new ao(Oe,ke,[Ce.length],[],0):null;const qe=Tl(Ce,v,B,U,le),Ct=B-qe,Dt=[],$t=[];let qt=0,un=0,In=0,Bn=B,Vn=Ce.charCodeAt(0),li=ut.get(Vn),si=Fa(Vn,0,v,U),Ri=1;kn.ZG(Vn)&&(si+=1,Vn=Ce.charCodeAt(1),li=ut.get(Vn),Ri++);for(let Ii=Ri;Ii<Qe;Ii++){const gi=Ii,bi=Ce.charCodeAt(Ii);let ms,Hi;kn.ZG(bi)?(Ii++,ms=0,Hi=2):(ms=ut.get(bi),Hi=Fa(bi,si,v,U)),Ba(Vn,li,bi,ms)&&(un=gi,In=si),si+=Hi,si>Bn&&((un===0||si-In>Ct)&&(un=gi,In=si-Hi),Dt[qt]=un,$t[qt]=In,qt++,Bn=In+Ct,un=0),Vn=bi,li=ms}return qt===0&&(!c||c.length===0)?null:(Dt[qt]=Qe,$t[qt]=si,new ao(Oe,ke,Dt,$t,qe))}function Fa(ut,i,c,v){return ut===9?c-i%c:kn.K7(ut)||ut<32?v:1}function pc(ut,i){return i-ut%i}function Ba(ut,i,c,v){return c!==32&&(i===2||i===3&&v!==2||v===1||v===3&&i!==1)}function Tl(ut,i,c,v,B){let U=0;if(B!==0){const le=kn.LC(ut);if(le!==-1){for(let ke=0;ke<le;ke++){const Oe=ut.charCodeAt(ke)===9?pc(U,i):1;U+=Oe}const Ce=B===3?2:B===2?1:0;for(let ke=0;ke<Ce;ke++){const Oe=pc(U,i);U+=Oe}U+v>c&&(U=0)}}return U}var Yc;const fl=(Yc=window.trustedTypes)===null||Yc===void 0?void 0:Yc.createPolicy("domLineBreaksComputer",{createHTML:ut=>ut});class Ml{static create(){return new Ml}constructor(){}createLineBreaksComputer(i,c,v,B){const U=[],le=[];return{addRequest:(Ce,ke,Oe)=>{U.push(Ce),le.push(ke)},finalize:()=>Qc(U,i,c,v,B,le)}}}function Qc(ut,i,c,v,B,U){var le;function Ce(gi){const bi=U[gi];if(bi){const ms=Li.gk.applyInjectedText(ut[gi],bi),Hi=bi.map(Zs=>Zs.options),Bs=bi.map(Zs=>Zs.column-1);return new ao(Bs,Hi,[ms.length],[],0)}else return null}if(v===-1){const gi=[];for(let bi=0,ms=ut.length;bi<ms;bi++)gi[bi]=Ce(bi);return gi}const ke=Math.round(v*i.typicalHalfwidthCharacterWidth),Qe=Math.round(c*(B===3?2:B===2?1:0)),qe=Math.ceil(i.spaceWidth*Qe),Ct=document.createElement("div");(0,Nn.N)(Ct,i);const Dt=(0,Oi.l$)(1e4),$t=[],qt=[],un=[],In=[],Bn=[];for(let gi=0;gi<ut.length;gi++){const bi=Li.gk.applyInjectedText(ut[gi],U[gi]);let ms=0,Hi=0,Bs=ke;if(B!==0)if(ms=kn.LC(bi),ms===-1)ms=0;else{for(let eo=0;eo<ms;eo++){const ho=bi.charCodeAt(eo)===9?c-Hi%c:1;Hi+=ho}const Ds=Math.ceil(i.spaceWidth*Hi);Ds+i.typicalFullwidthCharacterWidth>ke?(ms=0,Hi=0):Bs=ke-Ds}const Zs=bi.substr(ms),yo=Yl(Zs,Hi,c,Bs,Dt,qe);$t[gi]=ms,qt[gi]=Hi,un[gi]=Zs,In[gi]=yo[0],Bn[gi]=yo[1]}const Vn=Dt.build(),li=(le=fl==null?void 0:fl.createHTML(Vn))!==null&&le!==void 0?le:Vn;Ct.innerHTML=li,Ct.style.position="absolute",Ct.style.top="10000",Ct.style.wordWrap="break-word",document.body.appendChild(Ct);const si=document.createRange(),Ri=Array.prototype.slice.call(Ct.children,0),Ii=[];for(let gi=0;gi<ut.length;gi++){const bi=Ri[gi],ms=Sa(si,bi,un[gi],In[gi]);if(ms===null){Ii[gi]=Ce(gi);continue}const Hi=$t[gi],Bs=qt[gi]+Qe,Zs=Bn[gi],yo=[];for(let So=0,Dr=ms.length;So<Dr;So++)yo[So]=Zs[ms[So]];if(Hi!==0)for(let So=0,Dr=ms.length;So<Dr;So++)ms[So]+=Hi;let Ds,eo;const ho=U[gi];ho?(Ds=ho.map(So=>So.options),eo=ho.map(So=>So.column-1)):(Ds=null,eo=null),Ii[gi]=new ao(eo,Ds,ms,yo,Bs)}return document.body.removeChild(Ct),Ii}function Yl(ut,i,c,v,B,U){if(U!==0){const Ct=String(U);B.appendASCIIString('<div style="text-indent: -'),B.appendASCIIString(Ct),B.appendASCIIString("px; padding-left: "),B.appendASCIIString(Ct),B.appendASCIIString("px; box-sizing: border-box; width:")}else B.appendASCIIString('<div style="width:');B.appendASCIIString(String(v)),B.appendASCIIString('px;">');const le=ut.length;let Ce=i,ke=0;const Oe=[],Qe=[];let qe=0<le?ut.charCodeAt(0):0;B.appendASCIIString("<span>");for(let Ct=0;Ct<le;Ct++){Ct!==0&&Ct%16384===0&&B.appendASCIIString("</span><span>"),Oe[Ct]=ke,Qe[Ct]=Ce;const Dt=qe;qe=Ct+1<le?ut.charCodeAt(Ct+1):0;let $t=1,qt=1;switch(Dt){case 9:$t=c-Ce%c,qt=$t;for(let un=1;un<=$t;un++)un<$t?B.write1(160):B.appendASCII(32);break;case 32:qe===32?B.write1(160):B.appendASCII(32);break;case 60:B.appendASCIIString("&lt;");break;case 62:B.appendASCIIString("&gt;");break;case 38:B.appendASCIIString("&amp;");break;case 0:B.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:B.write1(65533);break;default:kn.K7(Dt)&&qt++,Dt<32?B.write1(9216+Dt):B.write1(Dt)}ke+=$t,Ce+=qt}return B.appendASCIIString("</span>"),Oe[ut.length]=ke,Qe[ut.length]=Ce,B.appendASCIIString("</div>"),[Oe,Qe]}function Sa(ut,i,c,v){if(c.length<=1)return null;const B=Array.prototype.slice.call(i.children,0),U=[];try{_c(ut,B,v,0,null,c.length-1,null,U)}catch(le){return console.log(le),null}return U.length===0?null:(U.push(c.length),U)}function _c(ut,i,c,v,B,U,le,Ce){if(v===U||(B=B||Ql(ut,i,c[v],c[v+1]),le=le||Ql(ut,i,c[U],c[U+1]),Math.abs(B[0].top-le[0].top)<=.1))return;if(v+1===U){Ce.push(U);return}const ke=v+(U-v)/2|0,Oe=Ql(ut,i,c[ke],c[ke+1]);_c(ut,i,c,v,B,ke,Oe,Ce),_c(ut,i,c,ke,Oe,U,le,Ce)}function Ql(ut,i,c,v){return ut.setStart(i[c/16384|0].firstChild,c%16384),ut.setEnd(i[v/16384|0].firstChild,v%16384),ut.getClientRects()}var Nd=l(1712),Xl=l(34181),Xa=l(85231),Wa=function(ut,i,c,v){var B=arguments.length,U=B<3?i:v===null?v=Object.getOwnPropertyDescriptor(i,c):v,le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(ut,i,c,v);else for(var Ce=ut.length-1;Ce>=0;Ce--)(le=ut[Ce])&&(U=(B<3?le(U):B>3?le(i,c,U):le(i,c))||U);return B>3&&U&&Object.defineProperty(i,c,U),U},Er=function(ut,i){return function(c,v){i(c,v,ut)}};let Xc=0;class vc{constructor(i,c,v,B,U){this.model=i,this.viewModel=c,this.view=v,this.hasRealView=B,this.listenersToRemove=U}dispose(){(0,w.B9)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let Ja=class Gm extends w.JT{constructor(i,c,v,B,U,le,Ce,ke,Oe,Qe,qe,Ct){super(),this.languageConfigurationService=qe,this._onDidDispose=this._register(new I.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new I.Q5),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new I.Q5),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new I.Q5),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new I.Q5),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new I.Q5),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new I.Q5),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new I.Q5),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new I.Q5),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new I.Q5),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new I.Q5),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new I.Q5),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new Cc),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new Cc),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new I.Q5),this.onWillType=this._onWillType.event,this._onDidType=this._register(new I.Q5),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new I.Q5),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new I.Q5),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new I.Q5),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new I.Q5),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new I.Q5),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new I.Q5),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new I.Q5),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new I.Q5),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new I.Q5),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new I.Q5),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new I.Q5),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new I.Q5),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new I.Q5),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new I.Q5),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new I.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new I.Q5),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new I.Q5),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new I.Q5),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null;const Dt=Object.assign({},c);this._domElement=i,this._overflowWidgetsDomNode=Dt.overflowWidgetsDomNode,delete Dt.overflowWidgetsDomNode,this._id=++Xc,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=v.telemetryData,this._configuration=this._register(this._createConfiguration(v.isSimpleWidget||!1,Dt,Qe)),this._register(this._configuration.onDidChange(qt=>{this._onDidChangeConfiguration.fire(qt);const un=this._configuration.options;if(qt.hasChanged(131)){const In=un.get(131);this._onDidLayoutChange.fire(In)}})),this._contextKeyService=this._register(Ce.createScoped(this._domElement)),this._notificationService=Oe,this._codeEditorService=U,this._commandService=le,this._themeService=ke,this._register(new ir(this,this._contextKeyService)),this._register(new Jl(this,this._contextKeyService,Ct)),this._instantiationService=B.createChild(new ul.y([Gl.i6,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new Id(i),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let $t;Array.isArray(v.contributions)?$t=v.contributions:$t=d.Uc.getEditorContributions();for(const qt of $t){if(this._contributions[qt.id]){(0,M.dL)(new Error(`Cannot have two contributions with the same id ${qt.id}`));continue}try{const un=this._instantiationService.createInstance(qt.ctor,this);this._contributions[qt.id]=un}catch(un){(0,M.dL)(un)}}d.Uc.getEditorActions().forEach(qt=>{if(this._actions[qt.id]){(0,M.dL)(new Error(`Cannot have two actions with the same id ${qt.id}`));return}const un=new fc.p(qt.id,qt.label,qt.alias,(0,bo.f6)(qt.precondition),()=>this._instantiationService.invokeFunction(In=>Promise.resolve(qt.runEditorCommand(In,this,null))),this._contextKeyService);this._actions[un.id]=un}),this._codeEditorService.addCodeEditor(this)}get isSimpleWidget(){return this._configuration.isSimpleWidget}_createConfiguration(i,c,v){return new me(i,c,this._domElement,v)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return Qr.g.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const i=Object.keys(this._contributions);for(let c=0,v=i.length;c<v;c++){const B=i[c];this._contributions[B].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(i){return this._instantiationService.invokeFunction(i)}updateOptions(i){this._configuration.updateOptions(i||{})}getOptions(){return this._configuration.options}getOption(i){return this._configuration.options.get(i)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(i){return this._modelData?Nd.w.getWordAtPosition(this._modelData.model,this._configuration.options.get(117),i):null}getValue(i=null){if(!this._modelData)return"";const c=!!(i&&i.preserveBOM);let v=0;return i&&i.lineEnding&&i.lineEnding===`
`?v=1:i&&i.lineEnding&&i.lineEnding===`\r
`&&(v=2),this._modelData.model.getValue(v,c)}setValue(i){!this._modelData||this._modelData.model.setValue(i)}getModel(){return this._modelData?this._modelData.model:null}setModel(i=null){const c=i;if(this._modelData===null&&c===null||this._modelData&&this._modelData.model===c)return;const v=this.hasTextFocus(),B=this._detachModel();this._attachModel(c),v&&this.hasModel()&&this.focus();const U={oldModelUrl:B?B.uri:null,newModelUrl:c?c.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(U),this._postDetachModelCleanup(B)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let i in this._decorationTypeSubtypes){const c=this._decorationTypeSubtypes[i];for(let v in c)this._removeDecorationType(i+"-"+v)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(i,c,v){const B=i.model.validatePosition({lineNumber:c,column:v}),U=i.viewModel.coordinatesConverter.convertModelPositionToViewPosition(B);return i.viewModel.viewLayout.getVerticalOffsetForLineNumber(U.lineNumber)}getTopForLineNumber(i){return this._modelData?Gm._getVerticalOffsetForPosition(this._modelData,i,1):-1}getTopForPosition(i,c){return this._modelData?Gm._getVerticalOffsetForPosition(this._modelData,i,c):-1}setHiddenAreas(i){this._modelData&&this._modelData.viewModel.setHiddenAreas(i.map(c=>en.e.lift(c)))}getVisibleColumnFromPosition(i){if(!this._modelData)return i.column;const c=this._modelData.model.validatePosition(i),v=this._modelData.model.getOptions().tabSize;return vt.i.visibleColumnFromColumn(this._modelData.model.getLineContent(c.lineNumber),c.column,v)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(i,c="api"){if(!!this._modelData){if(!Pe.L.isIPosition(i))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(c,[{selectionStartLineNumber:i.lineNumber,selectionStartColumn:i.column,positionLineNumber:i.lineNumber,positionColumn:i.column}])}}_sendRevealRange(i,c,v,B){if(!this._modelData)return;if(!en.e.isIRange(i))throw new Error("Invalid arguments");const U=this._modelData.model.validateRange(i),le=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(U);this._modelData.viewModel.revealRange("api",v,le,c,B)}revealLine(i,c=0){this._revealLine(i,0,c)}revealLineInCenter(i,c=0){this._revealLine(i,1,c)}revealLineInCenterIfOutsideViewport(i,c=0){this._revealLine(i,2,c)}revealLineNearTop(i,c=0){this._revealLine(i,5,c)}_revealLine(i,c,v){if(typeof i!="number")throw new Error("Invalid arguments");this._sendRevealRange(new en.e(i,1,i,1),c,!1,v)}revealPosition(i,c=0){this._revealPosition(i,0,!0,c)}revealPositionInCenter(i,c=0){this._revealPosition(i,1,!0,c)}revealPositionInCenterIfOutsideViewport(i,c=0){this._revealPosition(i,2,!0,c)}revealPositionNearTop(i,c=0){this._revealPosition(i,5,!0,c)}_revealPosition(i,c,v,B){if(!Pe.L.isIPosition(i))throw new Error("Invalid arguments");this._sendRevealRange(new en.e(i.lineNumber,i.column,i.lineNumber,i.column),c,v,B)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(i,c="api"){const v=J.Y.isISelection(i),B=en.e.isIRange(i);if(!v&&!B)throw new Error("Invalid arguments");if(v)this._setSelectionImpl(i,c);else if(B){const U={selectionStartLineNumber:i.startLineNumber,selectionStartColumn:i.startColumn,positionLineNumber:i.endLineNumber,positionColumn:i.endColumn};this._setSelectionImpl(U,c)}}_setSelectionImpl(i,c){if(!this._modelData)return;const v=new J.Y(i.selectionStartLineNumber,i.selectionStartColumn,i.positionLineNumber,i.positionColumn);this._modelData.viewModel.setSelections(c,[v])}revealLines(i,c,v=0){this._revealLines(i,c,0,v)}revealLinesInCenter(i,c,v=0){this._revealLines(i,c,1,v)}revealLinesInCenterIfOutsideViewport(i,c,v=0){this._revealLines(i,c,2,v)}revealLinesNearTop(i,c,v=0){this._revealLines(i,c,5,v)}_revealLines(i,c,v,B){if(typeof i!="number"||typeof c!="number")throw new Error("Invalid arguments");this._sendRevealRange(new en.e(i,1,c,1),v,!1,B)}revealRange(i,c=0,v=!1,B=!0){this._revealRange(i,v?1:0,B,c)}revealRangeInCenter(i,c=0){this._revealRange(i,1,!0,c)}revealRangeInCenterIfOutsideViewport(i,c=0){this._revealRange(i,2,!0,c)}revealRangeNearTop(i,c=0){this._revealRange(i,5,!0,c)}revealRangeNearTopIfOutsideViewport(i,c=0){this._revealRange(i,6,!0,c)}revealRangeAtTop(i,c=0){this._revealRange(i,3,!0,c)}_revealRange(i,c,v,B){if(!en.e.isIRange(i))throw new Error("Invalid arguments");this._sendRevealRange(en.e.lift(i),c,v,B)}setSelections(i,c="api",v=0){if(!!this._modelData){if(!i||i.length===0)throw new Error("Invalid arguments");for(let B=0,U=i.length;B<U;B++)if(!J.Y.isISelection(i[B]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(c,i,v)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(i,c=1){if(!!this._modelData){if(typeof i!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:i},c)}}setScrollTop(i,c=1){if(!!this._modelData){if(typeof i!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:i},c)}}setScrollPosition(i,c=1){!this._modelData||this._modelData.viewModel.viewLayout.setScrollPosition(i,c)}saveViewState(){if(!this._modelData)return null;const i={},c=Object.keys(this._contributions);for(const U of c){const le=this._contributions[U];typeof le.saveViewState=="function"&&(i[U]=le.saveViewState())}const v=this._modelData.viewModel.saveCursorState(),B=this._modelData.viewModel.saveState();return{cursorState:v,viewState:B,contributionsState:i}}restoreViewState(i){if(!this._modelData||!this._modelData.hasRealView)return;const c=i;if(c&&c.cursorState&&c.viewState){const v=c.cursorState;Array.isArray(v)?v.length>0&&this._modelData.viewModel.restoreCursorState(v):this._modelData.viewModel.restoreCursorState([v]);const B=c.contributionsState||{},U=Object.keys(this._contributions);for(let Ce=0,ke=U.length;Ce<ke;Ce++){const Oe=U[Ce],Qe=this._contributions[Oe];typeof Qe.restoreViewState=="function"&&Qe.restoreViewState(B[Oe])}const le=this._modelData.viewModel.reduceRestoreState(c.viewState);this._modelData.view.restoreState(le)}}getContribution(i){return this._contributions[i]||null}getActions(){const i=[],c=Object.keys(this._actions);for(let v=0,B=c.length;v<B;v++){const U=c[v];i.push(this._actions[U])}return i}getSupportedActions(){let i=this.getActions();return i=i.filter(c=>c.isSupported()),i}getAction(i){return this._actions[i]||null}trigger(i,c,v){switch(v=v||{},c){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(i);return;case"type":{const U=v;this._type(i,U.text||"");return}case"replacePreviousChar":{const U=v;this._compositionType(i,U.text||"",U.replaceCharCnt||0,0,0);return}case"compositionType":{const U=v;this._compositionType(i,U.text||"",U.replacePrevCharCnt||0,U.replaceNextCharCnt||0,U.positionDelta||0);return}case"paste":{const U=v;this._paste(i,U.text||"",U.pasteOnNewLine||!1,U.multicursorText||null,U.mode||null);return}case"cut":this._cut(i);return}const B=this.getAction(c);if(B){Promise.resolve(B.run()).then(void 0,M.dL);return}!this._modelData||this._triggerEditorCommand(i,c,v)||this._triggerCommand(c,v)}_triggerCommand(i,c){this._commandService.executeCommand(i,c)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(i){!this._modelData||(this._modelData.viewModel.endComposition(i),this._onDidCompositionEnd.fire())}_type(i,c){!this._modelData||c.length===0||(i==="keyboard"&&this._onWillType.fire(c),this._modelData.viewModel.type(c,i),i==="keyboard"&&this._onDidType.fire(c))}_compositionType(i,c,v,B,U){!this._modelData||this._modelData.viewModel.compositionType(c,v,B,U,i)}_paste(i,c,v,B,U){if(!this._modelData||c.length===0)return;const le=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(c,v,B,i);const Ce=this._modelData.viewModel.getSelection().getStartPosition();i==="keyboard"&&this._onDidPaste.fire({range:new en.e(le.lineNumber,le.column,Ce.lineNumber,Ce.column),languageId:U})}_cut(i){!this._modelData||this._modelData.viewModel.cut(i)}_triggerEditorCommand(i,c,v){const B=d.Uc.getEditorCommand(c);return B?(v=v||{},v.source=i,this._instantiationService.invokeFunction(U=>{Promise.resolve(B.runEditorCommand(U,this,v)).then(void 0,M.dL)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(81)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(81)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(i,c,v){if(!this._modelData||this._configuration.options.get(81))return!1;let B;return v?Array.isArray(v)?B=()=>v:B=v:B=()=>null,this._modelData.viewModel.executeEdits(i,c,B),!0}executeCommand(i,c){!this._modelData||this._modelData.viewModel.executeCommand(c,i)}executeCommands(i,c){!this._modelData||this._modelData.viewModel.executeCommands(c,i)}changeDecorations(i){return this._modelData?this._modelData.model.changeDecorations(i,this._id):null}getLineDecorations(i){return this._modelData?this._modelData.model.getLineDecorations(i,this._id,(0,b.$J)(this._configuration.options)):null}getDecorationsInRange(i){return this._modelData?this._modelData.model.getDecorationsInRange(i,this._id,(0,b.$J)(this._configuration.options)):null}deltaDecorations(i,c){return this._modelData?i.length===0&&c.length===0?i:this._modelData.model.deltaDecorations(i,c,this._id):[]}removeDecorations(i){const c=this._decorationTypeKeysToIds[i];c&&this.deltaDecorations(c,[]),this._decorationTypeKeysToIds.hasOwnProperty(i)&&delete this._decorationTypeKeysToIds[i],this._decorationTypeSubtypes.hasOwnProperty(i)&&delete this._decorationTypeSubtypes[i]}getLayoutInfo(){return this._configuration.options.get(131)}createOverviewRuler(i){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(i)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarMouseDown(i){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(i)}layout(i){this._configuration.observeContainer(i),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(i){const c={widget:i,position:i.getPosition()};this._contentWidgets.hasOwnProperty(i.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[i.getId()]=c,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(c)}layoutContentWidget(i){const c=i.getId();if(this._contentWidgets.hasOwnProperty(c)){const v=this._contentWidgets[c];v.position=i.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(v)}}removeContentWidget(i){const c=i.getId();if(this._contentWidgets.hasOwnProperty(c)){const v=this._contentWidgets[c];delete this._contentWidgets[c],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(v)}}addOverlayWidget(i){const c={widget:i,position:i.getPosition()};this._overlayWidgets.hasOwnProperty(i.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[i.getId()]=c,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(c)}layoutOverlayWidget(i){const c=i.getId();if(this._overlayWidgets.hasOwnProperty(c)){const v=this._overlayWidgets[c];v.position=i.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(v)}}removeOverlayWidget(i){const c=i.getId();if(this._overlayWidgets.hasOwnProperty(c)){const v=this._overlayWidgets[c];delete this._overlayWidgets[c],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(v)}}changeViewZones(i){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(i)}getTargetAtClientPoint(i,c){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(i,c)}getScrolledVisiblePosition(i){if(!this._modelData||!this._modelData.hasRealView)return null;const c=this._modelData.model.validatePosition(i),v=this._configuration.options,B=v.get(131),U=Gm._getVerticalOffsetForPosition(this._modelData,c.lineNumber,c.column)-this.getScrollTop(),le=this._modelData.view.getOffsetForColumn(c.lineNumber,c.column)+B.glyphMarginWidth+B.lineNumbersWidth+B.decorationsWidth-this.getScrollLeft();return{top:U,left:le,height:v.get(59)}}getOffsetForColumn(i,c){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(i,c)}render(i=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,i)}setAriaOptions(i){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(i)}applyFontInfo(i){(0,Nn.N)(i,this._configuration.options.get(44))}setBanner(i,c){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=i,this._configuration.setReservedHeight(i?c:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(i){if(!i){this._modelData=null;return}const c=[];this._domElement.setAttribute("data-mode-id",i.getLanguageId()),this._configuration.setIsDominatedByLongLines(i.isDominatedByLongLines()),this._configuration.setModelLineCount(i.getLineCount()),i.onBeforeAttached();const v=new Gc(this._id,this._configuration,i,Ml.create(),Zl.create(this._configuration.options),le=>A.jL(le),this.languageConfigurationService,this._themeService);c.push(i.onDidChangeDecorations(le=>this._onDidChangeModelDecorations.fire(le))),c.push(i.onDidChangeLanguage(le=>{this._domElement.setAttribute("data-mode-id",i.getLanguageId()),this._onDidChangeModelLanguage.fire(le)})),c.push(i.onDidChangeLanguageConfiguration(le=>this._onDidChangeModelLanguageConfiguration.fire(le))),c.push(i.onDidChangeContent(le=>this._onDidChangeModelContent.fire(le))),c.push(i.onDidChangeOptions(le=>this._onDidChangeModelOptions.fire(le))),c.push(i.onWillDispose(()=>this.setModel(null))),c.push(v.onEvent(le=>{switch(le.kind){case 0:this._onDidContentSizeChange.fire(le);break;case 1:this._editorTextFocus.setValue(le.hasFocus);break;case 2:this._onDidScrollChange.fire(le);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{le.reachedMaxCursorCount&&this._notificationService.warn(W.N("cursors.maximum","The number of cursors has been limited to {0}.",$s.MAX_CURSOR_COUNT));const Ce=[];for(let Qe=0,qe=le.selections.length;Qe<qe;Qe++)Ce[Qe]=le.selections[Qe].getPosition();const ke={position:Ce[0],secondaryPositions:Ce.slice(1),reason:le.reason,source:le.source};this._onDidChangeCursorPosition.fire(ke);const Oe={selection:le.selections[0],secondarySelections:le.selections.slice(1),modelVersionId:le.modelVersionId,oldSelections:le.oldSelections,oldModelVersionId:le.oldModelVersionId,source:le.source,reason:le.reason};this._onDidChangeCursorSelection.fire(Oe);break}}}));const[B,U]=this._createView(v);if(U){this._domElement.appendChild(B.domNode.domNode);let le=Object.keys(this._contentWidgets);for(let Ce=0,ke=le.length;Ce<ke;Ce++){const Oe=le[Ce];B.addContentWidget(this._contentWidgets[Oe])}le=Object.keys(this._overlayWidgets);for(let Ce=0,ke=le.length;Ce<ke;Ce++){const Oe=le[Ce];B.addOverlayWidget(this._overlayWidgets[Oe])}B.render(!1,!0),B.domNode.domNode.setAttribute("data-uri",i.uri.toString())}this._modelData=new vc(i,v,B,U,c)}_createView(i){let c;this.isSimpleWidget?c={paste:(U,le,Ce,ke)=>{this._paste("keyboard",U,le,Ce,ke)},type:U=>{this._type("keyboard",U)},compositionType:(U,le,Ce,ke)=>{this._compositionType("keyboard",U,le,Ce,ke)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:c={paste:(U,le,Ce,ke)=>{const Oe={text:U,pasteOnNewLine:le,multicursorText:Ce,mode:ke};this._commandService.executeCommand("paste",Oe)},type:U=>{const le={text:U};this._commandService.executeCommand("type",le)},compositionType:(U,le,Ce,ke)=>{if(Ce||ke){const Oe={text:U,replacePrevCharCnt:le,replaceNextCharCnt:Ce,positionDelta:ke};this._commandService.executeCommand("compositionType",Oe)}else{const Oe={text:U,replaceCharCnt:le};this._commandService.executeCommand("replacePreviousChar",Oe)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const v=new Vi(i.coordinatesConverter);return v.onKeyDown=U=>this._onKeyDown.fire(U),v.onKeyUp=U=>this._onKeyUp.fire(U),v.onContextMenu=U=>this._onContextMenu.fire(U),v.onMouseMove=U=>this._onMouseMove.fire(U),v.onMouseLeave=U=>this._onMouseLeave.fire(U),v.onMouseDown=U=>this._onMouseDown.fire(U),v.onMouseUp=U=>this._onMouseUp.fire(U),v.onMouseDrag=U=>this._onMouseDrag.fire(U),v.onMouseDrop=U=>this._onMouseDrop.fire(U),v.onMouseDropCanceled=U=>this._onMouseDropCanceled.fire(U),v.onMouseWheel=U=>this._onMouseWheel.fire(U),[new nt(c,this._configuration,this._themeService.getColorTheme(),i,v,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(i){i&&i.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const i=this._modelData.model,c=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),c&&this._domElement.contains(c)&&this._domElement.removeChild(c),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),i}_removeDecorationType(i){this._codeEditorService.removeDecorationType(i)}hasModel(){return this._modelData!==null}};Ja=Wa([Er(3,Nl.TG),Er(4,ie.$),Er(5,xl.Hy),Er(6,Gl.i6),Er(7,Gn.XE),Er(8,Jr.lT),Er(9,H.F),Er(10,Xl.c_),Er(11,Xa.p)],Ja);class Cc extends w.JT{constructor(){super(),this._onDidChangeToTrue=this._register(new I.Q5),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new I.Q5),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(i){const c=i?2:1;this._value!==c&&(this._value=c,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}class ir extends w.JT{constructor(i,c){super(),this._editor=i,c.createKey("editorId",i.getId()),this._editorSimpleInput=Ei.u.editorSimpleInput.bindTo(c),this._editorFocus=Ei.u.focus.bindTo(c),this._textInputFocus=Ei.u.textInputFocus.bindTo(c),this._editorTextFocus=Ei.u.editorTextFocus.bindTo(c),this._editorTabMovesFocus=Ei.u.tabMovesFocus.bindTo(c),this._editorReadonly=Ei.u.readOnly.bindTo(c),this._inDiffEditor=Ei.u.inDiffEditor.bindTo(c),this._editorColumnSelection=Ei.u.columnSelection.bindTo(c),this._hasMultipleSelections=Ei.u.hasMultipleSelections.bindTo(c),this._hasNonEmptySelection=Ei.u.hasNonEmptySelection.bindTo(c),this._canUndo=Ei.u.canUndo.bindTo(c),this._canRedo=Ei.u.canRedo.bindTo(c),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const i=this._editor.getOptions();this._editorTabMovesFocus.set(i.get(130)),this._editorReadonly.set(i.get(81)),this._inDiffEditor.set(i.get(54)),this._editorColumnSelection.set(i.get(18))}_updateFromSelection(){const i=this._editor.getSelections();i?(this._hasMultipleSelections.set(i.length>1),this._hasNonEmptySelection.set(i.some(c=>!c.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const i=this._editor.getModel();this._canUndo.set(Boolean(i&&i.canUndo())),this._canRedo.set(Boolean(i&&i.canRedo()))}}class Jl extends w.JT{constructor(i,c,v){super(),this._editor=i,this._contextKeyService=c,this._languageFeaturesService=v,this._langId=Ei.u.languageId.bindTo(c),this._hasCompletionItemProvider=Ei.u.hasCompletionItemProvider.bindTo(c),this._hasCodeActionsProvider=Ei.u.hasCodeActionsProvider.bindTo(c),this._hasCodeLensProvider=Ei.u.hasCodeLensProvider.bindTo(c),this._hasDefinitionProvider=Ei.u.hasDefinitionProvider.bindTo(c),this._hasDeclarationProvider=Ei.u.hasDeclarationProvider.bindTo(c),this._hasImplementationProvider=Ei.u.hasImplementationProvider.bindTo(c),this._hasTypeDefinitionProvider=Ei.u.hasTypeDefinitionProvider.bindTo(c),this._hasHoverProvider=Ei.u.hasHoverProvider.bindTo(c),this._hasDocumentHighlightProvider=Ei.u.hasDocumentHighlightProvider.bindTo(c),this._hasDocumentSymbolProvider=Ei.u.hasDocumentSymbolProvider.bindTo(c),this._hasReferenceProvider=Ei.u.hasReferenceProvider.bindTo(c),this._hasRenameProvider=Ei.u.hasRenameProvider.bindTo(c),this._hasSignatureHelpProvider=Ei.u.hasSignatureHelpProvider.bindTo(c),this._hasInlayHintsProvider=Ei.u.hasInlayHintsProvider.bindTo(c),this._hasDocumentFormattingProvider=Ei.u.hasDocumentFormattingProvider.bindTo(c),this._hasDocumentSelectionFormattingProvider=Ei.u.hasDocumentSelectionFormattingProvider.bindTo(c),this._hasMultipleDocumentFormattingProvider=Ei.u.hasMultipleDocumentFormattingProvider.bindTo(c),this._hasMultipleDocumentSelectionFormattingProvider=Ei.u.hasMultipleDocumentSelectionFormattingProvider.bindTo(c),this._isInWalkThrough=Ei.u.isInWalkThroughSnippet.bindTo(c);const B=()=>this._update();this._register(i.onDidChangeModel(B)),this._register(i.onDidChangeModelLanguage(B)),this._register(v.completionProvider.onDidChange(B)),this._register(v.codeActionProvider.onDidChange(B)),this._register(v.codeLensProvider.onDidChange(B)),this._register(v.definitionProvider.onDidChange(B)),this._register(v.declarationProvider.onDidChange(B)),this._register(v.implementationProvider.onDidChange(B)),this._register(v.typeDefinitionProvider.onDidChange(B)),this._register(v.hoverProvider.onDidChange(B)),this._register(v.documentHighlightProvider.onDidChange(B)),this._register(v.documentSymbolProvider.onDidChange(B)),this._register(v.referenceProvider.onDidChange(B)),this._register(v.renameProvider.onDidChange(B)),this._register(v.documentFormattingEditProvider.onDidChange(B)),this._register(v.documentRangeFormattingEditProvider.onDidChange(B)),this._register(v.signatureHelpProvider.onDidChange(B)),this._register(v.inlayHintsProvider.onDidChange(B)),B()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const i=this._editor.getModel();if(!i){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(i.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(i)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(i)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(i)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(i)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(i)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(i)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(i)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(i)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(i)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(i)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(i)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(i)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(i)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(i)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(i)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(i)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(i)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(i).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(i).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(i).length>1),this._isInWalkThrough.set(i.uri.scheme===_.lg.walkThroughSnippet)})}}class Id extends w.JT{constructor(i){super(),this._onChange=this._register(new I.Q5),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(A.go(i)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const Td=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),la=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function kl(ut){return Td+encodeURIComponent(ut.toString())+la}const ql=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),bc=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function Rl(ut){return ql+encodeURIComponent(ut.toString())+bc}(0,Gn.Ic)((ut,i)=>{const c=ut.getColor(ai.b6y);c&&i.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${c}; }`);const v=ut.getColor(ai.lXJ);v&&i.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${kl(v)}") repeat-x bottom left; }`);const B=ut.getColor(ai.L_H);B&&i.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${B}; }`);const U=ut.getColor(ai.pW3);U&&i.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${U}; }`);const le=ut.getColor(ai.uoC);le&&i.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${kl(le)}") repeat-x bottom left; }`);const Ce=ut.getColor(ai.gpD);Ce&&i.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${Ce}; }`);const ke=ut.getColor(ai.T83);ke&&i.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${ke}; }`);const Oe=ut.getColor(ai.c63);Oe&&i.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${kl(Oe)}") repeat-x bottom left; }`);const Qe=ut.getColor(ai.few);Qe&&i.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${Qe}; }`);const qe=ut.getColor(ai.fEB);qe&&i.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${qe}; }`);const Ct=ut.getColor(ai.Dut);Ct&&i.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${Rl(Ct)}") no-repeat bottom left; }`);const Dt=ut.getColor(Sn.zu);Dt&&i.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${Dt.rgba.a}; }`);const $t=ut.getColor(Sn.kp);$t&&i.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${$t}; }`);const qt=ut.getColor(ai.NOs)||"inherit";i.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${qt}}`)})},95641:function(it,Ee,l){"use strict";l.d(Ee,{p:function(){return vt}});var C=l(82215),d=l(50082),z=l(34653),O=l(36819),y=l(57186),W=l(60774),A=l(1405),M=l(16537),I=l(756),w=l(31753),_=l(87360),f=l(46984),m=l(25451),a=l(83337),x=l(20244),k=l(36143),T=l(32083),N=l(7747),L=l(60407),R=l(52664),b=l(93831),P=l(96072),V=l(58385),H=l(63655),ee=l(74696),ae=l(99305),me=l(50661),ge=function(Lt,He,Ve,Se){var St=arguments.length,Jt=St<3?He:Se===null?Se=Object.getOwnPropertyDescriptor(He,Ve):Se,mn;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Jt=Reflect.decorate(Lt,He,Ve,Se);else for(var Mn=Lt.length-1;Mn>=0;Mn--)(mn=Lt[Mn])&&(Jt=(St<3?mn(Jt):St>3?mn(He,Ve,Jt):mn(He,Ve))||Jt);return St>3&&Jt&&Object.defineProperty(He,Ve,Jt),Jt},re=function(Lt,He){return function(Ve,Se){He(Ve,Se,Lt)}},se=function(Lt,He,Ve,Se){function St(Jt){return Jt instanceof Ve?Jt:new Ve(function(mn){mn(Jt)})}return new(Ve||(Ve=Promise))(function(Jt,mn){function Mn(xn){try{Nn(Se.next(xn))}catch(Xn){mn(Xn)}}function kn(xn){try{Nn(Se.throw(xn))}catch(Xn){mn(Xn)}}function Nn(xn){xn.done?Jt(xn.value):St(xn.value).then(Mn,kn)}Nn((Se=Se.apply(Lt,He||[])).next())})},X;const $=3;class j{constructor(He,Ve,Se,St){this.originalLineStart=He,this.originalLineEnd=Ve,this.modifiedLineStart=Se,this.modifiedLineEnd=St}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class ie{constructor(He){this.entries=He}}const J=(0,ae.q5)("diff-review-insert",ee.lA.add,C.N("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),oe=(0,ae.q5)("diff-review-remove",ee.lA.remove,C.N("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),ce=(0,ae.q5)("diff-review-close",ee.lA.close,C.N("diffReviewCloseIcon","Icon for 'Close' in diff review."));let we=class nh extends A.JT{constructor(He,Ve){super(),this._languageService=Ve,this._width=0,this._diffEditor=He,this._isVisible=!1,this.shadow=(0,z.X)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,z.X)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new f.o(this.actionBarContainer.domNode)),this._actionBar.push(new a.aU("diffreview.close",C.N("label.close","Close"),"close-diff-review "+H.kS.asClassName(ce),!0,()=>se(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,z.X)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,z.X)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new m.s$(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(He.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(He.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(d.mu(this.domNode.domNode,"click",Se=>{Se.preventDefault();const St=d.Fx(Se.target,"diff-review-row");St&&this._goToRow(St)})),this._register(d.mu(this.domNode.domNode,"keydown",Se=>{(Se.equals(18)||Se.equals(2066)||Se.equals(530))&&(Se.preventDefault(),this._goToRow(this._getNextRow())),(Se.equals(16)||Se.equals(2064)||Se.equals(528))&&(Se.preventDefault(),this._goToRow(this._getPrevRow())),(Se.equals(9)||Se.equals(2057)||Se.equals(521)||Se.equals(1033))&&(Se.preventDefault(),this.hide()),(Se.equals(10)||Se.equals(3))&&(Se.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let He=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let Se=-1;for(let St=0,Jt=this._diffs.length;St<Jt;St++)if(this._diffs[St]===this._currentDiff){Se=St;break}He=this._diffs.length+Se-1}else He=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;He=He%this._diffs.length;const Ve=this._diffs[He].entries;this._diffEditor.setPosition(new N.L(Ve[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:Ve[0].modifiedLineStart,endColumn:1073741824,endLineNumber:Ve[Ve.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let He=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let Se=-1;for(let St=0,Jt=this._diffs.length;St<Jt;St++)if(this._diffs[St]===this._currentDiff){Se=St;break}He=Se+1}else He=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;He=He%this._diffs.length;const Ve=this._diffs[He].entries;this._diffEditor.setPosition(new N.L(Ve[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:Ve[0].modifiedLineStart,endColumn:1073741824,endLineNumber:Ve[Ve.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let He=-1;const Ve=this._getCurrentFocusedRow();if(Ve){const Se=parseInt(Ve.getAttribute("data-line"),10);isNaN(Se)||(He=Se)}this.hide(),He!==-1&&(this._diffEditor.setPosition(new N.L(He,1)),this._diffEditor.revealPosition(new N.L(He,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const He=this._getCurrentFocusedRow();return He?He.previousElementSibling?He.previousElementSibling:He:this._getFirstRow()}_getNextRow(){const He=this._getCurrentFocusedRow();return He?He.nextElementSibling?He.nextElementSibling:He:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const He=document.activeElement;return He&&/diff-review-row/.test(He.className)?He:null}_goToRow(He){const Ve=this._getCurrentFocusedRow();He.tabIndex=0,He.focus(),Ve&&Ve!==He&&(Ve.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(He,Ve,Se){this._width=Ve,this.shadow.setTop(He-6),this.shadow.setWidth(Ve),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(He),this.domNode.setWidth(Ve),this.domNode.setHeight(Se),this._content.setHeight(Se),this._content.setWidth(Ve),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const He=this._diffEditor.getLineChanges();if(!He||He.length===0)return[];const Ve=this._diffEditor.getOriginalEditor().getModel(),Se=this._diffEditor.getModifiedEditor().getModel();return!Ve||!Se?[]:nh._mergeAdjacent(He,Ve.getLineCount(),Se.getLineCount())}static _mergeAdjacent(He,Ve,Se){if(!He||He.length===0)return[];const St=[];let Jt=0;for(let Nn=0,xn=He.length;Nn<xn;Nn++){const Xn=He[Nn],Sn=Xn.originalStartLineNumber,Gn=Xn.originalEndLineNumber,ti=Xn.modifiedStartLineNumber,An=Xn.modifiedEndLineNumber,Bi=[];let oi=0;{const Yn=Gn===0?Sn:Sn-1,Ci=An===0?ti:ti-1;let On=1,Si=1;if(Nn>0){const Kn=He[Nn-1];Kn.originalEndLineNumber===0?On=Kn.originalStartLineNumber+1:On=Kn.originalEndLineNumber+1,Kn.modifiedEndLineNumber===0?Si=Kn.modifiedStartLineNumber+1:Si=Kn.modifiedEndLineNumber+1}let Di=Yn-$+1,ni=Ci-$+1;if(Di<On){const Kn=On-Di;Di=Di+Kn,ni=ni+Kn}if(ni<Si){const Kn=Si-ni;Di=Di+Kn,ni=ni+Kn}Bi[oi++]=new j(Di,Yn,ni,Ci)}Gn!==0&&(Bi[oi++]=new j(Sn,Gn,0,0)),An!==0&&(Bi[oi++]=new j(0,0,ti,An));{const Yn=Gn===0?Sn+1:Gn+1,Ci=An===0?ti+1:An+1;let On=Ve,Si=Se;if(Nn+1<xn){const Kn=He[Nn+1];Kn.originalEndLineNumber===0?On=Kn.originalStartLineNumber:On=Kn.originalStartLineNumber-1,Kn.modifiedEndLineNumber===0?Si=Kn.modifiedStartLineNumber:Si=Kn.modifiedStartLineNumber-1}let Di=Yn+$-1,ni=Ci+$-1;if(Di>On){const Kn=On-Di;Di=Di+Kn,ni=ni+Kn}if(ni>Si){const Kn=Si-ni;Di=Di+Kn,ni=ni+Kn}Bi[oi++]=new j(Yn,Di,Ci,ni)}St[Jt++]=new ie(Bi)}let mn=St[0].entries;const Mn=[];let kn=0;for(let Nn=1,xn=St.length;Nn<xn;Nn++){const Xn=St[Nn].entries,Sn=mn[mn.length-1],Gn=Xn[0];if(Sn.getType()===0&&Gn.getType()===0&&Gn.originalLineStart<=Sn.originalLineEnd){mn[mn.length-1]=new j(Sn.originalLineStart,Gn.originalLineEnd,Sn.modifiedLineStart,Gn.modifiedLineEnd),mn=mn.concat(Xn.slice(1));continue}Mn[kn++]=new ie(mn),mn=Xn}return Mn[kn++]=new ie(mn),Mn}_findDiffIndex(He){const Ve=He.lineNumber;for(let Se=0,St=this._diffs.length;Se<St;Se++){const Jt=this._diffs[Se].entries,mn=Jt[Jt.length-1].modifiedLineEnd;if(Ve<=mn)return Se}return 0}_render(){const He=this._diffEditor.getOriginalEditor().getOptions(),Ve=this._diffEditor.getModifiedEditor().getOptions(),Se=this._diffEditor.getOriginalEditor().getModel(),St=this._diffEditor.getModifiedEditor().getModel(),Jt=Se.getOptions(),mn=St.getOptions();if(!this._isVisible||!Se||!St){d.PO(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const Mn=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[Mn]===this._currentDiff)return;this._currentDiff=this._diffs[Mn];const kn=this._diffs[Mn].entries,Nn=document.createElement("div");Nn.className="diff-review-table",Nn.setAttribute("role","list"),Nn.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,M.N)(Nn,Ve.get(44));let xn=0,Xn=0,Sn=0,Gn=0;for(let ni=0,Kn=kn.length;ni<Kn;ni++){const Pi=kn[ni],Vi=Pi.originalLineStart,Oi=Pi.originalLineEnd,_i=Pi.modifiedLineStart,Ye=Pi.modifiedLineEnd;Vi!==0&&(xn===0||Vi<xn)&&(xn=Vi),Oi!==0&&(Xn===0||Oi>Xn)&&(Xn=Oi),_i!==0&&(Sn===0||_i<Sn)&&(Sn=_i),Ye!==0&&(Gn===0||Ye>Gn)&&(Gn=Ye)}const ti=document.createElement("div");ti.className="diff-review-row";const An=document.createElement("div");An.className="diff-review-cell diff-review-summary";const Bi=Xn-xn+1,oi=Gn-Sn+1;An.appendChild(document.createTextNode(`${Mn+1}/${this._diffs.length}: @@ -${xn},${Bi} +${Sn},${oi} @@`)),ti.setAttribute("data-line",String(Sn));const Yn=ni=>ni===0?C.N("no_lines_changed","no lines changed"):ni===1?C.N("one_line_changed","1 line changed"):C.N("more_lines_changed","{0} lines changed",ni),Ci=Yn(Bi),On=Yn(oi);ti.setAttribute("aria-label",C.N({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",Mn+1,this._diffs.length,xn,Ci,Sn,On)),ti.appendChild(An),ti.setAttribute("role","listitem"),Nn.appendChild(ti);const Si=Ve.get(59);let Di=Sn;for(let ni=0,Kn=kn.length;ni<Kn;ni++){const Pi=kn[ni];nh._renderSection(Nn,Pi,Di,Si,this._width,He,Se,Jt,Ve,St,mn,this._languageService.languageIdCodec),Pi.modifiedLineStart!==0&&(Di=Pi.modifiedLineEnd)}d.PO(this._content.domNode),this._content.domNode.appendChild(Nn),this.scrollbar.scanDomNode()}static _renderSection(He,Ve,Se,St,Jt,mn,Mn,kn,Nn,xn,Xn,Sn){const Gn=Ve.getType();let ti="diff-review-row",An="";const Bi="diff-review-spacer";let oi=null;switch(Gn){case 1:ti="diff-review-row line-insert",An=" char-insert",oi=J;break;case 2:ti="diff-review-row line-delete",An=" char-delete",oi=oe;break}const Yn=Ve.originalLineStart,Ci=Ve.originalLineEnd,On=Ve.modifiedLineStart,Si=Ve.modifiedLineEnd,Di=Math.max(Si-On,Ci-Yn),ni=mn.get(131),Kn=ni.glyphMarginWidth+ni.lineNumbersWidth,Pi=Nn.get(131),Vi=10+Pi.glyphMarginWidth+Pi.lineNumbersWidth;for(let Oi=0;Oi<=Di;Oi++){const _i=Yn===0?0:Yn+Oi,Ye=On===0?0:On+Oi,It=document.createElement("div");It.style.minWidth=Jt+"px",It.className=ti,It.setAttribute("role","listitem"),Ye!==0&&(Se=Ye),It.setAttribute("data-line",String(Se));const cn=document.createElement("div");cn.className="diff-review-cell",cn.style.height=`${St}px`,It.appendChild(cn);const on=document.createElement("span");on.style.width=Kn+"px",on.style.minWidth=Kn+"px",on.className="diff-review-line-number"+An,_i!==0?on.appendChild(document.createTextNode(String(_i))):on.innerText="\xA0",cn.appendChild(on);const bn=document.createElement("span");bn.style.width=Vi+"px",bn.style.minWidth=Vi+"px",bn.style.paddingRight="10px",bn.className="diff-review-line-number"+An,Ye!==0?bn.appendChild(document.createTextNode(String(Ye))):bn.innerText="\xA0",cn.appendChild(bn);const hi=document.createElement("span");if(hi.className=Bi,oi){const ri=document.createElement("span");ri.className=H.kS.asClassName(oi),ri.innerText="\xA0\xA0",hi.appendChild(ri)}else hi.innerText="\xA0\xA0";cn.appendChild(hi);let En;if(Ye!==0){let ri=this._renderLine(xn,Nn,Xn.tabSize,Ye,Sn);nh._ttPolicy&&(ri=nh._ttPolicy.createHTML(ri)),cn.insertAdjacentHTML("beforeend",ri),En=xn.getLineContent(Ye)}else{let ri=this._renderLine(Mn,mn,kn.tabSize,_i,Sn);nh._ttPolicy&&(ri=nh._ttPolicy.createHTML(ri)),cn.insertAdjacentHTML("beforeend",ri),En=Mn.getLineContent(_i)}En.length===0&&(En=C.N("blankLine","blank"));let Zi="";switch(Gn){case 0:_i===Ye?Zi=C.N({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",En,_i):Zi=C.N("equalLine","{0} original line {1} modified line {2}",En,_i,Ye);break;case 1:Zi=C.N("insertLine","+ {0} modified line {1}",En,Ye);break;case 2:Zi=C.N("deleteLine","- {0} original line {1}",En,_i);break}It.setAttribute("aria-label",Zi),He.appendChild(It)}}static _renderLine(He,Ve,Se,St,Jt){const mn=He.getLineContent(St),Mn=Ve.get(44),kn=T.A.createEmpty(mn,Jt),Nn=b.wA.isBasicASCII(mn,He.mightContainNonBasicASCII()),xn=b.wA.containsRTL(mn,Nn,He.mightContainRTL());return(0,R.tF)(new R.IJ(Mn.isMonospace&&!Ve.get(29),Mn.canUseHalfwidthRightwardsArrow,mn,!1,Nn,xn,0,kn,[],Se,0,Mn.spaceWidth,Mn.middotWidth,Mn.wsmiddotWidth,Ve.get(105),Ve.get(88),Ve.get(83),Ve.get(45)!==k.n0.OFF,null)).html}};we._ttPolicy=(X=window.trustedTypes)===null||X===void 0?void 0:X.createPolicy("diffReview",{createHTML:Lt=>Lt}),we=ge([re(1,me.O)],we),(0,H.Ic)((Lt,He)=>{const Ve=Lt.getColor(L.hw);Ve&&He.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${Ve}; }`);const Se=Lt.getColor(V._wn);Se&&He.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${Se} 0 -6px 6px -6px inset; }`)});class Me extends x.R6{constructor(){super({id:"editor.action.diffReview.next",label:C.N("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:P.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(He,Ve){const Se=De(He);Se&&Se.diffReviewNext()}}class Ke extends x.R6{constructor(){super({id:"editor.action.diffReview.prev",label:C.N("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:P.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(He,Ve){const Se=De(He);Se&&Se.diffReviewPrev()}}function De(Lt){const He=Lt.get(w.$),Ve=He.listDiffEditors(),Se=He.getActiveCodeEditor();if(!Se)return null;for(let St=0,Jt=Ve.length;St<Jt;St++){const mn=Ve[St];if(mn.getModifiedEditor().getId()===Se.getId()||mn.getOriginalEditor().getId()===Se.getId())return mn}return null}(0,x.Qr)(Me),(0,x.Qr)(Ke);var be=l(50757),We=l(20123),et=l(35405),Kt=l(12736),_t=l(41136),tt=l(2567),kt=l(7144),Ut=l(95024),Ft=l(85549),Te=l(3565),Ge=l(18708),Et=function(Lt,He,Ve,Se){function St(Jt){return Jt instanceof Ve?Jt:new Ve(function(mn){mn(Jt)})}return new(Ve||(Ve=Promise))(function(Jt,mn){function Mn(xn){try{Nn(Se.next(xn))}catch(Xn){mn(Xn)}}function kn(xn){try{Nn(Se.throw(xn))}catch(Xn){mn(Xn)}}function Nn(xn){xn.done?Jt(xn.value):St(xn.value).then(Mn,kn)}Nn((Se=Se.apply(Lt,He||[])).next())})};class Wt extends A.JT{constructor(He,Ve,Se,St,Jt,mn){super(),this._viewZoneId=He,this._marginDomNode=Ve,this.editor=Se,this.diff=St,this._contextMenuService=Jt,this._clipboardService=mn,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=ee.lA.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const Mn=Se.getOption(59),kn=Se.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${Mn}px`,this._diffActions.style.lineHeight=`${Mn}px`,this._marginDomNode.appendChild(this._diffActions);const Nn=[],xn=St.modifiedEndLineNumber===0;Nn.push(new a.aU("diff.clipboard.copyDeletedContent",xn?St.originalEndLineNumber>St.modifiedStartLineNumber?C.N("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):C.N("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):St.originalEndLineNumber>St.modifiedStartLineNumber?C.N("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):C.N("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>Et(this,void 0,void 0,function*(){const An=new be.e(St.originalStartLineNumber,1,St.originalEndLineNumber+1,1),Bi=St.originalModel.getValueInRange(An);yield this._clipboardService.writeText(Bi)})));let Xn=0,Sn;St.originalEndLineNumber>St.modifiedStartLineNumber&&(Sn=new a.aU("diff.clipboard.copyDeletedLineContent",xn?C.N("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",St.originalStartLineNumber):C.N("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",St.originalStartLineNumber),void 0,!0,()=>Et(this,void 0,void 0,function*(){const An=St.originalModel.getLineContent(St.originalStartLineNumber+Xn);if(An===""){const Bi=St.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(Bi===0?`
`:`\r
`)}else yield this._clipboardService.writeText(An)})),Nn.push(Sn)),Se.getOption(81)||Nn.push(new a.aU("diff.inline.revertChange",C.N("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>Et(this,void 0,void 0,function*(){const An=new be.e(St.originalStartLineNumber,1,St.originalEndLineNumber,St.originalModel.getLineMaxColumn(St.originalEndLineNumber)),Bi=St.originalModel.getValueInRange(An);if(St.modifiedEndLineNumber===0){const oi=Se.getModel().getLineMaxColumn(St.modifiedStartLineNumber);Se.executeEdits("diffEditor",[{range:new be.e(St.modifiedStartLineNumber,oi,St.modifiedStartLineNumber,oi),text:kn+Bi}])}else{const oi=Se.getModel().getLineMaxColumn(St.modifiedEndLineNumber);Se.executeEdits("diffEditor",[{range:new be.e(St.modifiedStartLineNumber,1,St.modifiedEndLineNumber,oi),text:Bi}])}})));const ti=(An,Bi)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:An,y:Bi}),getActions:()=>(Sn&&(Sn.label=xn?C.N("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",St.originalStartLineNumber+Xn):C.N("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",St.originalStartLineNumber+Xn)),Nn),autoSelectFirstItem:!0})};this._register(d.mu(this._diffActions,"mousedown",An=>{const{top:Bi,height:oi}=d.i(this._diffActions),Yn=Math.floor(Mn/3);An.preventDefault(),ti(An.posx,Bi+oi+Yn)})),this._register(Se.onMouseMove(An=>{An.target.type===8||An.target.type===5?An.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,Xn=this._updateLightBulbPosition(this._marginDomNode,An.event.browserEvent.y,Mn)):this.visibility=!1:this.visibility=!1})),this._register(Se.onMouseDown(An=>{!An.event.rightButton||(An.target.type===8||An.target.type===5)&&An.target.detail.viewZoneId===this._viewZoneId&&(An.event.preventDefault(),Xn=this._updateLightBulbPosition(this._marginDomNode,An.event.browserEvent.y,Mn),ti(An.event.posx,An.event.posy+Mn))}))}get visibility(){return this._visibility}set visibility(He){this._visibility!==He&&(this._visibility=He,He?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(He,Ve,Se){const{top:St}=d.i(He),Jt=Ve-St,mn=Math.floor(Jt/Se),Mn=mn*Se;if(this._diffActions.style.top=`${Mn}px`,this.diff.viewLineCounts){let kn=0;for(let Nn=0;Nn<this.diff.viewLineCounts.length;Nn++)if(kn+=this.diff.viewLineCounts[Nn],mn<kn)return Nn}return mn}}var Ze=l(83410),xe=l(91273),ve=l(11476),$e=l(91425),at=l(82464),Tt=function(Lt,He,Ve,Se){var St=arguments.length,Jt=St<3?He:Se===null?Se=Object.getOwnPropertyDescriptor(He,Ve):Se,mn;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Jt=Reflect.decorate(Lt,He,Ve,Se);else for(var Mn=Lt.length-1;Mn>=0;Mn--)(mn=Lt[Mn])&&(Jt=(St<3?mn(Jt):St>3?mn(He,Ve,Jt):mn(He,Ve))||Jt);return St>3&&Jt&&Object.defineProperty(He,Ve,Jt),Jt},Mt=function(Lt,He){return function(Ve,Se){He(Ve,Se,Lt)}},gt;class Rt{constructor(He,Ve){this._contextMenuService=He,this._clipboardService=Ve,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(He){return He.filter(Ve=>!this._zonesMap[String(Ve.id)])}clean(He){this._zones.length>0&&He.changeViewZones(Ve=>{for(const Se of this._zones)Ve.removeZone(Se)}),this._zones=[],this._zonesMap={},this._decorations=He.deltaDecorations(this._decorations,[])}apply(He,Ve,Se,St){const Jt=St?I.Z.capture(He):null;He.changeViewZones(mn=>{var Mn;for(const kn of this._zones)mn.removeZone(kn);for(const kn of this._inlineDiffMargins)kn.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let kn=0,Nn=Se.zones.length;kn<Nn;kn++){const xn=Se.zones[kn];xn.suppressMouseDown=!0;const Xn=mn.addZone(xn);this._zones.push(Xn),this._zonesMap[String(Xn)]=!0,Se.zones[kn].diff&&xn.marginDomNode&&(xn.suppressMouseDown=!1,((Mn=Se.zones[kn].diff)===null||Mn===void 0?void 0:Mn.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new Wt(Xn,xn.marginDomNode,He,Se.zones[kn].diff,this._contextMenuService,this._clipboardService)))}}),Jt&&Jt.restore(He),this._decorations=He.deltaDecorations(this._decorations,Se.decorations),Ve&&Ve.setZones(Se.overviewZones)}}let Zt=0;const hn=(0,ae.q5)("diff-insert",ee.lA.add,C.N("diffInsertIcon","Line decoration for inserts in the diff editor.")),Pe=(0,ae.q5)("diff-remove",ee.lA.remove,C.N("diffRemoveIcon","Line decoration for removals in the diff editor.")),en=(gt=window.trustedTypes)===null||gt===void 0?void 0:gt.createPolicy("diffEditorWidget",{createHTML:Lt=>Lt});let vt=class Yr extends A.JT{constructor(He,Ve,Se,St,Jt,mn,Mn,kn,Nn,xn,Xn,Sn){super(),this._editorProgressService=Sn,this._onDidDispose=this._register(new W.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new W.Q5),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new W.Q5),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=Jt,this._codeEditorService=kn,this._contextKeyService=this._register(mn.createScoped(He)),this._instantiationService=Mn.createChild(new Ft.y([P.i6,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=Nn,this._notificationService=xn,this._id=++Zt,this._state=0,this._updatingDiffProgress=null,this._domElement=He,Ve=Ve||{},this._options=Ue(Ve,{enableSplitViewResizing:!0,renderSideBySide:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),typeof Ve.isInEmbeddedEditor!="undefined"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",Ve.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new y.pY(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=Yr._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,z.X)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(d.mu(this._overviewDomElement,"mousedown",ti=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(ti)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new Rt(Xn,St),this._modifiedEditorState=new Rt(Xn,St),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new $e.I(this._containerDomElement,Ve.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),Ve.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(Ve,Se.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(Ve,Se.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=Mn.createInstance(we,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new Ne(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new ht(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(Nn.onDidColorThemeChange(ti=>{this._strategy&&this._strategy.applyColors(ti)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=Yr._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const Gn=x.Uc.getDiffEditorContributions();for(const ti of Gn)try{this._register(Mn.createInstance(ti.ctor,this))}catch(An){(0,xe.dL)(An)}this._codeEditorService.addDiffEditor(this)}_setState(He){this._state!==He&&(this._state=He,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(He,Ve){let Se="monaco-diff-editor monaco-editor-background ";return Ve&&(Se+="side-by-side "),Se+=(0,H.m6)(He.type),Se}_recreateOverviewRulers(){!this._options.renderOverviewRuler||(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(He,Ve){const Se=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(He),Ve);this._register(Se.onDidScrollChange(Jt=>{this._isHandlingScrollEvent||!Jt.scrollTopChanged&&!Jt.scrollLeftChanged&&!Jt.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:Jt.scrollLeft,scrollTop:Jt.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(Se.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(Se.onDidChangeConfiguration(Jt=>{!Se.getModel()||(Jt.hasChanged(44)&&this._updateDecorationsRunner.schedule(),Jt.hasChanged(132)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(Se.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(Se.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const St=this._contextKeyService.createKey("isInDiffLeftEditor",Se.hasWidgetFocus());return this._register(Se.onDidFocusEditorWidget(()=>St.set(!0))),this._register(Se.onDidBlurEditorWidget(()=>St.set(!1))),this._register(Se.onDidContentSizeChange(Jt=>{const mn=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Yr.ONE_OVERVIEW_WIDTH,Mn=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Mn,contentWidth:mn,contentHeightChanged:Jt.contentHeightChanged,contentWidthChanged:Jt.contentWidthChanged})})),Se}_createRightHandSideEditor(He,Ve){const Se=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(He),Ve);this._register(Se.onDidScrollChange(Jt=>{this._isHandlingScrollEvent||!Jt.scrollTopChanged&&!Jt.scrollLeftChanged&&!Jt.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:Jt.scrollLeft,scrollTop:Jt.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(Se.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(Se.onDidChangeConfiguration(Jt=>{!Se.getModel()||(Jt.hasChanged(44)&&this._updateDecorationsRunner.schedule(),Jt.hasChanged(132)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(Se.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(Se.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(Se.onDidChangeModelOptions(Jt=>{Jt.tabSize&&this._updateDecorationsRunner.schedule()}));const St=this._contextKeyService.createKey("isInDiffRightEditor",Se.hasWidgetFocus());return this._register(Se.onDidFocusEditorWidget(()=>St.set(!0))),this._register(Se.onDidBlurEditorWidget(()=>St.set(!1))),this._register(Se.onDidContentSizeChange(Jt=>{const mn=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Yr.ONE_OVERVIEW_WIDTH,Mn=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Mn,contentWidth:mn,contentHeightChanged:Jt.contentHeightChanged,contentWidthChanged:Jt.contentWidthChanged})})),Se}_createInnerEditor(He,Ve,Se,St){return He.createInstance(_.Gm,Ve,Se,St)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return et.g.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(He){const Ve=Ue(He,this._options),Se=Pt(this._options,Ve);this._options=Ve;const St=Se.ignoreTrimWhitespace||Se.renderIndicators,Jt=this._isVisible&&(Se.maxComputationTime||Se.maxFileSize);St?this._beginUpdateDecorations():Jt&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(He)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(He)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),Se.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new Ne(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new ht(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=Yr._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),Se.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(He){if(He&&(!He.original||!He.modified))throw new Error(He.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(He?He.original:null),this._modifiedEditor.setModel(He?He.modified:null),this._updateDecorationsRunner.cancel(),He&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),He&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(He){return this._modifiedEditor.getVisibleColumnFromPosition(He)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(He,Ve="api"){this._modifiedEditor.setPosition(He,Ve)}revealLine(He,Ve=0){this._modifiedEditor.revealLine(He,Ve)}revealLineInCenter(He,Ve=0){this._modifiedEditor.revealLineInCenter(He,Ve)}revealLineInCenterIfOutsideViewport(He,Ve=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(He,Ve)}revealLineNearTop(He,Ve=0){this._modifiedEditor.revealLineNearTop(He,Ve)}revealPosition(He,Ve=0){this._modifiedEditor.revealPosition(He,Ve)}revealPositionInCenter(He,Ve=0){this._modifiedEditor.revealPositionInCenter(He,Ve)}revealPositionInCenterIfOutsideViewport(He,Ve=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(He,Ve)}revealPositionNearTop(He,Ve=0){this._modifiedEditor.revealPositionNearTop(He,Ve)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(He,Ve="api"){this._modifiedEditor.setSelection(He,Ve)}setSelections(He,Ve="api"){this._modifiedEditor.setSelections(He,Ve)}revealLines(He,Ve,Se=0){this._modifiedEditor.revealLines(He,Ve,Se)}revealLinesInCenter(He,Ve,Se=0){this._modifiedEditor.revealLinesInCenter(He,Ve,Se)}revealLinesInCenterIfOutsideViewport(He,Ve,Se=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(He,Ve,Se)}revealLinesNearTop(He,Ve,Se=0){this._modifiedEditor.revealLinesNearTop(He,Ve,Se)}revealRange(He,Ve=0,Se=!1,St=!0){this._modifiedEditor.revealRange(He,Ve,Se,St)}revealRangeInCenter(He,Ve=0){this._modifiedEditor.revealRangeInCenter(He,Ve)}revealRangeInCenterIfOutsideViewport(He,Ve=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(He,Ve)}revealRangeNearTop(He,Ve=0){this._modifiedEditor.revealRangeNearTop(He,Ve)}revealRangeNearTopIfOutsideViewport(He,Ve=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(He,Ve)}revealRangeAtTop(He,Ve=0){this._modifiedEditor.revealRangeAtTop(He,Ve)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const He=this._originalEditor.saveViewState(),Ve=this._modifiedEditor.saveViewState();return{original:He,modified:Ve}}restoreViewState(He){if(He&&He.original&&He.modified){const Ve=He;this._originalEditor.restoreViewState(Ve.original),this._modifiedEditor.restoreViewState(Ve.modified)}}layout(He){this._elementSizeObserver.observe(He)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(He,Ve,Se){this._modifiedEditor.trigger(He,Ve,Se)}changeDecorations(He){return this._modifiedEditor.changeDecorations(He)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const He=this._elementSizeObserver.getHeight(),Ve=this._getReviewHeight(),Se=Yr.ENTIRE_DIFF_OVERVIEW_WIDTH-2*Yr.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:Yr.ONE_OVERVIEW_WIDTH,right:Se+Yr.ONE_OVERVIEW_WIDTH,height:He-Ve}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:Yr.ONE_OVERVIEW_WIDTH,height:He-Ve}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),Yr.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(He,Ve){return!He&&!Ve?!0:!He||!Ve?!1:He.toString()===Ve.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const He=this._originalEditor.getModel(),Ve=this._modifiedEditor.getModel();if(!He||!Ve)return;this._diffComputationToken++;const Se=this._diffComputationToken,St=this._options.maxFileSize*1024*1024,Jt=mn=>{const Mn=mn.getValueLength();return St===0||Mn<=St};if(!Jt(He)||!Jt(Ve)){(!Yr._equals(He.uri,this._lastOriginalWarning)||!Yr._equals(Ve.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=He.uri,this._lastModifiedWarning=Ve.uri,this._notificationService.warn(C.N("diff.tooLarge","Cannot compare files because one file is too large.")));return}this._setState(1),this._editorWorkerService.computeDiff(He.uri,Ve.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(mn=>{Se===this._diffComputationToken&&He===this._originalEditor.getModel()&&Ve===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=mn,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},mn=>{Se===this._diffComputationToken&&He===this._originalEditor.getModel()&&Ve===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const He=this._diffComputationResult?this._diffComputationResult.changes:[],Ve=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),Se=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),St=this._strategy.getEditorsDiffDecorations(He,this._options.ignoreTrimWhitespace,this._options.renderIndicators,Ve,Se);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,St.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,St.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(He){const Ve=Object.assign({},He);return Ve.inDiffEditor=!0,Ve.automaticLayout=!1,Ve.scrollbar=Object.assign({},Ve.scrollbar||{}),Ve.scrollbar.vertical="visible",Ve.folding=!1,Ve.codeLens=this._options.diffCodeLens,Ve.fixedOverflowWidgets=!0,Ve.minimap=Object.assign({},Ve.minimap||{}),Ve.minimap.enabled=!1,Ve}_adjustOptionsForLeftHandSide(He){const Ve=this._adjustOptionsForSubEditor(He);return this._options.renderSideBySide?Ve.wordWrapOverride1=this._options.diffWordWrap:(Ve.wordWrapOverride1="off",Ve.wordWrapOverride2="off"),He.originalAriaLabel&&(Ve.ariaLabel=He.originalAriaLabel),Ve.readOnly=!this._options.originalEditable,Ve.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},Ve),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(He){const Ve=this._adjustOptionsForSubEditor(He);return He.modifiedAriaLabel&&(Ve.ariaLabel=He.modifiedAriaLabel),Ve.wordWrapOverride1=this._options.diffWordWrap,Ve.revealHorizontalRightPadding=k.BH.revealHorizontalRightPadding.defaultValue+Yr.ENTIRE_DIFF_OVERVIEW_WIDTH,Ve.scrollbar.verticalHasArrows=!1,Ve.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},Ve),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const He=this._elementSizeObserver.getWidth(),Ve=this._elementSizeObserver.getHeight(),Se=this._getReviewHeight(),St=this._strategy.layout();this._originalDomNode.style.width=St+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=He-St+"px",this._modifiedDomNode.style.left=St+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=Ve-Se+"px",this._overviewDomElement.style.width=Yr.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=He-Yr.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(Yr.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:St,height:Ve-Se}),this._modifiedEditor.layout({width:He-St-(this._options.renderOverviewRuler?Yr.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:Ve-Se}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(Ve-Se,He,Se),this._layoutOverviewViewport()}_layoutOverviewViewport(){const He=this._computeOverviewViewport();He?(this._overviewViewportDomElement.setTop(He.top),this._overviewViewportDomElement.setHeight(He.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const He=this._modifiedEditor.getLayoutInfo();if(!He)return null;const Ve=this._modifiedEditor.getScrollTop(),Se=this._modifiedEditor.getScrollHeight(),St=Math.max(0,He.height),Jt=Math.max(0,St-2*0),mn=Se>0?Jt/Se:0,Mn=Math.max(0,Math.floor(He.height*mn)),kn=Math.floor(Ve*mn);return{height:Mn,top:kn}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(He){this._strategy&&this._strategy.dispose(),this._strategy=He,He.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(He,Ve){const Se=this._diffComputationResult?this._diffComputationResult.changes:[];if(Se.length===0||He<Ve(Se[0]))return null;let St=0,Jt=Se.length-1;for(;St<Jt;){const mn=Math.floor((St+Jt)/2),Mn=Ve(Se[mn]),kn=mn+1<=Jt?Ve(Se[mn+1]):1073741824;He<Mn?Jt=mn-1:He>=kn?St=mn+1:(St=mn,Jt=mn)}return Se[St]}_getEquivalentLineForOriginalLineNumber(He){const Ve=this._getLineChangeAtOrBeforeLineNumber(He,kn=>kn.originalStartLineNumber);if(!Ve)return He;const Se=Ve.originalStartLineNumber+(Ve.originalEndLineNumber>0?-1:0),St=Ve.modifiedStartLineNumber+(Ve.modifiedEndLineNumber>0?-1:0),Jt=Ve.originalEndLineNumber>0?Ve.originalEndLineNumber-Ve.originalStartLineNumber+1:0,mn=Ve.modifiedEndLineNumber>0?Ve.modifiedEndLineNumber-Ve.modifiedStartLineNumber+1:0,Mn=He-Se;return Mn<=Jt?St+Math.min(Mn,mn):St+mn-Jt+Mn}_getEquivalentLineForModifiedLineNumber(He){const Ve=this._getLineChangeAtOrBeforeLineNumber(He,kn=>kn.modifiedStartLineNumber);if(!Ve)return He;const Se=Ve.originalStartLineNumber+(Ve.originalEndLineNumber>0?-1:0),St=Ve.modifiedStartLineNumber+(Ve.modifiedEndLineNumber>0?-1:0),Jt=Ve.originalEndLineNumber>0?Ve.originalEndLineNumber-Ve.originalStartLineNumber+1:0,mn=Ve.modifiedEndLineNumber>0?Ve.modifiedEndLineNumber-Ve.modifiedStartLineNumber+1:0,Mn=He-St;return Mn<=mn?Se+Math.min(Mn,Jt):Se+Jt-mn+Mn}getDiffLineInformationForOriginal(He){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(He)}:null}getDiffLineInformationForModified(He){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(He)}:null}};vt.ONE_OVERVIEW_WIDTH=15,vt.ENTIRE_DIFF_OVERVIEW_WIDTH=30,vt.UPDATE_DIFF_DECORATIONS_DELAY=200,vt=Tt([Mt(3,Ze.p),Mt(4,_t.p),Mt(5,P.i6),Mt(6,Ut.TG),Mt(7,w.$),Mt(8,H.XE),Mt(9,Te.lT),Mt(10,Ge.i),Mt(11,ve.ek)],vt);class Le extends A.JT{constructor(He){super(),this._dataSource=He,this._insertColor=null,this._removeColor=null}applyColors(He){const Ve=He.getColor(V.P6Y)||(He.getColor(V.ypS)||V.CzK).transparent(2),Se=He.getColor(V.F9q)||(He.getColor(V.P4M)||V.keg).transparent(2),St=!Ve.equals(this._insertColor)||!Se.equals(this._removeColor);return this._insertColor=Ve,this._removeColor=Se,St}getEditorsDiffDecorations(He,Ve,Se,St,Jt){Jt=Jt.sort((Nn,xn)=>Nn.afterLineNumber-xn.afterLineNumber),St=St.sort((Nn,xn)=>Nn.afterLineNumber-xn.afterLineNumber);const mn=this._getViewZones(He,St,Jt,Se),Mn=this._getOriginalEditorDecorations(mn,He,Ve,Se),kn=this._getModifiedEditorDecorations(mn,He,Ve,Se);return{original:{decorations:Mn.decorations,overviewZones:Mn.overviewZones,zones:mn.original},modified:{decorations:kn.decorations,overviewZones:kn.overviewZones,zones:mn.modified}}}}class nn{constructor(He){this._source=He,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class sn{constructor(He,Ve,Se,St,Jt){this._lineChanges=He,this._originalForeignVZ=Ve,this._modifiedForeignVZ=Se,this._originalEditor=St,this._modifiedEditor=Jt}static _getViewLineCount(He,Ve,Se){const St=He.getModel(),Jt=He._getViewModel();if(St&&Jt){const mn=Cn(St,Jt,Ve,Se);return mn.endLineNumber-mn.startLineNumber+1}return Se-Ve+1}getViewZones(){const He=this._originalEditor.getOption(59),Ve=this._modifiedEditor.getOption(59),Se=this._originalEditor.getOption(132).wrappingColumn!==-1,St=this._modifiedEditor.getOption(132).wrappingColumn!==-1,Jt=Se||St,mn=this._originalEditor.getModel(),Mn=this._originalEditor._getViewModel().coordinatesConverter,kn=this._modifiedEditor._getViewModel().coordinatesConverter,Nn={original:[],modified:[]};let xn=0,Xn=0,Sn=0,Gn=0,ti=0,An=0;const Bi=(Di,ni)=>Di.afterLineNumber-ni.afterLineNumber,oi=(Di,ni)=>{if(ni.domNode===null&&Di.length>0){const Kn=Di[Di.length-1];if(Kn.afterLineNumber===ni.afterLineNumber&&Kn.domNode===null){Kn.heightInLines+=ni.heightInLines;return}}Di.push(ni)},Yn=new nn(this._modifiedForeignVZ),Ci=new nn(this._originalForeignVZ);let On=1,Si=1;for(let Di=0,ni=this._lineChanges.length;Di<=ni;Di++){const Kn=Di<ni?this._lineChanges[Di]:null;Kn!==null?(Sn=Kn.originalStartLineNumber+(Kn.originalEndLineNumber>0?-1:0),Gn=Kn.modifiedStartLineNumber+(Kn.modifiedEndLineNumber>0?-1:0),Xn=Kn.originalEndLineNumber>0?sn._getViewLineCount(this._originalEditor,Kn.originalStartLineNumber,Kn.originalEndLineNumber):0,xn=Kn.modifiedEndLineNumber>0?sn._getViewLineCount(this._modifiedEditor,Kn.modifiedStartLineNumber,Kn.modifiedEndLineNumber):0,ti=Math.max(Kn.originalStartLineNumber,Kn.originalEndLineNumber),An=Math.max(Kn.modifiedStartLineNumber,Kn.modifiedEndLineNumber)):(Sn+=1e7+Xn,Gn+=1e7+xn,ti=Sn,An=Gn);let Pi=[],Vi=[];if(Jt){let Ye;Kn?Kn.originalEndLineNumber>0?Ye=Kn.originalStartLineNumber-On:Ye=Kn.modifiedStartLineNumber-Si:Ye=mn.getLineCount()-On+1;for(let It=0;It<Ye;It++){const cn=On+It,on=Si+It,bn=Mn.getModelLineViewLineCount(cn),hi=kn.getModelLineViewLineCount(on);bn<hi?Pi.push({afterLineNumber:cn,heightInLines:hi-bn,domNode:null,marginDomNode:null}):bn>hi&&Vi.push({afterLineNumber:on,heightInLines:bn-hi,domNode:null,marginDomNode:null})}Kn&&(On=(Kn.originalEndLineNumber>0?Kn.originalEndLineNumber:Kn.originalStartLineNumber)+1,Si=(Kn.modifiedEndLineNumber>0?Kn.modifiedEndLineNumber:Kn.modifiedStartLineNumber)+1)}for(;Yn.current&&Yn.current.afterLineNumber<=An;){let Ye;Yn.current.afterLineNumber<=Gn?Ye=Sn-Gn+Yn.current.afterLineNumber:Ye=ti;let It=null;Kn&&Kn.modifiedStartLineNumber<=Yn.current.afterLineNumber&&Yn.current.afterLineNumber<=Kn.modifiedEndLineNumber&&(It=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),Pi.push({afterLineNumber:Ye,heightInLines:Yn.current.height/Ve,domNode:null,marginDomNode:It}),Yn.advance()}for(;Ci.current&&Ci.current.afterLineNumber<=ti;){let Ye;Ci.current.afterLineNumber<=Sn?Ye=Gn-Sn+Ci.current.afterLineNumber:Ye=An,Vi.push({afterLineNumber:Ye,heightInLines:Ci.current.height/He,domNode:null}),Ci.advance()}if(Kn!==null&&gn(Kn)){const Ye=this._produceOriginalFromDiff(Kn,Xn,xn);Ye&&Pi.push(Ye)}if(Kn!==null&&Ht(Kn)){const Ye=this._produceModifiedFromDiff(Kn,Xn,xn);Ye&&Vi.push(Ye)}let Oi=0,_i=0;for(Pi=Pi.sort(Bi),Vi=Vi.sort(Bi);Oi<Pi.length&&_i<Vi.length;){const Ye=Pi[Oi],It=Vi[_i],cn=Ye.afterLineNumber-Sn,on=It.afterLineNumber-Gn;cn<on?(oi(Nn.original,Ye),Oi++):on<cn?(oi(Nn.modified,It),_i++):Ye.shouldNotShrink?(oi(Nn.original,Ye),Oi++):It.shouldNotShrink?(oi(Nn.modified,It),_i++):Ye.heightInLines>=It.heightInLines?(Ye.heightInLines-=It.heightInLines,_i++):(It.heightInLines-=Ye.heightInLines,Oi++)}for(;Oi<Pi.length;)oi(Nn.original,Pi[Oi]),Oi++;for(;_i<Vi.length;)oi(Nn.modified,Vi[_i]),_i++}return{original:sn._ensureDomNodes(Nn.original),modified:sn._ensureDomNodes(Nn.modified)}}static _ensureDomNodes(He){return He.map(Ve=>(Ve.domNode||(Ve.domNode=lt()),Ve))}}function ei(Lt,He,Ve,Se,St){return{range:new be.e(Lt,He,Ve,Se),options:St}}const wn={charDelete:Kt.qx.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:Kt.qx.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:Kt.qx.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:Kt.qx.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:Kt.qx.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:Kt.qx.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+H.kS.asClassName(hn),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:Kt.qx.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:Kt.qx.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+H.kS.asClassName(Pe),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:Kt.qx.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})};class Ne extends Le{constructor(He,Ve){super(He),this._disableSash=Ve===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new O.g(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(Se=>this._onSashDrag(Se)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(He){const Ve=He===!1;this._disableSash!==Ve&&(this._disableSash=Ve,this._sash.state=this._disableSash?0:3)}layout(He=this._sashRatio){const Se=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?vt.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let St=Math.floor((He||.5)*Se);const Jt=Math.floor(.5*Se);return St=this._disableSash?Jt:St||Jt,Se>Ne.MINIMUM_EDITOR_WIDTH*2?(St<Ne.MINIMUM_EDITOR_WIDTH&&(St=Ne.MINIMUM_EDITOR_WIDTH),St>Se-Ne.MINIMUM_EDITOR_WIDTH&&(St=Se-Ne.MINIMUM_EDITOR_WIDTH)):St=Jt,this._sashPosition!==St&&(this._sashPosition=St),this._sash.layout(),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(He){const Se=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?vt.ENTIRE_DIFF_OVERVIEW_WIDTH:0),St=this.layout((this._startSashPosition+(He.currentX-He.startX))/Se);this._sashRatio=St/Se,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(He){return 0}getVerticalSashLeft(He){return this._sashPosition}getVerticalSashHeight(He){return this._dataSource.getHeight()}_getViewZones(He,Ve,Se){const St=this._dataSource.getOriginalEditor(),Jt=this._dataSource.getModifiedEditor();return new Fe(He,Ve,Se,St,Jt).getViewZones()}_getOriginalEditorDecorations(He,Ve,Se,St){const Jt=this._dataSource.getOriginalEditor(),mn=String(this._removeColor),Mn={decorations:[],overviewZones:[]},kn=Jt.getModel(),Nn=Jt._getViewModel();for(const xn of Ve)if(Ht(xn)){Mn.decorations.push({range:new be.e(xn.originalStartLineNumber,1,xn.originalEndLineNumber,1073741824),options:St?wn.lineDeleteWithSign:wn.lineDelete}),(!gn(xn)||!xn.charChanges)&&Mn.decorations.push(ei(xn.originalStartLineNumber,1,xn.originalEndLineNumber,1073741824,wn.charDeleteWholeLine));const Xn=Cn(kn,Nn,xn.originalStartLineNumber,xn.originalEndLineNumber);if(Mn.overviewZones.push(new tt.EY(Xn.startLineNumber,Xn.endLineNumber,0,mn)),xn.charChanges){for(const Sn of xn.charChanges)if(Ht(Sn))if(Se)for(let Gn=Sn.originalStartLineNumber;Gn<=Sn.originalEndLineNumber;Gn++){let ti,An;Gn===Sn.originalStartLineNumber?ti=Sn.originalStartColumn:ti=kn.getLineFirstNonWhitespaceColumn(Gn),Gn===Sn.originalEndLineNumber?An=Sn.originalEndColumn:An=kn.getLineLastNonWhitespaceColumn(Gn),Mn.decorations.push(ei(Gn,ti,Gn,An,wn.charDelete))}else Mn.decorations.push(ei(Sn.originalStartLineNumber,Sn.originalStartColumn,Sn.originalEndLineNumber,Sn.originalEndColumn,wn.charDelete))}}return Mn}_getModifiedEditorDecorations(He,Ve,Se,St){const Jt=this._dataSource.getModifiedEditor(),mn=String(this._insertColor),Mn={decorations:[],overviewZones:[]},kn=Jt.getModel(),Nn=Jt._getViewModel();for(const xn of Ve)if(gn(xn)){Mn.decorations.push({range:new be.e(xn.modifiedStartLineNumber,1,xn.modifiedEndLineNumber,1073741824),options:St?wn.lineInsertWithSign:wn.lineInsert}),(!Ht(xn)||!xn.charChanges)&&Mn.decorations.push(ei(xn.modifiedStartLineNumber,1,xn.modifiedEndLineNumber,1073741824,wn.charInsertWholeLine));const Xn=Cn(kn,Nn,xn.modifiedStartLineNumber,xn.modifiedEndLineNumber);if(Mn.overviewZones.push(new tt.EY(Xn.startLineNumber,Xn.endLineNumber,0,mn)),xn.charChanges){for(const Sn of xn.charChanges)if(gn(Sn))if(Se)for(let Gn=Sn.modifiedStartLineNumber;Gn<=Sn.modifiedEndLineNumber;Gn++){let ti,An;Gn===Sn.modifiedStartLineNumber?ti=Sn.modifiedStartColumn:ti=kn.getLineFirstNonWhitespaceColumn(Gn),Gn===Sn.modifiedEndLineNumber?An=Sn.modifiedEndColumn:An=kn.getLineLastNonWhitespaceColumn(Gn),Mn.decorations.push(ei(Gn,ti,Gn,An,wn.charInsert))}else Mn.decorations.push(ei(Sn.modifiedStartLineNumber,Sn.modifiedStartColumn,Sn.modifiedEndLineNumber,Sn.modifiedEndColumn,wn.charInsert))}}return Mn}}Ne.MINIMUM_EDITOR_WIDTH=100;class Fe extends sn{constructor(He,Ve,Se,St,Jt){super(He,Ve,Se,St,Jt)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(He,Ve,Se){return Se>Ve?{afterLineNumber:Math.max(He.originalStartLineNumber,He.originalEndLineNumber),heightInLines:Se-Ve,domNode:null}:null}_produceModifiedFromDiff(He,Ve,Se){return Ve>Se?{afterLineNumber:Math.max(He.modifiedStartLineNumber,He.modifiedEndLineNumber),heightInLines:Ve-Se,domNode:null}:null}}class ht extends Le{constructor(He,Ve){super(He),this._decorationsLeft=He.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(He.getOriginalEditor().onDidLayoutChange(Se=>{this._decorationsLeft!==Se.decorationsLeft&&(this._decorationsLeft=Se.decorationsLeft,He.relayoutEditors())}))}setEnableSplitViewResizing(He){}_getViewZones(He,Ve,Se,St){const Jt=this._dataSource.getOriginalEditor(),mn=this._dataSource.getModifiedEditor();return new Qt(He,Ve,Se,Jt,mn,St).getViewZones()}_getOriginalEditorDecorations(He,Ve,Se,St){const Jt=String(this._removeColor),mn={decorations:[],overviewZones:[]},Mn=this._dataSource.getOriginalEditor(),kn=Mn.getModel(),Nn=Mn._getViewModel();let xn=0;for(const Xn of Ve)if(Ht(Xn)){for(mn.decorations.push({range:new be.e(Xn.originalStartLineNumber,1,Xn.originalEndLineNumber,1073741824),options:wn.lineDeleteMargin});xn<He.modified.length;){const ti=He.modified[xn];if(ti.diff&&ti.diff.originalStartLineNumber>=Xn.originalStartLineNumber)break;xn++}let Sn=0;if(xn<He.modified.length){const ti=He.modified[xn];ti.diff&&ti.diff.originalStartLineNumber===Xn.originalStartLineNumber&&ti.diff.originalEndLineNumber===Xn.originalEndLineNumber&&ti.diff.modifiedStartLineNumber===Xn.modifiedStartLineNumber&&ti.diff.modifiedEndLineNumber===Xn.modifiedEndLineNumber&&(Sn=ti.heightInLines)}const Gn=Cn(kn,Nn,Xn.originalStartLineNumber,Xn.originalEndLineNumber);mn.overviewZones.push(new tt.EY(Gn.startLineNumber,Gn.endLineNumber,Sn,Jt))}return mn}_getModifiedEditorDecorations(He,Ve,Se,St){const Jt=this._dataSource.getModifiedEditor(),mn=String(this._insertColor),Mn={decorations:[],overviewZones:[]},kn=Jt.getModel(),Nn=Jt._getViewModel();for(const xn of Ve)if(gn(xn)){Mn.decorations.push({range:new be.e(xn.modifiedStartLineNumber,1,xn.modifiedEndLineNumber,1073741824),options:St?wn.lineInsertWithSign:wn.lineInsert});const Xn=Cn(kn,Nn,xn.modifiedStartLineNumber,xn.modifiedEndLineNumber);if(Mn.overviewZones.push(new tt.EY(Xn.startLineNumber,Xn.endLineNumber,0,mn)),xn.charChanges){for(const Sn of xn.charChanges)if(gn(Sn))if(Se)for(let Gn=Sn.modifiedStartLineNumber;Gn<=Sn.modifiedEndLineNumber;Gn++){let ti,An;Gn===Sn.modifiedStartLineNumber?ti=Sn.modifiedStartColumn:ti=kn.getLineFirstNonWhitespaceColumn(Gn),Gn===Sn.modifiedEndLineNumber?An=Sn.modifiedEndColumn:An=kn.getLineLastNonWhitespaceColumn(Gn),Mn.decorations.push(ei(Gn,ti,Gn,An,wn.charInsert))}else Mn.decorations.push(ei(Sn.modifiedStartLineNumber,Sn.modifiedStartColumn,Sn.modifiedEndLineNumber,Sn.modifiedEndColumn,wn.charInsert))}else Mn.decorations.push(ei(xn.modifiedStartLineNumber,1,xn.modifiedEndLineNumber,1073741824,wn.charInsertWholeLine))}return Mn}layout(){return Math.max(5,this._decorationsLeft)}}class Qt extends sn{constructor(He,Ve,Se,St,Jt,mn){super(He,Ve,Se,St,Jt),this._originalModel=St.getModel(),this._renderIndicators=mn,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const He=super.getViewZones();return this._finalize(He),He}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const He=document.createElement("div");return He.className="inline-added-margin-view-zone",He}_produceOriginalFromDiff(He,Ve,Se){const St=document.createElement("div");return St.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(He.originalStartLineNumber,He.originalEndLineNumber),heightInLines:Se,domNode:document.createElement("div"),marginDomNode:St}}_produceModifiedFromDiff(He,Ve,Se){const St=document.createElement("div");St.className=`view-lines line-delete ${at.S}`;const Jt=document.createElement("div");Jt.className="inline-deleted-margin-view-zone";const mn={shouldNotShrink:!0,afterLineNumber:He.modifiedEndLineNumber===0?He.modifiedStartLineNumber:He.modifiedStartLineNumber-1,heightInLines:Ve,minWidthInPx:0,domNode:St,marginDomNode:Jt,diff:{originalStartLineNumber:He.originalStartLineNumber,originalEndLineNumber:He.originalEndLineNumber,modifiedStartLineNumber:He.modifiedStartLineNumber,modifiedEndLineNumber:He.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let Mn=He.originalStartLineNumber;Mn<=He.originalEndLineNumber;Mn++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(Mn),null,null);return this._pendingLineChange.push(He),this._pendingViewZones.push(mn),mn}_finalize(He){const Ve=this._modifiedEditor.getOptions(),Se=this._modifiedEditor.getModel().getOptions().tabSize,St=Ve.get(44),Jt=Ve.get(29),mn=St.typicalHalfwidthCharacterWidth,Mn=Ve.get(93),kn=this._originalModel.mightContainNonBasicASCII(),Nn=this._originalModel.mightContainRTL(),xn=Ve.get(59),Sn=Ve.get(131).decorationsWidth,Gn=Ve.get(105),ti=Ve.get(88),An=Ve.get(83),Bi=Ve.get(45),oi=this._lineBreaksComputer.finalize();let Yn=0;for(let Ci=0;Ci<this._pendingLineChange.length;Ci++){const On=this._pendingLineChange[Ci],Si=this._pendingViewZones[Ci],Di=Si.domNode;(0,M.N)(Di,St);const ni=Si.marginDomNode;(0,M.N)(ni,St);const Kn=[];if(On.charChanges)for(const on of On.charChanges)Ht(on)&&Kn.push(new b.$t(new be.e(on.originalStartLineNumber,on.originalStartColumn,on.originalEndLineNumber,on.originalEndColumn),"char-delete",0));const Pi=Kn.length>0,Vi=(0,We.l$)(1e4);let Oi=0,_i=0,Ye=null;for(let on=On.originalStartLineNumber;on<=On.originalEndLineNumber;on++){const bn=on-On.originalStartLineNumber,hi=this._originalModel.getLineTokens(on),En=hi.getLineContent(),Zi=oi[Yn++],ri=kt.Kp.filter(Kn,on,1,En.length+1);if(Zi){let ki=0;for(const qi of Zi.breakOffsets){const Xs=hi.sliceAndInflate(ki,qi,0),zs=En.substring(ki,qi);Oi=Math.max(Oi,this._renderOriginalLine(_i++,zs,Xs,kt.Kp.extractWrapped(ri,ki,qi),Pi,kn,Nn,St,Jt,xn,Sn,Gn,ti,An,Bi,Se,Vi,ni)),ki=qi}for(Ye||(Ye=[]);Ye.length<bn;)Ye[Ye.length]=1;Ye[bn]=Zi.breakOffsets.length,Si.heightInLines+=Zi.breakOffsets.length-1;const ui=document.createElement("div");ui.className="gutter-delete",He.original.push({afterLineNumber:on,afterColumn:0,heightInLines:Zi.breakOffsets.length-1,domNode:lt(),marginDomNode:ui})}else Oi=Math.max(Oi,this._renderOriginalLine(_i++,En,hi,ri,Pi,kn,Nn,St,Jt,xn,Sn,Gn,ti,An,Bi,Se,Vi,ni))}Oi+=Mn;const It=Vi.build(),cn=en?en.createHTML(It):It;if(Di.innerHTML=cn,Si.minWidthInPx=Oi*mn,Ye){const on=On.originalEndLineNumber-On.originalStartLineNumber;for(;Ye.length<=on;)Ye[Ye.length]=1}Si.diff.viewLineCounts=Ye}He.original.sort((Ci,On)=>Ci.afterLineNumber-On.afterLineNumber)}_renderOriginalLine(He,Ve,Se,St,Jt,mn,Mn,kn,Nn,xn,Xn,Sn,Gn,ti,An,Bi,oi,Yn){oi.appendASCIIString('<div class="view-line'),Jt||oi.appendASCIIString(" char-delete"),oi.appendASCIIString('" style="top:'),oi.appendASCIIString(String(He*xn)),oi.appendASCIIString('px;width:1000000px;">');const Ci=b.wA.isBasicASCII(Ve,mn),On=b.wA.containsRTL(Ve,Ci,Mn),Si=(0,R.d1)(new R.IJ(kn.isMonospace&&!Nn,kn.canUseHalfwidthRightwardsArrow,Ve,!1,Ci,On,0,Se,St,Bi,0,kn.spaceWidth,kn.middotWidth,kn.wsmiddotWidth,Sn,Gn,ti,An!==k.n0.OFF,null),oi);if(oi.appendASCIIString("</div>"),this._renderIndicators){const Di=document.createElement("div");Di.className=`delete-sign ${H.kS.asClassName(Pe)}`,Di.setAttribute("style",`position:absolute;top:${He*xn}px;width:${Xn}px;height:${xn}px;right:0;`),Yn.appendChild(Di)}return Si.characterMapping.getAbsoluteOffset(Si.characterMapping.length)}}function dn(Lt,He){return(0,k.NY)(Lt,He,["off","on","inherit"])}function gn(Lt){return Lt.modifiedEndLineNumber>0}function Ht(Lt){return Lt.originalEndLineNumber>0}function lt(){const Lt=document.createElement("div");return Lt.className="diagonal-fill",Lt}function Cn(Lt,He,Ve,Se){const St=Lt.getLineCount();return Ve=Math.min(St,Math.max(1,Ve)),Se=Math.min(St,Math.max(1,Se)),He.coordinatesConverter.convertModelRangeToViewRange(new be.e(Ve,Lt.getLineMinColumn(Ve),Se,Lt.getLineMaxColumn(Se)))}function Ue(Lt,He){return{enableSplitViewResizing:(0,k.O7)(Lt.enableSplitViewResizing,He.enableSplitViewResizing),renderSideBySide:(0,k.O7)(Lt.renderSideBySide,He.renderSideBySide),maxComputationTime:(0,k.Zc)(Lt.maxComputationTime,He.maxComputationTime,0,1073741824),maxFileSize:(0,k.Zc)(Lt.maxFileSize,He.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,k.O7)(Lt.ignoreTrimWhitespace,He.ignoreTrimWhitespace),renderIndicators:(0,k.O7)(Lt.renderIndicators,He.renderIndicators),originalEditable:(0,k.O7)(Lt.originalEditable,He.originalEditable),diffCodeLens:(0,k.O7)(Lt.diffCodeLens,He.diffCodeLens),renderOverviewRuler:(0,k.O7)(Lt.renderOverviewRuler,He.renderOverviewRuler),diffWordWrap:dn(Lt.diffWordWrap,He.diffWordWrap)}}function Pt(Lt,He){return{enableSplitViewResizing:Lt.enableSplitViewResizing!==He.enableSplitViewResizing,renderSideBySide:Lt.renderSideBySide!==He.renderSideBySide,maxComputationTime:Lt.maxComputationTime!==He.maxComputationTime,maxFileSize:Lt.maxFileSize!==He.maxFileSize,ignoreTrimWhitespace:Lt.ignoreTrimWhitespace!==He.ignoreTrimWhitespace,renderIndicators:Lt.renderIndicators!==He.renderIndicators,originalEditable:Lt.originalEditable!==He.originalEditable,diffCodeLens:Lt.diffCodeLens!==He.diffCodeLens,renderOverviewRuler:Lt.renderOverviewRuler!==He.renderOverviewRuler,diffWordWrap:Lt.diffWordWrap!==He.diffWordWrap}}(0,H.Ic)((Lt,He)=>{const Ve=Lt.getColor(V.ypS);Ve&&He.addRule(`.monaco-editor .char-insert, .monaco-diff-editor .char-insert { background-color: ${Ve}; }`);const Se=Lt.getColor(V.hzo)||Ve;Se&&He.addRule(`.monaco-editor .line-insert, .monaco-diff-editor .line-insert { background-color: ${Se}; }`);const St=Lt.getColor(V.j51)||Se;St&&(He.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${St}; }`),He.addRule(`.monaco-editor .gutter-insert, .monaco-diff-editor .gutter-insert { background-color: ${St}; }`));const Jt=Lt.getColor(V.P4M);Jt&&He.addRule(`.monaco-editor .char-delete, .monaco-diff-editor .char-delete { background-color: ${Jt}; }`);const mn=Lt.getColor(V.xi6)||Jt;mn&&He.addRule(`.monaco-editor .line-delete, .monaco-diff-editor .line-delete { background-color: ${mn}; }`);const Mn=Lt.getColor(V.zOm)||mn;Mn&&(He.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${Mn}; }`),He.addRule(`.monaco-editor .gutter-delete, .monaco-diff-editor .gutter-delete { background-color: ${Mn}; }`));const kn=Lt.getColor(V.XL$);kn&&He.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${Lt.type==="hc"?"dashed":"solid"} ${kn}; }`);const Nn=Lt.getColor(V.mHy);Nn&&He.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${Lt.type==="hc"?"dashed":"solid"} ${Nn}; }`);const xn=Lt.getColor(V._wn);xn&&He.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${xn}; }`);const Xn=Lt.getColor(V.LLc);Xn&&He.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${Xn}; }`);const Sn=Lt.getColor(V.etL);Sn&&He.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${Sn};
			}
		`);const Gn=Lt.getColor(V.ABB);Gn&&He.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${Gn};
			}
		`);const ti=Lt.getColor(V.ynu);ti&&He.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${ti};
			}
		`);const An=Lt.getColor(V.L_t);He.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${An} 12.5%,
			#0000 12.5%, #0000 50%,
			${An} 50%, ${An} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)})},24671:function(it,Ee,l){"use strict";l.d(Ee,{F:function(){return A}});var C=l(83158),d=l(60774),z=l(1405),O=l(42893),y=l(50757);const W={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class A extends z.JT{constructor(I,w={}){super(),this._onDidUpdate=this._register(new d.Q5),this._editor=I,this._options=O.jB(w,W,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(_=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(_=>{this.revealFirst=!0})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(I){this.ranges=[],I&&I.forEach(w=>{!this._options.ignoreCharChanges&&w.charChanges?w.charChanges.forEach(_=>{this.ranges.push({rhs:!0,range:new y.e(_.modifiedStartLineNumber,_.modifiedStartColumn,_.modifiedEndLineNumber,_.modifiedEndColumn)})}):w.modifiedEndLineNumber===0?this.ranges.push({rhs:!0,range:new y.e(w.modifiedStartLineNumber,1,w.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new y.e(w.modifiedStartLineNumber,1,w.modifiedEndLineNumber+1,1)})}),this.ranges.sort((w,_)=>y.e.compareRangesUsingStarts(w.range,_.range)),this._onDidUpdate.fire(this)}_initIdx(I){let w=!1;const _=this._editor.getPosition();if(!_){this.nextIdx=0;return}for(let f=0,m=this.ranges.length;f<m&&!w;f++){const a=this.ranges[f].range;_.isBeforeOrEqual(a.getStartPosition())&&(this.nextIdx=f+(I?0:-1),w=!0)}w||(this.nextIdx=I?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(I,w){if(C.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(I):I?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const _=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const f=_.range.getStartPosition();this._editor.setPosition(f),this._editor.revealRangeInCenter(_.range,w)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(I=0){this._move(!0,I)}previous(I=0){this._move(!1,I)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}},27678:function(it,Ee,l){"use strict";l.d(Ee,{OY:function(){return z},Sj:function(){return O},T4:function(){return d},Uo:function(){return y},hP:function(){return W}});var C=l(83141);class d{constructor(M,I,w=!1){this._range=M,this._text=I,this.insertsAutoWhitespace=w}getEditOperations(M,I){I.addTrackedEditOperation(this._range,this._text)}computeCursorState(M,I){const _=I.getInverseEditOperations()[0].range;return C.Y.fromPositions(_.getEndPosition())}}class z{constructor(M,I){this._range=M,this._text=I}getEditOperations(M,I){I.addTrackedEditOperation(this._range,this._text)}computeCursorState(M,I){const _=I.getInverseEditOperations()[0].range;return C.Y.fromRange(_,0)}}class O{constructor(M,I,w=!1){this._range=M,this._text=I,this.insertsAutoWhitespace=w}getEditOperations(M,I){I.addTrackedEditOperation(this._range,this._text)}computeCursorState(M,I){const _=I.getInverseEditOperations()[0].range;return C.Y.fromPositions(_.getStartPosition())}}class y{constructor(M,I,w,_,f=!1){this._range=M,this._text=I,this._columnDeltaOffset=_,this._lineNumberDeltaOffset=w,this.insertsAutoWhitespace=f}getEditOperations(M,I){I.addTrackedEditOperation(this._range,this._text)}computeCursorState(M,I){const _=I.getInverseEditOperations()[0].range;return C.Y.fromPositions(_.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class W{constructor(M,I,w,_=!1){this._range=M,this._text=I,this._initialSelection=w,this._forceMoveMarkers=_,this._selectionId=null}getEditOperations(M,I){I.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=I.trackSelection(this._initialSelection)}computeCursorState(M,I){return I.getTrackedSelection(this._selectionId)}}},2477:function(it,Ee,l){"use strict";l.d(Ee,{U:function(){return M}});var C=l(76311),d=l(22761),z=l(50757),O=l(83141),y=l(34181);const W=Object.create(null);function A(I,w){if(w<=0)return"";W[I]||(W[I]=["",I]);const _=W[I];for(let f=_.length;f<=w;f++)_[f]=_[f-1]+I;return _[w]}class M{constructor(w,_){this._opts=_,this._selection=w,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(w,_,f,m,a){const x=d.i.visibleColumnFromColumn(w,_,f);if(a){const k=A(" ",m),N=d.i.prevIndentTabStop(x,m)/m;return A(k,N)}else{const k="	",N=d.i.prevRenderTabStop(x,f)/f;return A(k,N)}}static shiftIndent(w,_,f,m,a){const x=d.i.visibleColumnFromColumn(w,_,f);if(a){const k=A(" ",m),N=d.i.nextIndentTabStop(x,m)/m;return A(k,N)}else{const k="	",N=d.i.nextRenderTabStop(x,f)/f;return A(k,N)}}_addEditOperation(w,_,f){this._useLastEditRangeForCursorEndPosition?w.addTrackedEditOperation(_,f):w.addEditOperation(_,f)}getEditOperations(w,_){const f=this._selection.startLineNumber;let m=this._selection.endLineNumber;this._selection.endColumn===1&&f!==m&&(m=m-1);const{tabSize:a,indentSize:x,insertSpaces:k}=this._opts,T=f===m;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(w.getLineContent(f))&&(this._useLastEditRangeForCursorEndPosition=!0);let N=0,L=0;for(let R=f;R<=m;R++,N=L){L=0;const b=w.getLineContent(R);let P=C.LC(b);if(this._opts.isUnshift&&(b.length===0||P===0)||!T&&!this._opts.isUnshift&&b.length===0)continue;if(P===-1&&(P=b.length),R>1&&d.i.visibleColumnFromColumn(b,P+1,a)%x!==0&&w.isCheapToTokenize(R-1)){const ee=y.zu.getEnterAction(this._opts.autoIndent,w,new z.e(R-1,w.getLineMaxColumn(R-1),R-1,w.getLineMaxColumn(R-1)));if(ee){if(L=N,ee.appendText)for(let ae=0,me=ee.appendText.length;ae<me&&L<x&&ee.appendText.charCodeAt(ae)===32;ae++)L++;ee.removeText&&(L=Math.max(0,L-ee.removeText));for(let ae=0;ae<L&&!(P===0||b.charCodeAt(P-1)!==32);ae++)P--}}if(this._opts.isUnshift&&P===0)continue;let V;this._opts.isUnshift?V=M.unshiftIndent(b,P+1,a,x,k):V=M.shiftIndent(b,P+1,a,x,k),this._addEditOperation(_,new z.e(R,1,R,P+1),V),R===f&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=P+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&w.getLineLength(f)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const N=k?A(" ",x):"	";for(let L=f;L<=m;L++){const R=w.getLineContent(L);let b=C.LC(R);if(!(this._opts.isUnshift&&(R.length===0||b===0))&&!(!T&&!this._opts.isUnshift&&R.length===0)&&(b===-1&&(b=R.length),!(this._opts.isUnshift&&b===0)))if(this._opts.isUnshift){b=Math.min(b,x);for(let P=0;P<b;P++)if(R.charCodeAt(P)===9){b=P+1;break}this._addEditOperation(_,new z.e(L,1,L,b+1),"")}else this._addEditOperation(_,new z.e(L,1,L,1),N),L===f&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=_.trackSelection(this._selection)}computeCursorState(w,_){if(this._useLastEditRangeForCursorEndPosition){const m=_.getInverseEditOperations()[0];return new O.Y(m.range.endLineNumber,m.range.endColumn,m.range.endLineNumber,m.range.endColumn)}const f=_.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const m=this._selection.startColumn;return f.startColumn<=m?f:f.getDirection()===0?new O.Y(f.startLineNumber,m,f.endLineNumber,f.endColumn):new O.Y(f.endLineNumber,f.endColumn,f.startLineNumber,m)}return f}}},36143:function(it,Ee,l){"use strict";l.d(Ee,{$J:function(){return Ft},Av:function(){return Wt},BH:function(){return ei},Bb:function(){return M},Bc:function(){return nn},LJ:function(){return I},NY:function(){return b},O7:function(){return x},Zc:function(){return T},d2:function(){return ge},gk:function(){return Me},hL:function(){return Le},n0:function(){return j},qt:function(){return Ze},rk:function(){return _},y0:function(){return A}});var C=l(82215),d=l(24180),z=l(62501),O=l(825),y=l(42893),W=l(63891);const A=8;class M{constructor(Ne){this._values=Ne}hasChanged(Ne){return this._values[Ne]}}class I{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class w{constructor(Ne,Fe,ht,Qt){this.id=Ne,this.name=Fe,this.defaultValue=ht,this.schema=Qt}applyUpdate(Ne,Fe){return f(Ne,Fe)}compute(Ne,Fe,ht){return ht}}class _{constructor(Ne,Fe){this.newValue=Ne,this.didChange=Fe}}function f(wn,Ne){if(typeof wn!="object"||typeof Ne!="object"||!wn||!Ne)return new _(Ne,wn!==Ne);if(Array.isArray(wn)||Array.isArray(Ne)){const ht=Array.isArray(wn)&&Array.isArray(Ne)&&O.fS(wn,Ne);return new _(Ne,ht)}let Fe=!1;for(const ht in Ne)if(Ne.hasOwnProperty(ht)){const Qt=f(wn[ht],Ne[ht]);Qt.didChange&&(wn[ht]=Qt.newValue,Fe=!0)}return new _(wn,Fe)}class m{constructor(Ne){this.schema=void 0,this.id=Ne,this.name="_never_",this.defaultValue=void 0}applyUpdate(Ne,Fe){return f(Ne,Fe)}validate(Ne){return this.defaultValue}}class a{constructor(Ne,Fe,ht,Qt){this.id=Ne,this.name=Fe,this.defaultValue=ht,this.schema=Qt}applyUpdate(Ne,Fe){return f(Ne,Fe)}validate(Ne){return typeof Ne=="undefined"?this.defaultValue:Ne}compute(Ne,Fe,ht){return ht}}function x(wn,Ne){return typeof wn=="undefined"?Ne:wn==="false"?!1:Boolean(wn)}class k extends a{constructor(Ne,Fe,ht,Qt=void 0){typeof Qt!="undefined"&&(Qt.type="boolean",Qt.default=ht),super(Ne,Fe,ht,Qt)}validate(Ne){return x(Ne,this.defaultValue)}}function T(wn,Ne,Fe,ht){if(typeof wn=="undefined")return Ne;let Qt=parseInt(wn,10);return isNaN(Qt)?Ne:(Qt=Math.max(Fe,Qt),Qt=Math.min(ht,Qt),Qt|0)}class N extends a{constructor(Ne,Fe,ht,Qt,dn,gn=void 0){typeof gn!="undefined"&&(gn.type="integer",gn.default=ht,gn.minimum=Qt,gn.maximum=dn),super(Ne,Fe,ht,gn),this.minimum=Qt,this.maximum=dn}static clampedInt(Ne,Fe,ht,Qt){return T(Ne,Fe,ht,Qt)}validate(Ne){return N.clampedInt(Ne,this.defaultValue,this.minimum,this.maximum)}}class L extends a{constructor(Ne,Fe,ht,Qt,dn){typeof dn!="undefined"&&(dn.type="number",dn.default=ht),super(Ne,Fe,ht,dn),this.validationFn=Qt}static clamp(Ne,Fe,ht){return Ne<Fe?Fe:Ne>ht?ht:Ne}static float(Ne,Fe){if(typeof Ne=="number")return Ne;if(typeof Ne=="undefined")return Fe;const ht=parseFloat(Ne);return isNaN(ht)?Fe:ht}validate(Ne){return this.validationFn(L.float(Ne,this.defaultValue))}}class R extends a{static string(Ne,Fe){return typeof Ne!="string"?Fe:Ne}constructor(Ne,Fe,ht,Qt=void 0){typeof Qt!="undefined"&&(Qt.type="string",Qt.default=ht),super(Ne,Fe,ht,Qt)}validate(Ne){return R.string(Ne,this.defaultValue)}}function b(wn,Ne,Fe){return typeof wn!="string"||Fe.indexOf(wn)===-1?Ne:wn}class P extends a{constructor(Ne,Fe,ht,Qt,dn=void 0){typeof dn!="undefined"&&(dn.type="string",dn.enum=Qt,dn.default=ht),super(Ne,Fe,ht,dn),this._allowedValues=Qt}validate(Ne){return b(Ne,this.defaultValue,this._allowedValues)}}class V extends w{constructor(Ne,Fe,ht,Qt,dn,gn,Ht=void 0){typeof Ht!="undefined"&&(Ht.type="string",Ht.enum=dn,Ht.default=Qt),super(Ne,Fe,ht,Ht),this._allowedValues=dn,this._convert=gn}validate(Ne){return typeof Ne!="string"?this.defaultValue:this._allowedValues.indexOf(Ne)===-1?this.defaultValue:this._convert(Ne)}}function H(wn){switch(wn){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class ee extends w{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[C.N("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),C.N("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),C.N("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:C.N("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(Ne){switch(Ne){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(Ne,Fe,ht){return ht===0?Ne.accessibilitySupport:ht}}class ae extends w{constructor(){const Ne={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",Ne,{"editor.comments.insertSpace":{type:"boolean",default:Ne.insertSpace,description:C.N("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:Ne.ignoreEmptyLines,description:C.N("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(Ne){if(!Ne||typeof Ne!="object")return this.defaultValue;const Fe=Ne;return{insertSpace:x(Fe.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:x(Fe.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function me(wn){switch(wn){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var ge;(function(wn){wn[wn.Line=1]="Line",wn[wn.Block=2]="Block",wn[wn.Underline=3]="Underline",wn[wn.LineThin=4]="LineThin",wn[wn.BlockOutline=5]="BlockOutline",wn[wn.UnderlineThin=6]="UnderlineThin"})(ge||(ge={}));function re(wn){switch(wn){case"line":return ge.Line;case"block":return ge.Block;case"underline":return ge.Underline;case"line-thin":return ge.LineThin;case"block-outline":return ge.BlockOutline;case"underline-thin":return ge.UnderlineThin}}class se extends m{constructor(){super(128)}compute(Ne,Fe,ht){const Qt=["monaco-editor"];return Fe.get(33)&&Qt.push(Fe.get(33)),Ne.extraEditorClassName&&Qt.push(Ne.extraEditorClassName),Fe.get(66)==="default"?Qt.push("mouse-default"):Fe.get(66)==="copy"&&Qt.push("mouse-copy"),Fe.get(100)&&Qt.push("showUnused"),Fe.get(126)&&Qt.push("showDeprecated"),Qt.join(" ")}}class X extends k{constructor(){super(32,"emptySelectionClipboard",!0,{description:C.N("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(Ne,Fe,ht){return ht&&Ne.emptySelectionClipboard}}class $ extends w{constructor(){const Ne={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(35,"find",Ne,{"editor.find.cursorMoveOnType":{type:"boolean",default:Ne.cursorMoveOnType,description:C.N("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:Ne.seedSearchStringFromSelection,enumDescriptions:[C.N("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),C.N("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),C.N("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:C.N("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:Ne.autoFindInSelection,enumDescriptions:[C.N("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),C.N("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),C.N("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:C.N("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:Ne.globalFindClipboard,description:C.N("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:d.dz},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:Ne.addExtraSpaceOnTop,description:C.N("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:Ne.loop,description:C.N("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(Ne){if(!Ne||typeof Ne!="object")return this.defaultValue;const Fe=Ne;return{cursorMoveOnType:x(Fe.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof Ne.seedSearchStringFromSelection=="boolean"?Ne.seedSearchStringFromSelection?"always":"never":b(Fe.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof Ne.autoFindInSelection=="boolean"?Ne.autoFindInSelection?"always":"never":b(Fe.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:x(Fe.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:x(Fe.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:x(Fe.loop,this.defaultValue.loop)}}}class j extends w{constructor(){super(45,"fontLigatures",j.OFF,{anyOf:[{type:"boolean",description:C.N("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:C.N("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:C.N("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(Ne){return typeof Ne=="undefined"?this.defaultValue:typeof Ne=="string"?Ne==="false"?j.OFF:Ne==="true"?j.ON:Ne:Boolean(Ne)?j.ON:j.OFF}}j.OFF='"liga" off, "calt" off',j.ON='"liga" on, "calt" on';class ie extends m{constructor(){super(44)}compute(Ne,Fe,ht){return Ne.fontInfo}}class J extends a{constructor(){super(46,"fontSize",Le.fontSize,{type:"number",minimum:6,maximum:100,default:Le.fontSize,description:C.N("fontSize","Controls the font size in pixels.")})}validate(Ne){const Fe=L.float(Ne,this.defaultValue);return Fe===0?Le.fontSize:L.clamp(Fe,6,100)}compute(Ne,Fe,ht){return Ne.fontInfo.fontSize}}class oe extends w{constructor(){super(47,"fontWeight",Le.fontWeight,{anyOf:[{type:"number",minimum:oe.MINIMUM_VALUE,maximum:oe.MAXIMUM_VALUE,errorMessage:C.N("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:oe.SUGGESTION_VALUES}],default:Le.fontWeight,description:C.N("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(Ne){return Ne==="normal"||Ne==="bold"?Ne:String(N.clampedInt(Ne,Le.fontWeight,oe.MINIMUM_VALUE,oe.MAXIMUM_VALUE))}}oe.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],oe.MINIMUM_VALUE=1,oe.MAXIMUM_VALUE=1e3;class ce extends w{constructor(){const Ne={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},Fe={type:"string",enum:["peek","gotoAndPeek","goto"],default:Ne.multiple,enumDescriptions:[C.N("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),C.N("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),C.N("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},ht=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(51,"gotoLocation",Ne,{"editor.gotoLocation.multiple":{deprecationMessage:C.N("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:C.N("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},Fe),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:C.N("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},Fe),"editor.gotoLocation.multipleDeclarations":Object.assign({description:C.N("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},Fe),"editor.gotoLocation.multipleImplementations":Object.assign({description:C.N("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},Fe),"editor.gotoLocation.multipleReferences":Object.assign({description:C.N("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},Fe),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:Ne.alternativeDefinitionCommand,enum:ht,description:C.N("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:Ne.alternativeTypeDefinitionCommand,enum:ht,description:C.N("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:Ne.alternativeDeclarationCommand,enum:ht,description:C.N("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:Ne.alternativeImplementationCommand,enum:ht,description:C.N("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:Ne.alternativeReferenceCommand,enum:ht,description:C.N("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(Ne){var Fe,ht,Qt,dn,gn;if(!Ne||typeof Ne!="object")return this.defaultValue;const Ht=Ne;return{multiple:b(Ht.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(Fe=Ht.multipleDefinitions)!==null&&Fe!==void 0?Fe:b(Ht.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(ht=Ht.multipleTypeDefinitions)!==null&&ht!==void 0?ht:b(Ht.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(Qt=Ht.multipleDeclarations)!==null&&Qt!==void 0?Qt:b(Ht.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(dn=Ht.multipleImplementations)!==null&&dn!==void 0?dn:b(Ht.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(gn=Ht.multipleReferences)!==null&&gn!==void 0?gn:b(Ht.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:R.string(Ht.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:R.string(Ht.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:R.string(Ht.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:R.string(Ht.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:R.string(Ht.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class we extends w{constructor(){const Ne={enabled:!0,delay:300,sticky:!0,above:!0};super(53,"hover",Ne,{"editor.hover.enabled":{type:"boolean",default:Ne.enabled,description:C.N("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:Ne.delay,minimum:0,maximum:1e4,description:C.N("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:Ne.sticky,description:C.N("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:Ne.above,description:C.N("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(Ne){if(!Ne||typeof Ne!="object")return this.defaultValue;const Fe=Ne;return{enabled:x(Fe.enabled,this.defaultValue.enabled),delay:N.clampedInt(Fe.delay,this.defaultValue.delay,0,1e4),sticky:x(Fe.sticky,this.defaultValue.sticky),above:x(Fe.above,this.defaultValue.above)}}}class Me extends m{constructor(){super(131)}compute(Ne,Fe,ht){return Me.computeLayout(Fe,{memory:Ne.memory,outerWidth:Ne.outerWidth,outerHeight:Ne.outerHeight,isDominatedByLongLines:Ne.isDominatedByLongLines,lineHeight:Ne.fontInfo.lineHeight,viewLineCount:Ne.viewLineCount,lineNumbersDigitCount:Ne.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:Ne.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:Ne.fontInfo.maxDigitWidth,pixelRatio:Ne.pixelRatio})}static computeContainedMinimapLineCount(Ne){const Fe=Ne.height/Ne.lineHeight,ht=Ne.scrollBeyondLastLine?Fe-1:0,Qt=(Ne.viewLineCount+ht)/(Ne.pixelRatio*Ne.height),dn=Math.floor(Ne.viewLineCount/Qt);return{typicalViewportLineCount:Fe,extraLinesBeyondLastLine:ht,desiredRatio:Qt,minimapLineCount:dn}}static _computeMinimapLayout(Ne,Fe){const ht=Ne.outerWidth,Qt=Ne.outerHeight,dn=Ne.pixelRatio;if(!Ne.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(dn*Qt),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:Qt};const gn=Fe.stableMinimapLayoutInput,Ht=gn&&Ne.outerHeight===gn.outerHeight&&Ne.lineHeight===gn.lineHeight&&Ne.typicalHalfwidthCharacterWidth===gn.typicalHalfwidthCharacterWidth&&Ne.pixelRatio===gn.pixelRatio&&Ne.scrollBeyondLastLine===gn.scrollBeyondLastLine&&Ne.minimap.enabled===gn.minimap.enabled&&Ne.minimap.side===gn.minimap.side&&Ne.minimap.size===gn.minimap.size&&Ne.minimap.showSlider===gn.minimap.showSlider&&Ne.minimap.renderCharacters===gn.minimap.renderCharacters&&Ne.minimap.maxColumn===gn.minimap.maxColumn&&Ne.minimap.scale===gn.minimap.scale&&Ne.verticalScrollbarWidth===gn.verticalScrollbarWidth&&Ne.isViewportWrapping===gn.isViewportWrapping,lt=Ne.lineHeight,Cn=Ne.typicalHalfwidthCharacterWidth,Ue=Ne.scrollBeyondLastLine,Pt=Ne.minimap.renderCharacters;let Lt=dn>=2?Math.round(Ne.minimap.scale*2):Ne.minimap.scale;const He=Ne.minimap.maxColumn,Ve=Ne.minimap.size,Se=Ne.minimap.side,St=Ne.verticalScrollbarWidth,Jt=Ne.viewLineCount,mn=Ne.remainingWidth,Mn=Ne.isViewportWrapping,kn=Pt?2:3;let Nn=Math.floor(dn*Qt);const xn=Nn/dn;let Xn=!1,Sn=!1,Gn=kn*Lt,ti=Lt/dn,An=1;if(Ve==="fill"||Ve==="fit"){const{typicalViewportLineCount:Di,extraLinesBeyondLastLine:ni,desiredRatio:Kn,minimapLineCount:Pi}=Me.computeContainedMinimapLineCount({viewLineCount:Jt,scrollBeyondLastLine:Ue,height:Qt,lineHeight:lt,pixelRatio:dn});if(Jt/Pi>1)Xn=!0,Sn=!0,Lt=1,Gn=1,ti=Lt/dn;else{let Oi=!1,_i=Lt+1;if(Ve==="fit"){const Ye=Math.ceil((Jt+ni)*Gn);Mn&&Ht&&mn<=Fe.stableFitRemainingWidth?(Oi=!0,_i=Fe.stableFitMaxMinimapScale):Oi=Ye>Nn}if(Ve==="fill"||Oi){Xn=!0;const Ye=Lt;Gn=Math.min(lt*dn,Math.max(1,Math.floor(1/Kn))),Mn&&Ht&&mn<=Fe.stableFitRemainingWidth&&(_i=Fe.stableFitMaxMinimapScale),Lt=Math.min(_i,Math.max(1,Math.floor(Gn/kn))),Lt>Ye&&(An=Math.min(2,Lt/Ye)),ti=Lt/dn/An,Nn=Math.ceil(Math.max(Di,Jt+ni)*Gn),Mn?(Fe.stableMinimapLayoutInput=Ne,Fe.stableFitRemainingWidth=mn,Fe.stableFitMaxMinimapScale=Lt):(Fe.stableMinimapLayoutInput=null,Fe.stableFitRemainingWidth=0)}}}const Bi=Math.floor(He*ti),oi=Math.min(Bi,Math.max(0,Math.floor((mn-St-2)*ti/(Cn+ti)))+A);let Yn=Math.floor(dn*oi);const Ci=Yn/dn;Yn=Math.floor(Yn*An);const On=Pt?1:2,Si=Se==="left"?0:ht-oi-St;return{renderMinimap:On,minimapLeft:Si,minimapWidth:oi,minimapHeightIsEditorHeight:Xn,minimapIsSampling:Sn,minimapScale:Lt,minimapLineHeight:Gn,minimapCanvasInnerWidth:Yn,minimapCanvasInnerHeight:Nn,minimapCanvasOuterWidth:Ci,minimapCanvasOuterHeight:xn}}static computeLayout(Ne,Fe){const ht=Fe.outerWidth|0,Qt=Fe.outerHeight|0,dn=Fe.lineHeight|0,gn=Fe.lineNumbersDigitCount|0,Ht=Fe.typicalHalfwidthCharacterWidth,lt=Fe.maxDigitWidth,Cn=Fe.pixelRatio,Ue=Fe.viewLineCount,Pt=Ne.get(123),Lt=Pt==="inherit"?Ne.get(122):Pt,He=Lt==="inherit"?Ne.get(118):Lt,Ve=Ne.get(121),Se=Ne.get(2),St=Fe.isDominatedByLongLines,Jt=Ne.get(50),mn=Ne.get(60).renderType!==0,Mn=Ne.get(61),kn=Ne.get(94),Nn=Ne.get(65),xn=Ne.get(92),Xn=xn.verticalScrollbarSize,Sn=xn.verticalHasArrows,Gn=xn.arrowSize,ti=xn.horizontalScrollbarSize,An=Ne.get(58),Bi=Ne.get(37);let oi;if(typeof An=="string"&&/^\d+(\.\d+)?ch$/.test(An)){const on=parseFloat(An.substr(0,An.length-2));oi=N.clampedInt(on*Ht,0,0,1e3)}else oi=N.clampedInt(An,0,0,1e3);Bi&&(oi+=16);let Yn=0;if(mn){const on=Math.max(gn,Mn);Yn=Math.round(on*lt)}let Ci=0;Jt&&(Ci=dn);let On=0,Si=On+Ci,Di=Si+Yn,ni=Di+oi;const Kn=ht-Ci-Yn-oi;let Pi=!1,Vi=!1,Oi=-1;Se!==2&&(Lt==="inherit"&&St?(Pi=!0,Vi=!0):He==="on"||He==="bounded"?Vi=!0:He==="wordWrapColumn"&&(Oi=Ve));const _i=Me._computeMinimapLayout({outerWidth:ht,outerHeight:Qt,lineHeight:dn,typicalHalfwidthCharacterWidth:Ht,pixelRatio:Cn,scrollBeyondLastLine:kn,minimap:Nn,verticalScrollbarWidth:Xn,viewLineCount:Ue,remainingWidth:Kn,isViewportWrapping:Vi},Fe.memory||new I);_i.renderMinimap!==0&&_i.minimapLeft===0&&(On+=_i.minimapWidth,Si+=_i.minimapWidth,Di+=_i.minimapWidth,ni+=_i.minimapWidth);const Ye=Kn-_i.minimapWidth,It=Math.max(1,Math.floor((Ye-Xn-2)/Ht)),cn=Sn?Gn:0;return Vi&&(Oi=Math.max(1,It),He==="bounded"&&(Oi=Math.min(Oi,Ve))),{width:ht,height:Qt,glyphMarginLeft:On,glyphMarginWidth:Ci,lineNumbersLeft:Si,lineNumbersWidth:Yn,decorationsLeft:Di,decorationsWidth:oi,contentLeft:ni,contentWidth:Ye,minimap:_i,viewportColumn:It,isWordWrapMinified:Pi,isViewportWrapping:Vi,wrappingColumn:Oi,verticalScrollbarWidth:Xn,horizontalScrollbarHeight:ti,overviewRuler:{top:cn,width:Xn,height:Qt-2*cn,right:0}}}}class Ke extends w{constructor(){const Ne={enabled:!0};super(57,"lightbulb",Ne,{"editor.lightbulb.enabled":{type:"boolean",default:Ne.enabled,description:C.N("codeActions","Enables the code action lightbulb in the editor.")}})}validate(Ne){return!Ne||typeof Ne!="object"?this.defaultValue:{enabled:x(Ne.enabled,this.defaultValue.enabled)}}}class De extends w{constructor(){const Ne={enabled:!0,fontSize:0,fontFamily:""};super(127,"inlayHints",Ne,{"editor.inlayHints.enabled":{type:"boolean",default:Ne.enabled,description:C.N("inlayHints.enable","Enables the inlay hints in the editor.")},"editor.inlayHints.fontSize":{type:"number",default:Ne.fontSize,markdownDescription:C.N("inlayHints.fontSize","Controls font size of inlay hints in the editor. A default of 90% of `#editor.fontSize#` is used when the configured value is less than `5` or greater than the editor font size.")},"editor.inlayHints.fontFamily":{type:"string",default:Ne.fontFamily,markdownDescription:C.N("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the `#editor.fontFamily#` is used.")}})}validate(Ne){if(!Ne||typeof Ne!="object")return this.defaultValue;const Fe=Ne;return{enabled:x(Fe.enabled,this.defaultValue.enabled),fontSize:N.clampedInt(Fe.fontSize,this.defaultValue.fontSize,0,100),fontFamily:R.string(Fe.fontFamily,this.defaultValue.fontFamily)}}}class be extends L{constructor(){super(59,"lineHeight",Le.lineHeight,Ne=>L.clamp(Ne,0,150),{markdownDescription:C.N("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(Ne,Fe,ht){return Ne.fontInfo.lineHeight}}class We extends w{constructor(){const Ne={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(65,"minimap",Ne,{"editor.minimap.enabled":{type:"boolean",default:Ne.enabled,description:C.N("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[C.N("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),C.N("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),C.N("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:Ne.size,description:C.N("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:Ne.side,description:C.N("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:Ne.showSlider,description:C.N("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:Ne.scale,minimum:1,maximum:3,enum:[1,2,3],description:C.N("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:Ne.renderCharacters,description:C.N("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:Ne.maxColumn,description:C.N("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(Ne){if(!Ne||typeof Ne!="object")return this.defaultValue;const Fe=Ne;return{enabled:x(Fe.enabled,this.defaultValue.enabled),size:b(Fe.size,this.defaultValue.size,["proportional","fill","fit"]),side:b(Fe.side,this.defaultValue.side,["right","left"]),showSlider:b(Fe.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:x(Fe.renderCharacters,this.defaultValue.renderCharacters),scale:N.clampedInt(Fe.scale,1,1,3),maxColumn:N.clampedInt(Fe.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function et(wn){return wn==="ctrlCmd"?d.dz?"metaKey":"ctrlKey":"altKey"}class Kt extends w{constructor(){super(75,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:C.N("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:C.N("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(Ne){if(!Ne||typeof Ne!="object")return this.defaultValue;const Fe=Ne;return{top:N.clampedInt(Fe.top,0,0,1e3),bottom:N.clampedInt(Fe.bottom,0,0,1e3)}}}class _t extends w{constructor(){const Ne={enabled:!0,cycle:!1};super(76,"parameterHints",Ne,{"editor.parameterHints.enabled":{type:"boolean",default:Ne.enabled,description:C.N("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:Ne.cycle,description:C.N("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(Ne){if(!Ne||typeof Ne!="object")return this.defaultValue;const Fe=Ne;return{enabled:x(Fe.enabled,this.defaultValue.enabled),cycle:x(Fe.cycle,this.defaultValue.cycle)}}}class tt extends m{constructor(){super(129)}compute(Ne,Fe,ht){return Ne.pixelRatio}}class kt extends w{constructor(){const Ne={other:!0,comments:!1,strings:!1};super(79,"quickSuggestions",Ne,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:Ne.strings,description:C.N("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{type:"boolean",default:Ne.comments,description:C.N("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{type:"boolean",default:Ne.other,description:C.N("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}}}],default:Ne,description:C.N("quickSuggestions","Controls whether suggestions should automatically show up while typing.")}),this.defaultValue=Ne}validate(Ne){if(typeof Ne=="boolean")return Ne;if(Ne&&typeof Ne=="object"){const Fe=Ne,ht={other:x(Fe.other,this.defaultValue.other),comments:x(Fe.comments,this.defaultValue.comments),strings:x(Fe.strings,this.defaultValue.strings)};return ht.other&&ht.comments&&ht.strings?!0:!ht.other&&!ht.comments&&!ht.strings?!1:ht}return this.defaultValue}}class Ut extends w{constructor(){super(60,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[C.N("lineNumbers.off","Line numbers are not rendered."),C.N("lineNumbers.on","Line numbers are rendered as absolute number."),C.N("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),C.N("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:C.N("lineNumbers","Controls the display of line numbers.")})}validate(Ne){let Fe=this.defaultValue.renderType,ht=this.defaultValue.renderFn;return typeof Ne!="undefined"&&(typeof Ne=="function"?(Fe=4,ht=Ne):Ne==="interval"?Fe=3:Ne==="relative"?Fe=2:Ne==="on"?Fe=1:Fe=0),{renderType:Fe,renderFn:ht}}}function Ft(wn){const Ne=wn.get(87);return Ne==="editable"?wn.get(81):Ne!=="on"}class Te extends w{constructor(){const Ne=[],Fe={type:"number",description:C.N("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(91,"rulers",Ne,{type:"array",items:{anyOf:[Fe,{type:["object"],properties:{column:Fe,color:{type:"string",description:C.N("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:Ne,description:C.N("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(Ne){if(Array.isArray(Ne)){const Fe=[];for(let ht of Ne)if(typeof ht=="number")Fe.push({column:N.clampedInt(ht,0,0,1e4),color:null});else if(ht&&typeof ht=="object"){const Qt=ht;Fe.push({column:N.clampedInt(Qt.column,0,0,1e4),color:Qt.color})}return Fe.sort((ht,Qt)=>ht.column-Qt.column),Fe}return this.defaultValue}}function Ge(wn,Ne){if(typeof wn!="string")return Ne;switch(wn){case"hidden":return 2;case"visible":return 3;default:return 1}}class Et extends w{constructor(){const Ne={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(92,"scrollbar",Ne,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[C.N("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),C.N("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),C.N("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:C.N("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[C.N("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),C.N("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),C.N("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:C.N("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:Ne.verticalScrollbarSize,description:C.N("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:Ne.horizontalScrollbarSize,description:C.N("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:Ne.scrollByPage,description:C.N("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(Ne){if(!Ne||typeof Ne!="object")return this.defaultValue;const Fe=Ne,ht=N.clampedInt(Fe.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),Qt=N.clampedInt(Fe.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:N.clampedInt(Fe.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:Ge(Fe.vertical,this.defaultValue.vertical),horizontal:Ge(Fe.horizontal,this.defaultValue.horizontal),useShadows:x(Fe.useShadows,this.defaultValue.useShadows),verticalHasArrows:x(Fe.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:x(Fe.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:x(Fe.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:x(Fe.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:ht,horizontalSliderSize:N.clampedInt(Fe.horizontalSliderSize,ht,0,1e3),verticalScrollbarSize:Qt,verticalSliderSize:N.clampedInt(Fe.verticalSliderSize,Qt,0,1e3),scrollByPage:x(Fe.scrollByPage,this.defaultValue.scrollByPage)}}}const Wt="inUntrustedWorkspace",Ze={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class xe extends w{constructor(){const Ne={nonBasicASCII:Wt,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:Wt,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(113,"unicodeHighlight",Ne,{[Ze.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Wt],default:Ne.nonBasicASCII,description:C.N("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[Ze.invisibleCharacters]:{restricted:!0,type:"boolean",default:Ne.invisibleCharacters,description:C.N("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[Ze.ambiguousCharacters]:{restricted:!0,type:"boolean",default:Ne.ambiguousCharacters,description:C.N("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[Ze.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Wt],default:Ne.includeComments,description:C.N("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to unicode highlighting.")},[Ze.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Wt],default:Ne.includeStrings,description:C.N("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to unicode highlighting.")},[Ze.allowedCharacters]:{restricted:!0,type:"object",default:Ne.allowedCharacters,description:C.N("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[Ze.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:Ne.allowedLocales,description:C.N("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(Ne,Fe){let ht=!1;Fe.allowedCharacters&&(y.fS(Ne.allowedCharacters,Fe.allowedCharacters)||(Ne=Object.assign(Object.assign({},Ne),{allowedCharacters:Fe.allowedCharacters}),ht=!0)),Fe.allowedLocales&&(y.fS(Ne.allowedLocales,Fe.allowedLocales)||(Ne=Object.assign(Object.assign({},Ne),{allowedLocales:Fe.allowedLocales}),ht=!0));const Qt=super.applyUpdate(Ne,Fe);return ht?new _(Qt.newValue,!0):Qt}validate(Ne){if(!Ne||typeof Ne!="object")return this.defaultValue;const Fe=Ne;return{nonBasicASCII:Tt(Fe.nonBasicASCII,Wt,[!0,!1,Wt]),invisibleCharacters:x(Fe.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:x(Fe.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:Tt(Fe.includeComments,Wt,[!0,!1,Wt]),includeStrings:Tt(Fe.includeStrings,Wt,[!0,!1,Wt]),allowedCharacters:this.validateBooleanMap(Ne.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(Ne.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(Ne,Fe){if(typeof Ne!="object"||!Ne)return Fe;const ht={};for(const[Qt,dn]of Object.entries(Ne))dn===!0&&(ht[Qt]=!0);return ht}}class ve extends w{constructor(){const Ne={enabled:!0,mode:"subwordSmart"};super(55,"inlineSuggest",Ne,{"editor.inlineSuggest.enabled":{type:"boolean",default:Ne.enabled,description:C.N("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")}})}validate(Ne){if(!Ne||typeof Ne!="object")return this.defaultValue;const Fe=Ne;return{enabled:x(Fe.enabled,this.defaultValue.enabled),mode:b(Fe.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}class $e extends w{constructor(){const Ne={enabled:W.D.bracketPairColorizationOptions.enabled};super(12,"bracketPairColorization",Ne,{"editor.bracketPairColorization.enabled":{type:"boolean",default:Ne.enabled,description:C.N("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use 'workbench.colorCustomizations' to override the bracket highlight colors.")}})}validate(Ne){return!Ne||typeof Ne!="object"?this.defaultValue:{enabled:x(Ne.enabled,this.defaultValue.enabled)}}}class at extends w{constructor(){const Ne={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",Ne,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[C.N("editor.guides.bracketPairs.true","Enables bracket pair guides."),C.N("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),C.N("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:Ne.bracketPairs,description:C.N("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[C.N("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),C.N("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),C.N("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:Ne.bracketPairsHorizontal,description:C.N("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:Ne.highlightActiveBracketPair,description:C.N("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:Ne.indentation,description:C.N("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:"boolean",default:Ne.highlightActiveIndentation,description:C.N("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(Ne){if(!Ne||typeof Ne!="object")return this.defaultValue;const Fe=Ne;return{bracketPairs:Tt(Fe.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:Tt(Fe.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:x(Fe.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:x(Fe.indentation,this.defaultValue.indentation),highlightActiveIndentation:x(Fe.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation)}}}function Tt(wn,Ne,Fe){const ht=Fe.indexOf(wn);return ht===-1?Ne:Fe[ht]}class Mt extends w{constructor(){const Ne={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(106,"suggest",Ne,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[C.N("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),C.N("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:Ne.insertMode,description:C.N("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:Ne.filterGraceful,description:C.N("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:Ne.localityBonus,description:C.N("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:Ne.shareSuggestSelections,markdownDescription:C.N("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:Ne.snippetsPreventQuickSuggestions,description:C.N("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:Ne.showIcons,description:C.N("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:Ne.showStatusBar,description:C.N("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:Ne.preview,description:C.N("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:Ne.showInlineDetails,description:C.N("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:C.N("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:C.N("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:C.N("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:C.N("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:C.N("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:C.N("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:C.N("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:C.N("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:C.N("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:C.N("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:C.N("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:C.N("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:C.N("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:C.N("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:C.N("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:C.N("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:C.N("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:C.N("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:C.N("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:C.N("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:C.N("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:C.N("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:C.N("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:C.N("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:C.N("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:C.N("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:C.N("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:C.N("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:C.N("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:C.N("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:C.N("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(Ne){if(!Ne||typeof Ne!="object")return this.defaultValue;const Fe=Ne;return{insertMode:b(Fe.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:x(Fe.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:x(Fe.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:x(Fe.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:x(Fe.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:x(Fe.showIcons,this.defaultValue.showIcons),showStatusBar:x(Fe.showStatusBar,this.defaultValue.showStatusBar),preview:x(Fe.preview,this.defaultValue.preview),previewMode:b(Fe.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:x(Fe.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:x(Fe.showMethods,this.defaultValue.showMethods),showFunctions:x(Fe.showFunctions,this.defaultValue.showFunctions),showConstructors:x(Fe.showConstructors,this.defaultValue.showConstructors),showDeprecated:x(Fe.showDeprecated,this.defaultValue.showDeprecated),showFields:x(Fe.showFields,this.defaultValue.showFields),showVariables:x(Fe.showVariables,this.defaultValue.showVariables),showClasses:x(Fe.showClasses,this.defaultValue.showClasses),showStructs:x(Fe.showStructs,this.defaultValue.showStructs),showInterfaces:x(Fe.showInterfaces,this.defaultValue.showInterfaces),showModules:x(Fe.showModules,this.defaultValue.showModules),showProperties:x(Fe.showProperties,this.defaultValue.showProperties),showEvents:x(Fe.showEvents,this.defaultValue.showEvents),showOperators:x(Fe.showOperators,this.defaultValue.showOperators),showUnits:x(Fe.showUnits,this.defaultValue.showUnits),showValues:x(Fe.showValues,this.defaultValue.showValues),showConstants:x(Fe.showConstants,this.defaultValue.showConstants),showEnums:x(Fe.showEnums,this.defaultValue.showEnums),showEnumMembers:x(Fe.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:x(Fe.showKeywords,this.defaultValue.showKeywords),showWords:x(Fe.showWords,this.defaultValue.showWords),showColors:x(Fe.showColors,this.defaultValue.showColors),showFiles:x(Fe.showFiles,this.defaultValue.showFiles),showReferences:x(Fe.showReferences,this.defaultValue.showReferences),showFolders:x(Fe.showFolders,this.defaultValue.showFolders),showTypeParameters:x(Fe.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:x(Fe.showSnippets,this.defaultValue.showSnippets),showUsers:x(Fe.showUsers,this.defaultValue.showUsers),showIssues:x(Fe.showIssues,this.defaultValue.showIssues)}}}class gt extends w{constructor(){super(102,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:C.N("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(Ne){return!Ne||typeof Ne!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:x(Ne.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class Rt extends m{constructor(){super(130)}compute(Ne,Fe,ht){return Fe.get(81)?!0:Ne.tabFocusMode}}function Zt(wn){switch(wn){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class hn extends m{constructor(){super(132)}compute(Ne,Fe,ht){const Qt=Fe.get(131);return{isDominatedByLongLines:Ne.isDominatedByLongLines,isWordWrapMinified:Qt.isWordWrapMinified,isViewportWrapping:Qt.isViewportWrapping,wrappingColumn:Qt.wrappingColumn}}}const Pe="Consolas, 'Courier New', monospace",en="Menlo, Monaco, 'Courier New', monospace",vt="'Droid Sans Mono', 'monospace', monospace",Le={fontFamily:d.dz?en:d.IJ?vt:Pe,fontWeight:"normal",fontSize:d.dz?12:14,lineHeight:0,letterSpacing:0},nn=[];function sn(wn){return nn[wn.id]=wn,wn}const ei={acceptSuggestionOnCommitCharacter:sn(new k(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:C.N("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:sn(new P(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",C.N("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:C.N("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:sn(new ee),accessibilityPageSize:sn(new N(3,"accessibilityPageSize",10,1,1073741824,{description:C.N("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:sn(new R(4,"ariaLabel",C.N("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:sn(new P(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",C.N("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),C.N("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:C.N("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:sn(new P(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",C.N("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:C.N("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:sn(new P(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",C.N("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:C.N("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:sn(new P(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",C.N("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),C.N("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:C.N("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:sn(new V(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],H,{enumDescriptions:[C.N("editor.autoIndent.none","The editor will not insert indentation automatically."),C.N("editor.autoIndent.keep","The editor will keep the current line's indentation."),C.N("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),C.N("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),C.N("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:C.N("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:sn(new k(10,"automaticLayout",!1)),autoSurround:sn(new P(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[C.N("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),C.N("editor.autoSurround.quotes","Surround with quotes but not brackets."),C.N("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:C.N("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:sn(new $e),bracketPairGuides:sn(new at),stickyTabStops:sn(new k(104,"stickyTabStops",!1,{description:C.N("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:sn(new k(14,"codeLens",!0,{description:C.N("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:sn(new R(15,"codeLensFontFamily","",{description:C.N("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:sn(new N(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:C.N("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to `0`, 90% of `#editor.fontSize#` is used.")})),colorDecorators:sn(new k(17,"colorDecorators",!0,{description:C.N("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:sn(new k(18,"columnSelection",!1,{description:C.N("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:sn(new ae),contextmenu:sn(new k(20,"contextmenu",!0)),copyWithSyntaxHighlighting:sn(new k(21,"copyWithSyntaxHighlighting",!0,{description:C.N("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:sn(new V(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],me,{description:C.N("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:sn(new k(23,"cursorSmoothCaretAnimation",!1,{description:C.N("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:sn(new V(24,"cursorStyle",ge.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],re,{description:C.N("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:sn(new N(25,"cursorSurroundingLines",0,0,1073741824,{description:C.N("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:sn(new P(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[C.N("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),C.N("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:C.N("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:sn(new N(27,"cursorWidth",0,0,1073741824,{markdownDescription:C.N("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:sn(new k(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:sn(new k(29,"disableMonospaceOptimizations",!1)),domReadOnly:sn(new k(30,"domReadOnly",!1)),dragAndDrop:sn(new k(31,"dragAndDrop",!0,{description:C.N("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:sn(new X),extraEditorClassName:sn(new R(33,"extraEditorClassName","")),fastScrollSensitivity:sn(new L(34,"fastScrollSensitivity",5,wn=>wn<=0?5:wn,{markdownDescription:C.N("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:sn(new $),fixedOverflowWidgets:sn(new k(36,"fixedOverflowWidgets",!1)),folding:sn(new k(37,"folding",!0,{description:C.N("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:sn(new P(38,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[C.N("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),C.N("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:C.N("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:sn(new k(39,"foldingHighlight",!0,{description:C.N("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:sn(new k(40,"foldingImportsByDefault",!1,{description:C.N("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:sn(new N(41,"foldingMaximumRegions",5e3,10,65e3,{description:C.N("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:sn(new k(42,"unfoldOnClickAfterEndOfLine",!1,{description:C.N("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:sn(new R(43,"fontFamily",Le.fontFamily,{description:C.N("fontFamily","Controls the font family.")})),fontInfo:sn(new ie),fontLigatures2:sn(new j),fontSize:sn(new J),fontWeight:sn(new oe),formatOnPaste:sn(new k(48,"formatOnPaste",!1,{description:C.N("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:sn(new k(49,"formatOnType",!1,{description:C.N("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:sn(new k(50,"glyphMargin",!0,{description:C.N("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:sn(new ce),hideCursorInOverviewRuler:sn(new k(52,"hideCursorInOverviewRuler",!1,{description:C.N("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:sn(new we),inDiffEditor:sn(new k(54,"inDiffEditor",!1)),letterSpacing:sn(new L(56,"letterSpacing",Le.letterSpacing,wn=>L.clamp(wn,-5,20),{description:C.N("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:sn(new Ke),lineDecorationsWidth:sn(new a(58,"lineDecorationsWidth",10)),lineHeight:sn(new be),lineNumbers:sn(new Ut),lineNumbersMinChars:sn(new N(61,"lineNumbersMinChars",5,1,300)),linkedEditing:sn(new k(62,"linkedEditing",!1,{description:C.N("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:sn(new k(63,"links",!0,{description:C.N("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:sn(new P(64,"matchBrackets","always",["always","near","never"],{description:C.N("matchBrackets","Highlight matching brackets.")})),minimap:sn(new We),mouseStyle:sn(new P(66,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:sn(new L(67,"mouseWheelScrollSensitivity",1,wn=>wn===0?1:wn,{markdownDescription:C.N("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:sn(new k(68,"mouseWheelZoom",!1,{markdownDescription:C.N("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:sn(new k(69,"multiCursorMergeOverlapping",!0,{description:C.N("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:sn(new V(70,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],et,{markdownEnumDescriptions:[C.N("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),C.N("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:C.N({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:sn(new P(71,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[C.N("multiCursorPaste.spread","Each cursor pastes a single line of the text."),C.N("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:C.N("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:sn(new k(72,"occurrencesHighlight",!0,{description:C.N("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:sn(new k(73,"overviewRulerBorder",!0,{description:C.N("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:sn(new N(74,"overviewRulerLanes",3,0,3)),padding:sn(new Kt),parameterHints:sn(new _t),peekWidgetDefaultFocus:sn(new P(77,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[C.N("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),C.N("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:C.N("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:sn(new k(78,"definitionLinkOpensInPeek",!1,{description:C.N("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:sn(new kt),quickSuggestionsDelay:sn(new N(80,"quickSuggestionsDelay",10,0,1073741824,{description:C.N("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:sn(new k(81,"readOnly",!1)),renameOnType:sn(new k(82,"renameOnType",!1,{description:C.N("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:C.N("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:sn(new k(83,"renderControlCharacters",!0,{description:C.N("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:sn(new k(84,"renderFinalNewline",!0,{description:C.N("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:sn(new P(85,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",C.N("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:C.N("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:sn(new k(86,"renderLineHighlightOnlyWhenFocus",!1,{description:C.N("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:sn(new P(87,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:sn(new P(88,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",C.N("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),C.N("renderWhitespace.selection","Render whitespace characters only on selected text."),C.N("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:C.N("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:sn(new N(89,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:sn(new k(90,"roundedSelection",!0,{description:C.N("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:sn(new Te),scrollbar:sn(new Et),scrollBeyondLastColumn:sn(new N(93,"scrollBeyondLastColumn",5,0,1073741824,{description:C.N("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:sn(new k(94,"scrollBeyondLastLine",!0,{description:C.N("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:sn(new k(95,"scrollPredominantAxis",!0,{description:C.N("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:sn(new k(96,"selectionClipboard",!0,{description:C.N("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:d.IJ})),selectionHighlight:sn(new k(97,"selectionHighlight",!0,{description:C.N("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:sn(new k(98,"selectOnLineNumbers",!0)),showFoldingControls:sn(new P(99,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[C.N("showFoldingControls.always","Always show the folding controls."),C.N("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:C.N("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:sn(new k(100,"showUnused",!0,{description:C.N("showUnused","Controls fading out of unused code.")})),showDeprecated:sn(new k(126,"showDeprecated",!0,{description:C.N("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:sn(new De),snippetSuggestions:sn(new P(101,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[C.N("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),C.N("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),C.N("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),C.N("snippetSuggestions.none","Do not show snippet suggestions.")],description:C.N("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:sn(new gt),smoothScrolling:sn(new k(103,"smoothScrolling",!1,{description:C.N("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:sn(new N(105,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:sn(new Mt),inlineSuggest:sn(new ve),suggestFontSize:sn(new N(107,"suggestFontSize",0,0,1e3,{markdownDescription:C.N("suggestFontSize","Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")})),suggestLineHeight:sn(new N(108,"suggestLineHeight",0,0,1e3,{markdownDescription:C.N("suggestLineHeight","Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used. The minimum value is 8.")})),suggestOnTriggerCharacters:sn(new k(109,"suggestOnTriggerCharacters",!0,{description:C.N("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:sn(new P(110,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[C.N("suggestSelection.first","Always select the first suggestion."),C.N("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),C.N("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:C.N("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:sn(new P(111,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[C.N("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),C.N("tabCompletion.off","Disable tab completions."),C.N("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:C.N("tabCompletion","Enables tab completions.")})),tabIndex:sn(new N(112,"tabIndex",0,-1,1073741824)),unicodeHighlight:sn(new xe),unusualLineTerminators:sn(new P(114,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[C.N("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),C.N("unusualLineTerminators.off","Unusual line terminators are ignored."),C.N("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:C.N("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:sn(new k(115,"useShadowDOM",!0)),useTabStops:sn(new k(116,"useTabStops",!0,{description:C.N("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:sn(new R(117,"wordSeparators",z.vu,{description:C.N("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:sn(new P(118,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[C.N("wordWrap.off","Lines will never wrap."),C.N("wordWrap.on","Lines will wrap at the viewport width."),C.N({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),C.N({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:C.N({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:sn(new R(119,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:sn(new R(120,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:sn(new N(121,"wordWrapColumn",80,1,1073741824,{markdownDescription:C.N({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:sn(new P(122,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:sn(new P(123,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:sn(new V(124,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],Zt,{enumDescriptions:[C.N("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),C.N("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),C.N("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),C.N("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:C.N("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:sn(new P(125,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[C.N("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),C.N("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:C.N("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:sn(new se),pixelRatio:sn(new tt),tabFocusMode:sn(new Rt),layoutInfo:sn(new Me),wrappingInfo:sn(new hn)}},42485:function(it,Ee,l){"use strict";l.d(Ee,{C:function(){return d}});var C=l(60774);const d=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new C.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(z){z=Math.min(Math.max(-5,z),20),this._zoomLevel!==z&&(this._zoomLevel=z,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}},69367:function(it,Ee,l){"use strict";l.d(Ee,{E4:function(){return y},pR:function(){return A}});var C=l(24180),d=l(42485);const z=C.dz?1.5:1.35,O=8;class y{constructor(I){this._bareFontInfoBrand=void 0,this.pixelRatio=I.pixelRatio,this.fontFamily=String(I.fontFamily),this.fontWeight=String(I.fontWeight),this.fontSize=I.fontSize,this.fontFeatureSettings=I.fontFeatureSettings,this.lineHeight=I.lineHeight|0,this.letterSpacing=I.letterSpacing}static createFromValidatedSettings(I,w,_){const f=I.get(43),m=I.get(47),a=I.get(46),x=I.get(45),k=I.get(59),T=I.get(56);return y._create(f,m,a,x,k,T,w,_)}static _create(I,w,_,f,m,a,x,k){m===0?m=z*_:m<O&&(m=m*_),m=Math.round(m),m<O&&(m=O);const T=1+(k?0:d.C.getZoomLevel()*.1);return _*=T,m*=T,new y({pixelRatio:x,fontFamily:I,fontWeight:w,fontSize:_,fontFeatureSettings:f,lineHeight:m,letterSpacing:a})}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(I){const w=y._wrapInQuotes(this.fontFamily);return I&&this.fontFamily!==I?`${w}, ${I}`:w}static _wrapInQuotes(I){return/[,"']/.test(I)?I:/[+ ]/.test(I)?`"${I}"`:I}}const W=1;class A extends y{constructor(I,w){super(I),this._editorStylingBrand=void 0,this.version=W,this.isTrusted=w,this.isMonospace=I.isMonospace,this.typicalHalfwidthCharacterWidth=I.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=I.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=I.canUseHalfwidthRightwardsArrow,this.spaceWidth=I.spaceWidth,this.middotWidth=I.middotWidth,this.wsmiddotWidth=I.wsmiddotWidth,this.maxDigitWidth=I.maxDigitWidth}equals(I){return this.fontFamily===I.fontFamily&&this.fontWeight===I.fontWeight&&this.fontSize===I.fontSize&&this.fontFeatureSettings===I.fontFeatureSettings&&this.lineHeight===I.lineHeight&&this.letterSpacing===I.letterSpacing&&this.typicalHalfwidthCharacterWidth===I.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===I.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===I.canUseHalfwidthRightwardsArrow&&this.spaceWidth===I.spaceWidth&&this.middotWidth===I.middotWidth&&this.wsmiddotWidth===I.wsmiddotWidth&&this.maxDigitWidth===I.maxDigitWidth}}},81818:function(it,Ee,l){"use strict";l.d(Ee,{N:function(){return d},q:function(){return z}});var C=l(7666);class d{constructor(y){const W=(0,C.K)(y);this._defaultValue=W,this._asciiMap=d._createAsciiMap(W),this._map=new Map}static _createAsciiMap(y){const W=new Uint8Array(256);for(let A=0;A<256;A++)W[A]=y;return W}set(y,W){const A=(0,C.K)(W);y>=0&&y<256?this._asciiMap[y]=A:this._map.set(y,A)}get(y){return y>=0&&y<256?this._asciiMap[y]:this._map.get(y)||this._defaultValue}}class z{constructor(){this._actual=new d(0)}add(y){this._actual.set(y,1)}has(y){return this._actual.get(y)===1}}},22761:function(it,Ee,l){"use strict";l.d(Ee,{i:function(){return d}});var C=l(76311);class d{static _nextVisibleColumn(O,y,W){return O===9?d.nextRenderTabStop(y,W):C.K7(O)||C.C8(O)?y+2:y+1}static visibleColumnFromColumn(O,y,W){const A=Math.min(y-1,O.length),M=O.substring(0,A),I=new C.W1(M);let w=0;for(;!I.eol();){const _=C.ZH(M,A,I.offset);I.nextGraphemeLength(),w=this._nextVisibleColumn(_,w,W)}return w}static columnFromVisibleColumn(O,y,W){if(y<=0)return 1;const A=O.length,M=new C.W1(O);let I=0,w=1;for(;!M.eol();){const _=C.ZH(O,A,M.offset);M.nextGraphemeLength();const f=this._nextVisibleColumn(_,I,W),m=M.offset+1;if(f>=y){const a=y-I;return f-y<a?m:w}I=f,w=m}return A+1}static nextRenderTabStop(O,y){return O+y-O%y}static nextIndentTabStop(O,y){return O+y-O%y}static prevRenderTabStop(O,y){return Math.max(0,O-1-(O-1)%y)}static prevIndentTabStop(O,y){return Math.max(0,O-1-(O-1)%y)}}},16362:function(it,Ee,l){"use strict";l.d(Ee,{h:function(){return d}});var C=l(50757);class d{static insert(O,y){return{range:new C.e(O.lineNumber,O.column,O.lineNumber,O.column),text:y,forceMoveMarkers:!0}}static delete(O){return{range:O,text:null}}static replace(O,y){return{range:O,text:y}}static replaceMove(O,y){return{range:O,text:y,forceMoveMarkers:!0}}}},60407:function(it,Ee,l){"use strict";l.d(Ee,{CE:function(){return we},DD:function(){return N},DS:function(){return Kt},Dl:function(){return P},HV:function(){return Et},IO:function(){return se},Jn:function(){return tt},Kh:function(){return y},L7:function(){return Ge},Mm:function(){return W},N5:function(){return re},Qb:function(){return Ut},Re:function(){return ie},TC:function(){return b},To:function(){return Te},UP:function(){return Me},Vs:function(){return ce},YF:function(){return kt},Ym:function(){return x},eS:function(){return J},e_:function(){return H},f9:function(){return Wt},fY:function(){return f},hw:function(){return k},kp:function(){return ae},lK:function(){return j},lS:function(){return _t},m$:function(){return et},m1:function(){return De},m3:function(){return Ft},m9:function(){return $},n0:function(){return _},oV:function(){return We},r0:function(){return Ke},tR:function(){return a},ts:function(){return be},x3:function(){return ge},zJ:function(){return oe},zk:function(){return L},zu:function(){return me},zw:function(){return V}});var C=l(82215),d=l(8957),z=l(58385),O=l(63655);const y=(0,z.P6G)("editor.lineHighlightBackground",{dark:null,light:null,hc:null},C.N("lineHighlight","Background color for the highlight of line at the cursor position.")),W=(0,z.P6G)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},C.N("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),A=(0,z.P6G)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},C.N("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),M=(0,z.P6G)("editor.rangeHighlightBorder",{dark:null,light:null,hc:z.xL1},C.N("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),I=(0,z.P6G)("editor.symbolHighlightBackground",{dark:z.MUv,light:z.MUv,hc:null},C.N("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),w=(0,z.P6G)("editor.symbolHighlightBorder",{dark:null,light:null,hc:z.xL1},C.N("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),_=(0,z.P6G)("editorCursor.foreground",{dark:"#AEAFAD",light:d.Il.black,hc:d.Il.white},C.N("caret","Color of the editor cursor.")),f=(0,z.P6G)("editorCursor.background",null,C.N("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),m=(0,z.P6G)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},C.N("editorWhitespaces","Color of whitespace characters in the editor.")),a=(0,z.P6G)("editorIndentGuide.background",{dark:m,light:m,hc:m},C.N("editorIndentGuides","Color of the editor indentation guides.")),x=(0,z.P6G)("editorIndentGuide.activeBackground",{dark:m,light:m,hc:m},C.N("editorActiveIndentGuide","Color of the active editor indentation guides.")),k=(0,z.P6G)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:d.Il.white},C.N("editorLineNumbers","Color of editor line numbers.")),T=(0,z.P6G)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:z.xL1},C.N("editorActiveLineNumber","Color of editor active line number"),!1,C.N("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),N=(0,z.P6G)("editorLineNumber.activeForeground",{dark:T,light:T,hc:T},C.N("editorActiveLineNumber","Color of editor active line number")),L=(0,z.P6G)("editorRuler.foreground",{dark:"#5A5A5A",light:d.Il.lightgrey,hc:d.Il.white},C.N("editorRuler","Color of the editor rulers.")),R=(0,z.P6G)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},C.N("editorCodeLensForeground","Foreground color of editor CodeLens")),b=(0,z.P6G)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},C.N("editorBracketMatchBackground","Background color behind matching brackets")),P=(0,z.P6G)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:z.lRK},C.N("editorBracketMatchBorder","Color for matching brackets boxes")),V=(0,z.P6G)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},C.N("editorOverviewRulerBorder","Color of the overview ruler border.")),H=(0,z.P6G)("editorOverviewRuler.background",null,C.N("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),ee=(0,z.P6G)("editorGutter.background",{dark:z.cvW,light:z.cvW,hc:z.cvW},C.N("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),ae=(0,z.P6G)("editorUnnecessaryCode.border",{dark:null,light:null,hc:d.Il.fromHex("#fff").transparent(.8)},C.N("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),me=(0,z.P6G)("editorUnnecessaryCode.opacity",{dark:d.Il.fromHex("#000a"),light:d.Il.fromHex("#0007"),hc:null},C.N("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),ge=(0,z.P6G)("editorGhostText.border",{dark:null,light:null,hc:d.Il.fromHex("#fff").transparent(.8)},C.N("editorGhostTextBorder","Border color of ghost text in the editor.")),re=(0,z.P6G)("editorGhostText.foreground",{dark:d.Il.fromHex("#ffffff56"),light:d.Il.fromHex("#0007"),hc:null},C.N("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),se=(0,z.P6G)("editorGhostText.background",{dark:null,light:null,hc:null},C.N("editorGhostTextBackground","Background color of the ghost text in the editor.")),X=new d.Il(new d.VS(0,122,204,.6)),$=(0,z.P6G)("editorOverviewRuler.rangeHighlightForeground",{dark:X,light:X,hc:X},C.N("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),j=(0,z.P6G)("editorOverviewRuler.errorForeground",{dark:new d.Il(new d.VS(255,18,18,.7)),light:new d.Il(new d.VS(255,18,18,.7)),hc:new d.Il(new d.VS(255,50,50,1))},C.N("overviewRuleError","Overview ruler marker color for errors.")),ie=(0,z.P6G)("editorOverviewRuler.warningForeground",{dark:z.uoC,light:z.uoC,hc:z.pW3},C.N("overviewRuleWarning","Overview ruler marker color for warnings.")),J=(0,z.P6G)("editorOverviewRuler.infoForeground",{dark:z.c63,light:z.c63,hc:z.T83},C.N("overviewRuleInfo","Overview ruler marker color for infos.")),oe=(0,z.P6G)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hc:"#FFD700"},C.N("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),ce=(0,z.P6G)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hc:"#DA70D6"},C.N("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),we=(0,z.P6G)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hc:"#87CEFA"},C.N("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),Me=(0,z.P6G)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},C.N("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),Ke=(0,z.P6G)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},C.N("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),De=(0,z.P6G)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},C.N("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),be=(0,z.P6G)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new d.Il(new d.VS(255,18,18,.8)),light:new d.Il(new d.VS(255,18,18,.8)),hc:new d.Il(new d.VS(255,50,50,1))},C.N("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),We=(0,z.P6G)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},C.N("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),et=(0,z.P6G)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},C.N("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),Kt=(0,z.P6G)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},C.N("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),_t=(0,z.P6G)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},C.N("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),tt=(0,z.P6G)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},C.N("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),kt=(0,z.P6G)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},C.N("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),Ut=(0,z.P6G)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},C.N("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),Ft=(0,z.P6G)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},C.N("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),Te=(0,z.P6G)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},C.N("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),Ge=(0,z.P6G)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},C.N("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),Et=(0,z.P6G)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},C.N("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),Wt=(0,z.P6G)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},C.N("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides.")),Ze=(0,z.P6G)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hc:"#ff0000"},C.N("editorUnicodeHighlight.border","Border color used to highlight unicode characters."));(0,O.Ic)((xe,ve)=>{const $e=xe.getColor(z.cvW);$e&&ve.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${$e}; }`);const at=xe.getColor(z.NOs);at&&ve.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${at}; }`);const Tt=xe.getColor(ee);Tt&&ve.addRule(`.monaco-editor .margin { background-color: ${Tt}; }`);const Mt=xe.getColor(A);Mt&&ve.addRule(`.monaco-editor .rangeHighlight { background-color: ${Mt}; }`);const gt=xe.getColor(M);gt&&ve.addRule(`.monaco-editor .rangeHighlight { border: 1px ${xe.type==="hc"?"dotted":"solid"} ${gt}; }`);const Rt=xe.getColor(I);Rt&&ve.addRule(`.monaco-editor .symbolHighlight { background-color: ${Rt}; }`);const Zt=xe.getColor(w);Zt&&ve.addRule(`.monaco-editor .symbolHighlight { border: 1px ${xe.type==="hc"?"dotted":"solid"} ${Zt}; }`);const hn=xe.getColor(m);hn&&(ve.addRule(`.monaco-editor .mtkw { color: ${hn} !important; }`),ve.addRule(`.monaco-editor .mtkz { color: ${hn} !important; }`))})},41924:function(it,Ee,l){"use strict";l.d(Ee,{Q:function(){return C}});function C(d){let z=0,O=0,y=0,W=0;for(let A=0,M=d.length;A<M;A++){const I=d.charCodeAt(A);I===13?(z===0&&(O=A),z++,A+1<M&&d.charCodeAt(A+1)===10?(W|=2,A++):W|=3,y=A+1):I===10&&(W|=1,z===0&&(O=A),z++,y=A+1)}return z===0&&(O=d.length),[z,O,d.length-y,W]}},93788:function(it,Ee,l){"use strict";l.d(Ee,{x:function(){return z}});var C=l(76311);function d(O,y,W){let A=0;for(let I=0;I<O.length;I++)O.charAt(I)==="	"?A+=y:A++;let M="";if(!W){const I=Math.floor(A/y);A=A%y;for(let w=0;w<I;w++)M+="	"}for(let I=0;I<A;I++)M+=" ";return M}function z(O,y,W){let A=C.LC(O);return A===-1&&(A=O.length),d(O.substring(0,A),y,W)+O.substring(A)}},7747:function(it,Ee,l){"use strict";l.d(Ee,{L:function(){return C}});class C{constructor(z,O){this.lineNumber=z,this.column=O}with(z=this.lineNumber,O=this.column){return z===this.lineNumber&&O===this.column?this:new C(z,O)}delta(z=0,O=0){return this.with(this.lineNumber+z,this.column+O)}equals(z){return C.equals(this,z)}static equals(z,O){return!z&&!O?!0:!!z&&!!O&&z.lineNumber===O.lineNumber&&z.column===O.column}isBefore(z){return C.isBefore(this,z)}static isBefore(z,O){return z.lineNumber<O.lineNumber?!0:O.lineNumber<z.lineNumber?!1:z.column<O.column}isBeforeOrEqual(z){return C.isBeforeOrEqual(this,z)}static isBeforeOrEqual(z,O){return z.lineNumber<O.lineNumber?!0:O.lineNumber<z.lineNumber?!1:z.column<=O.column}static compare(z,O){const y=z.lineNumber|0,W=O.lineNumber|0;if(y===W){const A=z.column|0,M=O.column|0;return A-M}return y-W}clone(){return new C(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(z){return new C(z.lineNumber,z.column)}static isIPosition(z){return z&&typeof z.lineNumber=="number"&&typeof z.column=="number"}}},50757:function(it,Ee,l){"use strict";l.d(Ee,{e:function(){return d}});var C=l(7747);class d{constructor(O,y,W,A){O>W||O===W&&y>A?(this.startLineNumber=W,this.startColumn=A,this.endLineNumber=O,this.endColumn=y):(this.startLineNumber=O,this.startColumn=y,this.endLineNumber=W,this.endColumn=A)}isEmpty(){return d.isEmpty(this)}static isEmpty(O){return O.startLineNumber===O.endLineNumber&&O.startColumn===O.endColumn}containsPosition(O){return d.containsPosition(this,O)}static containsPosition(O,y){return!(y.lineNumber<O.startLineNumber||y.lineNumber>O.endLineNumber||y.lineNumber===O.startLineNumber&&y.column<O.startColumn||y.lineNumber===O.endLineNumber&&y.column>O.endColumn)}static strictContainsPosition(O,y){return!(y.lineNumber<O.startLineNumber||y.lineNumber>O.endLineNumber||y.lineNumber===O.startLineNumber&&y.column<=O.startColumn||y.lineNumber===O.endLineNumber&&y.column>=O.endColumn)}containsRange(O){return d.containsRange(this,O)}static containsRange(O,y){return!(y.startLineNumber<O.startLineNumber||y.endLineNumber<O.startLineNumber||y.startLineNumber>O.endLineNumber||y.endLineNumber>O.endLineNumber||y.startLineNumber===O.startLineNumber&&y.startColumn<O.startColumn||y.endLineNumber===O.endLineNumber&&y.endColumn>O.endColumn)}strictContainsRange(O){return d.strictContainsRange(this,O)}static strictContainsRange(O,y){return!(y.startLineNumber<O.startLineNumber||y.endLineNumber<O.startLineNumber||y.startLineNumber>O.endLineNumber||y.endLineNumber>O.endLineNumber||y.startLineNumber===O.startLineNumber&&y.startColumn<=O.startColumn||y.endLineNumber===O.endLineNumber&&y.endColumn>=O.endColumn)}plusRange(O){return d.plusRange(this,O)}static plusRange(O,y){let W,A,M,I;return y.startLineNumber<O.startLineNumber?(W=y.startLineNumber,A=y.startColumn):y.startLineNumber===O.startLineNumber?(W=y.startLineNumber,A=Math.min(y.startColumn,O.startColumn)):(W=O.startLineNumber,A=O.startColumn),y.endLineNumber>O.endLineNumber?(M=y.endLineNumber,I=y.endColumn):y.endLineNumber===O.endLineNumber?(M=y.endLineNumber,I=Math.max(y.endColumn,O.endColumn)):(M=O.endLineNumber,I=O.endColumn),new d(W,A,M,I)}intersectRanges(O){return d.intersectRanges(this,O)}static intersectRanges(O,y){let W=O.startLineNumber,A=O.startColumn,M=O.endLineNumber,I=O.endColumn,w=y.startLineNumber,_=y.startColumn,f=y.endLineNumber,m=y.endColumn;return W<w?(W=w,A=_):W===w&&(A=Math.max(A,_)),M>f?(M=f,I=m):M===f&&(I=Math.min(I,m)),W>M||W===M&&A>I?null:new d(W,A,M,I)}equalsRange(O){return d.equalsRange(this,O)}static equalsRange(O,y){return!!O&&!!y&&O.startLineNumber===y.startLineNumber&&O.startColumn===y.startColumn&&O.endLineNumber===y.endLineNumber&&O.endColumn===y.endColumn}getEndPosition(){return d.getEndPosition(this)}static getEndPosition(O){return new C.L(O.endLineNumber,O.endColumn)}getStartPosition(){return d.getStartPosition(this)}static getStartPosition(O){return new C.L(O.startLineNumber,O.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(O,y){return new d(this.startLineNumber,this.startColumn,O,y)}setStartPosition(O,y){return new d(O,y,this.endLineNumber,this.endColumn)}collapseToStart(){return d.collapseToStart(this)}static collapseToStart(O){return new d(O.startLineNumber,O.startColumn,O.startLineNumber,O.startColumn)}static fromPositions(O,y=O){return new d(O.lineNumber,O.column,y.lineNumber,y.column)}static lift(O){return O?new d(O.startLineNumber,O.startColumn,O.endLineNumber,O.endColumn):null}static isIRange(O){return O&&typeof O.startLineNumber=="number"&&typeof O.startColumn=="number"&&typeof O.endLineNumber=="number"&&typeof O.endColumn=="number"}static areIntersectingOrTouching(O,y){return!(O.endLineNumber<y.startLineNumber||O.endLineNumber===y.startLineNumber&&O.endColumn<y.startColumn||y.endLineNumber<O.startLineNumber||y.endLineNumber===O.startLineNumber&&y.endColumn<O.startColumn)}static areIntersecting(O,y){return!(O.endLineNumber<y.startLineNumber||O.endLineNumber===y.startLineNumber&&O.endColumn<=y.startColumn||y.endLineNumber<O.startLineNumber||y.endLineNumber===O.startLineNumber&&y.endColumn<=O.startColumn)}static compareRangesUsingStarts(O,y){if(O&&y){const M=O.startLineNumber|0,I=y.startLineNumber|0;if(M===I){const w=O.startColumn|0,_=y.startColumn|0;if(w===_){const f=O.endLineNumber|0,m=y.endLineNumber|0;if(f===m){const a=O.endColumn|0,x=y.endColumn|0;return a-x}return f-m}return w-_}return M-I}return(O?1:0)-(y?1:0)}static compareRangesUsingEnds(O,y){return O.endLineNumber===y.endLineNumber?O.endColumn===y.endColumn?O.startLineNumber===y.startLineNumber?O.startColumn-y.startColumn:O.startLineNumber-y.startLineNumber:O.endColumn-y.endColumn:O.endLineNumber-y.endLineNumber}static spansMultipleLines(O){return O.endLineNumber>O.startLineNumber}toJSON(){return this}}},83141:function(it,Ee,l){"use strict";l.d(Ee,{Y:function(){return z}});var C=l(7747),d=l(50757);class z extends d.e{constructor(y,W,A,M){super(y,W,A,M),this.selectionStartLineNumber=y,this.selectionStartColumn=W,this.positionLineNumber=A,this.positionColumn=M}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(y){return z.selectionsEqual(this,y)}static selectionsEqual(y,W){return y.selectionStartLineNumber===W.selectionStartLineNumber&&y.selectionStartColumn===W.selectionStartColumn&&y.positionLineNumber===W.positionLineNumber&&y.positionColumn===W.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(y,W){return this.getDirection()===0?new z(this.startLineNumber,this.startColumn,y,W):new z(y,W,this.startLineNumber,this.startColumn)}getPosition(){return new C.L(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new C.L(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(y,W){return this.getDirection()===0?new z(y,W,this.endLineNumber,this.endColumn):new z(this.endLineNumber,this.endColumn,y,W)}static fromPositions(y,W=y){return new z(y.lineNumber,y.column,W.lineNumber,W.column)}static fromRange(y,W){return W===0?new z(y.startLineNumber,y.startColumn,y.endLineNumber,y.endColumn):new z(y.endLineNumber,y.endColumn,y.startLineNumber,y.startColumn)}static liftSelection(y){return new z(y.selectionStartLineNumber,y.selectionStartColumn,y.positionLineNumber,y.positionColumn)}static selectionsArrEqual(y,W){if(y&&!W||!y&&W)return!1;if(!y&&!W)return!0;if(y.length!==W.length)return!1;for(let A=0,M=y.length;A<M;A++)if(!this.selectionsEqual(y[A],W[A]))return!1;return!0}static isISelection(y){return y&&typeof y.selectionStartLineNumber=="number"&&typeof y.selectionStartColumn=="number"&&typeof y.positionLineNumber=="number"&&typeof y.positionColumn=="number"}static createWithDirection(y,W,A,M,I){return I===0?new z(y,W,A,M):new z(A,M,y,W)}}},20123:function(it,Ee,l){"use strict";l.d(Ee,{kH:function(){return f},l$:function(){return _},lZ:function(){return w},oe:function(){return I}});var C=l(76311),d=l(24180),z=l(1015);let O;function y(){return O||(O=new TextDecoder("UTF-16LE")),O}let W;function A(){return W||(W=new TextDecoder("UTF-16BE")),W}let M;function I(){return M||(M=d.r()?y():A()),M}const w=typeof TextDecoder!="undefined";let _,f;w?(_=T=>new x(T),f=m):(_=T=>new k,f=a);function m(T,N,L){const R=new Uint16Array(T.buffer,N,L);return L>0&&(R[0]===65279||R[0]===65534)?a(T,N,L):y().decode(R)}function a(T,N,L){const R=[];let b=0;for(let P=0;P<L;P++){const V=z.mP(T,N);N+=2,R[b++]=String.fromCharCode(V)}return R.join("")}class x{constructor(N){this._capacity=N|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const N=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return I().decode(N)}_flushBuffer(){const N=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[N]:this._completedStrings[this._completedStrings.length]=N}write1(N){const L=this._capacity-this._bufferLength;L<=1&&(L===0||C.ZG(N))&&this._flushBuffer(),this._buffer[this._bufferLength++]=N}appendASCII(N){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=N}appendASCIIString(N){const L=N.length;if(this._bufferLength+L>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=N;return}for(let R=0;R<L;R++)this._buffer[this._bufferLength++]=N.charCodeAt(R)}}class k{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(N){this._pieces[this._piecesLen++]=String.fromCharCode(N)}appendASCII(N){this._pieces[this._piecesLen++]=String.fromCharCode(N)}appendASCIIString(N){this._pieces[this._piecesLen++]=N}}},60637:function(it,Ee,l){"use strict";l.d(Ee,{b:function(){return y},q:function(){return O}});var C=l(1015),d=l(20123);function z(A){return A.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class O{constructor(M,I,w,_){this.oldPosition=M,this.oldText=I,this.newPosition=w,this.newText=_}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${z(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${z(this.oldText)}")`:`(replace@${this.oldPosition} "${z(this.oldText)}" with "${z(this.newText)}")`}static _writeStringSize(M){return 4+2*M.length}static _writeString(M,I,w){const _=I.length;C.T4(M,_,w),w+=4;for(let f=0;f<_;f++)C.oq(M,I.charCodeAt(f),w),w+=2;return w}static _readString(M,I){const w=C.Ag(M,I);return I+=4,(0,d.kH)(M,I,w)}writeSize(){return 4+4+O._writeStringSize(this.oldText)+O._writeStringSize(this.newText)}write(M,I){return C.T4(M,this.oldPosition,I),I+=4,C.T4(M,this.newPosition,I),I+=4,I=O._writeString(M,this.oldText,I),I=O._writeString(M,this.newText,I),I}static read(M,I,w){const _=C.Ag(M,I);I+=4;const f=C.Ag(M,I);I+=4;const m=O._readString(M,I);I+=O._writeStringSize(m);const a=O._readString(M,I);return I+=O._writeStringSize(a),w.push(new O(_,m,f,a)),I}}function y(A,M){return A===null||A.length===0?M:new W(A,M).compress()}class W{constructor(M,I){this._prevEdits=M,this._currEdits=I,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let M=0,I=0,w=this._getPrev(M),_=this._getCurr(I);for(;M<this._prevLen||I<this._currLen;){if(w===null){this._acceptCurr(_),_=this._getCurr(++I);continue}if(_===null){this._acceptPrev(w),w=this._getPrev(++M);continue}if(_.oldEnd<=w.newPosition){this._acceptCurr(_),_=this._getCurr(++I);continue}if(w.newEnd<=_.oldPosition){this._acceptPrev(w),w=this._getPrev(++M);continue}if(_.oldPosition<w.newPosition){const[k,T]=W._splitCurr(_,w.newPosition-_.oldPosition);this._acceptCurr(k),_=T;continue}if(w.newPosition<_.oldPosition){const[k,T]=W._splitPrev(w,_.oldPosition-w.newPosition);this._acceptPrev(k),w=T;continue}let a,x;if(_.oldEnd===w.newEnd)a=w,x=_,w=this._getPrev(++M),_=this._getCurr(++I);else if(_.oldEnd<w.newEnd){const[k,T]=W._splitPrev(w,_.oldLength);a=k,x=_,w=T,_=this._getCurr(++I)}else{const[k,T]=W._splitCurr(_,w.newLength);a=w,x=k,w=this._getPrev(++M),_=T}this._result[this._resultLen++]=new O(a.oldPosition,a.oldText,x.newPosition,x.newText),this._prevDeltaOffset+=a.newLength-a.oldLength,this._currDeltaOffset+=x.newLength-x.oldLength}const f=W._merge(this._result);return W._removeNoOps(f)}_acceptCurr(M){this._result[this._resultLen++]=W._rebaseCurr(this._prevDeltaOffset,M),this._currDeltaOffset+=M.newLength-M.oldLength}_getCurr(M){return M<this._currLen?this._currEdits[M]:null}_acceptPrev(M){this._result[this._resultLen++]=W._rebasePrev(this._currDeltaOffset,M),this._prevDeltaOffset+=M.newLength-M.oldLength}_getPrev(M){return M<this._prevLen?this._prevEdits[M]:null}static _rebaseCurr(M,I){return new O(I.oldPosition-M,I.oldText,I.newPosition,I.newText)}static _rebasePrev(M,I){return new O(I.oldPosition,I.oldText,I.newPosition+M,I.newText)}static _splitPrev(M,I){const w=M.newText.substr(0,I),_=M.newText.substr(I);return[new O(M.oldPosition,M.oldText,M.newPosition,w),new O(M.oldEnd,"",M.newPosition+I,_)]}static _splitCurr(M,I){const w=M.oldText.substr(0,I),_=M.oldText.substr(I);return[new O(M.oldPosition,w,M.newPosition,M.newText),new O(M.oldPosition+I,_,M.newEnd,"")]}static _merge(M){if(M.length===0)return M;const I=[];let w=0,_=M[0];for(let f=1;f<M.length;f++){const m=M[f];_.oldEnd===m.oldPosition?_=new O(_.oldPosition,_.oldText+m.oldText,_.newPosition,_.newText+m.newText):(I[w++]=_,_=m)}return I[w++]=_,I}static _removeNoOps(M){if(M.length===0)return M;const I=[];let w=0;for(let _=0;_<M.length;_++){const f=M[_];f.oldText!==f.newText&&(I[w++]=f)}return I}}},63891:function(it,Ee,l){"use strict";l.d(Ee,{D:function(){return C}});const C={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!1}}},75328:function(it,Ee,l){"use strict";l.d(Ee,{u:function(){return O}});var C=l(81818);class d extends C.N{constructor(W){super(0);for(let A=0,M=W.length;A<M;A++)this.set(W.charCodeAt(A),2);this.set(32,1),this.set(9,1)}}function z(y){const W={};return A=>(W.hasOwnProperty(A)||(W[A]=y(A)),W[A])}const O=z(y=>new d(y))},62501:function(it,Ee,l){"use strict";l.d(Ee,{Af:function(){return z},eq:function(){return O},t2:function(){return W},vu:function(){return C}});const C="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function d(M=""){let I="(-?\\d*\\.\\d\\w*)|([^";for(const w of C)M.indexOf(w)>=0||(I+="\\"+w);return I+="\\s]+)",new RegExp(I,"g")}const z=d();function O(M){let I=z;if(M&&M instanceof RegExp)if(M.global)I=M;else{let w="g";M.ignoreCase&&(w+="i"),M.multiline&&(w+="m"),M.unicode&&(w+="u"),I=new RegExp(M.source,w)}return I.lastIndex=0,I}const y={maxLen:1e3,windowSize:15,timeBudget:150};function W(M,I,w,_,f=y){if(w.length>f.maxLen){let T=M-f.maxLen/2;return T<0?T=0:_+=T,w=w.substring(T,M+f.maxLen/2),W(M,I,w,_,f)}const m=Date.now(),a=M-1-_;let x=-1,k=null;for(let T=1;!(Date.now()-m>=f.timeBudget);T++){const N=a-f.windowSize*T;I.lastIndex=Math.max(0,N);const L=A(I,w,a,x);if(!L&&k||(k=L,N<=0))break;x=N}if(k){const T={word:k[0],startColumn:_+1+k.index,endColumn:_+1+k.index+k[0].length};return I.lastIndex=0,T}return null}function A(M,I,w,_){let f;for(;f=M.exec(I);){const m=f.index||0;if(m<=w&&M.lastIndex>=w)return f;if(_>0&&m>_)return null}return null}},87216:function(it,Ee,l){"use strict";l.d(Ee,{l:function(){return d}});var C=l(22761);class d{static whitespaceVisibleColumn(O,y,W){const A=O.length;let M=0,I=-1,w=-1;for(let _=0;_<A;_++){if(_===y)return[I,w,M];switch(M%W===0&&(I=_,w=M),O.charCodeAt(_)){case 32:M+=1;break;case 9:M=C.i.nextRenderTabStop(M,W);break;default:return[-1,-1,-1]}}return y===A?[I,w,M]:[-1,-1,-1]}static atomicPosition(O,y,W,A){const M=O.length,[I,w,_]=d.whitespaceVisibleColumn(O,y,W);if(_===-1)return-1;let f;switch(A){case 0:f=!0;break;case 1:f=!1;break;case 2:if(_%W===0)return y;f=_%W<=W/2;break}if(f){if(I===-1)return-1;let x=w;for(let k=I;k<M;++k){if(x===w+W)return I;switch(O.charCodeAt(k)){case 32:x+=1;break;case 9:x=C.i.nextRenderTabStop(x,W);break;default:return-1}}return x===w+W?I:-1}const m=C.i.nextRenderTabStop(_,W);let a=_;for(let x=y;x<M;x++){if(a===m)return x;switch(O.charCodeAt(x)){case 32:a+=1;break;case 9:a=C.i.nextRenderTabStop(a,W);break;default:return-1}}return a===m?M:-1}}},92244:function(it,Ee,l){"use strict";l.d(Ee,{A:function(){return M}});var C=l(76311),d=l(27678),z=l(92386),O=l(22761),y=l(6779),W=l(50757),A=l(7747);class M{static deleteRight(w,_,f,m){const a=[];let x=w!==3;for(let k=0,T=m.length;k<T;k++){const N=m[k];let L=N;if(L.isEmpty()){const R=N.getPosition(),b=y.o.right(_,f,R);L=new W.e(b.lineNumber,b.column,R.lineNumber,R.column)}if(L.isEmpty()){a[k]=null;continue}L.startLineNumber!==L.endLineNumber&&(x=!0),a[k]=new d.T4(L,"")}return[x,a]}static isAutoClosingPairDelete(w,_,f,m,a,x,k){if(_==="never"&&f==="never"||w==="never")return!1;for(let T=0,N=x.length;T<N;T++){const L=x[T],R=L.getPosition();if(!L.isEmpty())return!1;const b=a.getLineContent(R.lineNumber);if(R.column<2||R.column>=b.length+1)return!1;const P=b.charAt(R.column-2),V=m.get(P);if(!V)return!1;if((0,z.LN)(P)){if(f==="never")return!1}else if(_==="never")return!1;const H=b.charAt(R.column-1);let ee=!1;for(const ae of V)ae.open===P&&ae.close===H&&(ee=!0);if(!ee)return!1;if(w==="auto"){let ae=!1;for(let me=0,ge=k.length;me<ge;me++){const re=k[me];if(R.lineNumber===re.startLineNumber&&R.column===re.startColumn){ae=!0;break}}if(!ae)return!1}}return!0}static _runAutoClosingPairDelete(w,_,f){const m=[];for(let a=0,x=f.length;a<x;a++){const k=f[a].getPosition(),T=new W.e(k.lineNumber,k.column-1,k.lineNumber,k.column+1);m[a]=new d.T4(T,"")}return[!0,m]}static deleteLeft(w,_,f,m,a){if(this.isAutoClosingPairDelete(_.autoClosingDelete,_.autoClosingBrackets,_.autoClosingQuotes,_.autoClosingPairs.autoClosingPairsOpenByEnd,f,m,a))return this._runAutoClosingPairDelete(_,f,m);const x=[];let k=w!==2;for(let T=0,N=m.length;T<N;T++){const L=M.getDeleteRange(m[T],f,_);if(L.isEmpty()){x[T]=null;continue}L.startLineNumber!==L.endLineNumber&&(k=!0),x[T]=new d.T4(L,"")}return[k,x]}static getDeleteRange(w,_,f){if(!w.isEmpty())return w;const m=w.getPosition();if(f.useTabStops&&m.column>1){const a=_.getLineContent(m.lineNumber),x=C.LC(a),k=x===-1?a.length+1:x+1;if(m.column<=k){const T=f.visibleColumnFromColumn(_,m),N=O.i.prevIndentTabStop(T,f.indentSize),L=f.columnFromVisibleColumn(_,m.lineNumber,N);return new W.e(m.lineNumber,L,m.lineNumber,m.column)}}return W.e.fromPositions(M.getPositionAfterDeleteLeft(m,_),m)}static getPositionAfterDeleteLeft(w,_){if(w.column>1){const f=C.oH(w.column-1,_.getLineContent(w.lineNumber));return w.with(void 0,f+1)}else if(w.lineNumber>1){const f=w.lineNumber-1;return new A.L(f,_.getLineMaxColumn(f))}else return w}static cut(w,_,f){const m=[];let a=null;f.sort((x,k)=>A.L.compare(x.getStartPosition(),k.getEndPosition()));for(let x=0,k=f.length;x<k;x++){const T=f[x];if(T.isEmpty())if(w.emptySelectionClipboard){const N=T.getPosition();let L,R,b,P;N.lineNumber<_.getLineCount()?(L=N.lineNumber,R=1,b=N.lineNumber+1,P=1):N.lineNumber>1&&(a==null?void 0:a.endLineNumber)!==N.lineNumber?(L=N.lineNumber-1,R=_.getLineMaxColumn(N.lineNumber-1),b=N.lineNumber,P=_.getLineMaxColumn(N.lineNumber)):(L=N.lineNumber,R=1,b=N.lineNumber,P=_.getLineMaxColumn(N.lineNumber));const V=new W.e(L,R,b,P);a=V,V.isEmpty()?m[x]=null:m[x]=new d.T4(V,"")}else m[x]=null;else m[x]=new d.T4(T,"")}return new z.Tp(0,m,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},65147:function(it,Ee,l){"use strict";l.d(Ee,{N:function(){return M},P:function(){return A}});var C=l(37061),d=l(92386),z=l(6779),O=l(1712),y=l(7747),W=l(50757);class A{static addCursorDown(w,_,f){const m=[];let a=0;for(let x=0,k=_.length;x<k;x++){const T=_[x];m[a++]=new d.Vi(T.modelState,T.viewState),f?m[a++]=d.Vi.fromModelState(z.o.translateDown(w.cursorConfig,w.model,T.modelState)):m[a++]=d.Vi.fromViewState(z.o.translateDown(w.cursorConfig,w,T.viewState))}return m}static addCursorUp(w,_,f){const m=[];let a=0;for(let x=0,k=_.length;x<k;x++){const T=_[x];m[a++]=new d.Vi(T.modelState,T.viewState),f?m[a++]=d.Vi.fromModelState(z.o.translateUp(w.cursorConfig,w.model,T.modelState)):m[a++]=d.Vi.fromViewState(z.o.translateUp(w.cursorConfig,w,T.viewState))}return m}static moveToBeginningOfLine(w,_,f){let m=[];for(let a=0,x=_.length;a<x;a++){const k=_[a];m[a]=this._moveToLineStart(w,k,f)}return m}static _moveToLineStart(w,_,f){const m=_.viewState.position.column,a=_.modelState.position.column,x=m===a,k=_.viewState.position.lineNumber,T=w.getLineFirstNonWhitespaceColumn(k);return!x&&!(m===T)?this._moveToLineStartByView(w,_,f):this._moveToLineStartByModel(w,_,f)}static _moveToLineStartByView(w,_,f){return d.Vi.fromViewState(z.o.moveToBeginningOfLine(w.cursorConfig,w,_.viewState,f))}static _moveToLineStartByModel(w,_,f){return d.Vi.fromModelState(z.o.moveToBeginningOfLine(w.cursorConfig,w.model,_.modelState,f))}static moveToEndOfLine(w,_,f,m){const a=[];for(let x=0,k=_.length;x<k;x++){const T=_[x];a[x]=this._moveToLineEnd(w,T,f,m)}return a}static _moveToLineEnd(w,_,f,m){const a=_.viewState.position,x=w.getLineMaxColumn(a.lineNumber),k=a.column===x,T=_.modelState.position,N=w.model.getLineMaxColumn(T.lineNumber),L=x-a.column===N-T.column;return k||L?this._moveToLineEndByModel(w,_,f,m):this._moveToLineEndByView(w,_,f,m)}static _moveToLineEndByView(w,_,f,m){return d.Vi.fromViewState(z.o.moveToEndOfLine(w.cursorConfig,w,_.viewState,f,m))}static _moveToLineEndByModel(w,_,f,m){return d.Vi.fromModelState(z.o.moveToEndOfLine(w.cursorConfig,w.model,_.modelState,f,m))}static expandLineSelection(w,_){const f=[];for(let m=0,a=_.length;m<a;m++){const x=_[m],k=x.modelState.selection.startLineNumber,T=w.model.getLineCount();let N=x.modelState.selection.endLineNumber,L;N===T?L=w.model.getLineMaxColumn(T):(N++,L=1),f[m]=d.Vi.fromModelState(new d.rS(new W.e(k,1,k,1),0,new y.L(N,L),0))}return f}static moveToBeginningOfBuffer(w,_,f){const m=[];for(let a=0,x=_.length;a<x;a++){const k=_[a];m[a]=d.Vi.fromModelState(z.o.moveToBeginningOfBuffer(w.cursorConfig,w.model,k.modelState,f))}return m}static moveToEndOfBuffer(w,_,f){const m=[];for(let a=0,x=_.length;a<x;a++){const k=_[a];m[a]=d.Vi.fromModelState(z.o.moveToEndOfBuffer(w.cursorConfig,w.model,k.modelState,f))}return m}static selectAll(w,_){const f=w.model.getLineCount(),m=w.model.getLineMaxColumn(f);return d.Vi.fromModelState(new d.rS(new W.e(1,1,1,1),0,new y.L(f,m),0))}static line(w,_,f,m,a){const x=w.model.validatePosition(m),k=a?w.coordinatesConverter.validateViewPosition(new y.L(a.lineNumber,a.column),x):w.coordinatesConverter.convertModelPositionToViewPosition(x);if(!f||!_.modelState.hasSelection()){const N=w.model.getLineCount();let L=x.lineNumber+1,R=1;return L>N&&(L=N,R=w.model.getLineMaxColumn(L)),d.Vi.fromModelState(new d.rS(new W.e(x.lineNumber,1,L,R),0,new y.L(L,R),0))}const T=_.modelState.selectionStart.getStartPosition().lineNumber;if(x.lineNumber<T)return d.Vi.fromViewState(_.viewState.move(_.modelState.hasSelection(),k.lineNumber,1,0));if(x.lineNumber>T){const N=w.getLineCount();let L=k.lineNumber+1,R=1;return L>N&&(L=N,R=w.getLineMaxColumn(L)),d.Vi.fromViewState(_.viewState.move(_.modelState.hasSelection(),L,R,0))}else{const N=_.modelState.selectionStart.getEndPosition();return d.Vi.fromModelState(_.modelState.move(_.modelState.hasSelection(),N.lineNumber,N.column,0))}}static word(w,_,f,m){const a=w.model.validatePosition(m);return d.Vi.fromModelState(O.w.word(w.cursorConfig,w.model,_.modelState,f,a))}static cancelSelection(w,_){if(!_.modelState.hasSelection())return new d.Vi(_.modelState,_.viewState);const f=_.viewState.position.lineNumber,m=_.viewState.position.column;return d.Vi.fromViewState(new d.rS(new W.e(f,m,f,m),0,new y.L(f,m),0))}static moveTo(w,_,f,m,a){const x=w.model.validatePosition(m),k=a?w.coordinatesConverter.validateViewPosition(new y.L(a.lineNumber,a.column),x):w.coordinatesConverter.convertModelPositionToViewPosition(x);return d.Vi.fromViewState(_.viewState.move(f,k.lineNumber,k.column,0))}static simpleMove(w,_,f,m,a,x){switch(f){case 0:return x===4?this._moveHalfLineLeft(w,_,m):this._moveLeft(w,_,m,a);case 1:return x===4?this._moveHalfLineRight(w,_,m):this._moveRight(w,_,m,a);case 2:return x===2?this._moveUpByViewLines(w,_,m,a):this._moveUpByModelLines(w,_,m,a);case 3:return x===2?this._moveDownByViewLines(w,_,m,a):this._moveDownByModelLines(w,_,m,a);case 4:return x===2?_.map(k=>d.Vi.fromViewState(z.o.moveToPrevBlankLine(w.cursorConfig,w,k.viewState,m))):_.map(k=>d.Vi.fromModelState(z.o.moveToPrevBlankLine(w.cursorConfig,w.model,k.modelState,m)));case 5:return x===2?_.map(k=>d.Vi.fromViewState(z.o.moveToNextBlankLine(w.cursorConfig,w,k.viewState,m))):_.map(k=>d.Vi.fromModelState(z.o.moveToNextBlankLine(w.cursorConfig,w.model,k.modelState,m)));case 6:return this._moveToViewMinColumn(w,_,m);case 7:return this._moveToViewFirstNonWhitespaceColumn(w,_,m);case 8:return this._moveToViewCenterColumn(w,_,m);case 9:return this._moveToViewMaxColumn(w,_,m);case 10:return this._moveToViewLastNonWhitespaceColumn(w,_,m);default:return null}}static viewportMove(w,_,f,m,a){const x=w.getCompletelyVisibleViewRange(),k=w.coordinatesConverter.convertViewRangeToModelRange(x);switch(f){case 11:{const T=this._firstLineNumberInRange(w.model,k,a),N=w.model.getLineFirstNonWhitespaceColumn(T);return[this._moveToModelPosition(w,_[0],m,T,N)]}case 13:{const T=this._lastLineNumberInRange(w.model,k,a),N=w.model.getLineFirstNonWhitespaceColumn(T);return[this._moveToModelPosition(w,_[0],m,T,N)]}case 12:{const T=Math.round((k.startLineNumber+k.endLineNumber)/2),N=w.model.getLineFirstNonWhitespaceColumn(T);return[this._moveToModelPosition(w,_[0],m,T,N)]}case 14:{const T=[];for(let N=0,L=_.length;N<L;N++){const R=_[N];T[N]=this.findPositionInViewportIfOutside(w,R,x,m)}return T}default:return null}}static findPositionInViewportIfOutside(w,_,f,m){const a=_.viewState.position.lineNumber;if(f.startLineNumber<=a&&a<=f.endLineNumber-1)return new d.Vi(_.modelState,_.viewState);{let x;a>f.endLineNumber-1?x=f.endLineNumber-1:a<f.startLineNumber?x=f.startLineNumber:x=a;const k=z.o.vertical(w.cursorConfig,w,a,_.viewState.position.column,_.viewState.leftoverVisibleColumns,x,!1);return d.Vi.fromViewState(_.viewState.move(m,k.lineNumber,k.column,k.leftoverVisibleColumns))}}static _firstLineNumberInRange(w,_,f){let m=_.startLineNumber;return _.startColumn!==w.getLineMinColumn(m)&&m++,Math.min(_.endLineNumber,m+f-1)}static _lastLineNumberInRange(w,_,f){let m=_.startLineNumber;return _.startColumn!==w.getLineMinColumn(m)&&m++,Math.max(m,_.endLineNumber-f+1)}static _moveLeft(w,_,f,m){return _.map(a=>d.Vi.fromViewState(z.o.moveLeft(w.cursorConfig,w,a.viewState,f,m)))}static _moveHalfLineLeft(w,_,f){const m=[];for(let a=0,x=_.length;a<x;a++){const k=_[a],T=k.viewState.position.lineNumber,N=Math.round(w.getLineContent(T).length/2);m[a]=d.Vi.fromViewState(z.o.moveLeft(w.cursorConfig,w,k.viewState,f,N))}return m}static _moveRight(w,_,f,m){return _.map(a=>d.Vi.fromViewState(z.o.moveRight(w.cursorConfig,w,a.viewState,f,m)))}static _moveHalfLineRight(w,_,f){const m=[];for(let a=0,x=_.length;a<x;a++){const k=_[a],T=k.viewState.position.lineNumber,N=Math.round(w.getLineContent(T).length/2);m[a]=d.Vi.fromViewState(z.o.moveRight(w.cursorConfig,w,k.viewState,f,N))}return m}static _moveDownByViewLines(w,_,f,m){const a=[];for(let x=0,k=_.length;x<k;x++){const T=_[x];a[x]=d.Vi.fromViewState(z.o.moveDown(w.cursorConfig,w,T.viewState,f,m))}return a}static _moveDownByModelLines(w,_,f,m){const a=[];for(let x=0,k=_.length;x<k;x++){const T=_[x];a[x]=d.Vi.fromModelState(z.o.moveDown(w.cursorConfig,w.model,T.modelState,f,m))}return a}static _moveUpByViewLines(w,_,f,m){const a=[];for(let x=0,k=_.length;x<k;x++){const T=_[x];a[x]=d.Vi.fromViewState(z.o.moveUp(w.cursorConfig,w,T.viewState,f,m))}return a}static _moveUpByModelLines(w,_,f,m){const a=[];for(let x=0,k=_.length;x<k;x++){const T=_[x];a[x]=d.Vi.fromModelState(z.o.moveUp(w.cursorConfig,w.model,T.modelState,f,m))}return a}static _moveToViewPosition(w,_,f,m,a){return d.Vi.fromViewState(_.viewState.move(f,m,a,0))}static _moveToModelPosition(w,_,f,m,a){return d.Vi.fromModelState(_.modelState.move(f,m,a,0))}static _moveToViewMinColumn(w,_,f){const m=[];for(let a=0,x=_.length;a<x;a++){const k=_[a],T=k.viewState.position.lineNumber,N=w.getLineMinColumn(T);m[a]=this._moveToViewPosition(w,k,f,T,N)}return m}static _moveToViewFirstNonWhitespaceColumn(w,_,f){const m=[];for(let a=0,x=_.length;a<x;a++){const k=_[a],T=k.viewState.position.lineNumber,N=w.getLineFirstNonWhitespaceColumn(T);m[a]=this._moveToViewPosition(w,k,f,T,N)}return m}static _moveToViewCenterColumn(w,_,f){const m=[];for(let a=0,x=_.length;a<x;a++){const k=_[a],T=k.viewState.position.lineNumber,N=Math.round((w.getLineMaxColumn(T)+w.getLineMinColumn(T))/2);m[a]=this._moveToViewPosition(w,k,f,T,N)}return m}static _moveToViewMaxColumn(w,_,f){const m=[];for(let a=0,x=_.length;a<x;a++){const k=_[a],T=k.viewState.position.lineNumber,N=w.getLineMaxColumn(T);m[a]=this._moveToViewPosition(w,k,f,T,N)}return m}static _moveToViewLastNonWhitespaceColumn(w,_,f){const m=[];for(let a=0,x=_.length;a<x;a++){const k=_[a],T=k.viewState.position.lineNumber,N=w.getLineLastNonWhitespaceColumn(T);m[a]=this._moveToViewPosition(w,k,f,T,N)}return m}}var M;(function(I){const w=function(f){if(!C.Kn(f))return!1;const m=f;return!(!C.HD(m.to)||!C.o8(m.select)&&!C.jn(m.select)||!C.o8(m.by)&&!C.HD(m.by)||!C.o8(m.value)&&!C.hj(m.value))};I.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:w,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},I.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},I.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function _(f){if(!f.to)return null;let m;switch(f.to){case I.RawDirection.Left:m=0;break;case I.RawDirection.Right:m=1;break;case I.RawDirection.Up:m=2;break;case I.RawDirection.Down:m=3;break;case I.RawDirection.PrevBlankLine:m=4;break;case I.RawDirection.NextBlankLine:m=5;break;case I.RawDirection.WrappedLineStart:m=6;break;case I.RawDirection.WrappedLineFirstNonWhitespaceCharacter:m=7;break;case I.RawDirection.WrappedLineColumnCenter:m=8;break;case I.RawDirection.WrappedLineEnd:m=9;break;case I.RawDirection.WrappedLineLastNonWhitespaceCharacter:m=10;break;case I.RawDirection.ViewPortTop:m=11;break;case I.RawDirection.ViewPortBottom:m=13;break;case I.RawDirection.ViewPortCenter:m=12;break;case I.RawDirection.ViewPortIfOutside:m=14;break;default:return null}let a=0;switch(f.by){case I.RawUnit.Line:a=1;break;case I.RawUnit.WrappedLine:a=2;break;case I.RawUnit.Character:a=3;break;case I.RawUnit.HalfLine:a=4;break}return{direction:m,unit:a,select:!!f.select,value:f.value||1}}I.parse=_})(M||(M={}))},6779:function(it,Ee,l){"use strict";l.d(Ee,{o:function(){return M}});var C=l(92386),d=l(22761),z=l(7747),O=l(50757),y=l(76311),W=l(87216);class A{constructor(w,_,f){this._cursorPositionBrand=void 0,this.lineNumber=w,this.column=_,this.leftoverVisibleColumns=f}}class M{static leftPosition(w,_){if(_.column>w.getLineMinColumn(_.lineNumber))return _.delta(void 0,-y.HO(w.getLineContent(_.lineNumber),_.column-1));if(_.lineNumber>1){const f=_.lineNumber-1;return new z.L(f,w.getLineMaxColumn(f))}else return _}static leftPositionAtomicSoftTabs(w,_,f){if(_.column<=w.getLineIndentColumn(_.lineNumber)){const m=w.getLineMinColumn(_.lineNumber),a=w.getLineContent(_.lineNumber),x=W.l.atomicPosition(a,_.column-1,f,0);if(x!==-1&&x+1>=m)return new z.L(_.lineNumber,x+1)}return this.leftPosition(w,_)}static left(w,_,f){const m=w.stickyTabStops?M.leftPositionAtomicSoftTabs(_,f,w.tabSize):M.leftPosition(_,f);return new A(m.lineNumber,m.column,0)}static moveLeft(w,_,f,m,a){let x,k;if(f.hasSelection()&&!m)x=f.selection.startLineNumber,k=f.selection.startColumn;else{const T=f.position.delta(void 0,-(a-1)),N=_.normalizePosition(M.clipPositionColumn(T,_),0),L=M.left(w,_,N);x=L.lineNumber,k=L.column}return f.move(m,x,k,0)}static clipPositionColumn(w,_){return new z.L(w.lineNumber,M.clipRange(w.column,_.getLineMinColumn(w.lineNumber),_.getLineMaxColumn(w.lineNumber)))}static clipRange(w,_,f){return w<_?_:w>f?f:w}static rightPosition(w,_,f){return f<w.getLineMaxColumn(_)?f=f+y.vH(w.getLineContent(_),f-1):_<w.getLineCount()&&(_=_+1,f=w.getLineMinColumn(_)),new z.L(_,f)}static rightPositionAtomicSoftTabs(w,_,f,m,a){if(f<w.getLineIndentColumn(_)){const x=w.getLineContent(_),k=W.l.atomicPosition(x,f-1,m,1);if(k!==-1)return new z.L(_,k+1)}return this.rightPosition(w,_,f)}static right(w,_,f){const m=w.stickyTabStops?M.rightPositionAtomicSoftTabs(_,f.lineNumber,f.column,w.tabSize,w.indentSize):M.rightPosition(_,f.lineNumber,f.column);return new A(m.lineNumber,m.column,0)}static moveRight(w,_,f,m,a){let x,k;if(f.hasSelection()&&!m)x=f.selection.endLineNumber,k=f.selection.endColumn;else{const T=f.position.delta(void 0,a-1),N=_.normalizePosition(M.clipPositionColumn(T,_),1),L=M.right(w,_,N);x=L.lineNumber,k=L.column}return f.move(m,x,k,0)}static vertical(w,_,f,m,a,x,k,T){const N=d.i.visibleColumnFromColumn(_.getLineContent(f),m,w.tabSize)+a,L=_.getLineCount(),R=f===1&&m===1,b=f===L&&m===_.getLineMaxColumn(f),P=x<f?R:b;if(f=x,f<1?(f=1,k?m=_.getLineMinColumn(f):m=Math.min(_.getLineMaxColumn(f),m)):f>L?(f=L,k?m=_.getLineMaxColumn(f):m=Math.min(_.getLineMaxColumn(f),m)):m=w.columnFromVisibleColumn(_,f,N),P?a=0:a=N-d.i.visibleColumnFromColumn(_.getLineContent(f),m,w.tabSize),T!==void 0){const V=new z.L(f,m),H=_.normalizePosition(V,T);a=a+(m-H.column),f=H.lineNumber,m=H.column}return new A(f,m,a)}static down(w,_,f,m,a,x,k){return this.vertical(w,_,f,m,a,f+x,k,1)}static moveDown(w,_,f,m,a){let x,k;f.hasSelection()&&!m?(x=f.selection.endLineNumber,k=f.selection.endColumn):(x=f.position.lineNumber,k=f.position.column);const T=M.down(w,_,x,k,f.leftoverVisibleColumns,a,!0);return f.move(m,T.lineNumber,T.column,T.leftoverVisibleColumns)}static translateDown(w,_,f){const m=f.selection,a=M.down(w,_,m.selectionStartLineNumber,m.selectionStartColumn,f.selectionStartLeftoverVisibleColumns,1,!1),x=M.down(w,_,m.positionLineNumber,m.positionColumn,f.leftoverVisibleColumns,1,!1);return new C.rS(new O.e(a.lineNumber,a.column,a.lineNumber,a.column),a.leftoverVisibleColumns,new z.L(x.lineNumber,x.column),x.leftoverVisibleColumns)}static up(w,_,f,m,a,x,k){return this.vertical(w,_,f,m,a,f-x,k,0)}static moveUp(w,_,f,m,a){let x,k;f.hasSelection()&&!m?(x=f.selection.startLineNumber,k=f.selection.startColumn):(x=f.position.lineNumber,k=f.position.column);const T=M.up(w,_,x,k,f.leftoverVisibleColumns,a,!0);return f.move(m,T.lineNumber,T.column,T.leftoverVisibleColumns)}static translateUp(w,_,f){const m=f.selection,a=M.up(w,_,m.selectionStartLineNumber,m.selectionStartColumn,f.selectionStartLeftoverVisibleColumns,1,!1),x=M.up(w,_,m.positionLineNumber,m.positionColumn,f.leftoverVisibleColumns,1,!1);return new C.rS(new O.e(a.lineNumber,a.column,a.lineNumber,a.column),a.leftoverVisibleColumns,new z.L(x.lineNumber,x.column),x.leftoverVisibleColumns)}static _isBlankLine(w,_){return w.getLineFirstNonWhitespaceColumn(_)===0}static moveToPrevBlankLine(w,_,f,m){let a=f.position.lineNumber;for(;a>1&&this._isBlankLine(_,a);)a--;for(;a>1&&!this._isBlankLine(_,a);)a--;return f.move(m,a,_.getLineMinColumn(a),0)}static moveToNextBlankLine(w,_,f,m){const a=_.getLineCount();let x=f.position.lineNumber;for(;x<a&&this._isBlankLine(_,x);)x++;for(;x<a&&!this._isBlankLine(_,x);)x++;return f.move(m,x,_.getLineMinColumn(x),0)}static moveToBeginningOfLine(w,_,f,m){const a=f.position.lineNumber,x=_.getLineMinColumn(a),k=_.getLineFirstNonWhitespaceColumn(a)||x;let T;return f.position.column===k?T=x:T=k,f.move(m,a,T,0)}static moveToEndOfLine(w,_,f,m,a){const x=f.position.lineNumber,k=_.getLineMaxColumn(x);return f.move(m,x,k,a?1073741824-k:0)}static moveToBeginningOfBuffer(w,_,f,m){return f.move(m,1,1,0)}static moveToEndOfBuffer(w,_,f,m){const a=_.getLineCount(),x=_.getLineMaxColumn(a);return f.move(m,a,x,0)}}},28286:function(it,Ee,l){"use strict";l.d(Ee,{u:function(){return a},g:function(){return x}});var C=l(91273),d=l(76311),z=l(27678),O=l(2477),y=l(50757),W=l(83141);class A{constructor(b,P,V){this._range=b,this._charBeforeSelection=P,this._charAfterSelection=V}getEditOperations(b,P){P.addTrackedEditOperation(new y.e(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),P.addTrackedEditOperation(new y.e(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(b,P){const V=P.getInverseEditOperations(),H=V[0].range,ee=V[1].range;return new W.Y(H.endLineNumber,H.endColumn,ee.endLineNumber,ee.endColumn-this._charAfterSelection.length)}}var M=l(92386),I=l(75328),w=l(7747),_=l(54500),f=l(34181),m=l(92893);class a{static indent(b,P,V){if(P===null||V===null)return[];const H=[];for(let ee=0,ae=V.length;ee<ae;ee++)H[ee]=new O.U(V[ee],{isUnshift:!1,tabSize:b.tabSize,indentSize:b.indentSize,insertSpaces:b.insertSpaces,useTabStops:b.useTabStops,autoIndent:b.autoIndent});return H}static outdent(b,P,V){const H=[];for(let ee=0,ae=V.length;ee<ae;ee++)H[ee]=new O.U(V[ee],{isUnshift:!0,tabSize:b.tabSize,indentSize:b.indentSize,insertSpaces:b.insertSpaces,useTabStops:b.useTabStops,autoIndent:b.autoIndent});return H}static shiftIndent(b,P,V){return V=V||1,O.U.shiftIndent(P,P.length+V,b.tabSize,b.indentSize,b.insertSpaces)}static unshiftIndent(b,P,V){return V=V||1,O.U.unshiftIndent(P,P.length+V,b.tabSize,b.indentSize,b.insertSpaces)}static _distributedPaste(b,P,V,H){const ee=[];for(let ae=0,me=V.length;ae<me;ae++)ee[ae]=new z.T4(V[ae],H[ae]);return new M.Tp(0,ee,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(b,P,V,H,ee){const ae=[];for(let me=0,ge=V.length;me<ge;me++){const re=V[me],se=re.getPosition();if(ee&&!re.isEmpty()&&(ee=!1),ee&&H.indexOf(`
`)!==H.length-1&&(ee=!1),ee){const X=new y.e(se.lineNumber,1,se.lineNumber,1);ae[me]=new z.hP(X,H,re,!0)}else ae[me]=new z.T4(re,H)}return new M.Tp(0,ae,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(b,P,V,H,ee){if(H||P.length===1)return null;if(ee&&ee.length===P.length)return ee;if(b.multiCursorPaste==="spread"){V.charCodeAt(V.length-1)===10&&(V=V.substr(0,V.length-1)),V.charCodeAt(V.length-1)===13&&(V=V.substr(0,V.length-1));const ae=d.uq(V);if(ae.length===P.length)return ae}return null}static paste(b,P,V,H,ee,ae){const me=this._distributePasteToCursors(b,V,H,ee,ae);return me?(V=V.sort(y.e.compareRangesUsingStarts),this._distributedPaste(b,P,V,me)):this._simplePaste(b,P,V,H,ee)}static _goodIndentForLine(b,P,V){let H=null,ee="";const ae=f.zu.getInheritIndentForLine(b.autoIndent,P,V,!1);if(ae)H=ae.action,ee=ae.indentation;else if(V>1){let me;for(me=V-1;me>=1;me--){const se=P.getLineContent(me);if(d.ow(se)>=0)break}if(me<1)return null;const ge=P.getLineMaxColumn(me),re=f.zu.getEnterAction(b.autoIndent,P,new y.e(me,ge,me,ge));re&&(ee=re.indentation+re.appendText)}return H&&(H===_.wU.Indent&&(ee=a.shiftIndent(b,ee)),H===_.wU.Outdent&&(ee=a.unshiftIndent(b,ee)),ee=b.normalizeIndentation(ee)),ee||null}static _replaceJumpToNextIndent(b,P,V,H){let ee="";const ae=V.getStartPosition();if(b.insertSpaces){const me=b.visibleColumnFromColumn(P,ae),ge=b.indentSize,re=ge-me%ge;for(let se=0;se<re;se++)ee+=" "}else ee="	";return new z.T4(V,ee,H)}static tab(b,P,V){const H=[];for(let ee=0,ae=V.length;ee<ae;ee++){const me=V[ee];if(me.isEmpty()){const ge=P.getLineContent(me.startLineNumber);if(/^\s*$/.test(ge)&&P.isCheapToTokenize(me.startLineNumber)){let re=this._goodIndentForLine(b,P,me.startLineNumber);re=re||"	";const se=b.normalizeIndentation(re);if(!ge.startsWith(se)){H[ee]=new z.T4(new y.e(me.startLineNumber,1,me.startLineNumber,ge.length+1),se,!0);continue}}H[ee]=this._replaceJumpToNextIndent(b,P,me,!0)}else{if(me.startLineNumber===me.endLineNumber){const ge=P.getLineMaxColumn(me.startLineNumber);if(me.startColumn!==1||me.endColumn!==ge){H[ee]=this._replaceJumpToNextIndent(b,P,me,!1);continue}}H[ee]=new O.U(me,{isUnshift:!1,tabSize:b.tabSize,indentSize:b.indentSize,insertSpaces:b.insertSpaces,useTabStops:b.useTabStops,autoIndent:b.autoIndent})}}return H}static compositionType(b,P,V,H,ee,ae,me,ge){const re=H.map(se=>this._compositionType(V,se,ee,ae,me,ge));return new M.Tp(4,re,{shouldPushStackElementBefore:T(b,4),shouldPushStackElementAfter:!1})}static _compositionType(b,P,V,H,ee,ae){if(!P.isEmpty())return null;const me=P.getPosition(),ge=Math.max(1,me.column-H),re=Math.min(b.getLineMaxColumn(me.lineNumber),me.column+ee),se=new y.e(me.lineNumber,ge,me.lineNumber,re);return b.getValueInRange(se)===V&&ae===0?null:new z.Uo(se,V,0,ae)}static _typeCommand(b,P,V){return V?new z.Sj(b,P,!0):new z.T4(b,P,!0)}static _enter(b,P,V,H){if(b.autoIndent===0)return a._typeCommand(H,`
`,V);if(!P.isCheapToTokenize(H.getStartPosition().lineNumber)||b.autoIndent===1){const ge=P.getLineContent(H.startLineNumber),re=d.V8(ge).substring(0,H.startColumn-1);return a._typeCommand(H,`
`+b.normalizeIndentation(re),V)}const ee=f.zu.getEnterAction(b.autoIndent,P,H);if(ee){if(ee.indentAction===_.wU.None)return a._typeCommand(H,`
`+b.normalizeIndentation(ee.indentation+ee.appendText),V);if(ee.indentAction===_.wU.Indent)return a._typeCommand(H,`
`+b.normalizeIndentation(ee.indentation+ee.appendText),V);if(ee.indentAction===_.wU.IndentOutdent){const ge=b.normalizeIndentation(ee.indentation),re=b.normalizeIndentation(ee.indentation+ee.appendText),se=`
`+re+`
`+ge;return V?new z.Sj(H,se,!0):new z.Uo(H,se,-1,re.length-ge.length,!0)}else if(ee.indentAction===_.wU.Outdent){const ge=a.unshiftIndent(b,ee.indentation);return a._typeCommand(H,`
`+b.normalizeIndentation(ge+ee.appendText),V)}}const ae=P.getLineContent(H.startLineNumber),me=d.V8(ae).substring(0,H.startColumn-1);if(b.autoIndent>=4){const ge=f.zu.getIndentForEnter(b.autoIndent,P,H,{unshiftIndent:re=>a.unshiftIndent(b,re),shiftIndent:re=>a.shiftIndent(b,re),normalizeIndentation:re=>b.normalizeIndentation(re)});if(ge){let re=b.visibleColumnFromColumn(P,H.getEndPosition());const se=H.endColumn,X=P.getLineContent(H.endLineNumber),$=d.LC(X);if($>=0?H=H.setEndPosition(H.endLineNumber,Math.max(H.endColumn,$+1)):H=H.setEndPosition(H.endLineNumber,P.getLineMaxColumn(H.endLineNumber)),V)return new z.Sj(H,`
`+b.normalizeIndentation(ge.afterEnter),!0);{let j=0;return se<=$+1&&(b.insertSpaces||(re=Math.ceil(re/b.indentSize)),j=Math.min(re+1-b.normalizeIndentation(ge.afterEnter).length-1,0)),new z.Uo(H,`
`+b.normalizeIndentation(ge.afterEnter),0,j,!0)}}}return a._typeCommand(H,`
`+b.normalizeIndentation(me),V)}static _isAutoIndentType(b,P,V){if(b.autoIndent<4)return!1;for(let H=0,ee=V.length;H<ee;H++)if(!P.isCheapToTokenize(V[H].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(b,P,V,H){const ee=f.zu.getIndentationAtPosition(P,V.startLineNumber,V.startColumn),ae=f.zu.getIndentActionForType(b.autoIndent,P,V,H,{shiftIndent:me=>a.shiftIndent(b,me),unshiftIndent:me=>a.unshiftIndent(b,me)});if(ae===null)return null;if(ae!==b.normalizeIndentation(ee)){const me=P.getLineFirstNonWhitespaceColumn(V.startLineNumber);return me===0?a._typeCommand(new y.e(V.startLineNumber,1,V.endLineNumber,V.endColumn),b.normalizeIndentation(ae)+H,!1):a._typeCommand(new y.e(V.startLineNumber,1,V.endLineNumber,V.endColumn),b.normalizeIndentation(ae)+P.getLineContent(V.startLineNumber).substring(me-1,V.startColumn-1)+H,!1)}return null}static _isAutoClosingOvertype(b,P,V,H,ee){if(b.autoClosingOvertype==="never"||!b.autoClosingPairs.autoClosingPairsCloseSingleChar.has(ee))return!1;for(let ae=0,me=V.length;ae<me;ae++){const ge=V[ae];if(!ge.isEmpty())return!1;const re=ge.getPosition(),se=P.getLineContent(re.lineNumber);if(se.charAt(re.column-1)!==ee)return!1;const $=(0,M.LN)(ee);if((re.column>2?se.charCodeAt(re.column-2):0)===92&&$)return!1;if(b.autoClosingOvertype==="auto"){let ie=!1;for(let J=0,oe=H.length;J<oe;J++){const ce=H[J];if(re.lineNumber===ce.startLineNumber&&re.column===ce.startColumn){ie=!0;break}}if(!ie)return!1}}return!0}static _runAutoClosingOvertype(b,P,V,H,ee){const ae=[];for(let me=0,ge=H.length;me<ge;me++){const se=H[me].getPosition(),X=new y.e(se.lineNumber,se.column,se.lineNumber,se.column+1);ae[me]=new z.T4(X,ee)}return new M.Tp(4,ae,{shouldPushStackElementBefore:T(b,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(b,P){const V=P.charAt(0),H=b.autoClosingPairs.autoClosingPairsOpenByStart.get(V)||[],ee=b.autoClosingPairs.autoClosingPairsCloseByStart.get(V)||[],ae=H.some(ge=>P.startsWith(ge.open)),me=ee.some(ge=>P.startsWith(ge.close));return!ae&&me}static _findAutoClosingPairOpen(b,P,V,H){const ee=b.autoClosingPairs.autoClosingPairsOpenByEnd.get(H);if(!ee)return null;let ae=null;for(const me of ee)if(ae===null||me.open.length>ae.open.length){let ge=!0;for(const re of V)if(P.getValueInRange(new y.e(re.lineNumber,re.column-me.open.length+1,re.lineNumber,re.column))+H!==me.open){ge=!1;break}ge&&(ae=me)}return ae}static _findContainedAutoClosingPair(b,P){if(P.open.length<=1)return null;const V=P.close.charAt(P.close.length-1),H=b.autoClosingPairs.autoClosingPairsCloseByEnd.get(V)||[];let ee=null;for(const ae of H)ae.open!==P.open&&P.open.includes(ae.open)&&P.close.endsWith(ae.close)&&(!ee||ae.open.length>ee.open.length)&&(ee=ae);return ee}static _getAutoClosingPairClose(b,P,V,H,ee){const ae=(0,M.LN)(H),me=ae?b.autoClosingQuotes:b.autoClosingBrackets,ge=ae?b.shouldAutoCloseBefore.quote:b.shouldAutoCloseBefore.bracket;if(me==="never")return null;for(const ie of V)if(!ie.isEmpty())return null;const re=V.map(ie=>{const J=ie.getPosition();return ee?{lineNumber:J.lineNumber,beforeColumn:J.column-H.length,afterColumn:J.column}:{lineNumber:J.lineNumber,beforeColumn:J.column,afterColumn:J.column}}),se=this._findAutoClosingPairOpen(b,P,re.map(ie=>new w.L(ie.lineNumber,ie.beforeColumn)),H);if(!se)return null;const X=this._findContainedAutoClosingPair(b,se),$=X?X.close:"";let j=!0;for(const ie of re){const{lineNumber:J,beforeColumn:oe,afterColumn:ce}=ie,we=P.getLineContent(J),Me=we.substring(0,oe-1),Ke=we.substring(ce-1);if(Ke.startsWith($)||(j=!1),Ke.length>0){const et=Ke.charAt(0);if(!a._isBeforeClosingBrace(b,Ke)&&!ge(et))return null}if(se.open.length===1&&(H==="'"||H==='"')&&me!=="always"){const et=(0,I.u)(b.wordSeparators);if(Me.length>0){const Kt=Me.charCodeAt(Me.length-1);if(et.get(Kt)===0)return null}}if(!P.isCheapToTokenize(J))return null;P.forceTokenization(J);const De=P.getLineTokens(J),be=(0,m.wH)(De,oe-1);if(!se.shouldAutoClose(be,oe-be.firstCharOffset))return null;const We=se.findNeutralCharacter();if(We){const et=P.getTokenTypeIfInsertingCharacter(J,oe,We);if(!se.isOK(et))return null}}return j?se.close.substring(0,se.close.length-$.length):se.close}static _runAutoClosingOpenCharType(b,P,V,H,ee,ae,me){const ge=[];for(let re=0,se=H.length;re<se;re++){const X=H[re];ge[re]=new x(X,ee,!ae,me)}return new M.Tp(4,ge,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(b,P){return(0,M.LN)(P)?b.autoSurround==="quotes"||b.autoSurround==="languageDefined":b.autoSurround==="brackets"||b.autoSurround==="languageDefined"}static _isSurroundSelectionType(b,P,V,H){if(!a._shouldSurroundChar(b,H)||!b.surroundingPairs.hasOwnProperty(H))return!1;const ee=(0,M.LN)(H);for(let ae=0,me=V.length;ae<me;ae++){const ge=V[ae];if(ge.isEmpty())return!1;let re=!0;for(let se=ge.startLineNumber;se<=ge.endLineNumber;se++){const X=P.getLineContent(se),$=se===ge.startLineNumber?ge.startColumn-1:0,j=se===ge.endLineNumber?ge.endColumn-1:X.length,ie=X.substring($,j);if(/[^ \t]/.test(ie)){re=!1;break}}if(re)return!1;if(ee&&ge.startLineNumber===ge.endLineNumber&&ge.startColumn+1===ge.endColumn){const se=P.getValueInRange(ge);if((0,M.LN)(se))return!1}}return!0}static _runSurroundSelectionType(b,P,V,H,ee){const ae=[];for(let me=0,ge=H.length;me<ge;me++){const re=H[me],se=P.surroundingPairs[ee];ae[me]=new A(re,ee,se)}return new M.Tp(0,ae,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(b,P,V){return!!(V.length===1&&P.isCheapToTokenize(V[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(b,P,V,H,ee){if(!P.electricChars.hasOwnProperty(ee)||!H.isEmpty())return null;const ae=H.getPosition();V.forceTokenization(ae.lineNumber);const me=V.getLineTokens(ae.lineNumber);let ge;try{ge=P.onElectricCharacter(ee,me,ae.column)}catch(re){return(0,C.dL)(re),null}if(!ge)return null;if(ge.matchOpenBracket){const re=(me.getLineContent()+ee).lastIndexOf(ge.matchOpenBracket)+1,se=V.bracketPairs.findMatchingBracketUp(ge.matchOpenBracket,{lineNumber:ae.lineNumber,column:re},500);if(se){if(se.startLineNumber===ae.lineNumber)return null;const X=V.getLineContent(se.startLineNumber),$=d.V8(X),j=P.normalizeIndentation($),ie=V.getLineContent(ae.lineNumber),J=V.getLineFirstNonWhitespaceColumn(ae.lineNumber)||ae.column,oe=ie.substring(J-1,ae.column-1),ce=j+oe+ee,we=new y.e(ae.lineNumber,1,ae.lineNumber,ae.column),Me=new z.T4(we,ce);return new M.Tp(k(ce,b),[Me],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(b,P,V,H,ee,ae){if(!H||W.Y.selectionsArrEqual(H,ee))return null;let me=null;for(const re of ee){if(!re.isEmpty())return null;const se=re.getPosition(),X=V.getValueInRange(new y.e(se.lineNumber,se.column-1,se.lineNumber,se.column));if(me===null)me=X;else if(me!==X)return null}if(!me)return null;if(this._isAutoClosingOvertype(P,V,ee,ae,me)){const re=ee.map(se=>new z.T4(new y.e(se.positionLineNumber,se.positionColumn,se.positionLineNumber,se.positionColumn+1),"",!1));return new M.Tp(4,re,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const ge=this._getAutoClosingPairClose(P,V,ee,me,!0);return ge!==null?this._runAutoClosingOpenCharType(b,P,V,ee,me,!0,ge):null}static typeWithInterceptors(b,P,V,H,ee,ae,me){if(!b&&me===`
`){const se=[];for(let X=0,$=ee.length;X<$;X++)se[X]=a._enter(V,H,!1,ee[X]);return new M.Tp(4,se,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!b&&this._isAutoIndentType(V,H,ee)){const se=[];let X=!1;for(let $=0,j=ee.length;$<j;$++)if(se[$]=this._runAutoIndentType(V,H,ee[$],me),!se[$]){X=!0;break}if(!X)return new M.Tp(4,se,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!b&&this._isAutoClosingOvertype(V,H,ee,ae,me))return this._runAutoClosingOvertype(P,V,H,ee,me);if(!b){const se=this._getAutoClosingPairClose(V,H,ee,me,!1);if(se)return this._runAutoClosingOpenCharType(P,V,H,ee,me,!1,se)}if(this._isSurroundSelectionType(V,H,ee,me))return this._runSurroundSelectionType(P,V,H,ee,me);if(!b&&this._isTypeInterceptorElectricChar(V,H,ee)){const se=this._typeInterceptorElectricChar(P,V,H,ee[0],me);if(se)return se}const ge=[];for(let se=0,X=ee.length;se<X;se++)ge[se]=new z.T4(ee[se],me);const re=k(me,P);return new M.Tp(re,ge,{shouldPushStackElementBefore:T(P,re),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(b,P,V,H,ee){const ae=[];for(let ge=0,re=H.length;ge<re;ge++)ae[ge]=new z.T4(H[ge],ee);const me=k(ee,b);return new M.Tp(me,ae,{shouldPushStackElementBefore:T(b,me),shouldPushStackElementAfter:!1})}static lineInsertBefore(b,P,V){if(P===null||V===null)return[];const H=[];for(let ee=0,ae=V.length;ee<ae;ee++){let me=V[ee].positionLineNumber;if(me===1)H[ee]=new z.Sj(new y.e(1,1,1,1),`
`);else{me--;const ge=P.getLineMaxColumn(me);H[ee]=this._enter(b,P,!1,new y.e(me,ge,me,ge))}}return H}static lineInsertAfter(b,P,V){if(P===null||V===null)return[];const H=[];for(let ee=0,ae=V.length;ee<ae;ee++){const me=V[ee].positionLineNumber,ge=P.getLineMaxColumn(me);H[ee]=this._enter(b,P,!1,new y.e(me,ge,me,ge))}return H}static lineBreakInsert(b,P,V){const H=[];for(let ee=0,ae=V.length;ee<ae;ee++)H[ee]=this._enter(b,P,!0,V[ee]);return H}}class x extends z.Uo{constructor(b,P,V,H){super(b,(V?P:"")+H,0,-H.length),this._openCharacter=P,this._closeCharacter=H,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(b,P){const H=P.getInverseEditOperations()[0].range;return this.closeCharacterRange=new y.e(H.startLineNumber,H.endColumn-this._closeCharacter.length,H.endLineNumber,H.endColumn),this.enclosingRange=new y.e(H.startLineNumber,H.endColumn-this._openCharacter.length-this._closeCharacter.length,H.endLineNumber,H.endColumn),super.computeCursorState(b,P)}}function k(R,b){return R===" "?b===5||b===6?6:5:4}function T(R,b){return L(R)&&!L(b)?!0:R===5?!1:N(R)!==N(b)}function N(R){return R===6||R===5?"space":R}function L(R){return R===4||R===5||R===6}},1712:function(it,Ee,l){"use strict";l.d(Ee,{L:function(){return M},w:function(){return A}});var C=l(76311),d=l(92386),z=l(92244),O=l(75328),y=l(7747),W=l(50757);class A{static _createWord(_,f,m,a,x){return{start:a,end:x,wordType:f,nextCharClass:m}}static _findPreviousWordOnLine(_,f,m){const a=f.getLineContent(m.lineNumber);return this._doFindPreviousWordOnLine(a,_,m)}static _doFindPreviousWordOnLine(_,f,m){let a=0;for(let x=m.column-2;x>=0;x--){const k=_.charCodeAt(x),T=f.get(k);if(T===0){if(a===2)return this._createWord(_,a,T,x+1,this._findEndOfWord(_,f,a,x+1));a=1}else if(T===2){if(a===1)return this._createWord(_,a,T,x+1,this._findEndOfWord(_,f,a,x+1));a=2}else if(T===1&&a!==0)return this._createWord(_,a,T,x+1,this._findEndOfWord(_,f,a,x+1))}return a!==0?this._createWord(_,a,1,0,this._findEndOfWord(_,f,a,0)):null}static _findEndOfWord(_,f,m,a){const x=_.length;for(let k=a;k<x;k++){const T=_.charCodeAt(k),N=f.get(T);if(N===1||m===1&&N===2||m===2&&N===0)return k}return x}static _findNextWordOnLine(_,f,m){const a=f.getLineContent(m.lineNumber);return this._doFindNextWordOnLine(a,_,m)}static _doFindNextWordOnLine(_,f,m){let a=0;const x=_.length;for(let k=m.column-1;k<x;k++){const T=_.charCodeAt(k),N=f.get(T);if(N===0){if(a===2)return this._createWord(_,a,N,this._findStartOfWord(_,f,a,k-1),k);a=1}else if(N===2){if(a===1)return this._createWord(_,a,N,this._findStartOfWord(_,f,a,k-1),k);a=2}else if(N===1&&a!==0)return this._createWord(_,a,N,this._findStartOfWord(_,f,a,k-1),k)}return a!==0?this._createWord(_,a,1,this._findStartOfWord(_,f,a,x-1),x):null}static _findStartOfWord(_,f,m,a){for(let x=a;x>=0;x--){const k=_.charCodeAt(x),T=f.get(k);if(T===1||m===1&&T===2||m===2&&T===0)return x+1}return 0}static moveWordLeft(_,f,m,a){let x=m.lineNumber,k=m.column;k===1&&x>1&&(x=x-1,k=f.getLineMaxColumn(x));let T=A._findPreviousWordOnLine(_,f,new y.L(x,k));if(a===0)return new y.L(x,T?T.start+1:1);if(a===1)return T&&T.wordType===2&&T.end-T.start===1&&T.nextCharClass===0&&(T=A._findPreviousWordOnLine(_,f,new y.L(x,T.start+1))),new y.L(x,T?T.start+1:1);if(a===3){for(;T&&T.wordType===2;)T=A._findPreviousWordOnLine(_,f,new y.L(x,T.start+1));return new y.L(x,T?T.start+1:1)}return T&&k<=T.end+1&&(T=A._findPreviousWordOnLine(_,f,new y.L(x,T.start+1))),new y.L(x,T?T.end+1:1)}static _moveWordPartLeft(_,f){const m=f.lineNumber,a=_.getLineMaxColumn(m);if(f.column===1)return m>1?new y.L(m-1,_.getLineMaxColumn(m-1)):f;const x=_.getLineContent(m);for(let k=f.column-1;k>1;k--){const T=x.charCodeAt(k-2),N=x.charCodeAt(k-1);if(T===95&&N!==95)return new y.L(m,k);if(C.mK(T)&&C.df(N))return new y.L(m,k);if(C.df(T)&&C.df(N)&&k+1<a){const L=x.charCodeAt(k);if(C.mK(L))return new y.L(m,k)}}return new y.L(m,1)}static moveWordRight(_,f,m,a){let x=m.lineNumber,k=m.column,T=!1;k===f.getLineMaxColumn(x)&&x<f.getLineCount()&&(T=!0,x=x+1,k=1);let N=A._findNextWordOnLine(_,f,new y.L(x,k));if(a===2)N&&N.wordType===2&&N.end-N.start===1&&N.nextCharClass===0&&(N=A._findNextWordOnLine(_,f,new y.L(x,N.end+1))),N?k=N.end+1:k=f.getLineMaxColumn(x);else if(a===3){for(T&&(k=0);N&&(N.wordType===2||N.start+1<=k);)N=A._findNextWordOnLine(_,f,new y.L(x,N.end+1));N?k=N.start+1:k=f.getLineMaxColumn(x)}else N&&!T&&k>=N.start+1&&(N=A._findNextWordOnLine(_,f,new y.L(x,N.end+1))),N?k=N.start+1:k=f.getLineMaxColumn(x);return new y.L(x,k)}static _moveWordPartRight(_,f){const m=f.lineNumber,a=_.getLineMaxColumn(m);if(f.column===a)return m<_.getLineCount()?new y.L(m+1,1):f;const x=_.getLineContent(m);for(let k=f.column+1;k<a;k++){const T=x.charCodeAt(k-2),N=x.charCodeAt(k-1);if(T!==95&&N===95)return new y.L(m,k);if(C.mK(T)&&C.df(N))return new y.L(m,k);if(C.df(T)&&C.df(N)&&k+1<a){const L=x.charCodeAt(k);if(C.mK(L))return new y.L(m,k)}}return new y.L(m,a)}static _deleteWordLeftWhitespace(_,f){const m=_.getLineContent(f.lineNumber),a=f.column-2,x=C.ow(m,a);return x+1<a?new W.e(f.lineNumber,x+2,f.lineNumber,f.column):null}static deleteWordLeft(_,f){const m=_.wordSeparators,a=_.model,x=_.selection,k=_.whitespaceHeuristics;if(!x.isEmpty())return x;if(z.A.isAutoClosingPairDelete(_.autoClosingDelete,_.autoClosingBrackets,_.autoClosingQuotes,_.autoClosingPairs.autoClosingPairsOpenByEnd,_.model,[_.selection],_.autoClosedCharacters)){const b=_.selection.getPosition();return new W.e(b.lineNumber,b.column-1,b.lineNumber,b.column+1)}const T=new y.L(x.positionLineNumber,x.positionColumn);let N=T.lineNumber,L=T.column;if(N===1&&L===1)return null;if(k){const b=this._deleteWordLeftWhitespace(a,T);if(b)return b}let R=A._findPreviousWordOnLine(m,a,T);return f===0?R?L=R.start+1:L>1?L=1:(N--,L=a.getLineMaxColumn(N)):(R&&L<=R.end+1&&(R=A._findPreviousWordOnLine(m,a,new y.L(N,R.start+1))),R?L=R.end+1:L>1?L=1:(N--,L=a.getLineMaxColumn(N))),new W.e(N,L,T.lineNumber,T.column)}static deleteInsideWord(_,f,m){if(!m.isEmpty())return m;const a=new y.L(m.positionLineNumber,m.positionColumn),x=this._deleteInsideWordWhitespace(f,a);return x||this._deleteInsideWordDetermineDeleteRange(_,f,a)}static _charAtIsWhitespace(_,f){const m=_.charCodeAt(f);return m===32||m===9}static _deleteInsideWordWhitespace(_,f){const m=_.getLineContent(f.lineNumber),a=m.length;if(a===0)return null;let x=Math.max(f.column-2,0);if(!this._charAtIsWhitespace(m,x))return null;let k=Math.min(f.column-1,a-1);if(!this._charAtIsWhitespace(m,k))return null;for(;x>0&&this._charAtIsWhitespace(m,x-1);)x--;for(;k+1<a&&this._charAtIsWhitespace(m,k+1);)k++;return new W.e(f.lineNumber,x+1,f.lineNumber,k+2)}static _deleteInsideWordDetermineDeleteRange(_,f,m){const a=f.getLineContent(m.lineNumber),x=a.length;if(x===0)return m.lineNumber>1?new W.e(m.lineNumber-1,f.getLineMaxColumn(m.lineNumber-1),m.lineNumber,1):m.lineNumber<f.getLineCount()?new W.e(m.lineNumber,1,m.lineNumber+1,1):new W.e(m.lineNumber,1,m.lineNumber,1);const k=b=>b.start+1<=m.column&&m.column<=b.end+1,T=(b,P)=>(b=Math.min(b,m.column),P=Math.max(P,m.column),new W.e(m.lineNumber,b,m.lineNumber,P)),N=b=>{let P=b.start+1,V=b.end+1,H=!1;for(;V-1<x&&this._charAtIsWhitespace(a,V-1);)H=!0,V++;if(!H)for(;P>1&&this._charAtIsWhitespace(a,P-2);)P--;return T(P,V)},L=A._findPreviousWordOnLine(_,f,m);if(L&&k(L))return N(L);const R=A._findNextWordOnLine(_,f,m);return R&&k(R)?N(R):L&&R?T(L.end+1,R.start+1):L?T(L.start+1,L.end+1):R?T(R.start+1,R.end+1):T(1,x+1)}static _deleteWordPartLeft(_,f){if(!f.isEmpty())return f;const m=f.getPosition(),a=A._moveWordPartLeft(_,m);return new W.e(m.lineNumber,m.column,a.lineNumber,a.column)}static _findFirstNonWhitespaceChar(_,f){const m=_.length;for(let a=f;a<m;a++){const x=_.charAt(a);if(x!==" "&&x!=="	")return a}return m}static _deleteWordRightWhitespace(_,f){const m=_.getLineContent(f.lineNumber),a=f.column-1,x=this._findFirstNonWhitespaceChar(m,a);return a+1<x?new W.e(f.lineNumber,f.column,f.lineNumber,x+1):null}static deleteWordRight(_,f){const m=_.wordSeparators,a=_.model,x=_.selection,k=_.whitespaceHeuristics;if(!x.isEmpty())return x;const T=new y.L(x.positionLineNumber,x.positionColumn);let N=T.lineNumber,L=T.column;const R=a.getLineCount(),b=a.getLineMaxColumn(N);if(N===R&&L===b)return null;if(k){const V=this._deleteWordRightWhitespace(a,T);if(V)return V}let P=A._findNextWordOnLine(m,a,T);return f===2?P?L=P.end+1:L<b||N===R?L=b:(N++,P=A._findNextWordOnLine(m,a,new y.L(N,1)),P?L=P.start+1:L=a.getLineMaxColumn(N)):(P&&L>=P.start+1&&(P=A._findNextWordOnLine(m,a,new y.L(N,P.end+1))),P?L=P.start+1:L<b||N===R?L=b:(N++,P=A._findNextWordOnLine(m,a,new y.L(N,1)),P?L=P.start+1:L=a.getLineMaxColumn(N))),new W.e(N,L,T.lineNumber,T.column)}static _deleteWordPartRight(_,f){if(!f.isEmpty())return f;const m=f.getPosition(),a=A._moveWordPartRight(_,m);return new W.e(m.lineNumber,m.column,a.lineNumber,a.column)}static _createWordAtPosition(_,f,m){const a=new W.e(f,m.start+1,f,m.end+1);return{word:_.getValueInRange(a),startColumn:a.startColumn,endColumn:a.endColumn}}static getWordAtPosition(_,f,m){const a=(0,O.u)(f),x=A._findPreviousWordOnLine(a,_,m);if(x&&x.wordType===1&&x.start<=m.column-1&&m.column-1<=x.end)return A._createWordAtPosition(_,m.lineNumber,x);const k=A._findNextWordOnLine(a,_,m);return k&&k.wordType===1&&k.start<=m.column-1&&m.column-1<=k.end?A._createWordAtPosition(_,m.lineNumber,k):null}static word(_,f,m,a,x){const k=(0,O.u)(_.wordSeparators),T=A._findPreviousWordOnLine(k,f,x),N=A._findNextWordOnLine(k,f,x);if(!a){let V,H;return T&&T.wordType===1&&T.start<=x.column-1&&x.column-1<=T.end?(V=T.start+1,H=T.end+1):N&&N.wordType===1&&N.start<=x.column-1&&x.column-1<=N.end?(V=N.start+1,H=N.end+1):(T?V=T.end+1:V=1,N?H=N.start+1:H=f.getLineMaxColumn(x.lineNumber)),new d.rS(new W.e(x.lineNumber,V,x.lineNumber,H),0,new y.L(x.lineNumber,H),0)}let L,R;T&&T.wordType===1&&T.start<x.column-1&&x.column-1<T.end?(L=T.start+1,R=T.end+1):N&&N.wordType===1&&N.start<x.column-1&&x.column-1<N.end?(L=N.start+1,R=N.end+1):(L=x.column,R=x.column);const b=x.lineNumber;let P;if(m.selectionStart.containsPosition(x))P=m.selectionStart.endColumn;else if(x.isBeforeOrEqual(m.selectionStart.getStartPosition())){P=L;const V=new y.L(b,P);m.selectionStart.containsPosition(V)&&(P=m.selectionStart.endColumn)}else{P=R;const V=new y.L(b,P);m.selectionStart.containsPosition(V)&&(P=m.selectionStart.startColumn)}return m.move(!0,b,P,0)}}class M extends A{static deleteWordPartLeft(_){const f=I([A.deleteWordLeft(_,0),A.deleteWordLeft(_,2),A._deleteWordPartLeft(_.model,_.selection)]);return f.sort(W.e.compareRangesUsingEnds),f[2]}static deleteWordPartRight(_){const f=I([A.deleteWordRight(_,0),A.deleteWordRight(_,2),A._deleteWordPartRight(_.model,_.selection)]);return f.sort(W.e.compareRangesUsingStarts),f[0]}static moveWordPartLeft(_,f,m){const a=I([A.moveWordLeft(_,f,m,0),A.moveWordLeft(_,f,m,2),A._moveWordPartLeft(f,m)]);return a.sort(y.L.compare),a[2]}static moveWordPartRight(_,f,m){const a=I([A.moveWordRight(_,f,m,0),A.moveWordRight(_,f,m,2),A._moveWordPartRight(f,m)]);return a.sort(y.L.compare),a[0]}}function I(w){return w.filter(_=>Boolean(_))}},92386:function(it,Ee,l){"use strict";l.d(Ee,{LM:function(){return w},LN:function(){return k},Tp:function(){return x},Vi:function(){return _},rS:function(){return a}});var C=l(7747),d=l(50757),z=l(83141),O=l(92893),y=l(22761),W=l(93788);const A=()=>!0,M=()=>!1,I=T=>T===" "||T==="	";class w{constructor(N,L,R,b){this.languageConfigurationService=b,this._cursorMoveConfigurationBrand=void 0,this._languageId=N;const P=R.options,V=P.get(131);this.readOnly=P.get(81),this.tabSize=L.tabSize,this.indentSize=L.indentSize,this.insertSpaces=L.insertSpaces,this.stickyTabStops=P.get(104),this.lineHeight=P.get(59),this.pageSize=Math.max(1,Math.floor(V.height/this.lineHeight)-2),this.useTabStops=P.get(116),this.wordSeparators=P.get(117),this.emptySelectionClipboard=P.get(32),this.copyWithSyntaxHighlighting=P.get(21),this.multiCursorMergeOverlapping=P.get(69),this.multiCursorPaste=P.get(71),this.autoClosingBrackets=P.get(5),this.autoClosingQuotes=P.get(8),this.autoClosingDelete=P.get(6),this.autoClosingOvertype=P.get(7),this.autoSurround=P.get(11),this.autoIndent=P.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(N,this.autoClosingQuotes),bracket:this._getShouldAutoClose(N,this.autoClosingBrackets)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(N).getAutoClosingPairs();const H=this.languageConfigurationService.getLanguageConfiguration(N).getSurroundingPairs();if(H)for(const ee of H)this.surroundingPairs[ee.open]=ee.close}static shouldRecreate(N){return N.hasChanged(131)||N.hasChanged(117)||N.hasChanged(32)||N.hasChanged(69)||N.hasChanged(71)||N.hasChanged(5)||N.hasChanged(8)||N.hasChanged(6)||N.hasChanged(7)||N.hasChanged(11)||N.hasChanged(116)||N.hasChanged(59)||N.hasChanged(81)}get electricChars(){var N;if(!this._electricChars){this._electricChars={};const L=(N=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||N===void 0?void 0:N.getElectricCharacters();if(L)for(const R of L)this._electricChars[R]=!0}return this._electricChars}onElectricCharacter(N,L,R){const b=(0,O.wH)(L,R-1),P=this.languageConfigurationService.getLanguageConfiguration(b.languageId).electricCharacter;return P?P.onElectricCharacter(N,b,R-b.firstCharOffset):null}normalizeIndentation(N){return(0,W.x)(N,this.indentSize,this.insertSpaces)}_getShouldAutoClose(N,L){switch(L){case"beforeWhitespace":return I;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(N);case"always":return A;case"never":return M}}_getLanguageDefinedShouldAutoClose(N){const L=this.languageConfigurationService.getLanguageConfiguration(N).getAutoCloseBeforeSet();return R=>L.indexOf(R)!==-1}visibleColumnFromColumn(N,L){return y.i.visibleColumnFromColumn(N.getLineContent(L.lineNumber),L.column,this.tabSize)}columnFromVisibleColumn(N,L,R){const b=y.i.columnFromVisibleColumn(N.getLineContent(L),R,this.tabSize),P=N.getLineMinColumn(L);if(b<P)return P;const V=N.getLineMaxColumn(L);return b>V?V:b}}class _{constructor(N,L){this._cursorStateBrand=void 0,this.modelState=N,this.viewState=L}static fromModelState(N){return new f(N)}static fromViewState(N){return new m(N)}static fromModelSelection(N){const L=z.Y.liftSelection(N),R=new a(d.e.fromPositions(L.getSelectionStart()),0,L.getPosition(),0);return _.fromModelState(R)}static fromModelSelections(N){const L=[];for(let R=0,b=N.length;R<b;R++)L[R]=this.fromModelSelection(N[R]);return L}equals(N){return this.viewState.equals(N.viewState)&&this.modelState.equals(N.modelState)}}class f{constructor(N){this.modelState=N,this.viewState=null}}class m{constructor(N){this.modelState=null,this.viewState=N}}class a{constructor(N,L,R,b){this._singleCursorStateBrand=void 0,this.selectionStart=N,this.selectionStartLeftoverVisibleColumns=L,this.position=R,this.leftoverVisibleColumns=b,this.selection=a._computeSelection(this.selectionStart,this.position)}equals(N){return this.selectionStartLeftoverVisibleColumns===N.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===N.leftoverVisibleColumns&&this.position.equals(N.position)&&this.selectionStart.equalsRange(N.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(N,L,R,b){return N?new a(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new C.L(L,R),b):new a(new d.e(L,R,L,R),b,new C.L(L,R),b)}static _computeSelection(N,L){return N.isEmpty()||!L.isBeforeOrEqual(N.getStartPosition())?z.Y.fromPositions(N.getStartPosition(),L):z.Y.fromPositions(N.getEndPosition(),L)}}class x{constructor(N,L,R){this._editOperationResultBrand=void 0,this.type=N,this.commands=L,this.shouldPushStackElementBefore=R.shouldPushStackElementBefore,this.shouldPushStackElementAfter=R.shouldPushStackElementAfter}}function k(T){return T==="'"||T==='"'||T==="`"}},7190:function(it,Ee,l){"use strict";l.d(Ee,{p:function(){return C}});class C{constructor(z,O,y,W,A,M){this.id=z,this.label=O,this.alias=y,this._precondition=W,this._run=A,this._contextKeyService=M}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}},35405:function(it,Ee,l){"use strict";l.d(Ee,{g:function(){return C}});const C={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},50368:function(it,Ee,l){"use strict";l.d(Ee,{u:function(){return z}});var C=l(82215),d=l(96072),z;(function(O){O.editorSimpleInput=new d.uy("editorSimpleInput",!1,!0),O.editorTextFocus=new d.uy("editorTextFocus",!1,C.N("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),O.focus=new d.uy("editorFocus",!1,C.N("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),O.textInputFocus=new d.uy("textInputFocus",!1,C.N("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),O.readOnly=new d.uy("editorReadonly",!1,C.N("editorReadonly","Whether the editor is read only")),O.inDiffEditor=new d.uy("inDiffEditor",!1,C.N("inDiffEditor","Whether the context is a diff editor")),O.columnSelection=new d.uy("editorColumnSelection",!1,C.N("editorColumnSelection","Whether `editor.columnSelection` is enabled")),O.writable=O.readOnly.toNegated(),O.hasNonEmptySelection=new d.uy("editorHasSelection",!1,C.N("editorHasSelection","Whether the editor has text selected")),O.hasOnlyEmptySelection=O.hasNonEmptySelection.toNegated(),O.hasMultipleSelections=new d.uy("editorHasMultipleSelections",!1,C.N("editorHasMultipleSelections","Whether the editor has multiple selections")),O.hasSingleSelection=O.hasMultipleSelections.toNegated(),O.tabMovesFocus=new d.uy("editorTabMovesFocus",!1,C.N("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),O.tabDoesNotMoveFocus=O.tabMovesFocus.toNegated(),O.isInWalkThroughSnippet=new d.uy("isInEmbeddedEditor",!1,!0),O.canUndo=new d.uy("canUndo",!1,!0),O.canRedo=new d.uy("canRedo",!1,!0),O.hoverVisible=new d.uy("editorHoverVisible",!1,C.N("editorHoverVisible","Whether the editor hover is visible")),O.inCompositeEditor=new d.uy("inCompositeEditor",void 0,C.N("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),O.notInCompositeEditor=O.inCompositeEditor.toNegated(),O.languageId=new d.uy("editorLangId","",C.N("editorLangId","The language identifier of the editor")),O.hasCompletionItemProvider=new d.uy("editorHasCompletionItemProvider",!1,C.N("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),O.hasCodeActionsProvider=new d.uy("editorHasCodeActionsProvider",!1,C.N("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),O.hasCodeLensProvider=new d.uy("editorHasCodeLensProvider",!1,C.N("editorHasCodeLensProvider","Whether the editor has a code lens provider")),O.hasDefinitionProvider=new d.uy("editorHasDefinitionProvider",!1,C.N("editorHasDefinitionProvider","Whether the editor has a definition provider")),O.hasDeclarationProvider=new d.uy("editorHasDeclarationProvider",!1,C.N("editorHasDeclarationProvider","Whether the editor has a declaration provider")),O.hasImplementationProvider=new d.uy("editorHasImplementationProvider",!1,C.N("editorHasImplementationProvider","Whether the editor has an implementation provider")),O.hasTypeDefinitionProvider=new d.uy("editorHasTypeDefinitionProvider",!1,C.N("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),O.hasHoverProvider=new d.uy("editorHasHoverProvider",!1,C.N("editorHasHoverProvider","Whether the editor has a hover provider")),O.hasDocumentHighlightProvider=new d.uy("editorHasDocumentHighlightProvider",!1,C.N("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),O.hasDocumentSymbolProvider=new d.uy("editorHasDocumentSymbolProvider",!1,C.N("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),O.hasReferenceProvider=new d.uy("editorHasReferenceProvider",!1,C.N("editorHasReferenceProvider","Whether the editor has a reference provider")),O.hasRenameProvider=new d.uy("editorHasRenameProvider",!1,C.N("editorHasRenameProvider","Whether the editor has a rename provider")),O.hasSignatureHelpProvider=new d.uy("editorHasSignatureHelpProvider",!1,C.N("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),O.hasInlayHintsProvider=new d.uy("editorHasInlayHintsProvider",!1,C.N("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),O.hasDocumentFormattingProvider=new d.uy("editorHasDocumentFormattingProvider",!1,C.N("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),O.hasDocumentSelectionFormattingProvider=new d.uy("editorHasDocumentSelectionFormattingProvider",!1,C.N("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),O.hasMultipleDocumentFormattingProvider=new d.uy("editorHasMultipleDocumentFormattingProvider",!1,C.N("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),O.hasMultipleDocumentSelectionFormattingProvider=new d.uy("editorHasMultipleDocumentSelectionFormattingProvider",!1,C.N("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(z||(z={}))},46250:function(it,Ee,l){"use strict";l.d(Ee,{mY:function(){return R},gX:function(){return m},MY:function(){return k},DI:function(){return f},AD:function(){return L},gl:function(){return b},bw:function(){return a},WW:function(){return x},uZ:function(){return N},WU:function(){return w},NX:function(){return I},RW:function(){return P},hG:function(){return _},vx:function(){return T}});var C=l(47087),d=l(50757),z=l(60774),O=l(1405),y=function(V,H,ee,ae){function me(ge){return ge instanceof ee?ge:new ee(function(re){re(ge)})}return new(ee||(ee=Promise))(function(ge,re){function se(j){try{$(ae.next(j))}catch(ie){re(ie)}}function X(j){try{$(ae.throw(j))}catch(ie){re(ie)}}function $(j){j.done?ge(j.value):me(j.value).then(se,X)}$((ae=ae.apply(V,H||[])).next())})};class W{constructor(){this._map=new Map,this._factories=new Map,this._onDidChange=new z.Q5,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(H){this._onDidChange.fire({changedLanguages:H,changedColorMap:!1})}register(H,ee){return this._map.set(H,ee),this.fire([H]),(0,O.OF)(()=>{this._map.get(H)===ee&&(this._map.delete(H),this.fire([H]))})}registerFactory(H,ee){var ae;(ae=this._factories.get(H))===null||ae===void 0||ae.dispose();const me=new A(this,H,ee);return this._factories.set(H,me),(0,O.OF)(()=>{const ge=this._factories.get(H);!ge||ge!==me||(this._factories.delete(H),ge.dispose())})}getOrCreate(H){return y(this,void 0,void 0,function*(){const ee=this.get(H);if(ee)return ee;const ae=this._factories.get(H);return!ae||ae.isResolved?null:(yield ae.resolve(),this.get(H))})}get(H){return this._map.get(H)||null}isResolved(H){if(this.get(H))return!0;const ae=this._factories.get(H);return!!(!ae||ae.isResolved)}setColorMap(H){this._colorMap=H,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}class A extends O.JT{constructor(H,ee,ae){super(),this._registry=H,this._languageId=ee,this._factory=ae,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}get isResolved(){return this._isResolved}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return y(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return y(this,void 0,void 0,function*(){const H=yield Promise.resolve(this._factory.createTokenizationSupport());this._isResolved=!0,H&&!this._isDisposed&&this._register(this._registry.register(this._languageId,H))})}}var M=l(74696);class I{static getLanguageId(H){return(H&255)>>>0}static getTokenType(H){return(H&768)>>>8}static getFontStyle(H){return(H&15360)>>>10}static getForeground(H){return(H&8372224)>>>14}static getBackground(H){return(H&4286578688)>>>23}static getClassNameFromMetadata(H){let ae="mtk"+this.getForeground(H);const me=this.getFontStyle(H);return me&1&&(ae+=" mtki"),me&2&&(ae+=" mtkb"),me&4&&(ae+=" mtku"),me&8&&(ae+=" mtks"),ae}static getInlineStyleFromMetadata(H,ee){const ae=this.getForeground(H),me=this.getFontStyle(H);let ge=`color: ${ee[ae]};`;me&1&&(ge+="font-style: italic;"),me&2&&(ge+="font-weight: bold;");let re="";return me&4&&(re+=" underline"),me&8&&(re+=" line-through"),re&&(ge+=`text-decoration:${re};`),ge}static getPresentationFromMetadata(H){const ee=this.getForeground(H),ae=this.getFontStyle(H);return{foreground:ee,italic:Boolean(ae&1),bold:Boolean(ae&2),underline:Boolean(ae&4),strikethrough:Boolean(ae&8)}}}class w{constructor(H,ee,ae){this._tokenBrand=void 0,this.offset=H,this.type=ee,this.language=ae}toString(){return"("+this.offset+", "+this.type+")"}}class _{constructor(H,ee){this._tokenizationResultBrand=void 0,this.tokens=H,this.endState=ee}}class f{constructor(H,ee){this._encodedTokenizationResultBrand=void 0,this.tokens=H,this.endState=ee}}var m;(function(V){const H=new Map;H.set(0,M.lA.symbolMethod),H.set(1,M.lA.symbolFunction),H.set(2,M.lA.symbolConstructor),H.set(3,M.lA.symbolField),H.set(4,M.lA.symbolVariable),H.set(5,M.lA.symbolClass),H.set(6,M.lA.symbolStruct),H.set(7,M.lA.symbolInterface),H.set(8,M.lA.symbolModule),H.set(9,M.lA.symbolProperty),H.set(10,M.lA.symbolEvent),H.set(11,M.lA.symbolOperator),H.set(12,M.lA.symbolUnit),H.set(13,M.lA.symbolValue),H.set(15,M.lA.symbolEnum),H.set(14,M.lA.symbolConstant),H.set(15,M.lA.symbolEnum),H.set(16,M.lA.symbolEnumMember),H.set(17,M.lA.symbolKeyword),H.set(27,M.lA.symbolSnippet),H.set(18,M.lA.symbolText),H.set(19,M.lA.symbolColor),H.set(20,M.lA.symbolFile),H.set(21,M.lA.symbolReference),H.set(22,M.lA.symbolCustomColor),H.set(23,M.lA.symbolFolder),H.set(24,M.lA.symbolTypeParameter),H.set(25,M.lA.account),H.set(26,M.lA.issues);function ee(ge){let re=H.get(ge);return re||(console.info("No codicon found for CompletionItemKind "+ge),re=M.lA.symbolProperty),re}V.toIcon=ee;const ae=new Map;ae.set("method",0),ae.set("function",1),ae.set("constructor",2),ae.set("field",3),ae.set("variable",4),ae.set("class",5),ae.set("struct",6),ae.set("interface",7),ae.set("module",8),ae.set("property",9),ae.set("event",10),ae.set("operator",11),ae.set("unit",12),ae.set("value",13),ae.set("constant",14),ae.set("enum",15),ae.set("enum-member",16),ae.set("enumMember",16),ae.set("keyword",17),ae.set("snippet",27),ae.set("text",18),ae.set("color",19),ae.set("file",20),ae.set("reference",21),ae.set("customcolor",22),ae.set("folder",23),ae.set("type-parameter",24),ae.set("typeParameter",24),ae.set("account",25),ae.set("issue",26);function me(ge,re){let se=ae.get(ge);return typeof se=="undefined"&&!re&&(se=9),se}V.fromString=me})(m||(m={}));var a;(function(V){V[V.Automatic=0]="Automatic",V[V.Explicit=1]="Explicit"})(a||(a={}));var x;(function(V){V[V.Invoke=1]="Invoke",V[V.TriggerCharacter=2]="TriggerCharacter",V[V.ContentChange=3]="ContentChange"})(x||(x={}));var k;(function(V){V[V.Text=0]="Text",V[V.Read=1]="Read",V[V.Write=2]="Write"})(k||(k={}));function T(V){return V&&C.o.isUri(V.uri)&&d.e.isIRange(V.range)&&(d.e.isIRange(V.originSelectionRange)||d.e.isIRange(V.targetSelectionRange))}var N;(function(V){const H=new Map;H.set(0,M.lA.symbolFile),H.set(1,M.lA.symbolModule),H.set(2,M.lA.symbolNamespace),H.set(3,M.lA.symbolPackage),H.set(4,M.lA.symbolClass),H.set(5,M.lA.symbolMethod),H.set(6,M.lA.symbolProperty),H.set(7,M.lA.symbolField),H.set(8,M.lA.symbolConstructor),H.set(9,M.lA.symbolEnum),H.set(10,M.lA.symbolInterface),H.set(11,M.lA.symbolFunction),H.set(12,M.lA.symbolVariable),H.set(13,M.lA.symbolConstant),H.set(14,M.lA.symbolString),H.set(15,M.lA.symbolNumber),H.set(16,M.lA.symbolBoolean),H.set(17,M.lA.symbolArray),H.set(18,M.lA.symbolObject),H.set(19,M.lA.symbolKey),H.set(20,M.lA.symbolNull),H.set(21,M.lA.symbolEnumMember),H.set(22,M.lA.symbolStruct),H.set(23,M.lA.symbolEvent),H.set(24,M.lA.symbolOperator),H.set(25,M.lA.symbolTypeParameter);function ee(ae){let me=H.get(ae);return me||(console.info("No codicon found for SymbolKind "+ae),me=M.lA.symbolProperty),me}V.toIcon=ee})(N||(N={}));class L{constructor(H){this.value=H}}L.Comment=new L("comment"),L.Imports=new L("imports"),L.Region=new L("region");var R;(function(V){function H(ee){return!ee||typeof ee!="object"?!1:typeof ee.id=="string"&&typeof ee.title=="string"}V.is=H})(R||(R={}));var b;(function(V){V[V.Type=1]="Type",V[V.Parameter=2]="Parameter"})(b||(b={}));const P=new W},50661:function(it,Ee,l){"use strict";l.d(Ee,{O:function(){return d}});var C=l(95024);const d=(0,C.yh)("languageService")},54500:function(it,Ee,l){"use strict";l.d(Ee,{V6:function(){return d},c$:function(){return z},wU:function(){return C}});var C;(function(y){y[y.None=0]="None",y[y.Indent=1]="Indent",y[y.IndentOutdent=2]="IndentOutdent",y[y.Outdent=3]="Outdent"})(C||(C={}));class d{constructor(W){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=W.open,this.close=W.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(W.notIn))for(let A=0,M=W.notIn.length;A<M;A++)switch(W.notIn[A]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(W){switch(W){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(W,A){if(W.getTokenCount()===0)return!0;const M=W.findTokenIndexAtOffset(A-2),I=W.getStandardTokenType(M);return this.isOK(I)}_findNeutralCharacterInRange(W,A){for(let M=W;M<=A;M++){const I=String.fromCharCode(M);if(!this.open.includes(I)&&!this.close.includes(I))return I}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class z{constructor(W){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const A of W)O(this.autoClosingPairsOpenByStart,A.open.charAt(0),A),O(this.autoClosingPairsOpenByEnd,A.open.charAt(A.open.length-1),A),O(this.autoClosingPairsCloseByStart,A.close.charAt(0),A),O(this.autoClosingPairsCloseByEnd,A.close.charAt(A.close.length-1),A),A.close.length===1&&A.open.length===1&&O(this.autoClosingPairsCloseSingleChar,A.close,A)}}function O(y,W,A){y.has(W)?y.get(W).push(A):y.set(W,[A])}},34181:function(it,Ee,l){"use strict";l.d(Ee,{c_:function(){return V},zu:function(){return X}});var C=l(60774),d=l(1405),z=l(76311),O=l(62501),y=l(54500),W=l(92893);class A{constructor(ce){if(ce.autoClosingPairs?this._autoClosingPairs=ce.autoClosingPairs.map(we=>new y.V6(we)):ce.brackets?this._autoClosingPairs=ce.brackets.map(we=>new y.V6({open:we[0],close:we[1]})):this._autoClosingPairs=[],ce.colorizedBracketPairs?this._colorizedBracketPairs=M(ce.colorizedBracketPairs.map(we=>[we[0],we[1]])):ce.brackets?this._colorizedBracketPairs=M(ce.brackets.map(we=>[we[0],we[1]]).filter(we=>!(we[0]==="<"&&we[1]===">"))):this._colorizedBracketPairs=[],ce.__electricCharacterSupport&&ce.__electricCharacterSupport.docComment){const we=ce.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new y.V6({open:we.open,close:we.close||""}))}this._autoCloseBefore=typeof ce.autoCloseBefore=="string"?ce.autoCloseBefore:A.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=ce.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}getColorizedBrackets(){return this._colorizedBracketPairs}}A.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`;function M(oe){return oe.filter(([ce,we])=>ce!==""&&we!=="")}var I=l(825),w=l(4732);class _{constructor(ce){this._richEditBrackets=ce}getElectricCharacters(){const ce=[];if(this._richEditBrackets)for(const we of this._richEditBrackets.brackets)for(const Me of we.close){const Ke=Me.charAt(Me.length-1);ce.push(Ke)}return(0,I.EB)(ce)}onElectricCharacter(ce,we,Me){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const Ke=we.findTokenIndexAtOffset(Me-1);if((0,W.Bu)(we.getStandardTokenType(Ke)))return null;const De=this._richEditBrackets.reversedRegex,be=we.getLineContent().substring(0,Me-1)+ce,We=w.Vr.findPrevBracketInRange(De,1,be,0,be.length);if(!We)return null;const et=be.substring(We.startColumn-1,We.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[et])return null;const _t=we.getActualLineContentBefore(We.startColumn-1);return/^\s*$/.test(_t)?{matchOpenBracket:et}:null}}function f(oe){return oe.global&&(oe.lastIndex=0),!0}class m{constructor(ce){this._indentationRules=ce}shouldIncrease(ce){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&f(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(ce))}shouldDecrease(ce){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&f(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(ce))}shouldIndentNextLine(ce){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&f(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(ce))}shouldIgnore(ce){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&f(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(ce))}getIndentMetadata(ce){let we=0;return this.shouldIncrease(ce)&&(we+=1),this.shouldDecrease(ce)&&(we+=2),this.shouldIndentNextLine(ce)&&(we+=4),this.shouldIgnore(ce)&&(we+=8),we}}var a=l(91273);class x{constructor(ce){ce=ce||{},ce.brackets=ce.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],ce.brackets.forEach(we=>{const Me=x._createOpenBracketRegExp(we[0]),Ke=x._createCloseBracketRegExp(we[1]);Me&&Ke&&this._brackets.push({open:we[0],openRegExp:Me,close:we[1],closeRegExp:Ke})}),this._regExpRules=ce.onEnterRules||[]}onEnter(ce,we,Me,Ke){if(ce>=3)for(let De=0,be=this._regExpRules.length;De<be;De++){const We=this._regExpRules[De];if([{reg:We.beforeText,text:Me},{reg:We.afterText,text:Ke},{reg:We.previousLineText,text:we}].every(Kt=>Kt.reg?(Kt.reg.lastIndex=0,Kt.reg.test(Kt.text)):!0))return We.action}if(ce>=2&&Me.length>0&&Ke.length>0)for(let De=0,be=this._brackets.length;De<be;De++){const We=this._brackets[De];if(We.openRegExp.test(Me)&&We.closeRegExp.test(Ke))return{indentAction:y.wU.IndentOutdent}}if(ce>=2&&Me.length>0){for(let De=0,be=this._brackets.length;De<be;De++)if(this._brackets[De].openRegExp.test(Me))return{indentAction:y.wU.Indent}}return null}static _createOpenBracketRegExp(ce){let we=z.ec(ce);return/\B/.test(we.charAt(0))||(we="\\b"+we),we+="\\s*$",x._safeRegExp(we)}static _createCloseBracketRegExp(ce){let we=z.ec(ce);return/\B/.test(we.charAt(we.length-1))||(we=we+"\\b"),we="^\\s*"+we,x._safeRegExp(we)}static _safeRegExp(ce){try{return new RegExp(ce)}catch(we){return(0,a.dL)(we),null}}}var k=l(95024),T=l(68491),N=l(50661),L=l(74896),R=function(oe,ce,we,Me){var Ke=arguments.length,De=Ke<3?ce:Me===null?Me=Object.getOwnPropertyDescriptor(ce,we):Me,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")De=Reflect.decorate(oe,ce,we,Me);else for(var We=oe.length-1;We>=0;We--)(be=oe[We])&&(De=(Ke<3?be(De):Ke>3?be(ce,we,De):be(ce,we))||De);return Ke>3&&De&&Object.defineProperty(ce,we,De),De},b=function(oe,ce){return function(we,Me){ce(we,Me,oe)}};class P{constructor(ce){this.languageId=ce}affects(ce){return this.languageId?this.languageId===ce:!0}}const V=(0,k.yh)("languageConfigurationService");let H=class extends d.JT{constructor(ce,we){super(),this.configurationService=ce,this.languageService=we,this.onDidChangeEmitter=this._register(new C.Q5),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const Me=new Set(Object.values(ae));this._register(this.configurationService.onDidChangeConfiguration(Ke=>{const De=Ke.change.keys.some(We=>Me.has(We)),be=Ke.change.overrides.filter(([We,et])=>et.some(Kt=>Me.has(Kt))).map(([We])=>We);if(De)this.configurations.clear(),this.onDidChangeEmitter.fire(new P(void 0));else for(const We of be)this.languageService.isRegisteredLanguageId(We)&&(this.configurations.delete(We),this.onDidChangeEmitter.fire(new P(We)))})),this._register(X.onDidChange(Ke=>{this.configurations.delete(Ke.languageId),this.onDidChangeEmitter.fire(new P(Ke.languageId))}))}getLanguageConfiguration(ce){let we=this.configurations.get(ce);return we||(we=ee(ce,this.configurationService,this.languageService),this.configurations.set(ce,we)),we}};H=R([b(0,T.Ui),b(1,N.O)],H);function ee(oe,ce,we){let Me=X.getLanguageConfiguration(oe);if(!Me){if(!we.isRegisteredLanguageId(oe))throw new Error(`Language id "${oe}" is not configured nor known`);Me=new J(oe,{})}const Ke=me(Me.languageId,ce),De=j([Me.underlyingConfig,Ke]);return new J(Me.languageId,De)}const ae={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function me(oe,ce){const we=ce.getValue(ae.brackets,{overrideIdentifier:oe}),Me=ce.getValue(ae.colorizedBracketPairs,{overrideIdentifier:oe});return{brackets:ge(we),colorizedBracketPairs:ge(Me)}}function ge(oe){if(!!Array.isArray(oe))return oe.map(ce=>{if(!(!Array.isArray(ce)||ce.length!==2))return[ce[0],ce[1]]}).filter(ce=>!!ce)}class re{constructor(ce){this.languageId=ce}}class se{constructor(){this._entries=new Map,this._onDidChange=new C.Q5,this.onDidChange=this._onDidChange.event}register(ce,we,Me=0){let Ke=this._entries.get(ce);Ke||(Ke=new $(ce),this._entries.set(ce,Ke));const De=Ke.register(we,Me);return this._onDidChange.fire(new re(ce)),(0,d.OF)(()=>{De.dispose(),this._onDidChange.fire(new re(ce))})}getLanguageConfiguration(ce){const we=this._entries.get(ce);return(we==null?void 0:we.getResolvedConfiguration())||null}getComments(ce){const we=this.getLanguageConfiguration(ce);return we&&we.comments||null}getIndentRulesSupport(ce){const we=this.getLanguageConfiguration(ce);return we&&we.indentRulesSupport||null}getPrecedingValidLine(ce,we,Me){const Ke=ce.getLanguageIdAtPosition(we,0);if(we>1){let De,be=-1;for(De=we-1;De>=1;De--){if(ce.getLanguageIdAtPosition(De,0)!==Ke)return be;const We=ce.getLineContent(De);if(Me.shouldIgnore(We)||/^\s+$/.test(We)||We===""){be=De;continue}return De}}return-1}getInheritIndentForLine(ce,we,Me,Ke=!0){if(ce<4)return null;const De=this.getIndentRulesSupport(we.getLanguageId());if(!De)return null;if(Me<=1)return{indentation:"",action:null};const be=this.getPrecedingValidLine(we,Me,De);if(be<0)return null;if(be<1)return{indentation:"",action:null};const We=we.getLineContent(be);if(De.shouldIncrease(We)||De.shouldIndentNextLine(We))return{indentation:z.V8(We),action:y.wU.Indent,line:be};if(De.shouldDecrease(We))return{indentation:z.V8(We),action:null,line:be};{if(be===1)return{indentation:z.V8(we.getLineContent(be)),action:null,line:be};const et=be-1,Kt=De.getIndentMetadata(we.getLineContent(et));if(!(Kt&3)&&Kt&4){let _t=0;for(let tt=et-1;tt>0;tt--)if(!De.shouldIndentNextLine(we.getLineContent(tt))){_t=tt;break}return{indentation:z.V8(we.getLineContent(_t+1)),action:null,line:_t+1}}if(Ke)return{indentation:z.V8(we.getLineContent(be)),action:null,line:be};for(let _t=be;_t>0;_t--){const tt=we.getLineContent(_t);if(De.shouldIncrease(tt))return{indentation:z.V8(tt),action:y.wU.Indent,line:_t};if(De.shouldIndentNextLine(tt)){let kt=0;for(let Ut=_t-1;Ut>0;Ut--)if(!De.shouldIndentNextLine(we.getLineContent(_t))){kt=Ut;break}return{indentation:z.V8(we.getLineContent(kt+1)),action:null,line:kt+1}}else if(De.shouldDecrease(tt))return{indentation:z.V8(tt),action:null,line:_t}}return{indentation:z.V8(we.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(ce,we,Me,Ke,De){if(ce<4)return null;const be=this.getLanguageConfiguration(Me);if(!be)return null;const We=this.getIndentRulesSupport(Me);if(!We)return null;const et=this.getInheritIndentForLine(ce,we,Ke),Kt=we.getLineContent(Ke);if(et){const _t=et.line;if(_t!==void 0){const tt=be.onEnter(ce,"",we.getLineContent(_t),"");if(tt){let kt=z.V8(we.getLineContent(_t));return tt.removeText&&(kt=kt.substring(0,kt.length-tt.removeText)),tt.indentAction===y.wU.Indent||tt.indentAction===y.wU.IndentOutdent?kt=De.shiftIndent(kt):tt.indentAction===y.wU.Outdent&&(kt=De.unshiftIndent(kt)),We.shouldDecrease(Kt)&&(kt=De.unshiftIndent(kt)),tt.appendText&&(kt+=tt.appendText),z.V8(kt)}}return We.shouldDecrease(Kt)?et.action===y.wU.Indent?et.indentation:De.unshiftIndent(et.indentation):et.action===y.wU.Indent?De.shiftIndent(et.indentation):et.indentation}return null}getIndentForEnter(ce,we,Me,Ke){if(ce<4)return null;we.forceTokenization(Me.startLineNumber);const De=we.getLineTokens(Me.startLineNumber),be=(0,W.wH)(De,Me.startColumn-1),We=be.getLineContent();let et=!1,Kt;be.firstCharOffset>0&&De.getLanguageId(0)!==be.languageId?(et=!0,Kt=We.substr(0,Me.startColumn-1-be.firstCharOffset)):Kt=De.getLineContent().substring(0,Me.startColumn-1);let _t;Me.isEmpty()?_t=We.substr(Me.startColumn-1-be.firstCharOffset):_t=this.getScopedLineTokens(we,Me.endLineNumber,Me.endColumn).getLineContent().substr(Me.endColumn-1-be.firstCharOffset);const tt=this.getIndentRulesSupport(be.languageId);if(!tt)return null;const kt=Kt,Ut=z.V8(Kt),Ft={getLineTokens:Wt=>we.getLineTokens(Wt),getLanguageId:()=>we.getLanguageId(),getLanguageIdAtPosition:(Wt,Ze)=>we.getLanguageIdAtPosition(Wt,Ze),getLineContent:Wt=>Wt===Me.startLineNumber?kt:we.getLineContent(Wt)},Te=z.V8(De.getLineContent()),Ge=this.getInheritIndentForLine(ce,Ft,Me.startLineNumber+1);if(!Ge){const Wt=et?Te:Ut;return{beforeEnter:Wt,afterEnter:Wt}}let Et=et?Te:Ge.indentation;return Ge.action===y.wU.Indent&&(Et=Ke.shiftIndent(Et)),tt.shouldDecrease(_t)&&(Et=Ke.unshiftIndent(Et)),{beforeEnter:et?Te:Ut,afterEnter:Et}}getIndentActionForType(ce,we,Me,Ke,De){if(ce<4)return null;const be=this.getScopedLineTokens(we,Me.startLineNumber,Me.startColumn);if(be.firstCharOffset)return null;const We=this.getIndentRulesSupport(be.languageId);if(!We)return null;const et=be.getLineContent(),Kt=et.substr(0,Me.startColumn-1-be.firstCharOffset);let _t;if(Me.isEmpty()?_t=et.substr(Me.startColumn-1-be.firstCharOffset):_t=this.getScopedLineTokens(we,Me.endLineNumber,Me.endColumn).getLineContent().substr(Me.endColumn-1-be.firstCharOffset),!We.shouldDecrease(Kt+_t)&&We.shouldDecrease(Kt+Ke+_t)){const tt=this.getInheritIndentForLine(ce,we,Me.startLineNumber,!1);if(!tt)return null;let kt=tt.indentation;return tt.action!==y.wU.Indent&&(kt=De.unshiftIndent(kt)),kt}return null}getIndentMetadata(ce,we){const Me=this.getIndentRulesSupport(ce.getLanguageId());return!Me||we<1||we>ce.getLineCount()?null:Me.getIndentMetadata(ce.getLineContent(we))}getEnterAction(ce,we,Me){const Ke=this.getScopedLineTokens(we,Me.startLineNumber,Me.startColumn),De=this.getLanguageConfiguration(Ke.languageId);if(!De)return null;const be=Ke.getLineContent(),We=be.substr(0,Me.startColumn-1-Ke.firstCharOffset);let et;Me.isEmpty()?et=be.substr(Me.startColumn-1-Ke.firstCharOffset):et=this.getScopedLineTokens(we,Me.endLineNumber,Me.endColumn).getLineContent().substr(Me.endColumn-1-Ke.firstCharOffset);let Kt="";if(Me.startLineNumber>1&&Ke.firstCharOffset===0){const Te=this.getScopedLineTokens(we,Me.startLineNumber-1);Te.languageId===Ke.languageId&&(Kt=Te.getLineContent())}const _t=De.onEnter(ce,Kt,We,et);if(!_t)return null;const tt=_t.indentAction;let kt=_t.appendText;const Ut=_t.removeText||0;kt?tt===y.wU.Indent&&(kt="	"+kt):tt===y.wU.Indent||tt===y.wU.IndentOutdent?kt="	":kt="";let Ft=this.getIndentationAtPosition(we,Me.startLineNumber,Me.startColumn);return Ut&&(Ft=Ft.substring(0,Ft.length-Ut)),{indentAction:tt,appendText:kt,removeText:Ut,indentation:Ft}}getIndentationAtPosition(ce,we,Me){const Ke=ce.getLineContent(we);let De=z.V8(Ke);return De.length>Me-1&&(De=De.substring(0,Me-1)),De}getScopedLineTokens(ce,we,Me){ce.forceTokenization(we);const Ke=ce.getLineTokens(we),De=typeof Me=="undefined"?ce.getLineMaxColumn(we)-1:Me-1;return(0,W.wH)(Ke,De)}}const X=new se;class ${constructor(ce){this.languageId=ce,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(ce,we){const Me=new ie(ce,we,++this._order);return this._entries.push(Me),this._resolved=null,(0,d.OF)(()=>{for(let Ke=0;Ke<this._entries.length;Ke++)if(this._entries[Ke]===Me){this._entries.splice(Ke,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const ce=this._resolve();ce&&(this._resolved=new J(this.languageId,ce))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(ie.cmp),j(this._entries.map(ce=>ce.configuration)))}}function j(oe){let ce={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const we of oe)ce={comments:we.comments||ce.comments,brackets:we.brackets||ce.brackets,wordPattern:we.wordPattern||ce.wordPattern,indentationRules:we.indentationRules||ce.indentationRules,onEnterRules:we.onEnterRules||ce.onEnterRules,autoClosingPairs:we.autoClosingPairs||ce.autoClosingPairs,surroundingPairs:we.surroundingPairs||ce.surroundingPairs,autoCloseBefore:we.autoCloseBefore||ce.autoCloseBefore,folding:we.folding||ce.folding,colorizedBracketPairs:we.colorizedBracketPairs||ce.colorizedBracketPairs,__electricCharacterSupport:we.__electricCharacterSupport||ce.__electricCharacterSupport};return ce}class ie{constructor(ce,we,Me){this.configuration=ce,this.priority=we,this.order=Me}static cmp(ce,we){return ce.priority===we.priority?ce.order-we.order:ce.priority-we.priority}}class J{constructor(ce,we){this.languageId=ce,this.underlyingConfig=we,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new x(this.underlyingConfig):null,this.comments=J._handleComments(this.underlyingConfig),this.characterPair=new A(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||O.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new m(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{}}getWordDefinition(){return(0,O.eq)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new w.EA(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new _(this.brackets)),this._electricCharacter}onEnter(ce,we,Me,Ke){return this._onEnterSupport?this._onEnterSupport.onEnter(ce,we,Me,Ke):null}getAutoClosingPairs(){return new y.c$(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(){return this.characterPair.getAutoCloseBeforeSet()}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(ce){const we=ce.comments;if(!we)return null;const Me={};if(we.lineComment&&(Me.lineCommentToken=we.lineComment),we.blockComment){const[Ke,De]=we.blockComment;Me.blockCommentStartToken=Ke,Me.blockCommentEndToken=De}return Me}}(0,L.z)(V,H)},85014:function(it,Ee,l){"use strict";l.d(Ee,{bd:function(){return w},dQ:function(){return I}});var C=l(82215),d=l(60774),z=l(34181),O=l(1062),y=l(34271),W=l(75232);const A={ModesRegistry:"editor.modesRegistry"};class M{constructor(){this._onDidChangeLanguages=new d.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(m){return this._languages.push(m),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let a=0,x=this._languages.length;a<x;a++)if(this._languages[a]===m){this._languages.splice(a,1);return}}}}getLanguages(){return this._languages}}const I=new M;O.B.add(A.ModesRegistry,I);const w="plaintext",_=".txt";I.registerLanguage({id:w,extensions:[_],aliases:[C.N("plainText.alias","Plain Text"),"text"],mimetypes:[y.v.text]}),z.zu.register(w,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0),O.B.as(W.IP.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},62318:function(it,Ee,l){"use strict";l.d(Ee,{Dy:function(){return O},Ri:function(){return z},TJ:function(){return d}});var C=l(46250);const d=new class{clone(){return this}equals(y){return this===y}};function z(y,W){return new C.hG([new C.WU(0,"",y)],W)}function O(y,W){const A=new Uint32Array(2);return A[0]=0,A[1]=(y<<0|0<<8|0<<10|1<<14|2<<23)>>>0,new C.DI(A,W===null?d:W)}},92893:function(it,Ee,l){"use strict";l.d(Ee,{Bu:function(){return z},wH:function(){return C}});function C(O,y){const W=O.getCount(),A=O.findTokenIndexAtOffset(y),M=O.getLanguageId(A);let I=A;for(;I+1<W&&O.getLanguageId(I+1)===M;)I++;let w=A;for(;w>0&&O.getLanguageId(w-1)===M;)w--;return new d(O,M,w,I+1,O.getStartOffset(w),O.getEndOffset(I))}class d{constructor(y,W,A,M,I,w){this._scopedLineTokensBrand=void 0,this._actual=y,this.languageId=W,this._firstTokenIndex=A,this._lastTokenIndex=M,this.firstCharOffset=I,this._lastCharOffset=w}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(y){return this._actual.getLineContent().substring(0,this.firstCharOffset+y)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(y){return this._actual.findTokenIndexAtOffset(y+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(y){return this._actual.getStandardTokenType(y+this._firstTokenIndex)}}function z(O){return(O&3)!==0}},4732:function(it,Ee,l){"use strict";l.d(Ee,{EA:function(){return W},Vr:function(){return T}});var C=l(76311),d=l(20123),z=l(50757);class O{constructor(L,R,b,P,V,H){this._richEditBracketBrand=void 0,this.languageId=L,this.index=R,this.open=b,this.close=P,this.forwardRegex=V,this.reversedRegex=H,this._openSet=O._toSet(this.open),this._closeSet=O._toSet(this.close)}isOpen(L){return this._openSet.has(L)}isClose(L){return this._closeSet.has(L)}static _toSet(L){const R=new Set;for(const b of L)R.add(b);return R}}function y(N){const L=N.length;N=N.map(H=>[H[0].toLowerCase(),H[1].toLowerCase()]);const R=[];for(let H=0;H<L;H++)R[H]=H;const b=(H,ee)=>{const[ae,me]=H,[ge,re]=ee;return ae===ge||ae===re||me===ge||me===re},P=(H,ee)=>{const ae=Math.min(H,ee),me=Math.max(H,ee);for(let ge=0;ge<L;ge++)R[ge]===me&&(R[ge]=ae)};for(let H=0;H<L;H++){const ee=N[H];for(let ae=H+1;ae<L;ae++){const me=N[ae];b(ee,me)&&P(R[H],R[ae])}}const V=[];for(let H=0;H<L;H++){const ee=[],ae=[];for(let me=0;me<L;me++)if(R[me]===H){const[ge,re]=N[me];ee.push(ge),ae.push(re)}ee.length>0&&V.push({open:ee,close:ae})}return V}class W{constructor(L,R){this._richEditBracketsBrand=void 0;const b=y(R);this.brackets=b.map((P,V)=>new O(L,V,P.open,P.close,w(P.open,P.close,b,V),_(P.open,P.close,b,V))),this.forwardRegex=f(this.brackets),this.reversedRegex=m(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const P of this.brackets){for(const V of P.open)this.textIsBracket[V]=P,this.textIsOpenBracket[V]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,V.length);for(const V of P.close)this.textIsBracket[V]=P,this.textIsOpenBracket[V]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,V.length)}}}function A(N,L,R,b){for(let P=0,V=L.length;P<V;P++){if(P===R)continue;const H=L[P];for(const ee of H.open)ee.indexOf(N)>=0&&b.push(ee);for(const ee of H.close)ee.indexOf(N)>=0&&b.push(ee)}}function M(N,L){return N.length-L.length}function I(N){if(N.length<=1)return N;const L=[],R=new Set;for(const b of N)R.has(b)||(L.push(b),R.add(b));return L}function w(N,L,R,b){let P=[];P=P.concat(N),P=P.concat(L);for(let V=0,H=P.length;V<H;V++)A(P[V],R,b,P);return P=I(P),P.sort(M),P.reverse(),x(P)}function _(N,L,R,b){let P=[];P=P.concat(N),P=P.concat(L);for(let V=0,H=P.length;V<H;V++)A(P[V],R,b,P);return P=I(P),P.sort(M),P.reverse(),x(P.map(k))}function f(N){let L=[];for(const R of N){for(const b of R.open)L.push(b);for(const b of R.close)L.push(b)}return L=I(L),x(L)}function m(N){let L=[];for(const R of N){for(const b of R.open)L.push(b);for(const b of R.close)L.push(b)}return L=I(L),x(L.map(k))}function a(N){const L=/^[\w ]+$/.test(N);return N=C.ec(N),L?`\\b${N}\\b`:N}function x(N){const L=`(${N.map(a).join(")|(")})`;return C.GF(L,!0)}const k=function(){function N(b){if(d.lZ){const P=new Uint16Array(b.length);let V=0;for(let H=b.length-1;H>=0;H--)P[V++]=b.charCodeAt(H);return d.oe().decode(P)}else{const P=[];let V=0;for(let H=b.length-1;H>=0;H--)P[V++]=b.charAt(H);return P.join("")}}let L=null,R=null;return function(P){return L!==P&&(L=P,R=N(L)),R}}();class T{static _findPrevBracketInText(L,R,b,P){const V=b.match(L);if(!V)return null;const H=b.length-(V.index||0),ee=V[0].length,ae=P+H;return new z.e(R,ae-ee+1,R,ae+1)}static findPrevBracketInRange(L,R,b,P,V){const ee=k(b).substring(b.length-V,b.length-P);return this._findPrevBracketInText(L,R,ee,P)}static findNextBracketInText(L,R,b,P){const V=b.match(L);if(!V)return null;const H=V.index||0,ee=V[0].length;if(ee===0)return null;const ae=P+H;return new z.e(R,ae+1,R,ae+1+ee)}static findNextBracketInRange(L,R,b,P,V){const H=b.substring(P,V);return this.findNextBracketInText(L,R,H,P)}}},6972:function(it,Ee,l){"use strict";l.d(Ee,{C2:function(){return A},Fq:function(){return M}});var C=l(76311),d=l(32083),z=l(46250),O=l(62318),y=function(w,_,f,m){function a(x){return x instanceof f?x:new f(function(k){k(x)})}return new(f||(f=Promise))(function(x,k){function T(R){try{L(m.next(R))}catch(b){k(b)}}function N(R){try{L(m.throw(R))}catch(b){k(b)}}function L(R){R.done?x(R.value):a(R.value).then(T,N)}L((m=m.apply(w,_||[])).next())})};const W={getInitialState:()=>O.TJ,tokenizeEncoded:(w,_,f)=>(0,O.Dy)(0,f)};function A(w,_,f){return y(this,void 0,void 0,function*(){if(!f)return I(_,w.languageIdCodec,W);const m=yield z.RW.getOrCreate(f);return I(_,w.languageIdCodec,m||W)})}function M(w,_,f,m,a,x,k){let T="<div>",N=m,L=0,R=!0;for(let b=0,P=_.getCount();b<P;b++){const V=_.getEndOffset(b);if(V<=m)continue;let H="";for(;N<V&&N<a;N++){const ee=w.charCodeAt(N);switch(ee){case 9:{let ae=x-(N+L)%x;for(L+=ae-1;ae>0;)k&&R?(H+="&#160;",R=!1):(H+=" ",R=!0),ae--;break}case 60:H+="&lt;",R=!1;break;case 62:H+="&gt;",R=!1;break;case 38:H+="&amp;",R=!1;break;case 0:H+="&#00;",R=!1;break;case 65279:case 8232:case 8233:case 133:H+="\uFFFD",R=!1;break;case 13:H+="&#8203",R=!1;break;case 32:k&&R?(H+="&#160;",R=!1):(H+=" ",R=!0);break;default:H+=String.fromCharCode(ee),R=!1}}if(T+=`<span style="${_.getInlineStyle(b,f)}">${H}</span>`,V>a||N>=a)break}return T+="</div>",T}function I(w,_,f){let m='<div class="monaco-tokenized-source">';const a=C.uq(w);let x=f.getInitialState();for(let k=0,T=a.length;k<T;k++){const N=a[k];k>0&&(m+="<br/>");const L=f.tokenizeEncoded(N,!0,x);d.A.convertToEndOffset(L.tokens,N.length);const b=new d.A(L.tokens,N,_).inflate();let P=0;for(let V=0,H=b.getCount();V<H;V++){const ee=b.getClassName(V),ae=b.getEndOffset(V);m+=`<span class="${ee}">${C.YU(N.substring(P,ae))}</span>`,P=ae}x=L.endState}return m+="</div>",m}},62420:function(it,Ee,l){"use strict";l.d(Ee,{F5:function(){return z},Qi:function(){return A},RM:function(){return O},Tx:function(){return M},dJ:function(){return y},je:function(){return I},pt:function(){return w},sh:function(){return d},tk:function(){return W}});var C=l(42893),d;(function(_){_[_.Left=1]="Left",_[_.Center=2]="Center",_[_.Right=4]="Right",_[_.Full=7]="Full"})(d||(d={}));var z;(function(_){_[_.Inline=1]="Inline",_[_.Gutter=2]="Gutter"})(z||(z={}));var O;(function(_){_[_.Both=0]="Both",_[_.Right=1]="Right",_[_.Left=2]="Left",_[_.None=3]="None"})(O||(O={}));class y{constructor(f){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,f.tabSize|0),this.indentSize=f.tabSize|0,this.insertSpaces=Boolean(f.insertSpaces),this.defaultEOL=f.defaultEOL|0,this.trimAutoWhitespace=Boolean(f.trimAutoWhitespace),this.bracketPairColorizationOptions=f.bracketPairColorizationOptions}equals(f){return this.tabSize===f.tabSize&&this.indentSize===f.indentSize&&this.insertSpaces===f.insertSpaces&&this.defaultEOL===f.defaultEOL&&this.trimAutoWhitespace===f.trimAutoWhitespace&&(0,C.fS)(this.bracketPairColorizationOptions,f.bracketPairColorizationOptions)}createChangeEvent(f){return{tabSize:this.tabSize!==f.tabSize,indentSize:this.indentSize!==f.indentSize,insertSpaces:this.insertSpaces!==f.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==f.trimAutoWhitespace}}}class W{constructor(f,m){this._findMatchBrand=void 0,this.range=f,this.matches=m}}class A{constructor(f,m,a,x,k,T){this.identifier=f,this.range=m,this.text=a,this.forceMoveMarkers=x,this.isAutoWhitespaceEdit=k,this._isTracked=T}}class M{constructor(f,m,a){this.regex=f,this.wordSeparators=m,this.simpleSearch=a}}class I{constructor(f,m,a){this.reverseEdits=f,this.changes=m,this.trimAutoWhitespaceLineNumbers=a}}function w(_){return!_.isTooLargeForSyncing()&&!_.isForSimpleWidget}},1697:function(it,Ee,l){"use strict";l.d(Ee,{BH:function(){return m},Dm:function(){return x},Kd:function(){return y},Y0:function(){return W},n2:function(){return a}});var C=l(22761),d=l(85167),z=l(68954);class O{constructor(T){this._length=T}get length(){return this._length}}class y extends O{constructor(T,N,L,R,b){super(T),this.openingBracket=N,this.child=L,this.closingBracket=R,this.missingOpeningBracketIds=b}static create(T,N,L){let R=T.length;return N&&(R=(0,d.Ii)(R,N.length)),L&&(R=(0,d.Ii)(R,L.length)),new y(R,T,N,L,N?N.missingOpeningBracketIds:z.tS.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(T){switch(T){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const T=new Array;return T.push(this.openingBracket),this.child&&T.push(this.child),this.closingBracket&&T.push(this.closingBracket),T}canBeReused(T){return!(this.closingBracket===null||T.intersects(this.missingOpeningBracketIds))}deepClone(){return new y(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(T,N){return this.child?this.child.computeMinIndentation((0,d.Ii)(T,this.openingBracket.length),N):Number.MAX_SAFE_INTEGER}}class W extends O{constructor(T,N,L){super(T),this.listHeight=N,this._missingOpeningBracketIds=L,this.cachedMinIndentation=-1}static create23(T,N,L,R=!1){let b=T.length,P=T.missingOpeningBracketIds;if(T.listHeight!==N.listHeight)throw new Error("Invalid list heights");if(b=(0,d.Ii)(b,N.length),P=P.merge(N.missingOpeningBracketIds),L){if(T.listHeight!==L.listHeight)throw new Error("Invalid list heights");b=(0,d.Ii)(b,L.length),P=P.merge(L.missingOpeningBracketIds)}return R?new M(b,T.listHeight+1,T,N,L,P):new A(b,T.listHeight+1,T,N,L,P)}static getEmpty(){return new w(d.xl,0,[],z.tS.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const T=this.childrenLength;if(T===0)return;const N=this.getChild(T-1),L=N.kind===4?N.toMutable():N;return N!==L&&this.setChild(T-1,L),L}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const N=this.getChild(0),L=N.kind===4?N.toMutable():N;return N!==L&&this.setChild(0,L),L}canBeReused(T){if(T.intersects(this.missingOpeningBracketIds))return!1;let N=this,L;for(;N.kind===4&&(L=N.childrenLength)>0;)N=N.getChild(L-1);return N.canBeReused(T)}handleChildrenChanged(){this.throwIfImmutable();const T=this.childrenLength;let N=this.getChild(0).length,L=this.getChild(0).missingOpeningBracketIds;for(let R=1;R<T;R++){const b=this.getChild(R);N=(0,d.Ii)(N,b.length),L=L.merge(b.missingOpeningBracketIds)}this._length=N,this._missingOpeningBracketIds=L,this.cachedMinIndentation=-1}computeMinIndentation(T,N){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let L=Number.MAX_SAFE_INTEGER,R=T;for(let b=0;b<this.childrenLength;b++){const P=this.getChild(b);P&&(L=Math.min(L,P.computeMinIndentation(R,N)),R=(0,d.Ii)(R,P.length))}return this.cachedMinIndentation=L,L}}class A extends W{constructor(T,N,L,R,b,P){super(T,N,P),this._item1=L,this._item2=R,this._item3=b}get childrenLength(){return this._item3!==null?3:2}getChild(T){switch(T){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(T,N){switch(T){case 0:this._item1=N;return;case 1:this._item2=N;return;case 2:this._item3=N;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new A(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(T){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=T,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const T=this._item3;return this._item3=null,this.handleChildrenChanged(),T}prependChildOfSameHeight(T){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=T,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const T=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),T}toMutable(){return this}}class M extends A{toMutable(){return new A(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class I extends W{constructor(T,N,L,R){super(T,N,R),this._children=L}get childrenLength(){return this._children.length}getChild(T){return this._children[T]}setChild(T,N){this._children[T]=N}get children(){return this._children}deepClone(){const T=new Array(this._children.length);for(let N=0;N<this._children.length;N++)T[N]=this._children[N].deepClone();return new I(this.length,this.listHeight,T,this.missingOpeningBracketIds)}appendChildOfSameHeight(T){this.throwIfImmutable(),this._children.push(T),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const T=this._children.pop();return this.handleChildrenChanged(),T}prependChildOfSameHeight(T){this.throwIfImmutable(),this._children.unshift(T),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const T=this._children.shift();return this.handleChildrenChanged(),T}toMutable(){return this}}class w extends I{toMutable(){return new I(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const _=[];class f extends O{get listHeight(){return 0}get childrenLength(){return 0}getChild(T){return null}get children(){return _}deepClone(){return this}}class m extends f{get kind(){return 0}get missingOpeningBracketIds(){return z.tS.getEmpty()}canBeReused(T){return!0}computeMinIndentation(T,N){const L=(0,d.Hw)(T),R=(L.columnCount===0?L.lineCount:L.lineCount+1)+1,b=(0,d.W9)((0,d.Ii)(T,this.length))+1;let P=Number.MAX_SAFE_INTEGER;for(let V=R;V<=b;V++){const H=N.getLineFirstNonWhitespaceColumn(V),ee=N.getLineContent(V);if(H===0)continue;const ae=C.i.visibleColumnFromColumn(ee,H,N.getOptions().tabSize);P=Math.min(P,ae)}return P}}class a extends f{constructor(T,N,L){super(T),this.languageId=N,this.bracketIds=L}static create(T,N,L){return new a(T,N,L)}get kind(){return 1}get missingOpeningBracketIds(){return z.tS.getEmpty()}canBeReused(T){return!1}computeMinIndentation(T,N){return Number.MAX_SAFE_INTEGER}}class x extends f{constructor(T,N){super(N),this.missingOpeningBracketIds=T}get kind(){return 3}canBeReused(T){return!T.intersects(this.missingOpeningBracketIds)}computeMinIndentation(T,N){return Number.MAX_SAFE_INTEGER}}},79289:function(it,Ee,l){"use strict";l.d(Ee,{Q:function(){return d},Y:function(){return z}});var C=l(85167);class d{constructor(W,A,M){this.startOffset=W,this.endOffset=A,this.newLength=M}}class z{constructor(W,A){this.documentLength=A,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=W.map(M=>O.from(M))}getOffsetBeforeChange(W){return this.adjustNextEdit(W),this.translateCurToOld(W)}getDistanceToNextChange(W){this.adjustNextEdit(W);const A=this.edits[this.nextEditIdx],M=A?this.translateOldToCur(A.offsetObj):this.documentLength;return(0,C.BE)(W,M)}translateOldToCur(W){return W.lineCount===this.deltaLineIdxInOld?(0,C.Hg)(W.lineCount+this.deltaOldToNewLineCount,W.columnCount+this.deltaOldToNewColumnCount):(0,C.Hg)(W.lineCount+this.deltaOldToNewLineCount,W.columnCount)}translateCurToOld(W){const A=(0,C.Hw)(W);return A.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,C.Hg)(A.lineCount-this.deltaOldToNewLineCount,A.columnCount-this.deltaOldToNewColumnCount):(0,C.Hg)(A.lineCount-this.deltaOldToNewLineCount,A.columnCount)}adjustNextEdit(W){for(;this.nextEditIdx<this.edits.length;){const A=this.edits[this.nextEditIdx],M=this.translateOldToCur(A.endOffsetAfterObj);if((0,C.By)(M,W)){this.nextEditIdx++;const I=(0,C.Hw)(M),w=(0,C.Hw)(this.translateOldToCur(A.endOffsetBeforeObj)),_=I.lineCount-w.lineCount;this.deltaOldToNewLineCount+=_;const f=this.deltaLineIdxInOld===A.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,m=I.columnCount-w.columnCount;this.deltaOldToNewColumnCount=f+m,this.deltaLineIdxInOld=A.endOffsetBeforeObj.lineCount}else break}}}class O{constructor(W,A,M){this.endOffsetBeforeObj=(0,C.Hw)(A),this.endOffsetAfterObj=(0,C.Hw)((0,C.Ii)(W,M)),this.offsetObj=(0,C.Hw)(W)}static from(W){return new O(W.startOffset,W.endOffset,W.newLength)}}},84803:function(it,Ee,l){"use strict";l.d(Ee,{Z:function(){return M}});var C=l(76311),d=l(1697),z=l(85167),O=l(68954),y=l(43715);class W{constructor(w){this.map=w,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(w,_){function f(T,N){return _.getKey(`${T}:::${N}`)}const m=w.characterPair.getColorizedBrackets(),a=new Map,x=new Set;for(const[T,N]of m){x.add(T);let L=a.get(N);const R=f(w.languageId,T);L||(L={openingBrackets:O.tS.getEmpty(),first:R},a.set(N,L)),L.openingBrackets=L.openingBrackets.add(R,O.Qw)}const k=new Map;for(const[T,N]of a){const L=(0,z.Hg)(0,T.length);k.set(T,new y.WU(L,2,N.first,N.openingBrackets,d.n2.create(L,w.languageId,N.openingBrackets)))}for(const T of x){const N=(0,z.Hg)(0,T.length),L=f(w.languageId,T),R=O.tS.getEmpty().add(L,O.Qw);k.set(T,new y.WU(N,1,L,R,d.n2.create(N,w.languageId,R)))}return new W(k)}getRegExpStr(){if(this.isEmpty)return null;{const w=[...this.map.keys()];return w.sort(),w.reverse(),w.map(_=>A(_)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const w=this.getRegExpStr();this._regExpGlobal=w?new RegExp(w,"g"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(w){return this.map.get(w)}findClosingTokenText(w){for(const[_,f]of this.map)if(f.bracketIds.intersects(w))return _}get isEmpty(){return this.map.size===0}}function A(I){const w=(0,C.ec)(I);return/^[\w ]+$/.test(I)?`\\b${w}\\b`:w}class M{constructor(w,_){this.denseKeyProvider=w,this.getLanguageConfiguration=_,this.languageIdToBracketTokens=new Map}didLanguageChange(w){const _=this.languageIdToBracketTokens.get(w);if(!_)return!1;const f=W.createFromLanguage(this.getLanguageConfiguration(w),this.denseKeyProvider).getRegExpStr();return _.getRegExpStr()!==f}getSingleLanguageBracketTokens(w){let _=this.languageIdToBracketTokens.get(w);return _||(_=W.createFromLanguage(this.getLanguageConfiguration(w),this.denseKeyProvider),this.languageIdToBracketTokens.set(w,_)),_}}},85167:function(it,Ee,l){"use strict";l.d(Ee,{BE:function(){return m},By:function(){return x},F_:function(){return _},Hg:function(){return M},Hw:function(){return I},Ii:function(){return f},PZ:function(){return T},Qw:function(){return N},VR:function(){return a},W9:function(){return w},Zq:function(){return k},av:function(){return O},oR:function(){return L},xd:function(){return W},xl:function(){return y}});var C=l(76311),d=l(50757);class z{constructor(b,P){this.lineCount=b,this.columnCount=P}toString(){return`${this.lineCount},${this.columnCount}`}}z.zero=new z(0,0);function O(R,b,P,V){return R!==P?M(P-R,V):M(0,V-b)}const y=0;function W(R){return R===0}const A=Math.pow(2,26);function M(R,b){return R*A+b}function I(R){const b=R,P=Math.floor(b/A),V=b-P*A;return new z(P,V)}function w(R){return Math.floor(R/A)}function _(R){return R}function f(R,b){return b<A?R+b:R-R%A+b}function m(R,b){const P=R,V=b;if(V-P<=0)return y;const ee=Math.floor(P/A),ae=Math.floor(V/A),me=V-ae*A;if(ee===ae){const ge=P-ee*A;return M(0,me-ge)}else return M(ae-ee,me)}function a(R,b){return R<b}function x(R,b){return R<=b}function k(R,b){return R>=b}function T(R){return M(R.lineNumber-1,R.column-1)}function N(R,b){const P=R,V=Math.floor(P/A),H=P-V*A,ee=b,ae=Math.floor(ee/A),me=ee-ae*A;return new d.e(V+1,H+1,ae+1,me+1)}function L(R){const b=(0,C.uq)(R);return M(b.length-1,b[b.length-1].length)}},82748:function(it,Ee,l){"use strict";l.d(Ee,{w:function(){return a}});var C=l(1697),d=l(79289),z=l(68954),O=l(85167);function y(k){if(k.length===0)return null;if(k.length===1)return k[0];let T=0;function N(){if(T>=k.length)return null;const P=T,V=k[P].listHeight;for(T++;T<k.length&&k[T].listHeight===V;)T++;return T-P>=2?W(P===0&&T===k.length?k:k.slice(P,T),!1):k[P]}let L=N(),R=N();if(!R)return L;for(let P=N();P;P=N())A(L,R)<=A(R,P)?(L=M(L,R),R=P):R=M(R,P);return M(L,R)}function W(k,T=!1){if(k.length===0)return null;if(k.length===1)return k[0];let N=k.length;for(;N>3;){const L=N>>1;for(let R=0;R<L;R++){const b=R<<1;k[R]=C.Y0.create23(k[b],k[b+1],b+3===N?k[b+2]:null,T)}N=L}return C.Y0.create23(k[0],k[1],N>=3?k[2]:null,T)}function A(k,T){return Math.abs(k.listHeight-T.listHeight)}function M(k,T){return k.listHeight===T.listHeight?C.Y0.create23(k,T,null,!1):k.listHeight>T.listHeight?I(k,T):w(T,k)}function I(k,T){k=k.toMutable();let N=k;const L=new Array;let R;for(;;){if(T.listHeight===N.listHeight){R=T;break}if(N.kind!==4)throw new Error("unexpected");L.push(N),N=N.makeLastElementMutable()}for(let b=L.length-1;b>=0;b--){const P=L[b];R?P.childrenLength>=3?R=C.Y0.create23(P.unappendChild(),R,null,!1):(P.appendChildOfSameHeight(R),R=void 0):P.handleChildrenChanged()}return R?C.Y0.create23(k,R,null,!1):k}function w(k,T){k=k.toMutable();let N=k;const L=new Array;for(;T.listHeight!==N.listHeight;){if(N.kind!==4)throw new Error("unexpected");L.push(N),N=N.makeFirstElementMutable()}let R=T;for(let b=L.length-1;b>=0;b--){const P=L[b];R?P.childrenLength>=3?R=C.Y0.create23(R,P.unprependChild(),null,!1):(P.prependChildOfSameHeight(R),R=void 0):P.handleChildrenChanged()}return R?C.Y0.create23(R,k,null,!1):k}class _{constructor(T){this.lastOffset=O.xl,this.nextNodes=[T],this.offsets=[O.xl],this.idxs=[]}readLongestNodeAt(T,N){if((0,O.VR)(T,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=T;;){const L=m(this.nextNodes);if(!L)return;const R=m(this.offsets);if((0,O.VR)(T,R))return;if((0,O.VR)(R,T))if((0,O.Ii)(R,L.length)<=T)this.nextNodeAfterCurrent();else{const b=f(L);b!==-1?(this.nextNodes.push(L.getChild(b)),this.offsets.push(R),this.idxs.push(b)):this.nextNodeAfterCurrent()}else{if(N(L))return this.nextNodeAfterCurrent(),L;{const b=f(L);if(b===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(L.getChild(b)),this.offsets.push(R),this.idxs.push(b)}}}}nextNodeAfterCurrent(){for(;;){const T=m(this.offsets),N=m(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const L=m(this.nextNodes),R=f(L,this.idxs[this.idxs.length-1]);if(R!==-1){this.nextNodes.push(L.getChild(R)),this.offsets.push((0,O.Ii)(T,N.length)),this.idxs[this.idxs.length-1]=R;break}else this.idxs.pop()}}}function f(k,T=-1){for(;;){if(T++,T>=k.childrenLength)return-1;if(k.getChild(T))return T}}function m(k){return k.length>0?k[k.length-1]:void 0}function a(k,T,N,L){return new x(k,T,N,L).parseDocument()}class x{constructor(T,N,L,R){if(this.tokenizer=T,this.createImmutableLists=R,this._itemsConstructed=0,this._itemsFromCache=0,L&&R)throw new Error("Not supported");this.oldNodeReader=L?new _(L):void 0,this.positionMapper=new d.Y(N,T.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let T=this.parseList(z.tS.getEmpty());return T||(T=C.Y0.getEmpty()),T}parseList(T){const N=new Array;for(;;){const R=this.tokenizer.peek();if(!R||R.kind===2&&R.bracketIds.intersects(T))break;const b=this.parseChild(T);b.kind===4&&b.childrenLength===0||N.push(b)}return this.oldNodeReader?y(N):W(N,this.createImmutableLists)}parseChild(T){if(this.oldNodeReader){const L=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!(0,O.xd)(L)){const R=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),b=>(0,O.VR)(b.length,L)?b.canBeReused(T):!1);if(R)return this._itemsFromCache++,this.tokenizer.skip(R.length),R}}this._itemsConstructed++;const N=this.tokenizer.read();switch(N.kind){case 2:return new C.Dm(N.bracketIds,N.length);case 0:return N.astNode;case 1:{const L=T.merge(N.bracketIds),R=this.parseList(L),b=this.tokenizer.peek();return b&&b.kind===2&&(b.bracketId===N.bracketId||b.bracketIds.intersects(N.bracketIds))?(this.tokenizer.read(),C.Kd.create(N.astNode,R,b.astNode)):C.Kd.create(N.astNode,R,null)}default:throw new Error("unexpected")}}}},68954:function(it,Ee,l){"use strict";l.d(Ee,{FE:function(){return O},Qw:function(){return z},tS:function(){return d}});const C=new Array;class d{constructor(W,A){this.items=W,this.additionalItems=A}static create(W,A){if(W<=128&&A.length===0){let M=d.cache[W];return M||(M=new d(W,A),d.cache[W]=M),M}return new d(W,A)}static getEmpty(){return this.empty}add(W,A){const M=A.getKey(W);let I=M>>5;if(I===0){const _=1<<M|this.items;return _===this.items?this:d.create(_,this.additionalItems)}I--;const w=this.additionalItems.slice(0);for(;w.length<I;)w.push(0);return w[I]|=1<<(M&31),d.create(this.items,w)}merge(W){const A=this.items|W.items;if(this.additionalItems===C&&W.additionalItems===C)return A===this.items?this:A===W.items?W:d.create(A,C);const M=new Array;for(let I=0;I<Math.max(this.additionalItems.length,W.additionalItems.length);I++){const w=this.additionalItems[I]||0,_=W.additionalItems[I]||0;M.push(w|_)}return d.create(A,M)}intersects(W){if((this.items&W.items)!==0)return!0;for(let A=0;A<Math.min(this.additionalItems.length,W.additionalItems.length);A++)if((this.additionalItems[A]&W.additionalItems[A])!==0)return!0;return!1}}d.cache=new Array(129),d.empty=d.create(0,C);const z={getKey(y){return y}};class O{constructor(){this.items=new Map}getKey(W){let A=this.items.get(W);return A===void 0&&(A=this.items.size,this.items.set(W,A)),A}}},43715:function(it,Ee,l){"use strict";l.d(Ee,{WU:function(){return W},g:function(){return I},xH:function(){return A}});var C=l(91273),d=l(46250),z=l(1697),O=l(85167),y=l(68954);class W{constructor(_,f,m,a,x){this.length=_,this.kind=f,this.bracketId=m,this.bracketIds=a,this.astNode=x}}class A{constructor(_,f){this.textModel=_,this.bracketTokens=f,this.reader=new M(this.textModel,this.bracketTokens),this._offset=O.xl,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=_.getLineCount(),this.textBufferLastLineLength=_.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,O.Hg)(this.textBufferLineCount,this.textBufferLastLineLength)}skip(_){this.didPeek=!1,this._offset=(0,O.Ii)(this._offset,_);const f=(0,O.Hw)(this._offset);this.reader.setPosition(f.lineCount,f.columnCount)}read(){let _;return this.peeked?(this.didPeek=!1,_=this.peeked):_=this.reader.read(),_&&(this._offset=(0,O.Ii)(this._offset,_.length)),_}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class M{constructor(_,f){this.textModel=_,this.bracketTokens=f,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=_.getLineCount(),this.textBufferLastLineLength=_.getLineLength(this.textBufferLineCount)}setPosition(_,f){_===this.lineIdx?(this.lineCharOffset=f,this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=_,this.lineCharOffset=f,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const x=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,O.F_)(x.length),x}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const _=this.lineIdx,f=this.lineCharOffset;let m=0;for(;;){const x=this.lineTokens,k=x.getCount();let T=null;if(this.lineTokenOffset<k){const N=x.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<k&&N===x.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const L=d.NX.getTokenType(N)===0,R=x.getEndOffset(this.lineTokenOffset);if(L&&R!==this.lineCharOffset){const b=x.getLanguageId(this.lineTokenOffset),P=this.line.substring(this.lineCharOffset,R),V=this.bracketTokens.getSingleLanguageBracketTokens(b),H=V.regExpGlobal;if(H){H.lastIndex=0;const ee=H.exec(P);ee&&(T=V.getToken(ee[0]),T&&(this.lineCharOffset+=ee.index))}}if(m+=R-this.lineCharOffset,T)if(_!==this.lineIdx||f!==this.lineCharOffset){this.peekedToken=T;break}else return this.lineCharOffset+=(0,O.F_)(T.length),T;else this.lineTokenOffset++,this.lineCharOffset=R}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,m+=33,m>1e3))break;if(m>1500)break}const a=(0,O.av)(_,f,this.lineIdx,this.lineCharOffset);return new W(a,0,-1,y.tS.getEmpty(),new z.BH(a))}}class I{constructor(_,f){this.text=_,this._offset=O.xl,this.idx=0;const a=f.getRegExpStr()?new RegExp(f.getRegExpStr()+`|
`,"g"):null,x=[];let k,T=0,N=0,L=0,R=0;const b=new Array;for(let H=0;H<60;H++)b.push(new W((0,O.Hg)(0,H),0,-1,y.tS.getEmpty(),new z.BH((0,O.Hg)(0,H))));const P=new Array;for(let H=0;H<60;H++)P.push(new W((0,O.Hg)(1,H),0,-1,y.tS.getEmpty(),new z.BH((0,O.Hg)(1,H))));if(a)for(a.lastIndex=0;(k=a.exec(_))!==null;){const H=k.index,ee=k[0];if(ee===`
`)T++,N=H+1;else{if(L!==H){let ae;if(R===T){const me=H-L;if(me<b.length)ae=b[me];else{const ge=(0,O.Hg)(0,me);ae=new W(ge,0,-1,y.tS.getEmpty(),new z.BH(ge))}}else{const me=T-R,ge=H-N;if(me===1&&ge<P.length)ae=P[ge];else{const re=(0,O.Hg)(me,ge);ae=new W(re,0,-1,y.tS.getEmpty(),new z.BH(re))}}x.push(ae)}x.push(f.getToken(ee)),L=H+ee.length,R=T}}const V=_.length;if(L!==V){const H=R===T?(0,O.Hg)(0,V-L):(0,O.Hg)(T-R,V-N);x.push(new W(H,0,-1,y.tS.getEmpty(),new z.BH(H)))}this.length=(0,O.Hg)(T,V-N),this.tokens=x}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(_){throw new C.B8}}},59713:function(it,Ee,l){"use strict";l.d(Ee,{NL:function(){return a},e9:function(){return m}});var C=l(82215),d=l(91273),z=l(83141),O=l(47087),y=l(60637),W=l(1015),A=l(63795);function M(x){return x.toString()}class I{constructor(k,T,N,L,R,b,P){this.beforeVersionId=k,this.afterVersionId=T,this.beforeEOL=N,this.afterEOL=L,this.beforeCursorState=R,this.afterCursorState=b,this.changes=P}static create(k,T){const N=k.getAlternativeVersionId(),L=f(k);return new I(N,N,L,L,T,T,[])}append(k,T,N,L,R){T.length>0&&(this.changes=(0,y.b)(this.changes,T)),this.afterEOL=N,this.afterVersionId=L,this.afterCursorState=R}static _writeSelectionsSize(k){return 4+4*4*(k?k.length:0)}static _writeSelections(k,T,N){if(W.T4(k,T?T.length:0,N),N+=4,T)for(const L of T)W.T4(k,L.selectionStartLineNumber,N),N+=4,W.T4(k,L.selectionStartColumn,N),N+=4,W.T4(k,L.positionLineNumber,N),N+=4,W.T4(k,L.positionColumn,N),N+=4;return N}static _readSelections(k,T,N){const L=W.Ag(k,T);T+=4;for(let R=0;R<L;R++){const b=W.Ag(k,T);T+=4;const P=W.Ag(k,T);T+=4;const V=W.Ag(k,T);T+=4;const H=W.Ag(k,T);T+=4,N.push(new z.Y(b,P,V,H))}return T}serialize(){let k=10+I._writeSelectionsSize(this.beforeCursorState)+I._writeSelectionsSize(this.afterCursorState)+4;for(const L of this.changes)k+=L.writeSize();const T=new Uint8Array(k);let N=0;W.T4(T,this.beforeVersionId,N),N+=4,W.T4(T,this.afterVersionId,N),N+=4,W.Cg(T,this.beforeEOL,N),N+=1,W.Cg(T,this.afterEOL,N),N+=1,N=I._writeSelections(T,this.beforeCursorState,N),N=I._writeSelections(T,this.afterCursorState,N),W.T4(T,this.changes.length,N),N+=4;for(const L of this.changes)N=L.write(T,N);return T.buffer}static deserialize(k){const T=new Uint8Array(k);let N=0;const L=W.Ag(T,N);N+=4;const R=W.Ag(T,N);N+=4;const b=W.Q$(T,N);N+=1;const P=W.Q$(T,N);N+=1;const V=[];N=I._readSelections(T,N,V);const H=[];N=I._readSelections(T,N,H);const ee=W.Ag(T,N);N+=4;const ae=[];for(let me=0;me<ee;me++)N=y.q.read(T,N,ae);return new I(L,R,b,P,V,H,ae)}}class w{constructor(k,T){this.model=k,this._data=I.create(k,T)}get type(){return 0}get resource(){return O.o.isUri(this.model)?this.model:this.model.uri}get label(){return C.N("edit","Typing")}toString(){return(this._data instanceof I?this._data:I.deserialize(this._data)).changes.map(T=>T.toString()).join(", ")}matchesResource(k){return(O.o.isUri(this.model)?this.model:this.model.uri).toString()===k.toString()}setModel(k){this.model=k}canAppend(k){return this.model===k&&this._data instanceof I}append(k,T,N,L,R){this._data instanceof I&&this._data.append(k,T,N,L,R)}close(){this._data instanceof I&&(this._data=this._data.serialize())}open(){this._data instanceof I||(this._data=I.deserialize(this._data))}undo(){if(O.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof I&&(this._data=this._data.serialize());const k=I.deserialize(this._data);this.model._applyUndo(k.changes,k.beforeEOL,k.beforeVersionId,k.beforeCursorState)}redo(){if(O.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof I&&(this._data=this._data.serialize());const k=I.deserialize(this._data);this.model._applyRedo(k.changes,k.afterEOL,k.afterVersionId,k.afterCursorState)}heapSize(){return this._data instanceof I&&(this._data=this._data.serialize()),this._data.byteLength+168}}class _{constructor(k,T){this.type=1,this.label=k,this._isOpen=!0,this._editStackElementsArr=T.slice(0),this._editStackElementsMap=new Map;for(const N of this._editStackElementsArr){const L=M(N.resource);this._editStackElementsMap.set(L,N)}this._delegate=null}get resources(){return this._editStackElementsArr.map(k=>k.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(k){const T=M(k);return this._editStackElementsMap.has(T)}setModel(k){const T=M(O.o.isUri(k)?k:k.uri);this._editStackElementsMap.has(T)&&this._editStackElementsMap.get(T).setModel(k)}canAppend(k){if(!this._isOpen)return!1;const T=M(k.uri);return this._editStackElementsMap.has(T)?this._editStackElementsMap.get(T).canAppend(k):!1}append(k,T,N,L,R){const b=M(k.uri);this._editStackElementsMap.get(b).append(k,T,N,L,R)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const k of this._editStackElementsArr)k.undo()}redo(){for(const k of this._editStackElementsArr)k.redo()}heapSize(k){const T=M(k);return this._editStackElementsMap.has(T)?this._editStackElementsMap.get(T).heapSize():0}split(){return this._editStackElementsArr}toString(){let k=[];for(const T of this._editStackElementsArr)k.push(`${(0,A.EZ)(T.resource)}: ${T}`);return`{${k.join(", ")}}`}}function f(x){return x.getEOL()===`
`?0:1}function m(x){return x?x instanceof w||x instanceof _:!1}class a{constructor(k,T){this._model=k,this._undoRedoService=T}pushStackElement(){const k=this._undoRedoService.getLastElement(this._model.uri);m(k)&&k.close()}popStackElement(){const k=this._undoRedoService.getLastElement(this._model.uri);m(k)&&k.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(k){const T=this._undoRedoService.getLastElement(this._model.uri);if(m(T)&&T.canAppend(this._model))return T;const N=new w(this._model,k);return this._undoRedoService.pushElement(N),N}pushEOL(k){const T=this._getOrCreateEditStackElement(null);this._model.setEOL(k),T.append(this._model,[],f(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(k,T,N){const L=this._getOrCreateEditStackElement(k),R=this._model.applyEdits(T,!0),b=a._computeCursorState(N,R),P=R.map((V,H)=>({index:H,textChange:V.textChange}));return P.sort((V,H)=>V.textChange.oldPosition===H.textChange.oldPosition?V.index-H.index:V.textChange.oldPosition-H.textChange.oldPosition),L.append(this._model,P.map(V=>V.textChange),f(this._model),this._model.getAlternativeVersionId(),b),b}static _computeCursorState(k,T){try{return k?k(T):null}catch(N){return(0,d.dL)(N),null}}}},57604:function(it,Ee,l){"use strict";l.d(Ee,{W:function(){return I},l:function(){return M}});var C=l(825),d=l(76311),z=l(22761),O=l(50757);class y{constructor(){this._isDisposed=!1}dispose(){this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}var W=l(68270),A=l(11370);class M extends y{constructor(_,f){super(),this.textModel=_,this.languageConfigurationService=f}getLanguageConfiguration(_){return this.languageConfigurationService.getLanguageConfiguration(_)}_computeIndentLevel(_){return(0,W.q)(this.textModel.getLineContent(_+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(_,f,m){this.assertNotDisposed();const a=this.textModel.getLineCount();if(_<1||_>a)throw new Error("Illegal value for lineNumber");const x=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,k=Boolean(x&&x.offSide);let T=-2,N=-1,L=-2,R=-1;const b=j=>{if(T!==-1&&(T===-2||T>j-1)){T=-1,N=-1;for(let ie=j-2;ie>=0;ie--){const J=this._computeIndentLevel(ie);if(J>=0){T=ie,N=J;break}}}if(L===-2){L=-1,R=-1;for(let ie=j;ie<a;ie++){const J=this._computeIndentLevel(ie);if(J>=0){L=ie,R=J;break}}}};let P=-2,V=-1,H=-2,ee=-1;const ae=j=>{if(P===-2){P=-1,V=-1;for(let ie=j-2;ie>=0;ie--){const J=this._computeIndentLevel(ie);if(J>=0){P=ie,V=J;break}}}if(H!==-1&&(H===-2||H<j-1)){H=-1,ee=-1;for(let ie=j;ie<a;ie++){const J=this._computeIndentLevel(ie);if(J>=0){H=ie,ee=J;break}}}};let me=0,ge=!0,re=0,se=!0,X=0,$=0;for(let j=0;ge||se;j++){const ie=_-j,J=_+j;j>1&&(ie<1||ie<f)&&(ge=!1),j>1&&(J>a||J>m)&&(se=!1),j>5e4&&(ge=!1,se=!1);let oe=-1;if(ge&&ie>=1){const we=this._computeIndentLevel(ie-1);we>=0?(L=ie-1,R=we,oe=Math.ceil(we/this.textModel.getOptions().indentSize)):(b(ie),oe=this._getIndentLevelForWhitespaceLine(k,N,R))}let ce=-1;if(se&&J<=a){const we=this._computeIndentLevel(J-1);we>=0?(P=J-1,V=we,ce=Math.ceil(we/this.textModel.getOptions().indentSize)):(ae(J),ce=this._getIndentLevelForWhitespaceLine(k,V,ee))}if(j===0){$=oe;continue}if(j===1){if(J<=a&&ce>=0&&$+1===ce){ge=!1,me=J,re=J,X=ce;continue}if(ie>=1&&oe>=0&&oe-1===$){se=!1,me=ie,re=ie,X=oe;continue}if(me=_,re=_,X=$,X===0)return{startLineNumber:me,endLineNumber:re,indent:X}}ge&&(oe>=X?me=ie:ge=!1),se&&(ce>=X?re=J:se=!1)}return{startLineNumber:me,endLineNumber:re,indent:X}}getLinesBracketGuides(_,f,m,a){var x,k,T,N,L;const R=[],b=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new O.e(_,1,f,this.textModel.getLineMaxColumn(f)));let P;if(m&&b.length>0){const me=_<=m.lineNumber&&m.lineNumber<=f?b.filter(ge=>O.e.strictContainsPosition(ge.range,m)):this.textModel.bracketPairs.getBracketPairsInRange(O.e.fromPositions(m));P=(x=(0,C.dF)(me,ge=>ge.range.startLineNumber!==ge.range.endLineNumber))===null||x===void 0?void 0:x.range}const V=new C.H9(b),H=new Array,ee=new Array,ae=new I;for(let me=_;me<=f;me++){let ge=new Array;ee.length>0&&(ge=ge.concat(ee),ee.length=0),R.push(ge);for(const se of V.takeWhile(X=>X.openingBracketRange.startLineNumber<=me)||[]){if(se.range.startLineNumber===se.range.endLineNumber)continue;const X=Math.min(this.getVisibleColumnFromPosition(se.openingBracketRange.getStartPosition()),this.getVisibleColumnFromPosition((T=(k=se.closingBracketRange)===null||k===void 0?void 0:k.getStartPosition())!==null&&T!==void 0?T:se.range.getEndPosition()),se.minVisibleColumnIndentation+1);let $=!1;se.closingBracketRange&&d.LC(this.textModel.getLineContent(se.closingBracketRange.startLineNumber))<se.closingBracketRange.startColumn-1&&($=!0);const j=se.openingBracketRange.getStartPosition(),ie=(L=(N=se.closingBracketRange)===null||N===void 0?void 0:N.getStartPosition())!==null&&L!==void 0?L:se.range.getEndPosition();se.closingBracketRange===void 0?H[se.nestingLevel]=null:H[se.nestingLevel]={nestingLevel:se.nestingLevel,guideVisibleColumn:X,start:j,visibleStartColumn:this.getVisibleColumnFromPosition(j),end:ie,visibleEndColumn:this.getVisibleColumnFromPosition(ie),bracketPair:se,renderHorizontalEndLineAtTheBottom:$}}for(const se of H){if(!se)continue;const X=P&&se.bracketPair.range.equalsRange(P),$=ae.getInlineClassNameOfLevel(se.nestingLevel)+(a.highlightActive&&X?" "+ae.activeClassName:"");(X&&a.horizontalGuides!==A.s6.Disabled||a.includeInactive&&a.horizontalGuides===A.s6.Enabled)&&(se.start.lineNumber===me&&se.guideVisibleColumn<se.visibleStartColumn&&ge.push(new A.UO(se.guideVisibleColumn,$,new A.vW(!1,se.start.column))),se.end.lineNumber===me+1&&se.guideVisibleColumn<se.visibleEndColumn&&ee.push(new A.UO(se.guideVisibleColumn,$,new A.vW(!se.renderHorizontalEndLineAtTheBottom,se.end.column))))}let re=Number.MAX_SAFE_INTEGER;for(let se=H.length-1;se>=0;se--){const X=H[se];if(!X)continue;const $=a.highlightActive&&P&&X.bracketPair.range.equalsRange(P),j=ae.getInlineClassNameOfLevel(X.nestingLevel)+($?" "+ae.activeClassName:"");($||a.includeInactive)&&X.renderHorizontalEndLineAtTheBottom&&X.end.lineNumber===me+1&&ee.push(new A.UO(X.guideVisibleColumn,j,null)),!(X.end.lineNumber<=me||X.start.lineNumber>=me)&&(X.guideVisibleColumn>=re&&!$||(re=X.guideVisibleColumn,($||a.includeInactive)&&ge.push(new A.UO(X.guideVisibleColumn,j,null))))}ge.sort((se,X)=>se.visibleColumn-X.visibleColumn)}return R}getVisibleColumnFromPosition(_){return z.i.visibleColumnFromColumn(this.textModel.getLineContent(_.lineNumber),_.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(_,f){this.assertNotDisposed();const m=this.textModel.getLineCount();if(_<1||_>m)throw new Error("Illegal value for startLineNumber");if(f<1||f>m)throw new Error("Illegal value for endLineNumber");const a=this.textModel.getOptions(),x=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,k=Boolean(x&&x.offSide),T=new Array(f-_+1);let N=-2,L=-1,R=-2,b=-1;for(let P=_;P<=f;P++){const V=P-_,H=this._computeIndentLevel(P-1);if(H>=0){N=P-1,L=H,T[V]=Math.ceil(H/a.indentSize);continue}if(N===-2){N=-1,L=-1;for(let ee=P-2;ee>=0;ee--){const ae=this._computeIndentLevel(ee);if(ae>=0){N=ee,L=ae;break}}}if(R!==-1&&(R===-2||R<P-1)){R=-1,b=-1;for(let ee=P;ee<m;ee++){const ae=this._computeIndentLevel(ee);if(ae>=0){R=ee,b=ae;break}}}T[V]=this._getIndentLevelForWhitespaceLine(k,L,b)}return T}_getIndentLevelForWhitespaceLine(_,f,m){const a=this.textModel.getOptions();return f===-1||m===-1?0:f<m?1+Math.floor(f/a.indentSize):f===m||_?Math.ceil(m/a.indentSize):1+Math.floor(m/a.indentSize)}}class I{constructor(){this.activeClassName="indent-active"}getInlineClassNameOfLevel(_){return`bracket-indent-guide lvl-${_%30}`}}},66336:function(it,Ee,l){"use strict";l.d(Ee,{Ck:function(){return O},oQ:function(){return z}});var C=l(825),d=l(7666);class z{constructor(A){this.values=A,this.prefixSum=new Uint32Array(A.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(A,M){A=(0,d.A)(A);const I=this.values,w=this.prefixSum,_=M.length;return _===0?!1:(this.values=new Uint32Array(I.length+_),this.values.set(I.subarray(0,A),0),this.values.set(I.subarray(A),A+_),this.values.set(M,A),A-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=A-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(w.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(A,M){return A=(0,d.A)(A),M=(0,d.A)(M),this.values[A]===M?!1:(this.values[A]=M,A-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=A-1),!0)}removeValues(A,M){A=(0,d.A)(A),M=(0,d.A)(M);const I=this.values,w=this.prefixSum;if(A>=I.length)return!1;const _=I.length-A;return M>=_&&(M=_),M===0?!1:(this.values=new Uint32Array(I.length-M),this.values.set(I.subarray(0,A),0),this.values.set(I.subarray(A+M),A),this.prefixSum=new Uint32Array(this.values.length),A-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=A-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(w.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(A){return A<0?0:(A=(0,d.A)(A),this._getPrefixSum(A))}_getPrefixSum(A){if(A<=this.prefixSumValidIndex[0])return this.prefixSum[A];let M=this.prefixSumValidIndex[0]+1;M===0&&(this.prefixSum[0]=this.values[0],M++),A>=this.values.length&&(A=this.values.length-1);for(let I=M;I<=A;I++)this.prefixSum[I]=this.prefixSum[I-1]+this.values[I];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],A),this.prefixSum[A]}getIndexOf(A){A=Math.floor(A),this.getTotalSum();let M=0,I=this.values.length-1,w=0,_=0,f=0;for(;M<=I;)if(w=M+(I-M)/2|0,_=this.prefixSum[w],f=_-this.values[w],A<f)I=w-1;else if(A>=_)M=w+1;else break;return new y(w,A-f)}}class O{constructor(A){this._values=A,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(A){return this._ensureValid(),A===0?0:this._prefixSum[A-1]}getIndexOf(A){this._ensureValid();const M=this._indexBySum[A],I=M>0?this._prefixSum[M-1]:0;return new y(M,A-I)}removeValues(A,M){this._values.splice(A,M),this._invalidate(A)}insertValues(A,M){this._values=(0,C.Zv)(this._values,A,M),this._invalidate(A)}_invalidate(A){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,A-1)}_ensureValid(){if(!this._isValid){for(let A=this._validEndIndex+1,M=this._values.length;A<M;A++){const I=this._values[A],w=A>0?this._prefixSum[A-1]:0;this._prefixSum[A]=w+I;for(let _=0;_<I;_++)this._indexBySum[w+_]=A}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(A,M){this._values[A]!==M&&(this._values[A]=M,this._invalidate(A))}}class y{constructor(A,M){this.index=A,this.remainder=M,this._prefixSumIndexOfResultBrand=void 0,this.index=A,this.remainder=M}}},12736:function(it,Ee,l){"use strict";l.d(Ee,{HS:function(){return Gs},qx:function(){return es},yO:function(){return Ns}});var C=l(825),d=l(8957),z=l(91273),O=l(60774),y=l(1405),W=l(76311),A=l(47087),M=l(7747),I=l(50757),w=l(83141),_=l(62420);class f{constructor(p,F,Z){this.range=p,this.nestingLevel=F,this.isInvalid=Z}}class m{constructor(p,F,Z,de){this.range=p,this.openingBracketRange=F,this.closingBracketRange=Z,this.nestingLevel=de}}class a extends m{constructor(p,F,Z,de,pe){super(p,F,Z,de),this.minVisibleColumnIndentation=pe}}var x=l(79289),k=l(84803),T=l(85167),N=l(82748),L=l(68954),R=l(43715);class b extends y.JT{constructor(p,F){if(super(),this.textModel=p,this.getLanguageConfiguration=F,this.didChangeEmitter=new O.Q5,this.denseKeyProvider=new L.FE,this.brackets=new k.Z(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,p.backgroundTokenizationState===0){const Z=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),de=new R.g(this.textModel.getValue(),Z);this.initialAstWithoutTokens=(0,N.w)(de,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else p.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):p.backgroundTokenizationState===1&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(p){return this.brackets.didLanguageChange(p)}handleDidChangeBackgroundTokenizationState(){if(this.textModel.backgroundTokenizationState===2){const p=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,p||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:p}){const F=p.map(Z=>new x.Q((0,T.Hg)(Z.fromLineNumber-1,0),(0,T.Hg)(Z.toLineNumber,0),(0,T.Hg)(Z.toLineNumber-Z.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(F,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(p){const F=p.changes.map(Z=>{const de=I.e.lift(Z.range);return new x.Q((0,T.PZ)(de.getStartPosition()),(0,T.PZ)(de.getEndPosition()),(0,T.oR)(Z.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(F,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(F,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(p,F,Z){const pe=F,Ie=new R.xH(this.textModel,this.brackets);return(0,N.w)(Ie,p,pe,Z)}getBracketsInRange(p){const F=(0,T.Hg)(p.startLineNumber-1,p.startColumn-1),Z=(0,T.Hg)(p.endLineNumber-1,p.endColumn-1),de=new Array,pe=this.initialAstWithoutTokens||this.astWithTokens;return P(pe,T.xl,pe.length,F,Z,de),de}getBracketPairsInRange(p,F){const Z=new Array,de=(0,T.PZ)(p.getStartPosition()),pe=(0,T.PZ)(p.getEndPosition()),Ie=this.initialAstWithoutTokens||this.astWithTokens,st=new V(Z,F,this.textModel);return H(Ie,T.xl,Ie.length,de,pe,st),Z}}function P(fe,p,F,Z,de,pe,Ie=0){if(fe.kind===4)for(const st of fe.children)F=(0,T.Ii)(p,st.length),(0,T.By)(p,de)&&(0,T.Zq)(F,Z)&&P(st,p,F,Z,de,pe,Ie),p=F;else if(fe.kind===2){Ie++;{const st=fe.openingBracket;if(F=(0,T.Ii)(p,st.length),(0,T.By)(p,de)&&(0,T.Zq)(F,Z)){const ot=(0,T.Qw)(p,F);pe.push(new f(ot,Ie-1,!fe.closingBracket))}p=F}if(fe.child){const st=fe.child;F=(0,T.Ii)(p,st.length),(0,T.By)(p,de)&&(0,T.Zq)(F,Z)&&P(st,p,F,Z,de,pe,Ie),p=F}if(fe.closingBracket){const st=fe.closingBracket;if(F=(0,T.Ii)(p,st.length),(0,T.By)(p,de)&&(0,T.Zq)(F,Z)){const ot=(0,T.Qw)(p,F);pe.push(new f(ot,Ie-1,!1))}p=F}}else if(fe.kind===3){const st=(0,T.Qw)(p,F);pe.push(new f(st,Ie-1,!0))}else if(fe.kind===1){const st=(0,T.Qw)(p,F);pe.push(new f(st,Ie-1,!1))}}class V{constructor(p,F,Z){this.result=p,this.includeMinIndentation=F,this.textModel=Z}}function H(fe,p,F,Z,de,pe,Ie=0){var st;if(fe.kind===2){const pt=(0,T.Ii)(p,fe.openingBracket.length);let mt=-1;pe.includeMinIndentation&&(mt=fe.computeMinIndentation(p,pe.textModel)),pe.result.push(new a((0,T.Qw)(p,F),(0,T.Qw)(p,pt),fe.closingBracket?(0,T.Qw)((0,T.Ii)(pt,((st=fe.child)===null||st===void 0?void 0:st.length)||T.xl),F):void 0,Ie,mt)),Ie++}let ot=p;for(const pt of fe.children){const mt=ot;ot=(0,T.Ii)(ot,pt.length),(0,T.By)(mt,de)&&(0,T.By)(Z,ot)&&H(pt,mt,ot,Z,de,pe,Ie)}}var ee=l(92893),ae=l(4732);class me extends y.JT{constructor(p,F){super(),this.textModel=p,this.languageConfigurationService=F,this.bracketPairsTree=this._register(new y.XK),this.onDidChangeEmitter=new O.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(Z=>{var de;(!Z.languageId||((de=this.bracketPairsTree.value)===null||de===void 0?void 0:de.object.didLanguageChange(Z.languageId)))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}get isDocumentSupported(){return this.textModel.getValueLength()<=5e6}handleDidChangeOptions(p){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(p){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(p){var F;(F=this.bracketPairsTree.value)===null||F===void 0||F.object.handleContentChanged(p)}handleDidChangeBackgroundTokenizationState(){var p;(p=this.bracketPairsTree.value)===null||p===void 0||p.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(p){var F;(F=this.bracketPairsTree.value)===null||F===void 0||F.object.handleDidChangeTokens(p)}updateBracketPairsTree(){if(this.bracketsRequested&&this.isDocumentSupported){if(!this.bracketPairsTree.value){const p=new y.SL;this.bracketPairsTree.value=ge(p.add(new b(this.textModel,F=>this.languageConfigurationService.getLanguageConfiguration(F))),p),p.add(this.bracketPairsTree.value.object.onDidChange(F=>this.onDidChangeEmitter.fire(F))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(p){var F;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((F=this.bracketPairsTree.value)===null||F===void 0?void 0:F.object.getBracketPairsInRange(p,!1))||[]}getBracketPairsInRangeWithMinIndentation(p){var F;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((F=this.bracketPairsTree.value)===null||F===void 0?void 0:F.object.getBracketPairsInRange(p,!0))||[]}getBracketsInRange(p){var F;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((F=this.bracketPairsTree.value)===null||F===void 0?void 0:F.object.getBracketsInRange(p))||[]}findMatchingBracketUp(p,F,Z){const de=p.toLowerCase(),pe=this.textModel.validatePosition(F),Ie=this.textModel.getLanguageIdAtPosition(pe.lineNumber,pe.column),st=this.languageConfigurationService.getLanguageConfiguration(Ie).brackets;if(!st)return null;const ot=st.textIsBracket[de];return ot?X(this._findMatchingBracketUp(ot,pe,re(Z))):null}matchBracket(p,F){const Z=re(F);return this._matchBracket(this.textModel.validatePosition(p),Z)}_establishBracketSearchOffsets(p,F,Z,de){const pe=F.getCount(),Ie=F.getLanguageId(de);let st=Math.max(0,p.column-1-Z.maxBracketLength);for(let pt=de-1;pt>=0;pt--){const mt=F.getEndOffset(pt);if(mt<=st)break;if((0,ee.Bu)(F.getStandardTokenType(pt))||F.getLanguageId(pt)!==Ie){st=mt;break}}let ot=Math.min(F.getLineContent().length,p.column-1+Z.maxBracketLength);for(let pt=de+1;pt<pe;pt++){const mt=F.getStartOffset(pt);if(mt>=ot)break;if((0,ee.Bu)(F.getStandardTokenType(pt))||F.getLanguageId(pt)!==Ie){ot=mt;break}}return{searchStartOffset:st,searchEndOffset:ot}}_matchBracket(p,F){const Z=p.lineNumber,de=this.textModel.getLineTokens(Z),pe=this.textModel.getLineContent(Z),Ie=de.findTokenIndexAtOffset(p.column-1);if(Ie<0)return null;const st=this.languageConfigurationService.getLanguageConfiguration(de.getLanguageId(Ie)).brackets;if(st&&!(0,ee.Bu)(de.getStandardTokenType(Ie))){let{searchStartOffset:ot,searchEndOffset:pt}=this._establishBracketSearchOffsets(p,de,st,Ie),mt=null;for(;;){const xt=ae.Vr.findNextBracketInRange(st.forwardRegex,Z,pe,ot,pt);if(!xt)break;if(xt.startColumn<=p.column&&p.column<=xt.endColumn){const ft=pe.substring(xt.startColumn-1,xt.endColumn-1).toLowerCase(),wt=this._matchFoundBracket(xt,st.textIsBracket[ft],st.textIsOpenBracket[ft],F);if(wt){if(wt instanceof se)return null;mt=wt}}ot=xt.endColumn-1}if(mt)return mt}if(Ie>0&&de.getStartOffset(Ie)===p.column-1){const ot=Ie-1,pt=this.languageConfigurationService.getLanguageConfiguration(de.getLanguageId(ot)).brackets;if(pt&&!(0,ee.Bu)(de.getStandardTokenType(ot))){const{searchStartOffset:mt,searchEndOffset:xt}=this._establishBracketSearchOffsets(p,de,pt,ot),ft=ae.Vr.findPrevBracketInRange(pt.reversedRegex,Z,pe,mt,xt);if(ft&&ft.startColumn<=p.column&&p.column<=ft.endColumn){const wt=pe.substring(ft.startColumn-1,ft.endColumn-1).toLowerCase(),_n=this._matchFoundBracket(ft,pt.textIsBracket[wt],pt.textIsOpenBracket[wt],F);if(_n)return _n instanceof se?null:_n}}}return null}_matchFoundBracket(p,F,Z,de){if(!F)return null;const pe=Z?this._findMatchingBracketDown(F,p.getEndPosition(),de):this._findMatchingBracketUp(F,p.getStartPosition(),de);return pe?pe instanceof se?pe:[p,pe]:null}_findMatchingBracketUp(p,F,Z){const de=p.languageId,pe=p.reversedRegex;let Ie=-1,st=0;const ot=(pt,mt,xt,ft)=>{for(;;){if(Z&&++st%100===0&&!Z())return se.INSTANCE;const wt=ae.Vr.findPrevBracketInRange(pe,pt,mt,xt,ft);if(!wt)break;const _n=mt.substring(wt.startColumn-1,wt.endColumn-1).toLowerCase();if(p.isOpen(_n)?Ie++:p.isClose(_n)&&Ie--,Ie===0)return wt;ft=wt.startColumn-1}return null};for(let pt=F.lineNumber;pt>=1;pt--){const mt=this.textModel.getLineTokens(pt),xt=mt.getCount(),ft=this.textModel.getLineContent(pt);let wt=xt-1,_n=ft.length,$n=ft.length;pt===F.lineNumber&&(wt=mt.findTokenIndexAtOffset(F.column-1),_n=F.column-1,$n=F.column-1);let Wn=!0;for(;wt>=0;wt--){const fi=mt.getLanguageId(wt)===de&&!(0,ee.Bu)(mt.getStandardTokenType(wt));if(fi)Wn?_n=mt.getStartOffset(wt):(_n=mt.getStartOffset(wt),$n=mt.getEndOffset(wt));else if(Wn&&_n!==$n){const Fi=ot(pt,ft,_n,$n);if(Fi)return Fi}Wn=fi}if(Wn&&_n!==$n){const fi=ot(pt,ft,_n,$n);if(fi)return fi}}return null}_findMatchingBracketDown(p,F,Z){const de=p.languageId,pe=p.forwardRegex;let Ie=1,st=0;const ot=(mt,xt,ft,wt)=>{for(;;){if(Z&&++st%100===0&&!Z())return se.INSTANCE;const _n=ae.Vr.findNextBracketInRange(pe,mt,xt,ft,wt);if(!_n)break;const $n=xt.substring(_n.startColumn-1,_n.endColumn-1).toLowerCase();if(p.isOpen($n)?Ie++:p.isClose($n)&&Ie--,Ie===0)return _n;ft=_n.endColumn-1}return null},pt=this.textModel.getLineCount();for(let mt=F.lineNumber;mt<=pt;mt++){const xt=this.textModel.getLineTokens(mt),ft=xt.getCount(),wt=this.textModel.getLineContent(mt);let _n=0,$n=0,Wn=0;mt===F.lineNumber&&(_n=xt.findTokenIndexAtOffset(F.column-1),$n=F.column-1,Wn=F.column-1);let fi=!0;for(;_n<ft;_n++){const Fi=xt.getLanguageId(_n)===de&&!(0,ee.Bu)(xt.getStandardTokenType(_n));if(Fi)fi||($n=xt.getStartOffset(_n)),Wn=xt.getEndOffset(_n);else if(fi&&$n!==Wn){const jt=ot(mt,wt,$n,Wn);if(jt)return jt}fi=Fi}if(fi&&$n!==Wn){const Fi=ot(mt,wt,$n,Wn);if(Fi)return Fi}}return null}findPrevBracket(p){const F=this.textModel.validatePosition(p);let Z=null,de=null;for(let pe=F.lineNumber;pe>=1;pe--){const Ie=this.textModel.getLineTokens(pe),st=Ie.getCount(),ot=this.textModel.getLineContent(pe);let pt=st-1,mt=ot.length,xt=ot.length;if(pe===F.lineNumber){pt=Ie.findTokenIndexAtOffset(F.column-1),mt=F.column-1,xt=F.column-1;const wt=Ie.getLanguageId(pt);Z!==wt&&(Z=wt,de=this.languageConfigurationService.getLanguageConfiguration(Z).brackets)}let ft=!0;for(;pt>=0;pt--){const wt=Ie.getLanguageId(pt);if(Z!==wt){if(de&&ft&&mt!==xt){const $n=ae.Vr.findPrevBracketInRange(de.reversedRegex,pe,ot,mt,xt);if($n)return this._toFoundBracket(de,$n);ft=!1}Z=wt,de=this.languageConfigurationService.getLanguageConfiguration(Z).brackets}const _n=!!de&&!(0,ee.Bu)(Ie.getStandardTokenType(pt));if(_n)ft?mt=Ie.getStartOffset(pt):(mt=Ie.getStartOffset(pt),xt=Ie.getEndOffset(pt));else if(de&&ft&&mt!==xt){const $n=ae.Vr.findPrevBracketInRange(de.reversedRegex,pe,ot,mt,xt);if($n)return this._toFoundBracket(de,$n)}ft=_n}if(de&&ft&&mt!==xt){const wt=ae.Vr.findPrevBracketInRange(de.reversedRegex,pe,ot,mt,xt);if(wt)return this._toFoundBracket(de,wt)}}return null}findNextBracket(p){const F=this.textModel.validatePosition(p),Z=this.textModel.getLineCount();let de=null,pe=null;for(let Ie=F.lineNumber;Ie<=Z;Ie++){const st=this.textModel.getLineTokens(Ie),ot=st.getCount(),pt=this.textModel.getLineContent(Ie);let mt=0,xt=0,ft=0;if(Ie===F.lineNumber){mt=st.findTokenIndexAtOffset(F.column-1),xt=F.column-1,ft=F.column-1;const _n=st.getLanguageId(mt);de!==_n&&(de=_n,pe=this.languageConfigurationService.getLanguageConfiguration(de).brackets)}let wt=!0;for(;mt<ot;mt++){const _n=st.getLanguageId(mt);if(de!==_n){if(pe&&wt&&xt!==ft){const Wn=ae.Vr.findNextBracketInRange(pe.forwardRegex,Ie,pt,xt,ft);if(Wn)return this._toFoundBracket(pe,Wn);wt=!1}de=_n,pe=this.languageConfigurationService.getLanguageConfiguration(de).brackets}const $n=!!pe&&!(0,ee.Bu)(st.getStandardTokenType(mt));if($n)wt||(xt=st.getStartOffset(mt)),ft=st.getEndOffset(mt);else if(pe&&wt&&xt!==ft){const Wn=ae.Vr.findNextBracketInRange(pe.forwardRegex,Ie,pt,xt,ft);if(Wn)return this._toFoundBracket(pe,Wn)}wt=$n}if(pe&&wt&&xt!==ft){const _n=ae.Vr.findNextBracketInRange(pe.forwardRegex,Ie,pt,xt,ft);if(_n)return this._toFoundBracket(pe,_n)}}return null}findEnclosingBrackets(p,F){const Z=re(F),de=this.textModel.validatePosition(p),pe=this.textModel.getLineCount(),Ie=new Map;let st=[];const ot=(wt,_n)=>{if(!Ie.has(wt)){const $n=[];for(let Wn=0,fi=_n?_n.brackets.length:0;Wn<fi;Wn++)$n[Wn]=0;Ie.set(wt,$n)}st=Ie.get(wt)};let pt=0;const mt=(wt,_n,$n,Wn,fi)=>{for(;;){if(Z&&++pt%100===0&&!Z())return se.INSTANCE;const Fi=ae.Vr.findNextBracketInRange(wt.forwardRegex,_n,$n,Wn,fi);if(!Fi)break;const jt=$n.substring(Fi.startColumn-1,Fi.endColumn-1).toLowerCase(),vi=wt.textIsBracket[jt];if(vi&&(vi.isOpen(jt)?st[vi.index]++:vi.isClose(jt)&&st[vi.index]--,st[vi.index]===-1))return this._matchFoundBracket(Fi,vi,!1,Z);Wn=Fi.endColumn-1}return null};let xt=null,ft=null;for(let wt=de.lineNumber;wt<=pe;wt++){const _n=this.textModel.getLineTokens(wt),$n=_n.getCount(),Wn=this.textModel.getLineContent(wt);let fi=0,Fi=0,jt=0;if(wt===de.lineNumber){fi=_n.findTokenIndexAtOffset(de.column-1),Fi=de.column-1,jt=de.column-1;const rs=_n.getLanguageId(fi);xt!==rs&&(xt=rs,ft=this.languageConfigurationService.getLanguageConfiguration(xt).brackets,ot(xt,ft))}let vi=!0;for(;fi<$n;fi++){const rs=_n.getLanguageId(fi);if(xt!==rs){if(ft&&vi&&Fi!==jt){const Js=mt(ft,wt,Wn,Fi,jt);if(Js)return X(Js);vi=!1}xt=rs,ft=this.languageConfigurationService.getLanguageConfiguration(xt).brackets,ot(xt,ft)}const Fs=!!ft&&!(0,ee.Bu)(_n.getStandardTokenType(fi));if(Fs)vi||(Fi=_n.getStartOffset(fi)),jt=_n.getEndOffset(fi);else if(ft&&vi&&Fi!==jt){const Js=mt(ft,wt,Wn,Fi,jt);if(Js)return X(Js)}vi=Fs}if(ft&&vi&&Fi!==jt){const rs=mt(ft,wt,Wn,Fi,jt);if(rs)return X(rs)}}return null}_toFoundBracket(p,F){if(!F)return null;let Z=this.textModel.getValueInRange(F);Z=Z.toLowerCase();const de=p.textIsBracket[Z];return de?{range:F,open:de.open,close:de.close,isOpen:p.textIsOpenBracket[Z]}:null}}function ge(fe,p){return{object:fe,dispose:()=>p==null?void 0:p.dispose()}}function re(fe){if(typeof fe=="undefined")return()=>!0;{const p=Date.now();return()=>Date.now()-p<=fe}}class se{constructor(){this._searchCanceledBrand=void 0}}se.INSTANCE=new se;function X(fe){return fe instanceof se?null:fe}var $=l(60407),j=l(63655);class ie extends y.JT{constructor(p){super(),this.textModel=p,this.colorProvider=new J,this.onDidChangeEmitter=new O.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=p.getOptions().bracketPairColorizationOptions,this._register(p.bracketPairs.onDidChange(F=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(p){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(p,F,Z){if(F===void 0)return[];if(!this.colorizationOptions.enabled)return[];const de=new Array,pe=this.textModel.bracketPairs.getBracketsInRange(p);for(const Ie of pe)de.push({id:`bracket${Ie.range.toString()}-${Ie.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(Ie)},ownerId:0,range:Ie.range});return de}getAllDecorations(p,F){return p===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new I.e(1,1,this.textModel.getLineCount(),1),p,F):[]}}class J{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(p){return p.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(p.nestingLevel)}getInlineClassNameOfLevel(p){return`bracket-highlighting-${p%30}`}}(0,j.Ic)((fe,p)=>{const F=[$.zJ,$.Vs,$.CE,$.UP,$.r0,$.m1],Z=new J;p.addRule(`.monaco-editor .${Z.unexpectedClosingBracketClassName} { color: ${fe.getColor($.ts)}; }`);const de=F.map(pe=>fe.getColor(pe)).filter(pe=>!!pe).filter(pe=>!pe.isTransparent());for(let pe=0;pe<30;pe++){const Ie=de[pe%de.length];p.addRule(`.monaco-editor .${Z.getInlineClassNameOfLevel(pe)} { color: ${Ie}; }`)}});var oe=l(59713),ce=l(57604);class we{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function Me(fe,p,F,Z,de){de.spacesDiff=0,de.looksLikeAlignment=!1;let pe;for(pe=0;pe<p&&pe<Z;pe++){const ft=fe.charCodeAt(pe),wt=F.charCodeAt(pe);if(ft!==wt)break}let Ie=0,st=0;for(let ft=pe;ft<p;ft++)fe.charCodeAt(ft)===32?Ie++:st++;let ot=0,pt=0;for(let ft=pe;ft<Z;ft++)F.charCodeAt(ft)===32?ot++:pt++;if(Ie>0&&st>0||ot>0&&pt>0)return;const mt=Math.abs(st-pt),xt=Math.abs(Ie-ot);if(mt===0){de.spacesDiff=xt,xt>0&&0<=ot-1&&ot-1<fe.length&&ot<F.length&&F.charCodeAt(ot)!==32&&fe.charCodeAt(ot-1)===32&&fe.charCodeAt(fe.length-1)===44&&(de.looksLikeAlignment=!0);return}if(xt%mt===0){de.spacesDiff=xt/mt;return}}function Ke(fe,p,F){const Z=Math.min(fe.getLineCount(),1e4);let de=0,pe=0,Ie="",st=0;const ot=[2,4,6,8,3,5,7],pt=8,mt=[0,0,0,0,0,0,0,0,0],xt=new we;for(let _n=1;_n<=Z;_n++){const $n=fe.getLineLength(_n),Wn=fe.getLineContent(_n),fi=$n<=65536;let Fi=!1,jt=0,vi=0,rs=0;for(let Js=0,gr=$n;Js<gr;Js++){const Zo=fi?Wn.charCodeAt(Js):fe.getLineCharCode(_n,Js);if(Zo===9)rs++;else if(Zo===32)vi++;else{Fi=!0,jt=Js;break}}if(!Fi||(rs>0?de++:vi>1&&pe++,Me(Ie,st,Wn,jt,xt),xt.looksLikeAlignment&&!(F&&p===xt.spacesDiff)))continue;const Fs=xt.spacesDiff;Fs<=pt&&mt[Fs]++,Ie=Wn,st=jt}let ft=F;de!==pe&&(ft=de<pe);let wt=p;if(ft){let _n=ft?0:.1*Z;ot.forEach($n=>{const Wn=mt[$n];Wn>_n&&(_n=Wn,wt=$n)}),wt===4&&mt[4]>0&&mt[2]>0&&mt[2]>=mt[4]/2&&(wt=2)}return{insertSpaces:ft,tabSize:wt}}function De(fe){return(fe.metadata&1)>>>0}function be(fe,p){fe.metadata=fe.metadata&254|p<<0}function We(fe){return(fe.metadata&2)>>>1===1}function et(fe,p){fe.metadata=fe.metadata&253|(p?1:0)<<1}function Kt(fe){return(fe.metadata&4)>>>2===1}function _t(fe,p){fe.metadata=fe.metadata&251|(p?1:0)<<2}function tt(fe){return(fe.metadata&24)>>>3}function kt(fe,p){fe.metadata=fe.metadata&231|p<<3}function Ut(fe){return(fe.metadata&32)>>>5===1}function Ft(fe,p){fe.metadata=fe.metadata&223|(p?1:0)<<5}class Te{constructor(p,F,Z){this.metadata=0,this.parent=this,this.left=this,this.right=this,be(this,1),this.start=F,this.end=Z,this.delta=0,this.maxEnd=Z,this.id=p,this.ownerId=0,this.options=null,_t(this,!1),kt(this,1),Ft(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=F,this.cachedAbsoluteEnd=Z,this.range=null,et(this,!1)}reset(p,F,Z,de){this.start=F,this.end=Z,this.maxEnd=Z,this.cachedVersionId=p,this.cachedAbsoluteStart=F,this.cachedAbsoluteEnd=Z,this.range=de}setOptions(p){this.options=p;const F=this.options.className;_t(this,F==="squiggly-error"||F==="squiggly-warning"||F==="squiggly-info"),kt(this,this.options.stickiness),Ft(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(p,F,Z){this.cachedVersionId!==Z&&(this.range=null),this.cachedVersionId=Z,this.cachedAbsoluteStart=p,this.cachedAbsoluteEnd=F}detach(){this.parent=null,this.left=null,this.right=null}}const Ge=new Te(null,0,0);Ge.parent=Ge,Ge.left=Ge,Ge.right=Ge,be(Ge,0);class Et{constructor(){this.root=Ge,this.requestNormalizeDelta=!1}intervalSearch(p,F,Z,de,pe){return this.root===Ge?[]:gt(this,p,F,Z,de,pe)}search(p,F,Z){return this.root===Ge?[]:Mt(this,p,F,Z)}collectNodesFromOwner(p){return at(this,p)}collectNodesPostOrder(){return Tt(this)}insert(p){Rt(this,p),this._normalizeDeltaIfNecessary()}delete(p){hn(this,p),this._normalizeDeltaIfNecessary()}resolveNode(p,F){const Z=p;let de=0;for(;p!==this.root;)p===p.parent.right&&(de+=p.parent.delta),p=p.parent;const pe=Z.start+de,Ie=Z.end+de;Z.setCachedOffsets(pe,Ie,F)}acceptReplace(p,F,Z,de){const pe=ve(this,p,p+F);for(let Ie=0,st=pe.length;Ie<st;Ie++){const ot=pe[Ie];hn(this,ot)}this._normalizeDeltaIfNecessary(),$e(this,p,p+F,Z),this._normalizeDeltaIfNecessary();for(let Ie=0,st=pe.length;Ie<st;Ie++){const ot=pe[Ie];ot.start=ot.cachedAbsoluteStart,ot.end=ot.cachedAbsoluteEnd,xe(ot,p,p+F,Z,de),ot.maxEnd=ot.end,Rt(this,ot)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,Wt(this))}}function Wt(fe){let p=fe.root,F=0;for(;p!==Ge;){if(p.left!==Ge&&!We(p.left)){p=p.left;continue}if(p.right!==Ge&&!We(p.right)){F+=p.delta,p=p.right;continue}p.start=F+p.start,p.end=F+p.end,p.delta=0,sn(p),et(p,!0),et(p.left,!1),et(p.right,!1),p===p.parent.right&&(F-=p.parent.delta),p=p.parent}et(fe.root,!1)}function Ze(fe,p,F,Z){return fe<F?!0:fe>F||Z===1?!1:Z===2?!0:p}function xe(fe,p,F,Z,de){const pe=tt(fe),Ie=pe===0||pe===2,st=pe===1||pe===2,ot=F-p,pt=Z,mt=Math.min(ot,pt),xt=fe.start;let ft=!1;const wt=fe.end;let _n=!1;p<=xt&&wt<=F&&Ut(fe)&&(fe.start=p,ft=!0,fe.end=p,_n=!0);{const Wn=de?1:ot>0?2:0;!ft&&Ze(xt,Ie,p,Wn)&&(ft=!0),!_n&&Ze(wt,st,p,Wn)&&(_n=!0)}if(mt>0&&!de){const Wn=ot>pt?2:0;!ft&&Ze(xt,Ie,p+mt,Wn)&&(ft=!0),!_n&&Ze(wt,st,p+mt,Wn)&&(_n=!0)}{const Wn=de?1:0;!ft&&Ze(xt,Ie,F,Wn)&&(fe.start=p+pt,ft=!0),!_n&&Ze(wt,st,F,Wn)&&(fe.end=p+pt,_n=!0)}const $n=pt-ot;ft||(fe.start=Math.max(0,xt+$n)),_n||(fe.end=Math.max(0,wt+$n)),fe.start>fe.end&&(fe.end=fe.start)}function ve(fe,p,F){let Z=fe.root,de=0,pe=0,Ie=0,st=0;const ot=[];let pt=0;for(;Z!==Ge;){if(We(Z)){et(Z.left,!1),et(Z.right,!1),Z===Z.parent.right&&(de-=Z.parent.delta),Z=Z.parent;continue}if(!We(Z.left)){if(pe=de+Z.maxEnd,pe<p){et(Z,!0);continue}if(Z.left!==Ge){Z=Z.left;continue}}if(Ie=de+Z.start,Ie>F){et(Z,!0);continue}if(st=de+Z.end,st>=p&&(Z.setCachedOffsets(Ie,st,0),ot[pt++]=Z),et(Z,!0),Z.right!==Ge&&!We(Z.right)){de+=Z.delta,Z=Z.right;continue}}return et(fe.root,!1),ot}function $e(fe,p,F,Z){let de=fe.root,pe=0,Ie=0,st=0;const ot=Z-(F-p);for(;de!==Ge;){if(We(de)){et(de.left,!1),et(de.right,!1),de===de.parent.right&&(pe-=de.parent.delta),sn(de),de=de.parent;continue}if(!We(de.left)){if(Ie=pe+de.maxEnd,Ie<p){et(de,!0);continue}if(de.left!==Ge){de=de.left;continue}}if(st=pe+de.start,st>F){de.start+=ot,de.end+=ot,de.delta+=ot,(de.delta<-1073741824||de.delta>1073741824)&&(fe.requestNormalizeDelta=!0),et(de,!0);continue}if(et(de,!0),de.right!==Ge&&!We(de.right)){pe+=de.delta,de=de.right;continue}}et(fe.root,!1)}function at(fe,p){let F=fe.root;const Z=[];let de=0;for(;F!==Ge;){if(We(F)){et(F.left,!1),et(F.right,!1),F=F.parent;continue}if(F.left!==Ge&&!We(F.left)){F=F.left;continue}if(F.ownerId===p&&(Z[de++]=F),et(F,!0),F.right!==Ge&&!We(F.right)){F=F.right;continue}}return et(fe.root,!1),Z}function Tt(fe){let p=fe.root;const F=[];let Z=0;for(;p!==Ge;){if(We(p)){et(p.left,!1),et(p.right,!1),p=p.parent;continue}if(p.left!==Ge&&!We(p.left)){p=p.left;continue}if(p.right!==Ge&&!We(p.right)){p=p.right;continue}F[Z++]=p,et(p,!0)}return et(fe.root,!1),F}function Mt(fe,p,F,Z){let de=fe.root,pe=0,Ie=0,st=0;const ot=[];let pt=0;for(;de!==Ge;){if(We(de)){et(de.left,!1),et(de.right,!1),de===de.parent.right&&(pe-=de.parent.delta),de=de.parent;continue}if(de.left!==Ge&&!We(de.left)){de=de.left;continue}Ie=pe+de.start,st=pe+de.end,de.setCachedOffsets(Ie,st,Z);let mt=!0;if(p&&de.ownerId&&de.ownerId!==p&&(mt=!1),F&&Kt(de)&&(mt=!1),mt&&(ot[pt++]=de),et(de,!0),de.right!==Ge&&!We(de.right)){pe+=de.delta,de=de.right;continue}}return et(fe.root,!1),ot}function gt(fe,p,F,Z,de,pe){let Ie=fe.root,st=0,ot=0,pt=0,mt=0;const xt=[];let ft=0;for(;Ie!==Ge;){if(We(Ie)){et(Ie.left,!1),et(Ie.right,!1),Ie===Ie.parent.right&&(st-=Ie.parent.delta),Ie=Ie.parent;continue}if(!We(Ie.left)){if(ot=st+Ie.maxEnd,ot<p){et(Ie,!0);continue}if(Ie.left!==Ge){Ie=Ie.left;continue}}if(pt=st+Ie.start,pt>F){et(Ie,!0);continue}if(mt=st+Ie.end,mt>=p){Ie.setCachedOffsets(pt,mt,pe);let wt=!0;Z&&Ie.ownerId&&Ie.ownerId!==Z&&(wt=!1),de&&Kt(Ie)&&(wt=!1),wt&&(xt[ft++]=Ie)}if(et(Ie,!0),Ie.right!==Ge&&!We(Ie.right)){st+=Ie.delta,Ie=Ie.right;continue}}return et(fe.root,!1),xt}function Rt(fe,p){if(fe.root===Ge)return p.parent=Ge,p.left=Ge,p.right=Ge,be(p,0),fe.root=p,fe.root;Zt(fe,p),ei(p.parent);let F=p;for(;F!==fe.root&&De(F.parent)===1;)if(F.parent===F.parent.parent.left){const Z=F.parent.parent.right;De(Z)===1?(be(F.parent,0),be(Z,0),be(F.parent.parent,1),F=F.parent.parent):(F===F.parent.right&&(F=F.parent,vt(fe,F)),be(F.parent,0),be(F.parent.parent,1),Le(fe,F.parent.parent))}else{const Z=F.parent.parent.left;De(Z)===1?(be(F.parent,0),be(Z,0),be(F.parent.parent,1),F=F.parent.parent):(F===F.parent.left&&(F=F.parent,Le(fe,F)),be(F.parent,0),be(F.parent.parent,1),vt(fe,F.parent.parent))}return be(fe.root,0),p}function Zt(fe,p){let F=0,Z=fe.root;const de=p.start,pe=p.end;for(;;)if(wn(de,pe,Z.start+F,Z.end+F)<0)if(Z.left===Ge){p.start-=F,p.end-=F,p.maxEnd-=F,Z.left=p;break}else Z=Z.left;else if(Z.right===Ge){p.start-=F+Z.delta,p.end-=F+Z.delta,p.maxEnd-=F+Z.delta,Z.right=p;break}else F+=Z.delta,Z=Z.right;p.parent=Z,p.left=Ge,p.right=Ge,be(p,1)}function hn(fe,p){let F,Z;if(p.left===Ge?(F=p.right,Z=p,F.delta+=p.delta,(F.delta<-1073741824||F.delta>1073741824)&&(fe.requestNormalizeDelta=!0),F.start+=p.delta,F.end+=p.delta):p.right===Ge?(F=p.left,Z=p):(Z=Pe(p.right),F=Z.right,F.start+=Z.delta,F.end+=Z.delta,F.delta+=Z.delta,(F.delta<-1073741824||F.delta>1073741824)&&(fe.requestNormalizeDelta=!0),Z.start+=p.delta,Z.end+=p.delta,Z.delta=p.delta,(Z.delta<-1073741824||Z.delta>1073741824)&&(fe.requestNormalizeDelta=!0)),Z===fe.root){fe.root=F,be(F,0),p.detach(),en(),sn(F),fe.root.parent=Ge;return}const de=De(Z)===1;if(Z===Z.parent.left?Z.parent.left=F:Z.parent.right=F,Z===p?F.parent=Z.parent:(Z.parent===p?F.parent=Z:F.parent=Z.parent,Z.left=p.left,Z.right=p.right,Z.parent=p.parent,be(Z,De(p)),p===fe.root?fe.root=Z:p===p.parent.left?p.parent.left=Z:p.parent.right=Z,Z.left!==Ge&&(Z.left.parent=Z),Z.right!==Ge&&(Z.right.parent=Z)),p.detach(),de){ei(F.parent),Z!==p&&(ei(Z),ei(Z.parent)),en();return}ei(F),ei(F.parent),Z!==p&&(ei(Z),ei(Z.parent));let pe;for(;F!==fe.root&&De(F)===0;)F===F.parent.left?(pe=F.parent.right,De(pe)===1&&(be(pe,0),be(F.parent,1),vt(fe,F.parent),pe=F.parent.right),De(pe.left)===0&&De(pe.right)===0?(be(pe,1),F=F.parent):(De(pe.right)===0&&(be(pe.left,0),be(pe,1),Le(fe,pe),pe=F.parent.right),be(pe,De(F.parent)),be(F.parent,0),be(pe.right,0),vt(fe,F.parent),F=fe.root)):(pe=F.parent.left,De(pe)===1&&(be(pe,0),be(F.parent,1),Le(fe,F.parent),pe=F.parent.left),De(pe.left)===0&&De(pe.right)===0?(be(pe,1),F=F.parent):(De(pe.left)===0&&(be(pe.right,0),be(pe,1),vt(fe,pe),pe=F.parent.left),be(pe,De(F.parent)),be(F.parent,0),be(pe.left,0),Le(fe,F.parent),F=fe.root));be(F,0),en()}function Pe(fe){for(;fe.left!==Ge;)fe=fe.left;return fe}function en(){Ge.parent=Ge,Ge.delta=0,Ge.start=0,Ge.end=0}function vt(fe,p){const F=p.right;F.delta+=p.delta,(F.delta<-1073741824||F.delta>1073741824)&&(fe.requestNormalizeDelta=!0),F.start+=p.delta,F.end+=p.delta,p.right=F.left,F.left!==Ge&&(F.left.parent=p),F.parent=p.parent,p.parent===Ge?fe.root=F:p===p.parent.left?p.parent.left=F:p.parent.right=F,F.left=p,p.parent=F,sn(p),sn(F)}function Le(fe,p){const F=p.left;p.delta-=F.delta,(p.delta<-1073741824||p.delta>1073741824)&&(fe.requestNormalizeDelta=!0),p.start-=F.delta,p.end-=F.delta,p.left=F.right,F.right!==Ge&&(F.right.parent=p),F.parent=p.parent,p.parent===Ge?fe.root=F:p===p.parent.right?p.parent.right=F:p.parent.left=F,F.right=p,p.parent=F,sn(p),sn(F)}function nn(fe){let p=fe.end;if(fe.left!==Ge){const F=fe.left.maxEnd;F>p&&(p=F)}if(fe.right!==Ge){const F=fe.right.maxEnd+fe.delta;F>p&&(p=F)}return p}function sn(fe){fe.maxEnd=nn(fe)}function ei(fe){for(;fe!==Ge;){const p=nn(fe);if(fe.maxEnd===p)return;fe.maxEnd=p,fe=fe.parent}}function wn(fe,p,F,Z){return fe===F?p-Z:fe-F}class Ne{constructor(p,F){this.piece=p,this.color=F,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==Fe)return ht(this.right);let p=this;for(;p.parent!==Fe&&p.parent.left!==p;)p=p.parent;return p.parent===Fe?Fe:p.parent}prev(){if(this.left!==Fe)return Qt(this.left);let p=this;for(;p.parent!==Fe&&p.parent.right!==p;)p=p.parent;return p.parent===Fe?Fe:p.parent}detach(){this.parent=null,this.left=null,this.right=null}}const Fe=new Ne(null,0);Fe.parent=Fe,Fe.left=Fe,Fe.right=Fe,Fe.color=0;function ht(fe){for(;fe.left!==Fe;)fe=fe.left;return fe}function Qt(fe){for(;fe.right!==Fe;)fe=fe.right;return fe}function dn(fe){return fe===Fe?0:fe.size_left+fe.piece.length+dn(fe.right)}function gn(fe){return fe===Fe?0:fe.lf_left+fe.piece.lineFeedCnt+gn(fe.right)}function Ht(){Fe.parent=Fe}function lt(fe,p){const F=p.right;F.size_left+=p.size_left+(p.piece?p.piece.length:0),F.lf_left+=p.lf_left+(p.piece?p.piece.lineFeedCnt:0),p.right=F.left,F.left!==Fe&&(F.left.parent=p),F.parent=p.parent,p.parent===Fe?fe.root=F:p.parent.left===p?p.parent.left=F:p.parent.right=F,F.left=p,p.parent=F}function Cn(fe,p){const F=p.left;p.left=F.right,F.right!==Fe&&(F.right.parent=p),F.parent=p.parent,p.size_left-=F.size_left+(F.piece?F.piece.length:0),p.lf_left-=F.lf_left+(F.piece?F.piece.lineFeedCnt:0),p.parent===Fe?fe.root=F:p===p.parent.right?p.parent.right=F:p.parent.left=F,F.right=p,p.parent=F}function Ue(fe,p){let F,Z;if(p.left===Fe?(Z=p,F=Z.right):p.right===Fe?(Z=p,F=Z.left):(Z=ht(p.right),F=Z.right),Z===fe.root){fe.root=F,F.color=0,p.detach(),Ht(),fe.root.parent=Fe;return}const de=Z.color===1;if(Z===Z.parent.left?Z.parent.left=F:Z.parent.right=F,Z===p?(F.parent=Z.parent,He(fe,F)):(Z.parent===p?F.parent=Z:F.parent=Z.parent,He(fe,F),Z.left=p.left,Z.right=p.right,Z.parent=p.parent,Z.color=p.color,p===fe.root?fe.root=Z:p===p.parent.left?p.parent.left=Z:p.parent.right=Z,Z.left!==Fe&&(Z.left.parent=Z),Z.right!==Fe&&(Z.right.parent=Z),Z.size_left=p.size_left,Z.lf_left=p.lf_left,He(fe,Z)),p.detach(),F.parent.left===F){const Ie=dn(F),st=gn(F);if(Ie!==F.parent.size_left||st!==F.parent.lf_left){const ot=Ie-F.parent.size_left,pt=st-F.parent.lf_left;F.parent.size_left=Ie,F.parent.lf_left=st,Lt(fe,F.parent,ot,pt)}}if(He(fe,F.parent),de){Ht();return}let pe;for(;F!==fe.root&&F.color===0;)F===F.parent.left?(pe=F.parent.right,pe.color===1&&(pe.color=0,F.parent.color=1,lt(fe,F.parent),pe=F.parent.right),pe.left.color===0&&pe.right.color===0?(pe.color=1,F=F.parent):(pe.right.color===0&&(pe.left.color=0,pe.color=1,Cn(fe,pe),pe=F.parent.right),pe.color=F.parent.color,F.parent.color=0,pe.right.color=0,lt(fe,F.parent),F=fe.root)):(pe=F.parent.left,pe.color===1&&(pe.color=0,F.parent.color=1,Cn(fe,F.parent),pe=F.parent.left),pe.left.color===0&&pe.right.color===0?(pe.color=1,F=F.parent):(pe.left.color===0&&(pe.right.color=0,pe.color=1,lt(fe,pe),pe=F.parent.left),pe.color=F.parent.color,F.parent.color=0,pe.left.color=0,Cn(fe,F.parent),F=fe.root));F.color=0,Ht()}function Pt(fe,p){for(He(fe,p);p!==fe.root&&p.parent.color===1;)if(p.parent===p.parent.parent.left){const F=p.parent.parent.right;F.color===1?(p.parent.color=0,F.color=0,p.parent.parent.color=1,p=p.parent.parent):(p===p.parent.right&&(p=p.parent,lt(fe,p)),p.parent.color=0,p.parent.parent.color=1,Cn(fe,p.parent.parent))}else{const F=p.parent.parent.left;F.color===1?(p.parent.color=0,F.color=0,p.parent.parent.color=1,p=p.parent.parent):(p===p.parent.left&&(p=p.parent,Cn(fe,p)),p.parent.color=0,p.parent.parent.color=1,lt(fe,p.parent.parent))}fe.root.color=0}function Lt(fe,p,F,Z){for(;p!==fe.root&&p!==Fe;)p.parent.left===p&&(p.parent.size_left+=F,p.parent.lf_left+=Z),p=p.parent}function He(fe,p){let F=0,Z=0;if(p!==fe.root){for(;p!==fe.root&&p===p.parent.right;)p=p.parent;if(p!==fe.root)for(p=p.parent,F=dn(p.left)-p.size_left,Z=gn(p.left)-p.lf_left,p.size_left+=F,p.lf_left+=Z;p!==fe.root&&(F!==0||Z!==0);)p.parent.left===p&&(p.parent.size_left+=F,p.parent.lf_left+=Z),p=p.parent}}var Ve=l(21641);const Se=65535;function St(fe){let p;return fe[fe.length-1]<65536?p=new Uint16Array(fe.length):p=new Uint32Array(fe.length),p.set(fe,0),p}class Jt{constructor(p,F,Z,de,pe){this.lineStarts=p,this.cr=F,this.lf=Z,this.crlf=de,this.isBasicASCII=pe}}function mn(fe,p=!0){const F=[0];let Z=1;for(let de=0,pe=fe.length;de<pe;de++){const Ie=fe.charCodeAt(de);Ie===13?de+1<pe&&fe.charCodeAt(de+1)===10?(F[Z++]=de+2,de++):F[Z++]=de+1:Ie===10&&(F[Z++]=de+1)}return p?St(F):F}function Mn(fe,p){fe.length=0,fe[0]=0;let F=1,Z=0,de=0,pe=0,Ie=!0;for(let ot=0,pt=p.length;ot<pt;ot++){const mt=p.charCodeAt(ot);mt===13?ot+1<pt&&p.charCodeAt(ot+1)===10?(pe++,fe[F++]=ot+2,ot++):(Z++,fe[F++]=ot+1):mt===10?(de++,fe[F++]=ot+1):Ie&&mt!==9&&(mt<32||mt>126)&&(Ie=!1)}const st=new Jt(St(fe),Z,de,pe,Ie);return fe.length=0,st}class kn{constructor(p,F,Z,de,pe){this.bufferIndex=p,this.start=F,this.end=Z,this.lineFeedCnt=de,this.length=pe}}class Nn{constructor(p,F){this.buffer=p,this.lineStarts=F}}class xn{constructor(p,F){this._pieces=[],this._tree=p,this._BOM=F,this._index=0,p.root!==Fe&&p.iterate(p.root,Z=>(Z!==Fe&&this._pieces.push(Z.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class Xn{constructor(p){this._limit=p,this._cache=[]}get(p){for(let F=this._cache.length-1;F>=0;F--){const Z=this._cache[F];if(Z.nodeStartOffset<=p&&Z.nodeStartOffset+Z.node.piece.length>=p)return Z}return null}get2(p){for(let F=this._cache.length-1;F>=0;F--){const Z=this._cache[F];if(Z.nodeStartLineNumber&&Z.nodeStartLineNumber<p&&Z.nodeStartLineNumber+Z.node.piece.lineFeedCnt>=p)return Z}return null}set(p){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(p)}validate(p){let F=!1;const Z=this._cache;for(let de=0;de<Z.length;de++){const pe=Z[de];if(pe.node.parent===null||pe.nodeStartOffset>=p){Z[de]=null,F=!0;continue}}if(F){const de=[];for(const pe of Z)pe!==null&&de.push(pe);this._cache=de}}}class Sn{constructor(p,F,Z){this.create(p,F,Z)}create(p,F,Z){this._buffers=[new Nn("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=Fe,this._lineCnt=1,this._length=0,this._EOL=F,this._EOLLength=F.length,this._EOLNormalized=Z;let de=null;for(let pe=0,Ie=p.length;pe<Ie;pe++)if(p[pe].buffer.length>0){p[pe].lineStarts||(p[pe].lineStarts=mn(p[pe].buffer));const st=new kn(pe+1,{line:0,column:0},{line:p[pe].lineStarts.length-1,column:p[pe].buffer.length-p[pe].lineStarts[p[pe].lineStarts.length-1]},p[pe].lineStarts.length-1,p[pe].buffer.length);this._buffers.push(p[pe]),de=this.rbInsertRight(de,st)}this._searchCache=new Xn(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(p){const F=Se,Z=F-Math.floor(F/3),de=Z*2;let pe="",Ie=0;const st=[];if(this.iterate(this.root,ot=>{const pt=this.getNodeContent(ot),mt=pt.length;if(Ie<=Z||Ie+mt<de)return pe+=pt,Ie+=mt,!0;const xt=pe.replace(/\r\n|\r|\n/g,p);return st.push(new Nn(xt,mn(xt))),pe=pt,Ie=mt,!0}),Ie>0){const ot=pe.replace(/\r\n|\r|\n/g,p);st.push(new Nn(ot,mn(ot)))}this.create(st,p,!0)}getEOL(){return this._EOL}setEOL(p){this._EOL=p,this._EOLLength=this._EOL.length,this.normalizeEOL(p)}createSnapshot(p){return new xn(this,p)}getOffsetAt(p,F){let Z=0,de=this.root;for(;de!==Fe;)if(de.left!==Fe&&de.lf_left+1>=p)de=de.left;else if(de.lf_left+de.piece.lineFeedCnt+1>=p){Z+=de.size_left;const pe=this.getAccumulatedValue(de,p-de.lf_left-2);return Z+=pe+F-1}else p-=de.lf_left+de.piece.lineFeedCnt,Z+=de.size_left+de.piece.length,de=de.right;return Z}getPositionAt(p){p=Math.floor(p),p=Math.max(0,p);let F=this.root,Z=0;const de=p;for(;F!==Fe;)if(F.size_left!==0&&F.size_left>=p)F=F.left;else if(F.size_left+F.piece.length>=p){const pe=this.getIndexOf(F,p-F.size_left);if(Z+=F.lf_left+pe.index,pe.index===0){const Ie=this.getOffsetAt(Z+1,1),st=de-Ie;return new M.L(Z+1,st+1)}return new M.L(Z+1,pe.remainder+1)}else if(p-=F.size_left+F.piece.length,Z+=F.lf_left+F.piece.lineFeedCnt,F.right===Fe){const pe=this.getOffsetAt(Z+1,1),Ie=de-p-pe;return new M.L(Z+1,Ie+1)}else F=F.right;return new M.L(1,1)}getValueInRange(p,F){if(p.startLineNumber===p.endLineNumber&&p.startColumn===p.endColumn)return"";const Z=this.nodeAt2(p.startLineNumber,p.startColumn),de=this.nodeAt2(p.endLineNumber,p.endColumn),pe=this.getValueInRange2(Z,de);return F?F!==this._EOL||!this._EOLNormalized?pe.replace(/\r\n|\r|\n/g,F):F===this.getEOL()&&this._EOLNormalized?pe:pe.replace(/\r\n|\r|\n/g,F):pe}getValueInRange2(p,F){if(p.node===F.node){const st=p.node,ot=this._buffers[st.piece.bufferIndex].buffer,pt=this.offsetInBuffer(st.piece.bufferIndex,st.piece.start);return ot.substring(pt+p.remainder,pt+F.remainder)}let Z=p.node;const de=this._buffers[Z.piece.bufferIndex].buffer,pe=this.offsetInBuffer(Z.piece.bufferIndex,Z.piece.start);let Ie=de.substring(pe+p.remainder,pe+Z.piece.length);for(Z=Z.next();Z!==Fe;){const st=this._buffers[Z.piece.bufferIndex].buffer,ot=this.offsetInBuffer(Z.piece.bufferIndex,Z.piece.start);if(Z===F.node){Ie+=st.substring(ot,ot+F.remainder);break}else Ie+=st.substr(ot,Z.piece.length);Z=Z.next()}return Ie}getLinesContent(){const p=[];let F=0,Z="",de=!1;return this.iterate(this.root,pe=>{if(pe===Fe)return!0;const Ie=pe.piece;let st=Ie.length;if(st===0)return!0;const ot=this._buffers[Ie.bufferIndex].buffer,pt=this._buffers[Ie.bufferIndex].lineStarts,mt=Ie.start.line,xt=Ie.end.line;let ft=pt[mt]+Ie.start.column;if(de&&(ot.charCodeAt(ft)===10&&(ft++,st--),p[F++]=Z,Z="",de=!1,st===0))return!0;if(mt===xt)return!this._EOLNormalized&&ot.charCodeAt(ft+st-1)===13?(de=!0,Z+=ot.substr(ft,st-1)):Z+=ot.substr(ft,st),!0;Z+=this._EOLNormalized?ot.substring(ft,Math.max(ft,pt[mt+1]-this._EOLLength)):ot.substring(ft,pt[mt+1]).replace(/(\r\n|\r|\n)$/,""),p[F++]=Z;for(let wt=mt+1;wt<xt;wt++)Z=this._EOLNormalized?ot.substring(pt[wt],pt[wt+1]-this._EOLLength):ot.substring(pt[wt],pt[wt+1]).replace(/(\r\n|\r|\n)$/,""),p[F++]=Z;return!this._EOLNormalized&&ot.charCodeAt(pt[xt]+Ie.end.column-1)===13?(de=!0,Ie.end.column===0?F--:Z=ot.substr(pt[xt],Ie.end.column-1)):Z=ot.substr(pt[xt],Ie.end.column),!0}),de&&(p[F++]=Z,Z=""),p[F++]=Z,p}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(p){return this._lastVisitedLine.lineNumber===p?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=p,p===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(p):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(p,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(p).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(p){if(p.remainder===p.node.piece.length){const F=p.node.next();if(!F)return 0;const Z=this._buffers[F.piece.bufferIndex],de=this.offsetInBuffer(F.piece.bufferIndex,F.piece.start);return Z.buffer.charCodeAt(de)}else{const F=this._buffers[p.node.piece.bufferIndex],de=this.offsetInBuffer(p.node.piece.bufferIndex,p.node.piece.start)+p.remainder;return F.buffer.charCodeAt(de)}}getLineCharCode(p,F){const Z=this.nodeAt2(p,F+1);return this._getCharCode(Z)}getLineLength(p){if(p===this.getLineCount()){const F=this.getOffsetAt(p,1);return this.getLength()-F}return this.getOffsetAt(p+1,1)-this.getOffsetAt(p,1)-this._EOLLength}findMatchesInNode(p,F,Z,de,pe,Ie,st,ot,pt,mt,xt){const ft=this._buffers[p.piece.bufferIndex],wt=this.offsetInBuffer(p.piece.bufferIndex,p.piece.start),_n=this.offsetInBuffer(p.piece.bufferIndex,pe),$n=this.offsetInBuffer(p.piece.bufferIndex,Ie);let Wn;const fi={line:0,column:0};let Fi,jt;F._wordSeparators?(Fi=ft.buffer.substring(_n,$n),jt=vi=>vi+_n,F.reset(0)):(Fi=ft.buffer,jt=vi=>vi,F.reset(_n));do if(Wn=F.next(Fi),Wn){if(jt(Wn.index)>=$n)return mt;this.positionInBuffer(p,jt(Wn.index)-wt,fi);const vi=this.getLineFeedCnt(p.piece.bufferIndex,pe,fi),rs=fi.line===pe.line?fi.column-pe.column+de:fi.column+1,Fs=rs+Wn[0].length;if(xt[mt++]=(0,Ve.iE)(new I.e(Z+vi,rs,Z+vi,Fs),Wn,ot),jt(Wn.index)+Wn[0].length>=$n||mt>=pt)return mt}while(Wn);return mt}findMatchesLineByLine(p,F,Z,de){const pe=[];let Ie=0;const st=new Ve.sz(F.wordSeparators,F.regex);let ot=this.nodeAt2(p.startLineNumber,p.startColumn);if(ot===null)return[];const pt=this.nodeAt2(p.endLineNumber,p.endColumn);if(pt===null)return[];let mt=this.positionInBuffer(ot.node,ot.remainder);const xt=this.positionInBuffer(pt.node,pt.remainder);if(ot.node===pt.node)return this.findMatchesInNode(ot.node,st,p.startLineNumber,p.startColumn,mt,xt,F,Z,de,Ie,pe),pe;let ft=p.startLineNumber,wt=ot.node;for(;wt!==pt.node;){const $n=this.getLineFeedCnt(wt.piece.bufferIndex,mt,wt.piece.end);if($n>=1){const fi=this._buffers[wt.piece.bufferIndex].lineStarts,Fi=this.offsetInBuffer(wt.piece.bufferIndex,wt.piece.start),jt=fi[mt.line+$n],vi=ft===p.startLineNumber?p.startColumn:1;if(Ie=this.findMatchesInNode(wt,st,ft,vi,mt,this.positionInBuffer(wt,jt-Fi),F,Z,de,Ie,pe),Ie>=de)return pe;ft+=$n}const Wn=ft===p.startLineNumber?p.startColumn-1:0;if(ft===p.endLineNumber){const fi=this.getLineContent(ft).substring(Wn,p.endColumn-1);return Ie=this._findMatchesInLine(F,st,fi,p.endLineNumber,Wn,Ie,pe,Z,de),pe}if(Ie=this._findMatchesInLine(F,st,this.getLineContent(ft).substr(Wn),ft,Wn,Ie,pe,Z,de),Ie>=de)return pe;ft++,ot=this.nodeAt2(ft,1),wt=ot.node,mt=this.positionInBuffer(ot.node,ot.remainder)}if(ft===p.endLineNumber){const $n=ft===p.startLineNumber?p.startColumn-1:0,Wn=this.getLineContent(ft).substring($n,p.endColumn-1);return Ie=this._findMatchesInLine(F,st,Wn,p.endLineNumber,$n,Ie,pe,Z,de),pe}const _n=ft===p.startLineNumber?p.startColumn:1;return Ie=this.findMatchesInNode(pt.node,st,ft,_n,mt,xt,F,Z,de,Ie,pe),pe}_findMatchesInLine(p,F,Z,de,pe,Ie,st,ot,pt){const mt=p.wordSeparators;if(!ot&&p.simpleSearch){const ft=p.simpleSearch,wt=ft.length,_n=Z.length;let $n=-wt;for(;($n=Z.indexOf(ft,$n+wt))!==-1;)if((!mt||(0,Ve.cM)(mt,Z,_n,$n,wt))&&(st[Ie++]=new _.tk(new I.e(de,$n+1+pe,de,$n+1+wt+pe),null),Ie>=pt))return Ie;return Ie}let xt;F.reset(0);do if(xt=F.next(Z),xt&&(st[Ie++]=(0,Ve.iE)(new I.e(de,xt.index+1+pe,de,xt.index+1+xt[0].length+pe),xt,ot),Ie>=pt))return Ie;while(xt);return Ie}insert(p,F,Z=!1){if(this._EOLNormalized=this._EOLNormalized&&Z,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==Fe){const{node:de,remainder:pe,nodeStartOffset:Ie}=this.nodeAt(p),st=de.piece,ot=st.bufferIndex,pt=this.positionInBuffer(de,pe);if(de.piece.bufferIndex===0&&st.end.line===this._lastChangeBufferPos.line&&st.end.column===this._lastChangeBufferPos.column&&Ie+st.length===p&&F.length<Se){this.appendToNode(de,F),this.computeBufferMetadata();return}if(Ie===p)this.insertContentToNodeLeft(F,de),this._searchCache.validate(p);else if(Ie+de.piece.length>p){const mt=[];let xt=new kn(st.bufferIndex,pt,st.end,this.getLineFeedCnt(st.bufferIndex,pt,st.end),this.offsetInBuffer(ot,st.end)-this.offsetInBuffer(ot,pt));if(this.shouldCheckCRLF()&&this.endWithCR(F)&&this.nodeCharCodeAt(de,pe)===10){const $n={line:xt.start.line+1,column:0};xt=new kn(xt.bufferIndex,$n,xt.end,this.getLineFeedCnt(xt.bufferIndex,$n,xt.end),xt.length-1),F+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(F))if(this.nodeCharCodeAt(de,pe-1)===13){const $n=this.positionInBuffer(de,pe-1);this.deleteNodeTail(de,$n),F="\r"+F,de.piece.length===0&&mt.push(de)}else this.deleteNodeTail(de,pt);else this.deleteNodeTail(de,pt);const ft=this.createNewPieces(F);xt.length>0&&this.rbInsertRight(de,xt);let wt=de;for(let _n=0;_n<ft.length;_n++)wt=this.rbInsertRight(wt,ft[_n]);this.deleteNodes(mt)}else this.insertContentToNodeRight(F,de)}else{const de=this.createNewPieces(F);let pe=this.rbInsertLeft(null,de[0]);for(let Ie=1;Ie<de.length;Ie++)pe=this.rbInsertRight(pe,de[Ie])}this.computeBufferMetadata()}delete(p,F){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",F<=0||this.root===Fe)return;const Z=this.nodeAt(p),de=this.nodeAt(p+F),pe=Z.node,Ie=de.node;if(pe===Ie){const ft=this.positionInBuffer(pe,Z.remainder),wt=this.positionInBuffer(pe,de.remainder);if(Z.nodeStartOffset===p){if(F===pe.piece.length){const _n=pe.next();Ue(this,pe),this.validateCRLFWithPrevNode(_n),this.computeBufferMetadata();return}this.deleteNodeHead(pe,wt),this._searchCache.validate(p),this.validateCRLFWithPrevNode(pe),this.computeBufferMetadata();return}if(Z.nodeStartOffset+pe.piece.length===p+F){this.deleteNodeTail(pe,ft),this.validateCRLFWithNextNode(pe),this.computeBufferMetadata();return}this.shrinkNode(pe,ft,wt),this.computeBufferMetadata();return}const st=[],ot=this.positionInBuffer(pe,Z.remainder);this.deleteNodeTail(pe,ot),this._searchCache.validate(p),pe.piece.length===0&&st.push(pe);const pt=this.positionInBuffer(Ie,de.remainder);this.deleteNodeHead(Ie,pt),Ie.piece.length===0&&st.push(Ie);const mt=pe.next();for(let ft=mt;ft!==Fe&&ft!==Ie;ft=ft.next())st.push(ft);const xt=pe.piece.length===0?pe.prev():pe;this.deleteNodes(st),this.validateCRLFWithNextNode(xt),this.computeBufferMetadata()}insertContentToNodeLeft(p,F){const Z=[];if(this.shouldCheckCRLF()&&this.endWithCR(p)&&this.startWithLF(F)){const Ie=F.piece,st={line:Ie.start.line+1,column:0},ot=new kn(Ie.bufferIndex,st,Ie.end,this.getLineFeedCnt(Ie.bufferIndex,st,Ie.end),Ie.length-1);F.piece=ot,p+=`
`,Lt(this,F,-1,-1),F.piece.length===0&&Z.push(F)}const de=this.createNewPieces(p);let pe=this.rbInsertLeft(F,de[de.length-1]);for(let Ie=de.length-2;Ie>=0;Ie--)pe=this.rbInsertLeft(pe,de[Ie]);this.validateCRLFWithPrevNode(pe),this.deleteNodes(Z)}insertContentToNodeRight(p,F){this.adjustCarriageReturnFromNext(p,F)&&(p+=`
`);const Z=this.createNewPieces(p),de=this.rbInsertRight(F,Z[0]);let pe=de;for(let Ie=1;Ie<Z.length;Ie++)pe=this.rbInsertRight(pe,Z[Ie]);this.validateCRLFWithPrevNode(de)}positionInBuffer(p,F,Z){const de=p.piece,pe=p.piece.bufferIndex,Ie=this._buffers[pe].lineStarts,ot=Ie[de.start.line]+de.start.column+F;let pt=de.start.line,mt=de.end.line,xt=0,ft=0,wt=0;for(;pt<=mt&&(xt=pt+(mt-pt)/2|0,wt=Ie[xt],xt!==mt);)if(ft=Ie[xt+1],ot<wt)mt=xt-1;else if(ot>=ft)pt=xt+1;else break;return Z?(Z.line=xt,Z.column=ot-wt,null):{line:xt,column:ot-wt}}getLineFeedCnt(p,F,Z){if(Z.column===0)return Z.line-F.line;const de=this._buffers[p].lineStarts;if(Z.line===de.length-1)return Z.line-F.line;const pe=de[Z.line+1],Ie=de[Z.line]+Z.column;if(pe>Ie+1)return Z.line-F.line;const st=Ie-1;return this._buffers[p].buffer.charCodeAt(st)===13?Z.line-F.line+1:Z.line-F.line}offsetInBuffer(p,F){return this._buffers[p].lineStarts[F.line]+F.column}deleteNodes(p){for(let F=0;F<p.length;F++)Ue(this,p[F])}createNewPieces(p){if(p.length>Se){const mt=[];for(;p.length>Se;){const ft=p.charCodeAt(Se-1);let wt;ft===13||ft>=55296&&ft<=56319?(wt=p.substring(0,Se-1),p=p.substring(Se-1)):(wt=p.substring(0,Se),p=p.substring(Se));const _n=mn(wt);mt.push(new kn(this._buffers.length,{line:0,column:0},{line:_n.length-1,column:wt.length-_n[_n.length-1]},_n.length-1,wt.length)),this._buffers.push(new Nn(wt,_n))}const xt=mn(p);return mt.push(new kn(this._buffers.length,{line:0,column:0},{line:xt.length-1,column:p.length-xt[xt.length-1]},xt.length-1,p.length)),this._buffers.push(new Nn(p,xt)),mt}let F=this._buffers[0].buffer.length;const Z=mn(p,!1);let de=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===F&&F!==0&&this.startWithLF(p)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},de=this._lastChangeBufferPos;for(let mt=0;mt<Z.length;mt++)Z[mt]+=F+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Z.slice(1)),this._buffers[0].buffer+="_"+p,F+=1}else{if(F!==0)for(let mt=0;mt<Z.length;mt++)Z[mt]+=F;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Z.slice(1)),this._buffers[0].buffer+=p}const pe=this._buffers[0].buffer.length,Ie=this._buffers[0].lineStarts.length-1,st=pe-this._buffers[0].lineStarts[Ie],ot={line:Ie,column:st},pt=new kn(0,de,ot,this.getLineFeedCnt(0,de,ot),pe-F);return this._lastChangeBufferPos=ot,[pt]}getLineRawContent(p,F=0){let Z=this.root,de="";const pe=this._searchCache.get2(p);if(pe){Z=pe.node;const Ie=this.getAccumulatedValue(Z,p-pe.nodeStartLineNumber-1),st=this._buffers[Z.piece.bufferIndex].buffer,ot=this.offsetInBuffer(Z.piece.bufferIndex,Z.piece.start);if(pe.nodeStartLineNumber+Z.piece.lineFeedCnt===p)de=st.substring(ot+Ie,ot+Z.piece.length);else{const pt=this.getAccumulatedValue(Z,p-pe.nodeStartLineNumber);return st.substring(ot+Ie,ot+pt-F)}}else{let Ie=0;const st=p;for(;Z!==Fe;)if(Z.left!==Fe&&Z.lf_left>=p-1)Z=Z.left;else if(Z.lf_left+Z.piece.lineFeedCnt>p-1){const ot=this.getAccumulatedValue(Z,p-Z.lf_left-2),pt=this.getAccumulatedValue(Z,p-Z.lf_left-1),mt=this._buffers[Z.piece.bufferIndex].buffer,xt=this.offsetInBuffer(Z.piece.bufferIndex,Z.piece.start);return Ie+=Z.size_left,this._searchCache.set({node:Z,nodeStartOffset:Ie,nodeStartLineNumber:st-(p-1-Z.lf_left)}),mt.substring(xt+ot,xt+pt-F)}else if(Z.lf_left+Z.piece.lineFeedCnt===p-1){const ot=this.getAccumulatedValue(Z,p-Z.lf_left-2),pt=this._buffers[Z.piece.bufferIndex].buffer,mt=this.offsetInBuffer(Z.piece.bufferIndex,Z.piece.start);de=pt.substring(mt+ot,mt+Z.piece.length);break}else p-=Z.lf_left+Z.piece.lineFeedCnt,Ie+=Z.size_left+Z.piece.length,Z=Z.right}for(Z=Z.next();Z!==Fe;){const Ie=this._buffers[Z.piece.bufferIndex].buffer;if(Z.piece.lineFeedCnt>0){const st=this.getAccumulatedValue(Z,0),ot=this.offsetInBuffer(Z.piece.bufferIndex,Z.piece.start);return de+=Ie.substring(ot,ot+st-F),de}else{const st=this.offsetInBuffer(Z.piece.bufferIndex,Z.piece.start);de+=Ie.substr(st,Z.piece.length)}Z=Z.next()}return de}computeBufferMetadata(){let p=this.root,F=1,Z=0;for(;p!==Fe;)F+=p.lf_left+p.piece.lineFeedCnt,Z+=p.size_left+p.piece.length,p=p.right;this._lineCnt=F,this._length=Z,this._searchCache.validate(this._length)}getIndexOf(p,F){const Z=p.piece,de=this.positionInBuffer(p,F),pe=de.line-Z.start.line;if(this.offsetInBuffer(Z.bufferIndex,Z.end)-this.offsetInBuffer(Z.bufferIndex,Z.start)===F){const Ie=this.getLineFeedCnt(p.piece.bufferIndex,Z.start,de);if(Ie!==pe)return{index:Ie,remainder:0}}return{index:pe,remainder:de.column}}getAccumulatedValue(p,F){if(F<0)return 0;const Z=p.piece,de=this._buffers[Z.bufferIndex].lineStarts,pe=Z.start.line+F+1;return pe>Z.end.line?de[Z.end.line]+Z.end.column-de[Z.start.line]-Z.start.column:de[pe]-de[Z.start.line]-Z.start.column}deleteNodeTail(p,F){const Z=p.piece,de=Z.lineFeedCnt,pe=this.offsetInBuffer(Z.bufferIndex,Z.end),Ie=F,st=this.offsetInBuffer(Z.bufferIndex,Ie),ot=this.getLineFeedCnt(Z.bufferIndex,Z.start,Ie),pt=ot-de,mt=st-pe,xt=Z.length+mt;p.piece=new kn(Z.bufferIndex,Z.start,Ie,ot,xt),Lt(this,p,mt,pt)}deleteNodeHead(p,F){const Z=p.piece,de=Z.lineFeedCnt,pe=this.offsetInBuffer(Z.bufferIndex,Z.start),Ie=F,st=this.getLineFeedCnt(Z.bufferIndex,Ie,Z.end),ot=this.offsetInBuffer(Z.bufferIndex,Ie),pt=st-de,mt=pe-ot,xt=Z.length+mt;p.piece=new kn(Z.bufferIndex,Ie,Z.end,st,xt),Lt(this,p,mt,pt)}shrinkNode(p,F,Z){const de=p.piece,pe=de.start,Ie=de.end,st=de.length,ot=de.lineFeedCnt,pt=F,mt=this.getLineFeedCnt(de.bufferIndex,de.start,pt),xt=this.offsetInBuffer(de.bufferIndex,F)-this.offsetInBuffer(de.bufferIndex,pe);p.piece=new kn(de.bufferIndex,de.start,pt,mt,xt),Lt(this,p,xt-st,mt-ot);const ft=new kn(de.bufferIndex,Z,Ie,this.getLineFeedCnt(de.bufferIndex,Z,Ie),this.offsetInBuffer(de.bufferIndex,Ie)-this.offsetInBuffer(de.bufferIndex,Z)),wt=this.rbInsertRight(p,ft);this.validateCRLFWithPrevNode(wt)}appendToNode(p,F){this.adjustCarriageReturnFromNext(F,p)&&(F+=`
`);const Z=this.shouldCheckCRLF()&&this.startWithLF(F)&&this.endWithCR(p),de=this._buffers[0].buffer.length;this._buffers[0].buffer+=F;const pe=mn(F,!1);for(let wt=0;wt<pe.length;wt++)pe[wt]+=de;if(Z){const wt=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:de-wt}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(pe.slice(1));const Ie=this._buffers[0].lineStarts.length-1,st=this._buffers[0].buffer.length-this._buffers[0].lineStarts[Ie],ot={line:Ie,column:st},pt=p.piece.length+F.length,mt=p.piece.lineFeedCnt,xt=this.getLineFeedCnt(0,p.piece.start,ot),ft=xt-mt;p.piece=new kn(p.piece.bufferIndex,p.piece.start,ot,xt,pt),this._lastChangeBufferPos=ot,Lt(this,p,F.length,ft)}nodeAt(p){let F=this.root;const Z=this._searchCache.get(p);if(Z)return{node:Z.node,nodeStartOffset:Z.nodeStartOffset,remainder:p-Z.nodeStartOffset};let de=0;for(;F!==Fe;)if(F.size_left>p)F=F.left;else if(F.size_left+F.piece.length>=p){de+=F.size_left;const pe={node:F,remainder:p-F.size_left,nodeStartOffset:de};return this._searchCache.set(pe),pe}else p-=F.size_left+F.piece.length,de+=F.size_left+F.piece.length,F=F.right;return null}nodeAt2(p,F){let Z=this.root,de=0;for(;Z!==Fe;)if(Z.left!==Fe&&Z.lf_left>=p-1)Z=Z.left;else if(Z.lf_left+Z.piece.lineFeedCnt>p-1){const pe=this.getAccumulatedValue(Z,p-Z.lf_left-2),Ie=this.getAccumulatedValue(Z,p-Z.lf_left-1);return de+=Z.size_left,{node:Z,remainder:Math.min(pe+F-1,Ie),nodeStartOffset:de}}else if(Z.lf_left+Z.piece.lineFeedCnt===p-1){const pe=this.getAccumulatedValue(Z,p-Z.lf_left-2);if(pe+F-1<=Z.piece.length)return{node:Z,remainder:pe+F-1,nodeStartOffset:de};F-=Z.piece.length-pe;break}else p-=Z.lf_left+Z.piece.lineFeedCnt,de+=Z.size_left+Z.piece.length,Z=Z.right;for(Z=Z.next();Z!==Fe;){if(Z.piece.lineFeedCnt>0){const pe=this.getAccumulatedValue(Z,0),Ie=this.offsetOfNode(Z);return{node:Z,remainder:Math.min(F-1,pe),nodeStartOffset:Ie}}else if(Z.piece.length>=F-1){const pe=this.offsetOfNode(Z);return{node:Z,remainder:F-1,nodeStartOffset:pe}}else F-=Z.piece.length;Z=Z.next()}return null}nodeCharCodeAt(p,F){if(p.piece.lineFeedCnt<1)return-1;const Z=this._buffers[p.piece.bufferIndex],de=this.offsetInBuffer(p.piece.bufferIndex,p.piece.start)+F;return Z.buffer.charCodeAt(de)}offsetOfNode(p){if(!p)return 0;let F=p.size_left;for(;p!==this.root;)p.parent.right===p&&(F+=p.parent.size_left+p.parent.piece.length),p=p.parent;return F}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(p){if(typeof p=="string")return p.charCodeAt(0)===10;if(p===Fe||p.piece.lineFeedCnt===0)return!1;const F=p.piece,Z=this._buffers[F.bufferIndex].lineStarts,de=F.start.line,pe=Z[de]+F.start.column;return de===Z.length-1||Z[de+1]>pe+1?!1:this._buffers[F.bufferIndex].buffer.charCodeAt(pe)===10}endWithCR(p){return typeof p=="string"?p.charCodeAt(p.length-1)===13:p===Fe||p.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(p,p.piece.length-1)===13}validateCRLFWithPrevNode(p){if(this.shouldCheckCRLF()&&this.startWithLF(p)){const F=p.prev();this.endWithCR(F)&&this.fixCRLF(F,p)}}validateCRLFWithNextNode(p){if(this.shouldCheckCRLF()&&this.endWithCR(p)){const F=p.next();this.startWithLF(F)&&this.fixCRLF(p,F)}}fixCRLF(p,F){const Z=[],de=this._buffers[p.piece.bufferIndex].lineStarts;let pe;p.piece.end.column===0?pe={line:p.piece.end.line-1,column:de[p.piece.end.line]-de[p.piece.end.line-1]-1}:pe={line:p.piece.end.line,column:p.piece.end.column-1};const Ie=p.piece.length-1,st=p.piece.lineFeedCnt-1;p.piece=new kn(p.piece.bufferIndex,p.piece.start,pe,st,Ie),Lt(this,p,-1,-1),p.piece.length===0&&Z.push(p);const ot={line:F.piece.start.line+1,column:0},pt=F.piece.length-1,mt=this.getLineFeedCnt(F.piece.bufferIndex,ot,F.piece.end);F.piece=new kn(F.piece.bufferIndex,ot,F.piece.end,mt,pt),Lt(this,F,-1,-1),F.piece.length===0&&Z.push(F);const xt=this.createNewPieces(`\r
`);this.rbInsertRight(p,xt[0]);for(let ft=0;ft<Z.length;ft++)Ue(this,Z[ft])}adjustCarriageReturnFromNext(p,F){if(this.shouldCheckCRLF()&&this.endWithCR(p)){const Z=F.next();if(this.startWithLF(Z)){if(p+=`
`,Z.piece.length===1)Ue(this,Z);else{const de=Z.piece,pe={line:de.start.line+1,column:0},Ie=de.length-1,st=this.getLineFeedCnt(de.bufferIndex,pe,de.end);Z.piece=new kn(de.bufferIndex,pe,de.end,st,Ie),Lt(this,Z,-1,-1)}return!0}}return!1}iterate(p,F){if(p===Fe)return F(Fe);const Z=this.iterate(p.left,F);return Z&&F(p)&&this.iterate(p.right,F)}getNodeContent(p){if(p===Fe)return"";const F=this._buffers[p.piece.bufferIndex];let Z;const de=p.piece,pe=this.offsetInBuffer(de.bufferIndex,de.start),Ie=this.offsetInBuffer(de.bufferIndex,de.end);return Z=F.buffer.substring(pe,Ie),Z}getPieceContent(p){const F=this._buffers[p.bufferIndex],Z=this.offsetInBuffer(p.bufferIndex,p.start),de=this.offsetInBuffer(p.bufferIndex,p.end);return F.buffer.substring(Z,de)}rbInsertRight(p,F){const Z=new Ne(F,1);if(Z.left=Fe,Z.right=Fe,Z.parent=Fe,Z.size_left=0,Z.lf_left=0,this.root===Fe)this.root=Z,Z.color=0;else if(p.right===Fe)p.right=Z,Z.parent=p;else{const pe=ht(p.right);pe.left=Z,Z.parent=pe}return Pt(this,Z),Z}rbInsertLeft(p,F){const Z=new Ne(F,1);if(Z.left=Fe,Z.right=Fe,Z.parent=Fe,Z.size_left=0,Z.lf_left=0,this.root===Fe)this.root=Z,Z.color=0;else if(p.left===Fe)p.left=Z,Z.parent=p;else{const de=Qt(p.left);de.right=Z,Z.parent=de}return Pt(this,Z),Z}}var Gn=l(41924),ti=l(60637);class An extends y.JT{constructor(p,F,Z,de,pe,Ie,st){super(),this._onDidChangeContent=this._register(new O.Q5),this._BOM=F,this._mightContainNonBasicASCII=!Ie,this._mightContainRTL=de,this._mightContainUnusualLineTerminators=pe,this._pieceTree=new Sn(p,Z,st)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(p){return this._pieceTree.createSnapshot(p?this._BOM:"")}getOffsetAt(p,F){return this._pieceTree.getOffsetAt(p,F)}getPositionAt(p){return this._pieceTree.getPositionAt(p)}getRangeAt(p,F){const Z=p+F,de=this.getPositionAt(p),pe=this.getPositionAt(Z);return new I.e(de.lineNumber,de.column,pe.lineNumber,pe.column)}getValueInRange(p,F=0){if(p.isEmpty())return"";const Z=this._getEndOfLine(F);return this._pieceTree.getValueInRange(p,Z)}getValueLengthInRange(p,F=0){if(p.isEmpty())return 0;if(p.startLineNumber===p.endLineNumber)return p.endColumn-p.startColumn;const Z=this.getOffsetAt(p.startLineNumber,p.startColumn);return this.getOffsetAt(p.endLineNumber,p.endColumn)-Z}getCharacterCountInRange(p,F=0){if(this._mightContainNonBasicASCII){let Z=0;const de=p.startLineNumber,pe=p.endLineNumber;for(let Ie=de;Ie<=pe;Ie++){const st=this.getLineContent(Ie),ot=Ie===de?p.startColumn-1:0,pt=Ie===pe?p.endColumn-1:st.length;for(let mt=ot;mt<pt;mt++)W.ZG(st.charCodeAt(mt))?(Z=Z+1,mt=mt+1):Z=Z+1}return Z+=this._getEndOfLine(F).length*(pe-de),Z}return this.getValueLengthInRange(p,F)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(p){return this._pieceTree.getLineContent(p)}getLineCharCode(p,F){return this._pieceTree.getLineCharCode(p,F)}getLineLength(p){return this._pieceTree.getLineLength(p)}getLineFirstNonWhitespaceColumn(p){const F=W.LC(this.getLineContent(p));return F===-1?0:F+1}getLineLastNonWhitespaceColumn(p){const F=W.ow(this.getLineContent(p));return F===-1?0:F+2}_getEndOfLine(p){switch(p){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(p){this._pieceTree.setEOL(p)}applyEdits(p,F,Z){let de=this._mightContainRTL,pe=this._mightContainUnusualLineTerminators,Ie=this._mightContainNonBasicASCII,st=!0,ot=[];for(let $n=0;$n<p.length;$n++){const Wn=p[$n];st&&Wn._isTracked&&(st=!1);const fi=Wn.range;if(Wn.text){let Fs=!0;Ie||(Fs=!W.$i(Wn.text),Ie=Fs),!de&&Fs&&(de=W.Ut(Wn.text)),!pe&&Fs&&(pe=W.ab(Wn.text))}let Fi="",jt=0,vi=0,rs=0;if(Wn.text){let Fs;[jt,vi,rs,Fs]=(0,Gn.Q)(Wn.text);const Js=this.getEOL();Fs===0||Fs===(Js===`\r
`?2:1)?Fi=Wn.text:Fi=Wn.text.replace(/\r\n|\r|\n/g,Js)}ot[$n]={sortIndex:$n,identifier:Wn.identifier||null,range:fi,rangeOffset:this.getOffsetAt(fi.startLineNumber,fi.startColumn),rangeLength:this.getValueLengthInRange(fi),text:Fi,eolCount:jt,firstLineLength:vi,lastLineLength:rs,forceMoveMarkers:Boolean(Wn.forceMoveMarkers),isAutoWhitespaceEdit:Wn.isAutoWhitespaceEdit||!1}}ot.sort(An._sortOpsAscending);let pt=!1;for(let $n=0,Wn=ot.length-1;$n<Wn;$n++){const fi=ot[$n].range.getEndPosition(),Fi=ot[$n+1].range.getStartPosition();if(Fi.isBeforeOrEqual(fi)){if(Fi.isBefore(fi))throw new Error("Overlapping ranges are not allowed!");pt=!0}}st&&(ot=this._reduceOperations(ot));const mt=Z||F?An._getInverseEditRanges(ot):[],xt=[];if(F)for(let $n=0;$n<ot.length;$n++){const Wn=ot[$n],fi=mt[$n];if(Wn.isAutoWhitespaceEdit&&Wn.range.isEmpty())for(let Fi=fi.startLineNumber;Fi<=fi.endLineNumber;Fi++){let jt="";Fi===fi.startLineNumber&&(jt=this.getLineContent(Wn.range.startLineNumber),W.LC(jt)!==-1)||xt.push({lineNumber:Fi,oldContent:jt})}}let ft=null;if(Z){let $n=0;ft=[];for(let Wn=0;Wn<ot.length;Wn++){const fi=ot[Wn],Fi=mt[Wn],jt=this.getValueInRange(fi.range),vi=fi.rangeOffset+$n;$n+=fi.text.length-jt.length,ft[Wn]={sortIndex:fi.sortIndex,identifier:fi.identifier,range:Fi,text:jt,textChange:new ti.q(fi.rangeOffset,jt,vi,fi.text)}}pt||ft.sort((Wn,fi)=>Wn.sortIndex-fi.sortIndex)}this._mightContainRTL=de,this._mightContainUnusualLineTerminators=pe,this._mightContainNonBasicASCII=Ie;const wt=this._doApplyEdits(ot);let _n=null;if(F&&xt.length>0){xt.sort(($n,Wn)=>Wn.lineNumber-$n.lineNumber),_n=[];for(let $n=0,Wn=xt.length;$n<Wn;$n++){const fi=xt[$n].lineNumber;if($n>0&&xt[$n-1].lineNumber===fi)continue;const Fi=xt[$n].oldContent,jt=this.getLineContent(fi);jt.length===0||jt===Fi||W.LC(jt)!==-1||_n.push(fi)}}return this._onDidChangeContent.fire(),new _.je(ft,wt,_n)}_reduceOperations(p){return p.length<1e3?p:[this._toSingleEditOperation(p)]}_toSingleEditOperation(p){let F=!1;const Z=p[0].range,de=p[p.length-1].range,pe=new I.e(Z.startLineNumber,Z.startColumn,de.endLineNumber,de.endColumn);let Ie=Z.startLineNumber,st=Z.startColumn;const ot=[];for(let wt=0,_n=p.length;wt<_n;wt++){const $n=p[wt],Wn=$n.range;F=F||$n.forceMoveMarkers,ot.push(this.getValueInRange(new I.e(Ie,st,Wn.startLineNumber,Wn.startColumn))),$n.text.length>0&&ot.push($n.text),Ie=Wn.endLineNumber,st=Wn.endColumn}const pt=ot.join(""),[mt,xt,ft]=(0,Gn.Q)(pt);return{sortIndex:0,identifier:p[0].identifier,range:pe,rangeOffset:this.getOffsetAt(pe.startLineNumber,pe.startColumn),rangeLength:this.getValueLengthInRange(pe,0),text:pt,eolCount:mt,firstLineLength:xt,lastLineLength:ft,forceMoveMarkers:F,isAutoWhitespaceEdit:!1}}_doApplyEdits(p){p.sort(An._sortOpsDescending);const F=[];for(let Z=0;Z<p.length;Z++){const de=p[Z],pe=de.range.startLineNumber,Ie=de.range.startColumn,st=de.range.endLineNumber,ot=de.range.endColumn;if(pe===st&&Ie===ot&&de.text.length===0)continue;de.text?(this._pieceTree.delete(de.rangeOffset,de.rangeLength),this._pieceTree.insert(de.rangeOffset,de.text,!0)):this._pieceTree.delete(de.rangeOffset,de.rangeLength);const pt=new I.e(pe,Ie,st,ot);F.push({range:pt,rangeLength:de.rangeLength,text:de.text,rangeOffset:de.rangeOffset,forceMoveMarkers:de.forceMoveMarkers})}return F}findMatchesLineByLine(p,F,Z,de){return this._pieceTree.findMatchesLineByLine(p,F,Z,de)}static _getInverseEditRanges(p){const F=[];let Z=0,de=0,pe=null;for(let Ie=0,st=p.length;Ie<st;Ie++){const ot=p[Ie];let pt,mt;pe?pe.range.endLineNumber===ot.range.startLineNumber?(pt=Z,mt=de+(ot.range.startColumn-pe.range.endColumn)):(pt=Z+(ot.range.startLineNumber-pe.range.endLineNumber),mt=ot.range.startColumn):(pt=ot.range.startLineNumber,mt=ot.range.startColumn);let xt;if(ot.text.length>0){const ft=ot.eolCount+1;ft===1?xt=new I.e(pt,mt,pt,mt+ot.firstLineLength):xt=new I.e(pt,mt,pt+ft-1,ot.lastLineLength+1)}else xt=new I.e(pt,mt,pt,mt);Z=xt.endLineNumber,de=xt.endColumn,F.push(xt),pe=ot}return F}static _sortOpsAscending(p,F){const Z=I.e.compareRangesUsingEnds(p.range,F.range);return Z===0?p.sortIndex-F.sortIndex:Z}static _sortOpsDescending(p,F){const Z=I.e.compareRangesUsingEnds(p.range,F.range);return Z===0?F.sortIndex-p.sortIndex:-Z}}class Bi{constructor(p,F,Z,de,pe,Ie,st,ot,pt){this._chunks=p,this._bom=F,this._cr=Z,this._lf=de,this._crlf=pe,this._containsRTL=Ie,this._containsUnusualLineTerminators=st,this._isBasicASCII=ot,this._normalizeEOL=pt}_getEOL(p){const F=this._cr+this._lf+this._crlf,Z=this._cr+this._crlf;return F===0?p===1?`
`:`\r
`:Z>F/2?`\r
`:`
`}create(p){const F=this._getEOL(p),Z=this._chunks;if(this._normalizeEOL&&(F===`\r
`&&(this._cr>0||this._lf>0)||F===`
`&&(this._cr>0||this._crlf>0)))for(let pe=0,Ie=Z.length;pe<Ie;pe++){const st=Z[pe].buffer.replace(/\r\n|\r|\n/g,F),ot=mn(st);Z[pe]=new Nn(st,ot)}const de=new An(Z,this._bom,F,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:de,disposable:de}}}class oi{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(p){if(p.length===0)return;this.chunks.length===0&&W.uS(p)&&(this.BOM=W.c1,p=p.substr(1));const F=p.charCodeAt(p.length-1);F===13||F>=55296&&F<=56319?(this._acceptChunk1(p.substr(0,p.length-1),!1),this._hasPreviousChar=!0,this._previousChar=F):(this._acceptChunk1(p,!1),this._hasPreviousChar=!1,this._previousChar=F)}_acceptChunk1(p,F){!F&&p.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+p):this._acceptChunk2(p))}_acceptChunk2(p){const F=Mn(this._tmpLineStarts,p);this.chunks.push(new Nn(p,F.lineStarts)),this.cr+=F.cr,this.lf+=F.lf,this.crlf+=F.crlf,this.isBasicASCII&&(this.isBasicASCII=F.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=W.Ut(p)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=W.ab(p))}finish(p=!0){return this._finish(),new Bi(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,p)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const p=this.chunks[this.chunks.length-1];p.buffer+=String.fromCharCode(this._previousChar);const F=mn(p.buffer);p.lineStarts=F,this._previousChar===13&&this.cr++}}}var Yn=l(62316),Ci=l(32083),On=l(46250),Si=l(62318),Di=l(57734);class ni{constructor(p,F){this._startLineNumber=p,this._tokens=F}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}getLineTokens(p){return this._tokens[p-this._startLineNumber]}appendLineTokens(p){this._tokens.push(p)}}class Kn{constructor(){this._tokens=[]}add(p,F){if(this._tokens.length>0){const Z=this._tokens[this._tokens.length-1];if(Z.endLineNumber+1===p){Z.appendLineTokens(F);return}}this._tokens.push(new ni(p,[F]))}finalize(){return this._tokens}}var Pi=l(57186),Vi=l(24180);class Oi{constructor(p){this._default=p,this._store=[]}get(p){return p<this._store.length?this._store[p]:this._default}set(p,F){for(;p>=this._store.length;)this._store[this._store.length]=this._default;this._store[p]=F}delete(p,F){F===0||p>=this._store.length||this._store.splice(p,F)}insert(p,F){if(F===0||p>=this._store.length)return;const Z=[];for(let de=0;de<F;de++)Z[de]=this._default;this._store=C.Zv(this._store,p,Z)}}class _i{constructor(p,F){this.tokenizationSupport=p,this.initialState=F,this._lineBeginState=new Oi(null),this._lineNeedsTokenization=new Oi(!0),this._firstLineNeedsTokenization=0,this._lineBeginState.set(0,this.initialState)}get invalidLineStartIndex(){return this._firstLineNeedsTokenization}markMustBeTokenized(p){this._lineNeedsTokenization.set(p,!0),this._firstLineNeedsTokenization=Math.min(this._firstLineNeedsTokenization,p)}getBeginState(p){return this._lineBeginState.get(p)}setEndState(p,F,Z){if(this._lineNeedsTokenization.set(F,!1),this._firstLineNeedsTokenization=F+1,F===p-1)return;const de=this._lineBeginState.get(F+1);if(de===null||!Z.equals(de)){this._lineBeginState.set(F+1,Z),this.markMustBeTokenized(F+1);return}let pe=F+1;for(;pe<p&&!this._lineNeedsTokenization.get(pe);)pe++;this._firstLineNeedsTokenization=pe}applyEdits(p,F){this.markMustBeTokenized(p.startLineNumber-1),this._lineBeginState.delete(p.startLineNumber,p.endLineNumber-p.startLineNumber),this._lineNeedsTokenization.delete(p.startLineNumber,p.endLineNumber-p.startLineNumber),this._lineBeginState.insert(p.startLineNumber,F),this._lineNeedsTokenization.insert(p.startLineNumber,F)}}class Ye extends y.JT{constructor(p,F){super(),this._textModel=p,this._languageIdCodec=F,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=null,this._register(On.RW.onDidChange(Z=>{const de=this._textModel.getLanguageId();Z.changedLanguages.indexOf(de)!==-1&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}handleDidChangeContent(p){if(p.isFlush){this._resetTokenizationState();return}if(this._tokenizationStateStore)for(let F=0,Z=p.changes.length;F<Z;F++){const de=p.changes[F],[pe]=(0,Gn.Q)(de.text);this._tokenizationStateStore.applyEdits(de.range,pe)}this._beginBackgroundTokenization()}handleDidChangeAttached(){this._beginBackgroundTokenization()}handleDidChangeLanguage(p){this._resetTokenizationState(),this._textModel.clearTokens()}_resetTokenizationState(){const[p,F]=It(this._textModel);p&&F?this._tokenizationStateStore=new _i(p,F):this._tokenizationStateStore=null,this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,Pi.To)(p=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(p)}))}_backgroundTokenizeWithDeadline(p){const F=Date.now()+p.timeRemaining(),Z=()=>{this._isDisposed||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<F?(0,Vi.fn)(Z):this._beginBackgroundTokenization())};Z()}_backgroundTokenizeForAtLeast1ms(){const p=this._textModel.getLineCount(),F=new Kn,Z=Di.G.create(!1);do if(Z.elapsed()>1||this._tokenizeOneInvalidLine(F)>=p)break;while(this._hasLinesToTokenize());this._textModel.setTokens(F.finalize(),!this._hasLinesToTokenize())}tokenizeViewport(p,F){const Z=new Kn;this._tokenizeViewport(Z,p,F),this._textModel.setTokens(Z.finalize(),!this._hasLinesToTokenize())}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(p){const F=new Kn;this._updateTokensUntilLine(F,p),this._textModel.setTokens(F.finalize(),!this._hasLinesToTokenize())}getTokenTypeIfInsertingCharacter(p,F){if(!this._tokenizationStateStore)return 0;this.forceTokenization(p.lineNumber);const Z=this._tokenizationStateStore.getBeginState(p.lineNumber-1);if(!Z)return 0;const de=this._textModel.getLanguageId(),pe=this._textModel.getLineContent(p.lineNumber),Ie=pe.substring(0,p.column-1)+F+pe.substring(p.column-1),st=cn(this._languageIdCodec,de,this._tokenizationStateStore.tokenizationSupport,Ie,!0,Z),ot=new Ci.A(st.tokens,Ie,this._languageIdCodec);if(ot.getCount()===0)return 0;const pt=ot.findTokenIndexAtOffset(p.column-1);return ot.getStandardTokenType(pt)}tokenizeLineWithEdit(p,F,Z){const de=p.lineNumber,pe=p.column;if(!this._tokenizationStateStore)return null;this.forceTokenization(de);const Ie=this._tokenizationStateStore.getBeginState(de-1);if(!Ie)return null;const st=this._textModel.getLineContent(de),ot=st.substring(0,pe-1)+Z+st.substring(pe-1+F),pt=this._textModel.getLanguageIdAtPosition(de,0),mt=cn(this._languageIdCodec,pt,this._tokenizationStateStore.tokenizationSupport,ot,!0,Ie);return new Ci.A(mt.tokens,ot,this._languageIdCodec)}isCheapToTokenize(p){if(!this._tokenizationStateStore)return!0;const F=this._tokenizationStateStore.invalidLineStartIndex+1;return p>F?!1:p<F||this._textModel.getLineLength(p)<2048}_hasLinesToTokenize(){return this._tokenizationStateStore?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(p){if(!this._tokenizationStateStore||!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const F=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(p,F),F}_updateTokensUntilLine(p,F){if(!this._tokenizationStateStore)return;const Z=this._textModel.getLanguageId(),de=this._textModel.getLineCount(),pe=F-1;for(let Ie=this._tokenizationStateStore.invalidLineStartIndex;Ie<=pe;Ie++){const st=this._textModel.getLineContent(Ie+1),ot=this._tokenizationStateStore.getBeginState(Ie),pt=cn(this._languageIdCodec,Z,this._tokenizationStateStore.tokenizationSupport,st,!0,ot);p.add(Ie+1,pt.tokens),this._tokenizationStateStore.setEndState(de,Ie,pt.endState),Ie=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(p,F,Z){if(!this._tokenizationStateStore||Z<=this._tokenizationStateStore.invalidLineStartIndex)return;if(F<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(p,Z);return}let de=this._textModel.getLineFirstNonWhitespaceColumn(F);const pe=[];let Ie=null;for(let pt=F-1;de>1&&pt>=1;pt--){const mt=this._textModel.getLineFirstNonWhitespaceColumn(pt);if(mt!==0&&mt<de){if(Ie=this._tokenizationStateStore.getBeginState(pt-1),Ie)break;pe.push(this._textModel.getLineContent(pt)),de=mt}}Ie||(Ie=this._tokenizationStateStore.initialState);const st=this._textModel.getLanguageId();let ot=Ie;for(let pt=pe.length-1;pt>=0;pt--)ot=cn(this._languageIdCodec,st,this._tokenizationStateStore.tokenizationSupport,pe[pt],!1,ot).endState;for(let pt=F;pt<=Z;pt++){const mt=this._textModel.getLineContent(pt),xt=cn(this._languageIdCodec,st,this._tokenizationStateStore.tokenizationSupport,mt,!0,ot);p.add(pt,xt.tokens),this._tokenizationStateStore.markMustBeTokenized(pt-1),ot=xt.endState}}}function It(fe){if(fe.isTooLargeForTokenization())return[null,null];const p=On.RW.get(fe.getLanguageId());if(!p)return[null,null];let F;try{F=p.getInitialState()}catch(Z){return(0,z.dL)(Z),[null,null]}return[p,F]}function cn(fe,p,F,Z,de,pe){let Ie=null;if(F)try{Ie=F.tokenizeEncoded(Z,de,pe.clone())}catch(st){(0,z.dL)(st)}return Ie||(Ie=(0,Si.Dy)(fe.encodeLanguageId(p),pe)),Ci.A.convertToEndOffset(Ie.tokens,Z.length),Ie}const on=new Uint32Array(0).buffer;class bn{static deleteBeginning(p,F){return p===null||p===on?p:bn.delete(p,0,F)}static deleteEnding(p,F){if(p===null||p===on)return p;const Z=hi(p),de=Z[Z.length-2];return bn.delete(p,F,de)}static delete(p,F,Z){if(p===null||p===on||F===Z)return p;const de=hi(p),pe=de.length>>>1;if(F===0&&de[de.length-2]===Z)return on;const Ie=Ci.A.findIndexInTokensArray(de,F),st=Ie>0?de[Ie-1<<1]:0,ot=de[Ie<<1];if(Z<ot){const wt=Z-F;for(let _n=Ie;_n<pe;_n++)de[_n<<1]-=wt;return p}let pt,mt;st!==F?(de[Ie<<1]=F,pt=Ie+1<<1,mt=F):(pt=Ie<<1,mt=st);const xt=Z-F;for(let wt=Ie+1;wt<pe;wt++){const _n=de[wt<<1]-xt;_n>mt&&(de[pt++]=_n,de[pt++]=de[(wt<<1)+1],mt=_n)}if(pt===de.length)return p;const ft=new Uint32Array(pt);return ft.set(de.subarray(0,pt),0),ft.buffer}static append(p,F){if(F===on)return p;if(p===on)return F;if(p===null)return p;if(F===null)return null;const Z=hi(p),de=hi(F),pe=de.length>>>1,Ie=new Uint32Array(Z.length+de.length);Ie.set(Z,0);let st=Z.length;const ot=Z[Z.length-2];for(let pt=0;pt<pe;pt++)Ie[st++]=de[pt<<1]+ot,Ie[st++]=de[(pt<<1)+1];return Ie.buffer}static insert(p,F,Z){if(p===null||p===on)return p;const de=hi(p),pe=de.length>>>1;let Ie=Ci.A.findIndexInTokensArray(de,F);Ie>0&&de[Ie-1<<1]===F&&Ie--;for(let st=Ie;st<pe;st++)de[st<<1]+=Z;return p}}function hi(fe){return fe instanceof Uint32Array?fe:new Uint32Array(fe)}class En{constructor(p){this._lineTokens=[],this._len=0,this._languageIdCodec=p}flush(){this._lineTokens=[],this._len=0}getTokens(p,F,Z){let de=null;if(F<this._len&&(de=this._lineTokens[F]),de!==null&&de!==on)return new Ci.A(hi(de),Z,this._languageIdCodec);const pe=new Uint32Array(2);return pe[0]=Z.length,pe[1]=Zi(this._languageIdCodec.encodeLanguageId(p)),new Ci.A(pe,Z,this._languageIdCodec)}static _massageTokens(p,F,Z){const de=Z?hi(Z):null;if(F===0){let pe=!1;if(de&&de.length>1&&(pe=On.NX.getLanguageId(de[1])!==p),!pe)return on}if(!de||de.length===0){const pe=new Uint32Array(2);return pe[0]=F,pe[1]=Zi(p),pe.buffer}return de[de.length-2]=F,de.byteOffset===0&&de.byteLength===de.buffer.byteLength?de.buffer:de}_ensureLine(p){for(;p>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(p,F){F!==0&&(p+F>this._len&&(F=this._len-p),this._lineTokens.splice(p,F),this._len-=F)}_insertLines(p,F){if(F===0)return;const Z=[];for(let de=0;de<F;de++)Z[de]=null;this._lineTokens=C.Zv(this._lineTokens,p,Z),this._len+=F}setTokens(p,F,Z,de,pe){const Ie=En._massageTokens(this._languageIdCodec.encodeLanguageId(p),Z,de);this._ensureLine(F);const st=this._lineTokens[F];return this._lineTokens[F]=Ie,pe?!En._equals(st,Ie):!1}static _equals(p,F){if(!p||!F)return!p&&!F;const Z=hi(p),de=hi(F);if(Z.length!==de.length)return!1;for(let pe=0,Ie=Z.length;pe<Ie;pe++)if(Z[pe]!==de[pe])return!1;return!0}acceptEdit(p,F,Z){this._acceptDeleteRange(p),this._acceptInsertText(new M.L(p.startLineNumber,p.startColumn),F,Z)}_acceptDeleteRange(p){const F=p.startLineNumber-1;if(F>=this._len)return;if(p.startLineNumber===p.endLineNumber){if(p.startColumn===p.endColumn)return;this._lineTokens[F]=bn.delete(this._lineTokens[F],p.startColumn-1,p.endColumn-1);return}this._lineTokens[F]=bn.deleteEnding(this._lineTokens[F],p.startColumn-1);const Z=p.endLineNumber-1;let de=null;Z<this._len&&(de=bn.deleteBeginning(this._lineTokens[Z],p.endColumn-1)),this._lineTokens[F]=bn.append(this._lineTokens[F],de),this._deleteLines(p.startLineNumber,p.endLineNumber-p.startLineNumber)}_acceptInsertText(p,F,Z){if(F===0&&Z===0)return;const de=p.lineNumber-1;if(!(de>=this._len)){if(F===0){this._lineTokens[de]=bn.insert(this._lineTokens[de],p.column-1,Z);return}this._lineTokens[de]=bn.deleteEnding(this._lineTokens[de],p.column-1),this._lineTokens[de]=bn.insert(this._lineTokens[de],p.column-1,Z),this._insertLines(p.lineNumber,F)}}}function Zi(fe){return(fe<<0|0<<8|0<<10|1<<14|2<<23)>>>0}class ri{constructor(p){this._pieces=[],this._isComplete=!1,this._languageIdCodec=p}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(p,F){this._pieces=p||[],this._isComplete=F}setPartial(p,F){let Z=p;if(F.length>0){const pe=F[0].getRange(),Ie=F[F.length-1].getRange();if(!pe||!Ie)return p;Z=p.plusRange(pe).plusRange(Ie)}let de=null;for(let pe=0,Ie=this._pieces.length;pe<Ie;pe++){const st=this._pieces[pe];if(st.endLineNumber<Z.startLineNumber)continue;if(st.startLineNumber>Z.endLineNumber){de=de||{index:pe};break}if(st.removeTokens(Z),st.isEmpty()){this._pieces.splice(pe,1),pe--,Ie--;continue}if(st.endLineNumber<Z.startLineNumber)continue;if(st.startLineNumber>Z.endLineNumber){de=de||{index:pe};continue}const[ot,pt]=st.split(Z);if(ot.isEmpty()){de=de||{index:pe};continue}pt.isEmpty()||(this._pieces.splice(pe,1,ot,pt),pe++,Ie++,de=de||{index:pe})}return de=de||{index:this._pieces.length},F.length>0&&(this._pieces=C.Zv(this._pieces,de.index,F)),Z}isComplete(){return this._isComplete}addSparseTokens(p,F){const Z=this._pieces;if(Z.length===0)return F;const de=ri._findFirstPieceWithLine(Z,p),pe=Z[de].getLineTokens(p);if(!pe)return F;const Ie=F.getCount(),st=pe.getCount();let ot=0;const pt=[];let mt=0,xt=0;const ft=(wt,_n)=>{wt!==xt&&(xt=wt,pt[mt++]=wt,pt[mt++]=_n)};for(let wt=0;wt<st;wt++){const _n=pe.getStartCharacter(wt),$n=pe.getEndCharacter(wt),Wn=pe.getMetadata(wt),fi=((Wn&1?1024:0)|(Wn&2?2048:0)|(Wn&4?4096:0)|(Wn&8?8192:0)|(Wn&16?8372224:0)|(Wn&32?4286578688:0))>>>0,Fi=~fi>>>0;for(;ot<Ie&&F.getEndOffset(ot)<=_n;)ft(F.getEndOffset(ot),F.getMetadata(ot)),ot++;for(ot<Ie&&F.getStartOffset(ot)<_n&&ft(_n,F.getMetadata(ot));ot<Ie&&F.getEndOffset(ot)<$n;)ft(F.getEndOffset(ot),F.getMetadata(ot)&Fi|Wn&fi),ot++;if(ot<Ie)ft($n,F.getMetadata(ot)&Fi|Wn&fi),F.getEndOffset(ot)===$n&&ot++;else{const jt=Math.min(Math.max(0,ot-1),Ie-1);ft($n,F.getMetadata(jt)&Fi|Wn&fi)}}for(;ot<Ie;)ft(F.getEndOffset(ot),F.getMetadata(ot)),ot++;return new Ci.A(new Uint32Array(pt),F.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(p,F){let Z=0,de=p.length-1;for(;Z<de;){let pe=Z+Math.floor((de-Z)/2);if(p[pe].endLineNumber<F)Z=pe+1;else if(p[pe].startLineNumber>F)de=pe-1;else{for(;pe>Z&&p[pe-1].startLineNumber<=F&&F<=p[pe-1].endLineNumber;)pe--;return pe}}return Z}acceptEdit(p,F,Z,de,pe){for(const Ie of this._pieces)Ie.acceptEdit(p,F,Z,de,pe)}}var ki=l(62501),ui=l(34181),qi=l(50661),Xs=l(25055),zs=l(63891),Ki=l(93788),Os=function(fe,p,F,Z){var de=arguments.length,pe=de<3?p:Z===null?Z=Object.getOwnPropertyDescriptor(p,F):Z,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")pe=Reflect.decorate(fe,p,F,Z);else for(var st=fe.length-1;st>=0;st--)(Ie=fe[st])&&(pe=(de<3?Ie(pe):de>3?Ie(p,F,pe):Ie(p,F))||pe);return de>3&&pe&&Object.defineProperty(p,F,pe),pe},ai=function(fe,p){return function(F,Z){p(F,Z,fe)}};function Jo(){return new oi}function co(fe){const p=Jo();return p.acceptChunk(fe),p.finish()}function Ks(fe,p){return(typeof fe=="string"?co(fe):fe).create(p)}let ts=0;const bo=999,Lo=1e4;class Us{constructor(p){this._source=p,this._eos=!1}read(){if(this._eos)return null;const p=[];let F=0,Z=0;do{const de=this._source.read();if(de===null)return this._eos=!0,F===0?null:p.join("");if(de.length>0&&(p[F++]=de,Z+=de.length),Z>=64*1024)return p.join("")}while(!0)}}const Rs=()=>{throw new Error("Invalid change accessor")};let Ns=class ih extends y.JT{constructor(p,F,Z,de=null,pe,Ie,st){super(),this._undoRedoService=pe,this._languageService=Ie,this._languageConfigurationService=st,this._onWillDispose=this._register(new O.Q5),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new G(ft=>this.handleBeforeFireDecorationsChangedEvent(ft))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new O.Q5),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new O.Q5),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new O.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new O.Q5),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new O.Q5),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new O.Q5),this._eventEmitter=this._register(new q),this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new O.Q5),ts++,this.id="$model"+ts,this.isForSimpleWidget=Z.isForSimpleWidget,typeof de=="undefined"||de===null?this._associatedResource=A.o.parse("inmemory://model/"+ts):this._associatedResource=de,this._attachedEditorCount=0;const{textBuffer:ot,disposable:pt}=Ks(p,Z.defaultEOL);this._buffer=ot,this._bufferDisposable=pt,this._options=ih.resolveOptions(this._buffer,Z);const mt=this._buffer.getLineCount(),xt=this._buffer.getValueLengthInRange(new I.e(1,1,mt,this._buffer.getLineLength(mt)+1),0);Z.largeFileOptimizations?this._isTooLargeForTokenization=xt>ih.LARGE_FILE_SIZE_THRESHOLD||mt>ih.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=xt>ih.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageId=F,this._languageRegistryListener=this._languageConfigurationService.onDidChange(ft=>{ft.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=W.PJ(ts),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new go,this._commandManager=new oe.NL(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new En(this._languageService.languageIdCodec),this._semanticTokens=new ri(this._languageService.languageIdCodec),this._tokenization=new Ye(this,this._languageService.languageIdCodec),this._bracketPairColorizer=this._register(new me(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new ce.l(this,this._languageConfigurationService)),this._decorationProvider=this._register(new ie(this)),this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(p,F){if(F.detectIndentation){const Z=Ke(p,F.tabSize,F.insertSpaces);return new _.dJ({tabSize:Z.tabSize,indentSize:Z.tabSize,insertSpaces:Z.insertSpaces,trimAutoWhitespace:F.trimAutoWhitespace,defaultEOL:F.defaultEOL,bracketPairColorizationOptions:F.bracketPairColorizationOptions})}return new _.dJ({tabSize:F.tabSize,indentSize:F.indentSize,insertSpaces:F.insertSpaces,trimAutoWhitespace:F.trimAutoWhitespace,defaultEOL:F.defaultEOL,bracketPairColorizationOptions:F.bracketPairColorizationOptions})}onDidChangeContent(p){return this._eventEmitter.slowEvent(F=>p(F.contentChangedEvent))}onDidChangeContentOrInjectedText(p){return(0,y.F8)(this._eventEmitter.fastEvent(F=>p(F.rawContentChangedEvent)),this._onDidChangeInjectedText.event(F=>p(F)))}get bracketPairs(){return this._bracketPairColorizer}get guides(){return this._guidesTextModelPart}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(p){if(this._backgroundTokenizationState===2)return;const F=p?2:1;this._backgroundTokenizationState!==F&&(this._backgroundTokenizationState=F,this._bracketPairColorizer.handleDidChangeBackgroundTokenizationState(),this._onBackgroundTokenizationStateChanged.fire())}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const p=new An([],"",`
`,!1,!1,!0,!0);p.dispose(),this._buffer=p,this._bufferDisposable=y.JT.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(p,F){this._isDisposing||(this._bracketPairColorizer.handleDidChangeContent(F),this._tokenization.handleDidChangeContent(F),this._eventEmitter.fire(new Yn.fV(p,F)))}setValue(p){if(this._assertNotDisposed(),p===null)return;const{textBuffer:F,disposable:Z}=Ks(p,this._options.defaultEOL);this._setValueFromTextBuffer(F,Z)}_createContentChanged2(p,F,Z,de,pe,Ie,st){return{changes:[{range:p,rangeOffset:F,rangeLength:Z,text:de}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:pe,isRedoing:Ie,isFlush:st}}_setValueFromTextBuffer(p,F){this._assertNotDisposed();const Z=this.getFullModelRange(),de=this.getValueLengthInRange(Z),pe=this.getLineCount(),Ie=this.getLineMaxColumn(pe);this._buffer=p,this._bufferDisposable.dispose(),this._bufferDisposable=F,this._increaseVersionId(),this._tokens.flush(),this._semanticTokens.flush(),this._decorations=Object.create(null),this._decorationsTree=new go,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new Yn.dQ([new Yn.Jx],this._versionId,!1,!1),this._createContentChanged2(new I.e(1,1,pe,Ie),0,de,this.getValue(),!1,!1,!0))}setEOL(p){this._assertNotDisposed();const F=p===1?`\r
`:`
`;if(this._buffer.getEOL()===F)return;const Z=this.getFullModelRange(),de=this.getValueLengthInRange(Z),pe=this.getLineCount(),Ie=this.getLineMaxColumn(pe);this._onBeforeEOLChange(),this._buffer.setEOL(F),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new Yn.dQ([new Yn.CZ],this._versionId,!1,!1),this._createContentChanged2(new I.e(1,1,pe,Ie),0,de,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const p=this.getVersionId(),F=this._decorationsTree.collectNodesPostOrder();for(let Z=0,de=F.length;Z<de;Z++){const pe=F[Z],Ie=pe.range,st=pe.cachedAbsoluteStart-pe.start,ot=this._buffer.getOffsetAt(Ie.startLineNumber,Ie.startColumn),pt=this._buffer.getOffsetAt(Ie.endLineNumber,Ie.endColumn);pe.cachedAbsoluteStart=ot,pe.cachedAbsoluteEnd=pt,pe.cachedVersionId=p,pe.start=ot-st,pe.end=pt-st,sn(pe)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenization.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenization.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let p=0,F=0;const Z=this._buffer.getLineCount();for(let de=1;de<=Z;de++){const pe=this._buffer.getLineLength(de);pe>=Lo?F+=pe:p+=pe}return F>p}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(p){this._assertNotDisposed();const F=typeof p.tabSize!="undefined"?p.tabSize:this._options.tabSize,Z=typeof p.indentSize!="undefined"?p.indentSize:this._options.indentSize,de=typeof p.insertSpaces!="undefined"?p.insertSpaces:this._options.insertSpaces,pe=typeof p.trimAutoWhitespace!="undefined"?p.trimAutoWhitespace:this._options.trimAutoWhitespace,Ie=typeof p.bracketColorizationOptions!="undefined"?p.bracketColorizationOptions:this._options.bracketPairColorizationOptions,st=new _.dJ({tabSize:F,indentSize:Z,insertSpaces:de,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:pe,bracketPairColorizationOptions:Ie});if(this._options.equals(st))return;const ot=this._options.createChangeEvent(st);this._options=st,this._bracketPairColorizer.handleDidChangeOptions(ot),this._decorationProvider.handleDidChangeOptions(ot),this._onDidChangeOptions.fire(ot)}detectIndentation(p,F){this._assertNotDisposed();const Z=Ke(this._buffer,F,p);this.updateOptions({insertSpaces:Z.insertSpaces,tabSize:Z.tabSize,indentSize:Z.tabSize})}normalizeIndentation(p){return this._assertNotDisposed(),(0,Ki.x)(p,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(p=null){const F=this.findMatches(W.Qe.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(p,F.map(Z=>({range:Z.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(p){this._assertNotDisposed();const F=this._validatePosition(p.lineNumber,p.column,0);return this._buffer.getOffsetAt(F.lineNumber,F.column)}getPositionAt(p){this._assertNotDisposed();const F=Math.min(this._buffer.getLength(),Math.max(0,p));return this._buffer.getPositionAt(F)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(p){this._versionId=p}_overwriteAlternativeVersionId(p){this._alternativeVersionId=p}_overwriteInitialUndoRedoSnapshot(p){this._initialUndoRedoSnapshot=p}getValue(p,F=!1){this._assertNotDisposed();const Z=this.getFullModelRange(),de=this.getValueInRange(Z,p);return F?this._buffer.getBOM()+de:de}createSnapshot(p=!1){return new Us(this._buffer.createSnapshot(p))}getValueLength(p,F=!1){this._assertNotDisposed();const Z=this.getFullModelRange(),de=this.getValueLengthInRange(Z,p);return F?this._buffer.getBOM().length+de:de}getValueInRange(p,F=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(p),F)}getValueLengthInRange(p,F=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(p),F)}getCharacterCountInRange(p,F=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(p),F)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(p){if(this._assertNotDisposed(),p<1||p>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(p)}getLineLength(p){if(this._assertNotDisposed(),p<1||p>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(p)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(p){return this._assertNotDisposed(),1}getLineMaxColumn(p){if(this._assertNotDisposed(),p<1||p>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(p)+1}getLineFirstNonWhitespaceColumn(p){if(this._assertNotDisposed(),p<1||p>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(p)}getLineLastNonWhitespaceColumn(p){if(this._assertNotDisposed(),p<1||p>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(p)}_validateRangeRelaxedNoAllocations(p){const F=this._buffer.getLineCount(),Z=p.startLineNumber,de=p.startColumn;let pe=Math.floor(typeof Z=="number"&&!isNaN(Z)?Z:1),Ie=Math.floor(typeof de=="number"&&!isNaN(de)?de:1);if(pe<1)pe=1,Ie=1;else if(pe>F)pe=F,Ie=this.getLineMaxColumn(pe);else if(Ie<=1)Ie=1;else{const xt=this.getLineMaxColumn(pe);Ie>=xt&&(Ie=xt)}const st=p.endLineNumber,ot=p.endColumn;let pt=Math.floor(typeof st=="number"&&!isNaN(st)?st:1),mt=Math.floor(typeof ot=="number"&&!isNaN(ot)?ot:1);if(pt<1)pt=1,mt=1;else if(pt>F)pt=F,mt=this.getLineMaxColumn(pt);else if(mt<=1)mt=1;else{const xt=this.getLineMaxColumn(pt);mt>=xt&&(mt=xt)}return Z===pe&&de===Ie&&st===pt&&ot===mt&&p instanceof I.e&&!(p instanceof w.Y)?p:new I.e(pe,Ie,pt,mt)}_isValidPosition(p,F,Z){if(typeof p!="number"||typeof F!="number"||isNaN(p)||isNaN(F)||p<1||F<1||(p|0)!==p||(F|0)!==F)return!1;const de=this._buffer.getLineCount();if(p>de)return!1;if(F===1)return!0;const pe=this.getLineMaxColumn(p);if(F>pe)return!1;if(Z===1){const Ie=this._buffer.getLineCharCode(p,F-2);if(W.ZG(Ie))return!1}return!0}_validatePosition(p,F,Z){const de=Math.floor(typeof p=="number"&&!isNaN(p)?p:1),pe=Math.floor(typeof F=="number"&&!isNaN(F)?F:1),Ie=this._buffer.getLineCount();if(de<1)return new M.L(1,1);if(de>Ie)return new M.L(Ie,this.getLineMaxColumn(Ie));if(pe<=1)return new M.L(de,1);const st=this.getLineMaxColumn(de);if(pe>=st)return new M.L(de,st);if(Z===1){const ot=this._buffer.getLineCharCode(de,pe-2);if(W.ZG(ot))return new M.L(de,pe-1)}return new M.L(de,pe)}validatePosition(p){return this._assertNotDisposed(),p instanceof M.L&&this._isValidPosition(p.lineNumber,p.column,1)?p:this._validatePosition(p.lineNumber,p.column,1)}_isValidRange(p,F){const Z=p.startLineNumber,de=p.startColumn,pe=p.endLineNumber,Ie=p.endColumn;if(!this._isValidPosition(Z,de,0)||!this._isValidPosition(pe,Ie,0))return!1;if(F===1){const st=de>1?this._buffer.getLineCharCode(Z,de-2):0,ot=Ie>1&&Ie<=this._buffer.getLineLength(pe)?this._buffer.getLineCharCode(pe,Ie-2):0,pt=W.ZG(st),mt=W.ZG(ot);return!pt&&!mt}return!0}validateRange(p){if(this._assertNotDisposed(),p instanceof I.e&&!(p instanceof w.Y)&&this._isValidRange(p,1))return p;const Z=this._validatePosition(p.startLineNumber,p.startColumn,0),de=this._validatePosition(p.endLineNumber,p.endColumn,0),pe=Z.lineNumber,Ie=Z.column,st=de.lineNumber,ot=de.column;{const pt=Ie>1?this._buffer.getLineCharCode(pe,Ie-2):0,mt=ot>1&&ot<=this._buffer.getLineLength(st)?this._buffer.getLineCharCode(st,ot-2):0,xt=W.ZG(pt),ft=W.ZG(mt);return!xt&&!ft?new I.e(pe,Ie,st,ot):pe===st&&Ie===ot?new I.e(pe,Ie-1,st,ot-1):xt&&ft?new I.e(pe,Ie-1,st,ot+1):xt?new I.e(pe,Ie-1,st,ot):new I.e(pe,Ie,st,ot+1)}return new I.e(pe,Ie,st,ot)}modifyPosition(p,F){this._assertNotDisposed();const Z=this.getOffsetAt(p)+F;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,Z)))}getFullModelRange(){this._assertNotDisposed();const p=this.getLineCount();return new I.e(1,1,p,this.getLineMaxColumn(p))}findMatchesLineByLine(p,F,Z,de){return this._buffer.findMatchesLineByLine(p,F,Z,de)}findMatches(p,F,Z,de,pe,Ie,st=bo){this._assertNotDisposed();let ot=null;F!==null&&(Array.isArray(F)||(F=[F]),F.every(xt=>I.e.isIRange(xt))&&(ot=F.map(xt=>this.validateRange(xt)))),ot===null&&(ot=[this.getFullModelRange()]),ot=ot.sort((xt,ft)=>xt.startLineNumber-ft.startLineNumber||xt.startColumn-ft.startColumn);const pt=[];pt.push(ot.reduce((xt,ft)=>I.e.areIntersecting(xt,ft)?xt.plusRange(ft):(pt.push(xt),ft)));let mt;if(!Z&&p.indexOf(`
`)<0){const ft=new Ve.bc(p,Z,de,pe).parseSearchRequest();if(!ft)return[];mt=wt=>this.findMatchesLineByLine(wt,ft,Ie,st)}else mt=xt=>Ve.pM.findMatches(this,new Ve.bc(p,Z,de,pe),xt,Ie,st);return pt.map(mt).reduce((xt,ft)=>xt.concat(ft),[])}findNextMatch(p,F,Z,de,pe,Ie){this._assertNotDisposed();const st=this.validatePosition(F);if(!Z&&p.indexOf(`
`)<0){const pt=new Ve.bc(p,Z,de,pe).parseSearchRequest();if(!pt)return null;const mt=this.getLineCount();let xt=new I.e(st.lineNumber,st.column,mt,this.getLineMaxColumn(mt)),ft=this.findMatchesLineByLine(xt,pt,Ie,1);return Ve.pM.findNextMatch(this,new Ve.bc(p,Z,de,pe),st,Ie),ft.length>0||(xt=new I.e(1,1,st.lineNumber,this.getLineMaxColumn(st.lineNumber)),ft=this.findMatchesLineByLine(xt,pt,Ie,1),ft.length>0)?ft[0]:null}return Ve.pM.findNextMatch(this,new Ve.bc(p,Z,de,pe),st,Ie)}findPreviousMatch(p,F,Z,de,pe,Ie){this._assertNotDisposed();const st=this.validatePosition(F);return Ve.pM.findPreviousMatch(this,new Ve.bc(p,Z,de,pe),st,Ie)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(p){if((this.getEOL()===`
`?0:1)!==p)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(p)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(p){return p instanceof _.Qi?p:new _.Qi(p.identifier||null,this.validateRange(p.range),p.text,p.forceMoveMarkers||!1,p.isAutoWhitespaceEdit||!1,p._isTracked||!1)}_validateEditOperations(p){const F=[];for(let Z=0,de=p.length;Z<de;Z++)F[Z]=this._validateEditOperation(p[Z]);return F}pushEditOperations(p,F,Z){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(p,this._validateEditOperations(F),Z)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(p,F,Z){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const de=F.map(Ie=>({range:this.validateRange(Ie.range),text:Ie.text}));let pe=!0;if(p)for(let Ie=0,st=p.length;Ie<st;Ie++){const ot=p[Ie];let pt=!1;for(let mt=0,xt=de.length;mt<xt;mt++){const ft=de[mt].range,wt=ft.startLineNumber>ot.endLineNumber,_n=ot.startLineNumber>ft.endLineNumber;if(!wt&&!_n){pt=!0;break}}if(!pt){pe=!1;break}}if(pe)for(let Ie=0,st=this._trimAutoWhitespaceLines.length;Ie<st;Ie++){const ot=this._trimAutoWhitespaceLines[Ie],pt=this.getLineMaxColumn(ot);let mt=!0;for(let xt=0,ft=de.length;xt<ft;xt++){const wt=de[xt].range,_n=de[xt].text;if(!(ot<wt.startLineNumber||ot>wt.endLineNumber)&&!(ot===wt.startLineNumber&&wt.startColumn===pt&&wt.isEmpty()&&_n&&_n.length>0&&_n.charAt(0)===`
`)&&!(ot===wt.startLineNumber&&wt.startColumn===1&&wt.isEmpty()&&_n&&_n.length>0&&_n.charAt(_n.length-1)===`
`)){mt=!1;break}}if(mt){const xt=new I.e(ot,1,ot,pt);F.push(new _.Qi(null,xt,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(p,F,Z)}_applyUndo(p,F,Z,de){const pe=p.map(Ie=>{const st=this.getPositionAt(Ie.newPosition),ot=this.getPositionAt(Ie.newEnd);return{range:new I.e(st.lineNumber,st.column,ot.lineNumber,ot.column),text:Ie.oldText}});this._applyUndoRedoEdits(pe,F,!0,!1,Z,de)}_applyRedo(p,F,Z,de){const pe=p.map(Ie=>{const st=this.getPositionAt(Ie.oldPosition),ot=this.getPositionAt(Ie.oldEnd);return{range:new I.e(st.lineNumber,st.column,ot.lineNumber,ot.column),text:Ie.newText}});this._applyUndoRedoEdits(pe,F,!1,!0,Z,de)}_applyUndoRedoEdits(p,F,Z,de,pe,Ie){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=Z,this._isRedoing=de,this.applyEdits(p,!1),this.setEOL(F),this._overwriteAlternativeVersionId(pe)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(Ie),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(p,F=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const Z=this._validateEditOperations(p);return this._doApplyEdits(Z,F)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(p,F){const Z=this._buffer.getLineCount(),de=this._buffer.applyEdits(p,this._options.trimAutoWhitespace,F),pe=this._buffer.getLineCount(),Ie=de.changes;if(this._trimAutoWhitespaceLines=de.trimAutoWhitespaceLineNumbers,Ie.length!==0){for(let pt=0,mt=Ie.length;pt<mt;pt++){const xt=Ie[pt],[ft,wt,_n]=(0,Gn.Q)(xt.text);this._tokens.acceptEdit(xt.range,ft,wt),this._semanticTokens.acceptEdit(xt.range,ft,wt,_n,xt.text.length>0?xt.text.charCodeAt(0):0),this._decorationsTree.acceptReplace(xt.rangeOffset,xt.rangeLength,xt.text.length,xt.forceMoveMarkers)}const st=[];this._increaseVersionId();let ot=Z;for(let pt=0,mt=Ie.length;pt<mt;pt++){const xt=Ie[pt],[ft]=(0,Gn.Q)(xt.text);this._onDidChangeDecorations.fire();const wt=xt.range.startLineNumber,_n=xt.range.endLineNumber,$n=_n-wt,Wn=ft,fi=Math.min($n,Wn),Fi=Wn-$n,jt=pe-ot-Fi+wt,vi=jt,rs=jt+Wn,Fs=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new M.L(vi,1)),this.getOffsetAt(new M.L(rs,this.getLineMaxColumn(rs))),0),Js=Yn.gk.fromDecorations(Fs),gr=new C.H9(Js);for(let Zo=fi;Zo>=0;Zo--){const ls=wt+Zo,zi=jt+Zo;gr.takeFromEndWhile(Ss=>Ss.lineNumber>zi);const ks=gr.takeFromEndWhile(Ss=>Ss.lineNumber===zi);st.push(new Yn.rU(ls,this.getLineContent(zi),ks))}if(fi<$n){const Zo=wt+fi;st.push(new Yn.lN(Zo+1,_n))}if(fi<Wn){const Zo=new C.H9(Js),ls=wt+fi,zi=Wn-fi,ks=pe-ot-zi+ls+1,Ss=[],Mr=[];for(let Io=0;Io<zi;Io++){const us=ks+Io;Mr[Io]=this.getLineContent(us),Zo.takeWhile(uo=>uo.lineNumber<us),Ss[Io]=Zo.takeWhile(uo=>uo.lineNumber===us)}st.push(new Yn.Tx(ls+1,wt+Wn,Mr,Ss))}ot+=Fi}this._emitContentChangedEvent(new Yn.dQ(st,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:Ie,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return de.reverseEdits===null?void 0:de.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(p){if(p===null||p.size===0)return;const Z=[...p].map(de=>new Yn.rU(de,this.getLineContent(de),this._getInjectedTextInLine(de)));this._onDidChangeInjectedText.fire(new Yn.D8(Z))}changeDecorations(p,F=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(F,p)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(p,F){const Z={addDecoration:(pe,Ie)=>this._deltaDecorationsImpl(p,[],[{range:pe,options:Ie}])[0],changeDecoration:(pe,Ie)=>{this._changeDecorationImpl(pe,Ie)},changeDecorationOptions:(pe,Ie)=>{this._changeDecorationOptionsImpl(pe,tn(Ie))},removeDecoration:pe=>{this._deltaDecorationsImpl(p,[pe],[])},deltaDecorations:(pe,Ie)=>pe.length===0&&Ie.length===0?[]:this._deltaDecorationsImpl(p,pe,Ie)};let de=null;try{de=F(Z)}catch(pe){(0,z.dL)(pe)}return Z.addDecoration=Rs,Z.changeDecoration=Rs,Z.changeDecorationOptions=Rs,Z.removeDecoration=Rs,Z.deltaDecorations=Rs,de}deltaDecorations(p,F,Z=0){if(this._assertNotDisposed(),p||(p=[]),p.length===0&&F.length===0)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(Z,p,F)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(p){return this.getDecorationRange(p)}_setTrackedRange(p,F,Z){const de=p?this._decorations[p]:null;if(!de)return F?this._deltaDecorationsImpl(0,[],[{range:F,options:va[Z]}])[0]:null;if(!F)return this._decorationsTree.delete(de),delete this._decorations[de.id],null;const pe=this._validateRangeRelaxedNoAllocations(F),Ie=this._buffer.getOffsetAt(pe.startLineNumber,pe.startColumn),st=this._buffer.getOffsetAt(pe.endLineNumber,pe.endColumn);return this._decorationsTree.delete(de),de.reset(this.getVersionId(),Ie,st,pe),de.setOptions(va[Z]),this._decorationsTree.insert(de),de.id}removeAllDecorationsWithOwnerId(p){if(this._isDisposed)return;const F=this._decorationsTree.collectNodesFromOwner(p);for(let Z=0,de=F.length;Z<de;Z++){const pe=F[Z];this._decorationsTree.delete(pe),delete this._decorations[pe.id]}}getDecorationOptions(p){const F=this._decorations[p];return F?F.options:null}getDecorationRange(p){const F=this._decorations[p];return F?this._decorationsTree.getNodeRange(this,F):null}getLineDecorations(p,F=0,Z=!1){return p<1||p>this.getLineCount()?[]:this.getLinesDecorations(p,p,F,Z)}getLinesDecorations(p,F,Z=0,de=!1){const pe=this.getLineCount(),Ie=Math.min(pe,Math.max(1,p)),st=Math.min(pe,Math.max(1,F)),ot=this.getLineMaxColumn(st),pt=new I.e(Ie,1,st,ot),mt=this._getDecorationsInRange(pt,Z,de);return mt.push(...this._decorationProvider.getDecorationsInRange(pt,Z,de)),mt}getDecorationsInRange(p,F=0,Z=!1){const de=this.validateRange(p),pe=this._getDecorationsInRange(de,F,Z);return pe.push(...this._decorationProvider.getDecorationsInRange(de,F,Z)),pe}getOverviewRulerDecorations(p=0,F=!1){return this._decorationsTree.getAll(this,p,F,!0)}getInjectedTextDecorations(p=0){return this._decorationsTree.getAllInjectedText(this,p)}_getInjectedTextInLine(p){const F=this._buffer.getOffsetAt(p,1),Z=F+this._buffer.getLineLength(p),de=this._decorationsTree.getInjectedTextInInterval(this,F,Z,0);return Yn.gk.fromDecorations(de).filter(pe=>pe.lineNumber===p)}getAllDecorations(p=0,F=!1){let Z=this._decorationsTree.getAll(this,p,F,!1);return Z=Z.concat(this._decorationProvider.getAllDecorations(p,F)),Z}_getDecorationsInRange(p,F,Z){const de=this._buffer.getOffsetAt(p.startLineNumber,p.startColumn),pe=this._buffer.getOffsetAt(p.endLineNumber,p.endColumn);return this._decorationsTree.getAllInInterval(this,de,pe,F,Z)}getRangeAt(p,F){return this._buffer.getRangeAt(p,F-p)}_changeDecorationImpl(p,F){const Z=this._decorations[p];if(!Z)return;if(Z.options.after){const st=this.getDecorationRange(p);this._onDidChangeDecorations.recordLineAffectedByInjectedText(st.endLineNumber)}if(Z.options.before){const st=this.getDecorationRange(p);this._onDidChangeDecorations.recordLineAffectedByInjectedText(st.startLineNumber)}const de=this._validateRangeRelaxedNoAllocations(F),pe=this._buffer.getOffsetAt(de.startLineNumber,de.startColumn),Ie=this._buffer.getOffsetAt(de.endLineNumber,de.endColumn);this._decorationsTree.delete(Z),Z.reset(this.getVersionId(),pe,Ie,de),this._decorationsTree.insert(Z),this._onDidChangeDecorations.checkAffectedAndFire(Z.options),Z.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(de.endLineNumber),Z.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(de.startLineNumber)}_changeDecorationOptionsImpl(p,F){const Z=this._decorations[p];if(!Z)return;const de=!!(Z.options.overviewRuler&&Z.options.overviewRuler.color),pe=!!(F.overviewRuler&&F.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(Z.options),this._onDidChangeDecorations.checkAffectedAndFire(F),Z.options.after||F.after){const Ie=this._decorationsTree.getNodeRange(this,Z);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ie.endLineNumber)}if(Z.options.before||F.before){const Ie=this._decorationsTree.getNodeRange(this,Z);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ie.startLineNumber)}de!==pe?(this._decorationsTree.delete(Z),Z.setOptions(F),this._decorationsTree.insert(Z)):Z.setOptions(F)}_deltaDecorationsImpl(p,F,Z){const de=this.getVersionId(),pe=F.length;let Ie=0;const st=Z.length;let ot=0;const pt=new Array(st);for(;Ie<pe||ot<st;){let mt=null;if(Ie<pe){do mt=this._decorations[F[Ie++]];while(!mt&&Ie<pe);if(mt){if(mt.options.after){const xt=this._decorationsTree.getNodeRange(this,mt);this._onDidChangeDecorations.recordLineAffectedByInjectedText(xt.endLineNumber)}if(mt.options.before){const xt=this._decorationsTree.getNodeRange(this,mt);this._onDidChangeDecorations.recordLineAffectedByInjectedText(xt.startLineNumber)}this._decorationsTree.delete(mt),this._onDidChangeDecorations.checkAffectedAndFire(mt.options)}}if(ot<st){if(!mt){const Wn=++this._lastDecorationId,fi=`${this._instanceId};${Wn}`;mt=new Te(fi,0,0),this._decorations[fi]=mt}const xt=Z[ot],ft=this._validateRangeRelaxedNoAllocations(xt.range),wt=tn(xt.options),_n=this._buffer.getOffsetAt(ft.startLineNumber,ft.startColumn),$n=this._buffer.getOffsetAt(ft.endLineNumber,ft.endColumn);mt.ownerId=p,mt.reset(de,_n,$n,ft),mt.setOptions(wt),mt.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ft.endLineNumber),mt.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ft.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(wt),this._decorationsTree.insert(mt),pt[ot]=mt.id,ot++}else mt&&delete this._decorations[mt.id]}return pt}setTokens(p,F=!1){if(p.length!==0){const Z=[];for(let de=0,pe=p.length;de<pe;de++){const Ie=p[de];let st=0,ot=0,pt=!1;for(let mt=Ie.startLineNumber;mt<=Ie.endLineNumber;mt++)pt?(this._tokens.setTokens(this._languageId,mt-1,this._buffer.getLineLength(mt),Ie.getLineTokens(mt),!1),ot=mt):this._tokens.setTokens(this._languageId,mt-1,this._buffer.getLineLength(mt),Ie.getLineTokens(mt),!0)&&(pt=!0,st=mt,ot=mt);pt&&Z.push({fromLineNumber:st,toLineNumber:ot})}Z.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:Z})}this.handleTokenizationProgress(F)}setSemanticTokens(p,F){this._semanticTokens.set(p,F),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:p!==null,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(p,F){if(this.hasCompleteSemanticTokens())return;const Z=this.validateRange(this._semanticTokens.setPartial(p,F));this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:Z.startLineNumber,toLineNumber:Z.endLineNumber}]})}tokenizeViewport(p,F){p=Math.max(1,p),F=Math.min(this._buffer.getLineCount(),F),this._tokenization.tokenizeViewport(p,F)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(p){this._isDisposing||(this._bracketPairColorizer.handleDidChangeTokens(p),this._onDidChangeTokens.fire(p))}resetTokenization(){this._tokenization.reset()}forceTokenization(p){if(p<1||p>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(p)}isCheapToTokenize(p){return this._tokenization.isCheapToTokenize(p)}tokenizeIfCheap(p){this.isCheapToTokenize(p)&&this.forceTokenization(p)}getLineTokens(p){if(p<1||p>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(p)}_getLineTokens(p){const F=this.getLineContent(p),Z=this._tokens.getTokens(this._languageId,p-1,F);return this._semanticTokens.addSparseTokens(p,Z)}getLanguageId(){return this._languageId}setMode(p){if(this._languageId===p)return;const F={oldLanguage:this._languageId,newLanguage:p};this._languageId=p,this._bracketPairColorizer.handleDidChangeLanguage(F),this._tokenization.handleDidChangeLanguage(F),this._onDidChangeLanguage.fire(F),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(p,F){const Z=this.validatePosition(new M.L(p,F)),de=this.getLineTokens(Z.lineNumber);return de.getLanguageId(de.findTokenIndexAtOffset(Z.column-1))}getTokenTypeIfInsertingCharacter(p,F,Z){const de=this.validatePosition(new M.L(p,F));return this._tokenization.getTokenTypeIfInsertingCharacter(de,Z)}tokenizeLineWithEdit(p,F,Z){const de=this.validatePosition(p);return this._tokenization.tokenizeLineWithEdit(de,F,Z)}getLanguageConfiguration(p){return this._languageConfigurationService.getLanguageConfiguration(p)}getWordAtPosition(p){this._assertNotDisposed();const F=this.validatePosition(p),Z=this.getLineContent(F.lineNumber),de=this._getLineTokens(F.lineNumber),pe=de.findTokenIndexAtOffset(F.column-1),[Ie,st]=ih._findLanguageBoundaries(de,pe),ot=(0,ki.t2)(F.column,this.getLanguageConfiguration(de.getLanguageId(pe)).getWordDefinition(),Z.substring(Ie,st),Ie);if(ot&&ot.startColumn<=p.column&&p.column<=ot.endColumn)return ot;if(pe>0&&Ie===F.column-1){const[pt,mt]=ih._findLanguageBoundaries(de,pe-1),xt=(0,ki.t2)(F.column,this.getLanguageConfiguration(de.getLanguageId(pe-1)).getWordDefinition(),Z.substring(pt,mt),pt);if(xt&&xt.startColumn<=p.column&&p.column<=xt.endColumn)return xt}return null}static _findLanguageBoundaries(p,F){const Z=p.getLanguageId(F);let de=0;for(let Ie=F;Ie>=0&&p.getLanguageId(Ie)===Z;Ie--)de=p.getStartOffset(Ie);let pe=p.getLineContent().length;for(let Ie=F,st=p.getCount();Ie<st&&p.getLanguageId(Ie)===Z;Ie++)pe=p.getEndOffset(Ie);return[de,pe]}getWordUntilPosition(p){const F=this.getWordAtPosition(p);return F?{word:F.word.substr(0,p.column-F.startColumn),startColumn:F.startColumn,endColumn:p.column}:{word:"",startColumn:p.column,endColumn:p.column}}normalizePosition(p,F){return p}getLineIndentColumn(p){return Vo(this.getLineContent(p))+1}};Ns.MODEL_SYNC_LIMIT=50*1024*1024,Ns.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,Ns.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,Ns.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:zs.D.tabSize,indentSize:zs.D.indentSize,insertSpaces:zs.D.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:zs.D.trimAutoWhitespace,largeFileOptimizations:zs.D.largeFileOptimizations,bracketPairColorizationOptions:zs.D.bracketPairColorizationOptions},Ns=Os([ai(4,Xs.tJ),ai(5,qi.O),ai(6,ui.c_)],Ns);function Vo(fe){let p=0;for(const F of fe)if(F===" "||F==="	")p++;else break;return p}function Po(fe){return!!(fe.options.overviewRuler&&fe.options.overviewRuler.color)}function $o(fe){return!!fe.options.after||!!fe.options.before}class go{constructor(){this._decorationsTree0=new Et,this._decorationsTree1=new Et,this._injectedTextDecorationsTree=new Et}ensureAllNodesHaveRanges(p){this.getAll(p,0,!1,!1)}_ensureNodesHaveRanges(p,F){for(const Z of F)Z.range===null&&(Z.range=p.getRangeAt(Z.cachedAbsoluteStart,Z.cachedAbsoluteEnd));return F}getAllInInterval(p,F,Z,de,pe){const Ie=p.getVersionId(),st=this._intervalSearch(F,Z,de,pe,Ie);return this._ensureNodesHaveRanges(p,st)}_intervalSearch(p,F,Z,de,pe){const Ie=this._decorationsTree0.intervalSearch(p,F,Z,de,pe),st=this._decorationsTree1.intervalSearch(p,F,Z,de,pe),ot=this._injectedTextDecorationsTree.intervalSearch(p,F,Z,de,pe);return Ie.concat(st).concat(ot)}getInjectedTextInInterval(p,F,Z,de){const pe=p.getVersionId(),Ie=this._injectedTextDecorationsTree.intervalSearch(F,Z,de,!1,pe);return this._ensureNodesHaveRanges(p,Ie).filter(st=>st.options.showIfCollapsed||!st.range.isEmpty())}getAllInjectedText(p,F){const Z=p.getVersionId(),de=this._injectedTextDecorationsTree.search(F,!1,Z);return this._ensureNodesHaveRanges(p,de).filter(pe=>pe.options.showIfCollapsed||!pe.range.isEmpty())}getAll(p,F,Z,de){const pe=p.getVersionId(),Ie=this._search(F,Z,de,pe);return this._ensureNodesHaveRanges(p,Ie)}_search(p,F,Z,de){if(Z)return this._decorationsTree1.search(p,F,de);{const pe=this._decorationsTree0.search(p,F,de),Ie=this._decorationsTree1.search(p,F,de),st=this._injectedTextDecorationsTree.search(p,F,de);return pe.concat(Ie).concat(st)}}collectNodesFromOwner(p){const F=this._decorationsTree0.collectNodesFromOwner(p),Z=this._decorationsTree1.collectNodesFromOwner(p),de=this._injectedTextDecorationsTree.collectNodesFromOwner(p);return F.concat(Z).concat(de)}collectNodesPostOrder(){const p=this._decorationsTree0.collectNodesPostOrder(),F=this._decorationsTree1.collectNodesPostOrder(),Z=this._injectedTextDecorationsTree.collectNodesPostOrder();return p.concat(F).concat(Z)}insert(p){$o(p)?this._injectedTextDecorationsTree.insert(p):Po(p)?this._decorationsTree1.insert(p):this._decorationsTree0.insert(p)}delete(p){$o(p)?this._injectedTextDecorationsTree.delete(p):Po(p)?this._decorationsTree1.delete(p):this._decorationsTree0.delete(p)}getNodeRange(p,F){const Z=p.getVersionId();return F.cachedVersionId!==Z&&this._resolveNode(F,Z),F.range===null&&(F.range=p.getRangeAt(F.cachedAbsoluteStart,F.cachedAbsoluteEnd)),F.range}_resolveNode(p,F){$o(p)?this._injectedTextDecorationsTree.resolveNode(p,F):Po(p)?this._decorationsTree1.resolveNode(p,F):this._decorationsTree0.resolveNode(p,F)}acceptReplace(p,F,Z,de){this._decorationsTree0.acceptReplace(p,F,Z,de),this._decorationsTree1.acceptReplace(p,F,Z,de),this._injectedTextDecorationsTree.acceptReplace(p,F,Z,de)}}function Is(fe){return fe.replace(/[^a-z0-9\-_]/gi," ")}class Go{constructor(p){this.color=p.color||"",this.darkColor=p.darkColor||""}}class qo extends Go{constructor(p){super(p),this._resolvedColor=null,this.position=typeof p.position=="number"?p.position:_.sh.Center}getColor(p){return this._resolvedColor||(p.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,p):this._resolvedColor=this._resolveColor(this.color,p)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(p,F){if(typeof p=="string")return p;const Z=p?F.getColor(p.id):null;return Z?Z.toString():""}}class Xi extends Go{constructor(p){super(p),this.position=p.position}getColor(p){return this._resolvedColor||(p.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,p):this._resolvedColor=this._resolveColor(this.color,p)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(p,F){return typeof p=="string"?d.Il.fromHex(p):F.getColor(p.id)}}class Gs{constructor(p){this.content=p.content||"",this.inlineClassName=p.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=p.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=p.attachedData||null,this.cursorStops=p.cursorStops||null}static from(p){return p instanceof Gs?p:new Gs(p)}}class es{constructor(p){var F,Z;this.description=p.description,this.stickiness=p.stickiness||0,this.zIndex=p.zIndex||0,this.className=p.className?Is(p.className):null,this.hoverMessage=p.hoverMessage||null,this.glyphMarginHoverMessage=p.glyphMarginHoverMessage||null,this.isWholeLine=p.isWholeLine||!1,this.showIfCollapsed=p.showIfCollapsed||!1,this.collapseOnReplaceEdit=p.collapseOnReplaceEdit||!1,this.overviewRuler=p.overviewRuler?new qo(p.overviewRuler):null,this.minimap=p.minimap?new Xi(p.minimap):null,this.glyphMarginClassName=p.glyphMarginClassName?Is(p.glyphMarginClassName):null,this.linesDecorationsClassName=p.linesDecorationsClassName?Is(p.linesDecorationsClassName):null,this.firstLineDecorationClassName=p.firstLineDecorationClassName?Is(p.firstLineDecorationClassName):null,this.marginClassName=p.marginClassName?Is(p.marginClassName):null,this.inlineClassName=p.inlineClassName?Is(p.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=p.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=p.beforeContentClassName?Is(p.beforeContentClassName):null,this.afterContentClassName=p.afterContentClassName?Is(p.afterContentClassName):null,this.after=p.after?Gs.from(p.after):null,this.before=p.before?Gs.from(p.before):null,this.hideInCommentTokens=(F=p.hideInCommentTokens)!==null&&F!==void 0?F:!1,this.hideInStringTokens=(Z=p.hideInStringTokens)!==null&&Z!==void 0?Z:!1}static register(p){return new es(p)}static createDynamic(p){return new es(p)}}es.EMPTY=es.register({description:"empty"});const va=[es.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),es.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),es.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),es.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function tn(fe){return fe instanceof es?fe:es.createDynamic(fe)}class G extends y.JT{constructor(p){super(),this.handleBeforeFire=p,this._actual=this._register(new O.Q5),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var p;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const F={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(F)}(p=this._affectedInjectedTextLines)===null||p===void 0||p.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(p){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(p)}checkAffectedAndFire(p){this._affectsMinimap||(this._affectsMinimap=!!(p.minimap&&p.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(p.overviewRuler&&p.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class q extends y.JT{constructor(){super(),this._fastEmitter=this._register(new O.Q5),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new O.Q5),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(p=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=p;const F=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(F),this._slowEmitter.fire(F)}}fire(p){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(p):this._deferredEvent=p;return}this._fastEmitter.fire(p),this._slowEmitter.fire(p)}}},21641:function(it,Ee,l){"use strict";l.d(Ee,{bc:function(){return A},cM:function(){return a},iE:function(){return I},pM:function(){return _},sz:function(){return x}});var C=l(76311),d=l(75328),z=l(7747),O=l(50757),y=l(62420);const W=999;class A{constructor(T,N,L,R){this.searchString=T,this.isRegex=N,this.matchCase=L,this.wordSeparators=R}parseSearchRequest(){if(this.searchString==="")return null;let T;this.isRegex?T=M(this.searchString):T=this.searchString.indexOf(`
`)>=0;let N=null;try{N=C.GF(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:T,global:!0,unicode:!0})}catch(R){return null}if(!N)return null;let L=!this.isRegex&&!T;return L&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(L=this.matchCase),new y.Tx(N,this.wordSeparators?(0,d.u)(this.wordSeparators):null,L?this.searchString:null)}}function M(k){if(!k||k.length===0)return!1;for(let T=0,N=k.length;T<N;T++)if(k.charCodeAt(T)===92){if(T++,T>=N)break;const R=k.charCodeAt(T);if(R===110||R===114||R===87)return!0}return!1}function I(k,T,N){if(!N)return new y.tk(k,null);const L=[];for(let R=0,b=T.length;R<b;R++)L[R]=T[R];return new y.tk(k,L)}class w{constructor(T){const N=[];let L=0;for(let R=0,b=T.length;R<b;R++)T.charCodeAt(R)===10&&(N[L++]=R);this._lineFeedsOffsets=N}findLineFeedCountBeforeOffset(T){const N=this._lineFeedsOffsets;let L=0,R=N.length-1;if(R===-1||T<=N[0])return 0;for(;L<R;){const b=L+((R-L)/2>>0);N[b]>=T?R=b-1:N[b+1]>=T?(L=b,R=b):L=b+1}return L+1}}class _{static findMatches(T,N,L,R,b){const P=N.parseSearchRequest();return P?P.regex.multiline?this._doFindMatchesMultiline(T,L,new x(P.wordSeparators,P.regex),R,b):this._doFindMatchesLineByLine(T,L,P,R,b):[]}static _getMultilineMatchRange(T,N,L,R,b,P){let V,H=0;R?(H=R.findLineFeedCountBeforeOffset(b),V=N+b+H):V=N+b;let ee;if(R){const re=R.findLineFeedCountBeforeOffset(b+P.length)-H;ee=V+P.length+re}else ee=V+P.length;const ae=T.getPositionAt(V),me=T.getPositionAt(ee);return new O.e(ae.lineNumber,ae.column,me.lineNumber,me.column)}static _doFindMatchesMultiline(T,N,L,R,b){const P=T.getOffsetAt(N.getStartPosition()),V=T.getValueInRange(N,1),H=T.getEOL()===`\r
`?new w(V):null,ee=[];let ae=0,me;for(L.reset(0);me=L.next(V);)if(ee[ae++]=I(this._getMultilineMatchRange(T,P,V,H,me.index,me[0]),me,R),ae>=b)return ee;return ee}static _doFindMatchesLineByLine(T,N,L,R,b){const P=[];let V=0;if(N.startLineNumber===N.endLineNumber){const ee=T.getLineContent(N.startLineNumber).substring(N.startColumn-1,N.endColumn-1);return V=this._findMatchesInLine(L,ee,N.startLineNumber,N.startColumn-1,V,P,R,b),P}const H=T.getLineContent(N.startLineNumber).substring(N.startColumn-1);V=this._findMatchesInLine(L,H,N.startLineNumber,N.startColumn-1,V,P,R,b);for(let ee=N.startLineNumber+1;ee<N.endLineNumber&&V<b;ee++)V=this._findMatchesInLine(L,T.getLineContent(ee),ee,0,V,P,R,b);if(V<b){const ee=T.getLineContent(N.endLineNumber).substring(0,N.endColumn-1);V=this._findMatchesInLine(L,ee,N.endLineNumber,0,V,P,R,b)}return P}static _findMatchesInLine(T,N,L,R,b,P,V,H){const ee=T.wordSeparators;if(!V&&T.simpleSearch){const ge=T.simpleSearch,re=ge.length,se=N.length;let X=-re;for(;(X=N.indexOf(ge,X+re))!==-1;)if((!ee||a(ee,N,se,X,re))&&(P[b++]=new y.tk(new O.e(L,X+1+R,L,X+1+re+R),null),b>=H))return b;return b}const ae=new x(T.wordSeparators,T.regex);let me;ae.reset(0);do if(me=ae.next(N),me&&(P[b++]=I(new O.e(L,me.index+1+R,L,me.index+1+me[0].length+R),me,V),b>=H))return b;while(me);return b}static findNextMatch(T,N,L,R){const b=N.parseSearchRequest();if(!b)return null;const P=new x(b.wordSeparators,b.regex);return b.regex.multiline?this._doFindNextMatchMultiline(T,L,P,R):this._doFindNextMatchLineByLine(T,L,P,R)}static _doFindNextMatchMultiline(T,N,L,R){const b=new z.L(N.lineNumber,1),P=T.getOffsetAt(b),V=T.getLineCount(),H=T.getValueInRange(new O.e(b.lineNumber,b.column,V,T.getLineMaxColumn(V)),1),ee=T.getEOL()===`\r
`?new w(H):null;L.reset(N.column-1);let ae=L.next(H);return ae?I(this._getMultilineMatchRange(T,P,H,ee,ae.index,ae[0]),ae,R):N.lineNumber!==1||N.column!==1?this._doFindNextMatchMultiline(T,new z.L(1,1),L,R):null}static _doFindNextMatchLineByLine(T,N,L,R){const b=T.getLineCount(),P=N.lineNumber,V=T.getLineContent(P),H=this._findFirstMatchInLine(L,V,P,N.column,R);if(H)return H;for(let ee=1;ee<=b;ee++){const ae=(P+ee-1)%b,me=T.getLineContent(ae+1),ge=this._findFirstMatchInLine(L,me,ae+1,1,R);if(ge)return ge}return null}static _findFirstMatchInLine(T,N,L,R,b){T.reset(R-1);const P=T.next(N);return P?I(new O.e(L,P.index+1,L,P.index+1+P[0].length),P,b):null}static findPreviousMatch(T,N,L,R){const b=N.parseSearchRequest();if(!b)return null;const P=new x(b.wordSeparators,b.regex);return b.regex.multiline?this._doFindPreviousMatchMultiline(T,L,P,R):this._doFindPreviousMatchLineByLine(T,L,P,R)}static _doFindPreviousMatchMultiline(T,N,L,R){const b=this._doFindMatchesMultiline(T,new O.e(1,1,N.lineNumber,N.column),L,R,10*W);if(b.length>0)return b[b.length-1];const P=T.getLineCount();return N.lineNumber!==P||N.column!==T.getLineMaxColumn(P)?this._doFindPreviousMatchMultiline(T,new z.L(P,T.getLineMaxColumn(P)),L,R):null}static _doFindPreviousMatchLineByLine(T,N,L,R){const b=T.getLineCount(),P=N.lineNumber,V=T.getLineContent(P).substring(0,N.column-1),H=this._findLastMatchInLine(L,V,P,R);if(H)return H;for(let ee=1;ee<=b;ee++){const ae=(b+P-ee-1)%b,me=T.getLineContent(ae+1),ge=this._findLastMatchInLine(L,me,ae+1,R);if(ge)return ge}return null}static _findLastMatchInLine(T,N,L,R){let b=null,P;for(T.reset(0);P=T.next(N);)b=I(new O.e(L,P.index+1,L,P.index+1+P[0].length),P,R);return b}}function f(k,T,N,L,R){if(L===0)return!0;const b=T.charCodeAt(L-1);if(k.get(b)!==0||b===13||b===10)return!0;if(R>0){const P=T.charCodeAt(L);if(k.get(P)!==0)return!0}return!1}function m(k,T,N,L,R){if(L+R===N)return!0;const b=T.charCodeAt(L+R);if(k.get(b)!==0||b===13||b===10)return!0;if(R>0){const P=T.charCodeAt(L+R-1);if(k.get(P)!==0)return!0}return!1}function a(k,T,N,L,R){return f(k,T,N,L,R)&&m(k,T,N,L,R)}class x{constructor(T,N){this._wordSeparators=T,this._searchRegex=N,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(T){this._searchRegex.lastIndex=T,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(T){const N=T.length;let L;do{if(this._prevMatchStartIndex+this._prevMatchLength===N||(L=this._searchRegex.exec(T),!L))return null;const R=L.index,b=L[0].length;if(R===this._prevMatchStartIndex&&b===this._prevMatchLength){if(b===0){C.ZH(T,N,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=R,this._prevMatchLength=b,!this._wordSeparators||a(this._wordSeparators,T,N,R,b))return L}while(L);return null}}},68270:function(it,Ee,l){"use strict";l.d(Ee,{q:function(){return C}});function C(d,z){let O=0,y=0;const W=d.length;for(;y<W;){const A=d.charCodeAt(y);if(A===32)O++;else if(A===9)O=O-O%z+z;else break;y++}return y===W?-1:O}},41136:function(it,Ee,l){"use strict";l.d(Ee,{p:function(){return z}});var C=l(95024);const d="editorWorkerService",z=(0,C.yh)(d)},57871:function(it,Ee,l){"use strict";l.d(Ee,{OG:function(){return ae},ML:function(){return b},KO:function(){return H},Jc:function(){return L},Vl:function(){return k},Vj:function(){return T}});var C=l(34484),d=l(91273),z=l(47087),O=l(20169),y=l(58829),W=l(37061),A=l(1015),M=l(24180);function I(me){for(let ge=0,re=me.length;ge<re;ge+=4){const se=me[ge+0],X=me[ge+1],$=me[ge+2],j=me[ge+3];me[ge+0]=j,me[ge+1]=$,me[ge+2]=X,me[ge+3]=se}}function w(me){const ge=new Uint8Array(me.buffer,me.byteOffset,me.length*4);return M.r()||I(ge),A.KN.wrap(ge)}function _(me){const ge=new Uint32Array(f(me));let re=0;if(ge[re++]=me.id,me.type==="full")ge[re++]=1,ge[re++]=me.data.length,ge.set(me.data,re),re+=me.data.length;else{ge[re++]=2,ge[re++]=me.deltas.length;for(const se of me.deltas)ge[re++]=se.start,ge[re++]=se.deleteCount,se.data?(ge[re++]=se.data.length,ge.set(se.data,re),re+=se.data.length):ge[re++]=0}return w(ge)}function f(me){let ge=0;if(ge+=1+1,me.type==="full")ge+=1+me.data.length;else{ge+=1,ge+=(1+1+1)*me.deltas.length;for(const re of me.deltas)re.data&&(ge+=re.data.length)}return ge}var m=l(50757),a=l(85231),x=function(me,ge,re,se){function X($){return $ instanceof re?$:new re(function(j){j($)})}return new(re||(re=Promise))(function($,j){function ie(ce){try{oe(se.next(ce))}catch(we){j(we)}}function J(ce){try{oe(se.throw(ce))}catch(we){j(we)}}function oe(ce){ce.done?$(ce.value):X(ce.value).then(ie,J)}oe((se=se.apply(me,ge||[])).next())})};function k(me){return me&&!!me.data}function T(me){return me&&Array.isArray(me.edits)}class N{constructor(ge,re,se){this.provider=ge,this.tokens=re,this.error=se}}function L(me,ge){return me.has(ge)}function R(me,ge){const re=me.orderedGroups(ge);return re.length>0?re[0]:[]}function b(me,ge,re,se,X){return x(this,void 0,void 0,function*(){const $=R(me,ge),j=yield Promise.all($.map(ie=>x(this,void 0,void 0,function*(){let J,oe=null;try{J=yield ie.provideDocumentSemanticTokens(ge,ie===re?se:null,X)}catch(ce){oe=ce,J=null}return(!J||!k(J)&&!T(J))&&(J=null),new N(ie,J,oe)})));for(const ie of j){if(ie.error)throw ie.error;if(ie.tokens)return ie}return j.length>0?j[0]:null})}function P(me,ge){const re=me.orderedGroups(ge);return re.length>0?re[0]:null}class V{constructor(ge,re){this.provider=ge,this.tokens=re}}function H(me,ge){return me.has(ge)}function ee(me,ge){const re=me.orderedGroups(ge);return re.length>0?re[0]:[]}function ae(me,ge,re,se){return x(this,void 0,void 0,function*(){const X=ee(me,ge),$=yield Promise.all(X.map(j=>x(this,void 0,void 0,function*(){let ie;try{ie=yield j.provideDocumentRangeSemanticTokens(ge,re,se)}catch(J){(0,d.Cp)(J),ie=null}return(!ie||!k(ie))&&(ie=null),new V(j,ie)})));for(const j of $)if(j.tokens)return j;return $.length>0?$[0]:null})}y.P0.registerCommand("_provideDocumentSemanticTokensLegend",(me,...ge)=>x(void 0,void 0,void 0,function*(){const[re]=ge;(0,W.p_)(re instanceof z.o);const se=me.get(O.q).getModel(re);if(!se)return;const{documentSemanticTokensProvider:X}=me.get(a.p),$=P(X,se);return $?$[0].getLegend():me.get(y.Hy).executeCommand("_provideDocumentRangeSemanticTokensLegend",re)})),y.P0.registerCommand("_provideDocumentSemanticTokens",(me,...ge)=>x(void 0,void 0,void 0,function*(){const[re]=ge;(0,W.p_)(re instanceof z.o);const se=me.get(O.q).getModel(re);if(!se)return;const{documentSemanticTokensProvider:X}=me.get(a.p);if(!L(X,se))return me.get(y.Hy).executeCommand("_provideDocumentRangeSemanticTokens",re,se.getFullModelRange());const $=yield b(X,se,null,null,C.T.None);if(!$)return;const{provider:j,tokens:ie}=$;if(!ie||!k(ie))return;const J=_({id:0,type:"full",data:ie.data});return ie.resultId&&j.releaseDocumentSemanticTokens(ie.resultId),J})),y.P0.registerCommand("_provideDocumentRangeSemanticTokensLegend",(me,...ge)=>x(void 0,void 0,void 0,function*(){const[re,se]=ge;(0,W.p_)(re instanceof z.o);const X=me.get(O.q).getModel(re);if(!X)return;const{documentRangeSemanticTokensProvider:$}=me.get(a.p),j=ee($,X);if(j.length===0)return;if(j.length===1)return j[0].getLegend();if(!se||!m.e.isIRange(se))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),j[0].getLegend();const ie=yield ae($,X,m.e.lift(se),C.T.None);if(!!ie)return ie.provider.getLegend()})),y.P0.registerCommand("_provideDocumentRangeSemanticTokens",(me,...ge)=>x(void 0,void 0,void 0,function*(){const[re,se]=ge;(0,W.p_)(re instanceof z.o),(0,W.p_)(m.e.isIRange(se));const X=me.get(O.q).getModel(re);if(!X)return;const{documentRangeSemanticTokensProvider:$}=me.get(a.p),j=yield ae($,X,m.e.lift(se),C.T.None);if(!(!j||!j.tokens))return _({id:0,type:"full",data:j.tokens.data})}))},56708:function(it,Ee,l){"use strict";l.d(Ee,{A:function(){return I}});var C=l(53099),d=l(30860),z=l(48641),O=l(74896),y=l(95024),W=l(76057),A=function(m,a,x,k){var T=arguments.length,N=T<3?a:k===null?k=Object.getOwnPropertyDescriptor(a,x):k,L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(m,a,x,k);else for(var R=m.length-1;R>=0;R--)(L=m[R])&&(N=(T<3?L(N):T>3?L(a,x,N):L(a,x))||N);return T>3&&N&&Object.defineProperty(a,x,N),N},M=function(m,a){return function(x,k){a(x,k,m)}};const I=(0,y.yh)("ILanguageFeatureDebounceService");var w;(function(m){const a=new WeakMap;let x=0;function k(T){let N=a.get(T);return N===void 0&&(N=++x,a.set(T,N)),N}m.of=k})(w||(w={}));class _{constructor(a,x,k,T,N,L){this._logService=a,this._name=x,this._registry=k,this._default=T,this._min=N,this._max=L,this._cache=new d.z6(50,.7)}_key(a){return a.id+this._registry.all(a).reduce((x,k)=>(0,C.SP)(w.of(k),x),0)}get(a){const x=this._key(a),k=this._cache.get(x);return k?(0,z.uZ)(k.value,this._min,this._max):this.default()}update(a,x){const k=this._key(a);let T=this._cache.get(k);T||(T=new z.N(6),this._cache.set(k,T));const N=(0,z.uZ)(T.update(x),this._min,this._max);return this._logService.trace(`[DEBOUNCE: ${this._name}] for ${a.uri.toString()} is ${N}ms`),N}_overall(){const a=new z.nM;for(const[,x]of this._cache)a.update(x.value);return a.value}default(){const a=this._overall()|0||this._default;return(0,z.uZ)(a,this._min,this._max)}}let f=class{constructor(a){this._logService=a,this._data=new Map}for(a,x,k){var T,N,L;const R=(T=k==null?void 0:k.min)!==null&&T!==void 0?T:50,b=(N=k==null?void 0:k.max)!==null&&N!==void 0?N:Math.pow(R,2),P=(L=k==null?void 0:k.key)!==null&&L!==void 0?L:void 0,V=`${w.of(a)},${R}${P?","+P:""}`;let H=this._data.get(V);return H||(H=new _(this._logService,x,a,this._overallAverage()|0||R*1.5,R,b),this._data.set(V,H)),H}_overallAverage(){let a=new z.nM;for(let x of this._data.values())a.update(x.default());return a.value}};f=A([M(0,W.VZ)],f),(0,O.z)(I,f,!0)},85231:function(it,Ee,l){"use strict";l.d(Ee,{p:function(){return d}});var C=l(95024);const d=(0,C.yh)("ILanguageFeaturesService")},42641:function(it,Ee,l){"use strict";l.d(Ee,{i:function(){return d}});var C=l(95024);const d=(0,C.yh)("markerDecorationsService")},20169:function(it,Ee,l){"use strict";l.d(Ee,{q:function(){return d}});var C=l(95024);const d=(0,C.yh)("modelService")},14334:function(it,Ee,l){"use strict";l.d(Ee,{b$:function(){return ie},e3:function(){return J},tw:function(){return oe}});var C=l(60774),d=l(1405),z=l(24180),O=l(91273),y=l(12736),W=l(63891),A=l(85014),M=l(50661),I=l(20169),w=l(67338),_=l(68491),f=l(57186),m=l(34484),a=l(63655),x=l(76057),k=l(25055),T=l(53099),N=l(59713),L=l(22818),R=l(71026),b=l(57871),P=l(42893),V=l(34181),H=l(56708),ee=l(57734),ae=l(85231),me=function(De,be,We,et){var Kt=arguments.length,_t=Kt<3?be:et===null?et=Object.getOwnPropertyDescriptor(be,We):et,tt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_t=Reflect.decorate(De,be,We,et);else for(var kt=De.length-1;kt>=0;kt--)(tt=De[kt])&&(_t=(Kt<3?tt(_t):Kt>3?tt(be,We,_t):tt(be,We))||_t);return Kt>3&&_t&&Object.defineProperty(be,We,_t),_t},ge=function(De,be){return function(We,et){be(We,et,De)}};function re(De){return De.toString()}function se(De){const be=new T.yP,We=De.createSnapshot();let et;for(;et=We.read();)be.update(et);return be.digest()}class X{constructor(be,We,et){this._modelEventListeners=new d.SL,this.model=be,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(be.onWillDispose(()=>We(be))),this._modelEventListeners.add(be.onDidChangeLanguage(Kt=>et(be,Kt)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(be){this._disposeLanguageSelection(),this._languageSelection=be,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(be.languageId)),this.model.setMode(be.languageId)}}const $=z.IJ||z.dz?1:2;class j{constructor(be,We,et,Kt,_t,tt,kt,Ut){this.uri=be,this.initialUndoRedoSnapshot=We,this.time=et,this.sharesUndoRedoStack=Kt,this.heapSize=_t,this.sha1=tt,this.versionId=kt,this.alternativeVersionId=Ut}}let ie=class pg extends d.JT{constructor(be,We,et,Kt,_t,tt,kt,Ut,Ft){super(),this._configurationService=be,this._resourcePropertiesService=We,this._themeService=et,this._logService=Kt,this._undoRedoService=_t,this._languageService=tt,this._languageConfigurationService=kt,this._languageFeatureDebounceService=Ut,this._onModelAdded=this._register(new C.Q5),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new C.Q5),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new C.Q5),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new we(this._themeService,this._languageService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new ce(this._semanticStyling,this,this._themeService,this._configurationService,this._languageFeatureDebounceService,Ft))}static _readModelOptions(be,We){var et;let Kt=W.D.tabSize;if(be.editor&&typeof be.editor.tabSize!="undefined"){const Wt=parseInt(be.editor.tabSize,10);isNaN(Wt)||(Kt=Wt),Kt<1&&(Kt=1)}let _t=Kt;if(be.editor&&typeof be.editor.indentSize!="undefined"&&be.editor.indentSize!=="tabSize"){const Wt=parseInt(be.editor.indentSize,10);isNaN(Wt)||(_t=Wt),_t<1&&(_t=1)}let tt=W.D.insertSpaces;be.editor&&typeof be.editor.insertSpaces!="undefined"&&(tt=be.editor.insertSpaces==="false"?!1:Boolean(be.editor.insertSpaces));let kt=$;const Ut=be.eol;Ut===`\r
`?kt=2:Ut===`
`&&(kt=1);let Ft=W.D.trimAutoWhitespace;be.editor&&typeof be.editor.trimAutoWhitespace!="undefined"&&(Ft=be.editor.trimAutoWhitespace==="false"?!1:Boolean(be.editor.trimAutoWhitespace));let Te=W.D.detectIndentation;be.editor&&typeof be.editor.detectIndentation!="undefined"&&(Te=be.editor.detectIndentation==="false"?!1:Boolean(be.editor.detectIndentation));let Ge=W.D.largeFileOptimizations;be.editor&&typeof be.editor.largeFileOptimizations!="undefined"&&(Ge=be.editor.largeFileOptimizations==="false"?!1:Boolean(be.editor.largeFileOptimizations));let Et=W.D.bracketPairColorizationOptions;return((et=be.editor)===null||et===void 0?void 0:et.bracketPairColorization)&&typeof be.editor.bracketPairColorization=="object"&&(Et={enabled:!!be.editor.bracketPairColorization.enabled}),{isForSimpleWidget:We,tabSize:Kt,indentSize:_t,insertSpaces:tt,detectIndentation:Te,defaultEOL:kt,trimAutoWhitespace:Ft,largeFileOptimizations:Ge,bracketPairColorizationOptions:Et}}_getEOL(be,We){if(be)return this._resourcePropertiesService.getEOL(be,We);const et=this._configurationService.getValue("files.eol",{overrideIdentifier:We});return et&&typeof et=="string"&&et!=="auto"?et:z.OS===3||z.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const be=this._configurationService.getValue("files.restoreUndoStack");return typeof be=="boolean"?be:!0}getCreationOptions(be,We,et){let Kt=this._modelCreationOptionsByLanguageAndResource[be+We];if(!Kt){const _t=this._configurationService.getValue("editor",{overrideIdentifier:be,resource:We}),tt=this._getEOL(We,be);Kt=pg._readModelOptions({editor:_t,eol:tt},et),this._modelCreationOptionsByLanguageAndResource[be+We]=Kt}return Kt}_updateModelOptions(){const be=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const We=Object.keys(this._models);for(let et=0,Kt=We.length;et<Kt;et++){const _t=We[et],tt=this._models[_t],kt=tt.model.getLanguageId(),Ut=tt.model.uri,Ft=be[kt+Ut],Te=this.getCreationOptions(kt,Ut,tt.model.isForSimpleWidget);pg._setModelOptionsForModel(tt.model,Te,Ft)}}static _setModelOptionsForModel(be,We,et){et&&et.defaultEOL!==We.defaultEOL&&be.getLineCount()===1&&be.setEOL(We.defaultEOL===1?0:1),!(et&&et.detectIndentation===We.detectIndentation&&et.insertSpaces===We.insertSpaces&&et.tabSize===We.tabSize&&et.indentSize===We.indentSize&&et.trimAutoWhitespace===We.trimAutoWhitespace&&(0,P.fS)(et.bracketPairColorizationOptions,We.bracketPairColorizationOptions))&&(We.detectIndentation?(be.detectIndentation(We.insertSpaces,We.tabSize),be.updateOptions({trimAutoWhitespace:We.trimAutoWhitespace,bracketColorizationOptions:We.bracketPairColorizationOptions})):be.updateOptions({insertSpaces:We.insertSpaces,tabSize:We.tabSize,indentSize:We.indentSize,trimAutoWhitespace:We.trimAutoWhitespace,bracketColorizationOptions:We.bracketPairColorizationOptions}))}_insertDisposedModel(be){this._disposedModels.set(re(be.uri),be),this._disposedModelsHeapSize+=be.heapSize}_removeDisposedModel(be){const We=this._disposedModels.get(re(be));return We&&(this._disposedModelsHeapSize-=We.heapSize),this._disposedModels.delete(re(be)),We}_ensureDisposedModelsHeapSize(be){if(this._disposedModelsHeapSize>be){const We=[];for(this._disposedModels.forEach(et=>{et.sharesUndoRedoStack||We.push(et)}),We.sort((et,Kt)=>et.time-Kt.time);We.length>0&&this._disposedModelsHeapSize>be;){const et=We.shift();this._removeDisposedModel(et.uri),et.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(et.initialUndoRedoSnapshot)}}}_createModelData(be,We,et,Kt){const _t=this.getCreationOptions(We,et,Kt),tt=new y.yO(be,We,_t,et,this._undoRedoService,this._languageService,this._languageConfigurationService);if(et&&this._disposedModels.has(re(et))){const Ft=this._removeDisposedModel(et),Te=this._undoRedoService.getElements(et),Ge=se(tt)===Ft.sha1;if(Ge||Ft.sharesUndoRedoStack){for(const Et of Te.past)(0,N.e9)(Et)&&Et.matchesResource(et)&&Et.setModel(tt);for(const Et of Te.future)(0,N.e9)(Et)&&Et.matchesResource(et)&&Et.setModel(tt);this._undoRedoService.setElementsValidFlag(et,!0,Et=>(0,N.e9)(Et)&&Et.matchesResource(et)),Ge&&(tt._overwriteVersionId(Ft.versionId),tt._overwriteAlternativeVersionId(Ft.alternativeVersionId),tt._overwriteInitialUndoRedoSnapshot(Ft.initialUndoRedoSnapshot))}else Ft.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(Ft.initialUndoRedoSnapshot)}const kt=re(tt.uri);if(this._models[kt])throw new Error("ModelService: Cannot add model because it already exists!");const Ut=new X(tt,Ft=>this._onWillDispose(Ft),(Ft,Te)=>this._onDidChangeLanguage(Ft,Te));return this._models[kt]=Ut,Ut}createModel(be,We,et,Kt=!1){let _t;return We?(_t=this._createModelData(be,We.languageId,et,Kt),this.setMode(_t.model,We)):_t=this._createModelData(be,A.bd,et,Kt),this._onModelAdded.fire(_t.model),_t.model}setMode(be,We){if(!We)return;const et=this._models[re(be.uri)];!et||et.setLanguage(We)}getModels(){const be=[],We=Object.keys(this._models);for(let et=0,Kt=We.length;et<Kt;et++){const _t=We[et];be.push(this._models[_t].model)}return be}getModel(be){const We=re(be),et=this._models[We];return et?et.model:null}getSemanticTokensProviderStyling(be){return this._semanticStyling.get(be)}_schemaShouldMaintainUndoRedoElements(be){return be.scheme===L.lg.file||be.scheme===L.lg.vscodeRemote||be.scheme===L.lg.userData||be.scheme===L.lg.vscodeNotebookCell||be.scheme==="fake-fs"}_onWillDispose(be){const We=re(be.uri),et=this._models[We],Kt=this._undoRedoService.getUriComparisonKey(be.uri)!==be.uri.toString();let _t=!1,tt=0;if(Kt||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(be.uri)){const Ut=this._undoRedoService.getElements(be.uri);if(Ut.past.length>0||Ut.future.length>0){for(const Ft of Ut.past)(0,N.e9)(Ft)&&Ft.matchesResource(be.uri)&&(_t=!0,tt+=Ft.heapSize(be.uri),Ft.setModel(be.uri));for(const Ft of Ut.future)(0,N.e9)(Ft)&&Ft.matchesResource(be.uri)&&(_t=!0,tt+=Ft.heapSize(be.uri),Ft.setModel(be.uri))}}const kt=pg.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(_t)if(!Kt&&tt>kt){const Ut=et.model.getInitialUndoRedoSnapshot();Ut!==null&&this._undoRedoService.restoreSnapshot(Ut)}else this._ensureDisposedModelsHeapSize(kt-tt),this._undoRedoService.setElementsValidFlag(be.uri,!1,Ut=>(0,N.e9)(Ut)&&Ut.matchesResource(be.uri)),this._insertDisposedModel(new j(be.uri,et.model.getInitialUndoRedoSnapshot(),Date.now(),Kt,tt,se(be),be.getVersionId(),be.getAlternativeVersionId()));else if(!Kt){const Ut=et.model.getInitialUndoRedoSnapshot();Ut!==null&&this._undoRedoService.restoreSnapshot(Ut)}delete this._models[We],et.dispose(),delete this._modelCreationOptionsByLanguageAndResource[be.getLanguageId()+be.uri],this._onModelRemoved.fire(be)}_onDidChangeLanguage(be,We){const et=We.oldLanguage,Kt=be.getLanguageId(),_t=this.getCreationOptions(et,be.uri,be.isForSimpleWidget),tt=this.getCreationOptions(Kt,be.uri,be.isForSimpleWidget);pg._setModelOptionsForModel(be,tt,_t),this._onModelModeChanged.fire({model:be,oldLanguageId:et})}};ie.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,ie=me([ge(0,_.Ui),ge(1,w.y),ge(2,a.XE),ge(3,x.VZ),ge(4,k.tJ),ge(5,M.O),ge(6,V.c_),ge(7,H.A),ge(8,ae.p)],ie);const J="editor.semanticHighlighting";function oe(De,be,We){var et;const Kt=(et=We.getValue(J,{overrideIdentifier:De.getLanguageId(),resource:De.uri}))===null||et===void 0?void 0:et.enabled;return typeof Kt=="boolean"?Kt:be.getColorTheme().semanticHighlighting}let ce=class extends d.JT{constructor(be,We,et,Kt,_t,tt){super(),this._watchers=Object.create(null),this._semanticStyling=be;const kt=Te=>{this._watchers[Te.uri.toString()]=new Ke(Te,this._semanticStyling,et,_t,tt)},Ut=(Te,Ge)=>{Ge.dispose(),delete this._watchers[Te.uri.toString()]},Ft=()=>{for(let Te of We.getModels()){const Ge=this._watchers[Te.uri.toString()];oe(Te,et,Kt)?Ge||kt(Te):Ge&&Ut(Te,Ge)}};this._register(We.onModelAdded(Te=>{oe(Te,et,Kt)&&kt(Te)})),this._register(We.onModelRemoved(Te=>{const Ge=this._watchers[Te.uri.toString()];Ge&&Ut(Te,Ge)})),this._register(Kt.onDidChangeConfiguration(Te=>{Te.affectsConfiguration(J)&&Ft()})),this._register(et.onDidColorThemeChange(Ft))}};ce=me([ge(1,I.q),ge(2,a.XE),ge(3,_.Ui),ge(4,H.A),ge(5,ae.p)],ce);class we extends d.JT{constructor(be,We,et){super(),this._themeService=be,this._languageService=We,this._logService=et,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(be){return this._caches.has(be)||this._caches.set(be,new R.$(be.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(be)}}class Me{constructor(be,We,et){this.provider=be,this.resultId=We,this.data=et}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}let Ke=class sh extends d.JT{constructor(be,We,et,Kt,_t){super(),this._isDisposed=!1,this._model=be,this._semanticStyling=We,this._provider=_t.documentSemanticTokensProvider,this._debounceInformation=Kt.for(this._provider,"DocumentSemanticTokens",{min:sh.REQUEST_MIN_DELAY,max:sh.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new f.pY(()=>this._fetchDocumentSemanticTokensNow(),sh.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const tt=()=>{(0,d.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const kt of this._provider.all(be))typeof kt.onDidChange=="function"&&this._documentProvidersChangeListeners.push(kt.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};tt(),this._register(this._provider.onDidChange(()=>{tt(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(et.onDidColorThemeChange(kt=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,b.Jc)(this._provider,this._model)){this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1);return}const be=new m.A,We=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,et=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,Kt=(0,b.ML)(this._provider,this._model,We,et,be.token);this._currentDocumentRequestCancellationTokenSource=be;const _t=[],tt=this._model.onDidChangeContent(Ut=>{_t.push(Ut)}),kt=new ee.G(!1);Kt.then(Ut=>{if(this._debounceInformation.update(this._model,kt.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,tt.dispose(),!Ut)this._setDocumentSemanticTokens(null,null,null,_t);else{const{provider:Ft,tokens:Te}=Ut,Ge=this._semanticStyling.get(Ft);this._setDocumentSemanticTokens(Ft,Te||null,Ge,_t)}},Ut=>{Ut&&(O.n2(Ut)||typeof Ut.message=="string"&&Ut.message.indexOf("busy")!==-1)||O.dL(Ut),this._currentDocumentRequestCancellationTokenSource=null,tt.dispose(),_t.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(be,We,et,Kt,_t){for(let tt=0;tt<_t;tt++)et[Kt+tt]=be[We+tt]}_setDocumentSemanticTokens(be,We,et,Kt){const _t=this._currentDocumentResponse,tt=()=>{Kt.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){be&&We&&be.releaseDocumentSemanticTokens(We.resultId);return}if(!be||!et){this._model.setSemanticTokens(null,!1);return}if(!We){this._model.setSemanticTokens(null,!0),tt();return}if((0,b.Vj)(We)){if(!_t){this._model.setSemanticTokens(null,!0);return}if(We.edits.length===0)We={resultId:We.resultId,data:_t.data};else{let kt=0;for(const Et of We.edits)kt+=(Et.data?Et.data.length:0)-Et.deleteCount;const Ut=_t.data,Ft=new Uint32Array(Ut.length+kt);let Te=Ut.length,Ge=Ft.length;for(let Et=We.edits.length-1;Et>=0;Et--){const Wt=We.edits[Et],Ze=Te-(Wt.start+Wt.deleteCount);Ze>0&&(sh._copy(Ut,Te-Ze,Ft,Ge-Ze,Ze),Ge-=Ze),Wt.data&&(sh._copy(Wt.data,0,Ft,Ge-Wt.data.length,Wt.data.length),Ge-=Wt.data.length),Te=Wt.start}Te>0&&sh._copy(Ut,0,Ft,0,Te),We={resultId:We.resultId,data:Ft}}}if((0,b.Vl)(We)){this._currentDocumentResponse=new Me(be,We.resultId,We.data);const kt=(0,R.h)(We,et,this._model.getLanguageId());if(Kt.length>0)for(const Ut of Kt)for(const Ft of kt)for(const Te of Ut.changes)Ft.applyEdit(Te.range,Te.text);this._model.setSemanticTokens(kt,!0)}else this._model.setSemanticTokens(null,!0);tt()}};Ke.REQUEST_MIN_DELAY=300,Ke.REQUEST_MAX_DELAY=2e3,Ke=me([ge(2,a.XE),ge(3,H.A),ge(4,ae.p)],Ke)},60166:function(it,Ee,l){"use strict";l.d(Ee,{S:function(){return d}});var C=l(95024);const d=(0,C.yh)("textModelService")},71026:function(it,Ee,l){"use strict";l.d(Ee,{$:function(){return m},h:function(){return a}});var C=l(46250),d=l(63655),z=l(76057),O=l(7747),y=l(50757),W=l(41924);class A{constructor(N,L){this._startLineNumber=N,this._tokens=L,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}static create(N,L){return new A(N,new M(L))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(N){return this._startLineNumber<=N&&N<=this._endLineNumber?this._tokens.getLineTokens(N-this._startLineNumber):null}getRange(){const N=this._tokens.getRange();return N&&new y.e(this._startLineNumber+N.startLineNumber,N.startColumn,this._startLineNumber+N.endLineNumber,N.endColumn)}removeTokens(N){const L=N.startLineNumber-this._startLineNumber,R=N.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(L,N.startColumn-1,R,N.endColumn-1),this._updateEndLineNumber()}split(N){const L=N.startLineNumber-this._startLineNumber,R=N.endLineNumber-this._startLineNumber,[b,P,V]=this._tokens.split(L,N.startColumn-1,R,N.endColumn-1);return[new A(this._startLineNumber,b),new A(this._startLineNumber+V,P)]}applyEdit(N,L){const[R,b,P]=(0,W.Q)(L);this.acceptEdit(N,R,b,P,L.length>0?L.charCodeAt(0):0)}acceptEdit(N,L,R,b,P){this._acceptDeleteRange(N),this._acceptInsertText(new O.L(N.startLineNumber,N.startColumn),L,R,b,P),this._updateEndLineNumber()}_acceptDeleteRange(N){if(N.startLineNumber===N.endLineNumber&&N.startColumn===N.endColumn)return;const L=N.startLineNumber-this._startLineNumber,R=N.endLineNumber-this._startLineNumber;if(R<0){const P=R-L;this._startLineNumber-=P;return}const b=this._tokens.getMaxDeltaLine();if(!(L>=b+1)){if(L<0&&R>=b+1){this._startLineNumber=0,this._tokens.clear();return}if(L<0){const P=-L;this._startLineNumber-=P,this._tokens.acceptDeleteRange(N.startColumn-1,0,0,R,N.endColumn-1)}else this._tokens.acceptDeleteRange(0,L,N.startColumn-1,R,N.endColumn-1)}}_acceptInsertText(N,L,R,b,P){if(L===0&&R===0)return;const V=N.lineNumber-this._startLineNumber;if(V<0){this._startLineNumber+=L;return}const H=this._tokens.getMaxDeltaLine();V>=H+1||this._tokens.acceptInsertText(V,N.column-1,L,R,b,P)}}class M{constructor(N){this._tokens=N,this._tokenCount=N.length/4}toString(N){const L=[];for(let R=0;R<this._tokenCount;R++)L.push(`(${this._getDeltaLine(R)+N},${this._getStartCharacter(R)}-${this._getEndCharacter(R)})`);return`[${L.join(",")}]`}getMaxDeltaLine(){const N=this._getTokenCount();return N===0?-1:this._getDeltaLine(N-1)}getRange(){const N=this._getTokenCount();if(N===0)return null;const L=this._getStartCharacter(0),R=this._getDeltaLine(N-1),b=this._getEndCharacter(N-1);return new y.e(0,L+1,R,b+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(N){return this._tokens[4*N]}_getStartCharacter(N){return this._tokens[4*N+1]}_getEndCharacter(N){return this._tokens[4*N+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(N){let L=0,R=this._getTokenCount()-1;for(;L<R;){const b=L+Math.floor((R-L)/2),P=this._getDeltaLine(b);if(P<N)L=b+1;else if(P>N)R=b-1;else{let V=b;for(;V>L&&this._getDeltaLine(V-1)===N;)V--;let H=b;for(;H<R&&this._getDeltaLine(H+1)===N;)H++;return new I(this._tokens.subarray(4*V,4*H+4))}}return this._getDeltaLine(L)===N?new I(this._tokens.subarray(4*L,4*L+4)):null}clear(){this._tokenCount=0}removeTokens(N,L,R,b){const P=this._tokens,V=this._tokenCount;let H=0,ee=!1,ae=0;for(let me=0;me<V;me++){const ge=4*me,re=P[ge],se=P[ge+1],X=P[ge+2],$=P[ge+3];if((re>N||re===N&&X>=L)&&(re<R||re===R&&se<=b))ee=!0;else{if(H===0&&(ae=re),ee){const j=4*H;P[j]=re-ae,P[j+1]=se,P[j+2]=X,P[j+3]=$}H++}}return this._tokenCount=H,ae}split(N,L,R,b){const P=this._tokens,V=this._tokenCount,H=[],ee=[];let ae=H,me=0,ge=0;for(let re=0;re<V;re++){const se=4*re,X=P[se],$=P[se+1],j=P[se+2],ie=P[se+3];if(X>N||X===N&&j>=L){if(X<R||X===R&&$<=b)continue;ae!==ee&&(ae=ee,me=0,ge=X)}ae[me++]=X-ge,ae[me++]=$,ae[me++]=j,ae[me++]=ie}return[new M(new Uint32Array(H)),new M(new Uint32Array(ee)),ge]}acceptDeleteRange(N,L,R,b,P){const V=this._tokens,H=this._tokenCount,ee=b-L;let ae=0,me=!1;for(let ge=0;ge<H;ge++){const re=4*ge;let se=V[re],X=V[re+1],$=V[re+2];const j=V[re+3];if(se<L||se===L&&$<=R){ae++;continue}else if(se===L&&X<R)se===b&&$>P?$-=P-R:$=R;else if(se===L&&X===R)if(se===b&&$>P)$-=P-R;else{me=!0;continue}else if(se<b||se===b&&X<P)if(se===b&&$>P)se===L?(X=R,$=X+($-P)):(X=0,$=X+($-P));else{me=!0;continue}else if(se>b){if(ee===0&&!me){ae=H;break}se-=ee}else if(se===b&&X>=P)N&&se===0&&(X+=N,$+=N),se-=ee,X-=P-R,$-=P-R;else throw new Error("Not possible!");const ie=4*ae;V[ie]=se,V[ie+1]=X,V[ie+2]=$,V[ie+3]=j,ae++}this._tokenCount=ae}acceptInsertText(N,L,R,b,P,V){const H=R===0&&b===1&&(V>=48&&V<=57||V>=65&&V<=90||V>=97&&V<=122),ee=this._tokens,ae=this._tokenCount;for(let me=0;me<ae;me++){const ge=4*me;let re=ee[ge],se=ee[ge+1],X=ee[ge+2];if(!(re<N||re===N&&X<L)){if(re===N&&X===L)if(H)X+=1;else continue;else if(re===N&&se<L&&L<X)R===0?X+=b:X=L;else{if(re===N&&se===L&&H)continue;if(re===N)if(re+=R,R===0)se+=b,X+=b;else{const $=X-se;se=P+(se-L),X=se+$}else re+=R}ee[ge]=re,ee[ge+1]=se,ee[ge+2]=X}}}}class I{constructor(N){this._tokens=N}getCount(){return this._tokens.length/4}getStartCharacter(N){return this._tokens[4*N+1]}getEndCharacter(N){return this._tokens[4*N+2]}getMetadata(N){return this._tokens[4*N+3]}}var w=l(50661),_=function(T,N,L,R){var b=arguments.length,P=b<3?N:R===null?R=Object.getOwnPropertyDescriptor(N,L):R,V;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(T,N,L,R);else for(var H=T.length-1;H>=0;H--)(V=T[H])&&(P=(b<3?V(P):b>3?V(N,L,P):V(N,L))||P);return b>3&&P&&Object.defineProperty(N,L,P),P},f=function(T,N){return function(L,R){N(L,R,T)}};let m=class{constructor(N,L,R,b){this._legend=N,this._themeService=L,this._languageService=R,this._logService=b,this._hashTable=new k,this._hasWarnedOverlappingTokens=!1}getMetadata(N,L,R){const b=this._languageService.languageIdCodec.encodeLanguageId(R),P=this._hashTable.get(N,L,b);let V;if(P)V=P.metadata,this._logService.getLevel()===z.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${N} / ${L}: foreground ${C.NX.getForeground(V)}, fontStyle ${C.NX.getFontStyle(V).toString(2)}`);else{let H=this._legend.tokenTypes[N];const ee=[];if(H){let ae=L;for(let ge=0;ae>0&&ge<this._legend.tokenModifiers.length;ge++)ae&1&&ee.push(this._legend.tokenModifiers[ge]),ae=ae>>1;ae>0&&this._logService.getLevel()===z.in.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${L.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),ee.push("not-in-legend"));const me=this._themeService.getColorTheme().getTokenStyleMetadata(H,ee,R);if(typeof me=="undefined")V=2147483647;else{if(V=0,typeof me.italic!="undefined"){const ge=(me.italic?1:0)<<10;V|=ge|1}if(typeof me.bold!="undefined"){const ge=(me.bold?2:0)<<10;V|=ge|2}if(typeof me.underline!="undefined"){const ge=(me.underline?4:0)<<10;V|=ge|4}if(typeof me.strikethrough!="undefined"){const ge=(me.strikethrough?8:0)<<10;V|=ge|8}if(me.foreground){const ge=me.foreground<<14;V|=ge|16}V===0&&(V=2147483647)}}else this._logService.getLevel()===z.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${N} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),V=2147483647,H="not-in-legend";this._hashTable.add(N,L,b,V),this._logService.getLevel()===z.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${N} (${H}) / ${L} (${ee.join(" ")}): foreground ${C.NX.getForeground(V)}, fontStyle ${C.NX.getFontStyle(V).toString(2)}`)}return V}warnOverlappingSemanticTokens(N,L){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${N}, column ${L}`))}};m=_([f(1,d.XE),f(2,w.O),f(3,z.VZ)],m);function a(T,N,L){const R=T.data,b=T.data.length/5|0,P=Math.max(Math.ceil(b/1024),400),V=[];let H=0,ee=1,ae=0;for(;H<b;){const me=H;let ge=Math.min(me+P,b);if(ge<b){let oe=ge;for(;oe-1>me&&R[5*oe]===0;)oe--;if(oe-1===me){let ce=ge;for(;ce+1<b&&R[5*ce]===0;)ce++;ge=ce}else ge=oe}let re=new Uint32Array((ge-me)*4),se=0,X=0,$=0,j=0,ie=0;for(;H<ge;){const oe=5*H,ce=R[oe],we=R[oe+1],Me=ee+ce|0,Ke=ce===0?ae+we|0:we,De=R[oe+2],be=R[oe+3],We=R[oe+4],et=N.getMetadata(be,We,L);et!==2147483647&&(X===0&&(X=Me),$===Me&&ie>Ke&&(N.warnOverlappingSemanticTokens(Me,Ke+1),j<Ke?re[se-4+2]=Ke:se-=4),re[se]=Me-X,re[se+1]=Ke,re[se+2]=Ke+De,re[se+3]=et,se+=4,$=Me,j=Ke,ie=Ke+De),ee=Me,ae=Ke,H++}se!==re.length&&(re=re.subarray(0,se));const J=A.create(X,re);V.push(J)}return V}class x{constructor(N,L,R,b){this.tokenTypeIndex=N,this.tokenModifierSet=L,this.languageId=R,this.metadata=b,this.next=null}}class k{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=k._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<k._SIZES.length?2/3*this._currentLength:0),this._elements=[],k._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(N,L){for(let R=0;R<L;R++)N[R]=null}_hash2(N,L){return(N<<5)-N+L|0}_hashFunc(N,L,R){return this._hash2(this._hash2(N,L),R)%this._currentLength}get(N,L,R){const b=this._hashFunc(N,L,R);let P=this._elements[b];for(;P;){if(P.tokenTypeIndex===N&&P.tokenModifierSet===L&&P.languageId===R)return P;P=P.next}return null}add(N,L,R,b){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const P=this._elements;this._currentLengthIndex++,this._currentLength=k._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<k._SIZES.length?2/3*this._currentLength:0),this._elements=[],k._nullOutEntries(this._elements,this._currentLength);for(const V of P){let H=V;for(;H;){const ee=H.next;H.next=null,this._add(H),H=ee}}}this._add(new x(N,L,R,b))}_add(N){const L=this._hashFunc(N.tokenTypeIndex,N.tokenModifierSet,N.languageId);N.next=this._elements[L],this._elements[L]=N}}k._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]},67338:function(it,Ee,l){"use strict";l.d(Ee,{V:function(){return d},y:function(){return z}});var C=l(95024);const d=(0,C.yh)("textResourceConfigurationService"),z=(0,C.yh)("textResourcePropertiesService")},66210:function(it,Ee,l){"use strict";l.d(Ee,{a:function(){return W}});var C=l(50757),d=l(21641),z=l(76311),O=l(37061),y=l(62501);class W{static computeUnicodeHighlights(_,f,m){const a=m?m.startLineNumber:1,x=m?m.endLineNumber:_.getLineCount(),k=new M(f),T=k.getCandidateCodePoints();let N;T==="allNonBasicAscii"?N=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):N=new RegExp(`${A(Array.from(T))}`,"g");const L=new d.sz(null,N),R=[];let b=!1,P,V=0,H=0,ee=0;e:for(let ae=a,me=x;ae<=me;ae++){const ge=_.getLineContent(ae),re=ge.length;L.reset(0);do if(P=L.next(ge),P){let se=P.index,X=P.index+P[0].length;if(se>0){const J=ge.charCodeAt(se-1);z.ZG(J)&&se--}if(X+1<re){const J=ge.charCodeAt(X-1);z.ZG(J)&&X++}const $=ge.substring(se,X),j=(0,y.t2)(se+1,y.Af,ge,0),ie=k.shouldHighlightNonBasicASCII($,j?j.word:null);if(ie!==0){ie===3?V++:ie===2?H++:ie===1?ee++:(0,O.vE)(ie);const J=1e3;if(R.length>=J){b=!0;break e}R.push(new C.e(ae,se+1,ae,X+1))}}while(P)}return{ranges:R,hasMore:b,ambiguousCharacterCount:V,invisibleCharacterCount:H,nonBasicAsciiCharacterCount:ee}}static computeUnicodeHighlightReason(_,f){const m=new M(f);switch(m.shouldHighlightNonBasicASCII(_,null)){case 0:return null;case 2:return{kind:1};case 3:{const x=_.codePointAt(0),k=m.ambiguousCharacters.getPrimaryConfusable(x),T=z.ZK.getLocales().filter(N=>!z.ZK.getInstance(new Set([...f.allowedLocales,N])).isAmbiguous(x));return{kind:0,confusableWith:String.fromCodePoint(k),notAmbiguousInLocales:T}}case 1:return{kind:2}}}}function A(w,_){return`[${z.ec(w.map(m=>String.fromCodePoint(m)).join(""))}]`}class M{constructor(_){this.options=_,this.allowedCodePoints=new Set(_.allowedCodePoints),this.ambiguousCharacters=z.ZK.getInstance(new Set(_.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const _=new Set;if(this.options.invisibleCharacters)for(const f of z.vU.codePoints)I(String.fromCodePoint(f))||_.add(f);if(this.options.ambiguousCharacters)for(const f of this.ambiguousCharacters.getConfusableCodePoints())_.add(f);for(const f of this.allowedCodePoints)_.delete(f);return _}shouldHighlightNonBasicASCII(_,f){const m=_.codePointAt(0);if(this.allowedCodePoints.has(m))return 0;if(this.options.nonBasicASCII)return 1;let a=!1,x=!1;if(f)for(let k of f){const T=k.codePointAt(0),N=z.$i(k);a=a||N,!N&&!this.ambiguousCharacters.isAmbiguous(T)&&!z.vU.isInvisibleCharacter(T)&&(x=!0)}return!a&&x?0:this.options.invisibleCharacters&&!I(_)&&z.vU.isInvisibleCharacter(m)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(m)?3:0}}function I(w){return w===" "||w===`
`||w==="	"}},86641:function(it,Ee,l){"use strict";l.d(Ee,{B8:function(){return M},Oe:function(){return d},UX:function(){return W},aq:function(){return A},iN:function(){return w},ld:function(){return y},qq:function(){return O},ug:function(){return z},xi:function(){return I}});var C=l(82215),d;(function(_){_.noSelection=C.N("noSelection","No selection"),_.singleSelectionRange=C.N("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),_.singleSelection=C.N("singleSelection","Line {0}, Column {1}"),_.multiSelectionRange=C.N("multiSelectionRange","{0} selections ({1} characters selected)"),_.multiSelection=C.N("multiSelection","{0} selections"),_.emergencyConfOn=C.N("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),_.openingDocs=C.N("openingDocs","Now opening the Editor Accessibility documentation page."),_.readonlyDiffEditor=C.N("readonlyDiffEditor"," in a read-only pane of a diff editor."),_.editableDiffEditor=C.N("editableDiffEditor"," in a pane of a diff editor."),_.readonlyEditor=C.N("readonlyEditor"," in a read-only code editor"),_.editableEditor=C.N("editableEditor"," in a code editor"),_.changeConfigToOnMac=C.N("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),_.changeConfigToOnWinLinux=C.N("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),_.auto_on=C.N("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),_.auto_off=C.N("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),_.tabFocusModeOnMsg=C.N("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),_.tabFocusModeOnMsgNoKb=C.N("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),_.tabFocusModeOffMsg=C.N("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),_.tabFocusModeOffMsgNoKb=C.N("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),_.openDocMac=C.N("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),_.openDocWinLinux=C.N("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),_.outroMsg=C.N("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),_.showAccessibilityHelpAction=C.N("showAccessibilityHelpAction","Show Accessibility Help")})(d||(d={}));var z;(function(_){_.inspectTokensAction=C.N("inspectTokens","Developer: Inspect Tokens")})(z||(z={}));var O;(function(_){_.gotoLineActionLabel=C.N("gotoLineActionLabel","Go to Line/Column...")})(O||(O={}));var y;(function(_){_.helpQuickAccessActionLabel=C.N("helpQuickAccess","Show all Quick Access Providers")})(y||(y={}));var W;(function(_){_.quickCommandActionLabel=C.N("quickCommandActionLabel","Command Palette"),_.quickCommandHelp=C.N("quickCommandActionHelp","Show And Run Commands")})(W||(W={}));var A;(function(_){_.quickOutlineActionLabel=C.N("quickOutlineActionLabel","Go to Symbol..."),_.quickOutlineByCategoryActionLabel=C.N("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(A||(A={}));var M;(function(_){_.editorViewAccessibleLabel=C.N("editorViewAccessibleLabel","Editor content"),_.accessibilityHelpMessage=C.N("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(M||(M={}));var I;(function(_){_.toggleHighContrast=C.N("toggleHighContrast","Toggle High Contrast Theme")})(I||(I={}));var w;(function(_){_.bulkEditServiceSummary=C.N("bulkEditServiceSummary","Made {0} edits in {1} files")})(w||(w={}))},62316:function(it,Ee,l){"use strict";l.d(Ee,{CZ:function(){return W},D8:function(){return M},Jx:function(){return C},Tx:function(){return y},dQ:function(){return A},fV:function(){return I},gk:function(){return d},lN:function(){return O},rU:function(){return z}});class C{constructor(){this.changeType=1}}class d{constructor(_,f,m,a,x){this.ownerId=_,this.lineNumber=f,this.column=m,this.options=a,this.order=x}static applyInjectedText(_,f){if(!f||f.length===0)return _;let m="",a=0;for(const x of f)m+=_.substring(a,x.column-1),a=x.column-1,m+=x.options.content;return m+=_.substring(a),m}static fromDecorations(_){const f=[];for(const m of _)m.options.before&&m.options.before.content.length>0&&f.push(new d(m.ownerId,m.range.startLineNumber,m.range.startColumn,m.options.before,0)),m.options.after&&m.options.after.content.length>0&&f.push(new d(m.ownerId,m.range.endLineNumber,m.range.endColumn,m.options.after,1));return f.sort((m,a)=>m.lineNumber===a.lineNumber?m.column===a.column?m.order-a.order:m.column-a.column:m.lineNumber-a.lineNumber),f}}class z{constructor(_,f,m){this.changeType=2,this.lineNumber=_,this.detail=f,this.injectedText=m}}class O{constructor(_,f){this.changeType=3,this.fromLineNumber=_,this.toLineNumber=f}}class y{constructor(_,f,m,a){this.changeType=4,this.injectedTexts=a,this.fromLineNumber=_,this.toLineNumber=f,this.detail=m}}class W{constructor(){this.changeType=5}}class A{constructor(_,f,m,a){this.changes=_,this.versionId=f,this.isUndoing=m,this.isRedoing=a,this.resultingSelection=null}containsEvent(_){for(let f=0,m=this.changes.length;f<m;f++)if(this.changes[f].changeType===_)return!0;return!1}static merge(_,f){const m=[].concat(_.changes).concat(f.changes),a=f.versionId,x=_.isUndoing||f.isUndoing,k=_.isRedoing||f.isRedoing;return new A(m,a,x,k)}}class M{constructor(_){this.changes=_}}class I{constructor(_,f){this.rawContentChangedEvent=_,this.contentChangedEvent=f}merge(_){const f=A.merge(this.rawContentChangedEvent,_.rawContentChangedEvent),m=I._mergeChangeEvents(this.contentChangedEvent,_.contentChangedEvent);return new I(f,m)}static _mergeChangeEvents(_,f){const m=[].concat(_.changes).concat(f.changes),a=f.eol,x=f.versionId,k=_.isUndoing||f.isUndoing,T=_.isRedoing||f.isRedoing,N=_.isFlush||f.isFlush;return{changes:m,eol:a,versionId:x,isUndoing:k,isRedoing:T,isFlush:N}}}},11370:function(it,Ee,l){"use strict";l.d(Ee,{UO:function(){return d},s6:function(){return C},vW:function(){return z}});var C;(function(O){O[O.Disabled=0]="Disabled",O[O.EnabledForActive=1]="EnabledForActive",O[O.Enabled=2]="Enabled"})(C||(C={}));class d{constructor(y,W,A){this.visibleColumn=y,this.className=W,this.horizontalLine=A}}class z{constructor(y,W){this.top=y,this.endColumn=W}}},32083:function(it,Ee,l){"use strict";l.d(Ee,{A:function(){return d}});var C=l(46250);class d{constructor(y,W,A){this._lineTokensBrand=void 0,this._tokens=y,this._tokensCount=this._tokens.length>>>1,this._text=W,this._languageIdCodec=A}static createEmpty(y,W){const A=d.defaultTokenMetadata,M=new Uint32Array(2);return M[0]=y.length,M[1]=A,new d(M,y,W)}equals(y){return y instanceof d?this.slicedEquals(y,0,this._tokensCount):!1}slicedEquals(y,W,A){if(this._text!==y._text||this._tokensCount!==y._tokensCount)return!1;const M=W<<1,I=M+(A<<1);for(let w=M;w<I;w++)if(this._tokens[w]!==y._tokens[w])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(y){return y>0?this._tokens[y-1<<1]:0}getMetadata(y){return this._tokens[(y<<1)+1]}getLanguageId(y){const W=this._tokens[(y<<1)+1],A=C.NX.getLanguageId(W);return this._languageIdCodec.decodeLanguageId(A)}getStandardTokenType(y){const W=this._tokens[(y<<1)+1];return C.NX.getTokenType(W)}getForeground(y){const W=this._tokens[(y<<1)+1];return C.NX.getForeground(W)}getClassName(y){const W=this._tokens[(y<<1)+1];return C.NX.getClassNameFromMetadata(W)}getInlineStyle(y,W){const A=this._tokens[(y<<1)+1];return C.NX.getInlineStyleFromMetadata(A,W)}getPresentation(y){const W=this._tokens[(y<<1)+1];return C.NX.getPresentationFromMetadata(W)}getEndOffset(y){return this._tokens[y<<1]}findTokenIndexAtOffset(y){return d.findIndexInTokensArray(this._tokens,y)}inflate(){return this}sliceAndInflate(y,W,A){return new z(this,y,W,A)}static convertToEndOffset(y,W){const M=(y.length>>>1)-1;for(let I=0;I<M;I++)y[I<<1]=y[I+1<<1];y[M<<1]=W}static findIndexInTokensArray(y,W){if(y.length<=2)return 0;let A=0,M=(y.length>>>1)-1;for(;A<M;){const I=A+Math.floor((M-A)/2),w=y[I<<1];if(w===W)return I+1;w<W?A=I+1:w>W&&(M=I)}return A}withInserted(y){if(y.length===0)return this;let W=0,A=0,M="";const I=new Array;let w=0;for(;;){const _=W<this._tokensCount?this._tokens[W<<1]:-1,f=A<y.length?y[A]:null;if(_!==-1&&(f===null||_<=f.offset)){M+=this._text.substring(w,_);const m=this._tokens[(W<<1)+1];I.push(M.length,m),W++,w=_}else if(f){if(f.offset>w){M+=this._text.substring(w,f.offset);const m=this._tokens[(W<<1)+1];I.push(M.length,m),w=f.offset}M+=f.text,I.push(M.length,f.tokenMetadata),A++}else break}return new d(new Uint32Array(I),M,this._languageIdCodec)}}d.defaultTokenMetadata=(0<<10|1<<14|2<<23)>>>0;class z{constructor(y,W,A,M){this._source=y,this._startOffset=W,this._endOffset=A,this._deltaOffset=M,this._firstTokenIndex=y.findTokenIndexAtOffset(W),this._tokensCount=0;for(let I=this._firstTokenIndex,w=y.getCount();I<w&&!(y.getStartOffset(I)>=A);I++)this._tokensCount++}getMetadata(y){return this._source.getMetadata(this._firstTokenIndex+y)}getLanguageId(y){return this._source.getLanguageId(this._firstTokenIndex+y)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(y){return y instanceof z?this._startOffset===y._startOffset&&this._endOffset===y._endOffset&&this._deltaOffset===y._deltaOffset&&this._source.slicedEquals(y._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(y){return this._source.getForeground(this._firstTokenIndex+y)}getEndOffset(y){const W=this._source.getEndOffset(this._firstTokenIndex+y);return Math.min(this._endOffset,W)-this._startOffset+this._deltaOffset}getClassName(y){return this._source.getClassName(this._firstTokenIndex+y)}getInlineStyle(y,W){return this._source.getInlineStyle(this._firstTokenIndex+y,W)}getPresentation(y){return this._source.getPresentation(this._firstTokenIndex+y)}findTokenIndexAtOffset(y){return this._source.findTokenIndexAtOffset(y+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},7144:function(it,Ee,l){"use strict";l.d(Ee,{Kp:function(){return d},k:function(){return y}});var C=l(76311);class d{constructor(A,M,I,w){this.startColumn=A,this.endColumn=M,this.className=I,this.type=w,this._lineDecorationBrand=void 0}static _equals(A,M){return A.startColumn===M.startColumn&&A.endColumn===M.endColumn&&A.className===M.className&&A.type===M.type}static equalsArr(A,M){const I=A.length,w=M.length;if(I!==w)return!1;for(let _=0;_<I;_++)if(!d._equals(A[_],M[_]))return!1;return!0}static extractWrapped(A,M,I){if(A.length===0)return A;const w=M+1,_=I+1,f=I-M,m=[];let a=0;for(const x of A)x.endColumn<=w||x.startColumn>=_||(m[a++]=new d(Math.max(1,x.startColumn-w+1),Math.min(f+1,x.endColumn-w+1),x.className,x.type));return m}static filter(A,M,I,w){if(A.length===0)return[];const _=[];let f=0;for(let m=0,a=A.length;m<a;m++){const x=A[m],k=x.range;if(k.endLineNumber<M||k.startLineNumber>M||k.isEmpty()&&(x.type===0||x.type===3))continue;const T=k.startLineNumber===M?k.startColumn:I,N=k.endLineNumber===M?k.endColumn:w;_[f++]=new d(T,N,x.inlineClassName,x.type)}return _}static _typeCompare(A,M){const I=[2,0,1,3];return I[A]-I[M]}static compare(A,M){if(A.startColumn!==M.startColumn)return A.startColumn-M.startColumn;if(A.endColumn!==M.endColumn)return A.endColumn-M.endColumn;const I=d._typeCompare(A.type,M.type);return I!==0?I:A.className!==M.className?A.className<M.className?-1:1:0}}class z{constructor(A,M,I,w){this.startOffset=A,this.endOffset=M,this.className=I,this.metadata=w}}class O{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(A){let M=0;for(let I=0,w=A.length;I<w;I++)M|=A[I];return M}consumeLowerThan(A,M,I){for(;this.count>0&&this.stopOffsets[0]<A;){let w=0;for(;w+1<this.count&&this.stopOffsets[w]===this.stopOffsets[w+1];)w++;I.push(new z(M,this.stopOffsets[w],this.classNames.join(" "),O._metadata(this.metadata))),M=this.stopOffsets[w]+1,this.stopOffsets.splice(0,w+1),this.classNames.splice(0,w+1),this.metadata.splice(0,w+1),this.count-=w+1}return this.count>0&&M<A&&(I.push(new z(M,A-1,this.classNames.join(" "),O._metadata(this.metadata))),M=A),M}insert(A,M,I){if(this.count===0||this.stopOffsets[this.count-1]<=A)this.stopOffsets.push(A),this.classNames.push(M),this.metadata.push(I);else for(let w=0;w<this.count;w++)if(this.stopOffsets[w]>=A){this.stopOffsets.splice(w,0,A),this.classNames.splice(w,0,M),this.metadata.splice(w,0,I);break}this.count++}}class y{static normalize(A,M){if(M.length===0)return[];const I=[],w=new O;let _=0;for(let f=0,m=M.length;f<m;f++){const a=M[f];let x=a.startColumn,k=a.endColumn;const T=a.className,N=a.type===1?2:a.type===2?4:0;if(x>1){const b=A.charCodeAt(x-2);C.ZG(b)&&x--}if(k>1){const b=A.charCodeAt(k-2);C.ZG(b)&&k--}const L=x-1,R=k-2;_=w.consumeLowerThan(L,_,I),w.count===0&&(_=L),w.insert(R,T,N)}return w.consumeLowerThan(1073741824,_,I),I}}},52664:function(it,Ee,l){"use strict";l.d(Ee,{IJ:function(){return W},Nd:function(){return A},d1:function(){return w},tF:function(){return f},zG:function(){return y}});var C=l(76311),d=l(20123),z=l(7144);class O{constructor(H,ee,ae){this._linePartBrand=void 0,this.endIndex=H,this.type=ee,this.metadata=ae}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class y{constructor(H,ee){this.startOffset=H,this.endOffset=ee}equals(H){return this.startOffset===H.startOffset&&this.endOffset===H.endOffset}}class W{constructor(H,ee,ae,me,ge,re,se,X,$,j,ie,J,oe,ce,we,Me,Ke,De,be){this.useMonospaceOptimizations=H,this.canUseHalfwidthRightwardsArrow=ee,this.lineContent=ae,this.continuesWithWrappedLine=me,this.isBasicASCII=ge,this.containsRTL=re,this.fauxIndentLength=se,this.lineTokens=X,this.lineDecorations=$.sort(z.Kp.compare),this.tabSize=j,this.startVisibleColumn=ie,this.spaceWidth=J,this.stopRenderingLineAfter=we,this.renderWhitespace=Me==="all"?4:Me==="boundary"?1:Me==="selection"?2:Me==="trailing"?3:0,this.renderControlCharacters=Ke,this.fontLigatures=De,this.selectionsOnLine=be&&be.sort((Kt,_t)=>Kt.startOffset<_t.startOffset?-1:1);const We=Math.abs(ce-J),et=Math.abs(oe-J);We<et?(this.renderSpaceWidth=ce,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=oe,this.renderSpaceCharCode=183)}sameSelection(H){if(this.selectionsOnLine===null)return H===null;if(H===null||H.length!==this.selectionsOnLine.length)return!1;for(let ee=0;ee<this.selectionsOnLine.length;ee++)if(!this.selectionsOnLine[ee].equals(H[ee]))return!1;return!0}equals(H){return this.useMonospaceOptimizations===H.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===H.canUseHalfwidthRightwardsArrow&&this.lineContent===H.lineContent&&this.continuesWithWrappedLine===H.continuesWithWrappedLine&&this.isBasicASCII===H.isBasicASCII&&this.containsRTL===H.containsRTL&&this.fauxIndentLength===H.fauxIndentLength&&this.tabSize===H.tabSize&&this.startVisibleColumn===H.startVisibleColumn&&this.spaceWidth===H.spaceWidth&&this.renderSpaceWidth===H.renderSpaceWidth&&this.renderSpaceCharCode===H.renderSpaceCharCode&&this.stopRenderingLineAfter===H.stopRenderingLineAfter&&this.renderWhitespace===H.renderWhitespace&&this.renderControlCharacters===H.renderControlCharacters&&this.fontLigatures===H.fontLigatures&&z.Kp.equalsArr(this.lineDecorations,H.lineDecorations)&&this.lineTokens.equals(H.lineTokens)&&this.sameSelection(H.selectionsOnLine)}}class A{constructor(H,ee){this.partIndex=H,this.charIndex=ee}}class M{constructor(H,ee){this.length=H,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(H){return(H&4294901760)>>>16}static getCharIndex(H){return(H&65535)>>>0}setColumnInfo(H,ee,ae,me){const ge=(ee<<16|ae<<0)>>>0;this._data[H-1]=ge,this._absoluteOffsets[H-1]=me+ae}getAbsoluteOffset(H){return this._absoluteOffsets.length===0?0:this._absoluteOffsets[H-1]}charOffsetToPartData(H){return this.length===0?0:H<0?this._data[0]:H>=this.length?this._data[this.length-1]:this._data[H]}getDomPosition(H){const ee=this.charOffsetToPartData(H-1),ae=M.getPartIndex(ee),me=M.getCharIndex(ee);return new A(ae,me)}getColumn(H,ee){return this.partDataToCharOffset(H.partIndex,ee,H.charIndex)+1}partDataToCharOffset(H,ee,ae){if(this.length===0)return 0;const me=(H<<16|ae<<0)>>>0;let ge=0,re=this.length-1;for(;ge+1<re;){const we=ge+re>>>1,Me=this._data[we];if(Me===me)return we;Me>me?re=we:ge=we}if(ge===re)return ge;const se=this._data[ge],X=this._data[re];if(se===me)return ge;if(X===me)return re;const $=M.getPartIndex(se),j=M.getCharIndex(se),ie=M.getPartIndex(X);let J;$!==ie?J=ee:J=M.getCharIndex(X);const oe=ae-j,ce=J-ae;return oe<=ce?ge:re}}class I{constructor(H,ee,ae){this._renderLineOutputBrand=void 0,this.characterMapping=H,this.containsRTL=ee,this.containsForeignElements=ae}}function w(V,H){if(V.lineContent.length===0){if(V.lineDecorations.length>0){H.appendASCIIString("<span>");let ee=0,ae=0,me=0;for(const re of V.lineDecorations)(re.type===1||re.type===2)&&(H.appendASCIIString('<span class="'),H.appendASCIIString(re.className),H.appendASCIIString('"></span>'),re.type===1&&(me|=1,ee++),re.type===2&&(me|=2,ae++));H.appendASCIIString("</span>");const ge=new M(1,ee+ae);return ge.setColumnInfo(1,ee,0,0),new I(ge,!1,me)}return H.appendASCIIString("<span><span></span></span>"),new I(new M(0,0),!1,0)}return b(a(V),H)}class _{constructor(H,ee,ae,me){this.characterMapping=H,this.html=ee,this.containsRTL=ae,this.containsForeignElements=me}}function f(V){const H=(0,d.l$)(1e4),ee=w(V,H);return new _(ee.characterMapping,H.build(),ee.containsRTL,ee.containsForeignElements)}class m{constructor(H,ee,ae,me,ge,re,se,X,$,j,ie,J,oe,ce,we){this.fontIsMonospace=H,this.canUseHalfwidthRightwardsArrow=ee,this.lineContent=ae,this.len=me,this.isOverflowing=ge,this.parts=re,this.containsForeignElements=se,this.fauxIndentLength=X,this.tabSize=$,this.startVisibleColumn=j,this.containsRTL=ie,this.spaceWidth=J,this.renderSpaceCharCode=oe,this.renderWhitespace=ce,this.renderControlCharacters=we}}function a(V){const H=V.lineContent;let ee,ae;V.stopRenderingLineAfter!==-1&&V.stopRenderingLineAfter<H.length?(ee=!0,ae=V.stopRenderingLineAfter):(ee=!1,ae=H.length);let me=x(V.lineTokens,V.fauxIndentLength,ae);V.renderControlCharacters&&!V.isBasicASCII&&(me=N(H,me)),(V.renderWhitespace===4||V.renderWhitespace===1||V.renderWhitespace===2&&!!V.selectionsOnLine||V.renderWhitespace===3)&&(me=L(V,H,ae,me));let ge=0;if(V.lineDecorations.length>0){for(let re=0,se=V.lineDecorations.length;re<se;re++){const X=V.lineDecorations[re];X.type===3||X.type===1?ge|=1:X.type===2&&(ge|=2)}me=R(H,ae,me,V.lineDecorations)}return V.containsRTL||(me=k(H,me,!V.isBasicASCII||V.fontLigatures)),new m(V.useMonospaceOptimizations,V.canUseHalfwidthRightwardsArrow,H,ae,ee,me,ge,V.fauxIndentLength,V.tabSize,V.startVisibleColumn,V.containsRTL,V.spaceWidth,V.renderSpaceCharCode,V.renderWhitespace,V.renderControlCharacters)}function x(V,H,ee){const ae=[];let me=0;H>0&&(ae[me++]=new O(H,"",0));for(let ge=0,re=V.getCount();ge<re;ge++){const se=V.getEndOffset(ge);if(se<=H)continue;const X=V.getClassName(ge);if(se>=ee){ae[me++]=new O(ee,X,0);break}ae[me++]=new O(se,X,0)}return ae}function k(V,H,ee){let ae=0;const me=[];let ge=0;if(ee)for(let re=0,se=H.length;re<se;re++){const X=H[re],$=X.endIndex;if(ae+50<$){const j=X.type,ie=X.metadata;let J=-1,oe=ae;for(let ce=ae;ce<$;ce++)V.charCodeAt(ce)===32&&(J=ce),J!==-1&&ce-oe>=50&&(me[ge++]=new O(J+1,j,ie),oe=J+1,J=-1);oe!==$&&(me[ge++]=new O($,j,ie))}else me[ge++]=X;ae=$}else for(let re=0,se=H.length;re<se;re++){const X=H[re],$=X.endIndex,j=$-ae;if(j>50){const ie=X.type,J=X.metadata,oe=Math.ceil(j/50);for(let ce=1;ce<oe;ce++){const we=ae+ce*50;me[ge++]=new O(we,ie,J)}me[ge++]=new O($,ie,J)}else me[ge++]=X;ae=$}return me}function T(V){return V<32?V!==9:V===127||V>=8234&&V<=8238||V>=8294&&V<=8297||V>=8206&&V<=8207||V===1564}function N(V,H){const ee=[];let ae=new O(0,"",0),me=0;for(const ge of H){const re=ge.endIndex;for(;me<re;me++){const se=V.charCodeAt(me);T(se)&&(me>ae.endIndex&&(ae=new O(me,ge.type,ge.metadata),ee.push(ae)),ae=new O(me+1,"mtkcontrol",ge.metadata),ee.push(ae))}me>ae.endIndex&&(ae=new O(re,ge.type,ge.metadata),ee.push(ae))}return ee}function L(V,H,ee,ae){const me=V.continuesWithWrappedLine,ge=V.fauxIndentLength,re=V.tabSize,se=V.startVisibleColumn,X=V.useMonospaceOptimizations,$=V.selectionsOnLine,j=V.renderWhitespace===1,ie=V.renderWhitespace===3,J=V.renderSpaceWidth!==V.spaceWidth,oe=[];let ce=0,we=0,Me=ae[we].type,Ke=ae[we].endIndex;const De=ae.length;let be=!1,We=C.LC(H),et;We===-1?(be=!0,We=ee,et=ee):et=C.ow(H);let Kt=!1,_t=0,tt=$&&$[_t],kt=se%re;for(let Ft=ge;Ft<ee;Ft++){const Te=H.charCodeAt(Ft);tt&&Ft>=tt.endOffset&&(_t++,tt=$&&$[_t]);let Ge;if(Ft<We||Ft>et)Ge=!0;else if(Te===9)Ge=!0;else if(Te===32)if(j)if(Kt)Ge=!0;else{const Et=Ft+1<ee?H.charCodeAt(Ft+1):0;Ge=Et===32||Et===9}else Ge=!0;else Ge=!1;if(Ge&&$&&(Ge=!!tt&&tt.startOffset<=Ft&&tt.endOffset>Ft),Ge&&ie&&(Ge=be||Ft>et),Kt){if(!Ge||!X&&kt>=re){if(J){const Et=ce>0?oe[ce-1].endIndex:ge;for(let Wt=Et+1;Wt<=Ft;Wt++)oe[ce++]=new O(Wt,"mtkw",1)}else oe[ce++]=new O(Ft,"mtkw",1);kt=kt%re}}else(Ft===Ke||Ge&&Ft>ge)&&(oe[ce++]=new O(Ft,Me,0),kt=kt%re);for(Te===9?kt=re:C.K7(Te)?kt+=2:kt++,Kt=Ge;Ft===Ke&&(we++,we<De);)Me=ae[we].type,Ke=ae[we].endIndex}let Ut=!1;if(Kt)if(me&&j){const Ft=ee>0?H.charCodeAt(ee-1):0,Te=ee>1?H.charCodeAt(ee-2):0;Ft===32&&Te!==32&&Te!==9||(Ut=!0)}else Ut=!0;if(Ut)if(J){const Ft=ce>0?oe[ce-1].endIndex:ge;for(let Te=Ft+1;Te<=ee;Te++)oe[ce++]=new O(Te,"mtkw",1)}else oe[ce++]=new O(ee,"mtkw",1);else oe[ce++]=new O(ee,Me,0);return oe}function R(V,H,ee,ae){ae.sort(z.Kp.compare);const me=z.k.normalize(V,ae),ge=me.length;let re=0;const se=[];let X=0,$=0;for(let ie=0,J=ee.length;ie<J;ie++){const oe=ee[ie],ce=oe.endIndex,we=oe.type,Me=oe.metadata;for(;re<ge&&me[re].startOffset<ce;){const Ke=me[re];if(Ke.startOffset>$&&($=Ke.startOffset,se[X++]=new O($,we,Me)),Ke.endOffset+1<=ce)$=Ke.endOffset+1,se[X++]=new O($,we+" "+Ke.className,Me|Ke.metadata),re++;else{$=ce,se[X++]=new O($,we+" "+Ke.className,Me|Ke.metadata);break}}ce>$&&($=ce,se[X++]=new O($,we,Me))}const j=ee[ee.length-1].endIndex;if(re<ge&&me[re].startOffset===j)for(;re<ge&&me[re].startOffset===j;){const ie=me[re];se[X++]=new O($,ie.className,ie.metadata),re++}return se}function b(V,H){const ee=V.fontIsMonospace,ae=V.canUseHalfwidthRightwardsArrow,me=V.containsForeignElements,ge=V.lineContent,re=V.len,se=V.isOverflowing,X=V.parts,$=V.fauxIndentLength,j=V.tabSize,ie=V.startVisibleColumn,J=V.containsRTL,oe=V.spaceWidth,ce=V.renderSpaceCharCode,we=V.renderWhitespace,Me=V.renderControlCharacters,Ke=new M(re+1,X.length);let De=!1,be=0,We=ie,et=0,Kt=0,_t=0,tt=0;J?H.appendASCIIString('<span dir="ltr">'):H.appendASCIIString("<span>");for(let kt=0,Ut=X.length;kt<Ut;kt++){tt+=_t;const Ft=X[kt],Te=Ft.endIndex,Ge=Ft.type,Et=we!==0&&Ft.isWhitespace(),Wt=Et&&!ee&&(Ge==="mtkw"||!me),Ze=be===Te&&Ft.isPseudoAfter();if(et=0,H.appendASCIIString('<span class="'),H.appendASCIIString(Wt?"mtkz":Ge),H.appendASCII(34),Et){let xe=0;{let ve=be,$e=We;for(;ve<Te;ve++){const Tt=(ge.charCodeAt(ve)===9?j-$e%j:1)|0;xe+=Tt,ve>=$&&($e+=Tt)}}for(Wt&&(H.appendASCIIString(' style="width:'),H.appendASCIIString(String(oe*xe)),H.appendASCIIString('px"')),H.appendASCII(62);be<Te;be++){Ke.setColumnInfo(be+1,kt-Kt,et,tt),Kt=0;const ve=ge.charCodeAt(be);let $e;if(ve===9){$e=j-We%j|0,!ae||$e>1?H.write1(8594):H.write1(65515);for(let at=2;at<=$e;at++)H.write1(160)}else $e=1,H.write1(ce);et+=$e,be>=$&&(We+=$e)}_t=xe}else{let xe=0;for(H.appendASCII(62);be<Te;be++){Ke.setColumnInfo(be+1,kt-Kt,et,tt),Kt=0;const ve=ge.charCodeAt(be);let $e=1,at=1;switch(ve){case 9:$e=j-We%j,at=$e;for(let Tt=1;Tt<=$e;Tt++)H.write1(160);break;case 32:H.write1(160);break;case 60:H.appendASCIIString("&lt;");break;case 62:H.appendASCIIString("&gt;");break;case 38:H.appendASCIIString("&amp;");break;case 0:Me?H.write1(9216):H.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:H.write1(65533);break;default:C.K7(ve)&&at++,Me&&ve<32?H.write1(9216+ve):Me&&ve===127?H.write1(9249):Me&&T(ve)?(H.appendASCIIString("[U+"),H.appendASCIIString(P(ve)),H.appendASCIIString("]"),$e=8):H.write1(ve)}et+=$e,xe+=$e,be>=$&&(We+=at)}_t=xe}Ze?Kt++:Kt=0,be>=re&&!De&&Ft.isPseudoAfter()&&(De=!0,Ke.setColumnInfo(be+1,kt,et,tt)),H.appendASCIIString("</span>")}return De||Ke.setColumnInfo(re+1,X.length-1,et,tt),se&&H.appendASCIIString("<span>&hellip;</span>"),H.appendASCIIString("</span>"),new I(Ke,J,me)}function P(V){return V.toString(16).toUpperCase().padStart(4,"0")}},93831:function(it,Ee,l){"use strict";l.d(Ee,{$l:function(){return I},$t:function(){return A},IP:function(){return y},SQ:function(){return w},Wx:function(){return M},l_:function(){return z},ud:function(){return O},wA:function(){return W}});var C=l(76311),d=l(50757);class z{constructor(f,m,a,x){this._viewportBrand=void 0,this.top=f|0,this.left=m|0,this.width=a|0,this.height=x|0}}class O{constructor(f,m){this.tabSize=f,this.data=m}}class y{constructor(f,m,a,x,k,T,N){this._viewLineDataBrand=void 0,this.content=f,this.continuesWithWrappedLine=m,this.minColumn=a,this.maxColumn=x,this.startVisibleColumn=k,this.tokens=T,this.inlineDecorations=N}}class W{constructor(f,m,a,x,k,T,N,L,R,b){this.minColumn=f,this.maxColumn=m,this.content=a,this.continuesWithWrappedLine=x,this.isBasicASCII=W.isBasicASCII(a,T),this.containsRTL=W.containsRTL(a,this.isBasicASCII,k),this.tokens=N,this.inlineDecorations=L,this.tabSize=R,this.startVisibleColumn=b}static isBasicASCII(f,m){return m?C.$i(f):!0}static containsRTL(f,m,a){return!m&&a?C.Ut(f):!1}}class A{constructor(f,m,a){this.range=f,this.inlineClassName=m,this.type=a}}class M{constructor(f,m,a,x){this.startOffset=f,this.endOffset=m,this.inlineClassName=a,this.inlineClassNameAffectsLetterSpacing=x}toInlineDecoration(f){return new A(new d.e(f,this.startOffset+1,f,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class I{constructor(f,m){this._viewModelDecorationBrand=void 0,this.range=f,this.options=m}}class w{constructor(f,m,a){this.color=f,this.zIndex=m,this.data=a}static cmp(f,m){return f.zIndex===m.zIndex?f.color<m.color?-1:f.color>m.color?1:0:f.zIndex-m.zIndex}}},2567:function(it,Ee,l){"use strict";l.d(Ee,{EY:function(){return d},Tj:function(){return z}});class C{constructor(y,W,A){this._colorZoneBrand=void 0,this.from=y|0,this.to=W|0,this.colorId=A|0}static compare(y,W){return y.colorId===W.colorId?y.from===W.from?y.to-W.to:y.from-W.from:y.colorId-W.colorId}}class d{constructor(y,W,A,M){this._overviewRulerZoneBrand=void 0,this.startLineNumber=y,this.endLineNumber=W,this.heightInLines=A,this.color=M,this._colorZone=null}static compare(y,W){return y.color===W.color?y.startLineNumber===W.startLineNumber?y.heightInLines===W.heightInLines?y.endLineNumber-W.endLineNumber:y.heightInLines-W.heightInLines:y.startLineNumber-W.startLineNumber:y.color<W.color?-1:1}setColorZone(y){this._colorZone=y}getColorZones(){return this._colorZone}}class z{constructor(y){this._getVerticalOffsetForLine=y,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(y){this._zones=y,this._zones.sort(d.compare)}setLineHeight(y){return this._lineHeight===y?!1:(this._lineHeight=y,this._colorZonesInvalid=!0,!0)}setPixelRatio(y){this._pixelRatio=y,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(y){return this._domWidth===y?!1:(this._domWidth=y,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(y){return this._domHeight===y?!1:(this._domHeight=y,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(y){return this._outerHeight===y?!1:(this._outerHeight=y,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const y=this._colorZonesInvalid,W=Math.floor(this._lineHeight),A=Math.floor(this.getCanvasHeight()),M=Math.floor(this._outerHeight),I=A/M,w=Math.floor(4*this._pixelRatio/2),_=[];for(let f=0,m=this._zones.length;f<m;f++){const a=this._zones[f];if(!y){const H=a.getColorZones();if(H){_.push(H);continue}}const x=this._getVerticalOffsetForLine(a.startLineNumber),k=a.heightInLines===0?this._getVerticalOffsetForLine(a.endLineNumber)+W:x+a.heightInLines*W,T=Math.floor(I*x),N=Math.floor(I*k);let L=Math.floor((T+N)/2),R=N-L;R<w&&(R=w),L-R<0&&(L=R),L+R>A&&(L=A-R);const b=a.color;let P=this._color2Id[b];P||(P=++this._lastAssignedId,this._color2Id[b]=P,this._id2Color[P]=b);const V=new C(L-R,L+R,P);a.setColorZone(V),_.push(V)}return this._colorZonesInvalid=!1,_.sort(C.compare),_}}},46311:function(it,Ee,l){"use strict";l.d(Ee,{$t:function(){return A},CU:function(){return y},Fd:function(){return W},zg:function(){return M}});var C=l(7747),d=l(50757),z=l(93831),O=l(36143);class y{constructor(_,f,m,a,x){this.editorId=_,this.model=f,this.configuration=m,this._linesCollection=a,this._coordinatesConverter=x,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(_){const f=_.id;let m=this._decorationsCache[f];if(!m){const a=_.range,x=_.options;let k;if(x.isWholeLine){const T=this._coordinatesConverter.convertModelPositionToViewPosition(new C.L(a.startLineNumber,1),0),N=this._coordinatesConverter.convertModelPositionToViewPosition(new C.L(a.endLineNumber,this.model.getLineMaxColumn(a.endLineNumber)),1);k=new d.e(T.lineNumber,T.column,N.lineNumber,N.column)}else k=this._coordinatesConverter.convertModelRangeToViewRange(a,1);m=new z.$l(k,x),this._decorationsCache[f]=m}return m}getDecorationsViewportData(_){let f=this._cachedModelDecorationsResolver!==null;return f=f&&_.equalsRange(this._cachedModelDecorationsResolverViewRange),f||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(_),this._cachedModelDecorationsResolverViewRange=_),this._cachedModelDecorationsResolver}_getDecorationsViewportData(_){const f=this._linesCollection.getDecorationsInRange(_,this.editorId,(0,O.$J)(this.configuration.options)),m=_.startLineNumber,a=_.endLineNumber,x=[];let k=0;const T=[];for(let N=m;N<=a;N++)T[N-m]=[];for(let N=0,L=f.length;N<L;N++){const R=f[N],b=R.options;if(!W(this.model,R))continue;const P=this._getOrCreateViewModelDecoration(R),V=P.range;if(x[k++]=P,b.inlineClassName){const H=new z.$t(V,b.inlineClassName,b.inlineClassNameAffectsLetterSpacing?3:0),ee=Math.max(m,V.startLineNumber),ae=Math.min(a,V.endLineNumber);for(let me=ee;me<=ae;me++)T[me-m].push(H)}if(b.beforeContentClassName&&m<=V.startLineNumber&&V.startLineNumber<=a){const H=new z.$t(new d.e(V.startLineNumber,V.startColumn,V.startLineNumber,V.startColumn),b.beforeContentClassName,1);T[V.startLineNumber-m].push(H)}if(b.afterContentClassName&&m<=V.endLineNumber&&V.endLineNumber<=a){const H=new z.$t(new d.e(V.endLineNumber,V.endColumn,V.endLineNumber,V.endColumn),b.afterContentClassName,2);T[V.endLineNumber-m].push(H)}}return{decorations:x,inlineDecorations:T}}}function W(w,_){return!(_.options.hideInCommentTokens&&A(w,_)||_.options.hideInStringTokens&&M(w,_))}function A(w,_){return I(w,_.range,f=>f===1)}function M(w,_){return I(w,_.range,f=>f===2)}function I(w,_,f){for(let m=_.startLineNumber;m<=_.endLineNumber;m++){const a=w.getLineTokens(m),x=m===_.startLineNumber,k=m===_.endLineNumber;let T=x?a.findTokenIndexAtOffset(_.startColumn-1):0;for(;T<a.getCount()&&!(k&&a.getStartOffset(T)>_.endColumn-1);){if(!f(a.getStandardTokenType(T)))return!1;T++}}return!0}},20299:function(it,Ee,l){"use strict";l.d(Ee,{yy:function(){return a},Dl:function(){return x},YQ:function(){return k}});var C=l(76311),d=l(50757),z=l(34484),O=l(1405),y=l(20244),W=l(96072),A=l(80200),M=l(95024),I=l(74896),w=l(82215);const _=(0,M.yh)("IEditorCancelService"),f=new W.uy("cancellableOperation",!1,(0,w.N)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));(0,I.z)(_,class{constructor(){this._tokens=new WeakMap}add(T,N){let L=this._tokens.get(T);L||(L=T.invokeWithinContext(b=>{const P=f.bindTo(b.get(W.i6)),V=new A.S;return{key:P,tokens:V}}),this._tokens.set(T,L));let R;return L.key.set(!0),R=L.tokens.push(N),()=>{R&&(R(),L.key.set(!L.tokens.isEmpty()),R=void 0)}}cancel(T){const N=this._tokens.get(T);if(!N)return;const L=N.tokens.pop();L&&(L.cancel(),N.key.set(!N.tokens.isEmpty()))}},!0);class m extends z.A{constructor(N,L){super(L),this.editor=N,this._unregister=N.invokeWithinContext(R=>R.get(_).add(N,this))}dispose(){this._unregister(),super.dispose()}}(0,y.fK)(new class extends y._l{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:f})}runEditorCommand(T,N){T.get(_).cancel(N)}});class a{constructor(N,L){if(this.flags=L,(this.flags&1)!==0){const R=N.getModel();this.modelVersionId=R?C.WU("{0}#{1}",R.uri.toString(),R.getVersionId()):null}else this.modelVersionId=null;(this.flags&4)!==0?this.position=N.getPosition():this.position=null,(this.flags&2)!==0?this.selection=N.getSelection():this.selection=null,(this.flags&8)!==0?(this.scrollLeft=N.getScrollLeft(),this.scrollTop=N.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(N){if(!(N instanceof a))return!1;const L=N;return!(this.modelVersionId!==L.modelVersionId||this.scrollLeft!==L.scrollLeft||this.scrollTop!==L.scrollTop||!this.position&&L.position||this.position&&!L.position||this.position&&L.position&&!this.position.equals(L.position)||!this.selection&&L.selection||this.selection&&!L.selection||this.selection&&L.selection&&!this.selection.equalsRange(L.selection))}validate(N){return this._equals(new a(N,this.flags))}}class x extends m{constructor(N,L,R,b){super(N,b),this._listener=new O.SL,L&4&&this._listener.add(N.onDidChangeCursorPosition(P=>{(!R||!d.e.containsPosition(R,P.position))&&this.cancel()})),L&2&&this._listener.add(N.onDidChangeCursorSelection(P=>{(!R||!d.e.containsRange(R,P.selection))&&this.cancel()})),L&8&&this._listener.add(N.onDidScrollChange(P=>this.cancel())),L&1&&(this._listener.add(N.onDidChangeModel(P=>this.cancel())),this._listener.add(N.onDidChangeModelContent(P=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class k extends z.A{constructor(N,L){super(L),this._listener=N.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}},29119:function(it,Ee,l){"use strict";l.d(Ee,{xC:function(){return ee},Zg:function(){return V},x$:function(){return ae},Qq:function(){return ge},Qs:function(){return $}});var C=l(74749),d=l(825),z=l(34484),O=l(91273),y=l(80050),W=l(80200),A=l(37061),M=l(47087),I=l(20299),w=l(73673),_=l(7747),f=l(50757),m=l(83141),a=l(41136),x=l(60166),k=l(51747),T=l(82215),N=l(58829);class L{constructor(ie){this.value=ie,this._lower=ie.toLowerCase()}static toKey(ie){return typeof ie=="string"?ie.toLowerCase():ie._lower}}var R=l(95024),b=l(85231),P=function(j,ie,J,oe){function ce(we){return we instanceof J?we:new J(function(Me){Me(we)})}return new(J||(J=Promise))(function(we,Me){function Ke(We){try{be(oe.next(We))}catch(et){Me(et)}}function De(We){try{be(oe.throw(We))}catch(et){Me(et)}}function be(We){We.done?we(We.value):ce(We.value).then(Ke,De)}be((oe=oe.apply(j,ie||[])).next())})};function V(j){if(j=j.filter(ce=>ce.range),!j.length)return;let{range:ie}=j[0];for(let ce=1;ce<j.length;ce++)ie=f.e.plusRange(ie,j[ce].range);const{startLineNumber:J,endLineNumber:oe}=ie;J===oe?j.length===1?(0,C.Z9)(T.N("hint11","Made 1 formatting edit on line {0}",J)):(0,C.Z9)(T.N("hintn1","Made {0} formatting edits on line {1}",j.length,J)):j.length===1?(0,C.Z9)(T.N("hint1n","Made 1 formatting edit between lines {0} and {1}",J,oe)):(0,C.Z9)(T.N("hintnn","Made {0} formatting edits between lines {1} and {2}",j.length,J,oe))}function H(j,ie,J){const oe=[],ce=new Set,we=j.ordered(J);for(const Ke of we)oe.push(Ke),Ke.extensionId&&ce.add(L.toKey(Ke.extensionId));const Me=ie.ordered(J);for(const Ke of Me){if(Ke.extensionId){if(ce.has(L.toKey(Ke.extensionId)))continue;ce.add(L.toKey(Ke.extensionId))}oe.push({displayName:Ke.displayName,extensionId:Ke.extensionId,provideDocumentFormattingEdits(De,be,We){return Ke.provideDocumentRangeFormattingEdits(De,De.getFullModelRange(),be,We)}})}return oe}class ee{static setFormatterSelector(ie){return{dispose:ee._selectors.unshift(ie)}}static select(ie,J,oe){return P(this,void 0,void 0,function*(){if(ie.length===0)return;const ce=y.$.first(ee._selectors);if(ce)return yield ce(ie,J,oe)})}}ee._selectors=new W.S;function ae(j,ie,J,oe,ce,we){return P(this,void 0,void 0,function*(){const Me=j.get(R.TG),{documentRangeFormattingEditProvider:Ke}=j.get(b.p),De=(0,w.CL)(ie)?ie.getModel():ie,be=Ke.ordered(De),We=yield ee.select(be,De,oe);We&&(ce.report(We),yield Me.invokeFunction(me,We,ie,J,we))})}function me(j,ie,J,oe,ce){return P(this,void 0,void 0,function*(){const we=j.get(a.p);let Me,Ke;(0,w.CL)(J)?(Me=J.getModel(),Ke=new I.Dl(J,5,void 0,ce)):(Me=J,Ke=new I.YQ(J,ce));let De=[],be=0;for(let tt of(0,d._2)(oe).sort(f.e.compareRangesUsingStarts))be>0&&f.e.areIntersectingOrTouching(De[be-1],tt)?De[be-1]=f.e.fromPositions(De[be-1].getStartPosition(),tt.getEndPosition()):be=De.push(tt);const We=tt=>P(this,void 0,void 0,function*(){return(yield ie.provideDocumentRangeFormattingEdits(Me,tt,Me.getFormattingOptions(),Ke.token))||[]}),et=(tt,kt)=>{if(!tt.length||!kt.length)return!1;const Ut=tt.reduce((Ft,Te)=>f.e.plusRange(Ft,Te.range),tt[0].range);if(!kt.some(Ft=>f.e.intersectRanges(Ut,Ft.range)))return!1;for(let Ft of tt)for(let Te of kt)if(f.e.intersectRanges(Ft.range,Te.range))return!0;return!1},Kt=[],_t=[];try{for(let tt of De){if(Ke.token.isCancellationRequested)return!0;_t.push(yield We(tt))}for(let tt=0;tt<De.length;++tt)for(let kt=tt+1;kt<De.length;++kt){if(Ke.token.isCancellationRequested)return!0;if(et(_t[tt],_t[kt])){const Ut=f.e.plusRange(De[tt],De[kt]),Ft=yield We(Ut);De.splice(kt,1),De.splice(tt,1),De.push(Ut),_t.splice(kt,1),_t.splice(tt,1),_t.push(Ft),tt=0,kt=0}}for(let tt of _t){if(Ke.token.isCancellationRequested)return!0;const kt=yield we.computeMoreMinimalEdits(Me.uri,tt);kt&&Kt.push(...kt)}}finally{Ke.dispose()}if(Kt.length===0)return!1;if((0,w.CL)(J))k.V.execute(J,Kt,!0),V(Kt),J.revealPositionInCenterIfOutsideViewport(J.getPosition(),1);else{const[{range:tt}]=Kt,kt=new m.Y(tt.startLineNumber,tt.startColumn,tt.endLineNumber,tt.endColumn);Me.pushEditOperations([kt],Kt.map(Ut=>({text:Ut.text,range:f.e.lift(Ut.range),forceMoveMarkers:!0})),Ut=>{for(const{range:Ft}of Ut)if(f.e.areIntersectingOrTouching(Ft,kt))return[new m.Y(Ft.startLineNumber,Ft.startColumn,Ft.endLineNumber,Ft.endColumn)];return null})}return!0})}function ge(j,ie,J,oe,ce){return P(this,void 0,void 0,function*(){const we=j.get(R.TG),Me=j.get(b.p),Ke=(0,w.CL)(ie)?ie.getModel():ie,De=H(Me.documentFormattingEditProvider,Me.documentRangeFormattingEditProvider,Ke),be=yield ee.select(De,Ke,J);be&&(oe.report(be),yield we.invokeFunction(re,be,ie,J,ce))})}function re(j,ie,J,oe,ce){return P(this,void 0,void 0,function*(){const we=j.get(a.p);let Me,Ke;(0,w.CL)(J)?(Me=J.getModel(),Ke=new I.Dl(J,5,void 0,ce)):(Me=J,Ke=new I.YQ(J,ce));let De;try{const be=yield ie.provideDocumentFormattingEdits(Me,Me.getFormattingOptions(),Ke.token);if(De=yield we.computeMoreMinimalEdits(Me.uri,be),Ke.token.isCancellationRequested)return!0}finally{Ke.dispose()}if(!De||De.length===0)return!1;if((0,w.CL)(J))k.V.execute(J,De,oe!==2),oe!==2&&(V(De),J.revealPositionInCenterIfOutsideViewport(J.getPosition(),1));else{const[{range:be}]=De,We=new m.Y(be.startLineNumber,be.startColumn,be.endLineNumber,be.endColumn);Me.pushEditOperations([We],De.map(et=>({text:et.text,range:f.e.lift(et.range),forceMoveMarkers:!0})),et=>{for(const{range:Kt}of et)if(f.e.areIntersectingOrTouching(Kt,We))return[new m.Y(Kt.startLineNumber,Kt.startColumn,Kt.endLineNumber,Kt.endColumn)];return null})}return!0})}function se(j,ie,J,oe,ce,we){return P(this,void 0,void 0,function*(){const Me=ie.documentRangeFormattingEditProvider.ordered(J);for(const Ke of Me){let De=yield Promise.resolve(Ke.provideDocumentRangeFormattingEdits(J,oe,ce,we)).catch(O.Cp);if((0,d.Of)(De))return yield j.computeMoreMinimalEdits(J.uri,De)}})}function X(j,ie,J,oe,ce){return P(this,void 0,void 0,function*(){const we=H(ie.documentFormattingEditProvider,ie.documentRangeFormattingEditProvider,J);for(const Me of we){let Ke=yield Promise.resolve(Me.provideDocumentFormattingEdits(J,oe,ce)).catch(O.Cp);if((0,d.Of)(Ke))return yield j.computeMoreMinimalEdits(J.uri,Ke)}})}function $(j,ie,J,oe,ce,we,Me){const Ke=ie.onTypeFormattingEditProvider.ordered(J);return Ke.length===0||Ke[0].autoFormatTriggerCharacters.indexOf(ce)<0?Promise.resolve(void 0):Promise.resolve(Ke[0].provideOnTypeFormattingEdits(J,oe,ce,we,Me)).catch(O.Cp).then(De=>j.computeMoreMinimalEdits(J.uri,De))}N.P0.registerCommand("_executeFormatRangeProvider",function(j,...ie){return P(this,void 0,void 0,function*(){const[J,oe,ce]=ie;(0,A.p_)(M.o.isUri(J)),(0,A.p_)(f.e.isIRange(oe));const we=j.get(x.S),Me=j.get(a.p),Ke=j.get(b.p),De=yield we.createModelReference(J);try{return se(Me,Ke,De.object.textEditorModel,f.e.lift(oe),ce,z.T.None)}finally{De.dispose()}})}),N.P0.registerCommand("_executeFormatDocumentProvider",function(j,...ie){return P(this,void 0,void 0,function*(){const[J,oe]=ie;(0,A.p_)(M.o.isUri(J));const ce=j.get(x.S),we=j.get(a.p),Me=j.get(b.p),Ke=yield ce.createModelReference(J);try{return X(we,Me,Ke.object.textEditorModel,oe,z.T.None)}finally{Ke.dispose()}})}),N.P0.registerCommand("_executeFormatOnTypeProvider",function(j,...ie){return P(this,void 0,void 0,function*(){const[J,oe,ce,we]=ie;(0,A.p_)(M.o.isUri(J)),(0,A.p_)(_.L.isIPosition(oe)),(0,A.p_)(typeof ce=="string");const Me=j.get(x.S),Ke=j.get(a.p),De=j.get(b.p),be=yield Me.createModelReference(J);try{return $(Ke,De,be.object.textEditorModel,_.L.lift(oe),ce,we,z.T.None)}finally{be.dispose()}})})},51747:function(it,Ee,l){"use strict";l.d(Ee,{V:function(){return z}});var C=l(16362),d=l(50757);class z{static _handleEolEdits(y,W){let A,M=[];for(let I of W)typeof I.eol=="number"&&(A=I.eol),I.range&&typeof I.text=="string"&&M.push(I);return typeof A=="number"&&y.hasModel()&&y.getModel().pushEOL(A),M}static _isFullModelReplaceEdit(y,W){if(!y.hasModel())return!1;const A=y.getModel(),M=A.validateRange(W.range);return A.getFullModelRange().equalsRange(M)}static execute(y,W,A){A&&y.pushUndoStop();const M=z._handleEolEdits(y,W);M.length===1&&z._isFullModelReplaceEdit(y,M[0])?y.executeEdits("formatEditsCommand",M.map(I=>C.h.replace(d.e.lift(I.range),I.text))):y.executeEdits("formatEditsCommand",M.map(I=>C.h.replaceMove(d.e.lift(I.range),I.text))),A&&y.pushUndoStop()}}},95021:function(it,Ee,l){"use strict";l.r(Ee),l.d(Ee,{CancellationTokenSource:function(){return Ug},Emitter:function(){return Ep},KeyCode:function(){return Dp},KeyMod:function(){return Mf},MarkerSeverity:function(){return Np},MarkerTag:function(){return Dh},Position:function(){return sl},Range:function(){return xp},Selection:function(){return jg},SelectionDirection:function(){return kf},Token:function(){return Ip},Uri:function(){return Pc},editor:function(){return Tp},languages:function(){return Rf}});var C=l(36143),d=l(34484),z=l(60774),O=l(52972),y=l(47087),W=l(7747),A=l(50757),M=l(83141),I=l(46250),w;(function(D){D[D.Unknown=0]="Unknown",D[D.Disabled=1]="Disabled",D[D.Enabled=2]="Enabled"})(w||(w={}));var _;(function(D){D[D.KeepWhitespace=1]="KeepWhitespace",D[D.InsertAsSnippet=4]="InsertAsSnippet"})(_||(_={}));var f;(function(D){D[D.Method=0]="Method",D[D.Function=1]="Function",D[D.Constructor=2]="Constructor",D[D.Field=3]="Field",D[D.Variable=4]="Variable",D[D.Class=5]="Class",D[D.Struct=6]="Struct",D[D.Interface=7]="Interface",D[D.Module=8]="Module",D[D.Property=9]="Property",D[D.Event=10]="Event",D[D.Operator=11]="Operator",D[D.Unit=12]="Unit",D[D.Value=13]="Value",D[D.Constant=14]="Constant",D[D.Enum=15]="Enum",D[D.EnumMember=16]="EnumMember",D[D.Keyword=17]="Keyword",D[D.Text=18]="Text",D[D.Color=19]="Color",D[D.File=20]="File",D[D.Reference=21]="Reference",D[D.Customcolor=22]="Customcolor",D[D.Folder=23]="Folder",D[D.TypeParameter=24]="TypeParameter",D[D.User=25]="User",D[D.Issue=26]="Issue",D[D.Snippet=27]="Snippet"})(f||(f={}));var m;(function(D){D[D.Deprecated=1]="Deprecated"})(m||(m={}));var a;(function(D){D[D.Invoke=0]="Invoke",D[D.TriggerCharacter=1]="TriggerCharacter",D[D.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(a||(a={}));var x;(function(D){D[D.EXACT=0]="EXACT",D[D.ABOVE=1]="ABOVE",D[D.BELOW=2]="BELOW"})(x||(x={}));var k;(function(D){D[D.NotSet=0]="NotSet",D[D.ContentFlush=1]="ContentFlush",D[D.RecoverFromMarkers=2]="RecoverFromMarkers",D[D.Explicit=3]="Explicit",D[D.Paste=4]="Paste",D[D.Undo=5]="Undo",D[D.Redo=6]="Redo"})(k||(k={}));var T;(function(D){D[D.LF=1]="LF",D[D.CRLF=2]="CRLF"})(T||(T={}));var N;(function(D){D[D.Text=0]="Text",D[D.Read=1]="Read",D[D.Write=2]="Write"})(N||(N={}));var L;(function(D){D[D.None=0]="None",D[D.Keep=1]="Keep",D[D.Brackets=2]="Brackets",D[D.Advanced=3]="Advanced",D[D.Full=4]="Full"})(L||(L={}));var R;(function(D){D[D.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",D[D.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",D[D.accessibilitySupport=2]="accessibilitySupport",D[D.accessibilityPageSize=3]="accessibilityPageSize",D[D.ariaLabel=4]="ariaLabel",D[D.autoClosingBrackets=5]="autoClosingBrackets",D[D.autoClosingDelete=6]="autoClosingDelete",D[D.autoClosingOvertype=7]="autoClosingOvertype",D[D.autoClosingQuotes=8]="autoClosingQuotes",D[D.autoIndent=9]="autoIndent",D[D.automaticLayout=10]="automaticLayout",D[D.autoSurround=11]="autoSurround",D[D.bracketPairColorization=12]="bracketPairColorization",D[D.guides=13]="guides",D[D.codeLens=14]="codeLens",D[D.codeLensFontFamily=15]="codeLensFontFamily",D[D.codeLensFontSize=16]="codeLensFontSize",D[D.colorDecorators=17]="colorDecorators",D[D.columnSelection=18]="columnSelection",D[D.comments=19]="comments",D[D.contextmenu=20]="contextmenu",D[D.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",D[D.cursorBlinking=22]="cursorBlinking",D[D.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",D[D.cursorStyle=24]="cursorStyle",D[D.cursorSurroundingLines=25]="cursorSurroundingLines",D[D.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",D[D.cursorWidth=27]="cursorWidth",D[D.disableLayerHinting=28]="disableLayerHinting",D[D.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",D[D.domReadOnly=30]="domReadOnly",D[D.dragAndDrop=31]="dragAndDrop",D[D.emptySelectionClipboard=32]="emptySelectionClipboard",D[D.extraEditorClassName=33]="extraEditorClassName",D[D.fastScrollSensitivity=34]="fastScrollSensitivity",D[D.find=35]="find",D[D.fixedOverflowWidgets=36]="fixedOverflowWidgets",D[D.folding=37]="folding",D[D.foldingStrategy=38]="foldingStrategy",D[D.foldingHighlight=39]="foldingHighlight",D[D.foldingImportsByDefault=40]="foldingImportsByDefault",D[D.foldingMaximumRegions=41]="foldingMaximumRegions",D[D.unfoldOnClickAfterEndOfLine=42]="unfoldOnClickAfterEndOfLine",D[D.fontFamily=43]="fontFamily",D[D.fontInfo=44]="fontInfo",D[D.fontLigatures=45]="fontLigatures",D[D.fontSize=46]="fontSize",D[D.fontWeight=47]="fontWeight",D[D.formatOnPaste=48]="formatOnPaste",D[D.formatOnType=49]="formatOnType",D[D.glyphMargin=50]="glyphMargin",D[D.gotoLocation=51]="gotoLocation",D[D.hideCursorInOverviewRuler=52]="hideCursorInOverviewRuler",D[D.hover=53]="hover",D[D.inDiffEditor=54]="inDiffEditor",D[D.inlineSuggest=55]="inlineSuggest",D[D.letterSpacing=56]="letterSpacing",D[D.lightbulb=57]="lightbulb",D[D.lineDecorationsWidth=58]="lineDecorationsWidth",D[D.lineHeight=59]="lineHeight",D[D.lineNumbers=60]="lineNumbers",D[D.lineNumbersMinChars=61]="lineNumbersMinChars",D[D.linkedEditing=62]="linkedEditing",D[D.links=63]="links",D[D.matchBrackets=64]="matchBrackets",D[D.minimap=65]="minimap",D[D.mouseStyle=66]="mouseStyle",D[D.mouseWheelScrollSensitivity=67]="mouseWheelScrollSensitivity",D[D.mouseWheelZoom=68]="mouseWheelZoom",D[D.multiCursorMergeOverlapping=69]="multiCursorMergeOverlapping",D[D.multiCursorModifier=70]="multiCursorModifier",D[D.multiCursorPaste=71]="multiCursorPaste",D[D.occurrencesHighlight=72]="occurrencesHighlight",D[D.overviewRulerBorder=73]="overviewRulerBorder",D[D.overviewRulerLanes=74]="overviewRulerLanes",D[D.padding=75]="padding",D[D.parameterHints=76]="parameterHints",D[D.peekWidgetDefaultFocus=77]="peekWidgetDefaultFocus",D[D.definitionLinkOpensInPeek=78]="definitionLinkOpensInPeek",D[D.quickSuggestions=79]="quickSuggestions",D[D.quickSuggestionsDelay=80]="quickSuggestionsDelay",D[D.readOnly=81]="readOnly",D[D.renameOnType=82]="renameOnType",D[D.renderControlCharacters=83]="renderControlCharacters",D[D.renderFinalNewline=84]="renderFinalNewline",D[D.renderLineHighlight=85]="renderLineHighlight",D[D.renderLineHighlightOnlyWhenFocus=86]="renderLineHighlightOnlyWhenFocus",D[D.renderValidationDecorations=87]="renderValidationDecorations",D[D.renderWhitespace=88]="renderWhitespace",D[D.revealHorizontalRightPadding=89]="revealHorizontalRightPadding",D[D.roundedSelection=90]="roundedSelection",D[D.rulers=91]="rulers",D[D.scrollbar=92]="scrollbar",D[D.scrollBeyondLastColumn=93]="scrollBeyondLastColumn",D[D.scrollBeyondLastLine=94]="scrollBeyondLastLine",D[D.scrollPredominantAxis=95]="scrollPredominantAxis",D[D.selectionClipboard=96]="selectionClipboard",D[D.selectionHighlight=97]="selectionHighlight",D[D.selectOnLineNumbers=98]="selectOnLineNumbers",D[D.showFoldingControls=99]="showFoldingControls",D[D.showUnused=100]="showUnused",D[D.snippetSuggestions=101]="snippetSuggestions",D[D.smartSelect=102]="smartSelect",D[D.smoothScrolling=103]="smoothScrolling",D[D.stickyTabStops=104]="stickyTabStops",D[D.stopRenderingLineAfter=105]="stopRenderingLineAfter",D[D.suggest=106]="suggest",D[D.suggestFontSize=107]="suggestFontSize",D[D.suggestLineHeight=108]="suggestLineHeight",D[D.suggestOnTriggerCharacters=109]="suggestOnTriggerCharacters",D[D.suggestSelection=110]="suggestSelection",D[D.tabCompletion=111]="tabCompletion",D[D.tabIndex=112]="tabIndex",D[D.unicodeHighlighting=113]="unicodeHighlighting",D[D.unusualLineTerminators=114]="unusualLineTerminators",D[D.useShadowDOM=115]="useShadowDOM",D[D.useTabStops=116]="useTabStops",D[D.wordSeparators=117]="wordSeparators",D[D.wordWrap=118]="wordWrap",D[D.wordWrapBreakAfterCharacters=119]="wordWrapBreakAfterCharacters",D[D.wordWrapBreakBeforeCharacters=120]="wordWrapBreakBeforeCharacters",D[D.wordWrapColumn=121]="wordWrapColumn",D[D.wordWrapOverride1=122]="wordWrapOverride1",D[D.wordWrapOverride2=123]="wordWrapOverride2",D[D.wrappingIndent=124]="wrappingIndent",D[D.wrappingStrategy=125]="wrappingStrategy",D[D.showDeprecated=126]="showDeprecated",D[D.inlayHints=127]="inlayHints",D[D.editorClassName=128]="editorClassName",D[D.pixelRatio=129]="pixelRatio",D[D.tabFocusMode=130]="tabFocusMode",D[D.layoutInfo=131]="layoutInfo",D[D.wrappingInfo=132]="wrappingInfo"})(R||(R={}));var b;(function(D){D[D.TextDefined=0]="TextDefined",D[D.LF=1]="LF",D[D.CRLF=2]="CRLF"})(b||(b={}));var P;(function(D){D[D.LF=0]="LF",D[D.CRLF=1]="CRLF"})(P||(P={}));var V;(function(D){D[D.None=0]="None",D[D.Indent=1]="Indent",D[D.IndentOutdent=2]="IndentOutdent",D[D.Outdent=3]="Outdent"})(V||(V={}));var H;(function(D){D[D.Both=0]="Both",D[D.Right=1]="Right",D[D.Left=2]="Left",D[D.None=3]="None"})(H||(H={}));var ee;(function(D){D[D.Type=1]="Type",D[D.Parameter=2]="Parameter"})(ee||(ee={}));var ae;(function(D){D[D.Automatic=0]="Automatic",D[D.Explicit=1]="Explicit"})(ae||(ae={}));var me;(function(D){D[D.DependsOnKbLayout=-1]="DependsOnKbLayout",D[D.Unknown=0]="Unknown",D[D.Backspace=1]="Backspace",D[D.Tab=2]="Tab",D[D.Enter=3]="Enter",D[D.Shift=4]="Shift",D[D.Ctrl=5]="Ctrl",D[D.Alt=6]="Alt",D[D.PauseBreak=7]="PauseBreak",D[D.CapsLock=8]="CapsLock",D[D.Escape=9]="Escape",D[D.Space=10]="Space",D[D.PageUp=11]="PageUp",D[D.PageDown=12]="PageDown",D[D.End=13]="End",D[D.Home=14]="Home",D[D.LeftArrow=15]="LeftArrow",D[D.UpArrow=16]="UpArrow",D[D.RightArrow=17]="RightArrow",D[D.DownArrow=18]="DownArrow",D[D.Insert=19]="Insert",D[D.Delete=20]="Delete",D[D.Digit0=21]="Digit0",D[D.Digit1=22]="Digit1",D[D.Digit2=23]="Digit2",D[D.Digit3=24]="Digit3",D[D.Digit4=25]="Digit4",D[D.Digit5=26]="Digit5",D[D.Digit6=27]="Digit6",D[D.Digit7=28]="Digit7",D[D.Digit8=29]="Digit8",D[D.Digit9=30]="Digit9",D[D.KeyA=31]="KeyA",D[D.KeyB=32]="KeyB",D[D.KeyC=33]="KeyC",D[D.KeyD=34]="KeyD",D[D.KeyE=35]="KeyE",D[D.KeyF=36]="KeyF",D[D.KeyG=37]="KeyG",D[D.KeyH=38]="KeyH",D[D.KeyI=39]="KeyI",D[D.KeyJ=40]="KeyJ",D[D.KeyK=41]="KeyK",D[D.KeyL=42]="KeyL",D[D.KeyM=43]="KeyM",D[D.KeyN=44]="KeyN",D[D.KeyO=45]="KeyO",D[D.KeyP=46]="KeyP",D[D.KeyQ=47]="KeyQ",D[D.KeyR=48]="KeyR",D[D.KeyS=49]="KeyS",D[D.KeyT=50]="KeyT",D[D.KeyU=51]="KeyU",D[D.KeyV=52]="KeyV",D[D.KeyW=53]="KeyW",D[D.KeyX=54]="KeyX",D[D.KeyY=55]="KeyY",D[D.KeyZ=56]="KeyZ",D[D.Meta=57]="Meta",D[D.ContextMenu=58]="ContextMenu",D[D.F1=59]="F1",D[D.F2=60]="F2",D[D.F3=61]="F3",D[D.F4=62]="F4",D[D.F5=63]="F5",D[D.F6=64]="F6",D[D.F7=65]="F7",D[D.F8=66]="F8",D[D.F9=67]="F9",D[D.F10=68]="F10",D[D.F11=69]="F11",D[D.F12=70]="F12",D[D.F13=71]="F13",D[D.F14=72]="F14",D[D.F15=73]="F15",D[D.F16=74]="F16",D[D.F17=75]="F17",D[D.F18=76]="F18",D[D.F19=77]="F19",D[D.NumLock=78]="NumLock",D[D.ScrollLock=79]="ScrollLock",D[D.Semicolon=80]="Semicolon",D[D.Equal=81]="Equal",D[D.Comma=82]="Comma",D[D.Minus=83]="Minus",D[D.Period=84]="Period",D[D.Slash=85]="Slash",D[D.Backquote=86]="Backquote",D[D.BracketLeft=87]="BracketLeft",D[D.Backslash=88]="Backslash",D[D.BracketRight=89]="BracketRight",D[D.Quote=90]="Quote",D[D.OEM_8=91]="OEM_8",D[D.IntlBackslash=92]="IntlBackslash",D[D.Numpad0=93]="Numpad0",D[D.Numpad1=94]="Numpad1",D[D.Numpad2=95]="Numpad2",D[D.Numpad3=96]="Numpad3",D[D.Numpad4=97]="Numpad4",D[D.Numpad5=98]="Numpad5",D[D.Numpad6=99]="Numpad6",D[D.Numpad7=100]="Numpad7",D[D.Numpad8=101]="Numpad8",D[D.Numpad9=102]="Numpad9",D[D.NumpadMultiply=103]="NumpadMultiply",D[D.NumpadAdd=104]="NumpadAdd",D[D.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",D[D.NumpadSubtract=106]="NumpadSubtract",D[D.NumpadDecimal=107]="NumpadDecimal",D[D.NumpadDivide=108]="NumpadDivide",D[D.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",D[D.ABNT_C1=110]="ABNT_C1",D[D.ABNT_C2=111]="ABNT_C2",D[D.AudioVolumeMute=112]="AudioVolumeMute",D[D.AudioVolumeUp=113]="AudioVolumeUp",D[D.AudioVolumeDown=114]="AudioVolumeDown",D[D.BrowserSearch=115]="BrowserSearch",D[D.BrowserHome=116]="BrowserHome",D[D.BrowserBack=117]="BrowserBack",D[D.BrowserForward=118]="BrowserForward",D[D.MediaTrackNext=119]="MediaTrackNext",D[D.MediaTrackPrevious=120]="MediaTrackPrevious",D[D.MediaStop=121]="MediaStop",D[D.MediaPlayPause=122]="MediaPlayPause",D[D.LaunchMediaPlayer=123]="LaunchMediaPlayer",D[D.LaunchMail=124]="LaunchMail",D[D.LaunchApp2=125]="LaunchApp2",D[D.Clear=126]="Clear",D[D.MAX_VALUE=127]="MAX_VALUE"})(me||(me={}));var ge;(function(D){D[D.Hint=1]="Hint",D[D.Info=2]="Info",D[D.Warning=4]="Warning",D[D.Error=8]="Error"})(ge||(ge={}));var re;(function(D){D[D.Unnecessary=1]="Unnecessary",D[D.Deprecated=2]="Deprecated"})(re||(re={}));var se;(function(D){D[D.Inline=1]="Inline",D[D.Gutter=2]="Gutter"})(se||(se={}));var X;(function(D){D[D.UNKNOWN=0]="UNKNOWN",D[D.TEXTAREA=1]="TEXTAREA",D[D.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",D[D.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",D[D.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",D[D.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",D[D.CONTENT_TEXT=6]="CONTENT_TEXT",D[D.CONTENT_EMPTY=7]="CONTENT_EMPTY",D[D.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",D[D.CONTENT_WIDGET=9]="CONTENT_WIDGET",D[D.OVERVIEW_RULER=10]="OVERVIEW_RULER",D[D.SCROLLBAR=11]="SCROLLBAR",D[D.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",D[D.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(X||(X={}));var $;(function(D){D[D.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",D[D.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",D[D.TOP_CENTER=2]="TOP_CENTER"})($||($={}));var j;(function(D){D[D.Left=1]="Left",D[D.Center=2]="Center",D[D.Right=4]="Right",D[D.Full=7]="Full"})(j||(j={}));var ie;(function(D){D[D.Left=0]="Left",D[D.Right=1]="Right",D[D.None=2]="None"})(ie||(ie={}));var J;(function(D){D[D.Off=0]="Off",D[D.On=1]="On",D[D.Relative=2]="Relative",D[D.Interval=3]="Interval",D[D.Custom=4]="Custom"})(J||(J={}));var oe;(function(D){D[D.None=0]="None",D[D.Text=1]="Text",D[D.Blocks=2]="Blocks"})(oe||(oe={}));var ce;(function(D){D[D.Smooth=0]="Smooth",D[D.Immediate=1]="Immediate"})(ce||(ce={}));var we;(function(D){D[D.Auto=1]="Auto",D[D.Hidden=2]="Hidden",D[D.Visible=3]="Visible"})(we||(we={}));var Me;(function(D){D[D.LTR=0]="LTR",D[D.RTL=1]="RTL"})(Me||(Me={}));var Ke;(function(D){D[D.Invoke=1]="Invoke",D[D.TriggerCharacter=2]="TriggerCharacter",D[D.ContentChange=3]="ContentChange"})(Ke||(Ke={}));var De;(function(D){D[D.File=0]="File",D[D.Module=1]="Module",D[D.Namespace=2]="Namespace",D[D.Package=3]="Package",D[D.Class=4]="Class",D[D.Method=5]="Method",D[D.Property=6]="Property",D[D.Field=7]="Field",D[D.Constructor=8]="Constructor",D[D.Enum=9]="Enum",D[D.Interface=10]="Interface",D[D.Function=11]="Function",D[D.Variable=12]="Variable",D[D.Constant=13]="Constant",D[D.String=14]="String",D[D.Number=15]="Number",D[D.Boolean=16]="Boolean",D[D.Array=17]="Array",D[D.Object=18]="Object",D[D.Key=19]="Key",D[D.Null=20]="Null",D[D.EnumMember=21]="EnumMember",D[D.Struct=22]="Struct",D[D.Event=23]="Event",D[D.Operator=24]="Operator",D[D.TypeParameter=25]="TypeParameter"})(De||(De={}));var be;(function(D){D[D.Deprecated=1]="Deprecated"})(be||(be={}));var We;(function(D){D[D.Hidden=0]="Hidden",D[D.Blink=1]="Blink",D[D.Smooth=2]="Smooth",D[D.Phase=3]="Phase",D[D.Expand=4]="Expand",D[D.Solid=5]="Solid"})(We||(We={}));var et;(function(D){D[D.Line=1]="Line",D[D.Block=2]="Block",D[D.Underline=3]="Underline",D[D.LineThin=4]="LineThin",D[D.BlockOutline=5]="BlockOutline",D[D.UnderlineThin=6]="UnderlineThin"})(et||(et={}));var Kt;(function(D){D[D.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",D[D.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",D[D.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",D[D.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(Kt||(Kt={}));var _t;(function(D){D[D.None=0]="None",D[D.Same=1]="Same",D[D.Indent=2]="Indent",D[D.DeepIndent=3]="DeepIndent"})(_t||(_t={}));class tt{static chord(o,u){return(0,O.gx)(o,u)}}tt.CtrlCmd=2048,tt.Shift=1024,tt.Alt=512,tt.WinCtrl=256;function kt(){return{editor:void 0,languages:void 0,CancellationTokenSource:d.A,Emitter:z.Q5,KeyCode:me,KeyMod:tt,Position:W.L,Range:A.e,Selection:M.Y,SelectionDirection:Me,MarkerSeverity:ge,MarkerTag:re,Uri:y.o,Token:I.WU}}var Ut=l(76311),Ft=l(87567),Te=l(31753),Ge=l(24671),Et=l(69367),Wt=l(35405),Ze=l(62420),xe=l(34181),ve=l(62318),$e=l(50661),at=l(20169),Tt=l(57186),Mt=l(1405),gt=l(91273),Rt=l(24180),Zt=l(37061);const hn="$initialize";let Pe=!1;function en(D){!Rt.$L||(Pe||(Pe=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(D.message))}class vt{constructor(o,u,E,K){this.vsWorker=o,this.req=u,this.method=E,this.args=K,this.type=0}}class Le{constructor(o,u,E,K){this.vsWorker=o,this.seq=u,this.res=E,this.err=K,this.type=1}}class nn{constructor(o,u,E,K){this.vsWorker=o,this.req=u,this.eventName=E,this.arg=K,this.type=2}}class sn{constructor(o,u,E){this.vsWorker=o,this.req=u,this.event=E,this.type=3}}class ei{constructor(o,u){this.vsWorker=o,this.req=u,this.type=4}}class wn{constructor(o){this._workerId=-1,this._handler=o,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(o){this._workerId=o}sendMessage(o,u){const E=String(++this._lastSentReq);return new Promise((K,te)=>{this._pendingReplies[E]={resolve:K,reject:te},this._send(new vt(this._workerId,E,o,u))})}listen(o,u){let E=null;const K=new z.Q5({onFirstListenerAdd:()=>{E=String(++this._lastSentReq),this._pendingEmitters.set(E,K),this._send(new nn(this._workerId,E,o,u))},onLastListenerRemove:()=>{this._pendingEmitters.delete(E),this._send(new ei(this._workerId,E)),E=null}});return K.event}handleMessage(o){!o||!o.vsWorker||this._workerId!==-1&&o.vsWorker!==this._workerId||this._handleMessage(o)}_handleMessage(o){switch(o.type){case 1:return this._handleReplyMessage(o);case 0:return this._handleRequestMessage(o);case 2:return this._handleSubscribeEventMessage(o);case 3:return this._handleEventMessage(o);case 4:return this._handleUnsubscribeEventMessage(o)}}_handleReplyMessage(o){if(!this._pendingReplies[o.seq]){console.warn("Got reply to unknown seq");return}let u=this._pendingReplies[o.seq];if(delete this._pendingReplies[o.seq],o.err){let E=o.err;o.err.$isError&&(E=new Error,E.name=o.err.name,E.message=o.err.message,E.stack=o.err.stack),u.reject(E);return}u.resolve(o.res)}_handleRequestMessage(o){let u=o.req;this._handler.handleMessage(o.method,o.args).then(K=>{this._send(new Le(this._workerId,u,K,void 0))},K=>{K.detail instanceof Error&&(K.detail=(0,gt.ri)(K.detail)),this._send(new Le(this._workerId,u,void 0,(0,gt.ri)(K)))})}_handleSubscribeEventMessage(o){const u=o.req,E=this._handler.handleEvent(o.eventName,o.arg)(K=>{this._send(new sn(this._workerId,u,K))});this._pendingEvents.set(u,E)}_handleEventMessage(o){if(!this._pendingEmitters.has(o.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(o.req).fire(o.event)}_handleUnsubscribeEventMessage(o){if(!this._pendingEvents.has(o.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(o.req).dispose(),this._pendingEvents.delete(o.req)}_send(o){let u=[];if(o.type===0)for(let E=0;E<o.args.length;E++)o.args[E]instanceof ArrayBuffer&&u.push(o.args[E]);else o.type===1&&o.res instanceof ArrayBuffer&&u.push(o.res);this._handler.sendMessage(o,u)}}class Ne extends Mt.JT{constructor(o,u,E){super();let K=null;this._worker=this._register(o.create("vs/base/common/worker/simpleWorker",rt=>{this._protocol.handleMessage(rt)},rt=>{K&&K(rt)})),this._protocol=new wn({sendMessage:(rt,ct)=>{this._worker.postMessage(rt,ct)},handleMessage:(rt,ct)=>{if(typeof E[rt]!="function")return Promise.reject(new Error("Missing method "+rt+" on main thread host."));try{return Promise.resolve(E[rt].apply(E,ct))}catch(zt){return Promise.reject(zt)}},handleEvent:(rt,ct)=>{if(ht(rt)){const zt=E[rt].call(E,ct);if(typeof zt!="function")throw new Error(`Missing dynamic event ${rt} on main thread host.`);return zt}if(Fe(rt)){const zt=E[rt];if(typeof zt!="function")throw new Error(`Missing event ${rt} on main thread host.`);return zt}throw new Error(`Malformed event name ${rt}`)}}),this._protocol.setWorkerId(this._worker.getId());let te=null;typeof Rt.li.require!="undefined"&&typeof Rt.li.require.getConfig=="function"?te=Rt.li.require.getConfig():typeof Rt.li.requirejs!="undefined"&&(te=Rt.li.requirejs.s.contexts._.config);const ue=Zt.$E(E);this._onModuleLoaded=this._protocol.sendMessage(hn,[this._worker.getId(),JSON.parse(JSON.stringify(te)),u,ue]);const _e=(rt,ct)=>this._request(rt,ct),je=(rt,ct)=>this._protocol.listen(rt,ct);this._lazyProxy=new Promise((rt,ct)=>{K=ct,this._onModuleLoaded.then(zt=>{rt(Qt(zt,_e,je))},zt=>{ct(zt),this._onError("Worker failed to load "+u,zt)})})}getProxyObject(){return this._lazyProxy}_request(o,u){return new Promise((E,K)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(o,u).then(E,K)},K)})}_onError(o,u){console.error(o),console.info(u)}}function Fe(D){return D[0]==="o"&&D[1]==="n"&&Ut.df(D.charCodeAt(2))}function ht(D){return/^onDynamic/.test(D)&&Ut.df(D.charCodeAt(9))}function Qt(D,o,u){const E=ue=>function(){const _e=Array.prototype.slice.call(arguments,0);return o(ue,_e)},K=ue=>function(_e){return u(ue,_e)};let te={};for(const ue of D){if(ht(ue)){te[ue]=K(ue);continue}if(Fe(ue)){te[ue]=u(ue,void 0);continue}te[ue]=E(ue)}return te}class dn{constructor(o,u){this._requestHandlerFactory=u,this._requestHandler=null,this._protocol=new wn({sendMessage:(E,K)=>{o(E,K)},handleMessage:(E,K)=>this._handleMessage(E,K),handleEvent:(E,K)=>this._handleEvent(E,K)})}onmessage(o){this._protocol.handleMessage(o)}_handleMessage(o,u){if(o===hn)return this.initialize(u[0],u[1],u[2],u[3]);if(!this._requestHandler||typeof this._requestHandler[o]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+o));try{return Promise.resolve(this._requestHandler[o].apply(this._requestHandler,u))}catch(E){return Promise.reject(E)}}_handleEvent(o,u){if(!this._requestHandler)throw new Error("Missing requestHandler");if(ht(o)){const E=this._requestHandler[o].call(this._requestHandler,u);if(typeof E!="function")throw new Error(`Missing dynamic event ${o} on request handler.`);return E}if(Fe(o)){const E=this._requestHandler[o];if(typeof E!="function")throw new Error(`Missing event ${o} on request handler.`);return E}throw new Error(`Malformed event name ${o}`)}initialize(o,u,E,K){this._protocol.setWorkerId(o);const _e=Qt(K,(je,rt)=>this._protocol.sendMessage(je,rt),(je,rt)=>this._protocol.listen(je,rt));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(_e),Promise.resolve(types.getAllMethodNames(this._requestHandler))):(u&&(typeof u.baseUrl!="undefined"&&delete u.baseUrl,typeof u.paths!="undefined"&&typeof u.paths.vs!="undefined"&&delete u.paths.vs,typeof u.trustedTypesPolicy!==void 0&&delete u.trustedTypesPolicy,u.catchError=!0,globals.require.config(u)),new Promise((je,rt)=>{const ct=globals.require;ct([E],zt=>{if(this._requestHandler=zt.create(_e),!this._requestHandler){rt(new Error("No RequestHandler!"));return}je(types.getAllMethodNames(this._requestHandler))},rt)}))}}function gn(D){return new dn(D,null)}var Ht;const lt=(Ht=window.trustedTypes)===null||Ht===void 0?void 0:Ht.createPolicy("defaultWorkerFactory",{createScriptURL:D=>D});function Cn(D){if(Rt.li.MonacoEnvironment){if(typeof Rt.li.MonacoEnvironment.getWorker=="function")return Rt.li.MonacoEnvironment.getWorker("workerMain.js",D);if(typeof Rt.li.MonacoEnvironment.getWorkerUrl=="function"){const o=Rt.li.MonacoEnvironment.getWorkerUrl("workerMain.js",D);return new Worker(lt?lt.createScriptURL(o):o,{name:D})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function Ue(D){return typeof D.then=="function"}class Pt{constructor(o,u,E,K,te){this.id=u;const ue=Cn(E);Ue(ue)?this.worker=ue:this.worker=Promise.resolve(ue),this.postMessage(o,[]),this.worker.then(_e=>{_e.onmessage=function(je){K(je.data)},_e.onmessageerror=te,typeof _e.addEventListener=="function"&&_e.addEventListener("error",te)})}getId(){return this.id}postMessage(o,u){this.worker&&this.worker.then(E=>E.postMessage(o,u))}dispose(){this.worker&&this.worker.then(o=>o.terminate()),this.worker=null}}class Lt{constructor(o){this._label=o,this._webWorkerFailedBeforeError=!1}create(o,u,E){let K=++Lt.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new Pt(o,K,this._label||"anonymous"+K,u,te=>{en(te),this._webWorkerFailedBeforeError=te,E(te)})}}Lt.LAST_WORKER_ID=0;var He=l(42946);const Ve=3;function Se(D,o,u,E){return new He.Hs(D,o,u).ComputeDiff(E)}class St{constructor(o){const u=[],E=[];for(let K=0,te=o.length;K<te;K++)u[K]=xn(o[K],1),E[K]=Xn(o[K],1);this.lines=o,this._startColumns=u,this._endColumns=E}getElements(){const o=[];for(let u=0,E=this.lines.length;u<E;u++)o[u]=this.lines[u].substring(this._startColumns[u]-1,this._endColumns[u]-1);return o}getStrictElement(o){return this.lines[o]}getStartLineNumber(o){return o+1}getEndLineNumber(o){return o+1}createCharSequence(o,u,E){const K=[],te=[],ue=[];let _e=0;for(let je=u;je<=E;je++){const rt=this.lines[je],ct=o?this._startColumns[je]:1,zt=o?this._endColumns[je]:rt.length+1;for(let Fn=ct;Fn<zt;Fn++)K[_e]=rt.charCodeAt(Fn-1),te[_e]=je+1,ue[_e]=Fn,_e++}return new Jt(K,te,ue)}}class Jt{constructor(o,u,E){this._charCodes=o,this._lineNumbers=u,this._columns=E}getElements(){return this._charCodes}getStartLineNumber(o){return this._lineNumbers[o]}getStartColumn(o){return this._columns[o]}getEndLineNumber(o){return this._lineNumbers[o]}getEndColumn(o){return this._columns[o]+1}}class mn{constructor(o,u,E,K,te,ue,_e,je){this.originalStartLineNumber=o,this.originalStartColumn=u,this.originalEndLineNumber=E,this.originalEndColumn=K,this.modifiedStartLineNumber=te,this.modifiedStartColumn=ue,this.modifiedEndLineNumber=_e,this.modifiedEndColumn=je}static createFromDiffChange(o,u,E){let K,te,ue,_e,je,rt,ct,zt;return o.originalLength===0?(K=0,te=0,ue=0,_e=0):(K=u.getStartLineNumber(o.originalStart),te=u.getStartColumn(o.originalStart),ue=u.getEndLineNumber(o.originalStart+o.originalLength-1),_e=u.getEndColumn(o.originalStart+o.originalLength-1)),o.modifiedLength===0?(je=0,rt=0,ct=0,zt=0):(je=E.getStartLineNumber(o.modifiedStart),rt=E.getStartColumn(o.modifiedStart),ct=E.getEndLineNumber(o.modifiedStart+o.modifiedLength-1),zt=E.getEndColumn(o.modifiedStart+o.modifiedLength-1)),new mn(K,te,ue,_e,je,rt,ct,zt)}}function Mn(D){if(D.length<=1)return D;const o=[D[0]];let u=o[0];for(let E=1,K=D.length;E<K;E++){const te=D[E],ue=te.originalStart-(u.originalStart+u.originalLength),_e=te.modifiedStart-(u.modifiedStart+u.modifiedLength);Math.min(ue,_e)<Ve?(u.originalLength=te.originalStart+te.originalLength-u.originalStart,u.modifiedLength=te.modifiedStart+te.modifiedLength-u.modifiedStart):(o.push(te),u=te)}return o}class kn{constructor(o,u,E,K,te){this.originalStartLineNumber=o,this.originalEndLineNumber=u,this.modifiedStartLineNumber=E,this.modifiedEndLineNumber=K,this.charChanges=te}static createFromDiffResult(o,u,E,K,te,ue,_e){let je,rt,ct,zt,Fn;if(u.originalLength===0?(je=E.getStartLineNumber(u.originalStart)-1,rt=0):(je=E.getStartLineNumber(u.originalStart),rt=E.getEndLineNumber(u.originalStart+u.originalLength-1)),u.modifiedLength===0?(ct=K.getStartLineNumber(u.modifiedStart)-1,zt=0):(ct=K.getStartLineNumber(u.modifiedStart),zt=K.getEndLineNumber(u.modifiedStart+u.modifiedLength-1)),ue&&u.originalLength>0&&u.originalLength<20&&u.modifiedLength>0&&u.modifiedLength<20&&te()){const ii=E.createCharSequence(o,u.originalStart,u.originalStart+u.originalLength-1),Ti=K.createCharSequence(o,u.modifiedStart,u.modifiedStart+u.modifiedLength-1);let Es=Se(ii,Ti,te,!0).changes;_e&&(Es=Mn(Es)),Fn=[];for(let hs=0,po=Es.length;hs<po;hs++)Fn.push(mn.createFromDiffChange(Es[hs],ii,Ti))}return new kn(je,rt,ct,zt,Fn)}}class Nn{constructor(o,u,E){this.shouldComputeCharChanges=E.shouldComputeCharChanges,this.shouldPostProcessCharChanges=E.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=E.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=E.shouldMakePrettyDiff,this.originalLines=o,this.modifiedLines=u,this.original=new St(o),this.modified=new St(u),this.continueLineDiff=Sn(E.maxComputationTime),this.continueCharDiff=Sn(E.maxComputationTime===0?0:Math.min(E.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const o=Se(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),u=o.changes,E=o.quitEarly;if(this.shouldIgnoreTrimWhitespace){const _e=[];for(let je=0,rt=u.length;je<rt;je++)_e.push(kn.createFromDiffResult(this.shouldIgnoreTrimWhitespace,u[je],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:E,changes:_e}}const K=[];let te=0,ue=0;for(let _e=-1,je=u.length;_e<je;_e++){const rt=_e+1<je?u[_e+1]:null,ct=rt?rt.originalStart:this.originalLines.length,zt=rt?rt.modifiedStart:this.modifiedLines.length;for(;te<ct&&ue<zt;){const Fn=this.originalLines[te],ii=this.modifiedLines[ue];if(Fn!==ii){{let Ti=xn(Fn,1),Es=xn(ii,1);for(;Ti>1&&Es>1;){const hs=Fn.charCodeAt(Ti-2),po=ii.charCodeAt(Es-2);if(hs!==po)break;Ti--,Es--}(Ti>1||Es>1)&&this._pushTrimWhitespaceCharChange(K,te+1,1,Ti,ue+1,1,Es)}{let Ti=Xn(Fn,1),Es=Xn(ii,1);const hs=Fn.length+1,po=ii.length+1;for(;Ti<hs&&Es<po;){const Ps=Fn.charCodeAt(Ti-1),os=Fn.charCodeAt(Es-1);if(Ps!==os)break;Ti++,Es++}(Ti<hs||Es<po)&&this._pushTrimWhitespaceCharChange(K,te+1,Ti,hs,ue+1,Es,po)}}te++,ue++}rt&&(K.push(kn.createFromDiffResult(this.shouldIgnoreTrimWhitespace,rt,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),te+=rt.originalLength,ue+=rt.modifiedLength)}return{quitEarly:E,changes:K}}_pushTrimWhitespaceCharChange(o,u,E,K,te,ue,_e){if(this._mergeTrimWhitespaceCharChange(o,u,E,K,te,ue,_e))return;let je;this.shouldComputeCharChanges&&(je=[new mn(u,E,u,K,te,ue,te,_e)]),o.push(new kn(u,u,te,te,je))}_mergeTrimWhitespaceCharChange(o,u,E,K,te,ue,_e){const je=o.length;if(je===0)return!1;const rt=o[je-1];return rt.originalEndLineNumber===0||rt.modifiedEndLineNumber===0?!1:rt.originalEndLineNumber+1===u&&rt.modifiedEndLineNumber+1===te?(rt.originalEndLineNumber=u,rt.modifiedEndLineNumber=te,this.shouldComputeCharChanges&&rt.charChanges&&rt.charChanges.push(new mn(u,E,u,K,te,ue,te,_e)),!0):!1}}function xn(D,o){const u=Ut.LC(D);return u===-1?o:u+1}function Xn(D,o){const u=Ut.ow(D);return u===-1?o:u+2}function Sn(D){if(D===0)return()=>!0;const o=Date.now();return()=>Date.now()-o<D}var Gn=l(66336);class ti{constructor(o,u,E,K){this._uri=o,this._lines=u,this._eol=E,this._versionId=K,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(o){o.eol&&o.eol!==this._eol&&(this._eol=o.eol,this._lineStarts=null);const u=o.changes;for(const E of u)this._acceptDeleteRange(E.range),this._acceptInsertText(new W.L(E.range.startLineNumber,E.range.startColumn),E.text);this._versionId=o.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const o=this._eol.length,u=this._lines.length,E=new Uint32Array(u);for(let K=0;K<u;K++)E[K]=this._lines[K].length+o;this._lineStarts=new Gn.oQ(E)}}_setLineText(o,u){this._lines[o]=u,this._lineStarts&&this._lineStarts.setValue(o,this._lines[o].length+this._eol.length)}_acceptDeleteRange(o){if(o.startLineNumber===o.endLineNumber){if(o.startColumn===o.endColumn)return;this._setLineText(o.startLineNumber-1,this._lines[o.startLineNumber-1].substring(0,o.startColumn-1)+this._lines[o.startLineNumber-1].substring(o.endColumn-1));return}this._setLineText(o.startLineNumber-1,this._lines[o.startLineNumber-1].substring(0,o.startColumn-1)+this._lines[o.endLineNumber-1].substring(o.endColumn-1)),this._lines.splice(o.startLineNumber,o.endLineNumber-o.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(o.startLineNumber,o.endLineNumber-o.startLineNumber)}_acceptInsertText(o,u){if(u.length===0)return;const E=(0,Ut.uq)(u);if(E.length===1){this._setLineText(o.lineNumber-1,this._lines[o.lineNumber-1].substring(0,o.column-1)+E[0]+this._lines[o.lineNumber-1].substring(o.column-1));return}E[E.length-1]+=this._lines[o.lineNumber-1].substring(o.column-1),this._setLineText(o.lineNumber-1,this._lines[o.lineNumber-1].substring(0,o.column-1)+E[0]);const K=new Uint32Array(E.length-1);for(let te=1;te<E.length;te++)this._lines.splice(o.lineNumber+te-1,0,E[te]),K[te-1]=E[te].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(o.lineNumber,K)}}var An=l(62501),Bi=l(81818);class oi{constructor(o,u,E){const K=new Uint8Array(o*u);for(let te=0,ue=o*u;te<ue;te++)K[te]=E;this._data=K,this.rows=o,this.cols=u}get(o,u){return this._data[o*this.cols+u]}set(o,u,E){this._data[o*this.cols+u]=E}}class Yn{constructor(o){let u=0,E=0;for(let te=0,ue=o.length;te<ue;te++){const[_e,je,rt]=o[te];je>u&&(u=je),_e>E&&(E=_e),rt>E&&(E=rt)}u++,E++;const K=new oi(E,u,0);for(let te=0,ue=o.length;te<ue;te++){const[_e,je,rt]=o[te];K.set(_e,je,rt)}this._states=K,this._maxCharCode=u}nextState(o,u){return u<0||u>=this._maxCharCode?0:this._states.get(o,u)}}let Ci=null;function On(){return Ci===null&&(Ci=new Yn([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),Ci}let Si=null;function Di(){if(Si===null){Si=new Bi.N(0);const D=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let u=0;u<D.length;u++)Si.set(D.charCodeAt(u),1);const o=".,;";for(let u=0;u<o.length;u++)Si.set(o.charCodeAt(u),2)}return Si}class ni{static _createLink(o,u,E,K,te){let ue=te-1;do{const _e=u.charCodeAt(ue);if(o.get(_e)!==2)break;ue--}while(ue>K);if(K>0){const _e=u.charCodeAt(K-1),je=u.charCodeAt(ue);(_e===40&&je===41||_e===91&&je===93||_e===123&&je===125)&&ue--}return{range:{startLineNumber:E,startColumn:K+1,endLineNumber:E,endColumn:ue+2},url:u.substring(K,ue+1)}}static computeLinks(o,u=On()){const E=Di(),K=[];for(let te=1,ue=o.getLineCount();te<=ue;te++){const _e=o.getLineContent(te),je=_e.length;let rt=0,ct=0,zt=0,Fn=1,ii=!1,Ti=!1,Es=!1,hs=!1;for(;rt<je;){let po=!1;const Ps=_e.charCodeAt(rt);if(Fn===13){let os;switch(Ps){case 40:ii=!0,os=0;break;case 41:os=ii?0:1;break;case 91:Es=!0,Ti=!0,os=0;break;case 93:Es=!1,os=Ti?0:1;break;case 123:hs=!0,os=0;break;case 125:os=hs?0:1;break;case 39:os=zt===34||zt===96?0:1;break;case 34:os=zt===39||zt===96?0:1;break;case 96:os=zt===39||zt===34?0:1;break;case 42:os=zt===42?1:0;break;case 124:os=zt===124?1:0;break;case 32:os=Es?0:1;break;default:os=E.get(Ps)}os===1&&(K.push(ni._createLink(E,_e,te,ct,rt)),po=!0)}else if(Fn===12){let os;Ps===91?(Ti=!0,os=0):os=E.get(Ps),os===1?po=!0:Fn=13}else Fn=u.nextState(Fn,Ps),Fn===0&&(po=!0);po&&(Fn=1,ii=!1,Ti=!1,hs=!1,ct=rt+1,zt=Ps),rt++}Fn===13&&K.push(ni._createLink(E,_e,te,ct,je))}return K}}function Kn(D){return!D||typeof D.getLineCount!="function"||typeof D.getLineContent!="function"?[]:ni.computeLinks(D)}class Pi{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(o,u,E,K,te){if(o&&u){const ue=this.doNavigateValueSet(u,te);if(ue)return{range:o,value:ue}}if(E&&K){const ue=this.doNavigateValueSet(K,te);if(ue)return{range:E,value:ue}}return null}doNavigateValueSet(o,u){const E=this.numberReplace(o,u);return E!==null?E:this.textReplace(o,u)}numberReplace(o,u){const E=Math.pow(10,o.length-(o.lastIndexOf(".")+1));let K=Number(o),te=parseFloat(o);return!isNaN(K)&&!isNaN(te)&&K===te?K===0&&!u?null:(K=Math.floor(K*E),K+=u?E:-E,String(K/E)):null}textReplace(o,u){return this.valueSetsReplace(this._defaultValueSet,o,u)}valueSetsReplace(o,u,E){let K=null;for(let te=0,ue=o.length;K===null&&te<ue;te++)K=this.valueSetReplace(o[te],u,E);return K}valueSetReplace(o,u,E){let K=o.indexOf(u);return K>=0?(K+=E?1:-1,K<0?K=o.length-1:K%=o.length,o[K]):null}}Pi.INSTANCE=new Pi;var Vi=l(57734),Oi=l(66210),_i=function(D,o,u,E){function K(te){return te instanceof u?te:new u(function(ue){ue(te)})}return new(u||(u=Promise))(function(te,ue){function _e(ct){try{rt(E.next(ct))}catch(zt){ue(zt)}}function je(ct){try{rt(E.throw(ct))}catch(zt){ue(zt)}}function rt(ct){ct.done?te(ct.value):K(ct.value).then(_e,je)}rt((E=E.apply(D,o||[])).next())})};class Ye extends ti{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(o){return this._lines[o-1]}getWordAtPosition(o,u){const E=(0,An.t2)(o.column,(0,An.eq)(u),this._lines[o.lineNumber-1],0);return E?new A.e(o.lineNumber,E.startColumn,o.lineNumber,E.endColumn):null}words(o){const u=this._lines,E=this._wordenize.bind(this);let K=0,te="",ue=0,_e=[];return{*[Symbol.iterator](){for(;;)if(ue<_e.length){const je=te.substring(_e[ue].start,_e[ue].end);ue+=1,yield je}else if(K<u.length)te=u[K],_e=E(te,o),ue=0,K+=1;else break}}}getLineWords(o,u){const E=this._lines[o-1],K=this._wordenize(E,u),te=[];for(const ue of K)te.push({word:E.substring(ue.start,ue.end),startColumn:ue.start+1,endColumn:ue.end+1});return te}_wordenize(o,u){const E=[];let K;for(u.lastIndex=0;(K=u.exec(o))&&K[0].length!==0;)E.push({start:K.index,end:K.index+K[0].length});return E}getValueInRange(o){if(o=this._validateRange(o),o.startLineNumber===o.endLineNumber)return this._lines[o.startLineNumber-1].substring(o.startColumn-1,o.endColumn-1);const u=this._eol,E=o.startLineNumber-1,K=o.endLineNumber-1,te=[];te.push(this._lines[E].substring(o.startColumn-1));for(let ue=E+1;ue<K;ue++)te.push(this._lines[ue]);return te.push(this._lines[K].substring(0,o.endColumn-1)),te.join(u)}offsetAt(o){return o=this._validatePosition(o),this._ensureLineStarts(),this._lineStarts.getPrefixSum(o.lineNumber-2)+(o.column-1)}positionAt(o){o=Math.floor(o),o=Math.max(0,o),this._ensureLineStarts();const u=this._lineStarts.getIndexOf(o),E=this._lines[u.index].length;return{lineNumber:1+u.index,column:1+Math.min(u.remainder,E)}}_validateRange(o){const u=this._validatePosition({lineNumber:o.startLineNumber,column:o.startColumn}),E=this._validatePosition({lineNumber:o.endLineNumber,column:o.endColumn});return u.lineNumber!==o.startLineNumber||u.column!==o.startColumn||E.lineNumber!==o.endLineNumber||E.column!==o.endColumn?{startLineNumber:u.lineNumber,startColumn:u.column,endLineNumber:E.lineNumber,endColumn:E.column}:o}_validatePosition(o){if(!W.L.isIPosition(o))throw new Error("bad position");let{lineNumber:u,column:E}=o,K=!1;if(u<1)u=1,E=1,K=!0;else if(u>this._lines.length)u=this._lines.length,E=this._lines[u-1].length+1,K=!0;else{const te=this._lines[u-1].length+1;E<1?(E=1,K=!0):E>te&&(E=te,K=!0)}return K?{lineNumber:u,column:E}:o}}class It{constructor(o,u){this._host=o,this._models=Object.create(null),this._foreignModuleFactory=u,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(o){return this._models[o]}_getModels(){const o=[];return Object.keys(this._models).forEach(u=>o.push(this._models[u])),o}acceptNewModel(o){this._models[o.url]=new Ye(y.o.parse(o.url),o.lines,o.EOL,o.versionId)}acceptModelChanged(o,u){if(!this._models[o])return;this._models[o].onEvents(u)}acceptRemovedModel(o){!this._models[o]||delete this._models[o]}computeUnicodeHighlights(o,u,E){return _i(this,void 0,void 0,function*(){const K=this._getModel(o);return K?Oi.a.computeUnicodeHighlights(K,u,E):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(o,u,E,K){return _i(this,void 0,void 0,function*(){const te=this._getModel(o),ue=this._getModel(u);if(!te||!ue)return null;const _e=te.getLinesContent(),je=ue.getLinesContent(),ct=new Nn(_e,je,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:E,shouldMakePrettyDiff:!0,maxComputationTime:K}).computeDiff(),zt=ct.changes.length>0?!1:this._modelsAreIdentical(te,ue);return{quitEarly:ct.quitEarly,identical:zt,changes:ct.changes}})}_modelsAreIdentical(o,u){const E=o.getLineCount(),K=u.getLineCount();if(E!==K)return!1;for(let te=1;te<=E;te++){const ue=o.getLineContent(te),_e=u.getLineContent(te);if(ue!==_e)return!1}return!0}computeMoreMinimalEdits(o,u){return _i(this,void 0,void 0,function*(){const E=this._getModel(o);if(!E)return u;const K=[];let te;u=u.slice(0).sort((ue,_e)=>{if(ue.range&&_e.range)return A.e.compareRangesUsingStarts(ue.range,_e.range);const je=ue.range?0:1,rt=_e.range?0:1;return je-rt});for(let{range:ue,text:_e,eol:je}of u){if(typeof je=="number"&&(te=je),A.e.isEmpty(ue)&&!_e)continue;const rt=E.getValueInRange(ue);if(_e=_e.replace(/\r\n|\n|\r/g,E.eol),rt===_e)continue;if(Math.max(_e.length,rt.length)>It._diffLimit){K.push({range:ue,text:_e});continue}const ct=(0,He.a$)(rt,_e,!1),zt=E.offsetAt(A.e.lift(ue).getStartPosition());for(const Fn of ct){const ii=E.positionAt(zt+Fn.originalStart),Ti=E.positionAt(zt+Fn.originalStart+Fn.originalLength),Es={text:_e.substr(Fn.modifiedStart,Fn.modifiedLength),range:{startLineNumber:ii.lineNumber,startColumn:ii.column,endLineNumber:Ti.lineNumber,endColumn:Ti.column}};E.getValueInRange(Es.range)!==Es.text&&K.push(Es)}}return typeof te=="number"&&K.push({eol:te,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),K})}computeLinks(o){return _i(this,void 0,void 0,function*(){const u=this._getModel(o);return u?Kn(u):null})}textualSuggest(o,u,E,K){return _i(this,void 0,void 0,function*(){const te=new Vi.G(!0),ue=new RegExp(E,K),_e=new Set;e:for(let je of o){const rt=this._getModel(je);if(!!rt){for(let ct of rt.words(ue))if(!(ct===u||!isNaN(Number(ct)))&&(_e.add(ct),_e.size>It._suggestionsLimit))break e}}return{words:Array.from(_e),duration:te.elapsed()}})}computeWordRanges(o,u,E,K){return _i(this,void 0,void 0,function*(){const te=this._getModel(o);if(!te)return Object.create(null);const ue=new RegExp(E,K),_e=Object.create(null);for(let je=u.startLineNumber;je<u.endLineNumber;je++){const rt=te.getLineWords(je,ue);for(const ct of rt){if(!isNaN(Number(ct.word)))continue;let zt=_e[ct.word];zt||(zt=[],_e[ct.word]=zt),zt.push({startLineNumber:je,startColumn:ct.startColumn,endLineNumber:je,endColumn:ct.endColumn})}}return _e})}navigateValueSet(o,u,E,K,te){return _i(this,void 0,void 0,function*(){const ue=this._getModel(o);if(!ue)return null;const _e=new RegExp(K,te);u.startColumn===u.endColumn&&(u={startLineNumber:u.startLineNumber,startColumn:u.startColumn,endLineNumber:u.endLineNumber,endColumn:u.endColumn+1});const je=ue.getValueInRange(u),rt=ue.getWordAtPosition({lineNumber:u.startLineNumber,column:u.startColumn},_e);if(!rt)return null;const ct=ue.getValueInRange(rt);return Pi.INSTANCE.navigateValueSet(u,je,rt,ct,E)})}loadForeignModule(o,u,E){const K=(_e,je)=>this._host.fhr(_e,je),ue={host:Zt.IU(E,K),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(ue,u),Promise.resolve(Zt.$E(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(o,u){if(!this._foreignModule||typeof this._foreignModule[o]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+o));try{return Promise.resolve(this._foreignModule[o].apply(this._foreignModule,u))}catch(E){return Promise.reject(E)}}}It._diffLimit=1e5,It._suggestionsLimit=1e4;function cn(D){return new It(D,null)}typeof importScripts=="function"&&(Rt.li.monaco=kt());var on=l(67338),bn=l(825),hi=l(76057),En=l(85231),Zi=function(D,o,u,E){var K=arguments.length,te=K<3?o:E===null?E=Object.getOwnPropertyDescriptor(o,u):E,ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,o,u,E);else for(var _e=D.length-1;_e>=0;_e--)(ue=D[_e])&&(te=(K<3?ue(te):K>3?ue(o,u,te):ue(o,u))||te);return K>3&&te&&Object.defineProperty(o,u,te),te},ri=function(D,o){return function(u,E){o(u,E,D)}},ki=function(D,o,u,E){function K(te){return te instanceof u?te:new u(function(ue){ue(te)})}return new(u||(u=Promise))(function(te,ue){function _e(ct){try{rt(E.next(ct))}catch(zt){ue(zt)}}function je(ct){try{rt(E.throw(ct))}catch(zt){ue(zt)}}function rt(ct){ct.done?te(ct.value):K(ct.value).then(_e,je)}rt((E=E.apply(D,o||[])).next())})};const ui=60*1e3,qi=5*60*1e3;function Xs(D,o){const u=D.getModel(o);return!(!u||u.isTooLargeForSyncing())}let zs=class extends Mt.JT{constructor(o,u,E,K,te){super(),this._modelService=o,this._workerManager=this._register(new Os(this._modelService,K)),this._logService=E,this._register(te.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(ue,_e)=>Xs(this._modelService,ue.uri)?this._workerManager.withWorker().then(je=>je.computeLinks(ue.uri)).then(je=>je&&{links:je}):Promise.resolve({links:[]})})),this._register(te.completionProvider.register("*",new Ki(this._workerManager,u,this._modelService,K)))}dispose(){super.dispose()}canComputeUnicodeHighlights(o){return Xs(this._modelService,o)}computedUnicodeHighlights(o,u,E){return this._workerManager.withWorker().then(K=>K.computedUnicodeHighlights(o,u,E))}computeDiff(o,u,E,K){return this._workerManager.withWorker().then(te=>te.computeDiff(o,u,E,K))}computeMoreMinimalEdits(o,u){if((0,bn.Of)(u)){if(!Xs(this._modelService,o))return Promise.resolve(u);const E=Vi.G.create(!0),K=this._workerManager.withWorker().then(te=>te.computeMoreMinimalEdits(o,u));return K.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",o.toString(!0),E.elapsed())),Promise.race([K,(0,Tt.Vs)(1e3).then(()=>u)])}else return Promise.resolve(void 0)}canNavigateValueSet(o){return Xs(this._modelService,o)}navigateValueSet(o,u,E){return this._workerManager.withWorker().then(K=>K.navigateValueSet(o,u,E))}canComputeWordRanges(o){return Xs(this._modelService,o)}computeWordRanges(o,u){return this._workerManager.withWorker().then(E=>E.computeWordRanges(o,u))}};zs=Zi([ri(0,at.q),ri(1,on.V),ri(2,hi.VZ),ri(3,xe.c_),ri(4,En.p)],zs);class Ki{constructor(o,u,E,K){this.languageConfigurationService=K,this._debugDisplayName="wordbasedCompletions",this._workerManager=o,this._configurationService=u,this._modelService=E}provideCompletionItems(o,u){return ki(this,void 0,void 0,function*(){const E=this._configurationService.getValue(o.uri,u,"editor");if(!E.wordBasedSuggestions)return;const K=[];if(E.wordBasedSuggestionsMode==="currentDocument")Xs(this._modelService,o.uri)&&K.push(o.uri);else for(const zt of this._modelService.getModels())!Xs(this._modelService,zt.uri)||(zt===o?K.unshift(zt.uri):(E.wordBasedSuggestionsMode==="allDocuments"||zt.getLanguageId()===o.getLanguageId())&&K.push(zt.uri));if(K.length===0)return;const te=this.languageConfigurationService.getLanguageConfiguration(o.getLanguageId()).getWordDefinition(),ue=o.getWordAtPosition(u),_e=ue?new A.e(u.lineNumber,ue.startColumn,u.lineNumber,ue.endColumn):A.e.fromPositions(u),je=_e.setEndPosition(u.lineNumber,u.column),ct=yield(yield this._workerManager.withWorker()).textualSuggest(K,ue==null?void 0:ue.word,te);if(!!ct)return{duration:ct.duration,suggestions:ct.words.map(zt=>({kind:18,label:zt,insertText:zt,range:{insert:je,replace:_e}}))}})}}class Os extends Mt.JT{constructor(o,u){super(),this.languageConfigurationService=u,this._modelService=o,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new Tt.zh).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(qi/2)),this._register(this._modelService.onModelRemoved(K=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>qi&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new Ks(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class ai extends Mt.JT{constructor(o,u,E){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=o,this._modelService=u,!E){const K=new Tt.zh;K.cancelAndSet(()=>this._checkStopModelSync(),Math.round(ui/2)),this._register(K)}}dispose(){for(let o in this._syncedModels)(0,Mt.B9)(this._syncedModels[o]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(o,u){for(const E of o){const K=E.toString();this._syncedModels[K]||this._beginModelSync(E,u),this._syncedModels[K]&&(this._syncedModelsLastUsedTime[K]=new Date().getTime())}}_checkStopModelSync(){const o=new Date().getTime(),u=[];for(let E in this._syncedModelsLastUsedTime)o-this._syncedModelsLastUsedTime[E]>ui&&u.push(E);for(const E of u)this._stopModelSync(E)}_beginModelSync(o,u){const E=this._modelService.getModel(o);if(!E||!u&&E.isTooLargeForSyncing())return;const K=o.toString();this._proxy.acceptNewModel({url:E.uri.toString(),lines:E.getLinesContent(),EOL:E.getEOL(),versionId:E.getVersionId()});const te=new Mt.SL;te.add(E.onDidChangeContent(ue=>{this._proxy.acceptModelChanged(K.toString(),ue)})),te.add(E.onWillDispose(()=>{this._stopModelSync(K)})),te.add((0,Mt.OF)(()=>{this._proxy.acceptRemovedModel(K)})),this._syncedModels[K]=te}_stopModelSync(o){const u=this._syncedModels[o];delete this._syncedModels[o],delete this._syncedModelsLastUsedTime[o],(0,Mt.B9)(u)}}class Jo{constructor(o){this._instance=o,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class co{constructor(o){this._workerClient=o}fhr(o,u){return this._workerClient.fhr(o,u)}}class Ks extends Mt.JT{constructor(o,u,E,K){super(),this.languageConfigurationService=K,this._disposed=!1,this._modelService=o,this._keepIdleModels=u,this._workerFactory=new Lt(E),this._worker=null,this._modelManager=null}fhr(o,u){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new Ne(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new co(this)))}catch(o){en(o),this._worker=new Jo(new It(new co(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,o=>(en(o),this._worker=new Jo(new It(new co(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(o){return this._modelManager||(this._modelManager=this._register(new ai(o,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(o,u=!1){return ki(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,gt.F0)()):this._getProxy().then(E=>(this._getOrCreateModelManager(E).ensureSyncedResources(o,u),E))})}computedUnicodeHighlights(o,u,E){return this._withSyncedResources([o]).then(K=>K.computeUnicodeHighlights(o.toString(),u,E))}computeDiff(o,u,E,K){return this._withSyncedResources([o,u],!0).then(te=>te.computeDiff(o.toString(),u.toString(),E,K))}computeMoreMinimalEdits(o,u){return this._withSyncedResources([o]).then(E=>E.computeMoreMinimalEdits(o.toString(),u))}computeLinks(o){return this._withSyncedResources([o]).then(u=>u.computeLinks(o.toString()))}textualSuggest(o,u,E){return ki(this,void 0,void 0,function*(){const K=yield this._withSyncedResources(o),te=E.source,ue=(0,Ut.mr)(E);return K.textualSuggest(o.map(_e=>_e.toString()),u,te,ue)})}computeWordRanges(o,u){return this._withSyncedResources([o]).then(E=>{const K=this._modelService.getModel(o);if(!K)return Promise.resolve(null);const te=this.languageConfigurationService.getLanguageConfiguration(K.getLanguageId()).getWordDefinition(),ue=te.source,_e=(0,Ut.mr)(te);return E.computeWordRanges(o.toString(),u,ue,_e)})}navigateValueSet(o,u,E){return this._withSyncedResources([o]).then(K=>{const te=this._modelService.getModel(o);if(!te)return null;const ue=this.languageConfigurationService.getLanguageConfiguration(te.getLanguageId()).getWordDefinition(),_e=ue.source,je=(0,Ut.mr)(ue);return K.navigateValueSet(o.toString(),u,E,_e,je)})}dispose(){super.dispose(),this._disposed=!0}}function ts(D,o,u){return new bo(D,o,u)}class bo extends Ks{constructor(o,u,E){super(o,E.keepIdleModels||!1,E.label,u),this._foreignModuleId=E.moduleId,this._foreignModuleCreateData=E.createData||null,this._foreignModuleHost=E.host||null,this._foreignProxy=null}fhr(o,u){if(!this._foreignModuleHost||typeof this._foreignModuleHost[o]!="function")return Promise.reject(new Error("Missing method "+o+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[o].apply(this._foreignModuleHost,u))}catch(E){return Promise.reject(E)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(o=>{const u=this._foreignModuleHost?Zt.$E(this._foreignModuleHost):[];return o.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,u).then(E=>{this._foreignModuleCreateData=null;const K=(_e,je)=>o.fmr(_e,je),te=(_e,je)=>function(){const rt=Array.prototype.slice.call(arguments,0);return je(_e,rt)},ue={};for(const _e of E)ue[_e]=te(_e,K);return ue})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(o){return this._withSyncedResources(o).then(u=>this.getProxy())}}var Lo=l(32083),Us=l(52664),Rs=l(93831);function Ns(D){return Array.isArray(D)}function Vo(D){return!Ns(D)}function Po(D){return typeof D=="string"}function $o(D){return!Po(D)}function go(D){return!D}function Is(D,o){return D.ignoreCase&&o?o.toLowerCase():o}function Go(D){return D.replace(/[&<>'"_]/g,"-")}function qo(D,o){console.log(`${D.languageId}: ${o}`)}function Xi(D,o){return new Error(`${D.languageId}: ${o}`)}function Gs(D,o,u,E,K){const te=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let ue=null;return o.replace(te,function(_e,je,rt,ct,zt,Fn,ii,Ti,Es){return go(rt)?go(ct)?!go(zt)&&zt<E.length?Is(D,E[zt]):!go(ii)&&D&&typeof D[ii]=="string"?D[ii]:(ue===null&&(ue=K.split("."),ue.unshift(K)),!go(Fn)&&Fn<ue.length?Is(D,ue[Fn]):""):Is(D,u):"$"})}function es(D,o){let u=o;for(;u&&u.length>0;){const E=D.tokenizer[u];if(E)return E;const K=u.lastIndexOf(".");K<0?u=null:u=u.substr(0,K)}return null}function va(D,o){let u=o;for(;u&&u.length>0;){if(D.stateNames[u])return!0;const K=u.lastIndexOf(".");K<0?u=null:u=u.substr(0,K)}return!1}const tn=5;class G{constructor(o){this._maxCacheDepth=o,this._entries=Object.create(null)}static create(o,u){return this._INSTANCE.create(o,u)}create(o,u){if(o!==null&&o.depth>=this._maxCacheDepth)return new q(o,u);let E=q.getStackElementId(o);E.length>0&&(E+="|"),E+=u;let K=this._entries[E];return K||(K=new q(o,u),this._entries[E]=K,K)}}G._INSTANCE=new G(tn);class q{constructor(o,u){this.parent=o,this.state=u,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(o){let u="";for(;o!==null;)u.length>0&&(u+="|"),u+=o.state,o=o.parent;return u}static _equals(o,u){for(;o!==null&&u!==null;){if(o===u)return!0;if(o.state!==u.state)return!1;o=o.parent,u=u.parent}return o===null&&u===null}equals(o){return q._equals(this,o)}push(o){return G.create(this,o)}pop(){return this.parent}popall(){let o=this;for(;o.parent;)o=o.parent;return o}switchTo(o){return G.create(this.parent,o)}}class fe{constructor(o,u){this.languageId=o,this.state=u}equals(o){return this.languageId===o.languageId&&this.state.equals(o.state)}clone(){return this.state.clone()===this.state?this:new fe(this.languageId,this.state)}}class p{constructor(o){this._maxCacheDepth=o,this._entries=Object.create(null)}static create(o,u){return this._INSTANCE.create(o,u)}create(o,u){if(u!==null)return new F(o,u);if(o!==null&&o.depth>=this._maxCacheDepth)return new F(o,u);const E=q.getStackElementId(o);let K=this._entries[E];return K||(K=new F(o,null),this._entries[E]=K,K)}}p._INSTANCE=new p(tn);class F{constructor(o,u){this.stack=o,this.embeddedLanguageData=u}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:p.create(this.stack,this.embeddedLanguageData)}equals(o){return!(o instanceof F)||!this.stack.equals(o.stack)?!1:this.embeddedLanguageData===null&&o.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||o.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(o.embeddedLanguageData)}}class Z{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(o){this._languageId=o}emit(o,u){this._lastTokenType===u&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=u,this._lastTokenLanguage=this._languageId,this._tokens.push(new I.WU(o,u,this._languageId)))}nestedLanguageTokenize(o,u,E,K){const te=E.languageId,ue=E.state,_e=I.RW.get(te);if(!_e)return this.enterLanguage(te),this.emit(K,""),ue;const je=_e.tokenize(o,u,ue);if(K!==0)for(const rt of je.tokens)this._tokens.push(new I.WU(rt.offset+K,rt.type,rt.language));else this._tokens=this._tokens.concat(je.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,je.endState}finalize(o){return new I.hG(this._tokens,o)}}class de{constructor(o,u){this._languageService=o,this._theme=u,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(o){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(o)}emit(o,u){const E=this._theme.match(this._currentLanguageId,u);this._lastTokenMetadata!==E&&(this._lastTokenMetadata=E,this._tokens.push(o),this._tokens.push(E))}static _merge(o,u,E){const K=o!==null?o.length:0,te=u.length,ue=E!==null?E.length:0;if(K===0&&te===0&&ue===0)return new Uint32Array(0);if(K===0&&te===0)return E;if(te===0&&ue===0)return o;const _e=new Uint32Array(K+te+ue);o!==null&&_e.set(o);for(let je=0;je<te;je++)_e[K+je]=u[je];return E!==null&&_e.set(E,K+te),_e}nestedLanguageTokenize(o,u,E,K){const te=E.languageId,ue=E.state,_e=I.RW.get(te);if(!_e)return this.enterLanguage(te),this.emit(K,""),ue;const je=_e.tokenizeEncoded(o,u,ue);if(K!==0)for(let rt=0,ct=je.tokens.length;rt<ct;rt+=2)je.tokens[rt]+=K;return this._prependTokens=de._merge(this._prependTokens,this._tokens,je.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,je.endState}finalize(o){return new I.DI(de._merge(this._prependTokens,this._tokens,null),o)}}class pe{constructor(o,u,E,K){this._languageService=o,this._standaloneThemeService=u,this._languageId=E,this._lexer=K,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let te=!1;this._tokenizationRegistryListener=I.RW.onDidChange(ue=>{if(te)return;let _e=!1;for(let je=0,rt=ue.changedLanguages.length;je<rt;je++){const ct=ue.changedLanguages[je];if(this._embeddedLanguages[ct]){_e=!0;break}}_e&&(te=!0,I.RW.fire([this._languageId]),te=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const o=[];for(let u in this._embeddedLanguages){const E=I.RW.get(u);if(E){if(E instanceof pe){const K=E.getLoadStatus();K.loaded===!1&&o.push(K.promise)}continue}I.RW.isResolved(u)||o.push(I.RW.getOrCreate(u))}return o.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(o).then(u=>{})}}getInitialState(){const o=G.create(null,this._lexer.start);return p.create(o,null)}tokenize(o,u,E){const K=new Z,te=this._tokenize(o,u,E,K);return K.finalize(te)}tokenizeEncoded(o,u,E){const K=new de(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),te=this._tokenize(o,u,E,K);return K.finalize(te)}_tokenize(o,u,E,K){return E.embeddedLanguageData?this._nestedTokenize(o,u,E,0,K):this._myTokenize(o,u,E,0,K)}_findLeavingNestedLanguageOffset(o,u){let E=this._lexer.tokenizer[u.stack.state];if(!E&&(E=es(this._lexer,u.stack.state),!E))throw Xi(this._lexer,"tokenizer state is not defined: "+u.stack.state);let K=-1,te=!1;for(const ue of E){if(!$o(ue.action)||ue.action.nextEmbedded!=="@pop")continue;te=!0;let _e=ue.regex;const je=ue.regex.source;if(je.substr(0,4)==="^(?:"&&je.substr(je.length-1,1)===")"){const ct=(_e.ignoreCase?"i":"")+(_e.unicode?"u":"");_e=new RegExp(je.substr(4,je.length-5),ct)}const rt=o.search(_e);rt===-1||rt!==0&&ue.matchOnlyAtLineStart||(K===-1||rt<K)&&(K=rt)}if(!te)throw Xi(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+u.stack.state);return K}_nestedTokenize(o,u,E,K,te){const ue=this._findLeavingNestedLanguageOffset(o,E);if(ue===-1){const rt=te.nestedLanguageTokenize(o,u,E.embeddedLanguageData,K);return p.create(E.stack,new fe(E.embeddedLanguageData.languageId,rt))}const _e=o.substring(0,ue);_e.length>0&&te.nestedLanguageTokenize(_e,!1,E.embeddedLanguageData,K);const je=o.substring(ue);return this._myTokenize(je,u,E,K+ue,te)}_safeRuleName(o){return o?o.name:"(unknown)"}_myTokenize(o,u,E,K,te){te.enterLanguage(this._languageId);const ue=o.length,_e=u&&this._lexer.includeLF?o+`
`:o,je=_e.length;let rt=E.embeddedLanguageData,ct=E.stack,zt=0,Fn=null,ii=!0;for(;ii||zt<je;){const Ti=zt,Es=ct.depth,hs=Fn?Fn.groups.length:0,po=ct.state;let Ps=null,os=null,Ms=null,_o=null,fd=null;if(Fn){Ps=Fn.matches;const Qs=Fn.groups.shift();os=Qs.matched,Ms=Qs.action,_o=Fn.rule,Fn.groups.length===0&&(Fn=null)}else{if(!ii&&zt>=je)break;ii=!1;let Qs=this._lexer.tokenizer[po];if(!Qs&&(Qs=es(this._lexer,po),!Qs))throw Xi(this._lexer,"tokenizer state is not defined: "+po);let bs=_e.substr(zt);for(const ur of Qs)if((zt===0||!ur.matchOnlyAtLineStart)&&(Ps=bs.match(ur.regex),Ps)){os=Ps[0],Ms=ur.action;break}}if(Ps||(Ps=[""],os=""),Ms||(zt<je&&(Ps=[_e.charAt(zt)],os=Ps[0]),Ms=this._lexer.defaultToken),os===null)break;for(zt+=os.length;Vo(Ms)&&$o(Ms)&&Ms.test;)Ms=Ms.test(os,Ps,po,zt===je);let Mo=null;if(typeof Ms=="string"||Array.isArray(Ms))Mo=Ms;else if(Ms.group)Mo=Ms.group;else if(Ms.token!==null&&Ms.token!==void 0){if(Ms.tokenSubst?Mo=Gs(this._lexer,Ms.token,os,Ps,po):Mo=Ms.token,Ms.nextEmbedded)if(Ms.nextEmbedded==="@pop"){if(!rt)throw Xi(this._lexer,"cannot pop embedded language if not inside one");rt=null}else{if(rt)throw Xi(this._lexer,"cannot enter embedded language from within an embedded language");fd=Gs(this._lexer,Ms.nextEmbedded,os,Ps,po)}if(Ms.goBack&&(zt=Math.max(0,zt-Ms.goBack)),Ms.switchTo&&typeof Ms.switchTo=="string"){let Qs=Gs(this._lexer,Ms.switchTo,os,Ps,po);if(Qs[0]==="@"&&(Qs=Qs.substr(1)),es(this._lexer,Qs))ct=ct.switchTo(Qs);else throw Xi(this._lexer,"trying to switch to a state '"+Qs+"' that is undefined in rule: "+this._safeRuleName(_o))}else{if(Ms.transform&&typeof Ms.transform=="function")throw Xi(this._lexer,"action.transform not supported");if(Ms.next)if(Ms.next==="@push"){if(ct.depth>=this._lexer.maxStack)throw Xi(this._lexer,"maximum tokenizer stack size reached: ["+ct.state+","+ct.parent.state+",...]");ct=ct.push(po)}else if(Ms.next==="@pop"){if(ct.depth<=1)throw Xi(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(_o));ct=ct.pop()}else if(Ms.next==="@popall")ct=ct.popall();else{let Qs=Gs(this._lexer,Ms.next,os,Ps,po);if(Qs[0]==="@"&&(Qs=Qs.substr(1)),es(this._lexer,Qs))ct=ct.push(Qs);else throw Xi(this._lexer,"trying to set a next state '"+Qs+"' that is undefined in rule: "+this._safeRuleName(_o))}}Ms.log&&typeof Ms.log=="string"&&qo(this._lexer,this._lexer.languageId+": "+Gs(this._lexer,Ms.log,os,Ps,po))}if(Mo===null)throw Xi(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(_o));const Zd=Qs=>{const bs=this._languageService.getLanguageIdByLanguageName(Qs)||this._languageService.getLanguageIdByMimeType(Qs)||Qs,ur=this._getNestedEmbeddedLanguageData(bs);if(zt<je){const bl=o.substr(zt);return this._nestedTokenize(bl,u,p.create(ct,ur),K+zt,te)}else return p.create(ct,ur)};if(Array.isArray(Mo)){if(Fn&&Fn.groups.length>0)throw Xi(this._lexer,"groups cannot be nested: "+this._safeRuleName(_o));if(Ps.length!==Mo.length+1)throw Xi(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(_o));let Qs=0;for(let bs=1;bs<Ps.length;bs++)Qs+=Ps[bs].length;if(Qs!==os.length)throw Xi(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(_o));Fn={rule:_o,matches:Ps,groups:[]};for(let bs=0;bs<Mo.length;bs++)Fn.groups[bs]={action:Mo[bs],matched:Ps[bs+1]};zt-=os.length;continue}else{if(Mo==="@rematch"&&(zt-=os.length,os="",Ps=null,Mo="",fd!==null))return Zd(fd);if(os.length===0){if(je===0||Es!==ct.depth||po!==ct.state||(Fn?Fn.groups.length:0)!==hs)continue;throw Xi(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(_o))}let Qs=null;if(Po(Mo)&&Mo.indexOf("@brackets")===0){const bs=Mo.substr(9),ur=Ie(this._lexer,os);if(!ur)throw Xi(this._lexer,"@brackets token returned but no bracket defined as: "+os);Qs=Go(ur.token+bs)}else{const bs=Mo===""?"":Mo+this._lexer.tokenPostfix;Qs=Go(bs)}Ti<ue&&te.emit(Ti+K,Qs)}if(fd!==null)return Zd(fd)}return p.create(ct,rt)}_getNestedEmbeddedLanguageData(o){if(!this._languageService.isRegisteredLanguageId(o))return new fe(o,ve.TJ);o!==this._languageId&&(I.RW.getOrCreate(o),this._embeddedLanguages[o]=!0);const u=I.RW.get(o);return u?new fe(o,u.getInitialState()):new fe(o,ve.TJ)}}function Ie(D,o){if(!o)return null;o=Is(D,o);const u=D.brackets;for(const E of u){if(E.open===o)return{token:E.token,bracketType:1};if(E.close===o)return{token:E.token,bracketType:-1}}return null}var st=function(D,o,u,E){function K(te){return te instanceof u?te:new u(function(ue){ue(te)})}return new(u||(u=Promise))(function(te,ue){function _e(ct){try{rt(E.next(ct))}catch(zt){ue(zt)}}function je(ct){try{rt(E.throw(ct))}catch(zt){ue(zt)}}function rt(ct){ct.done?te(ct.value):K(ct.value).then(_e,je)}rt((E=E.apply(D,o||[])).next())})},ot;const pt=(ot=window.trustedTypes)===null||ot===void 0?void 0:ot.createPolicy("standaloneColorizer",{createHTML:D=>D});class mt{static colorizeElement(o,u,E,K){K=K||{};const te=K.theme||"vs",ue=K.mimeType||E.getAttribute("lang")||E.getAttribute("data-lang");if(!ue)return console.error("Mode not detected"),Promise.resolve();const _e=u.getLanguageIdByMimeType(ue)||ue;o.setTheme(te);const je=E.firstChild?E.firstChild.nodeValue:"";E.className+=" "+te;const rt=ct=>{var zt;const Fn=(zt=pt==null?void 0:pt.createHTML(ct))!==null&&zt!==void 0?zt:ct;E.innerHTML=Fn};return this.colorize(u,je||"",_e,K).then(rt,ct=>console.error(ct))}static colorize(o,u,E,K){return st(this,void 0,void 0,function*(){const te=o.languageIdCodec;let ue=4;K&&typeof K.tabSize=="number"&&(ue=K.tabSize),Ut.uS(u)&&(u=u.substr(1));const _e=Ut.uq(u);if(!o.isRegisteredLanguageId(E))return ft(_e,ue,te);const je=yield I.RW.getOrCreate(E);return je?xt(_e,ue,je,te):ft(_e,ue,te)})}static colorizeLine(o,u,E,K,te=4){const ue=Rs.wA.isBasicASCII(o,u),_e=Rs.wA.containsRTL(o,ue,E);return(0,Us.tF)(new Us.IJ(!1,!0,o,!1,ue,_e,0,K,[],te,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(o,u,E=4){const K=o.getLineContent(u);o.forceTokenization(u);const ue=o.getLineTokens(u).inflate();return this.colorizeLine(K,o.mightContainNonBasicASCII(),o.mightContainRTL(),ue,E)}}function xt(D,o,u,E){return new Promise((K,te)=>{const ue=()=>{const _e=wt(D,o,u,E);if(u instanceof pe){const je=u.getLoadStatus();if(je.loaded===!1){je.promise.then(ue,te);return}}K(_e)};ue()})}function ft(D,o,u){let E=[];const te=new Uint32Array(2);te[0]=0,te[1]=16793600;for(let ue=0,_e=D.length;ue<_e;ue++){const je=D[ue];te[0]=je.length;const rt=new Lo.A(te,je,u),ct=Rs.wA.isBasicASCII(je,!0),zt=Rs.wA.containsRTL(je,ct,!0),Fn=(0,Us.tF)(new Us.IJ(!1,!0,je,!1,ct,zt,0,rt,[],o,0,0,0,0,-1,"none",!1,!1,null));E=E.concat(Fn.html),E.push("<br/>")}return E.join("")}function wt(D,o,u,E){let K=[],te=u.getInitialState();for(let ue=0,_e=D.length;ue<_e;ue++){const je=D[ue],rt=u.tokenizeEncoded(je,!0,te);Lo.A.convertToEndOffset(rt.tokens,je.length);const ct=new Lo.A(rt.tokens,je,E),zt=Rs.wA.isBasicASCII(je,!0),Fn=Rs.wA.containsRTL(je,zt,!0),ii=(0,Us.tF)(new Us.IJ(!1,!0,je,!1,zt,Fn,0,ct.inflate(),[],o,0,0,0,0,-1,"none",!1,!1,null));K=K.concat(ii.html),K.push("<br/>"),te=rt.endState}return K.join("")}var _n=l(74749),$n=l(87360),Wn=l(95641),fi=l(7190),Fi=l(41136),jt=l(50082),vi=l(22818),rs=l(63655),Fs=function(D,o,u,E){var K=arguments.length,te=K<3?o:E===null?E=Object.getOwnPropertyDescriptor(o,u):E,ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,o,u,E);else for(var _e=D.length-1;_e>=0;_e--)(ue=D[_e])&&(te=(K<3?ue(te):K>3?ue(o,u,te):ue(o,u))||te);return K>3&&te&&Object.defineProperty(o,u,te),te},Js=function(D,o){return function(u,E){o(u,E,D)}};let gr=class extends Mt.JT{constructor(o){super(),this._themeService=o,this._onCodeEditorAdd=this._register(new z.Q5),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new z.Q5),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new z.Q5),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new z.Q5),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}addCodeEditor(o){this._codeEditors[o.getId()]=o,this._onCodeEditorAdd.fire(o)}removeCodeEditor(o){delete this._codeEditors[o.getId()]&&this._onCodeEditorRemove.fire(o)}listCodeEditors(){return Object.keys(this._codeEditors).map(o=>this._codeEditors[o])}addDiffEditor(o){this._diffEditors[o.getId()]=o,this._onDiffEditorAdd.fire(o)}removeDiffEditor(o){delete this._diffEditors[o.getId()]&&this._onDiffEditorRemove.fire(o)}listDiffEditors(){return Object.keys(this._diffEditors).map(o=>this._diffEditors[o])}getFocusedCodeEditor(){let o=null;const u=this.listCodeEditors();for(const E of u){if(E.hasTextFocus())return E;E.hasWidgetFocus()&&(o=E)}return o}removeDecorationType(o){const u=this._decorationOptionProviders.get(o);u&&(u.refCount--,u.refCount<=0&&(this._decorationOptionProviders.delete(o),u.dispose(),this.listCodeEditors().forEach(E=>E.removeDecorations(o))))}setModelProperty(o,u,E){const K=o.toString();let te;this._modelProperties.has(K)?te=this._modelProperties.get(K):(te=new Map,this._modelProperties.set(K,te)),te.set(u,E)}getModelProperty(o,u){const E=o.toString();if(this._modelProperties.has(E))return this._modelProperties.get(E).get(u)}};gr=Fs([Js(0,rs.XE)],gr);class Zo{constructor(o){this._styleSheet=o}}var ls=l(96072),zi=l(74896),ks=function(D,o,u,E){var K=arguments.length,te=K<3?o:E===null?E=Object.getOwnPropertyDescriptor(o,u):E,ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,o,u,E);else for(var _e=D.length-1;_e>=0;_e--)(ue=D[_e])&&(te=(K<3?ue(te):K>3?ue(o,u,te):ue(o,u))||te);return K>3&&te&&Object.defineProperty(o,u,te),te},Ss=function(D,o){return function(u,E){o(u,E,D)}};let Mr=class extends gr{constructor(o,u){super(u),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=o.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let o=!1;for(const u of this.listCodeEditors())if(!u.isSimpleWidget){o=!0;break}this._editorIsOpen.set(o)}setActiveCodeEditor(o){this._activeCodeEditor=o}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(o,u,E){return u?Promise.resolve(this.doOpenEditor(u,o)):Promise.resolve(null)}doOpenEditor(o,u){if(!this.findModel(o,u.resource)){if(u.resource){const te=u.resource.scheme;if(te===vi.lg.http||te===vi.lg.https)return(0,jt.V3)(u.resource.toString()),o}return null}const K=u.options?u.options.selection:null;if(K)if(typeof K.endLineNumber=="number"&&typeof K.endColumn=="number")o.setSelection(K),o.revealRangeInCenter(K,1);else{const te={lineNumber:K.startLineNumber,column:K.startColumn};o.setPosition(te),o.revealPositionInCenter(te,1)}return o}findModel(o,u){const E=o.getModel();return E&&E.uri.toString()!==u.toString()?null:E}};Mr=ks([Ss(0,ls.i6),Ss(1,rs.XE)],Mr),(0,zi.z)(Te.$,Mr);var Io=l(95024);const us=(0,Io.yh)("layoutService");var uo=function(D,o,u,E){var K=arguments.length,te=K<3?o:E===null?E=Object.getOwnPropertyDescriptor(o,u):E,ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,o,u,E);else for(var _e=D.length-1;_e>=0;_e--)(ue=D[_e])&&(te=(K<3?ue(te):K>3?ue(o,u,te):ue(o,u))||te);return K>3&&te&&Object.defineProperty(o,u,te),te},xo=function(D,o){return function(u,E){o(u,E,D)}};let Sr=class{constructor(o){this._codeEditorService=o,this.onDidLayout=z.ju.None}get dimension(){return this._dimension||(this._dimension=jt.D6(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var o;(o=this._codeEditorService.getFocusedCodeEditor())===null||o===void 0||o.focus()}};Sr=uo([xo(0,Te.$)],Sr);let mr=class extends Sr{constructor(o,u){super(u),this._container=o}get hasContainer(){return!1}get container(){return this._container}};mr=uo([xo(1,Te.$)],mr),(0,zi.z)(us,Sr);var Eo=l(75780),xi=l(82215),nt=l(94666),Ae=l(3565),dt=l(25055),Bt=function(D,o,u,E){var K=arguments.length,te=K<3?o:E===null?E=Object.getOwnPropertyDescriptor(o,u):E,ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,o,u,E);else for(var _e=D.length-1;_e>=0;_e--)(ue=D[_e])&&(te=(K<3?ue(te):K>3?ue(o,u,te):ue(o,u))||te);return K>3&&te&&Object.defineProperty(o,u,te),te},Yt=function(D,o){return function(u,E){o(u,E,D)}},ln=function(D,o,u,E){function K(te){return te instanceof u?te:new u(function(ue){ue(te)})}return new(u||(u=Promise))(function(te,ue){function _e(ct){try{rt(E.next(ct))}catch(zt){ue(zt)}}function je(ct){try{rt(E.throw(ct))}catch(zt){ue(zt)}}function rt(ct){ct.done?te(ct.value):K(ct.value).then(_e,je)}rt((E=E.apply(D,o||[])).next())})};const jn=!1;function ci(D){return D.scheme===vi.lg.file?D.fsPath:D.path}let Li=0;class is{constructor(o,u,E,K,te,ue,_e){this.id=++Li,this.type=0,this.actual=o,this.label=o.label,this.confirmBeforeUndo=o.confirmBeforeUndo||!1,this.resourceLabel=u,this.strResource=E,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=K,this.groupOrder=te,this.sourceId=ue,this.sourceOrder=_e,this.isValid=!0}setValid(o){this.isValid=o}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Ts{constructor(o,u){this.resourceLabel=o,this.reason=u}}class Ls{constructor(){this.elements=new Map}createMessage(){const o=[],u=[];for(const[,K]of this.elements)(K.reason===0?o:u).push(K.resourceLabel);let E=[];return o.length>0&&E.push(xi.N({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",o.join(", "))),u.length>0&&E.push(xi.N({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",u.join(", "))),E.join(`
`)}get size(){return this.elements.size}has(o){return this.elements.has(o)}set(o,u){this.elements.set(o,u)}delete(o){return this.elements.delete(o)}}class wo{constructor(o,u,E,K,te,ue,_e){this.id=++Li,this.type=1,this.actual=o,this.label=o.label,this.confirmBeforeUndo=o.confirmBeforeUndo||!1,this.resourceLabels=u,this.strResources=E,this.groupId=K,this.groupOrder=te,this.sourceId=ue,this.sourceOrder=_e,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(o,u,E){this.removedResources||(this.removedResources=new Ls),this.removedResources.has(u)||this.removedResources.set(u,new Ts(o,E))}setValid(o,u,E){E?this.invalidatedResources&&(this.invalidatedResources.delete(u),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new Ls),this.invalidatedResources.has(u)||this.invalidatedResources.set(u,new Ts(o,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Ho{constructor(o,u){this.resourceLabel=o,this.strResource=u,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const o of this._past)o.type===1&&o.removeResource(this.resourceLabel,this.strResource,0);for(const o of this._future)o.type===1&&o.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let o=[];o.push(`* ${this.strResource}:`);for(let u=0;u<this._past.length;u++)o.push(`   * [UNDO] ${this._past[u]}`);for(let u=this._future.length-1;u>=0;u--)o.push(`   * [REDO] ${this._future[u]}`);return o.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(o,u){o.type===1?o.setValid(this.resourceLabel,this.strResource,u):o.setValid(u)}setElementsValidFlag(o,u){for(const E of this._past)u(E.actual)&&this._setElementValidFlag(E,o);for(const E of this._future)u(E.actual)&&this._setElementValidFlag(E,o)}pushElement(o){for(const u of this._future)u.type===1&&u.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(o),this.versionId++}createSnapshot(o){const u=[];for(let E=0,K=this._past.length;E<K;E++)u.push(this._past[E].id);for(let E=this._future.length-1;E>=0;E--)u.push(this._future[E].id);return new dt.YO(o,u)}restoreSnapshot(o){const u=o.elements.length;let E=!0,K=0,te=-1;for(let _e=0,je=this._past.length;_e<je;_e++,K++){const rt=this._past[_e];E&&(K>=u||rt.id!==o.elements[K])&&(E=!1,te=0),!E&&rt.type===1&&rt.removeResource(this.resourceLabel,this.strResource,0)}let ue=-1;for(let _e=this._future.length-1;_e>=0;_e--,K++){const je=this._future[_e];E&&(K>=u||je.id!==o.elements[K])&&(E=!1,ue=_e),!E&&je.type===1&&je.removeResource(this.resourceLabel,this.strResource,0)}te!==-1&&(this._past=this._past.slice(0,te)),ue!==-1&&(this._future=this._future.slice(ue+1)),this.versionId++}getElements(){const o=[],u=[];for(const E of this._past)o.push(E.actual);for(const E of this._future)u.push(E.actual);return{past:o,future:u}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(o,u){for(let E=this._past.length-1;E>=0;E--)if(this._past[E]===o){u.has(this.strResource)?this._past[E]=u.get(this.strResource):this._past.splice(E,1);break}this.versionId++}splitFutureWorkspaceElement(o,u){for(let E=this._future.length-1;E>=0;E--)if(this._future[E]===o){u.has(this.strResource)?this._future[E]=u.get(this.strResource):this._future.splice(E,1);break}this.versionId++}moveBackward(o){this._past.pop(),this._future.push(o),this.versionId++}moveForward(o){this._future.pop(),this._past.push(o),this.versionId++}}class er{constructor(o){this.editStacks=o,this._versionIds=[];for(let u=0,E=this.editStacks.length;u<E;u++)this._versionIds[u]=this.editStacks[u].versionId}isValid(){for(let o=0,u=this.editStacks.length;o<u;o++)if(this._versionIds[o]!==this.editStacks[o].versionId)return!1;return!0}}const jl=new Ho("","");jl.locked=!0;let Pa=class{constructor(o,u){this._dialogService=o,this._notificationService=u,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(o){for(const u of this._uriComparisonKeyComputers)if(u[0]===o.scheme)return u[1].getComparisonKey(o);return o.toString()}_print(o){console.log("------------------------------------"),console.log(`AFTER ${o}: `);let u=[];for(const E of this._editStacks)u.push(E[1].toString());console.log(u.join(`
`))}pushElement(o,u=dt.Xt.None,E=dt.gJ.None){if(o.type===0){const K=ci(o.resource),te=this.getUriComparisonKey(o.resource);this._pushElement(new is(o,K,te,u.id,u.nextOrder(),E.id,E.nextOrder()))}else{const K=new Set,te=[],ue=[];for(const _e of o.resources){const je=ci(_e),rt=this.getUriComparisonKey(_e);K.has(rt)||(K.add(rt),te.push(je),ue.push(rt))}te.length===1?this._pushElement(new is(o,te[0],ue[0],u.id,u.nextOrder(),E.id,E.nextOrder())):this._pushElement(new wo(o,te,ue,u.id,u.nextOrder(),E.id,E.nextOrder()))}jn&&this._print("pushElement")}_pushElement(o){for(let u=0,E=o.strResources.length;u<E;u++){const K=o.resourceLabels[u],te=o.strResources[u];let ue;this._editStacks.has(te)?ue=this._editStacks.get(te):(ue=new Ho(K,te),this._editStacks.set(te,ue)),ue.pushElement(o)}}getLastElement(o){const u=this.getUriComparisonKey(o);if(this._editStacks.has(u)){const E=this._editStacks.get(u);if(E.hasFutureElements())return null;const K=E.getClosestPastElement();return K?K.actual:null}return null}_splitPastWorkspaceElement(o,u){const E=o.actual.split(),K=new Map;for(const te of E){const ue=ci(te.resource),_e=this.getUriComparisonKey(te.resource),je=new is(te,ue,_e,0,0,0,0);K.set(je.strResource,je)}for(const te of o.strResources){if(u&&u.has(te))continue;this._editStacks.get(te).splitPastWorkspaceElement(o,K)}}_splitFutureWorkspaceElement(o,u){const E=o.actual.split(),K=new Map;for(const te of E){const ue=ci(te.resource),_e=this.getUriComparisonKey(te.resource),je=new is(te,ue,_e,0,0,0,0);K.set(je.strResource,je)}for(const te of o.strResources){if(u&&u.has(te))continue;this._editStacks.get(te).splitFutureWorkspaceElement(o,K)}}removeElements(o){const u=typeof o=="string"?o:this.getUriComparisonKey(o);this._editStacks.has(u)&&(this._editStacks.get(u).dispose(),this._editStacks.delete(u)),jn&&this._print("removeElements")}setElementsValidFlag(o,u,E){const K=this.getUriComparisonKey(o);this._editStacks.has(K)&&this._editStacks.get(K).setElementsValidFlag(u,E),jn&&this._print("setElementsValidFlag")}createSnapshot(o){const u=this.getUriComparisonKey(o);return this._editStacks.has(u)?this._editStacks.get(u).createSnapshot(o):new dt.YO(o,[])}restoreSnapshot(o){const u=this.getUriComparisonKey(o.resource);if(this._editStacks.has(u)){const E=this._editStacks.get(u);E.restoreSnapshot(o),!E.hasPastElements()&&!E.hasFutureElements()&&(E.dispose(),this._editStacks.delete(u))}jn&&this._print("restoreSnapshot")}getElements(o){const u=this.getUriComparisonKey(o);return this._editStacks.has(u)?this._editStacks.get(u).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(o){if(!o)return[null,null];let u=null,E=null;for(const[K,te]of this._editStacks){const ue=te.getClosestPastElement();!ue||ue.sourceId===o&&(!u||ue.sourceOrder>u.sourceOrder)&&(u=ue,E=K)}return[u,E]}canUndo(o){if(o instanceof dt.gJ){const[,E]=this._findClosestUndoElementWithSource(o.id);return!!E}const u=this.getUriComparisonKey(o);return this._editStacks.has(u)?this._editStacks.get(u).hasPastElements():!1}_onError(o,u){(0,gt.dL)(o);for(const E of u.strResources)this.removeElements(E);this._notificationService.error(o)}_acquireLocks(o){for(const u of o.editStacks)if(u.locked)throw new Error("Cannot acquire edit stack lock");for(const u of o.editStacks)u.locked=!0;return()=>{for(const u of o.editStacks)u.locked=!1}}_safeInvokeWithLocks(o,u,E,K,te){const ue=this._acquireLocks(E);let _e;try{_e=u()}catch(je){return ue(),K.dispose(),this._onError(je,o)}return _e?_e.then(()=>(ue(),K.dispose(),te()),je=>(ue(),K.dispose(),this._onError(je,o))):(ue(),K.dispose(),te())}_invokeWorkspacePrepare(o){return ln(this,void 0,void 0,function*(){if(typeof o.actual.prepareUndoRedo=="undefined")return Mt.JT.None;const u=o.actual.prepareUndoRedo();return typeof u=="undefined"?Mt.JT.None:u})}_invokeResourcePrepare(o,u){if(o.actual.type!==1||typeof o.actual.prepareUndoRedo=="undefined")return u(Mt.JT.None);const E=o.actual.prepareUndoRedo();return E?(0,Mt.Wf)(E)?u(E):E.then(K=>u(K)):u(Mt.JT.None)}_getAffectedEditStacks(o){const u=[];for(const E of o.strResources)u.push(this._editStacks.get(E)||jl);return new er(u)}_tryToSplitAndUndo(o,u,E,K){if(u.canSplit())return this._splitPastWorkspaceElement(u,E),this._notificationService.warn(K),new so(this._undo(o,0,!0));for(const te of u.strResources)this.removeElements(te);return this._notificationService.warn(K),new so}_checkWorkspaceUndo(o,u,E,K){if(u.removedResources)return this._tryToSplitAndUndo(o,u,u.removedResources,xi.N({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",u.label,u.removedResources.createMessage()));if(K&&u.invalidatedResources)return this._tryToSplitAndUndo(o,u,u.invalidatedResources,xi.N({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",u.label,u.invalidatedResources.createMessage()));const te=[];for(const _e of E.editStacks)_e.getClosestPastElement()!==u&&te.push(_e.resourceLabel);if(te.length>0)return this._tryToSplitAndUndo(o,u,null,xi.N({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",u.label,te.join(", ")));const ue=[];for(const _e of E.editStacks)_e.locked&&ue.push(_e.resourceLabel);return ue.length>0?this._tryToSplitAndUndo(o,u,null,xi.N({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",u.label,ue.join(", "))):E.isValid()?null:this._tryToSplitAndUndo(o,u,null,xi.N({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",u.label))}_workspaceUndo(o,u,E){const K=this._getAffectedEditStacks(u),te=this._checkWorkspaceUndo(o,u,K,!1);return te?te.returnValue:this._confirmAndExecuteWorkspaceUndo(o,u,K,E)}_isPartOfUndoGroup(o){if(!o.groupId)return!1;for(const[,u]of this._editStacks){const E=u.getClosestPastElement();if(!!E){if(E===o){const K=u.getSecondClosestPastElement();if(K&&K.groupId===o.groupId)return!0}if(E.groupId===o.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(o,u,E,K){return ln(this,void 0,void 0,function*(){if(u.canSplit()&&!this._isPartOfUndoGroup(u)){const _e=yield this._dialogService.show(Eo.Z.Info,xi.N("confirmWorkspace","Would you like to undo '{0}' across all files?",u.label),[xi.N({key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",E.editStacks.length),xi.N("nok","Undo this File"),xi.N("cancel","Cancel")],{cancelId:2});if(_e.choice===2)return;if(_e.choice===1)return this._splitPastWorkspaceElement(u,null),this._undo(o,0,!0);const je=this._checkWorkspaceUndo(o,u,E,!1);if(je)return je.returnValue;K=!0}let te;try{te=yield this._invokeWorkspacePrepare(u)}catch(_e){return this._onError(_e,u)}const ue=this._checkWorkspaceUndo(o,u,E,!0);if(ue)return te.dispose(),ue.returnValue;for(const _e of E.editStacks)_e.moveBackward(u);return this._safeInvokeWithLocks(u,()=>u.actual.undo(),E,te,()=>this._continueUndoInGroup(u.groupId,K))})}_resourceUndo(o,u,E){if(!u.isValid){o.flushAllElements();return}if(o.locked){const K=xi.N({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",u.label);this._notificationService.warn(K);return}return this._invokeResourcePrepare(u,K=>(o.moveBackward(u),this._safeInvokeWithLocks(u,()=>u.actual.undo(),new er([o]),K,()=>this._continueUndoInGroup(u.groupId,E))))}_findClosestUndoElementInGroup(o){if(!o)return[null,null];let u=null,E=null;for(const[K,te]of this._editStacks){const ue=te.getClosestPastElement();!ue||ue.groupId===o&&(!u||ue.groupOrder>u.groupOrder)&&(u=ue,E=K)}return[u,E]}_continueUndoInGroup(o,u){if(!o)return;const[,E]=this._findClosestUndoElementInGroup(o);if(E)return this._undo(E,0,u)}undo(o){if(o instanceof dt.gJ){const[,u]=this._findClosestUndoElementWithSource(o.id);return u?this._undo(u,o.id,!1):void 0}return typeof o=="string"?this._undo(o,0,!1):this._undo(this.getUriComparisonKey(o),0,!1)}_undo(o,u=0,E){if(!this._editStacks.has(o))return;const K=this._editStacks.get(o),te=K.getClosestPastElement();if(!te)return;if(te.groupId){const[_e,je]=this._findClosestUndoElementInGroup(te.groupId);if(te!==_e&&je)return this._undo(je,u,E)}if((te.sourceId!==u||te.confirmBeforeUndo)&&!E)return this._confirmAndContinueUndo(o,u,te);try{return te.type===1?this._workspaceUndo(o,te,E):this._resourceUndo(K,te,E)}finally{jn&&this._print("undo")}}_confirmAndContinueUndo(o,u,E){return ln(this,void 0,void 0,function*(){if((yield this._dialogService.show(Eo.Z.Info,xi.N("confirmDifferentSource","Would you like to undo '{0}'?",E.label),[xi.N("confirmDifferentSource.yes","Yes"),xi.N("confirmDifferentSource.no","No")],{cancelId:1})).choice!==1)return this._undo(o,u,!0)})}_findClosestRedoElementWithSource(o){if(!o)return[null,null];let u=null,E=null;for(const[K,te]of this._editStacks){const ue=te.getClosestFutureElement();!ue||ue.sourceId===o&&(!u||ue.sourceOrder<u.sourceOrder)&&(u=ue,E=K)}return[u,E]}canRedo(o){if(o instanceof dt.gJ){const[,E]=this._findClosestRedoElementWithSource(o.id);return!!E}const u=this.getUriComparisonKey(o);return this._editStacks.has(u)?this._editStacks.get(u).hasFutureElements():!1}_tryToSplitAndRedo(o,u,E,K){if(u.canSplit())return this._splitFutureWorkspaceElement(u,E),this._notificationService.warn(K),new so(this._redo(o));for(const te of u.strResources)this.removeElements(te);return this._notificationService.warn(K),new so}_checkWorkspaceRedo(o,u,E,K){if(u.removedResources)return this._tryToSplitAndRedo(o,u,u.removedResources,xi.N({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",u.label,u.removedResources.createMessage()));if(K&&u.invalidatedResources)return this._tryToSplitAndRedo(o,u,u.invalidatedResources,xi.N({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",u.label,u.invalidatedResources.createMessage()));const te=[];for(const _e of E.editStacks)_e.getClosestFutureElement()!==u&&te.push(_e.resourceLabel);if(te.length>0)return this._tryToSplitAndRedo(o,u,null,xi.N({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",u.label,te.join(", ")));const ue=[];for(const _e of E.editStacks)_e.locked&&ue.push(_e.resourceLabel);return ue.length>0?this._tryToSplitAndRedo(o,u,null,xi.N({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",u.label,ue.join(", "))):E.isValid()?null:this._tryToSplitAndRedo(o,u,null,xi.N({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",u.label))}_workspaceRedo(o,u){const E=this._getAffectedEditStacks(u),K=this._checkWorkspaceRedo(o,u,E,!1);return K?K.returnValue:this._executeWorkspaceRedo(o,u,E)}_executeWorkspaceRedo(o,u,E){return ln(this,void 0,void 0,function*(){let K;try{K=yield this._invokeWorkspacePrepare(u)}catch(ue){return this._onError(ue,u)}const te=this._checkWorkspaceRedo(o,u,E,!0);if(te)return K.dispose(),te.returnValue;for(const ue of E.editStacks)ue.moveForward(u);return this._safeInvokeWithLocks(u,()=>u.actual.redo(),E,K,()=>this._continueRedoInGroup(u.groupId))})}_resourceRedo(o,u){if(!u.isValid){o.flushAllElements();return}if(o.locked){const E=xi.N({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",u.label);this._notificationService.warn(E);return}return this._invokeResourcePrepare(u,E=>(o.moveForward(u),this._safeInvokeWithLocks(u,()=>u.actual.redo(),new er([o]),E,()=>this._continueRedoInGroup(u.groupId))))}_findClosestRedoElementInGroup(o){if(!o)return[null,null];let u=null,E=null;for(const[K,te]of this._editStacks){const ue=te.getClosestFutureElement();!ue||ue.groupId===o&&(!u||ue.groupOrder<u.groupOrder)&&(u=ue,E=K)}return[u,E]}_continueRedoInGroup(o){if(!o)return;const[,u]=this._findClosestRedoElementInGroup(o);if(u)return this._redo(u)}redo(o){if(o instanceof dt.gJ){const[,u]=this._findClosestRedoElementWithSource(o.id);return u?this._redo(u):void 0}return typeof o=="string"?this._redo(o):this._redo(this.getUriComparisonKey(o))}_redo(o){if(!this._editStacks.has(o))return;const u=this._editStacks.get(o),E=u.getClosestFutureElement();if(!!E){if(E.groupId){const[K,te]=this._findClosestRedoElementInGroup(E.groupId);if(E!==K&&te)return this._redo(te)}try{return E.type===1?this._workspaceRedo(o,E):this._resourceRedo(u,E)}finally{jn&&this._print("redo")}}}};Pa=Bt([Yt(0,nt.S),Yt(1,Ae.lT)],Pa);class so{constructor(o){this.returnValue=o}}(0,zi.z)(dt.tJ,Pa);var gs=l(56708),Yo=l(16259),pr=l(66534),sa=l(93167),Oa=l(63891),kr=l(75232),tr=l(1062);const ar=Object.freeze({id:"editor",order:5,type:"object",title:xi.N("editorConfigurationTitle","Editor"),scope:5}),Sl=Object.assign(Object.assign({},ar),{properties:{"editor.tabSize":{type:"number",default:Oa.D.tabSize,minimum:1,markdownDescription:xi.N("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:Oa.D.insertSpaces,markdownDescription:xi.N("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:Oa.D.detectIndentation,markdownDescription:xi.N("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:Oa.D.trimAutoWhitespace,description:xi.N("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:Oa.D.largeFileOptimizations,description:xi.N("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:xi.N("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[xi.N("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),xi.N("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),xi.N("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:xi.N("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[xi.N("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),xi.N("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),xi.N("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:xi.N("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:xi.N("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:xi.N("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.language.brackets":{type:"array",default:!1,description:xi.N("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:xi.N("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:xi.N("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:"array",default:!1,description:xi.N("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:xi.N("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:xi.N("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:xi.N("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:xi.N("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:xi.N("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:xi.N("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:xi.N("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:xi.N("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[xi.N("wordWrap.off","Lines will never wrap."),xi.N("wordWrap.on","Lines will wrap at the viewport width."),xi.N("wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});function wd(D){return typeof D.type!="undefined"||typeof D.anyOf!="undefined"}for(const D of C.Bc){const o=D.schema;if(typeof o!="undefined")if(wd(o))Sl.properties[`editor.${D.name}`]=o;else for(const u in o)Object.hasOwnProperty.call(o,u)&&(Sl.properties[u]=o[u])}let $a=null;function Ll(){return $a===null&&($a=Object.create(null),Object.keys(Sl.properties).forEach(D=>{$a[D]=!0})),$a}function El(D){return Ll()[`editor.${D}`]||!1}function cl(D){return Ll()[`diffEditor.${D}`]||!1}tr.B.as(kr.IP.Configuration).registerConfiguration(Sl);var Ca=l(16362),lr=l(60166),mi=l(58829),$s=l(68491),xs=l(30860),zo=l(42893);class oo{constructor(o={},u=[],E=[]){this._contents=o,this._keys=u,this._overrides=E,this.isFrozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(o){return o?(0,$s.Mt)(this.contents,o):this.contents}getOverrideValue(o,u){const E=this.getContentsForOverrideIdentifer(u);return E?o?(0,$s.Mt)(E,o):E:void 0}override(o){let u=this.overrideConfigurations.get(o);return u||(u=this.createOverrideConfigurationModel(o),this.overrideConfigurations.set(o,u)),u}merge(...o){const u=zo.I8(this.contents),E=zo.I8(this.overrides),K=[...this.keys];for(const te of o){this.mergeContents(u,te.contents);for(const ue of te.overrides){const[_e]=E.filter(je=>bn.fS(je.identifiers,ue.identifiers));_e?(this.mergeContents(_e.contents,ue.contents),_e.keys.push(...ue.keys),_e.keys=bn.EB(_e.keys)):E.push(zo.I8(ue))}for(const ue of te.keys)K.indexOf(ue)===-1&&K.push(ue)}return new oo(u,K,E)}freeze(){return this.isFrozen=!0,this}createOverrideConfigurationModel(o){const u=this.getContentsForOverrideIdentifer(o);if(!u||typeof u!="object"||!Object.keys(u).length)return this;let E={};for(const K of bn.EB([...Object.keys(this.contents),...Object.keys(u)])){let te=this.contents[K],ue=u[K];ue&&(typeof te=="object"&&typeof ue=="object"?(te=zo.I8(te),this.mergeContents(te,ue)):te=ue),E[K]=te}return new oo(E,this.keys,this.overrides)}mergeContents(o,u){for(const E of Object.keys(u)){if(E in o&&Zt.Kn(o[E])&&Zt.Kn(u[E])){this.mergeContents(o[E],u[E]);continue}o[E]=zo.I8(u[E])}}checkAndFreeze(o){return this.isFrozen&&!Object.isFrozen(o)?zo._A(o):o}getContentsForOverrideIdentifer(o){let u=null,E=null;const K=te=>{te&&(E?this.mergeContents(E,te):E=zo.I8(te))};for(const te of this.overrides)bn.fS(te.identifiers,[o])?u=te.contents:te.identifiers.includes(o)&&K(te.contents);return K(u),E}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(o,u){this.addKey(o),(0,$s.KV)(this.contents,o,u,E=>{throw new Error(E)})}removeValue(o){this.removeKey(o)&&(0,$s.xL)(this.contents,o)}addKey(o){let u=this.keys.length;for(let E=0;E<u;E++)o.indexOf(this.keys[E])===0&&(u=E);this.keys.splice(u,1,o)}removeKey(o){let u=this.keys.indexOf(o);return u!==-1?(this.keys.splice(u,1),!0):!1}}class fc extends oo{constructor(o={}){const u=tr.B.as(kr.IP.Configuration).getConfigurationProperties(),E=Object.keys(u),K=Object.create(null),te=[];for(const ue in u){const _e=o[ue],je=_e!==void 0?_e:u[ue].default;(0,$s.KV)(K,ue,je,rt=>console.error(`Conflict in default settings: ${rt}`))}for(const ue of Object.keys(K))kr.eU.test(ue)&&te.push({identifiers:(0,kr.ny)(ue),keys:Object.keys(K[ue]),contents:(0,$s.Od)(K[ue],_e=>console.error(`Conflict in default settings file: ${_e}`))});super(K,E,te)}}class Qr{constructor(o,u,E=new oo,K=new oo,te=new xs.Y9,ue=new oo,_e=new xs.Y9,je=!0){this._defaultConfiguration=o,this._localUserConfiguration=u,this._remoteUserConfiguration=E,this._workspaceConfiguration=K,this._folderConfigurations=te,this._memoryConfiguration=ue,this._memoryConfigurationByResource=_e,this._freeze=je,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new xs.Y9,this._userConfiguration=null}getValue(o,u,E){return this.getConsolidateConfigurationModel(u,E).getValue(o)}updateValue(o,u,E={}){let K;E.resource?(K=this._memoryConfigurationByResource.get(E.resource),K||(K=new oo,this._memoryConfigurationByResource.set(E.resource,K))):K=this._memoryConfiguration,u===void 0?K.removeValue(o):K.setValue(o,u),E.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(o,u,E){const K=this.getConsolidateConfigurationModel(u,E),te=this.getFolderConfigurationModelForResource(u.resource,E),ue=u.resource?this._memoryConfigurationByResource.get(u.resource)||this._memoryConfiguration:this._memoryConfiguration,_e=u.overrideIdentifier?this._defaultConfiguration.freeze().override(u.overrideIdentifier).getValue(o):this._defaultConfiguration.freeze().getValue(o),je=u.overrideIdentifier?this.userConfiguration.freeze().override(u.overrideIdentifier).getValue(o):this.userConfiguration.freeze().getValue(o),rt=u.overrideIdentifier?this.localUserConfiguration.freeze().override(u.overrideIdentifier).getValue(o):this.localUserConfiguration.freeze().getValue(o),ct=u.overrideIdentifier?this.remoteUserConfiguration.freeze().override(u.overrideIdentifier).getValue(o):this.remoteUserConfiguration.freeze().getValue(o),zt=E?u.overrideIdentifier?this._workspaceConfiguration.freeze().override(u.overrideIdentifier).getValue(o):this._workspaceConfiguration.freeze().getValue(o):void 0,Fn=te?u.overrideIdentifier?te.freeze().override(u.overrideIdentifier).getValue(o):te.freeze().getValue(o):void 0,ii=u.overrideIdentifier?ue.override(u.overrideIdentifier).getValue(o):ue.getValue(o),Ti=K.getValue(o),Es=bn.EB(bn.xH(K.overrides.map(hs=>hs.identifiers))).filter(hs=>K.getOverrideValue(o,hs)!==void 0);return{defaultValue:_e,userValue:je,userLocalValue:rt,userRemoteValue:ct,workspaceValue:zt,workspaceFolderValue:Fn,memoryValue:ii,value:Ti,default:_e!==void 0?{value:this._defaultConfiguration.freeze().getValue(o),override:u.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(o,u.overrideIdentifier):void 0}:void 0,user:je!==void 0?{value:this.userConfiguration.freeze().getValue(o),override:u.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(o,u.overrideIdentifier):void 0}:void 0,userLocal:rt!==void 0?{value:this.localUserConfiguration.freeze().getValue(o),override:u.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(o,u.overrideIdentifier):void 0}:void 0,userRemote:ct!==void 0?{value:this.remoteUserConfiguration.freeze().getValue(o),override:u.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(o,u.overrideIdentifier):void 0}:void 0,workspace:zt!==void 0?{value:this._workspaceConfiguration.freeze().getValue(o),override:u.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(o,u.overrideIdentifier):void 0}:void 0,workspaceFolder:Fn!==void 0?{value:te==null?void 0:te.freeze().getValue(o),override:u.overrideIdentifier?te==null?void 0:te.freeze().getOverrideValue(o,u.overrideIdentifier):void 0}:void 0,memory:ii!==void 0?{value:ue.getValue(o),override:u.overrideIdentifier?ue.getOverrideValue(o,u.overrideIdentifier):void 0}:void 0,overrideIdentifiers:Es.length?Es:void 0}}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidateConfigurationModel(o,u){let E=this.getConsolidatedConfigurationModelForResource(o,u);return o.overrideIdentifier?E.override(o.overrideIdentifier):E}getConsolidatedConfigurationModelForResource({resource:o},u){let E=this.getWorkspaceConsolidatedConfiguration();if(u&&o){const K=u.getFolder(o);K&&(E=this.getFolderConsolidatedConfiguration(K.uri)||E);const te=this._memoryConfigurationByResource.get(o);te&&(E=E.merge(te))}return E}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(o){let u=this._foldersConsolidatedConfigurations.get(o);if(!u){const E=this.getWorkspaceConsolidatedConfiguration(),K=this._folderConfigurations.get(o);K?(u=E.merge(K),this._freeze&&(u=u.freeze()),this._foldersConsolidatedConfigurations.set(o,u)):u=E}return u}getFolderConfigurationModelForResource(o,u){if(u&&o){const E=u.getFolder(o);if(E)return this._folderConfigurations.get(E.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((o,u)=>{const{contents:E,overrides:K,keys:te}=this._folderConfigurations.get(u);return o.push([u,{contents:E,overrides:K,keys:te}]),o},[])}}static parse(o){const u=this.parseConfigurationModel(o.defaults),E=this.parseConfigurationModel(o.user),K=this.parseConfigurationModel(o.workspace),te=o.folders.reduce((ue,_e)=>(ue.set(y.o.revive(_e[0]),this.parseConfigurationModel(_e[1])),ue),new xs.Y9);return new Qr(u,E,new oo,K,te,new oo,new xs.Y9,!1)}static parseConfigurationModel(o){return new oo(o.contents,o.keys,o.overrides).freeze()}}class Ei{constructor(o,u,E,K){this.change=o,this.previous=u,this.currentConfiguraiton=E,this.currentWorkspace=K,this._previousConfiguration=void 0;const te=new Set;o.keys.forEach(_e=>te.add(_e)),o.overrides.forEach(([,_e])=>_e.forEach(je=>te.add(je))),this.affectedKeys=[...te.values()];const ue=new oo;this.affectedKeys.forEach(_e=>ue.setValue(_e,{})),this.affectedKeysTree=ue.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=Qr.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(o,u){var E;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,o)){if(u){const K=this.previousConfiguration?this.previousConfiguration.getValue(o,u,(E=this.previous)===null||E===void 0?void 0:E.workspace):void 0,te=this.currentConfiguraiton.getValue(o,u,this.currentWorkspace);return!zo.fS(K,te)}return!0}return!1}doesAffectedKeysTreeContains(o,u){let E=(0,$s.Od)({[u]:!0},()=>{}),K;for(;typeof E=="object"&&(K=Object.keys(E)[0]);){if(o=o[K],!o)return!1;E=E[K]}return!0}}const Ji=/^(cursor|delete)/;class Cs extends Mt.JT{constructor(o,u,E,K,te){super(),this._contextKeyService=o,this._commandService=u,this._telemetryService=E,this._notificationService=K,this._logService=te,this._onDidUpdateKeybindings=this._register(new z.Q5),this._currentChord=null,this._currentChordChecker=new Tt.zh,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=ro.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new Tt._F,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:z.ju.None}dispose(){super.dispose()}_log(o){this._logging&&this._logService.info(`[KeybindingService]: ${o}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(o,u){const E=this._getResolver().lookupPrimaryKeybinding(o,u||this._contextKeyService);if(!!E)return E.resolvedKeybinding}dispatchEvent(o,u){return this._dispatch(o,u)}softDispatch(o,u){const E=this.resolveKeyboardEvent(o);if(E.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[K]=E.getDispatchParts();if(K===null)return null;const te=this._contextKeyService.getContext(u),ue=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(te,ue,K)}_enterChordMode(o,u){this._currentChord={keypress:o,label:u},this._currentChordStatusMessage=this._notificationService.status(xi.N("first.chord","({0}) was pressed. Waiting for second key of chord...",u));const E=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-E>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(o,u){return this._doDispatch(this.resolveKeyboardEvent(o),u,!1)}_singleModifierDispatch(o,u){const E=this.resolveKeyboardEvent(o),[K]=E.getSingleModifierDispatchParts();if(K)return this._ignoreSingleModifiers.has(K)?(this._log(`+ Ignoring single modifier ${K} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=ro.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=ro.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${K}.`),this._currentSingleModifier=K,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):K===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${K} ${K}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(E,u,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${K}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[te]=E.getParts();return this._ignoreSingleModifiers=new ro(te),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(o,u,E=!1){let K=!1;if(o.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let te=null,ue=null;if(E){const[ct]=o.getSingleModifierDispatchParts();te=ct,ue=ct}else[te]=o.getDispatchParts(),ue=this._currentChord?this._currentChord.keypress:null;if(te===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),K;const _e=this._contextKeyService.getContext(u),je=o.getLabel(),rt=this._getResolver().resolve(_e,ue,te);return this._logService.trace("KeybindingService#dispatch",je,rt==null?void 0:rt.commandId),rt&&rt.enterChord?(K=!0,this._enterChordMode(te,je),K):(this._currentChord&&(!rt||!rt.commandId)&&(this._notificationService.status(xi.N("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,je),{hideAfter:10*1e3}),K=!0),this._leaveChordMode(),rt&&rt.commandId&&(rt.bubble||(K=!0),typeof rt.commandArgs=="undefined"?this._commandService.executeCommand(rt.commandId).then(void 0,ct=>this._notificationService.warn(ct)):this._commandService.executeCommand(rt.commandId,rt.commandArgs).then(void 0,ct=>this._notificationService.warn(ct)),Ji.test(rt.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:rt.commandId,from:"keybinding"})),K)}mightProducePrintableCharacter(o){return o.ctrlKey||o.metaKey?!1:o.keyCode>=31&&o.keyCode<=56||o.keyCode>=21&&o.keyCode<=30}}class ro{constructor(o){this._ctrlKey=o?o.ctrlKey:!1,this._shiftKey=o?o.shiftKey:!1,this._altKey=o?o.altKey:!1,this._metaKey=o?o.metaKey:!1}has(o){switch(o){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}ro.EMPTY=new ro(null);var Do=l(49622);class js{constructor(o,u,E){this._log=E,this._defaultKeybindings=o,this._defaultBoundCommands=new Map;for(const K of o){const te=K.command;te&&te.charAt(0)!=="-"&&this._defaultBoundCommands.set(te,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=js.handleRemovals([].concat(o).concat(u));for(let K=0,te=this._keybindings.length;K<te;K++){let ue=this._keybindings[K];ue.keypressParts.length!==0&&(ue.when&&ue.when.type===0||this._addKeyPress(ue.keypressParts[0],ue))}}static _isTargetedForRemoval(o,u,E,K){return!(u&&o.keypressParts[0]!==u||E&&o.keypressParts[1]!==E||K&&(!o.when||!(0,ls.Fb)(K,o.when)))}static handleRemovals(o){const u=new Map;for(let K=0,te=o.length;K<te;K++){const ue=o[K];if(ue.command&&ue.command.charAt(0)==="-"){const _e=ue.command.substring(1);u.has(_e)?u.get(_e).push(ue):u.set(_e,[ue])}}if(u.size===0)return o;const E=[];for(let K=0,te=o.length;K<te;K++){const ue=o[K];if(!ue.command||ue.command.length===0){E.push(ue);continue}if(ue.command.charAt(0)==="-")continue;const _e=u.get(ue.command);if(!_e||!ue.isDefault){E.push(ue);continue}let je=!1;for(const rt of _e){const ct=rt.keypressParts[0],zt=rt.keypressParts[1],Fn=rt.when;if(this._isTargetedForRemoval(ue,ct,zt,Fn)){je=!0;break}}if(!je){E.push(ue);continue}}return E}_addKeyPress(o,u){const E=this._map.get(o);if(typeof E=="undefined"){this._map.set(o,[u]),this._addToLookupMap(u);return}for(let K=E.length-1;K>=0;K--){let te=E[K];if(te.command===u.command)continue;const ue=te.keypressParts.length>1,_e=u.keypressParts.length>1;ue&&_e&&te.keypressParts[1]!==u.keypressParts[1]||js.whenIsEntirelyIncluded(te.when,u.when)&&this._removeFromLookupMap(te)}E.push(u),this._addToLookupMap(u)}_addToLookupMap(o){if(!o.command)return;let u=this._lookupMap.get(o.command);typeof u=="undefined"?(u=[o],this._lookupMap.set(o.command,u)):u.push(o)}_removeFromLookupMap(o){if(!o.command)return;let u=this._lookupMap.get(o.command);if(typeof u!="undefined"){for(let E=0,K=u.length;E<K;E++)if(u[E]===o){u.splice(E,1);return}}}static whenIsEntirelyIncluded(o,u){return!u||u.type===1?!0:!o||o.type===1?!1:(0,ls.K8)(o,u)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(o,u){const E=this._lookupMap.get(o);if(typeof E=="undefined"||E.length===0)return null;if(E.length===1)return E[0];for(let K=E.length-1;K>=0;K--){const te=E[K];if(u.contextMatchesRules(te.when))return te}return E[E.length-1]}resolve(o,u,E){this._log(`| Resolving ${E}${u?` chorded from ${u}`:""}`);let K=null;if(u!==null){const ue=this._map.get(u);if(typeof ue=="undefined")return this._log("\\ No keybinding entries."),null;K=[];for(let _e=0,je=ue.length;_e<je;_e++){let rt=ue[_e];rt.keypressParts[1]===E&&K.push(rt)}}else{const ue=this._map.get(E);if(typeof ue=="undefined")return this._log("\\ No keybinding entries."),null;K=ue}let te=this._findCommand(o,K);return te?u===null&&te.keypressParts.length>1&&te.keypressParts[1]!==null?(this._log(`\\ From ${K.length} keybinding entries, matched chord, when: ${Oo(te.when)}, source: ${Lr(te)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${K.length} keybinding entries, matched ${te.command}, when: ${Oo(te.when)}, source: ${Lr(te)}.`),{enterChord:!1,leaveChord:te.keypressParts.length>1,commandId:te.command,commandArgs:te.commandArgs,bubble:te.bubble}):(this._log(`\\ From ${K.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(o,u){for(let E=u.length-1;E>=0;E--){let K=u[E];if(!!js._contextMatchesRules(o,K.when))return K}return null}static _contextMatchesRules(o,u){return u?u.evaluate(o):!0}}function Oo(D){return D?`${D.serialize()}`:"no when condition"}function Lr(D){return D.extensionId?D.isBuiltinExtension?`built-in extension ${D.extensionId}`:`user extension ${D.extensionId}`:D.isDefault?"built-in":"user"}var Ga=l(82918);class jc{constructor(o,u,E,K,te,ue,_e){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=o,this.keypressParts=o?Kc(o.getDispatchParts()):[],o&&this.keypressParts.length===0&&(this.keypressParts=Kc(o.getSingleModifierDispatchParts())),this.bubble=u?u.charCodeAt(0)===94:!1,this.command=this.bubble?u.substr(1):u,this.commandArgs=E,this.when=K,this.isDefault=te,this.extensionId=ue,this.isBuiltinExtension=_e}}function Kc(D){let o=[];for(let u=0,E=D.length;u<E;u++){const K=D[u];if(!K)return o;o.push(K)}return o}var ba=l(26899);class yd extends pr.f1{constructor(o,u){if(super(),u.length===0)throw(0,gt.b1)("parts");this._os=o,this._parts=u}getLabel(){return ba.xo.toLabel(this._os,this._parts,o=>this._getLabel(o))}getAriaLabel(){return ba.X4.toLabel(this._os,this._parts,o=>this._getAriaLabel(o))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:ba.jC.toLabel(this._os,this._parts,o=>this._getElectronAccelerator(o))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(o=>this._getPart(o))}_getPart(o){return new pr.BQ(o.ctrlKey,o.shiftKey,o.altKey,o.metaKey,this._getLabel(o),this._getAriaLabel(o))}getDispatchParts(){return this._parts.map(o=>this._getDispatchPart(o))}getSingleModifierDispatchParts(){return this._parts.map(o=>this._getSingleModifierDispatchPart(o))}}class _r extends yd{constructor(o,u){super(u,o.parts)}_keyCodeToUILabel(o){if(this._os===2)switch(o){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return O.kL.toString(o)}_getLabel(o){return o.isDuplicateModifierCase()?"":this._keyCodeToUILabel(o.keyCode)}_getAriaLabel(o){return o.isDuplicateModifierCase()?"":O.kL.toString(o.keyCode)}_getElectronAccelerator(o){return O.kL.toElectronAccelerator(o.keyCode)}_getDispatchPart(o){return _r.getDispatchStr(o)}static getDispatchStr(o){if(o.isModifierKey())return null;let u="";return o.ctrlKey&&(u+="ctrl+"),o.shiftKey&&(u+="shift+"),o.altKey&&(u+="alt+"),o.metaKey&&(u+="meta+"),u+=O.kL.toString(o.keyCode),u}_getSingleModifierDispatchPart(o){return o.keyCode===5&&!o.shiftKey&&!o.altKey&&!o.metaKey?"ctrl":o.keyCode===4&&!o.ctrlKey&&!o.altKey&&!o.metaKey?"shift":o.keyCode===6&&!o.ctrlKey&&!o.shiftKey&&!o.metaKey?"alt":o.keyCode===57&&!o.ctrlKey&&!o.shiftKey&&!o.altKey?"meta":null}static _scanCodeToKeyCode(o){const u=O.Vd[o];if(u!==-1)return u;switch(o){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(o){if(!o)return null;if(o instanceof pr.QC)return o;const u=this._scanCodeToKeyCode(o.scanCode);return u===0?null:new pr.QC(o.ctrlKey,o.shiftKey,o.altKey,o.metaKey,u)}static resolveUserBinding(o,u){const E=Kc(o.map(K=>this._resolveSimpleUserBinding(K)));return E.length>0?[new _r(new pr.X_(E),u)]:[]}}var Rr=l(51318),Sd=l(11476),Za=l(27983),Kl=l(54132),Dl=l(86641),Ld=l(16270),$l=l(18708),nr=l(13125),$c=l(51741),Ya;(function(D){D[D.AVOID=0]="AVOID",D[D.ALIGN=1]="ALIGN"})(Ya||(Ya={}));function Qa(D,o,u){const E=u.mode===Ya.ALIGN?u.offset:u.offset+u.size,K=u.mode===Ya.ALIGN?u.offset+u.size:u.offset;return u.position===0?o<=D-E?E:o<=K?K-o:Math.max(D-o,0):o<=K?K-o:o<=D-E?E:0}class dl extends Mt.JT{constructor(o,u){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=Mt.JT.None,this.toDisposeOnSetContainer=Mt.JT.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=jt.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,jt.Cp(this.view),this.setContainer(o,u),this._register((0,Mt.OF)(()=>this.setContainer(null,1)))}setContainer(o,u){var E;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(E=this.shadowRootHostElement)===null||E===void 0||E.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),o){if(this.container=o,this.useFixedPosition=u!==1,this.useShadowDOM=u===3,this.useShadowDOM){this.shadowRootHostElement=jt.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const te=document.createElement("style");te.textContent=gc,this.shadowRoot.appendChild(te),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(jt.$("slot"))}else this.container.appendChild(this.view);const K=new Mt.SL;dl.BUBBLE_UP_EVENTS.forEach(te=>{K.add(jt.mu(this.container,te,ue=>{this.onDOMEvent(ue,!1)}))}),dl.BUBBLE_DOWN_EVENTS.forEach(te=>{K.add(jt.mu(this.container,te,ue=>{this.onDOMEvent(ue,!0)},!0))}),this.toDisposeOnSetContainer=K}}show(o){this.isVisible()&&this.hide(),jt.PO(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",jt.$Z(this.view),this.toDisposeOnClean=o.render(this.view)||Mt.JT.None,this.delegate=o,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(!!this.isVisible()){if(this.delegate.canRelayout===!1&&!(Rt.gn&&nr.D.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;let o=this.delegate.getAnchor(),u;if(jt.Re(o)){let zt=jt.i(o);u={top:zt.top,left:zt.left,width:zt.width,height:zt.height}}else u={top:o.y,left:o.x,width:o.width||1,height:o.height||2};const E=jt.w(this.view),K=jt.wn(this.view),te=this.delegate.anchorPosition||0,ue=this.delegate.anchorAlignment||0,_e=this.delegate.anchorAxisAlignment||0;let je,rt;if(_e===0){const zt={offset:u.top-window.pageYOffset,size:u.height,position:te===0?0:1},Fn={offset:u.left,size:u.width,position:ue===0?0:1,mode:Ya.ALIGN};je=Qa(window.innerHeight,K,zt)+window.pageYOffset,$c.e.intersects({start:je,end:je+K},{start:zt.offset,end:zt.offset+zt.size})&&(Fn.mode=Ya.AVOID),rt=Qa(window.innerWidth,E,Fn)}else{const zt={offset:u.left,size:u.width,position:ue===0?0:1},Fn={offset:u.top,size:u.height,position:te===0?0:1,mode:Ya.ALIGN};rt=Qa(window.innerWidth,E,zt),$c.e.intersects({start:rt,end:rt+E},{start:zt.offset,end:zt.offset+zt.size})&&(Fn.mode=Ya.AVOID),je=Qa(window.innerHeight,K,Fn)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(te===0?"bottom":"top"),this.view.classList.add(ue===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const ct=jt.i(this.container);this.view.style.top=`${je-(this.useFixedPosition?jt.i(this.view).top:ct.top)}px`,this.view.style.left=`${rt-(this.useFixedPosition?jt.i(this.view).left:ct.left)}px`,this.view.style.width="initial"}hide(o){const u=this.delegate;this.delegate=null,u!=null&&u.onHide&&u.onHide(o),this.toDisposeOnClean.dispose(),jt.Cp(this.view)}isVisible(){return!!this.delegate}onDOMEvent(o,u){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(o,document.activeElement):u&&!jt.jg(o.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}dl.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],dl.BUBBLE_DOWN_EVENTS=["click"];let gc=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		font-display: block;
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;var Xr=function(D,o,u,E){var K=arguments.length,te=K<3?o:E===null?E=Object.getOwnPropertyDescriptor(o,u):E,ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,o,u,E);else for(var _e=D.length-1;_e>=0;_e--)(ue=D[_e])&&(te=(K<3?ue(te):K>3?ue(o,u,te):ue(o,u))||te);return K>3&&te&&Object.defineProperty(o,u,te),te},oa=function(D,o){return function(u,E){o(u,E,D)}};let wa=class extends Mt.JT{constructor(o){super(),this.layoutService=o,this.currentViewDisposable=Mt.JT.None,this.container=o.hasContainer?o.container:null,this.contextView=this._register(new dl(this.container,1)),this.layout(),this._register(o.onDidLayout(()=>this.layout()))}setContainer(o,u){this.contextView.setContainer(o,u||1)}showContextView(o,u,E){u?u!==this.container&&(this.container=u,this.setContainer(u,E?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(o);const K=(0,Mt.OF)(()=>{this.currentViewDisposable===K&&this.hideContextView()});return this.currentViewDisposable=K,K}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(o){this.contextView.hide(o)}};wa=Xr([oa(0,us)],wa);var Gc=l(62186),ra=l(50018);const xl="**",Gl="/",Nl="[/\\\\]",ul="[^/\\\\]",Jr=/\//g;function hl(D){switch(D){case 0:return"";case 1:return`${ul}*?`;default:return`(?:${Nl}|${ul}+${Nl}|${Nl}${ul}+)*?`}}function ao(D,o){if(!D)return[];const u=[];let E=!1,K=!1,te="";for(const ue of D){switch(ue){case o:if(!E&&!K){u.push(te),te="";continue}break;case"{":E=!0;break;case"}":E=!1;break;case"[":K=!0;break;case"]":K=!1;break}te+=ue}return te&&u.push(te),u}function Zc(D){if(!D)return"";let o="";const u=ao(D,Gl);if(u.every(E=>E===xl))o=".*";else{let E=!1;u.forEach((K,te)=>{if(K===xl){E||(o+=hl(2),E=!0);return}let ue=!1,_e="",je=!1,rt="";for(const ct of K){if(ct!=="}"&&ue){_e+=ct;continue}if(je&&(ct!=="]"||!rt)){let zt;ct==="-"?zt=ct:(ct==="^"||ct==="!")&&!rt?zt="^":ct===Gl?zt="":zt=(0,Ut.ec)(ct),rt+=zt;continue}switch(ct){case"{":ue=!0;continue;case"[":je=!0;continue;case"}":{const Fn=`(?:${ao(_e,",").map(ii=>Zc(ii)).join("|")})`;o+=Fn,ue=!1,_e="";break}case"]":o+="["+rt+"]",je=!1,rt="";break;case"?":o+=ul;continue;case"*":o+=hl(1);continue;default:o+=(0,Ut.ec)(ct)}}te<u.length-1&&(u[te+1]!==xl||te+2<u.length)&&(o+=Nl),E=!1})}return o}const ya=/^\*\*\/\*\.[\w\.-]+$/,Il=/^\*\*\/([\w\.-]+)\/?$/,aa=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,Zl=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,Ed=/^\*\*((\/[\w\.-]+)+)\/?$/,Dd=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,mc=new xs.z6(1e4),xd=function(){return!1},Ar=function(){return null};function Fa(D,o){if(!D)return Ar;let u;typeof D!="string"?u=D.pattern:u=D,u=u.trim();const E=`${u}_${!!o.trimForExclusions}`;let K=mc.get(E);if(K)return pc(K,D);let te;if(ya.test(u)){const ue=u.substr(4);K=function(_e,je){return typeof _e=="string"&&_e.endsWith(ue)?u:null}}else(te=Il.exec(Ba(u,o)))?K=Tl(te[1],u):(o.trimForExclusions?Zl:aa).test(u)?K=Yc(u,o):(te=Ed.exec(Ba(u,o)))?K=fl(te[1].substr(1),u,!0):(te=Dd.exec(Ba(u,o)))?K=fl(te[1],u,!1):K=Ml(u);return mc.set(E,K),pc(K,D)}function pc(D,o){return typeof o=="string"?D:function(u,E){return(0,Gc.KM)(u,o.base,!Rt.IJ)?D(u.substr(o.base.length+1),E):null}}function Ba(D,o){return o.trimForExclusions&&D.endsWith("/**")?D.substr(0,D.length-2):D}function Tl(D,o){const u=`/${D}`,E=`\\${D}`,K=function(ue,_e){return typeof ue!="string"?null:_e?_e===D?o:null:ue===D||ue.endsWith(u)||ue.endsWith(E)?o:null},te=[D];return K.basenames=te,K.patterns=[o],K.allBasenames=te,K}function Yc(D,o){const u=Nd(D.slice(1,-1).split(",").map(_e=>Fa(_e,o)).filter(_e=>_e!==Ar),D),E=u.length;if(!E)return Ar;if(E===1)return u[0];const K=function(_e,je){for(let rt=0,ct=u.length;rt<ct;rt++)if(u[rt](_e,je))return D;return null},te=u.find(_e=>!!_e.allBasenames);te&&(K.allBasenames=te.allBasenames);const ue=u.reduce((_e,je)=>je.allPaths?_e.concat(je.allPaths):_e,[]);return ue.length&&(K.allPaths=ue),K}function fl(D,o,u){const E=ra.ir===ra.KR.sep,K=E?D:D.replace(Jr,ra.ir),te=ra.ir+K,ue=ra.KR.sep+D,_e=u?function(je,rt){return typeof je=="string"&&(je===K||je.endsWith(te)||!E&&(je===D||je.endsWith(ue)))?o:null}:function(je,rt){return typeof je=="string"&&(je===K||!E&&je===D)?o:null};return _e.allPaths=[(u?"*/":"./")+D],_e}function Ml(D){try{const o=new RegExp(`^${Zc(D)}$`);return function(u){return o.lastIndex=0,typeof u=="string"&&o.test(u)?D:null}}catch(o){return Ar}}function Qc(D,o,u){return!D||typeof o!="string"?!1:Yl(D)(o,void 0,u)}function Yl(D,o={}){if(!D)return xd;if(typeof D=="string"||Sa(D)){const u=Fa(D,o);if(u===Ar)return xd;const E=function(K,te){return!!u(K,te)};return u.allBasenames&&(E.allBasenames=u.allBasenames),u.allPaths&&(E.allPaths=u.allPaths),E}return _c(D,o)}function Sa(D){const o=D;return o?typeof o.base=="string"&&typeof o.pattern=="string":!1}function _c(D,o){const u=Nd(Object.getOwnPropertyNames(D).map(_e=>Ql(_e,D[_e],o)).filter(_e=>_e!==Ar)),E=u.length;if(!E)return Ar;if(!u.some(_e=>!!_e.requiresSiblings)){if(E===1)return u[0];const _e=function(ct,zt){for(let Fn=0,ii=u.length;Fn<ii;Fn++){const Ti=u[Fn](ct,zt);if(Ti)return Ti}return null},je=u.find(ct=>!!ct.allBasenames);je&&(_e.allBasenames=je.allBasenames);const rt=u.reduce((ct,zt)=>zt.allPaths?ct.concat(zt.allPaths):ct,[]);return rt.length&&(_e.allPaths=rt),_e}const K=function(_e,je,rt){let ct;for(let zt=0,Fn=u.length;zt<Fn;zt++){const ii=u[zt];ii.requiresSiblings&&rt&&(je||(je=(0,ra.EZ)(_e)),ct||(ct=je.substr(0,je.length-(0,ra.DZ)(_e).length)));const Ti=ii(_e,je,ct,rt);if(Ti)return Ti}return null},te=u.find(_e=>!!_e.allBasenames);te&&(K.allBasenames=te.allBasenames);const ue=u.reduce((_e,je)=>je.allPaths?_e.concat(je.allPaths):_e,[]);return ue.length&&(K.allPaths=ue),K}function Ql(D,o,u){if(o===!1)return Ar;const E=Fa(D,u);if(E===Ar)return Ar;if(typeof o=="boolean")return E;if(o){const K=o.when;if(typeof K=="string"){const te=(ue,_e,je,rt)=>{if(!rt||!E(ue,_e))return null;const ct=K.replace("$(basename)",je),zt=rt(ct);return(0,Tt.J8)(zt)?zt.then(Fn=>Fn?D:null):zt?D:null};return te.requiresSiblings=!0,te}}return E}function Nd(D,o){const u=D.filter(_e=>!!_e.basenames);if(u.length<2)return D;const E=u.reduce((_e,je)=>{const rt=je.basenames;return rt?_e.concat(rt):_e},[]);let K;if(o){K=[];for(let _e=0,je=E.length;_e<je;_e++)K.push(o)}else K=u.reduce((_e,je)=>{const rt=je.patterns;return rt?_e.concat(rt):_e},[]);const te=function(_e,je){if(typeof _e!="string")return null;if(!je){let ct;for(ct=_e.length;ct>0;ct--){const zt=_e.charCodeAt(ct-1);if(zt===47||zt===92)break}je=_e.substr(ct)}const rt=E.indexOf(je);return rt!==-1?K[rt]:null};te.basenames=E,te.patterns=K,te.allBasenames=E;const ue=D.filter(_e=>!_e.basenames);return ue.push(te),ue}var Xl=l(34271),Xa=l(63795);let Wa=[],Er=[],Xc=[];function vc(D,o=!1){Ja(D,!1,o)}function Ja(D,o,u){const E=Cc(D,o);Wa.push(E),E.userConfigured?Xc.push(E):Er.push(E),u&&!E.userConfigured&&Wa.forEach(K=>{K.mime===E.mime||K.userConfigured||(E.extension&&K.extension===E.extension&&console.warn(`Overwriting extension <<${E.extension}>> to now point to mime <<${E.mime}>>`),E.filename&&K.filename===E.filename&&console.warn(`Overwriting filename <<${E.filename}>> to now point to mime <<${E.mime}>>`),E.filepattern&&K.filepattern===E.filepattern&&console.warn(`Overwriting filepattern <<${E.filepattern}>> to now point to mime <<${E.mime}>>`),E.firstline&&K.firstline===E.firstline&&console.warn(`Overwriting firstline <<${E.firstline}>> to now point to mime <<${E.mime}>>`))})}function Cc(D,o){return{id:D.id,mime:D.mime,filename:D.filename,extension:D.extension,filepattern:D.filepattern,firstline:D.firstline,userConfigured:o,filenameLowercase:D.filename?D.filename.toLowerCase():void 0,extensionLowercase:D.extension?D.extension.toLowerCase():void 0,filepatternLowercase:D.filepattern?Yl(D.filepattern.toLowerCase()):void 0,filepatternOnPath:D.filepattern?D.filepattern.indexOf(ra.KR.sep)>=0:!1}}function ir(){Wa=Wa.filter(D=>D.userConfigured),Er=[]}function Jl(D,o){let u;if(D)switch(D.scheme){case vi.lg.file:u=D.fsPath;break;case vi.lg.data:{u=Xa.Vb.parseMetaData(D).get(Xa.Vb.META_DATA_LABEL);break}default:u=D.path}if(!u)return[Xl.v.unknown];u=u.toLowerCase();const E=(0,ra.EZ)(u),K=Id(u,E,Xc);if(K)return[K,Xl.v.text];const te=Id(u,E,Er);if(te)return[te,Xl.v.text];if(o){const ue=Td(o);if(ue)return[ue,Xl.v.text]}return[Xl.v.unknown]}function Id(D,o,u){var E;let K,te,ue;for(let _e=u.length-1;_e>=0;_e--){const je=u[_e];if(o===je.filenameLowercase){K=je;break}if(je.filepattern&&(!te||je.filepattern.length>te.filepattern.length)){const rt=je.filepatternOnPath?D:o;!((E=je.filepatternLowercase)===null||E===void 0)&&E.call(je,rt)&&(te=je)}je.extension&&(!ue||je.extension.length>ue.extension.length)&&o.endsWith(je.extensionLowercase)&&(ue=je)}if(K)return K.mime;if(te)return te.mime;if(ue)return ue.mime}function Td(D){if((0,Ut.uS)(D)&&(D=D.substr(1)),D.length>0)for(let o=Wa.length-1;o>=0;o--){const u=Wa[o];if(!u.firstline)continue;const E=D.match(u.firstline);if(E&&E.length>0)return u.mime}}var la=l(85014);const kl=Object.prototype.hasOwnProperty,ql="vs.editor.nullLanguage";xe.zu.register(ql,{});class bc{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(ql,0),this._register(la.bd,1),this._nextLanguageId=2}_register(o,u){this._languageIdToLanguage[u]=o,this._languageToLanguageId.set(o,u)}register(o){if(this._languageToLanguageId.has(o))return;const u=this._nextLanguageId++;this._register(o,u)}encodeLanguageId(o){return this._languageToLanguageId.get(o)||0}decodeLanguageId(o){return this._languageIdToLanguage[o]||ql}}class Rl extends Mt.JT{constructor(o=!0,u=!1){super(),this._onDidChange=this._register(new z.Q5),this.onDidChange=this._onDidChange.event,Rl.instanceCount++,this._warnOnOverwrite=u,this.languageIdCodec=new bc,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},o&&(this._initializeFromRegistry(),this._register(la.dQ.onDidChangeLanguages(E=>{this._initializeFromRegistry()})))}dispose(){Rl.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},ir();const o=[].concat(la.dQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(o)}_registerLanguages(o){for(const u of o)this._registerLanguage(u);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(u=>{const E=this._languages[u];E.name&&(this._nameMap[E.name]=E.identifier),E.aliases.forEach(K=>{this._lowercaseNameMap[K.toLowerCase()]=E.identifier}),E.mimetypes.forEach(K=>{this._mimeTypesMap[K]=E.identifier})}),tr.B.as(kr.IP.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(o){const u=o.id;let E;kl.call(this._languages,u)?E=this._languages[u]:(this.languageIdCodec.register(u),E={identifier:u,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[u]=E),this._mergeLanguage(E,o)}_mergeLanguage(o,u){const E=u.id;let K=null;if(Array.isArray(u.mimetypes)&&u.mimetypes.length>0&&(o.mimetypes.push(...u.mimetypes),K=u.mimetypes[0]),K||(K=`text/x-${E}`,o.mimetypes.push(K)),Array.isArray(u.extensions)){u.configuration?o.extensions=u.extensions.concat(o.extensions):o.extensions=o.extensions.concat(u.extensions);for(let _e of u.extensions)vc({id:E,mime:K,extension:_e},this._warnOnOverwrite)}if(Array.isArray(u.filenames))for(let _e of u.filenames)vc({id:E,mime:K,filename:_e},this._warnOnOverwrite),o.filenames.push(_e);if(Array.isArray(u.filenamePatterns))for(let _e of u.filenamePatterns)vc({id:E,mime:K,filepattern:_e},this._warnOnOverwrite);if(typeof u.firstLine=="string"&&u.firstLine.length>0){let _e=u.firstLine;_e.charAt(0)!=="^"&&(_e="^"+_e);try{const je=new RegExp(_e);(0,Ut.IO)(je)||vc({id:E,mime:K,firstline:je},this._warnOnOverwrite)}catch(je){(0,gt.dL)(je)}}o.aliases.push(E);let te=null;if(typeof u.aliases!="undefined"&&Array.isArray(u.aliases)&&(u.aliases.length===0?te=[null]:te=u.aliases),te!==null)for(const _e of te)!_e||_e.length===0||o.aliases.push(_e);const ue=te!==null&&te.length>0;if(!(ue&&te[0]===null)){const _e=(ue?te[0]:null)||E;(ue||!o.name)&&(o.name=_e)}u.configuration&&o.configurationFiles.push(u.configuration),u.icon&&o.icons.push(u.icon)}isRegisteredLanguageId(o){return o?kl.call(this._languages,o):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(o){const u=o.toLowerCase();return kl.call(this._lowercaseNameMap,u)?this._lowercaseNameMap[u]:null}getLanguageIdByMimeType(o){return o&&kl.call(this._mimeTypesMap,o)?this._mimeTypesMap[o]:null}guessLanguageIdByFilepathOrFirstLine(o,u){if(!o&&!u)return[];const E=Jl(o,u);return(0,bn.kX)(E.map(K=>this.getLanguageIdByMimeType(K)))}}Rl.instanceCount=0;class ut extends Mt.JT{constructor(o=!1){super(),this._onDidEncounterLanguage=this._register(new z.Q5),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new z.Q5({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,ut.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new Rl(!0,o)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){ut.instanceCount--,super.dispose()}isRegisteredLanguageId(o){return this._registry.isRegisteredLanguageId(o)}getLanguageIdByLanguageName(o){return this._registry.getLanguageIdByLanguageName(o)}getLanguageIdByMimeType(o){return this._registry.getLanguageIdByMimeType(o)}guessLanguageIdByFilepathOrFirstLine(o,u){const E=this._registry.guessLanguageIdByFilepathOrFirstLine(o,u);return(0,bn.Xh)(E,null)}createById(o){return new i(this.onDidChange,()=>this._createAndGetLanguageIdentifier(o))}createByFilepathOrFirstLine(o,u){return new i(this.onDidChange,()=>{const E=this.guessLanguageIdByFilepathOrFirstLine(o,u);return this._createAndGetLanguageIdentifier(E)})}_createAndGetLanguageIdentifier(o){return(!o||!this.isRegisteredLanguageId(o))&&(o=la.bd),this._encounteredLanguages.has(o)||(this._encounteredLanguages.add(o),I.RW.getOrCreate(o),this._onDidEncounterLanguage.fire(o)),o}}ut.instanceCount=0;class i{constructor(o,u){this._onDidChangeLanguages=o,this._selector=u,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new z.Q5({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){const o=this._selector();o!==this.languageId&&(this.languageId=o,this._emitter&&this._emitter.fire(this.languageId))}}var c=l(26934),v=l(50731),B=l(50364),U=l(46984),le=l(96050),Ce=l(63073),ke=l(25451),Oe=l(83337),Qe=l(74696),qe=l(65249);const Ct=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,Dt=/(&amp;)?(&amp;)([^\s&])/g;var $t;(function(D){D[D.Right=0]="Right",D[D.Left=1]="Left"})($t||($t={}));class qt extends U.o{constructor(o,u,E={}){o.classList.add("monaco-menu-container"),o.setAttribute("role","presentation");const K=document.createElement("div");K.classList.add("monaco-menu"),K.setAttribute("role","presentation"),super(K,{orientation:1,actionViewItemProvider:_e=>this.doGetActionViewItem(_e,E,te),context:E.context,actionRunner:E.actionRunner,ariaLabel:E.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...Rt.dz||Rt.IJ?[10]:[]],keyDown:!0}}),this.menuElement=K,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new Mt.SL),this.initializeOrUpdateStyleSheet(o,{}),this._register(B.o.addTarget(K)),(0,jt.nm)(K,jt.tw.KEY_DOWN,_e=>{new Yo.y(_e).equals(2)&&_e.preventDefault()}),E.enableMnemonics&&this.menuDisposables.add((0,jt.nm)(K,jt.tw.KEY_DOWN,_e=>{const je=_e.key.toLocaleLowerCase();if(this.mnemonics.has(je)){jt.zB.stop(_e,!0);const rt=this.mnemonics.get(je);if(rt.length===1&&(rt[0]instanceof In&&rt[0].container&&this.focusItemByElement(rt[0].container),rt[0].onClick(_e)),rt.length>1){const ct=rt.shift();ct&&ct.container&&(this.focusItemByElement(ct.container),rt.push(ct)),this.mnemonics.set(je,rt)}}})),Rt.IJ&&this._register((0,jt.nm)(K,jt.tw.KEY_DOWN,_e=>{const je=new Yo.y(_e);je.equals(14)||je.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),jt.zB.stop(_e,!0)):(je.equals(13)||je.equals(12))&&(this.focusedItem=0,this.focusPrevious(),jt.zB.stop(_e,!0))})),this._register((0,jt.nm)(this.domNode,jt.tw.MOUSE_OUT,_e=>{let je=_e.relatedTarget;(0,jt.jg)(je,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),_e.stopPropagation())})),this._register((0,jt.nm)(this.actionsList,jt.tw.MOUSE_OVER,_e=>{let je=_e.target;if(!(!je||!(0,jt.jg)(je,this.actionsList)||je===this.actionsList)){for(;je.parentElement!==this.actionsList&&je.parentElement!==null;)je=je.parentElement;if(je.classList.contains("action-item")){const rt=this.focusedItem;this.setFocusedItem(je),rt!==this.focusedItem&&this.updateFocus()}}})),this._register(B.o.addTarget(this.actionsList)),this._register((0,jt.nm)(this.actionsList,B.t.Tap,_e=>{let je=_e.initialTarget;if(!(!je||!(0,jt.jg)(je,this.actionsList)||je===this.actionsList)){for(;je.parentElement!==this.actionsList&&je.parentElement!==null;)je=je.parentElement;if(je.classList.contains("action-item")){const rt=this.focusedItem;this.setFocusedItem(je),rt!==this.focusedItem&&this.updateFocus()}}}));let te={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new ke.s$(K,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const ue=this.scrollableElement.getDomNode();ue.style.position="",this._register((0,jt.nm)(K,B.t.Change,_e=>{jt.zB.stop(_e,!0);const je=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:je-_e.translationY})})),this._register((0,jt.nm)(ue,jt.tw.MOUSE_UP,_e=>{_e.preventDefault()})),K.style.maxHeight=`${Math.max(10,window.innerHeight-o.getBoundingClientRect().top-35)}px`,u=u.filter(_e=>{var je;return!((je=E.submenuIds)===null||je===void 0)&&je.has(_e.id)?(console.warn(`Found submenu cycle: ${_e.id}`),!1):!0}),this.push(u,{icon:!0,label:!0,isMenu:!0}),o.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(_e=>!(_e instanceof Bn)).forEach((_e,je,rt)=>{_e.updatePositionInSet(je+1,rt.length)})}initializeOrUpdateStyleSheet(o,u){this.styleSheet||((0,jt.OO)(o)?this.styleSheet=(0,jt.dS)(o):(qt.globalStyleSheet||(qt.globalStyleSheet=(0,jt.dS)()),this.styleSheet=qt.globalStyleSheet)),this.styleSheet.textContent=li(u,(0,jt.OO)(o))}style(o){const u=this.getContainer();this.initializeOrUpdateStyleSheet(u,o);const E=o.foregroundColor?`${o.foregroundColor}`:"",K=o.backgroundColor?`${o.backgroundColor}`:"",te=o.borderColor?`1px solid ${o.borderColor}`:"",ue=o.shadowColor?`0 2px 4px ${o.shadowColor}`:"";u.style.border=te,this.domNode.style.color=E,this.domNode.style.backgroundColor=K,u.style.boxShadow=ue,this.viewItems&&this.viewItems.forEach(_e=>{(_e instanceof un||_e instanceof Bn)&&_e.style(o)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(o){const u=this.focusedItem;this.setFocusedItem(o),u!==this.focusedItem&&this.updateFocus()}setFocusedItem(o){for(let u=0;u<this.actionsList.children.length;u++){let E=this.actionsList.children[u];if(o===E){this.focusedItem=u;break}}}updateFocus(o){super.updateFocus(o,!0,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(o,u,E){if(o instanceof Oe.Z0)return new Bn(u.context,o,{icon:!0});if(o instanceof Oe.wY){const K=new In(o,o.actions,E,Object.assign(Object.assign({},u),{submenuIds:new Set([...u.submenuIds||[],o.id])}));if(u.enableMnemonics){const te=K.getMnemonic();if(te&&K.isEnabled()){let ue=[];this.mnemonics.has(te)&&(ue=this.mnemonics.get(te)),ue.push(K),this.mnemonics.set(te,ue)}}return K}else{const K={enableMnemonics:u.enableMnemonics,useEventAsContext:u.useEventAsContext};if(u.getKeyBinding){const ue=u.getKeyBinding(o);if(ue){const _e=ue.getLabel();_e&&(K.keybinding=_e)}}const te=new un(u.context,o,K);if(u.enableMnemonics){const ue=te.getMnemonic();if(ue&&te.isEnabled()){let _e=[];this.mnemonics.has(ue)&&(_e=this.mnemonics.get(ue)),_e.push(te),this.mnemonics.set(ue,_e)}}return te}}}class un extends le.Y{constructor(o,u,E={}){if(E.isMenu=!0,super(u,u,E),this.options=E,this.options.icon=E.icon!==void 0?E.icon:!1,this.options.label=E.label!==void 0?E.label:!0,this.cssClass="",this.options.label&&E.enableMnemonics){let K=this.getAction().label;if(K){let te=Ct.exec(K);te&&(this.mnemonic=(te[1]?te[1]:te[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new Tt.pY(()=>{!this.element||(this._register((0,jt.nm)(this.element,jt.tw.MOUSE_UP,K=>{if(jt.zB.stop(K,!0),v.isFirefox){if(new c.n(K).rightButton)return;this.onClick(K)}else setTimeout(()=>{this.onClick(K)},0)})),this._register((0,jt.nm)(this.element,jt.tw.CONTEXT_MENU,K=>{jt.zB.stop(K,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(o){super.render(o),this.element&&(this.container=o,this.item=(0,jt.R3)(this.element,(0,jt.$)("a.action-menu-item")),this._action.id===Oe.Z0.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,jt.R3)(this.item,(0,jt.$)("span.menu-item-check"+Qe.lA.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,jt.R3)(this.item,(0,jt.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,jt.R3)(this.item,(0,jt.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(o,u){this.item&&(this.item.setAttribute("aria-posinset",`${o}`),this.item.setAttribute("aria-setsize",`${u}`))}updateLabel(){if(!!this.label&&this.options.label){(0,jt.PO)(this.label);let o=(0,qe.x$)(this.getAction().label);if(o){const u=Vn(o);this.options.enableMnemonics||(o=u),this.label.setAttribute("aria-label",u.replace(/&&/g,"&"));const E=Ct.exec(o);if(E){o=Ut.YU(o),Dt.lastIndex=0;let K=Dt.exec(o);for(;K&&K[1];)K=Dt.exec(o);const te=ue=>ue.replace(/&amp;&amp;/g,"&amp;");K?this.label.append(Ut.j3(te(o.substr(0,K.index))," "),(0,jt.$)("u",{"aria-hidden":"true"},K[3]),Ut.oL(te(o.substr(K.index+K[0].length))," ")):this.label.innerText=te(o).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(E[1]?E[1]:E[3]).toLocaleLowerCase())}else this.label.innerText=o.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const o=this.getAction().checked;this.item.classList.toggle("checked",!!o),o!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",o?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const o=this.element&&this.element.classList.contains("focused"),u=o&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,E=o&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,K=o&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=u?u.toString():"",this.item.style.backgroundColor=E?E.toString():""),this.check&&(this.check.style.color=u?u.toString():""),this.container&&(this.container.style.border=K)}style(o){this.menuStyle=o,this.applyStyle()}}class In extends un{constructor(o,u,E,K){super(o,o,K),this.submenuActions=u,this.parentData=E,this.submenuOptions=K,this.mysubmenu=null,this.submenuDisposables=this._register(new Mt.SL),this.mouseOver=!1,this.expandDirection=K&&K.expandDirection!==void 0?K.expandDirection:$t.Right,this.showScheduler=new Tt.pY(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new Tt.pY(()=>{this.element&&!(0,jt.jg)((0,jt.vY)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(o){super.render(o),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,jt.R3)(this.item,(0,jt.$)("span.submenu-indicator"+Qe.lA.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,jt.nm)(this.element,jt.tw.KEY_UP,u=>{let E=new Yo.y(u);(E.equals(17)||E.equals(3))&&(jt.zB.stop(u,!0),this.createSubmenu(!0))})),this._register((0,jt.nm)(this.element,jt.tw.KEY_DOWN,u=>{let E=new Yo.y(u);(0,jt.vY)()===this.item&&(E.equals(17)||E.equals(3))&&jt.zB.stop(u,!0)})),this._register((0,jt.nm)(this.element,jt.tw.MOUSE_OVER,u=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,jt.nm)(this.element,jt.tw.MOUSE_LEAVE,u=>{this.mouseOver=!1})),this._register((0,jt.nm)(this.element,jt.tw.FOCUS_OUT,u=>{this.element&&!(0,jt.jg)((0,jt.vY)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}onClick(o){jt.zB.stop(o,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(o){if(this.parentData.submenu&&(o||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(u){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(o,u,E,K){const te={top:0,left:0};return te.left=Qa(o.width,u.width,{position:K===$t.Right?0:1,offset:E.left,size:E.width}),te.left>=E.left&&te.left<E.left+E.width&&(E.left+10+u.width<=o.width&&(te.left=E.left+10),E.top+=10,E.height=0),te.top=Qa(o.height,u.height,{position:0,offset:E.top,size:0}),te.top+u.height===E.top&&te.top+E.height+u.height<=o.height&&(te.top+=E.height),te}createSubmenu(o=!0){if(!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,jt.R3)(this.element,(0,jt.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const u=getComputedStyle(this.parentData.parent.domNode),E=parseFloat(u.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new qt(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new Oe.eZ],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const K=this.element.getBoundingClientRect(),te={top:K.top-E,left:K.left,height:K.height+2*E,width:K.width},ue=this.submenuContainer.getBoundingClientRect(),{top:_e,left:je}=this.calculateSubmenuMenuLayout(new jt.Ro(window.innerWidth,window.innerHeight),jt.Ro.lift(ue),te,this.expandDirection);this.submenuContainer.style.left=`${je-ue.left}px`,this.submenuContainer.style.top=`${_e-ue.top}px`,this.submenuDisposables.add((0,jt.nm)(this.submenuContainer,jt.tw.KEY_UP,rt=>{new Yo.y(rt).equals(15)&&(jt.zB.stop(rt,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,jt.nm)(this.submenuContainer,jt.tw.KEY_DOWN,rt=>{new Yo.y(rt).equals(15)&&jt.zB.stop(rt,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(o),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(o){var u;this.item&&((u=this.item)===null||u===void 0||u.setAttribute("aria-expanded",o))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const u=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=u?`${u}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class Bn extends le.g{style(o){this.label&&(this.label.style.borderBottomColor=o.separatorColor?`${o.separatorColor}`:"")}}function Vn(D){const o=Ct,u=o.exec(D);if(!u)return D;const E=!u[1];return D.replace(o,E?"$2$3":"").trim()}function li(D,o){let u=`
.monaco-menu {
	font-size: 13px;

}

${(0,Ce.a)(Qe.lA.menuSelection)}
${(0,Ce.a)(Qe.lA.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	opacity: 0.4;
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid #bbb;
	padding-top: 1px;
	margin-left: .8em;
	margin-right: .8em;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	padding: 0.5em 0 0 0;
	margin-bottom: 0.5em;
	width: 100%;
	height: 0px !important;
	margin-left: .8em !important;
	margin-right: .8em !important;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	border: thin solid transparent; /* prevents jumping behaviour on hover or focus */
}


/* High Contrast Theming */
:host-context(.hc-black) .context-view.monaco-menu-container {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .5em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 1.8em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	padding: 0.2em 0 0 0;
	margin-bottom: 0.2em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(o){u+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const E=D.scrollbarShadow;E&&(u+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${E} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${E} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${E} 6px 6px 6px -6px inset;
				}
			`);const K=D.scrollbarSliderBackground;K&&(u+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${K};
				}
			`);const te=D.scrollbarSliderHoverBackground;te&&(u+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${te};
				}
			`);const ue=D.scrollbarSliderActiveBackground;ue&&(u+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${ue};
				}
			`)}return u}var si=l(80417);class Ri{constructor(o,u,E,K,te){this.contextViewService=o,this.telemetryService=u,this.notificationService=E,this.keybindingService=K,this.themeService=te,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(o){this.options=o}showContextMenu(o){const u=o.getActions();if(!u.length)return;this.focusToReturn=document.activeElement;let E,K=(0,jt.Re)(o.domForShadowRoot)?o.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>o.getAnchor(),canRelayout:!1,anchorAlignment:o.anchorAlignment,anchorAxisAlignment:o.anchorAxisAlignment,render:te=>{let ue=o.getMenuClassName?o.getMenuClassName():"";ue&&(te.className+=" "+ue),this.options.blockMouse&&(this.block=te.appendChild((0,jt.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,jt.nm)(this.block,jt.tw.MOUSE_DOWN,rt=>rt.stopPropagation()));const _e=new Mt.SL,je=o.actionRunner||new Oe.Wi;return je.onBeforeRun(this.onActionRun,this,_e),je.onDidRun(this.onDidActionRun,this,_e),E=new qt(te,u,{actionViewItemProvider:o.getActionViewItem,context:o.getActionsContext?o.getActionsContext():null,actionRunner:je,getKeyBinding:o.getKeyBinding?o.getKeyBinding:rt=>this.keybindingService.lookupKeybinding(rt.id)}),_e.add((0,si.tj)(E,this.themeService)),E.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,_e),E.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,_e),_e.add((0,jt.nm)(window,jt.tw.BLUR,()=>this.contextViewService.hideContextView(!0))),_e.add((0,jt.nm)(window,jt.tw.MOUSE_DOWN,rt=>{if(rt.defaultPrevented)return;let ct=new c.n(rt),zt=ct.target;if(!ct.rightButton){for(;zt;){if(zt===te)return;zt=zt.parentElement}this.contextViewService.hideContextView(!0)}})),(0,Mt.F8)(_e,E)},focus:()=>{E&&E.focus(!!o.autoSelectFirstItem)},onHide:te=>{o.onHide&&o.onHide(!!te),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},K,!!K)}onActionRun(o){this.telemetryService.publicLog2("workbenchActionExecuted",{id:o.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(o){o.error&&!(0,gt.n2)(o.error)&&this.notificationService.error(o.error)}}var Ii=function(D,o,u,E){var K=arguments.length,te=K<3?o:E===null?E=Object.getOwnPropertyDescriptor(o,u):E,ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,o,u,E);else for(var _e=D.length-1;_e>=0;_e--)(ue=D[_e])&&(te=(K<3?ue(te):K>3?ue(o,u,te):ue(o,u))||te);return K>3&&te&&Object.defineProperty(o,u,te),te},gi=function(D,o){return function(u,E){o(u,E,D)}};let bi=class extends Mt.JT{constructor(o,u,E,K,te){super(),this._onDidShowContextMenu=new z.Q5,this._onDidHideContextMenu=new z.Q5,this.contextMenuHandler=new Ri(E,o,u,K,te)}configure(o){this.contextMenuHandler.configure(o)}showContextMenu(o){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},o),{onHide:u=>{o.onHide&&o.onHide(u),this._onDidHideContextMenu.fire()}})),jt._q.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};bi=Ii([gi(0,Za.b),gi(1,Ae.lT),gi(2,$l.u),gi(3,Do.d),gi(4,rs.XE)],bi);var ms=l(80200),Hi=l(78240),Bs;(function(D){D[D.API=0]="API",D[D.USER=1]="USER"})(Bs||(Bs={}));var Zs=l(83926),yo=function(D,o,u,E){var K=arguments.length,te=K<3?o:E===null?E=Object.getOwnPropertyDescriptor(o,u):E,ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,o,u,E);else for(var _e=D.length-1;_e>=0;_e--)(ue=D[_e])&&(te=(K<3?ue(te):K>3?ue(o,u,te):ue(o,u))||te);return K>3&&te&&Object.defineProperty(o,u,te),te},Ds=function(D,o){return function(u,E){o(u,E,D)}},eo=function(D,o,u,E){function K(te){return te instanceof u?te:new u(function(ue){ue(te)})}return new(u||(u=Promise))(function(te,ue){function _e(ct){try{rt(E.next(ct))}catch(zt){ue(zt)}}function je(ct){try{rt(E.throw(ct))}catch(zt){ue(zt)}}function rt(ct){ct.done?te(ct.value):K(ct.value).then(_e,je)}rt((E=E.apply(D,o||[])).next())})};let ho=class{constructor(o){this._commandService=o}open(o,u){return eo(this,void 0,void 0,function*(){if(!(0,Zs.xn)(o,vi.lg.command))return!1;if(!(u!=null&&u.allowCommands))return!0;typeof o=="string"&&(o=y.o.parse(o));let E=[];try{E=(0,Hi.Q)(decodeURIComponent(o.query))}catch(K){try{E=(0,Hi.Q)(o.query)}catch(te){}}return Array.isArray(E)||(E=[E]),yield this._commandService.executeCommand(o.path,...E),!0})}};ho=yo([Ds(0,mi.Hy)],ho);let So=class{constructor(o){this._editorService=o}open(o,u){return eo(this,void 0,void 0,function*(){typeof o=="string"&&(o=y.o.parse(o));const{selection:E,uri:K}=(0,Zs.xI)(o);return o=K,o.scheme===vi.lg.file&&(o=(0,Xa.AH)(o)),yield this._editorService.openCodeEditor({resource:o,options:Object.assign({selection:E,source:u!=null&&u.fromUserGesture?Bs.USER:Bs.API},u==null?void 0:u.editorOptions)},this._editorService.getFocusedCodeEditor(),u==null?void 0:u.openToSide),!0})}};So=yo([Ds(0,Te.$)],So);let Dr=class{constructor(o,u){this._openers=new ms.S,this._validators=new ms.S,this._resolvers=new ms.S,this._resolvedUriTargets=new xs.Y9(E=>E.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new ms.S,this._defaultExternalOpener={openExternal:E=>eo(this,void 0,void 0,function*(){return(0,Zs.Gs)(E,vi.lg.http,vi.lg.https)?jt.V3(E):window.location.href=E,!0})},this._openers.push({open:(E,K)=>eo(this,void 0,void 0,function*(){return(K==null?void 0:K.openExternal)||(0,Zs.Gs)(E,vi.lg.mailto,vi.lg.http,vi.lg.https,vi.lg.vsls)?(yield this._doOpenExternal(E,K),!0):!1})}),this._openers.push(new ho(u)),this._openers.push(new So(o))}registerOpener(o){return{dispose:this._openers.unshift(o)}}registerValidator(o){return{dispose:this._validators.push(o)}}registerExternalUriResolver(o){return{dispose:this._resolvers.push(o)}}setDefaultExternalOpener(o){this._defaultExternalOpener=o}registerExternalOpener(o){return{dispose:this._externalOpeners.push(o)}}open(o,u){var E;return eo(this,void 0,void 0,function*(){const K=typeof o=="string"?y.o.parse(o):o,te=(E=this._resolvedUriTargets.get(K))!==null&&E!==void 0?E:o;for(const ue of this._validators)if(!(yield ue.shouldOpen(te)))return!1;for(const ue of this._openers)if(yield ue.open(o,u))return!0;return!1})}resolveExternalUri(o,u){return eo(this,void 0,void 0,function*(){for(const E of this._resolvers)try{const K=yield E.resolveExternalUri(o,u);if(K)return this._resolvedUriTargets.has(K.resolved)||this._resolvedUriTargets.set(K.resolved,o),K}catch(K){}throw new Error("Could not resolve external URI: "+o.toString())})}_doOpenExternal(o,u){return eo(this,void 0,void 0,function*(){const E=typeof o=="string"?y.o.parse(o):o;let K;try{K=(yield this.resolveExternalUri(E,u)).resolved}catch(ue){K=E}let te;if(typeof o=="string"&&E.toString()===K.toString()?te=o:te=encodeURI(K.toString(!0)),u!=null&&u.allowContributedOpeners){const ue=typeof(u==null?void 0:u.allowContributedOpeners)=="string"?u==null?void 0:u.allowContributedOpeners:void 0;for(const _e of this._externalOpeners)if(yield _e.openExternal(te,{sourceUri:E,preferredOpenerId:ue},d.T.None))return!0}return this._defaultExternalOpener.openExternal(te,{sourceUri:E},d.T.None)})}dispose(){this._validators.clear()}};Dr=yo([Ds(0,Te.$),Ds(1,mi.Hy)],Dr);var xr=l(28236),gl=l(60407),cs=l(58385),Jc=function(D,o,u,E){var K=arguments.length,te=K<3?o:E===null?E=Object.getOwnPropertyDescriptor(o,u):E,ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,o,u,E);else for(var _e=D.length-1;_e>=0;_e--)(ue=D[_e])&&(te=(K<3?ue(te):K>3?ue(o,u,te):ue(o,u))||te);return K>3&&te&&Object.defineProperty(o,u,te),te},oh=function(D,o){return function(u,E){o(u,E,D)}};class qc extends Mt.JT{constructor(o){super(),this.model=o,this._markersData=new Map,this._register((0,Mt.OF)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(o,u){const E=[...this._markersData.keys()];this._markersData.clear();const K=this.model.deltaDecorations(E,u);for(let te=0;te<K.length;te++)this._markersData.set(K[te],o[te]);return E.length!==0||K.length!==0}getMarker(o){return this._markersData.get(o.id)}}let gu=class extends Mt.JT{constructor(o,u){super(),this._markerService=u,this._onDidChangeMarker=this._register(new z.Q5),this._markerDecorations=new xs.Y9,o.getModels().forEach(E=>this._onModelAdded(E)),this._register(o.onModelAdded(this._onModelAdded,this)),this._register(o.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(o=>o.dispose()),this._markerDecorations.clear()}getMarker(o,u){const E=this._markerDecorations.get(o);return E&&E.getMarker(u)||null}_handleMarkerChange(o){o.forEach(u=>{const E=this._markerDecorations.get(u);E&&this._updateDecorations(E)})}_onModelAdded(o){const u=new qc(o);this._markerDecorations.set(o.uri,u),this._updateDecorations(u)}_onModelRemoved(o){const u=this._markerDecorations.get(o.uri);u&&(u.dispose(),this._markerDecorations.delete(o.uri)),(o.uri.scheme===vi.lg.inMemory||o.uri.scheme===vi.lg.internal||o.uri.scheme===vi.lg.vscode)&&this._markerService&&this._markerService.read({resource:o.uri}).map(E=>E.owner).forEach(E=>this._markerService.remove(E,[o.uri]))}_updateDecorations(o){const u=this._markerService.read({resource:o.model.uri,take:500}),E=u.map(K=>({range:this._createDecorationRange(o.model,K),options:this._createDecorationOption(K)}));o.update(u,E)&&this._onDidChangeMarker.fire(o.model)}_createDecorationRange(o,u){let E=A.e.lift(u);if(u.severity===xr.ZL.Hint&&!this._hasMarkerTag(u,1)&&!this._hasMarkerTag(u,2)&&(E=E.setEndPosition(E.startLineNumber,E.startColumn+2)),E=o.validateRange(E),E.isEmpty()){const K=o.getLineLastNonWhitespaceColumn(E.startLineNumber)||o.getLineMaxColumn(E.startLineNumber);if(K===1||E.endColumn>=K)return E;const te=o.getWordAtPosition(E.getStartPosition());te&&(E=new A.e(E.startLineNumber,te.startColumn,E.endLineNumber,te.endColumn))}else if(u.endColumn===Number.MAX_VALUE&&u.startColumn===1&&E.startLineNumber===E.endLineNumber){let K=o.getLineFirstNonWhitespaceColumn(u.startLineNumber);K<E.endColumn&&(E=new A.e(E.startLineNumber,K,E.endLineNumber,E.endColumn),u.startColumn=K)}return E}_createDecorationOption(o){let u,E,K,te,ue;switch(o.severity){case xr.ZL.Hint:this._hasMarkerTag(o,2)?u=void 0:this._hasMarkerTag(o,1)?u="squiggly-unnecessary":u="squiggly-hint",K=0;break;case xr.ZL.Warning:u="squiggly-warning",E=(0,rs.EN)(gl.Re),K=20,ue={color:(0,rs.EN)(cs.Ivo),position:Ze.F5.Inline};break;case xr.ZL.Info:u="squiggly-info",E=(0,rs.EN)(gl.eS),K=10;break;case xr.ZL.Error:default:u="squiggly-error",E=(0,rs.EN)(gl.lK),K=30,ue={color:(0,rs.EN)(cs.Gj_),position:Ze.F5.Inline};break}return o.tags&&(o.tags.indexOf(1)!==-1&&(te="squiggly-inline-unnecessary"),o.tags.indexOf(2)!==-1&&(te="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:u,showIfCollapsed:!0,overviewRuler:{color:E,position:Ze.sh.Right},minimap:ue,zIndex:K,inlineClassName:te}}_hasMarkerTag(o,u){return o.tags?o.tags.indexOf(u)>=0:!1}};gu=Jc([oh(0,at.q),oh(1,xr.lT)],gu);var hf=l(42641),ff=l(14334),qa=l(20244),ec=l(40761),ed=l(41612),ml=l(8957);const gf={buttonBackground:ml.Il.fromHex("#0E639C"),buttonHoverBackground:ml.Il.fromHex("#006BB3"),buttonForeground:ml.Il.white};class Md extends Mt.JT{constructor(o,u){super(),this._onDidClick=this._register(new z.Q5),this.options=u||Object.create(null),(0,zo.jB)(this.options,gf,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),o.appendChild(this._element),this._register(B.o.addTarget(this._element)),[jt.tw.CLICK,B.t.Tap].forEach(E=>{this._register((0,jt.nm)(this._element,E,K=>{if(!this.enabled){jt.zB.stop(K);return}this._onDidClick.fire(K)}))}),this._register((0,jt.nm)(this._element,jt.tw.KEY_DOWN,E=>{const K=new Yo.y(E);let te=!1;this.enabled&&(K.equals(3)||K.equals(10))?(this._onDidClick.fire(E),te=!0):K.equals(9)&&(this._element.blur(),te=!0),te&&jt.zB.stop(K,!0)})),this._register((0,jt.nm)(this._element,jt.tw.MOUSE_OVER,E=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,jt.nm)(this._element,jt.tw.MOUSE_OUT,E=>{this.applyStyles()})),this.focusTracker=this._register((0,jt.go)(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let o;this.options.secondary?o=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:o=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,o&&(this._element.style.backgroundColor=o)}style(o){this.buttonForeground=o.buttonForeground,this.buttonBackground=o.buttonBackground,this.buttonHoverBackground=o.buttonHoverBackground,this.buttonSecondaryForeground=o.buttonSecondaryForeground,this.buttonSecondaryBackground=o.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=o.buttonSecondaryHoverBackground,this.buttonBorder=o.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let o,u;this.options.secondary?(u=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",o=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(u=this.buttonForeground?this.buttonForeground.toString():"",o=this.buttonBackground?this.buttonBackground.toString():"");const E=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=u,this._element.style.backgroundColor=o,this._element.style.borderWidth=E?"1px":"",this._element.style.borderStyle=E?"solid":"",this._element.style.borderColor=E}}get element(){return this._element}set label(o){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,jt.mc)(this._element,...(0,ed.T)(o)):this._element.textContent=o,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=o)}set enabled(o){o?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}var rh=l(33074);const tc="done",mu="active",pl="infinite",el="infinite-long-running",Al="discrete",ah={progressBarBackground:ml.Il.fromHex("#0E70C0")};class Pl extends Mt.JT{constructor(o,u){super(),this.options=u||Object.create(null),(0,zo.jB)(this.options,ah,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.showDelayedScheduler=this._register(new Tt.pY(()=>(0,jt.$Z)(this.element),0)),this.longRunningScheduler=this._register(new Tt.pY(()=>this.infiniteLongRunning(),Pl.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(o)}create(o){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),o.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(mu,pl,el,Al),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(o){return this.element.classList.add(tc),this.element.classList.contains(pl)?(this.bit.style.opacity="0",o?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",o?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(Al,tc,el),this.element.classList.add(mu,pl),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(el)}getContainer(){return this.element}style(o){this.progressBarBackground=o.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const o=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=o}}}Pl.LONG_RUNNING_INFINITE_THRESHOLD=1e4;var pu=l(58893);const wc={},_u=new pu.R("quick-input-button-icon-");function td(D){if(!D)return;let o;const u=D.dark.toString();return wc[u]?o=wc[u]:(o=_u.nextId(),jt.fk(`.${o}`,`background-image: ${jt.wY(D.light||D.dark)}`),jt.fk(`.vs-dark .${o}, .hc-black .${o}`,`background-image: ${jt.wY(D.dark)}`),wc[u]=o),o}var ca=l(76176),nd=l(99627);const vu=jt.$;class lh extends Mt.JT{constructor(o){super(),this.parent=o,this.onKeyDown=u=>jt.nm(this.inputBox.inputElement,jt.tw.KEY_DOWN,E=>{u(new Yo.y(E))}),this.onMouseDown=u=>jt.nm(this.inputBox.inputElement,jt.tw.MOUSE_DOWN,E=>{u(new c.n(E))}),this.onDidChange=u=>this.inputBox.onDidChange(u),this.container=jt.R3(this.parent,vu(".quick-input-box")),this.inputBox=this._register(new nd.W(this.container,void 0))}get value(){return this.inputBox.value}set value(o){this.inputBox.value=o}select(o=null){this.inputBox.select(o)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(o){this.inputBox.setPlaceHolder(o)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(o){this.inputBox.setAriaLabel(o)}get password(){return this.inputBox.inputElement.type==="password"}set password(o){this.inputBox.inputElement.type=o?"password":"text"}setAttribute(o,u){this.inputBox.inputElement.setAttribute(o,u)}removeAttribute(o){this.inputBox.inputElement.removeAttribute(o)}showDecoration(o){o===Eo.Z.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:o===Eo.Z.Info?1:o===Eo.Z.Warning?2:3,content:""})}stylesForType(o){return this.inputBox.stylesForType(o===Eo.Z.Info?1:o===Eo.Z.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(o){this.inputBox.style(o)}}var Cu=l(74188);const id=jt.$;class yc{constructor(o,u,E){this.os=u,this.keyElements=new Set,this.options=E||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=jt.R3(o,id(".monaco-keybinding")),this.didEverRender=!1,o.appendChild(this.domNode)}get element(){return this.domNode}set(o,u){this.didEverRender&&this.keybinding===o&&yc.areSame(this.matches,u)||(this.keybinding=o,this.matches=u,this.render())}render(){if(this.clear(),this.keybinding){let[o,u]=this.keybinding.getParts();o&&this.renderPart(this.domNode,o,this.matches?this.matches.firstPart:null),u&&(jt.R3(this.domNode,id("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,u,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){jt.PO(this.domNode),this.keyElements.clear()}renderPart(o,u,E){const K=ba.xo.modifierLabels[this.os];u.ctrlKey&&this.renderKey(o,K.ctrlKey,Boolean(E==null?void 0:E.ctrlKey),K.separator),u.shiftKey&&this.renderKey(o,K.shiftKey,Boolean(E==null?void 0:E.shiftKey),K.separator),u.altKey&&this.renderKey(o,K.altKey,Boolean(E==null?void 0:E.altKey),K.separator),u.metaKey&&this.renderKey(o,K.metaKey,Boolean(E==null?void 0:E.metaKey),K.separator);const te=u.keyLabel;te&&this.renderKey(o,te,Boolean(E==null?void 0:E.keyCode),"")}renderKey(o,u,E,K){jt.R3(o,this.createKeyElement(u,E?".highlight":"")),K&&jt.R3(o,id("span.monaco-keybinding-key-separator",void 0,K))}renderUnbound(o){jt.R3(o,this.createKeyElement((0,xi.N)("unbound","Unbound")))}createKeyElement(o,u=""){const E=id("span.monaco-keybinding-key"+u,void 0,o);return this.keyElements.add(E),E}style(o){this.labelBackground=o.keybindingLabelBackground,this.labelForeground=o.keybindingLabelForeground,this.labelBorder=o.keybindingLabelBorder,this.labelBottomBorder=o.keybindingLabelBottomBorder,this.labelShadow=o.keybindingLabelShadow,this.applyStyles()}applyStyles(){var o;if(this.element){for(const u of this.keyElements)this.labelBackground&&(u.style.backgroundColor=(o=this.labelBackground)===null||o===void 0?void 0:o.toString()),this.labelBorder&&(u.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(u.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(u.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(o,u){return o===u||!o&&!u?!0:!!o&&!!u&&(0,zo.fS)(o.firstPart,u.firstPart)&&(0,zo.fS)(o.chordPart,u.chordPart)}}const Sc=new Tt.Ue(()=>{const D=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:D,collatorIsNumeric:D.resolvedOptions().numeric}}),Va=new Tt.Ue(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),bu=new Tt.Ue(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function wu(D,o,u=!1){const E=D||"",K=o||"",te=Sc.value.collator.compare(E,K);return Sc.value.collatorIsNumeric&&te===0&&E!==K?E<K?-1:1:te}function yu(D,o,u){const E=D.toLowerCase(),K=o.toLowerCase(),te=Su(D,o,u);if(te)return te;const ue=E.endsWith(u),_e=K.endsWith(u);if(ue!==_e)return ue?-1:1;const je=wu(E,K);return je!==0?je:E.localeCompare(K)}function Su(D,o,u){const E=D.toLowerCase(),K=o.toLowerCase(),te=E.startsWith(u),ue=K.startsWith(u);if(te!==ue)return te?-1:1;if(te&&ue){if(E.length<K.length)return-1;if(E.length>K.length)return 1}return 0}var kd=l(52069),Rd=function(D,o,u,E){var K=arguments.length,te=K<3?o:E===null?E=Object.getOwnPropertyDescriptor(o,u):E,ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,o,u,E);else for(var _e=D.length-1;_e>=0;_e--)(ue=D[_e])&&(te=(K<3?ue(te):K>3?ue(o,u,te):ue(o,u))||te);return K>3&&te&&Object.defineProperty(o,u,te),te},Lu=function(D,o,u,E){function K(te){return te instanceof u?te:new u(function(ue){ue(te)})}return new(u||(u=Promise))(function(te,ue){function _e(ct){try{rt(E.next(ct))}catch(zt){ue(zt)}}function je(ct){try{rt(E.throw(ct))}catch(zt){ue(zt)}}function rt(ct){ct.done?te(ct.value):K(ct.value).then(_e,je)}rt((E=E.apply(D,o||[])).next())})};const La=jt.$;class ch{constructor(o){this.hidden=!1,this._onChecked=new z.Q5,this.onChecked=this._onChecked.event,Object.assign(this,o)}get checked(){return!!this._checked}set checked(o){o!==this._checked&&(this._checked=o,this._onChecked.fire(o))}dispose(){this._onChecked.dispose()}}class Pr{get templateId(){return Pr.ID}renderTemplate(o){const u=Object.create(null);u.toDisposeElement=[],u.toDisposeTemplate=[],u.entry=jt.R3(o,La(".quick-input-list-entry"));const E=jt.R3(u.entry,La("label.quick-input-list-label"));u.toDisposeTemplate.push(jt.mu(E,jt.tw.CLICK,rt=>{u.checkbox.offsetParent||rt.preventDefault()})),u.checkbox=jt.R3(E,La("input.quick-input-list-checkbox")),u.checkbox.type="checkbox",u.toDisposeTemplate.push(jt.mu(u.checkbox,jt.tw.CHANGE,rt=>{u.element.checked=u.checkbox.checked}));const K=jt.R3(E,La(".quick-input-list-rows")),te=jt.R3(K,La(".quick-input-list-row")),ue=jt.R3(K,La(".quick-input-list-row"));u.label=new Cu.g(te,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const _e=jt.R3(te,La(".quick-input-list-entry-keybinding"));u.keybinding=new yc(_e,Rt.OS);const je=jt.R3(ue,La(".quick-input-list-label-meta"));return u.detail=new Cu.g(je,{supportHighlights:!0,supportIcons:!0}),u.separator=jt.R3(u.entry,La(".quick-input-list-separator")),u.actionBar=new U.o(u.entry),u.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),u.toDisposeTemplate.push(u.actionBar),u}renderElement(o,u,E){E.toDisposeElement=(0,Mt.B9)(E.toDisposeElement),E.element=o,E.checkbox.checked=o.checked,E.toDisposeElement.push(o.onChecked(rt=>E.checkbox.checked=rt));const{labelHighlights:K,descriptionHighlights:te,detailHighlights:ue}=o,_e=Object.create(null);_e.matches=K||[],_e.descriptionTitle=o.saneDescription,_e.descriptionMatches=te||[],_e.extraClasses=o.item.iconClasses,_e.italic=o.item.italic,_e.strikethrough=o.item.strikethrough,E.label.setLabel(o.saneLabel,o.saneDescription,_e),E.keybinding.set(o.item.keybinding),o.saneDetail&&E.detail.setLabel(o.saneDetail,void 0,{matches:ue,title:o.saneDetail}),o.separator&&o.separator.label?(E.separator.textContent=o.separator.label,E.separator.style.display=""):E.separator.style.display="none",E.entry.classList.toggle("quick-input-list-separator-border",!!o.separator),E.actionBar.clear();const je=o.item.buttons;je&&je.length?(E.actionBar.push(je.map((rt,ct)=>{let zt=rt.iconClass||(rt.iconPath?td(rt.iconPath):void 0);rt.alwaysVisible&&(zt=zt?`${zt} always-visible`:"always-visible");const Fn=new Oe.aU(`id-${ct}`,"",zt,!0,()=>Lu(this,void 0,void 0,function*(){o.fireButtonTriggered({button:rt,item:o.item})}));return Fn.tooltip=rt.tooltip||"",Fn}),{icon:!0,label:!1}),E.entry.classList.add("has-actions")):E.entry.classList.remove("has-actions")}disposeElement(o,u,E){E.toDisposeElement=(0,Mt.B9)(E.toDisposeElement)}disposeTemplate(o){o.toDisposeElement=(0,Mt.B9)(o.toDisposeElement),o.toDisposeTemplate=(0,Mt.B9)(o.toDisposeTemplate)}}Pr.ID="listelement";class _l{getHeight(o){return o.saneDetail?44:22}getTemplateId(o){return Pr.ID}}var to;(function(D){D[D.First=1]="First",D[D.Second=2]="Second",D[D.Last=3]="Last",D[D.Next=4]="Next",D[D.Previous=5]="Previous",D[D.NextPage=6]="NextPage",D[D.PreviousPage=7]="PreviousPage"})(to||(to={}));class nc{constructor(o,u,E){this.parent=o,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new z.Q5,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new z.Q5,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new z.Q5,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new z.Q5,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new z.Q5,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new z.Q5,this.onKeyDown=this._onKeyDown.event,this._onLeave=new z.Q5,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=u,this.container=jt.R3(this.parent,La(".quick-input-list"));const K=new _l,te=new sd;this.list=E.createList("QuickInput",this.container,K,[new Pr],{identityProvider:{getId:ue=>ue.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:te}),this.list.getHTMLElement().id=u,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(ue=>{const _e=new Yo.y(ue);switch(_e.keyCode){case 10:this.toggleCheckbox();break;case 31:(Rt.dz?ue.metaKey:ue.ctrlKey)&&this.list.setFocus((0,bn.w6)(this.list.length));break;case 16:{const je=this.list.getFocus();je.length===1&&je[0]===0&&this._onLeave.fire();break}case 18:{const je=this.list.getFocus();je.length===1&&je[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(_e)})),this.disposables.push(this.list.onMouseDown(ue=>{ue.browserEvent.button!==2&&ue.browserEvent.preventDefault()})),this.disposables.push(jt.nm(this.container,jt.tw.CLICK,ue=>{(ue.x||ue.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(ue=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(ue=>{typeof ue.index=="number"&&(ue.browserEvent.preventDefault(),this.list.setSelection([ue.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return z.ju.map(this.list.onDidChangeFocus,o=>o.elements.map(u=>u.item))}get onDidChangeSelection(){return z.ju.map(this.list.onDidChangeSelection,o=>({items:o.elements.map(u=>u.item),event:o.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(o){this.list.scrollTop=o}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(o,u=!0){for(let E=0,K=o.length;E<K;E++){const te=o[E];if(!te.hidden)if(te.checked)u=!0;else return!1}return u}getCheckedCount(){let o=0;const u=this.elements;for(let E=0,K=u.length;E<K;E++)u[E].checked&&o++;return o}getVisibleCount(){let o=0;const u=this.elements;for(let E=0,K=u.length;E<K;E++)u[E].hidden||o++;return o}setAllVisibleChecked(o){try{this._fireCheckedEvents=!1,this.elements.forEach(u=>{u.hidden||(u.checked=o)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(o){this.elementDisposables=(0,Mt.B9)(this.elementDisposables);const u=E=>this.fireButtonTriggered(E);this.inputElements=o,this.elements=o.reduce((E,K,te)=>{var ue,_e,je;if(K.type!=="separator"){const rt=te&&o[te-1],ct=K.label&&K.label.replace(/\r?\n/g," "),zt=K.meta&&K.meta.replace(/\r?\n/g," "),Fn=K.description&&K.description.replace(/\r?\n/g," "),ii=K.detail&&K.detail.replace(/\r?\n/g," "),Ti=K.ariaLabel||[ct,Fn,ii].map(hs=>(0,Qe.JL)(hs)).filter(hs=>!!hs).join(", "),Es=this.parent.classList.contains("show-checkboxes");E.push(new ch({hasCheckbox:Es,index:te,item:K,saneLabel:ct,saneMeta:zt,saneAriaLabel:Ti,saneDescription:Fn,saneDetail:ii,labelHighlights:(ue=K.highlights)===null||ue===void 0?void 0:ue.label,descriptionHighlights:(_e=K.highlights)===null||_e===void 0?void 0:_e.description,detailHighlights:(je=K.highlights)===null||je===void 0?void 0:je.detail,checked:!1,separator:rt&&rt.type==="separator"?rt:void 0,fireButtonTriggered:u}))}return E},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(E=>E.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((E,K,te)=>(E.set(K.item,te),E),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(o=>o.item)}setFocusedElements(o){if(this.list.setFocus(o.filter(u=>this.elementsToIndexes.has(u)).map(u=>this.elementsToIndexes.get(u))),o.length>0){const u=this.list.getFocus()[0];typeof u=="number"&&this.list.reveal(u)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(o){this.list.setSelection(o.filter(u=>this.elementsToIndexes.has(u)).map(u=>this.elementsToIndexes.get(u)))}getCheckedElements(){return this.elements.filter(o=>o.checked).map(o=>o.item)}setCheckedElements(o){try{this._fireCheckedEvents=!1;const u=new Set;for(const E of o)u.add(E);for(const E of this.elements)E.checked=u.has(E.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(o){this.list.getHTMLElement().style.pointerEvents=o?"":"none"}focus(o){if(!this.list.length)return;switch(o===to.Next&&this.list.getFocus()[0]===this.list.length-1&&(o=to.First),o===to.Previous&&this.list.getFocus()[0]===0&&(o=to.Last),o===to.Second&&this.list.length<2&&(o=to.First),o){case to.First:this.list.focusFirst();break;case to.Second:this.list.focusNth(1);break;case to.Last:this.list.focusLast();break;case to.Next:this.list.focusNext();break;case to.Previous:this.list.focusPrevious();break;case to.NextPage:this.list.focusNextPage();break;case to.PreviousPage:this.list.focusPreviousPage();break}const u=this.list.getFocus()[0];typeof u=="number"&&this.list.reveal(u)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(o){this.list.getHTMLElement().style.maxHeight=o?`calc(${Math.floor(o/44)*44}px)`:"",this.list.layout()}filter(o){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if(o=o.trim(),!o||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(E=>{E.labelHighlights=void 0,E.descriptionHighlights=void 0,E.detailHighlights=void 0,E.hidden=!1;const K=E.index&&this.inputElements[E.index-1];E.separator=K&&K.type==="separator"?K:void 0});else{let E;this.elements.forEach(K=>{const te=this.matchOnLabel?(0,Zt.f6)((0,qe.Gt)(o,(0,qe.Ho)(K.saneLabel))):void 0,ue=this.matchOnDescription?(0,Zt.f6)((0,qe.Gt)(o,(0,qe.Ho)(K.saneDescription||""))):void 0,_e=this.matchOnDetail?(0,Zt.f6)((0,qe.Gt)(o,(0,qe.Ho)(K.saneDetail||""))):void 0,je=this.matchOnMeta?(0,Zt.f6)((0,qe.Gt)(o,(0,qe.Ho)(K.saneMeta||""))):void 0;if(te||ue||_e||je?(K.labelHighlights=te,K.descriptionHighlights=ue,K.detailHighlights=_e,K.hidden=!1):(K.labelHighlights=void 0,K.descriptionHighlights=void 0,K.detailHighlights=void 0,K.hidden=!K.item.alwaysShow),K.separator=void 0,!this.sortByLabel){const rt=K.index&&this.inputElements[K.index-1];E=rt&&rt.type==="separator"?rt:E,E&&!K.hidden&&(K.separator=E,E=void 0)}})}const u=this.elements.filter(E=>!E.hidden);if(this.sortByLabel&&o){const E=o.toLowerCase();u.sort((K,te)=>dh(K,te,E))}return this.elementsToIndexes=u.reduce((E,K,te)=>(E.set(K.item,te),E),new Map),this.list.splice(0,this.list.length,u),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(u.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const o=this.list.getFocusedElements(),u=this.allVisibleChecked(o);for(const E of o)E.checked=!u}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(o){this.container.style.display=o?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,Mt.B9)(this.elementDisposables),this.disposables=(0,Mt.B9)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(o){this._onButtonTriggered.fire(o)}style(o){this.list.style(o)}}Rd([kd.H],nc.prototype,"onDidChangeFocus",null),Rd([kd.H],nc.prototype,"onDidChangeSelection",null);function dh(D,o,u){const E=D.labelHighlights||[],K=o.labelHighlights||[];return E.length&&!K.length?-1:!E.length&&K.length?1:E.length===0&&K.length===0?0:yu(D.saneLabel,o.saneLabel,u)}class sd{getWidgetAriaLabel(){return(0,xi.N)("quickInput","Quick Input")}getAriaLabel(o){return o.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(o){return o.hasCheckbox?"checkbox":"option"}isChecked(o){if(!!o.hasCheckbox)return{value:o.checked,onDidChange:o.onChecked}}}var Eu=function(D,o,u,E){function K(te){return te instanceof u?te:new u(function(ue){ue(te)})}return new(u||(u=Promise))(function(te,ue){function _e(ct){try{rt(E.next(ct))}catch(zt){ue(zt)}}function je(ct){try{rt(E.throw(ct))}catch(zt){ue(zt)}}function rt(ct){ct.done?te(ct.value):K(ct.value).then(_e,je)}rt((E=E.apply(D,o||[])).next())})};const Or=jt.$,Ad={iconClass:Qe.lA.quickInputBack.classNames,tooltip:(0,xi.N)("quickInput.back","Back"),handle:-1};class Pd extends Mt.JT{constructor(o){super(),this.ui=o,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=Pd.noPromptMessage,this._severity=Eo.Z.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new z.Q5),this.onDidHideEmitter=this._register(new z.Q5),this.onDisposeEmitter=this._register(new z.Q5),this.visibleDisposables=this._register(new Mt.SL),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(o){this._title=o,this.update()}get description(){return this._description}set description(o){this._description=o,this.update()}get step(){return this._steps}set step(o){this._steps=o,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(o){this._totalSteps=o,this.update()}get enabled(){return this._enabled}set enabled(o){this._enabled=o,this.update()}get contextKey(){return this._contextKey}set contextKey(o){this._contextKey=o,this.update()}get busy(){return this._busy}set busy(o){this._busy=o,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(o){const u=this._ignoreFocusOut!==o&&!Rt.gn;this._ignoreFocusOut=o&&!Rt.gn,u&&this.update()}get buttons(){return this._buttons}set buttons(o){this._buttons=o,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(o){this._validationMessage=o,this.update()}get severity(){return this._severity}set severity(o){this._severity=o,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(o=>{this.buttons.indexOf(o)!==-1&&this.onDidTriggerButtonEmitter.fire(o)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){!this.visible||this.ui.hide()}didHide(o=ca.Jq.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:o})}update(){if(!this.visible)return;const o=this.getTitle();o&&this.ui.title.textContent!==o?this.ui.title.textContent=o:!o&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const u=this.getDescription();if(this.ui.description1.textContent!==u&&(this.ui.description1.textContent=u),this.ui.description2.textContent!==u&&(this.ui.description2.textContent=u),this.busy&&!this.busyDelay&&(this.busyDelay=new Tt._F,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const K=this.buttons.filter(ue=>ue===Ad);this.ui.leftActionBar.push(K.map((ue,_e)=>{const je=new Oe.aU(`id-${_e}`,"",ue.iconClass||td(ue.iconPath),!0,()=>Eu(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(ue)}));return je.tooltip=ue.tooltip||"",je}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const te=this.buttons.filter(ue=>ue!==Ad);this.ui.rightActionBar.push(te.map((ue,_e)=>{const je=new Oe.aU(`id-${_e}`,"",ue.iconClass||td(ue.iconPath),!0,()=>Eu(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(ue)}));return je.tooltip=ue.tooltip||"",je}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const E=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==E&&(this._lastValidationMessage=E,jt.mc(this.ui.message,...(0,ed.T)(E))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,xi.N)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(o){if(this.ui.inputBox.showDecoration(o),o!==Eo.Z.Ignore){const u=this.ui.inputBox.stylesForType(o);this.ui.message.style.color=u.foreground?`${u.foreground}`:"",this.ui.message.style.backgroundColor=u.background?`${u.background}`:"",this.ui.message.style.border=u.border?`1px solid ${u.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}Pd.noPromptMessage=(0,xi.N)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class od extends Pd{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new z.Q5),this.onWillAcceptEmitter=this._register(new z.Q5),this.onDidAcceptEmitter=this._register(new z.Q5),this.onDidCustomEmitter=this._register(new z.Q5),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?ca.jG.NONE:ca.jG.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new z.Q5),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new z.Q5),this.onDidTriggerItemButtonEmitter=this._register(new z.Q5),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=o=>o,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(o){this._quickNavigate=o,this.update()}get value(){return this._value}set value(o){this.doSetValue(o)}doSetValue(o,u){this._value!==o&&(this._value=o,u||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(o){this._ariaLabel=o,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(o){this._placeholder=o,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(o){this.ui.list.scrollTop=o}set items(o){this._items=o,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(o){this._canSelectMany=o,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(o){this._canAcceptInBackground=o}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(o){this._matchOnDescription=o,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(o){this._matchOnDetail=o,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(o){this._matchOnLabel=o,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(o){this._sortByLabel=o,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(o){this._autoFocusOnList=o,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(o){this._keepScrollPosition=o}get itemActivation(){return this._itemActivation}set itemActivation(o){this._itemActivation=o}get activeItems(){return this._activeItems}set activeItems(o){this._activeItems=o,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(o){this._selectedItems=o,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?ca.X5:this.ui.keyMods}set valueSelection(o){this._valueSelection=o,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(o){this._customButton=o,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(o){this._customButtonLabel=o,this.update()}get customHover(){return this._customButtonHover}set customHover(o){this._customButtonHover=o,this.update()}get ok(){return this._ok}set ok(o){this._ok=o,this.update()}get hideInput(){return!!this._hideInput}set hideInput(o){this._hideInput=o,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(to.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(o=>{this.doSetValue(o,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(o=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(o=>{switch(o.keyCode){case 18:this.ui.list.focus(to.Next),this.canSelectMany&&this.ui.list.domFocus(),jt.zB.stop(o,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(to.Previous):this.ui.list.focus(to.Last),this.canSelectMany&&this.ui.list.domFocus(),jt.zB.stop(o,!0);break;case 12:this.ui.list.focus(to.NextPage),this.canSelectMany&&this.ui.list.domFocus(),jt.zB.stop(o,!0);break;case 11:this.ui.list.focus(to.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),jt.zB.stop(o,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(o.ctrlKey||o.metaKey)&&!o.shiftKey&&!o.altKey&&(this.ui.list.focus(to.First),jt.zB.stop(o,!0));break;case 13:(o.ctrlKey||o.metaKey)&&!o.shiftKey&&!o.altKey&&(this.ui.list.focus(to.Last),jt.zB.stop(o,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(o=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,bn.fS)(o,this._activeItems,(u,E)=>u===E)||(this._activeItems=o,this.onDidChangeActiveEmitter.fire(o))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:o,event:u})=>{if(this.canSelectMany){o.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,bn.fS)(o,this._selectedItems,(E,K)=>E===K)||(this._selectedItems=o,this.onDidChangeSelectionEmitter.fire(o),o.length&&this.handleAccept(u instanceof MouseEvent&&u.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(o=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&(0,bn.fS)(o,this._selectedItems,(u,E)=>u===E)||(this._selectedItems=o,this.onDidChangeSelectionEmitter.fire(o))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(o=>this.onDidTriggerItemButtonEmitter.fire(o))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(o){let u=!1;this.onWillAcceptEmitter.fire({veto:()=>u=!0}),u||this.onDidAcceptEmitter.fire({inBackground:o})}registerQuickNavigation(){return jt.nm(this.ui.container,jt.tw.KEY_UP,o=>{if(this.canSelectMany||!this._quickNavigate)return;const u=new Yo.y(o),E=u.keyCode;this._quickNavigate.keybindings.some(ue=>{const[_e,je]=ue.getParts();return je?!1:_e.shiftKey&&E===4?!(u.ctrlKey||u.altKey||u.metaKey):!!(_e.altKey&&E===6||_e.ctrlKey&&E===5||_e.metaKey&&E===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const o=this.keepScrollPosition?this.scrollTop:0,u=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",u&&!this.description);const E={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!u,progressBar:!u,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(E),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const K=this.ariaLabel||this.placeholder||od.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==K&&(this.ui.inputBox.ariaLabel=K),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case ca.jG.NONE:this._itemActivation=ca.jG.FIRST;break;case ca.jG.SECOND:this.ui.list.focus(to.Second),this._itemActivation=ca.jG.FIRST;break;case ca.jG.LAST:this.ui.list.focus(to.Last),this._itemActivation=ca.jG.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),E.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(to.First)),this.keepScrollPosition&&(this.scrollTop=o)}}od.DEFAULT_ARIA_LABEL=(0,xi.N)("quickInputBox.ariaLabel","Type to narrow down results.");class Lc extends Mt.JT{constructor(o){super(),this.options=o,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new z.Q5),this.onDidCustomEmitter=this._register(new z.Q5),this.onDidTriggerButtonEmitter=this._register(new z.Q5),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new z.Q5),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new z.Q5),this.onHide=this.onHideEmitter.event,this.idPrefix=o.idPrefix,this.parentElement=o.container,this.styles=o.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const o=u=>{this.keyMods.ctrlCmd=u.ctrlKey||u.metaKey,this.keyMods.alt=u.altKey};this._register(jt.nm(window,jt.tw.KEY_DOWN,o,!0)),this._register(jt.nm(window,jt.tw.KEY_UP,o,!0)),this._register(jt.nm(window,jt.tw.MOUSE_DOWN,o,!0))}getUI(){if(this.ui)return this.ui;const o=jt.R3(this.parentElement,Or(".quick-input-widget.show-file-icons"));o.tabIndex=-1,o.style.display="none";const u=jt.dS(o),E=jt.R3(o,Or(".quick-input-titlebar")),K=this._register(new U.o(E));K.domNode.classList.add("quick-input-left-action-bar");const te=jt.R3(E,Or(".quick-input-title")),ue=this._register(new U.o(E));ue.domNode.classList.add("quick-input-right-action-bar");const _e=jt.R3(o,Or(".quick-input-description")),je=jt.R3(o,Or(".quick-input-header")),rt=jt.R3(je,Or("input.quick-input-check-all"));rt.type="checkbox",this._register(jt.mu(rt,jt.tw.CHANGE,bs=>{const ur=rt.checked;Mo.setAllVisibleChecked(ur)})),this._register(jt.nm(rt,jt.tw.CLICK,bs=>{(bs.x||bs.y)&&ii.setFocus()}));const ct=jt.R3(je,Or(".quick-input-description")),zt=jt.R3(je,Or(".quick-input-and-message")),Fn=jt.R3(zt,Or(".quick-input-filter")),ii=this._register(new lh(Fn));ii.setAttribute("aria-describedby",`${this.idPrefix}message`);const Ti=jt.R3(Fn,Or(".quick-input-visible-count"));Ti.setAttribute("aria-live","polite"),Ti.setAttribute("aria-atomic","true");const Es=new rh.Z(Ti,{countFormat:(0,xi.N)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),hs=jt.R3(Fn,Or(".quick-input-count"));hs.setAttribute("aria-live","polite");const po=new rh.Z(hs,{countFormat:(0,xi.N)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),Ps=jt.R3(je,Or(".quick-input-action")),os=new Md(Ps);os.label=(0,xi.N)("ok","OK"),this._register(os.onDidClick(bs=>{this.onDidAcceptEmitter.fire()}));const Ms=jt.R3(je,Or(".quick-input-action")),_o=new Md(Ms);_o.label=(0,xi.N)("custom","Custom"),this._register(_o.onDidClick(bs=>{this.onDidCustomEmitter.fire()}));const fd=jt.R3(zt,Or(`#${this.idPrefix}message.quick-input-message`)),Mo=this._register(new nc(o,this.idPrefix+"list",this.options));this._register(Mo.onChangedAllVisibleChecked(bs=>{rt.checked=bs})),this._register(Mo.onChangedVisibleCount(bs=>{Es.setCount(bs)})),this._register(Mo.onChangedCheckedCount(bs=>{po.setCount(bs)})),this._register(Mo.onLeave(()=>{setTimeout(()=>{ii.setFocus(),this.controller instanceof od&&this.controller.canSelectMany&&Mo.clearFocus()},0)})),this._register(Mo.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const Zd=new Pl(o);Zd.getContainer().classList.add("quick-input-progress");const Qs=jt.go(o);return this._register(Qs),this._register(jt.nm(o,jt.tw.FOCUS,bs=>{this.previousFocusElement=bs.relatedTarget instanceof HTMLElement?bs.relatedTarget:void 0},!0)),this._register(Qs.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(ca.Jq.Blur),this.previousFocusElement=void 0})),this._register(jt.nm(o,jt.tw.FOCUS,bs=>{ii.setFocus()})),this._register(jt.nm(o,jt.tw.KEY_DOWN,bs=>{const ur=new Yo.y(bs);switch(ur.keyCode){case 3:jt.zB.stop(bs,!0),this.onDidAcceptEmitter.fire();break;case 9:jt.zB.stop(bs,!0),this.hide(ca.Jq.Gesture);break;case 2:if(!ur.altKey&&!ur.ctrlKey&&!ur.metaKey){const bl=[".action-label.codicon"];o.classList.contains("show-checkboxes")?bl.push("input"):bl.push("input[type=text]"),this.getUI().list.isDisplayed()&&bl.push(".monaco-list");const ol=o.querySelectorAll(bl.join(", "));ur.shiftKey&&ur.target===ol[0]?(jt.zB.stop(bs,!0),ol[ol.length-1].focus()):!ur.shiftKey&&ur.target===ol[ol.length-1]&&(jt.zB.stop(bs,!0),ol[0].focus())}break}})),this.ui={container:o,styleSheet:u,leftActionBar:K,titleBar:E,title:te,description1:_e,description2:ct,rightActionBar:ue,checkAll:rt,filterContainer:Fn,inputBox:ii,visibleCountContainer:Ti,visibleCount:Es,countContainer:hs,count:po,okContainer:Ps,ok:os,message:fd,customButtonContainer:Ms,customButton:_o,list:Mo,progressBar:Zd,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:bs=>this.show(bs),hide:()=>this.hide(),setVisibilities:bs=>this.setVisibilities(bs),setComboboxAccessibility:bs=>this.setComboboxAccessibility(bs),setEnabled:bs=>this.setEnabled(bs),setContextKey:bs=>this.options.setContextKey(bs)},this.updateStyles(),this.ui}pick(o,u={},E=d.T.None){return new Promise((K,te)=>{let ue=ct=>{ue=K,u.onKeyMods&&u.onKeyMods(_e.keyMods),K(ct)};if(E.isCancellationRequested){ue(void 0);return}const _e=this.createQuickPick();let je;const rt=[_e,_e.onDidAccept(()=>{if(_e.canSelectMany)ue(_e.selectedItems.slice()),_e.hide();else{const ct=_e.activeItems[0];ct&&(ue(ct),_e.hide())}}),_e.onDidChangeActive(ct=>{const zt=ct[0];zt&&u.onDidFocus&&u.onDidFocus(zt)}),_e.onDidChangeSelection(ct=>{if(!_e.canSelectMany){const zt=ct[0];zt&&(ue(zt),_e.hide())}}),_e.onDidTriggerItemButton(ct=>u.onDidTriggerItemButton&&u.onDidTriggerItemButton(Object.assign(Object.assign({},ct),{removeItem:()=>{const zt=_e.items.indexOf(ct.item);if(zt!==-1){const Fn=_e.items.slice(),ii=Fn.splice(zt,1),Ti=_e.activeItems.filter(hs=>hs!==ii[0]),Es=_e.keepScrollPosition;_e.keepScrollPosition=!0,_e.items=Fn,Ti&&(_e.activeItems=Ti),_e.keepScrollPosition=Es}}}))),_e.onDidChangeValue(ct=>{je&&!ct&&(_e.activeItems.length!==1||_e.activeItems[0]!==je)&&(_e.activeItems=[je])}),E.onCancellationRequested(()=>{_e.hide()}),_e.onDidHide(()=>{(0,Mt.B9)(rt),ue(void 0)})];_e.title=u.title,_e.canSelectMany=!!u.canPickMany,_e.placeholder=u.placeHolder,_e.ignoreFocusOut=!!u.ignoreFocusLost,_e.matchOnDescription=!!u.matchOnDescription,_e.matchOnDetail=!!u.matchOnDetail,_e.matchOnLabel=u.matchOnLabel===void 0||u.matchOnLabel,_e.autoFocusOnList=u.autoFocusOnList===void 0||u.autoFocusOnList,_e.quickNavigate=u.quickNavigate,_e.contextKey=u.contextKey,_e.busy=!0,Promise.all([o,u.activeItem]).then(([ct,zt])=>{je=zt,_e.busy=!1,_e.items=ct,_e.canSelectMany&&(_e.selectedItems=ct.filter(Fn=>Fn.type!=="separator"&&Fn.picked)),je&&(_e.activeItems=[je])}),_e.show(),Promise.resolve(o).then(void 0,ct=>{te(ct),_e.hide()})})}createQuickPick(){const o=this.getUI();return new od(o)}show(o){const u=this.getUI();this.onShowEmitter.fire();const E=this.controller;this.controller=o,E&&E.didHide(),this.setEnabled(!0),u.leftActionBar.clear(),u.title.textContent="",u.description1.textContent="",u.description2.textContent="",u.rightActionBar.clear(),u.checkAll.checked=!1,u.inputBox.placeholder="",u.inputBox.password=!1,u.inputBox.showDecoration(Eo.Z.Ignore),u.visibleCount.setCount(0),u.count.setCount(0),jt.mc(u.message),u.progressBar.stop(),u.list.setElements([]),u.list.matchOnDescription=!1,u.list.matchOnDetail=!1,u.list.matchOnLabel=!0,u.list.sortByLabel=!0,u.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),u.inputBox.ariaLabel="";const K=this.options.backKeybindingLabel();Ad.tooltip=K?(0,xi.N)("quickInput.backWithKeybinding","Back ({0})",K):(0,xi.N)("quickInput.back","Back"),u.container.style.display="",this.updateLayout(),u.inputBox.setFocus()}setVisibilities(o){const u=this.getUI();u.title.style.display=o.title?"":"none",u.description1.style.display=o.description&&(o.inputBox||o.checkAll)?"":"none",u.description2.style.display=o.description&&!(o.inputBox||o.checkAll)?"":"none",u.checkAll.style.display=o.checkAll?"":"none",u.filterContainer.style.display=o.inputBox?"":"none",u.visibleCountContainer.style.display=o.visibleCount?"":"none",u.countContainer.style.display=o.count?"":"none",u.okContainer.style.display=o.ok?"":"none",u.customButtonContainer.style.display=o.customButton?"":"none",u.message.style.display=o.message?"":"none",u.progressBar.getContainer().style.display=o.progressBar?"":"none",u.list.display(!!o.list),u.container.classList[o.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(o){if(o!==this.comboboxAccessibility){const u=this.getUI();this.comboboxAccessibility=o,this.comboboxAccessibility?(u.inputBox.setAttribute("role","combobox"),u.inputBox.setAttribute("aria-haspopup","true"),u.inputBox.setAttribute("aria-autocomplete","list"),u.inputBox.setAttribute("aria-activedescendant",u.list.getActiveDescendant()||"")):(u.inputBox.removeAttribute("role"),u.inputBox.removeAttribute("aria-haspopup"),u.inputBox.removeAttribute("aria-autocomplete"),u.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(o){if(o!==this.enabled){this.enabled=o;for(const u of this.getUI().leftActionBar.viewItems)u.getAction().enabled=o;for(const u of this.getUI().rightActionBar.viewItems)u.getAction().enabled=o;this.getUI().checkAll.disabled=!o,this.getUI().ok.enabled=o,this.getUI().list.enabled=o}}hide(o){var u;const E=this.controller;if(E){const K=!(!((u=this.ui)===null||u===void 0)&&u.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!K){let te=this.previousFocusElement;for(;te&&!te.offsetParent;)te=(0,Zt.f6)(te.parentElement);te!=null&&te.offsetParent?(te.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}E.didHide(o)}}layout(o,u){this.dimension=o,this.titleBarOffset=u,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const o=this.ui.container.style,u=Math.min(this.dimension.width*.62,Lc.MAX_WIDTH);o.width=u+"px",o.marginLeft="-"+u/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(o){this.styles=o,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:o,quickInputBackground:u,quickInputForeground:E,contrastBorder:K,widgetShadow:te}=this.styles.widget;this.ui.titleBar.style.backgroundColor=o?o.toString():"",this.ui.container.style.backgroundColor=u?u.toString():"",this.ui.container.style.color=E?E.toString():"",this.ui.container.style.border=K?`1px solid ${K}`:"",this.ui.container.style.boxShadow=te?`0 0 8px 2px ${te}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const ue=[];this.styles.list.pickerGroupBorder&&ue.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&ue.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(ue.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&ue.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&ue.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&ue.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&ue.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&ue.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),ue.push("}"));const _e=ue.join(`
`);_e!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=_e)}}}Lc.MAX_WIDTH=600;var vl=l(1296),ic=l(26372),rd=l(89913),Od=l(52045),Du=function(D,o,u,E){var K=arguments.length,te=K<3?o:E===null?E=Object.getOwnPropertyDescriptor(o,u):E,ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,o,u,E);else for(var _e=D.length-1;_e>=0;_e--)(ue=D[_e])&&(te=(K<3?ue(te):K>3?ue(o,u,te):ue(o,u))||te);return K>3&&te&&Object.defineProperty(o,u,te),te},uh=function(D,o){return function(u,E){o(u,E,D)}};let xu=class extends Mt.JT{constructor(o,u){super(),this.quickInputService=o,this.instantiationService=u,this.registry=tr.B.as(rd.IP.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(o="",u){this.doShowOrPick(o,!1,u)}doShowOrPick(o,u,E){var K;const[te,ue]=this.getOrInstantiateProvider(o),_e=this.visibleQuickAccess,je=_e==null?void 0:_e.descriptor;if(_e&&ue&&je===ue){o!==ue.prefix&&!(E!=null&&E.preserveValue)&&(_e.picker.value=o),this.adjustValueSelection(_e.picker,ue,E);return}if(ue&&!(E!=null&&E.preserveValue)){let ii;if(_e&&je&&je!==ue){const Ti=_e.value.substr(je.prefix.length);Ti&&(ii=`${ue.prefix}${Ti}`)}if(!ii){const Ti=te==null?void 0:te.defaultFilterValue;Ti===rd.Ry.LAST?ii=this.lastAcceptedPickerValues.get(ue):typeof Ti=="string"&&(ii=`${ue.prefix}${Ti}`)}typeof ii=="string"&&(o=ii)}const rt=new Mt.SL,ct=rt.add(this.quickInputService.createQuickPick());ct.value=o,this.adjustValueSelection(ct,ue,E),ct.placeholder=ue==null?void 0:ue.placeholder,ct.quickNavigate=E==null?void 0:E.quickNavigateConfiguration,ct.hideInput=!!ct.quickNavigate&&!_e,(typeof(E==null?void 0:E.itemActivation)=="number"||(E==null?void 0:E.quickNavigateConfiguration))&&(ct.itemActivation=(K=E==null?void 0:E.itemActivation)!==null&&K!==void 0?K:Od.jG.SECOND),ct.contextKey=ue==null?void 0:ue.contextKey,ct.filterValue=ii=>ii.substring(ue?ue.prefix.length:0),ue!=null&&ue.placeholder&&(ct.ariaLabel=ue==null?void 0:ue.placeholder);let zt;u&&(zt=new Tt.CR,rt.add((0,ic.I)(ct.onWillAccept)(ii=>{ii.veto(),ct.hide()}))),rt.add(this.registerPickerListeners(ct,te,ue,o));const Fn=rt.add(new d.A);if(te&&rt.add(te.provide(ct,Fn.token)),(0,ic.I)(ct.onDidHide)(()=>{ct.selectedItems.length===0&&Fn.cancel(),rt.dispose(),zt==null||zt.complete(ct.selectedItems.slice(0))}),ct.show(),u)return zt==null?void 0:zt.p}adjustValueSelection(o,u,E){var K;let te;E!=null&&E.preserveValue?te=[o.value.length,o.value.length]:te=[(K=u==null?void 0:u.prefix.length)!==null&&K!==void 0?K:0,o.value.length],o.valueSelection=te}registerPickerListeners(o,u,E,K){const te=new Mt.SL,ue=this.visibleQuickAccess={picker:o,descriptor:E,value:K};return te.add((0,Mt.OF)(()=>{ue===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),te.add(o.onDidChangeValue(_e=>{const[je]=this.getOrInstantiateProvider(_e);je!==u?this.show(_e,{preserveValue:!0}):ue.value=_e})),E&&te.add(o.onDidAccept(()=>{this.lastAcceptedPickerValues.set(E,o.value)})),te}getOrInstantiateProvider(o){const u=this.registry.getQuickAccessProvider(o);if(!u)return[void 0,void 0];let E=this.mapProviderToDescriptor.get(u);return E||(E=this.instantiationService.createInstance(u.ctor),this.mapProviderToDescriptor.set(u,E)),[E,u]}};xu=Du([uh(0,Od.eJ),uh(1,Io.TG)],xu);var hh=function(D,o,u,E){var K=arguments.length,te=K<3?o:E===null?E=Object.getOwnPropertyDescriptor(o,u):E,ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,o,u,E);else for(var _e=D.length-1;_e>=0;_e--)(ue=D[_e])&&(te=(K<3?ue(te):K>3?ue(o,u,te):ue(o,u))||te);return K>3&&te&&Object.defineProperty(o,u,te),te},Ec=function(D,o){return function(u,E){o(u,E,D)}};let ad=class extends rs.bB{constructor(o,u,E,K,te){super(E),this.instantiationService=o,this.contextKeyService=u,this.accessibilityService=K,this.layoutService=te,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(xu))),this._quickAccess}createController(o=this.layoutService,u){var E,K;const te={idPrefix:"quickInput_",container:o.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:_e=>this.setContextKey(_e),returnFocus:()=>o.focus(),createList:(_e,je,rt,ct,zt)=>this.instantiationService.createInstance(vl.ev,_e,je,rt,ct,zt),styles:this.computeStyles()},ue=this._register(new Lc(Object.assign(Object.assign({},te),u)));return ue.layout(o.dimension,(K=(E=o.offset)===null||E===void 0?void 0:E.top)!==null&&K!==void 0?K:0),this._register(o.onDidLayout(_e=>{var je,rt;return ue.layout(_e,(rt=(je=o.offset)===null||je===void 0?void 0:je.top)!==null&&rt!==void 0?rt:0)})),this._register(ue.onShow(()=>this.resetContextKeys())),this._register(ue.onHide(()=>this.resetContextKeys())),ue}setContextKey(o){let u;o&&(u=this.contexts.get(o),u||(u=new ls.uy(o,!1).bindTo(this.contextKeyService),this.contexts.set(o,u))),!(u&&u.get())&&(this.resetContextKeys(),u&&u.set(!0))}resetContextKeys(){this.contexts.forEach(o=>{o.get()&&o.reset()})}pick(o,u={},E=d.T.None){return this.controller.pick(o,u,E)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,si.o)(this.theme,{quickInputBackground:cs.zKr,quickInputForeground:cs.tZ6,quickInputTitleBackground:cs.loF,contrastBorder:cs.lRK,widgetShadow:cs.rh})),inputBox:(0,si.o)(this.theme,{inputForeground:cs.zJb,inputBackground:cs.sEe,inputBorder:cs.dt_,inputValidationInfoBackground:cs._lC,inputValidationInfoForeground:cs.YI3,inputValidationInfoBorder:cs.EPQ,inputValidationWarningBackground:cs.RV_,inputValidationWarningForeground:cs.SUG,inputValidationWarningBorder:cs.C3g,inputValidationErrorBackground:cs.paE,inputValidationErrorForeground:cs._t9,inputValidationErrorBorder:cs.OZR}),countBadge:(0,si.o)(this.theme,{badgeBackground:cs.g8u,badgeForeground:cs.qeD,badgeBorder:cs.lRK}),button:(0,si.o)(this.theme,{buttonForeground:cs.j5u,buttonBackground:cs.b7$,buttonHoverBackground:cs.GO4,buttonBorder:cs.lRK}),progressBar:(0,si.o)(this.theme,{progressBarBackground:cs.zRJ}),keybindingLabel:(0,si.o)(this.theme,{keybindingLabelBackground:cs.oQ$,keybindingLabelForeground:cs.lWp,keybindingLabelBorder:cs.AWI,keybindingLabelBottomBorder:cs.K19,keybindingLabelShadow:cs.rh}),list:(0,si.o)(this.theme,{listBackground:cs.zKr,listInactiveFocusForeground:cs.NPS,listInactiveSelectionIconForeground:cs.cbQ,listInactiveFocusBackground:cs.Vqd,listFocusOutline:cs.xL1,listInactiveFocusOutline:cs.xL1,pickerGroupBorder:cs.opG,pickerGroupForeground:cs.kJk})}}};ad=hh([Ec(0,Io.TG),Ec(1,ls.i6),Ec(2,rs.XE),Ec(3,ec.F),Ec(4,us)],ad);var Fd=function(D,o,u,E){var K=arguments.length,te=K<3?o:E===null?E=Object.getOwnPropertyDescriptor(o,u):E,ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,o,u,E);else for(var _e=D.length-1;_e>=0;_e--)(ue=D[_e])&&(te=(K<3?ue(te):K>3?ue(o,u,te):ue(o,u))||te);return K>3&&te&&Object.defineProperty(o,u,te),te},da=function(D,o){return function(u,E){o(u,E,D)}};let Be=class extends ad{constructor(o,u,E,K,te,ue){super(u,E,K,te,new mr(o.getContainerDomNode(),ue)),this.host=void 0;const _e=Re.get(o);if(_e){const je=_e.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return je.getDomNode()},get dimension(){return o.getLayoutInfo()},get onDidLayout(){return o.onDidLayoutChange},focus:()=>o.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};Be=Fd([da(1,Io.TG),da(2,ls.i6),da(3,rs.XE),da(4,ec.F),da(5,Te.$)],Be);let ye=class{constructor(o,u){this.instantiationService=o,this.codeEditorService=u,this.mapEditorToService=new Map}get activeService(){const o=this.codeEditorService.getFocusedCodeEditor();if(!o)throw new Error("Quick input service needs a focused editor to work.");let u=this.mapEditorToService.get(o);if(!u){const E=u=this.instantiationService.createInstance(Be,o);this.mapEditorToService.set(o,u),(0,ic.I)(o.onDidDispose)(()=>{E.dispose(),this.mapEditorToService.delete(o)})}return u}get quickAccess(){return this.activeService.quickAccess}pick(o,u={},E=d.T.None){return this.activeService.pick(o,u,E)}createQuickPick(){return this.activeService.createQuickPick()}};ye=Fd([da(0,Io.TG),da(1,Te.$)],ye);class Re{constructor(o){this.editor=o,this.widget=new Je(this.editor)}static get(o){return o.getContribution(Re.ID)}dispose(){this.widget.dispose()}}Re.ID="editor.controller.quickInput";class Je{constructor(o){this.codeEditor=o,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return Je.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}Je.ID="editor.contrib.quickInputWidget",(0,qa._K)(Re.ID,Re);class Nt{constructor(o,u,E,K,te){this._parsedThemeRuleBrand=void 0,this.token=o,this.index=u,this.fontStyle=E,this.foreground=K,this.background=te}}function Ot(D){if(!D||!Array.isArray(D))return[];const o=[];let u=0;for(let E=0,K=D.length;E<K;E++){const te=D[E];let ue=-1;if(typeof te.fontStyle=="string"){ue=0;const rt=te.fontStyle.split(" ");for(let ct=0,zt=rt.length;ct<zt;ct++)switch(rt[ct]){case"italic":ue=ue|1;break;case"bold":ue=ue|2;break;case"underline":ue=ue|4;break;case"strikethrough":ue=ue|8;break}}let _e=null;typeof te.foreground=="string"&&(_e=te.foreground);let je=null;typeof te.background=="string"&&(je=te.background),o[u++]=new Nt(te.token||"",E,ue,_e,je)}return o}function Vt(D,o){D.sort((ct,zt)=>{const Fn=Zn(ct.token,zt.token);return Fn!==0?Fn:ct.index-zt.index});let u=0,E="000000",K="ffffff";for(;D.length>=1&&D[0].token==="";){const ct=D.shift();ct.fontStyle!==-1&&(u=ct.fontStyle),ct.foreground!==null&&(E=ct.foreground),ct.background!==null&&(K=ct.background)}const te=new yn;for(let ct of o)te.getId(ct);const ue=te.getId(E),_e=te.getId(K),je=new pi(u,ue,_e),rt=new Ui(je);for(let ct=0,zt=D.length;ct<zt;ct++){const Fn=D[ct];rt.insert(Fn.token,Fn.fontStyle,te.getId(Fn.foreground),te.getId(Fn.background))}return new vn(te,rt)}const an=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class yn{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(o){if(o===null)return 0;const u=o.match(an);if(!u)throw new Error("Illegal value for token color: "+o);o=u[1].toUpperCase();let E=this._color2id.get(o);return E||(E=++this._lastColorId,this._color2id.set(o,E),this._id2color[E]=ml.Il.fromHex("#"+o),E)}getColorMap(){return this._id2color.slice(0)}}class vn{constructor(o,u){this._colorMap=o,this._root=u,this._cache=new Map}static createFromRawTokenTheme(o,u){return this.createFromParsedTokenTheme(Ot(o),u)}static createFromParsedTokenTheme(o,u){return Vt(o,u)}getColorMap(){return this._colorMap.getColorMap()}_match(o){return this._root.match(o)}match(o,u){let E=this._cache.get(u);if(typeof E=="undefined"){const K=this._match(u),te=Qn(u);E=(K.metadata|te<<8)>>>0,this._cache.set(u,E)}return(E|o<<0)>>>0}}const Hn=/\b(comment|string|regex|regexp)\b/;function Qn(D){const o=D.match(Hn);if(!o)return 0;switch(o[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function Zn(D,o){return D<o?-1:D>o?1:0}class pi{constructor(o,u,E){this._themeTrieElementRuleBrand=void 0,this._fontStyle=o,this._foreground=u,this._background=E,this.metadata=(this._fontStyle<<10|this._foreground<<14|this._background<<23)>>>0}clone(){return new pi(this._fontStyle,this._foreground,this._background)}acceptOverwrite(o,u,E){o!==-1&&(this._fontStyle=o),u!==0&&(this._foreground=u),E!==0&&(this._background=E),this.metadata=(this._fontStyle<<10|this._foreground<<14|this._background<<23)>>>0}}class Ui{constructor(o){this._themeTrieElementBrand=void 0,this._mainRule=o,this._children=new Map}match(o){if(o==="")return this._mainRule;const u=o.indexOf(".");let E,K;u===-1?(E=o,K=""):(E=o.substring(0,u),K=o.substring(u+1));const te=this._children.get(E);return typeof te!="undefined"?te.match(K):this._mainRule}insert(o,u,E,K){if(o===""){this._mainRule.acceptOverwrite(u,E,K);return}const te=o.indexOf(".");let ue,_e;te===-1?(ue=o,_e=""):(ue=o.substring(0,te),_e=o.substring(te+1));let je=this._children.get(ue);typeof je=="undefined"&&(je=new Ui(this._mainRule.clone()),this._children.set(ue,je)),je.insert(_e,u,E,K)}}function Wi(D){const o=[];for(let u=1,E=D.length;u<E;u++){const K=D[u];o[u]=`.mtk${u} { color: ${K}; }`}return o.push(".mtki { font-style: italic; }"),o.push(".mtkb { font-weight: bold; }"),o.push(".mtku { text-decoration: underline; text-underline-position: under; }"),o.push(".mtks { text-decoration: line-through; }"),o.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),o.join(`
`)}const di={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[cs.cvW]:"#FFFFFE",[cs.NOs]:"#000000",[cs.ES4]:"#E5EBF1",[gl.tR]:"#D3D3D3",[gl.Ym]:"#939393",[cs.Rzx]:"#ADD6FF4D"}},Ni={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[cs.cvW]:"#1E1E1E",[cs.NOs]:"#D4D4D4",[cs.ES4]:"#3A3D41",[gl.tR]:"#404040",[gl.Ym]:"#707070",[cs.Rzx]:"#ADD6FF26"}},ns={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[cs.cvW]:"#000000",[cs.NOs]:"#FFFFFF",[gl.tR]:"#FFFFFF",[gl.Ym]:"#FFFFFF"}};var qs=l(48475),Ws=l(99305);function Ys(D){const o=new z.Q5,u=(0,Ws.Ks)();return u.onDidChange(()=>o.fire()),D==null||D.onDidProductIconThemeChange(()=>o.fire()),{onDidChange:o.event,getCSS(){const E=D?D.getProductIconTheme():new As,K={},te=_e=>{const je=E.getIcon(_e);if(!je)return;const rt=je.font;return rt?(K[rt.id]=rt.definition,`.codicon-${_e.id}:before { content: '${je.fontCharacter}'; font-family: ${(0,jt._h)(rt.id)}; }`):`.codicon-${_e.id}:before { content: '${je.fontCharacter}'; }`},ue=[];for(let _e of u.getIcons()){const je=te(_e);je&&ue.push(je)}for(let _e in K){const je=K[_e],rt=je.weight?`font-weight: ${je.weight};`:"",ct=je.style?`font-style: ${je.style};`:"",zt=je.src.map(Fn=>`${(0,jt.wY)(Fn.location)} format('${Fn.format}')`).join(", ");ue.push(`@font-face { src: ${zt}; font-family: ${(0,jt._h)(_e)};${rt}${ct} font-display: block; }`)}return ue.join(`
`)}}}class As{getIcon(o){const u=(0,Ws.Ks)();let E=o.defaults;for(;rs.kS.isThemeIcon(E);){const K=u.getIcon(E.id);if(!K)return;E=K.defaults}return E}}const no="vs",No="vs-dark",ps="hc-black",Fr=tr.B.as(cs.IPX.ColorContribution),Br=tr.B.as(rs.IP.ThemingContribution);class qr{constructor(o,u){this.semanticHighlighting=!1,this.themeData=u;const E=u.base;o.length>0?(Nr(o)?this.id=o:this.id=E+" "+o,this.themeName=o):(this.id=E,this.themeName=E),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const o=new Map;for(let u in this.themeData.colors)o.set(u,ml.Il.fromHex(this.themeData.colors[u]));if(this.themeData.inherit){const u=Uo(this.themeData.base);for(let E in u.colors)o.has(E)||o.set(E,ml.Il.fromHex(u.colors[E]))}this.colors=o}return this.colors}getColor(o,u){const E=this.getColors().get(o);if(E)return E;if(u!==!1)return this.getDefault(o)}getDefault(o){let u=this.defaultColors[o];return u||(u=Fr.resolveDefaultColor(o,this),this.defaultColors[o]=u,u)}defines(o){return Object.prototype.hasOwnProperty.call(this.getColors(),o)}get type(){switch(this.base){case no:return qs.e.LIGHT;case ps:return qs.e.HIGH_CONTRAST;default:return qs.e.DARK}}get tokenTheme(){if(!this._tokenTheme){let o=[],u=[];if(this.themeData.inherit){const te=Uo(this.themeData.base);o=te.rules,te.encodedTokensColors&&(u=te.encodedTokensColors)}const E=this.themeData.colors["editor.foreground"],K=this.themeData.colors["editor.background"];if(E||K){const te={token:""};E&&(te.foreground=E),K&&(te.background=K),o.push(te)}o=o.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(u=this.themeData.encodedTokensColors),this._tokenTheme=vn.createFromRawTokenTheme(o,u)}return this._tokenTheme}getTokenStyleMetadata(o,u,E){const te=this.tokenTheme._match([o].concat(u).join(".")).metadata,ue=I.NX.getForeground(te),_e=I.NX.getFontStyle(te);return{foreground:ue,italic:Boolean(_e&1),bold:Boolean(_e&2),underline:Boolean(_e&4),strikethrough:Boolean(_e&8)}}}function Nr(D){return D===no||D===No||D===ps}function Uo(D){switch(D){case no:return di;case No:return Ni;case ps:return ns}}function Ea(D){const o=Uo(D);return new qr(D,o)}class ua extends Mt.JT{constructor(){super(),this._onColorThemeChange=this._register(new z.Q5),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new z.Q5),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new As,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(no,Ea(no)),this._knownThemes.set(No,Ea(No)),this._knownThemes.set(ps,Ea(ps));const o=Ys(this);this._codiconCSS=o.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(no),o.onDidChange(()=>{this._codiconCSS=o.getCSS(),this._updateCSS()}),jt.uB("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(o){return jt.OO(o)?this._registerShadowDomContainer(o):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=jt.dS(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),Mt.JT.None}_registerShadowDomContainer(o){const u=jt.dS(o);return u.className="monaco-colors",u.textContent=this._allCSS,this._styleElements.push(u),{dispose:()=>{for(let E=0;E<this._styleElements.length;E++)if(this._styleElements[E]===u){this._styleElements.splice(E,1);return}}}}defineTheme(o,u){if(!/^[a-z0-9\-]+$/i.test(o))throw new Error("Illegal theme name!");if(!Nr(u.base)&&!Nr(o))throw new Error("Illegal theme base!");this._knownThemes.set(o,new qr(o,u)),Nr(o)&&this._knownThemes.forEach(E=>{E.base===o&&E.notifyBaseUpdated()}),this._theme.themeName===o&&this.setTheme(o)}getColorTheme(){return this._theme}setColorMapOverride(o){this._colorMapOverride=o,this._updateThemeOrColorMap()}setTheme(o){let u;this._knownThemes.has(o)?u=this._knownThemes.get(o):u=this._knownThemes.get(no),this._desiredTheme=u,this._updateActualTheme()}_updateActualTheme(){const o=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(ps):this._desiredTheme;this._theme!==o&&(this._theme=o,this._updateThemeOrColorMap())}setAutoDetectHighContrast(o){this._autoDetectHighContrast=o,this._updateActualTheme()}_updateThemeOrColorMap(){const o=[],u={},E={addRule:ue=>{u[ue]||(o.push(ue),u[ue]=!0)}};Br.getThemingParticipants().forEach(ue=>ue(this._theme,E,this._environment));const K=[];for(const ue of Fr.getColors()){const _e=this._theme.getColor(ue.id,!0);_e&&K.push(`${(0,cs.QO2)(ue.id)}: ${_e.toString()};`)}E.addRule(`.monaco-editor { ${K.join(`
`)} }`);const te=this._colorMapOverride||this._theme.tokenTheme.getColorMap();E.addRule(Wi(te)),this._themeCSS=o.join(`
`),this._updateCSS(),I.RW.setColorMap(te),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(o=>o.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}var Fo=l(44011),Ha=function(D,o,u,E){var K=arguments.length,te=K<3?o:E===null?E=Object.getOwnPropertyDescriptor(o,u):E,ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,o,u,E);else for(var _e=D.length-1;_e>=0;_e--)(ue=D[_e])&&(te=(K<3?ue(te):K>3?ue(o,u,te):ue(o,u))||te);return K>3&&te&&Object.defineProperty(o,u,te),te},Ir=function(D,o){return function(u,E){o(u,E,D)}};let ea=class extends Mt.JT{constructor(o,u){super(),this._contextKeyService=o,this._configurationService=u,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new z.Q5,this._accessibilityModeEnabledContext=ec.U.bindTo(this._contextKeyService);const E=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(K=>{K.affectsConfiguration("editor.accessibilitySupport")&&(E(),this._onDidChangeScreenReaderOptimized.fire())})),E(),this.onDidChangeScreenReaderOptimized(()=>E())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const o=this._configurationService.getValue("editor.accessibilitySupport");return o==="on"||o==="auto"&&this._accessibilitySupport===2}getAccessibilitySupport(){return this._accessibilitySupport}};ea=Ha([Ir(0,ls.i6),Ir(1,$s.Ui)],ea);var sr=l(56878),Da=function(D,o,u,E){var K=arguments.length,te=K<3?o:E===null?E=Object.getOwnPropertyDescriptor(o,u):E,ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,o,u,E);else for(var _e=D.length-1;_e>=0;_e--)(ue=D[_e])&&(te=(K<3?ue(te):K>3?ue(o,u,te):ue(o,u))||te);return K>3&&te&&Object.defineProperty(o,u,te),te},xa=function(D,o){return function(u,E){o(u,E,D)}};let ss=class{constructor(o){this._commandService=o}createMenu(o,u,E){return new or(o,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},E),this._commandService,u,this)}};ss=Da([xa(0,mi.Hy)],ss);let or=class uf{constructor(o,u,E,K,te){this._id=o,this._options=u,this._commandService=E,this._contextKeyService=K,this._menuService=te,this._disposables=new Mt.SL,this._menuGroups=[],this._contextKeys=new Set,this._build();const ue=new Tt.pY(()=>{this._build(),this._onDidChange.fire(this)},u.eventDebounceDelay);this._disposables.add(ue),this._disposables.add(sr.BH.onDidChangeMenu(rt=>{rt.has(o)&&ue.schedule()}));const _e=this._disposables.add(new Mt.SL),je=()=>{const rt=new Tt.pY(()=>this._onDidChange.fire(this),u.eventDebounceDelay);_e.add(rt),_e.add(K.onDidChangeContext(ct=>{ct.affectsSome(this._contextKeys)&&rt.schedule()}))};this._onDidChange=new z.Q5({onFirstListenerAdd:je,onLastListenerRemove:_e.clear.bind(_e)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const o=sr.BH.getMenuItems(this._id);let u;o.sort(uf._compareMenuItems);for(const E of o){const K=E.group||"";(!u||u[0]!==K)&&(u=[K,[]],this._menuGroups.push(u)),u[1].push(E),this._collectContextKeys(E)}}_collectContextKeys(o){if(uf._fillInKbExprKeys(o.when,this._contextKeys),(0,sr.vr)(o)){if(o.command.precondition&&uf._fillInKbExprKeys(o.command.precondition,this._contextKeys),o.command.toggled){const u=o.command.toggled.condition||o.command.toggled;uf._fillInKbExprKeys(u,this._contextKeys)}}else this._options.emitEventsForSubmenuChanges&&sr.BH.getMenuItems(o.submenu).forEach(this._collectContextKeys,this)}getActions(o){const u=[];for(let E of this._menuGroups){const[K,te]=E,ue=[];for(const _e of te)if(this._contextKeyService.contextMatchesRules(_e.when)){const je=(0,sr.vr)(_e)?new sr.U8(_e.command,_e.alt,o,this._contextKeyService,this._commandService):new sr.NZ(_e,this._menuService,this._contextKeyService,o);ue.push(je)}ue.length>0&&u.push([K,ue])}return u}static _fillInKbExprKeys(o,u){if(o)for(let E of o.keys())u.add(E)}static _compareMenuItems(o,u){let E=o.group,K=u.group;if(E!==K){if(E){if(!K)return-1}else return 1;if(E==="navigation")return-1;if(K==="navigation")return 1;let _e=E.localeCompare(K);if(_e!==0)return _e}let te=o.order||0,ue=u.order||0;return te<ue?-1:te>ue?1:uf._compareTitles((0,sr.vr)(o)?o.command.title:o.title,(0,sr.vr)(u)?u.command.title:u.title)}static _compareTitles(o,u){const E=typeof o=="string"?o:o.original,K=typeof u=="string"?u:u.original;return E.localeCompare(K)}};or=Da([xa(2,mi.Hy),xa(3,ls.i6),xa(4,sr.co)],or);var Nu=function(D,o,u,E){var K=arguments.length,te=K<3?o:E===null?E=Object.getOwnPropertyDescriptor(o,u):E,ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,o,u,E);else for(var _e=D.length-1;_e>=0;_e--)(ue=D[_e])&&(te=(K<3?ue(te):K>3?ue(o,u,te):ue(o,u))||te);return K>3&&te&&Object.defineProperty(o,u,te),te},cr=function(D,o){return function(u,E){o(u,E,D)}},Bo=function(D,o,u,E){function K(te){return te instanceof u?te:new u(function(ue){ue(te)})}return new(u||(u=Promise))(function(te,ue){function _e(ct){try{rt(E.next(ct))}catch(zt){ue(zt)}}function je(ct){try{rt(E.throw(ct))}catch(zt){ue(zt)}}function rt(ct){ct.done?te(ct.value):K(ct.value).then(_e,je)}rt((E=E.apply(D,o||[])).next())})};let Qo=class extends Mt.JT{constructor(o,u){super(),this.layoutService=o,this.logService=u,this.mapTextToType=new Map,this.findText="",(v.isSafari||v.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const o=()=>{const u=new Tt.CR;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=u,navigator.clipboard.write([new ClipboardItem({"text/plain":u.p})]).catch(E=>Bo(this,void 0,void 0,function*(){(!(E instanceof Error)||E.name!=="NotAllowedError"||!u.isRejected)&&this.logService.error(E)}))};this.layoutService.hasContainer&&(this._register((0,jt.nm)(this.layoutService.container,"click",o)),this._register((0,jt.nm)(this.layoutService.container,"keydown",o)))}writeText(o,u){return Bo(this,void 0,void 0,function*(){if(u){this.mapTextToType.set(u,o);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(o);try{return yield navigator.clipboard.writeText(o)}catch(te){console.error(te)}const E=document.activeElement,K=document.body.appendChild((0,jt.$)("textarea",{"aria-hidden":!0}));K.style.height="1px",K.style.width="1px",K.style.position="absolute",K.value=o,K.focus(),K.select(),document.execCommand("copy"),E instanceof HTMLElement&&E.focus(),document.body.removeChild(K)})}readText(o){return Bo(this,void 0,void 0,function*(){if(o)return this.mapTextToType.get(o)||"";try{return yield navigator.clipboard.readText()}catch(u){return console.error(u),""}})}readFindText(){return Bo(this,void 0,void 0,function*(){return this.findText})}writeFindText(o){return Bo(this,void 0,void 0,function*(){this.findText=o})}};Qo=Nu([cr(0,us),cr(1,hi.VZ)],Qo);var dr=l(83410),Wr=l(80050),tl=function(D,o,u,E){var K=arguments.length,te=K<3?o:E===null?E=Object.getOwnPropertyDescriptor(o,u):E,ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,o,u,E);else for(var _e=D.length-1;_e>=0;_e--)(ue=D[_e])&&(te=(K<3?ue(te):K>3?ue(o,u,te):ue(o,u))||te);return K>3&&te&&Object.defineProperty(o,u,te),te},ha=function(D,o){return function(u,E){o(u,E,D)}};const To="data-keybinding-context";class Vr{constructor(o,u){this._id=o,this._parent=u,this._value=Object.create(null),this._value._contextId=o}setValue(o,u){return this._value[o]!==u?(this._value[o]=u,!0):!1}removeValue(o){return o in this._value?(delete this._value[o],!0):!1}getValue(o){const u=this._value[o];return typeof u=="undefined"&&this._parent?this._parent.getValue(o):u}}class rr extends Vr{constructor(){super(-1,null)}setValue(o,u){return!1}removeValue(o){return!1}getValue(o){}}rr.INSTANCE=new rr;class Na extends Vr{constructor(o,u,E){super(o,null),this._configurationService=u,this._values=xs.Id.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(K=>{if(K.source===6){const te=Array.from(Wr.$.map(this._values,([ue])=>ue));this._values.clear(),E.fire(new Ia(te))}else{const te=[];for(const ue of K.affectedKeys){const _e=`config.${ue}`,je=this._values.findSuperstr(_e);je!==void 0&&(te.push(...Wr.$.map(je,([rt])=>rt)),this._values.deleteSuperstr(_e)),this._values.has(_e)&&(te.push(_e),this._values.delete(_e))}E.fire(new Ia(te))}})}dispose(){this._listener.dispose()}getValue(o){if(o.indexOf(Na._keyPrefix)!==0)return super.getValue(o);if(this._values.has(o))return this._values.get(o);const u=o.substr(Na._keyPrefix.length),E=this._configurationService.getValue(u);let K;switch(typeof E){case"number":case"boolean":case"string":K=E;break;default:Array.isArray(E)?K=JSON.stringify(E):K=E}return this._values.set(o,K),K}setValue(o,u){return super.setValue(o,u)}removeValue(o){return super.removeValue(o)}}Na._keyPrefix="config.";class Cl{constructor(o,u,E){this._service=o,this._key=u,this._defaultValue=E,this.reset()}set(o){this._service.setContext(this._key,o)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class fa{constructor(o){this.key=o}affectsSome(o){return o.has(this.key)}}class Ia{constructor(o){this.keys=o}affectsSome(o){for(const u of this.keys)if(o.has(u))return!0;return!1}}class Hr{constructor(o){this.events=o}affectsSome(o){for(const u of this.events)if(u.affectsSome(o))return!0;return!1}}class Dc{constructor(o){this._onDidChangeContext=new z.K3({merge:u=>new Hr(u)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=o}createKey(o,u){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Cl(this,o,u)}bufferChangeEvents(o){this._onDidChangeContext.pause();try{o()}finally{this._onDidChangeContext.resume()}}createScoped(o){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new fh(this,o)}contextMatchesRules(o){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const u=this.getContextValuesContainer(this._myContextId);return o?o.evaluate(u):!0}getContextKeyValue(o){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(o)}setContext(o,u){if(this._isDisposed)return;const E=this.getContextValuesContainer(this._myContextId);!E||E.setValue(o,u)&&this._onDidChangeContext.fire(new fa(o))}removeContext(o){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(o)&&this._onDidChangeContext.fire(new fa(o))}getContext(o){return this._isDisposed?rr.INSTANCE:this.getContextValuesContainer(ld(o))}}let xc=class extends Dc{constructor(o){super(0),this._contexts=new Map,this._toDispose=new Mt.SL,this._lastContextId=0;const u=new Na(this._myContextId,o,this._onDidChangeContext);this._contexts.set(this._myContextId,u),this._toDispose.add(u)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(o){return this._isDisposed?rr.INSTANCE:this._contexts.get(o)||rr.INSTANCE}createChildContext(o=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let u=++this._lastContextId;return this._contexts.set(u,new Vr(u,this.getContextValuesContainer(o))),u}disposeContext(o){this._isDisposed||this._contexts.delete(o)}};xc=tl([ha(0,$s.Ui)],xc);class fh extends Dc{constructor(o,u){if(super(o.createChildContext()),this._parentChangeListener=new Mt.XK,this._parent=o,this._updateParentChangeListener(),this._domNode=u,this._domNode.hasAttribute(To)){let E="";this._domNode.classList&&(E=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${E?": "+E:""}`)}this._domNode.setAttribute(To,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(To),this._isDisposed=!0)}getContextValuesContainer(o){return this._isDisposed?rr.INSTANCE:this._parent.getContextValuesContainer(o)}createChildContext(o=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(o)}disposeContext(o){this._isDisposed||this._parent.disposeContext(o)}}function ld(D){for(;D;){if(D.hasAttribute(To)){const o=D.getAttribute(To);return o?parseInt(o,10):NaN}D=D.parentElement}return 0}mi.P0.registerCommand(ls.Eq,function(D,o,u){D.get(ls.i6).createKey(String(o),u)}),mi.P0.registerCommand({id:"getContextKeyInfo",handler(){return[...ls.uy.all()].sort((D,o)=>D.key.localeCompare(o.key))},description:{description:(0,xi.N)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),mi.P0.registerCommand("_generateContextKeyInfo",function(){const D=[],o=new Set;for(let u of ls.uy.all())o.has(u.key)||(o.add(u.key),D.push(u));D.sort((u,E)=>u.key.localeCompare(E.key)),console.log(JSON.stringify(D,void 0,2))});var zr=l(22069);class Ol{constructor(o){this.incoming=new Map,this.outgoing=new Map,this.data=o}}class Nc{constructor(o){this._hashFn=o,this._nodes=new Map}roots(){const o=[];for(let u of this._nodes.values())u.outgoing.size===0&&o.push(u);return o}insertEdge(o,u){const E=this.lookupOrInsertNode(o),K=this.lookupOrInsertNode(u);E.outgoing.set(this._hashFn(u),K),K.incoming.set(this._hashFn(o),E)}removeNode(o){const u=this._hashFn(o);this._nodes.delete(u);for(let E of this._nodes.values())E.outgoing.delete(u),E.incoming.delete(u)}lookupOrInsertNode(o){const u=this._hashFn(o);let E=this._nodes.get(u);return E||(E=new Ol(o),this._nodes.set(u,E)),E}isEmpty(){return this._nodes.size===0}toString(){let o=[];for(let[u,E]of this._nodes)o.push(`${u}, (incoming)[${[...E.incoming.keys()].join(", ")}], (outgoing)[${[...E.outgoing.keys()].join(",")}]`);return o.join(`
`)}findCycleSlow(){for(let[o,u]of this._nodes){const E=new Set([o]),K=this._findCycle(u,E);if(K)return K}}_findCycle(o,u){for(let[E,K]of o.outgoing){if(u.has(E))return[...u,E].join(" -> ");u.add(E);const te=this._findCycle(K,u);if(te)return te;u.delete(E)}}}var gh=l(85549);const Bd=!1;class cd extends Error{constructor(o){var u;super("cyclic dependency between services"),this.message=(u=o.findCycleSlow())!==null&&u!==void 0?u:`UNABLE to detect cycle, dumping graph: 
${o.toString()}`}}class Wd{constructor(o=new gh.y,u=!1,E){this._activeInstantiations=new Set,this._services=o,this._strict=u,this._parent=E,this._services.set(Io.TG,this)}createChild(o){return new Wd(o,this._strict,this)}invokeFunction(o,...u){let E=ta.traceInvocation(o),K=!1;try{return o({get:ue=>{if(K)throw(0,gt.L6)("service accessor is only valid during the invocation of its target method");const _e=this._getOrCreateServiceInstance(ue,E);if(!_e)throw new Error(`[invokeFunction] unknown service '${ue}'`);return _e}},...u)}finally{K=!0,E.stop()}}createInstance(o,...u){let E,K;return o instanceof zr.M?(E=ta.traceCreation(o.ctor),K=this._createInstance(o.ctor,o.staticArguments.concat(u),E)):(E=ta.traceCreation(o),K=this._createInstance(o,u,E)),E.stop(),K}_createInstance(o,u=[],E){let K=Io.I8.getServiceDependencies(o).sort((_e,je)=>_e.index-je.index),te=[];for(const _e of K){let je=this._getOrCreateServiceInstance(_e.id,E);je||this._throwIfStrict(`[createInstance] ${o.name} depends on UNKNOWN service ${_e.id}.`,!1),te.push(je)}let ue=K.length>0?K[0].index:u.length;if(u.length!==ue){console.warn(`[createInstance] First service dependency of ${o.name} at position ${ue+1} conflicts with ${u.length} static arguments`);let _e=ue-u.length;_e>0?u=u.concat(new Array(_e)):u=u.slice(0,ue)}return new o(...u,...te)}_setServiceInstance(o,u){if(this._services.get(o)instanceof zr.M)this._services.set(o,u);else if(this._parent)this._parent._setServiceInstance(o,u);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(o){let u=this._services.get(o);return!u&&this._parent?this._parent._getServiceInstanceOrDescriptor(o):u}_getOrCreateServiceInstance(o,u){let E=this._getServiceInstanceOrDescriptor(o);return E instanceof zr.M?this._safeCreateAndCacheServiceInstance(o,E,u.branch(o,!0)):(u.branch(o,!1),E)}_safeCreateAndCacheServiceInstance(o,u,E){if(this._activeInstantiations.has(o))throw new Error(`illegal state - RECURSIVELY instantiating service '${o}'`);this._activeInstantiations.add(o);try{return this._createAndCacheServiceInstance(o,u,E)}finally{this._activeInstantiations.delete(o)}}_createAndCacheServiceInstance(o,u,E){const K=new Nc(_e=>_e.id.toString());let te=0;const ue=[{id:o,desc:u,_trace:E}];for(;ue.length;){const _e=ue.pop();if(K.lookupOrInsertNode(_e),te++>1e3)throw new cd(K);for(let je of Io.I8.getServiceDependencies(_e.desc.ctor)){let rt=this._getServiceInstanceOrDescriptor(je.id);if(rt||this._throwIfStrict(`[createInstance] ${o} depends on ${je.id} which is NOT registered.`,!0),rt instanceof zr.M){const ct={id:je.id,desc:rt,_trace:_e._trace.branch(je.id,!0)};K.insertEdge(_e,ct),ue.push(ct)}}}for(;;){const _e=K.roots();if(_e.length===0){if(!K.isEmpty())throw new cd(K);break}for(const{data:je}of _e){if(this._getServiceInstanceOrDescriptor(je.id)instanceof zr.M){const ct=this._createServiceInstanceWithOwner(je.id,je.desc.ctor,je.desc.staticArguments,je.desc.supportsDelayedInstantiation,je._trace);this._setServiceInstance(je.id,ct)}K.removeNode(je)}}return this._getServiceInstanceOrDescriptor(o)}_createServiceInstanceWithOwner(o,u,E=[],K,te){if(this._services.get(o)instanceof zr.M)return this._createServiceInstance(u,E,K,te);if(this._parent)return this._parent._createServiceInstanceWithOwner(o,u,E,K,te);throw new Error(`illegalState - creating UNKNOWN service instance ${u.name}`)}_createServiceInstance(o,u=[],E,K){if(E){const te=new Tt.Ue(()=>this._createInstance(o,u,K));return new Proxy(Object.create(null),{get(ue,_e){if(_e in ue)return ue[_e];let je=te.value,rt=je[_e];return typeof rt!="function"||(rt=rt.bind(je),ue[_e]=rt),rt},set(ue,_e,je){return te.value[_e]=je,!0}})}else return this._createInstance(o,u,K)}_throwIfStrict(o,u){if(u&&console.warn(u),this._strict)throw new Error(o)}}class ta{constructor(o,u){this.type=o,this.name=u,this._start=Date.now(),this._dep=[]}static traceInvocation(o){return Bd?new ta(1,o.name||o.toString().substring(0,42).replace(/\n/g,"")):ta._None}static traceCreation(o){return Bd?new ta(0,o.name):ta._None}branch(o,u){let E=new ta(2,o.toString());return this._dep.push([o,u,E]),E}stop(){let o=Date.now()-this._start;ta._totals+=o;let u=!1;function E(te,ue){let _e=[],je=new Array(te+1).join("	");for(const[rt,ct,zt]of ue._dep)if(ct&&zt){u=!0,_e.push(`${je}CREATES -> ${rt}`);let Fn=E(te+1,zt);Fn&&_e.push(Fn)}else _e.push(`${je}uses -> ${rt}`);return _e.join(`
`)}let K=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${E(1,this)}`,`DONE, took ${o.toFixed(2)}ms (grand total ${ta._totals.toFixed(2)}ms)`];(o>2||u)&&console.log(K.join(`
`))}}ta._None=new class extends ta{constructor(){super(-1,null)}stop(){}branch(){return this}},ta._totals=0;class mf{constructor(){this._byResource=new xs.Y9,this._byOwner=new Map}set(o,u,E){let K=this._byResource.get(o);K||(K=new Map,this._byResource.set(o,K)),K.set(u,E);let te=this._byOwner.get(u);te||(te=new xs.Y9,this._byOwner.set(u,te)),te.set(o,E)}get(o,u){let E=this._byResource.get(o);return E==null?void 0:E.get(u)}delete(o,u){let E=!1,K=!1,te=this._byResource.get(o);te&&(E=te.delete(u));let ue=this._byOwner.get(u);if(ue&&(K=ue.delete(o)),E!==K)throw new Error("illegal state");return E&&K}values(o){var u,E,K,te;return typeof o=="string"?(E=(u=this._byOwner.get(o))===null||u===void 0?void 0:u.values())!==null&&E!==void 0?E:Wr.$.empty():y.o.isUri(o)?(te=(K=this._byResource.get(o))===null||K===void 0?void 0:K.values())!==null&&te!==void 0?te:Wr.$.empty():Wr.$.map(Wr.$.concat(...this._byOwner.values()),ue=>ue[1])}}class vr{constructor(o){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new xs.Y9,this._service=o,this._subscription=o.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(o){for(const u of o){const E=this._data.get(u);E&&this._substract(E);const K=this._resourceStats(u);this._add(K),this._data.set(u,K)}}_resourceStats(o){const u={errors:0,warnings:0,infos:0,unknowns:0};if(o.scheme===vi.lg.inMemory||o.scheme===vi.lg.walkThrough||o.scheme===vi.lg.walkThroughSnippet)return u;for(const{severity:E}of this._service.read({resource:o}))E===xr.ZL.Error?u.errors+=1:E===xr.ZL.Warning?u.warnings+=1:E===xr.ZL.Info?u.infos+=1:u.unknowns+=1;return u}_substract(o){this.errors-=o.errors,this.warnings-=o.warnings,this.infos-=o.infos,this.unknowns-=o.unknowns}_add(o){this.errors+=o.errors,this.warnings+=o.warnings,this.infos+=o.infos,this.unknowns+=o.unknowns}}class jo{constructor(){this._onMarkerChanged=new z.D0({delay:0,merge:jo._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new mf,this._stats=new vr(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(o,u){for(const E of u||[])this.changeOne(o,E,[])}changeOne(o,u,E){if((0,bn.XY)(E))this._data.delete(u,o)&&this._onMarkerChanged.fire([u]);else{const K=[];for(const te of E){const ue=jo._toMarker(o,u,te);ue&&K.push(ue)}this._data.set(u,o,K),this._onMarkerChanged.fire([u])}}static _toMarker(o,u,E){let{code:K,severity:te,message:ue,source:_e,startLineNumber:je,startColumn:rt,endLineNumber:ct,endColumn:zt,relatedInformation:Fn,tags:ii}=E;if(!!ue)return je=je>0?je:1,rt=rt>0?rt:1,ct=ct>=je?ct:je,zt=zt>0?zt:rt,{resource:u,owner:o,code:K,severity:te,message:ue,source:_e,startLineNumber:je,startColumn:rt,endLineNumber:ct,endColumn:zt,relatedInformation:Fn,tags:ii}}read(o=Object.create(null)){let{owner:u,resource:E,severities:K,take:te}=o;if((!te||te<0)&&(te=-1),u&&E){const ue=this._data.get(E,u);if(ue){const _e=[];for(const je of ue)if(jo._accept(je,K)){const rt=_e.push(je);if(te>0&&rt===te)break}return _e}else return[]}else if(!u&&!E){const ue=[];for(let _e of this._data.values())for(let je of _e)if(jo._accept(je,K)){const rt=ue.push(je);if(te>0&&rt===te)return ue}return ue}else{const ue=this._data.values(E!=null?E:u),_e=[];for(const je of ue)for(const rt of je)if(jo._accept(rt,K)){const ct=_e.push(rt);if(te>0&&ct===te)return _e}return _e}}static _accept(o,u){return u===void 0||(u&o.severity)===o.severity}static _merge(o){const u=new xs.Y9;for(let E of o)for(let K of E)u.set(K,!0);return Array.from(u.keys())}}var mh=l(99371);function Iu(D,o,u,E,K){if(Array.isArray(D)){let te=0;for(const ue of D){const _e=Iu(ue,o,u,E,K);if(_e===10)return _e;_e>te&&(te=_e)}return te}else{if(typeof D=="string")return E?D==="*"?5:D===u?10:0:0;if(D){const{language:te,pattern:ue,scheme:_e,hasAccessToAllModels:je,notebookType:rt}=D;if(!E&&!je)return 0;let ct=0;if(_e)if(_e===o.scheme)ct=10;else if(_e==="*")ct=5;else return 0;if(te)if(te===u)ct=10;else if(te==="*")ct=Math.max(ct,5);else return 0;if(rt)if(rt===K)ct=10;else if(rt==="*")ct=Math.max(ct,5);else return 0;if(ue){let zt;if(typeof ue=="string"?zt=ue:zt=Object.assign(Object.assign({},ue),{base:(0,ra.Fv)(ue.base)}),zt===o.fsPath||Qc(zt,o.fsPath))ct=10;else return 0}return ct}else return 0}}function Ic(D){return typeof D=="string"?!1:Array.isArray(D)?D.every(Ic):!!D.exclusive}class mo{constructor(o){this._notebookTypeResolver=o,this._clock=0,this._entries=[],this._onDidChange=new z.Q5,this.onDidChange=this._onDidChange.event}register(o,u){let E={selector:o,provider:u,_score:-1,_time:this._clock++};return this._entries.push(E),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,Mt.OF)(()=>{if(E){const K=this._entries.indexOf(E);K>=0&&(this._entries.splice(K,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),E=void 0)}})}has(o){return this.all(o).length>0}all(o){if(!o)return[];this._updateScores(o);const u=[];for(let E of this._entries)E._score>0&&u.push(E.provider);return u}ordered(o){const u=[];return this._orderedForEach(o,E=>u.push(E.provider)),u}orderedGroups(o){const u=[];let E,K;return this._orderedForEach(o,te=>{E&&K===te._score?E.push(te.provider):(K=te._score,E=[te.provider],u.push(E))}),u}_orderedForEach(o,u){if(!!o){this._updateScores(o);for(const E of this._entries)E._score>0&&u(E)}}_updateScores(o){var u;const E=(u=this._notebookTypeResolver)===null||u===void 0?void 0:u.call(this,o.uri),K={uri:o.uri.toString(),language:o.getLanguageId(),notebookType:E};if(!(this._lastCandidate&&this._lastCandidate.language===K.language&&this._lastCandidate.uri===K.uri&&this._lastCandidate.notebookType===K.notebookType)){this._lastCandidate=K;for(let te of this._entries)if(te._score=Iu(te.selector,o.uri,o.getLanguageId(),(0,Ze.pt)(o),E),Ic(te.selector)&&te._score>0){for(let ue of this._entries)ue._score=0;te._score=1e3;break}this._entries.sort(mo._compareByScoreAndTime)}}static _compareByScoreAndTime(o,u){return o._score<u._score?1:o._score>u._score?-1:o._time<u._time?1:o._time>u._time?-1:0}}class pf{constructor(){this.referenceProvider=new mo(this._score.bind(this)),this.renameProvider=new mo(this._score.bind(this)),this.codeActionProvider=new mo(this._score.bind(this)),this.definitionProvider=new mo(this._score.bind(this)),this.typeDefinitionProvider=new mo(this._score.bind(this)),this.declarationProvider=new mo(this._score.bind(this)),this.implementationProvider=new mo(this._score.bind(this)),this.documentSymbolProvider=new mo(this._score.bind(this)),this.inlayHintsProvider=new mo(this._score.bind(this)),this.colorProvider=new mo(this._score.bind(this)),this.codeLensProvider=new mo(this._score.bind(this)),this.documentFormattingEditProvider=new mo(this._score.bind(this)),this.documentRangeFormattingEditProvider=new mo(this._score.bind(this)),this.onTypeFormattingEditProvider=new mo(this._score.bind(this)),this.signatureHelpProvider=new mo(this._score.bind(this)),this.hoverProvider=new mo(this._score.bind(this)),this.documentHighlightProvider=new mo(this._score.bind(this)),this.selectionRangeProvider=new mo(this._score.bind(this)),this.foldingRangeProvider=new mo(this._score.bind(this)),this.linkProvider=new mo(this._score.bind(this)),this.inlineCompletionsProvider=new mo(this._score.bind(this)),this.completionProvider=new mo(this._score.bind(this)),this.linkedEditingRangeProvider=new mo(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new mo(this._score.bind(this)),this.documentSemanticTokensProvider=new mo(this._score.bind(this))}_score(o){var u;return(u=this._notebookTypeResolver)===null||u===void 0?void 0:u.call(this,o)}}(0,zi.z)(En.p,pf,!0);var nl=function(D,o,u,E){var K=arguments.length,te=K<3?o:E===null?E=Object.getOwnPropertyDescriptor(o,u):E,ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,o,u,E);else for(var _e=D.length-1;_e>=0;_e--)(ue=D[_e])&&(te=(K<3?ue(te):K>3?ue(o,u,te):ue(o,u))||te);return K>3&&te&&Object.defineProperty(o,u,te),te},Ko=function(D,o){return function(u,E){o(u,E,D)}},Fl=function(D,o,u,E){function K(te){return te instanceof u?te:new u(function(ue){ue(te)})}return new(u||(u=Promise))(function(te,ue){function _e(ct){try{rt(E.next(ct))}catch(zt){ue(zt)}}function je(ct){try{rt(E.throw(ct))}catch(zt){ue(zt)}}function rt(ct){ct.done?te(ct.value):K(ct.value).then(_e,je)}rt((E=E.apply(D,o||[])).next())})};class na{constructor(o){this.disposed=!1,this.model=o,this._onWillDispose=new z.Q5}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let Ur=class{constructor(o){this.modelService=o}createModelReference(o){const u=this.modelService.getModel(o);return u?Promise.resolve(new Mt.Jz(new na(u))):Promise.reject(new Error("Model not found"))}};Ur=nl([Ko(0,at.q)],Ur);class sc{show(){return sc.NULL_PROGRESS_RUNNER}showWhile(o,u){return Fl(this,void 0,void 0,function*(){yield o})}}sc.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class Tu{confirm(o){return this.doConfirm(o).then(u=>({confirmed:u,checkboxChecked:!1}))}doConfirm(o){let u=o.message;return o.detail&&(u=u+`

`+o.detail),Promise.resolve(window.confirm(u))}show(o,u,E,K){return Promise.resolve({choice:0})}}class Cr{info(o){return this.notify({severity:Eo.Z.Info,message:o})}warn(o){return this.notify({severity:Eo.Z.Warning,message:o})}error(o){return this.notify({severity:Eo.Z.Error,message:o})}notify(o){switch(o.severity){case Eo.Z.Error:console.error(o.message);break;case Eo.Z.Warning:console.warn(o.message);break;default:console.log(o.message);break}return Cr.NO_OP}status(o,u){return Mt.JT.None}}Cr.NO_OP=new Ae.EO;let dd=class{constructor(o){this._onWillExecuteCommand=new z.Q5,this._onDidExecuteCommand=new z.Q5,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=o}executeCommand(o,...u){const E=mi.P0.getCommand(o);if(!E)return Promise.reject(new Error(`command '${o}' not found`));try{this._onWillExecuteCommand.fire({commandId:o,args:u});const K=this._instantiationService.invokeFunction.apply(this._instantiationService,[E.handler,...u]);return this._onDidExecuteCommand.fire({commandId:o,args:u}),Promise.resolve(K)}catch(K){return Promise.reject(K)}}};dd=nl([Ko(0,Io.TG)],dd);let ga=class extends Cs{constructor(o,u,E,K,te,ue){super(o,u,E,K,te),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const _e=ii=>{const Ti=new Mt.SL;Ti.add(jt.nm(ii,jt.tw.KEY_DOWN,Es=>{const hs=new Yo.y(Es);this._dispatch(hs,hs.target)&&(hs.preventDefault(),hs.stopPropagation())})),Ti.add(jt.nm(ii,jt.tw.KEY_UP,Es=>{const hs=new Yo.y(Es);this._singleModifierDispatch(hs,hs.target)&&hs.preventDefault()})),this._domNodeListeners.push(new Tc(ii,Ti))},je=ii=>{for(let Ti=0;Ti<this._domNodeListeners.length;Ti++){const Es=this._domNodeListeners[Ti];Es.domNode===ii&&(this._domNodeListeners.splice(Ti,1),Es.dispose())}},rt=ii=>{ii.getOption(54)||_e(ii.getContainerDomNode())},ct=ii=>{ii.getOption(54)||je(ii.getContainerDomNode())};this._register(ue.onCodeEditorAdd(rt)),this._register(ue.onCodeEditorRemove(ct)),ue.listCodeEditors().forEach(rt);const zt=ii=>{_e(ii.getContainerDomNode())},Fn=ii=>{je(ii.getContainerDomNode())};this._register(ue.onDiffEditorAdd(zt)),this._register(ue.onDiffEditorRemove(Fn)),ue.listDiffEditors().forEach(zt)}addDynamicKeybinding(o,u,E,K){const te=(0,pr.gm)(u,Rt.OS),ue=new Mt.SL;return te&&(this._dynamicKeybindings.push({keybinding:te.parts,command:o,when:K,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),ue.add((0,Mt.OF)(()=>{for(let _e=0;_e<this._dynamicKeybindings.length;_e++)if(this._dynamicKeybindings[_e].command===o){this._dynamicKeybindings.splice(_e,1),this.updateResolver({source:1});return}}))),ue.add(mi.P0.registerCommand(o,E)),this.updateResolver({source:1}),ue}updateResolver(o){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(o)}_getResolver(){if(!this._cachedResolver){const o=this._toNormalizedKeybindingItems(Ga.W.getDefaultKeybindings(),!0),u=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new js(o,u,E=>this._log(E))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(o,u){const E=[];let K=0;for(const te of o){const ue=te.when||void 0,_e=te.keybinding;if(!_e)E[K++]=new jc(void 0,te.command,te.commandArgs,ue,u,null,!1);else{const je=_r.resolveUserBinding(_e,Rt.OS);for(const rt of je)E[K++]=new jc(rt,te.command,te.commandArgs,ue,u,null,!1)}}return E}resolveKeyboardEvent(o){const u=new pr.QC(o.ctrlKey,o.shiftKey,o.altKey,o.metaKey,o.keyCode).toChord();return new _r(u,Rt.OS)}};ga=nl([Ko(0,ls.i6),Ko(1,mi.Hy),Ko(2,Za.b),Ko(3,Ae.lT),Ko(4,hi.VZ),Ko(5,Te.$)],ga);class Tc extends Mt.JT{constructor(o,u){super(),this.domNode=o,this._register(u)}}function Vs(D){return D&&typeof D=="object"&&(!D.overrideIdentifier||typeof D.overrideIdentifier=="string")&&(!D.resource||D.resource instanceof y.o)}class Mc{constructor(){this._onDidChangeConfiguration=new z.Q5,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new Qr(new fc,new oo)}getValue(o,u){const E=typeof o=="string"?o:void 0,K=Vs(o)?o:Vs(u)?u:{};return this._configuration.getValue(E,K,void 0)}updateValues(o){const u={data:this._configuration.toData()},E=[];for(const K of o){const[te,ue]=K;this.getValue(te)!==ue&&(this._configuration.updateValue(te,ue),E.push(te))}if(E.length>0){const K=new Ei({keys:E,overrides:[]},u,this._configuration);K.source=7,K.sourceConfig=null,this._onDidChangeConfiguration.fire(K)}return Promise.resolve()}updateValue(o,u,E,K){return this.updateValues([[o,u]])}inspect(o,u={}){return this._configuration.inspect(o,u,void 0)}}let Vd=class{constructor(o){this.configurationService=o,this._onDidChangeConfiguration=new z.Q5,this.configurationService.onDidChangeConfiguration(u=>{this._onDidChangeConfiguration.fire({affectedKeys:u.affectedKeys,affectsConfiguration:(E,K)=>u.affectsConfiguration(K)})})}getValue(o,u,E){const te=(W.L.isIPosition(u)?u:null)?typeof E=="string"?E:void 0:typeof u=="string"?u:void 0;return typeof te=="undefined"?this.configurationService.getValue():this.configurationService.getValue(te)}};Vd=nl([Ko(0,$s.Ui)],Vd);let ph=class{constructor(o){this.configurationService=o}getEOL(o,u){const E=this.configurationService.getValue("files.eol",{overrideIdentifier:u,resource:o});return E&&typeof E=="string"&&E!=="auto"?E:Rt.IJ||Rt.dz?`
`:`\r
`}};ph=nl([Ko(0,$s.Ui)],ph);class _f{publicLog(o,u){return Promise.resolve(void 0)}publicLog2(o,u){return this.publicLog(o,u)}}class Hd{constructor(){const o=y.o.from({scheme:Hd.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new Kl.md({uri:o,name:"",index:0})]}}getWorkspace(){return this.workspace}}Hd.SCHEME="inmemory";function _h(D,o,u){if(!o||!(D instanceof Mc))return;const E=[];Object.keys(o).forEach(K=>{El(K)&&E.push([`editor.${K}`,o[K]]),u&&cl(K)&&E.push([`diffEditor.${K}`,o[K]])}),E.length>0&&D.updateValues(E)}let Mu=class{constructor(o){this._modelService=o}hasPreviewHandler(){return!1}apply(o,u){return Fl(this,void 0,void 0,function*(){const E=new Map;for(let ue of o){if(!(ue instanceof sa.Gl))throw new Error("bad edit - only text edits are supported");const _e=this._modelService.getModel(ue.resource);if(!_e)throw new Error("bad edit - model not found");if(typeof ue.versionId=="number"&&_e.getVersionId()!==ue.versionId)throw new Error("bad state - model changed in the meantime");let je=E.get(_e);je||(je=[],E.set(_e,je)),je.push(Ca.h.replaceMove(A.e.lift(ue.textEdit.range),ue.textEdit.text))}let K=0,te=0;for(const[ue,_e]of E)ue.pushStackElement(),ue.pushEditOperations([],_e,()=>[]),ue.pushStackElement(),te+=1,K+=_e.length;return{ariaSummary:Ut.WU(Dl.iN.bulkEditServiceSummary,K,te)}})}};Mu=nl([Ko(0,at.q)],Mu);class np{getUriLabel(o,u){return o.scheme==="file"?o.fsPath:o.path}}let vh=class extends wa{constructor(o,u){super(o),this._codeEditorService=u}showContextView(o,u,E){if(!u){const K=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();K&&(u=K.getContainerDomNode())}return super.showContextView(o,u,E)}};vh=nl([Ko(0,us),Ko(1,Te.$)],vh);class Cg{constructor(){this._neverEmitter=new z.Q5,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class vf extends ut{constructor(){super()}}class bg extends hi.$V{constructor(){super(new hi.kw)}}let zd=class extends bi{constructor(o,u,E,K,te){super(o,u,E,K,te),this.configure({blockMouse:!1})}};zd=nl([Ko(0,Za.b),Ko(1,Ae.lT),Ko(2,$l.u),Ko(3,Do.d),Ko(4,rs.XE)],zd),(0,zi.z)($s.Ui,Mc),(0,zi.z)(on.V,Vd),(0,zi.z)(on.y,ph),(0,zi.z)(Kl.ec,Hd),(0,zi.z)(Rr.e,np),(0,zi.z)(Za.b,_f),(0,zi.z)(nt.S,Tu),(0,zi.z)(Ae.lT,Cr),(0,zi.z)(xr.lT,jo),(0,zi.z)($e.O,vf),(0,zi.z)(Fo.Z,ua),(0,zi.z)(hi.VZ,bg),(0,zi.z)(at.q,ff.b$),(0,zi.z)(hf.i,gu),(0,zi.z)(ls.i6,xc),(0,zi.z)(Sd.ek,sc),(0,zi.z)(mh.Uy,mh.vm),(0,zi.z)(Fi.p,zs),(0,zi.z)(sa.vu,Mu),(0,zi.z)(Ld.Y,Cg),(0,zi.z)(lr.S,Ur),(0,zi.z)(ec.F,ea),(0,zi.z)(vl.Lw,vl.XN),(0,zi.z)(mi.Hy,dd),(0,zi.z)(Do.d,ga),(0,zi.z)(Od.eJ,ye),(0,zi.z)($l.u,vh),(0,zi.z)(Zs.v4,Dr),(0,zi.z)(dr.p,Qo),(0,zi.z)($l.i,zd),(0,zi.z)(sr.co,ss);var Qi;(function(D){const o=new gh.y;for(const[ue,_e]of(0,zi.d)())o.set(ue,_e);const u=new Wd(o,!0);o.set(Io.TG,u);function E(ue){const _e=o.get(ue);if(!_e)throw new Error("Missing service "+ue);return _e instanceof zr.M?u.invokeFunction(je=>je.get(ue)):_e}D.get=E;let K=!1;function te(ue){if(K)return u;K=!0;for(const[_e,je]of(0,zi.d)())o.get(_e)||o.set(_e,je);for(const _e in ue)if(ue.hasOwnProperty(_e)){const je=(0,Io.yh)(_e);o.get(je)instanceof zr.M&&o.set(je,ue[_e])}return u}D.initialize=te})(Qi||(Qi={}));var Cf=function(D,o,u,E){var K=arguments.length,te=K<3?o:E===null?E=Object.getOwnPropertyDescriptor(o,u):E,ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,o,u,E);else for(var _e=D.length-1;_e>=0;_e--)(ue=D[_e])&&(te=(K<3?ue(te):K>3?ue(o,u,te):ue(o,u))||te);return K>3&&te&&Object.defineProperty(o,u,te),te},lo=function(D,o){return function(u,E){o(u,E,D)}};let ip=0,wg=!1;function sp(D){if(!D){if(wg)return;wg=!0}_n.wW(D||document.body)}let Ch=class extends $n.Gm{constructor(o,u,E,K,te,ue,_e,je,rt,ct,zt,Fn){const ii=Object.assign({},u);ii.ariaLabel=ii.ariaLabel||Dl.B8.editorViewAccessibleLabel,ii.ariaLabel=ii.ariaLabel+";"+Dl.B8.accessibilityHelpMessage,super(o,ii,{},E,K,te,ue,je,rt,ct,zt,Fn),_e instanceof ga?this._standaloneKeybindingService=_e:this._standaloneKeybindingService=null,sp(ii.ariaContainerElement)}addCommand(o,u,E){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const K="DYNAMIC_"+ ++ip,te=ls.Ao.deserialize(E);return this._standaloneKeybindingService.addDynamicKeybinding(K,o,u,te),K}createContextKey(o,u){return this._contextKeyService.createKey(o,u)}addAction(o){if(typeof o.id!="string"||typeof o.label!="string"||typeof o.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),Mt.JT.None;const u=o.id,E=o.label,K=ls.Ao.and(ls.Ao.equals("editorId",this.getId()),ls.Ao.deserialize(o.precondition)),te=o.keybindings,ue=ls.Ao.and(K,ls.Ao.deserialize(o.keybindingContext)),_e=o.contextMenuGroupId||null,je=o.contextMenuOrder||0,rt=(ii,...Ti)=>Promise.resolve(o.run(this,...Ti)),ct=new Mt.SL,zt=this.getId()+":"+u;if(ct.add(mi.P0.registerCommand(zt,rt)),_e){const ii={command:{id:zt,title:E},when:K,group:_e,order:je};ct.add(sr.BH.appendMenuItem(sr.eH.EditorContext,ii))}if(Array.isArray(te))for(const ii of te)ct.add(this._standaloneKeybindingService.addDynamicKeybinding(zt,ii,rt,ue));const Fn=new fi.p(zt,E,E,K,rt,this._contextKeyService);return this._actions[u]=Fn,ct.add((0,Mt.OF)(()=>{delete this._actions[u]})),ct}_triggerCommand(o,u){if(this._codeEditorService instanceof Mr)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(o,u)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(o,u)}};Ch=Cf([lo(2,Io.TG),lo(3,Te.$),lo(4,mi.Hy),lo(5,ls.i6),lo(6,Do.d),lo(7,rs.XE),lo(8,Ae.lT),lo(9,ec.F),lo(10,xe.c_),lo(11,En.p)],Ch);let ud=class extends Ch{constructor(o,u,E,K,te,ue,_e,je,rt,ct,zt,Fn,ii,Ti,Es){const hs=Object.assign({},u);_h(ct,hs,!1);const po=je.registerEditorContainer(o);typeof hs.theme=="string"&&je.setTheme(hs.theme),typeof hs.autoDetectHighContrast!="undefined"&&je.setAutoDetectHighContrast(Boolean(hs.autoDetectHighContrast));const Ps=hs.model;delete hs.model,super(o,hs,E,K,te,ue,_e,je,rt,zt,Ti,Es),this._configurationService=ct,this._standaloneThemeService=je,this._register(po);let os;if(typeof Ps=="undefined"){const Ms=ii.getLanguageIdByMimeType(hs.language)||hs.language||la.bd;os=yg(Fn,ii,hs.value||"",Ms,void 0),this._ownsModel=!0}else os=Ps,this._ownsModel=!1;if(this._attachModel(os),os){const Ms={oldModelUrl:null,newModelUrl:os.uri};this._onDidChangeModel.fire(Ms)}}dispose(){super.dispose()}updateOptions(o){_h(this._configurationService,o,!1),typeof o.theme=="string"&&this._standaloneThemeService.setTheme(o.theme),typeof o.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(o.autoDetectHighContrast)),super.updateOptions(o)}_postDetachModelCleanup(o){super._postDetachModelCleanup(o),o&&this._ownsModel&&(o.dispose(),this._ownsModel=!1)}};ud=Cf([lo(2,Io.TG),lo(3,Te.$),lo(4,mi.Hy),lo(5,ls.i6),lo(6,Do.d),lo(7,Fo.Z),lo(8,Ae.lT),lo(9,$s.Ui),lo(10,ec.F),lo(11,at.q),lo(12,$e.O),lo(13,xe.c_),lo(14,En.p)],ud);let il=class extends Wn.p{constructor(o,u,E,K,te,ue,_e,je,rt,ct,zt,Fn){const ii=Object.assign({},u);_h(rt,ii,!0);const Ti=_e.registerEditorContainer(o);typeof ii.theme=="string"&&_e.setTheme(ii.theme),typeof ii.autoDetectHighContrast!="undefined"&&_e.setAutoDetectHighContrast(Boolean(ii.autoDetectHighContrast)),super(o,ii,{},Fn,te,K,E,ue,_e,je,ct,zt),this._configurationService=rt,this._standaloneThemeService=_e,this._register(Ti)}dispose(){super.dispose()}updateOptions(o){_h(this._configurationService,o,!0),typeof o.theme=="string"&&this._standaloneThemeService.setTheme(o.theme),typeof o.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(o.autoDetectHighContrast)),super.updateOptions(o)}_createInnerEditor(o,u,E){return o.createInstance(Ch,u,E)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(o,u,E){return this.getModifiedEditor().addCommand(o,u,E)}createContextKey(o,u){return this.getModifiedEditor().createContextKey(o,u)}addAction(o){return this.getModifiedEditor().addAction(o)}};il=Cf([lo(2,Io.TG),lo(3,ls.i6),lo(4,Fi.p),lo(5,Te.$),lo(6,Fo.Z),lo(7,Ae.lT),lo(8,$s.Ui),lo(9,$l.i),lo(10,Sd.ek),lo(11,dr.p)],il);function yg(D,o,u,E,K){if(u=u||"",!E){const te=u.indexOf(`
`);let ue=u;return te!==-1&&(ue=u.substring(0,te)),Sg(D,u,o.createByFilepathOrFirstLine(K||null,ue),K)}return Sg(D,u,o.createById(E),K)}function Sg(D,o,u,E){return D.createModel(o,u,E)}function Lg(D,o,u){return Qi.initialize(u||{}).createInstance(ud,D,o)}function Bl(D){return Qi.get(Te.$).onCodeEditorAdd(u=>{D(u)})}function n1(D,o,u){return Qi.initialize(u||{}).createInstance(il,D,o)}function i1(D,o){return new Ge.F(D,o)}function s1(D,o,u){const E=Qi.get($e.O),K=E.getLanguageIdByMimeType(o)||o;return yg(Qi.get(at.q),E,D,K,u)}function op(D,o){const u=Qi.get($e.O);Qi.get(at.q).setMode(D,u.createById(o))}function o1(D,o,u){D&&Qi.get(xr.lT).changeOne(o,D.uri,u)}function r1(D){return Qi.get(xr.lT).read(D)}function a1(D){return Qi.get(xr.lT).onMarkerChanged(D)}function Eg(D){return Qi.get(at.q).getModel(D)}function Dg(){return Qi.get(at.q).getModels()}function l1(D){return Qi.get(at.q).onModelAdded(D)}function c1(D){return Qi.get(at.q).onModelRemoved(D)}function ku(D){return Qi.get(at.q).onModelLanguageChanged(u=>{D({model:u.model,oldLanguage:u.oldLanguageId})})}function xg(D){return ts(Qi.get(at.q),Qi.get(xe.c_),D)}function rp(D,o){const u=Qi.get($e.O),E=Qi.get(Fo.Z);return E.registerEditorContainer(D),mt.colorizeElement(E,u,D,o)}function Ng(D,o,u){const E=Qi.get($e.O);return Qi.get(Fo.Z).registerEditorContainer(document.body),mt.colorize(E,D,o,u)}function Ig(D,o,u=4){return Qi.get(Fo.Z).registerEditorContainer(document.body),mt.colorizeModelLine(D,o,u)}function Tg(D){const o=I.RW.get(D);return o||{getInitialState:()=>ve.TJ,tokenize:(u,E,K)=>(0,ve.Ri)(D,K)}}function ap(D,o){I.RW.getOrCreate(o);const u=Tg(o),E=(0,Ut.uq)(D),K=[];let te=u.getInitialState();for(let ue=0,_e=E.length;ue<_e;ue++){const je=E[ue],rt=u.tokenize(je,!0,te);K[ue]=rt.tokens,te=rt.endState}return K}function lp(D,o){Qi.get(Fo.Z).defineTheme(D,o)}function bf(D){Qi.get(Fo.Z).setTheme(D)}function Mg(){Ft.g.clearAllFontInfos()}function cp(D,o){return mi.P0.registerCommand({id:D,handler:o})}function za(){return{create:Lg,onDidCreateEditor:Bl,createDiffEditor:n1,createDiffNavigator:i1,createModel:s1,setModelLanguage:op,setModelMarkers:o1,getModelMarkers:r1,onDidChangeMarkers:a1,getModels:Dg,getModel:Eg,onDidCreateModel:l1,onWillDisposeModel:c1,onDidChangeModelLanguage:ku,createWebWorker:xg,colorizeElement:rp,colorize:Ng,colorizeModelLine:Ig,tokenize:ap,defineTheme:lp,setTheme:bf,remeasureFonts:Mg,registerCommand:cp,AccessibilitySupport:w,ContentWidgetPositionPreference:x,CursorChangeReason:k,DefaultEndOfLine:T,EditorAutoIndentStrategy:L,EditorOption:R,EndOfLinePreference:b,EndOfLineSequence:P,MinimapPosition:se,MouseTargetType:X,OverlayWidgetPositionPreference:$,OverviewRulerLane:j,RenderLineNumbersType:J,RenderMinimap:oe,ScrollbarVisibility:we,ScrollType:ce,TextEditorCursorBlinkingStyle:We,TextEditorCursorStyle:et,TrackedRangeStickiness:Kt,WrappingIndent:_t,InjectedTextCursorStops:H,PositionAffinity:ie,ConfigurationChangedEvent:C.Bb,BareFontInfo:Et.E4,FontInfo:Et.pR,TextModelResolvedOptions:Ze.dJ,FindMatch:Ze.tk,ApplyUpdateResult:C.rk,EditorType:Wt.g,EditorOptions:C.BH}}function dp(D,o){if(!o||!Array.isArray(o))return!1;for(const u of o)if(!D(u))return!1;return!0}function Ud(D,o){return typeof D=="boolean"?D:o}function kg(D,o){return typeof D=="string"?D:o}function Rg(D){const o={};for(const u of D)o[u]=!0;return o}function Ag(D,o=!1){o&&(D=D.map(function(E){return E.toLowerCase()}));const u=Rg(D);return o?function(E){return u[E.toLowerCase()]!==void 0&&u.hasOwnProperty(E.toLowerCase())}:function(E){return u[E]!==void 0&&u.hasOwnProperty(E)}}function Ru(D,o){o=o.replace(/@@/g,"");let u=0,E;do E=!1,o=o.replace(/@(\w+)/g,function(te,ue){E=!0;let _e="";if(typeof D[ue]=="string")_e=D[ue];else if(D[ue]&&D[ue]instanceof RegExp)_e=D[ue].source;else throw D[ue]===void 0?Xi(D,"language definition does not contain attribute '"+ue+"', used at: "+o):Xi(D,"attribute reference '"+ue+"' must be a string, used at: "+o);return go(_e)?"":"(?:"+_e+")"}),u++;while(E&&u<5);o=o.replace(/\x01/g,"@");const K=(D.ignoreCase?"i":"")+(D.unicode?"u":"");return new RegExp(o,K)}function oc(D,o,u,E){if(E<0)return D;if(E<o.length)return o[E];if(E>=100){E=E-100;const K=u.split(".");if(K.unshift(u),E<K.length)return K[E]}return null}function Pg(D,o,u,E){let K=-1,te=u,ue=u.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);ue&&(ue[3]&&(K=parseInt(ue[3]),ue[2]&&(K=K+100)),te=ue[4]);let _e="~",je=te;!te||te.length===0?(_e="!=",je=""):/^\w*$/.test(je)?_e="==":(ue=te.match(/^(@|!@|~|!~|==|!=)(.*)$/),ue&&(_e=ue[1],je=ue[2]));let rt;if((_e==="~"||_e==="!~")&&/^(\w|\|)*$/.test(je)){const ct=Ag(je.split("|"),D.ignoreCase);rt=function(zt){return _e==="~"?ct(zt):!ct(zt)}}else if(_e==="@"||_e==="!@"){const ct=D[je];if(!ct)throw Xi(D,"the @ match target '"+je+"' is not defined, in rule: "+o);if(!dp(function(Fn){return typeof Fn=="string"},ct))throw Xi(D,"the @ match target '"+je+"' must be an array of strings, in rule: "+o);const zt=Ag(ct,D.ignoreCase);rt=function(Fn){return _e==="@"?zt(Fn):!zt(Fn)}}else if(_e==="~"||_e==="!~")if(je.indexOf("$")<0){const ct=Ru(D,"^"+je+"$");rt=function(zt){return _e==="~"?ct.test(zt):!ct.test(zt)}}else rt=function(ct,zt,Fn,ii){return Ru(D,"^"+Gs(D,je,zt,Fn,ii)+"$").test(ct)};else if(je.indexOf("$")<0){const ct=Is(D,je);rt=function(zt){return _e==="=="?zt===ct:zt!==ct}}else{const ct=Is(D,je);rt=function(zt,Fn,ii,Ti,Es){const hs=Gs(D,ct,Fn,ii,Ti);return _e==="=="?zt===hs:zt!==hs}}return K===-1?{name:u,value:E,test:function(ct,zt,Fn,ii){return rt(ct,ct,zt,Fn,ii)}}:{name:u,value:E,test:function(ct,zt,Fn,ii){const Ti=oc(ct,zt,Fn,K);return rt(Ti||"",ct,zt,Fn,ii)}}}function kc(D,o,u){if(u){if(typeof u=="string")return u;if(u.token||u.token===""){if(typeof u.token!="string")throw Xi(D,"a 'token' attribute must be of type string, in rule: "+o);{const E={token:u.token};if(u.token.indexOf("$")>=0&&(E.tokenSubst=!0),typeof u.bracket=="string")if(u.bracket==="@open")E.bracket=1;else if(u.bracket==="@close")E.bracket=-1;else throw Xi(D,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+o);if(u.next){if(typeof u.next!="string")throw Xi(D,"the next state must be a string value in rule: "+o);{let K=u.next;if(!/^(@pop|@push|@popall)$/.test(K)&&(K[0]==="@"&&(K=K.substr(1)),K.indexOf("$")<0&&!va(D,Gs(D,K,"",[],""))))throw Xi(D,"the next state '"+u.next+"' is not defined in rule: "+o);E.next=K}}return typeof u.goBack=="number"&&(E.goBack=u.goBack),typeof u.switchTo=="string"&&(E.switchTo=u.switchTo),typeof u.log=="string"&&(E.log=u.log),typeof u.nextEmbedded=="string"&&(E.nextEmbedded=u.nextEmbedded,D.usesEmbedded=!0),E}}else if(Array.isArray(u)){const E=[];for(let K=0,te=u.length;K<te;K++)E[K]=kc(D,o,u[K]);return{group:E}}else if(u.cases){const E=[];for(let te in u.cases)if(u.cases.hasOwnProperty(te)){const ue=kc(D,o,u.cases[te]);te==="@default"||te==="@"||te===""?E.push({test:void 0,value:ue,name:te}):te==="@eos"?E.push({test:function(_e,je,rt,ct){return ct},value:ue,name:te}):E.push(Pg(D,o,te,ue))}const K=D.defaultToken;return{test:function(te,ue,_e,je){for(const rt of E)if(!rt.test||rt.test(te,ue,_e,je))return rt.value;return K}}}else throw Xi(D,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+o)}else return{token:""}}class up{constructor(o){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=o}setRegex(o,u){let E;if(typeof u=="string")E=u;else if(u instanceof RegExp)E=u.source;else throw Xi(o,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=E.length>0&&E[0]==="^",this.name=this.name+": "+E,this.regex=Ru(o,"^(?:"+(this.matchOnlyAtLineStart?E.substr(1):E)+")")}setAction(o,u){this.action=kc(o,this.name,u)}}function Og(D,o){if(!o||typeof o!="object")throw new Error("Monarch: expecting a language definition object");const u={};u.languageId=D,u.includeLF=Ud(o.includeLF,!1),u.noThrow=!1,u.maxStack=100,u.start=typeof o.start=="string"?o.start:null,u.ignoreCase=Ud(o.ignoreCase,!1),u.unicode=Ud(o.unicode,!1),u.tokenPostfix=kg(o.tokenPostfix,"."+u.languageId),u.defaultToken=kg(o.defaultToken,"source"),u.usesEmbedded=!1;const E=o;E.languageId=D,E.includeLF=u.includeLF,E.ignoreCase=u.ignoreCase,E.unicode=u.unicode,E.noThrow=u.noThrow,E.usesEmbedded=u.usesEmbedded,E.stateNames=o.tokenizer,E.defaultToken=u.defaultToken;function K(ue,_e,je){for(const rt of je){let ct=rt.include;if(ct){if(typeof ct!="string")throw Xi(u,"an 'include' attribute must be a string at: "+ue);if(ct[0]==="@"&&(ct=ct.substr(1)),!o.tokenizer[ct])throw Xi(u,"include target '"+ct+"' is not defined at: "+ue);K(ue+"."+ct,_e,o.tokenizer[ct])}else{const zt=new up(ue);if(Array.isArray(rt)&&rt.length>=1&&rt.length<=3)if(zt.setRegex(E,rt[0]),rt.length>=3)if(typeof rt[1]=="string")zt.setAction(E,{token:rt[1],next:rt[2]});else if(typeof rt[1]=="object"){const Fn=rt[1];Fn.next=rt[2],zt.setAction(E,Fn)}else throw Xi(u,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+ue);else zt.setAction(E,rt[1]);else{if(!rt.regex)throw Xi(u,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+ue);rt.name&&typeof rt.name=="string"&&(zt.name=rt.name),rt.matchOnlyAtStart&&(zt.matchOnlyAtLineStart=Ud(rt.matchOnlyAtLineStart,!1)),zt.setRegex(E,rt.regex),zt.setAction(E,rt.action)}_e.push(zt)}}}if(!o.tokenizer||typeof o.tokenizer!="object")throw Xi(u,"a language definition must define the 'tokenizer' attribute as an object");u.tokenizer=[];for(let ue in o.tokenizer)if(o.tokenizer.hasOwnProperty(ue)){u.start||(u.start=ue);const _e=o.tokenizer[ue];u.tokenizer[ue]=new Array,K("tokenizer."+ue,u.tokenizer[ue],_e)}if(u.usesEmbedded=E.usesEmbedded,o.brackets){if(!Array.isArray(o.brackets))throw Xi(u,"the 'brackets' attribute must be defined as an array")}else o.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const te=[];for(let ue of o.brackets){let _e=ue;if(_e&&Array.isArray(_e)&&_e.length===3&&(_e={token:_e[2],open:_e[0],close:_e[1]}),_e.open===_e.close)throw Xi(u,"open and close brackets in a 'brackets' attribute must be different: "+_e.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof _e.open=="string"&&typeof _e.token=="string"&&typeof _e.close=="string")te.push({token:_e.token+u.tokenPostfix,open:Is(u,_e.open),close:Is(u,_e.close)});else throw Xi(u,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return u.brackets=te,u.noThrow=!0,u}var hp=function(D,o,u,E){function K(te){return te instanceof u?te:new u(function(ue){ue(te)})}return new(u||(u=Promise))(function(te,ue){function _e(ct){try{rt(E.next(ct))}catch(zt){ue(zt)}}function je(ct){try{rt(E.throw(ct))}catch(zt){ue(zt)}}function rt(ct){ct.done?te(ct.value):K(ct.value).then(_e,je)}rt((E=E.apply(D,o||[])).next())})};function fp(D){la.dQ.registerLanguage(D)}function wf(){let D=[];return D=D.concat(la.dQ.getLanguages()),D}function gp(D){return Qi.get($e.O).languageIdCodec.encodeLanguageId(D)}function mp(D,o){const E=Qi.get($e.O).onDidEncounterLanguage(K=>{K===D&&(E.dispose(),o())});return E}function pp(D,o){if(!Qi.get($e.O).isRegisteredLanguageId(D))throw new Error(`Cannot set configuration for unknown language ${D}`);return xe.zu.register(D,o,100)}class bh{constructor(o,u){this._languageId=o,this._actual=u}getInitialState(){return this._actual.getInitialState()}tokenize(o,u,E){if(typeof this._actual.tokenize=="function")return jd.adaptTokenize(this._languageId,this._actual,o,E);throw new Error("Not supported!")}tokenizeEncoded(o,u,E){const K=this._actual.tokenizeEncoded(o,E);return new I.DI(K.tokens,K.endState)}}class jd{constructor(o,u,E,K){this._languageId=o,this._actual=u,this._languageService=E,this._standaloneThemeService=K}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(o,u){const E=[];let K=0;for(let te=0,ue=o.length;te<ue;te++){const _e=o[te];let je=_e.startIndex;te===0?je=0:je<K&&(je=K),E[te]=new I.WU(je,_e.scopes,u),K=je}return E}static adaptTokenize(o,u,E,K){const te=u.tokenize(E,K),ue=jd._toClassicTokens(te.tokens,o);let _e;return te.endState.equals(K)?_e=K:_e=te.endState,new I.hG(ue,_e)}tokenize(o,u,E){return jd.adaptTokenize(this._languageId,this._actual,o,E)}_toBinaryTokens(o,u){const E=o.encodeLanguageId(this._languageId),K=this._standaloneThemeService.getColorTheme().tokenTheme,te=[];let ue=0,_e=0;for(let rt=0,ct=u.length;rt<ct;rt++){const zt=u[rt],Fn=K.match(E,zt.scopes);if(ue>0&&te[ue-1]===Fn)continue;let ii=zt.startIndex;rt===0?ii=0:ii<_e&&(ii=_e),te[ue++]=ii,te[ue++]=Fn,_e=ii}const je=new Uint32Array(ue);for(let rt=0;rt<ue;rt++)je[rt]=te[rt];return je}tokenizeEncoded(o,u,E){const K=this._actual.tokenize(o,E),te=this._toBinaryTokens(this._languageService.languageIdCodec,K.tokens);let ue;return K.endState.equals(E)?ue=E:ue=K.endState,new I.DI(te,ue)}}function rc(D){return typeof D.getInitialState=="function"}function wh(D){return"tokenizeEncoded"in D}function yf(D){return D&&typeof D.then=="function"}function _p(D){const o=Qi.get(Fo.Z);if(D){const u=[null];for(let E=1,K=D.length;E<K;E++)u[E]=ml.Il.fromHex(D[E]);o.setColorMapOverride(u)}else o.setColorMapOverride(null)}function Sf(D,o){return wh(o)?new bh(D,o):new jd(D,o,Qi.get($e.O),Qi.get(Fo.Z))}function yh(D,o){const u={createTokenizationSupport:()=>hp(this,void 0,void 0,function*(){const E=yield Promise.resolve(o.create());return E?rc(E)?Sf(D,E):new pe(Qi.get($e.O),Qi.get(Fo.Z),D,Og(D,E)):null})};return I.RW.registerFactory(D,u)}function Sh(D,o){if(!Qi.get($e.O).isRegisteredLanguageId(D))throw new Error(`Cannot set tokens provider for unknown language ${D}`);return yf(o)?yh(D,{create:()=>o}):I.RW.register(D,Sf(D,o))}function Fg(D,o){const u=E=>new pe(Qi.get($e.O),Qi.get(Fo.Z),D,Og(D,E));return yf(o)?yh(D,{create:()=>o}):I.RW.register(D,u(o))}function Lf(D,o){return Qi.get(En.p).referenceProvider.register(D,o)}function Bg(D,o){return Qi.get(En.p).renameProvider.register(D,o)}function Ef(D,o){return Qi.get(En.p).signatureHelpProvider.register(D,o)}function jr(D,o){return Qi.get(En.p).hoverProvider.register(D,{provideHover:(E,K,te)=>{const ue=E.getWordAtPosition(K);return Promise.resolve(o.provideHover(E,K,te)).then(_e=>{if(!!_e)return!_e.range&&ue&&(_e.range=new A.e(K.lineNumber,ue.startColumn,K.lineNumber,ue.endColumn)),_e.range||(_e.range=new A.e(K.lineNumber,K.column,K.lineNumber,K.column)),_e})}})}function Kd(D,o){return Qi.get(En.p).documentSymbolProvider.register(D,o)}function Df(D,o){return Qi.get(En.p).documentHighlightProvider.register(D,o)}function vp(D,o){return Qi.get(En.p).linkedEditingRangeProvider.register(D,o)}function $d(D,o){return Qi.get(En.p).definitionProvider.register(D,o)}function Cp(D,o){return Qi.get(En.p).implementationProvider.register(D,o)}function Gd(D,o){return Qi.get(En.p).typeDefinitionProvider.register(D,o)}function Wg(D,o){return Qi.get(En.p).codeLensProvider.register(D,o)}function Vg(D,o,u){return Qi.get(En.p).codeActionProvider.register(D,{providedCodeActionKinds:u==null?void 0:u.providedCodeActionKinds,provideCodeActions:(K,te,ue,_e)=>{const rt=Qi.get(xr.lT).read({resource:K.uri}).filter(ct=>A.e.areIntersectingOrTouching(ct,te));return o.provideCodeActions(K,te,{markers:rt,only:ue.only},_e)},resolveCodeAction:o.resolveCodeAction})}function Hg(D,o){return Qi.get(En.p).documentFormattingEditProvider.register(D,o)}function xf(D,o){return Qi.get(En.p).documentRangeFormattingEditProvider.register(D,o)}function bp(D,o){return Qi.get(En.p).onTypeFormattingEditProvider.register(D,o)}function Nf(D,o){return Qi.get(En.p).linkProvider.register(D,o)}function wp(D,o){return Qi.get(En.p).completionProvider.register(D,o)}function If(D,o){return Qi.get(En.p).colorProvider.register(D,o)}function yp(D,o){return Qi.get(En.p).foldingRangeProvider.register(D,o)}function Sp(D,o){return Qi.get(En.p).declarationProvider.register(D,o)}function Lp(D,o){return Qi.get(En.p).selectionRangeProvider.register(D,o)}function Lh(D,o){return Qi.get(En.p).documentSemanticTokensProvider.register(D,o)}function zg(D,o){return Qi.get(En.p).documentRangeSemanticTokensProvider.register(D,o)}function Rc(D,o){return Qi.get(En.p).inlineCompletionsProvider.register(D,o)}function Eh(D,o){return Qi.get(En.p).inlayHintsProvider.register(D,o)}function Ac(){return{register:fp,getLanguages:wf,onLanguage:mp,getEncodedLanguageId:gp,setLanguageConfiguration:pp,setColorMap:_p,registerTokensProviderFactory:yh,setTokensProvider:Sh,setMonarchTokensProvider:Fg,registerReferenceProvider:Lf,registerRenameProvider:Bg,registerCompletionItemProvider:wp,registerSignatureHelpProvider:Ef,registerHoverProvider:jr,registerDocumentSymbolProvider:Kd,registerDocumentHighlightProvider:Df,registerLinkedEditingRangeProvider:vp,registerDefinitionProvider:$d,registerImplementationProvider:Cp,registerTypeDefinitionProvider:Gd,registerCodeLensProvider:Wg,registerCodeActionProvider:Vg,registerDocumentFormattingEditProvider:Hg,registerDocumentRangeFormattingEditProvider:xf,registerOnTypeFormattingEditProvider:bp,registerLinkProvider:Nf,registerColorProvider:If,registerFoldingRangeProvider:yp,registerDeclarationProvider:Sp,registerSelectionRangeProvider:Lp,registerDocumentSemanticTokensProvider:Lh,registerDocumentRangeSemanticTokensProvider:zg,registerInlineCompletionsProvider:Rc,registerInlayHintsProvider:Eh,DocumentHighlightKind:N,CompletionItemKind:f,CompletionItemTag:m,CompletionItemInsertTextRule:_,SymbolKind:De,SymbolTag:be,IndentAction:V,CompletionTriggerKind:a,SignatureHelpTriggerKind:Ke,InlayHintKind:ee,InlineCompletionTriggerKind:ae,FoldingRangeKind:I.AD}}var hd=l(29119),Tf;C.BH.wrappingIndent.defaultValue=0,C.BH.glyphMargin.defaultValue=!1,C.BH.autoIndent.defaultValue=3,C.BH.overviewRulerLanes.defaultValue=2,hd.xC.setFormatterSelector((D,o,u)=>Promise.resolve(D[0]));const Kr=kt();Kr.editor=za(),Kr.languages=Ac();const Ug=Kr.CancellationTokenSource,Ep=Kr.Emitter,Dp=Kr.KeyCode,Mf=Kr.KeyMod,sl=Kr.Position,xp=Kr.Range,jg=Kr.Selection,kf=Kr.SelectionDirection,Np=Kr.MarkerSeverity,Dh=Kr.MarkerTag,Pc=Kr.Uri,Ip=Kr.Token,Tp=Kr.editor,Rf=Kr.languages;(((Tf=Rt.li.MonacoEnvironment)===null||Tf===void 0?void 0:Tf.globalAPI)||typeof define=="function"&&l.amdO)&&(self.monaco=Kr),typeof self.require!="undefined"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},5797:function(it,Ee,l){"use strict";l.r(Ee),l.d(Ee,{CancellationTokenSource:function(){return C.CancellationTokenSource},Emitter:function(){return C.Emitter},KeyCode:function(){return C.KeyCode},KeyMod:function(){return C.KeyMod},MarkerSeverity:function(){return C.MarkerSeverity},MarkerTag:function(){return C.MarkerTag},Position:function(){return C.Position},Range:function(){return C.Range},Selection:function(){return C.Selection},SelectionDirection:function(){return C.SelectionDirection},Token:function(){return C.Token},Uri:function(){return C.Uri},editor:function(){return C.editor},languages:function(){return C.languages}});var C=l(95021);var d=Object.defineProperty,z=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,y=Object.prototype.hasOwnProperty,W=(g,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of O(e))!y.call(g,s)&&(t||s!=="default")&&d(g,s,{get:()=>e[s],enumerable:!(n=z(e,s))||n.enumerable});return g},A={};W(A,C);var M={},I={},w=class{constructor(g){Ao(this,"_languageId");Ao(this,"_loadingTriggered");Ao(this,"_lazyLoadPromise");Ao(this,"_lazyLoadPromiseResolve");Ao(this,"_lazyLoadPromiseReject");this._languageId=g,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((e,t)=>{this._lazyLoadPromiseResolve=e,this._lazyLoadPromiseReject=t})}static getOrCreate(g){return I[g]||(I[g]=new w(g)),I[g]}load(){return this._loadingTriggered||(this._loadingTriggered=!0,M[this._languageId].loader().then(g=>this._lazyLoadPromiseResolve(g),g=>this._lazyLoadPromiseReject(g))),this._lazyLoadPromise}};function _(g){return mg(this,null,function*(){yield w.getOrCreate(g).load(),A.editor.createModel("",g).dispose()})}function f(g){const e=g.id;M[e]=g,A.languages.register(g);const t=w.getOrCreate(e);A.languages.registerTokensProviderFactory(e,{create:()=>mg(this,null,function*(){return(yield t.load()).language})}),A.languages.onLanguage(e,()=>mg(this,null,function*(){const n=yield t.load();A.languages.setLanguageConfiguration(e,n.conf)}))}f({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>l.e(5662).then(l.bind(l,25662))});f({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>l.e(6598).then(l.bind(l,46598))});f({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>l.e(9095).then(l.bind(l,99095))});f({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>l.e(8416).then(l.bind(l,18416))});f({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>l.e(5436).then(l.bind(l,55436))});f({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>l.e(8315).then(l.bind(l,88315))});f({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>l.e(3711).then(l.bind(l,83711))});f({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>l.e(1969).then(l.bind(l,11969))});f({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>l.e(3840).then(l.bind(l,3840))}),f({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>l.e(3840).then(l.bind(l,3840))});f({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>l.e(8038).then(l.bind(l,68038))});f({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>l.e(7846).then(l.bind(l,47846))});f({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>l.e(5759).then(l.bind(l,55759))});f({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>l.e(591).then(l.bind(l,70591))});f({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>l.e(1134).then(l.bind(l,31134))});f({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>l.e(4821).then(l.bind(l,34821))});f({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>l.e(8526).then(l.bind(l,88526))});f({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>l.e(4507).then(l.bind(l,14507))});f({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>l.e(9187).then(l.bind(l,99187))});f({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>l.e(1706).then(l.bind(l,31706)).then(g=>g.TagAutoInterpolationDollar)}),f({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>l.e(1706).then(l.bind(l,31706)).then(g=>g.TagAngleInterpolationDollar)}),f({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>l.e(1706).then(l.bind(l,31706)).then(g=>g.TagBracketInterpolationDollar)}),f({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>l.e(1706).then(l.bind(l,31706)).then(g=>g.TagAngleInterpolationBracket)}),f({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>l.e(1706).then(l.bind(l,31706)).then(g=>g.TagBracketInterpolationBracket)}),f({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>l.e(1706).then(l.bind(l,31706)).then(g=>g.TagAutoInterpolationDollar)}),f({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>l.e(1706).then(l.bind(l,31706)).then(g=>g.TagAutoInterpolationBracket)});f({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>l.e(5878).then(l.bind(l,45878))});f({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>l.e(5325).then(l.bind(l,55325))});f({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>l.e(8776).then(l.bind(l,8776))});f({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>l.e(831).then(l.bind(l,30831))});f({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>l.e(2750).then(l.bind(l,22750))});f({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>l.e(8025).then(l.bind(l,78025))});f({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>l.e(2003).then(l.bind(l,22003))});f({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>l.e(9033).then(l.bind(l,29033))});f({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>l.e(7647).then(l.bind(l,97647))});f({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>l.e(9974).then(l.bind(l,79974))});f({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>l.e(8682).then(l.bind(l,98682))});f({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>l.e(6711).then(l.bind(l,46711))});f({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>l.e(8142).then(l.bind(l,8142))});f({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>l.e(3055).then(l.bind(l,53055))});f({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>l.e(2506).then(l.bind(l,62506))});f({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>l.e(752).then(l.bind(l,80752))});f({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>l.e(3730).then(l.bind(l,13730))});f({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>l.e(8878).then(l.bind(l,68878))});f({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>l.e(1212).then(l.bind(l,61212))});f({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>l.e(5580).then(l.bind(l,95580))});f({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>l.e(2905).then(l.bind(l,72905))});f({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>l.e(4944).then(l.bind(l,74944))});f({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:()=>l.e(6841).then(l.bind(l,56841))});f({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>l.e(198).then(l.bind(l,42084))});f({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>l.e(7272).then(l.bind(l,57272))});f({id:"pla",extensions:[".pla"],loader:()=>l.e(7714).then(l.bind(l,27714))});f({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>l.e(7993).then(l.bind(l,77993))});f({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>l.e(1174).then(l.bind(l,61174))});f({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>l.e(5876).then(l.bind(l,45876))});f({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>l.e(6437).then(l.bind(l,56437))});f({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>l.e(5363).then(l.bind(l,55363))});f({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>l.e(2636).then(l.bind(l,42636))});f({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>l.e(4756).then(l.bind(l,14756))});f({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>l.e(3617).then(l.bind(l,93617))});f({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>l.e(4818).then(l.bind(l,14818))});f({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>l.e(293).then(l.bind(l,20293))});f({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>l.e(1887).then(l.bind(l,7380))});f({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>l.e(5232).then(l.bind(l,35232))});f({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>l.e(4481).then(l.bind(l,24481))});f({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>l.e(9082).then(l.bind(l,49082))});f({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>l.e(5).then(l.bind(l,90005))});f({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>l.e(8080).then(l.bind(l,38080))});f({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>l.e(685).then(l.bind(l,685))});f({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>l.e(2843).then(l.bind(l,82843))});f({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>l.e(9853).then(l.bind(l,69853))});f({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>l.e(9308).then(l.bind(l,69308))});f({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>l.e(8394).then(l.bind(l,68394))});f({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>l.e(2958).then(l.bind(l,33217))});f({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>l.e(4324).then(l.bind(l,4324))});f({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:()=>l.e(2783).then(l.bind(l,12783))});f({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>l.e(4462).then(l.bind(l,74462))});f({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>l.e(7661).then(l.bind(l,47661))}),f({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>l.e(7661).then(l.bind(l,47661))});f({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>l.e(7540).then(l.bind(l,87540))});f({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>l.e(6431).then(l.bind(l,46431))});f({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>l.e(2336).then(l.bind(l,72336))});f({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>l.e(7036).then(l.bind(l,57036))});f({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>l.e(8779).then(l.bind(l,48779))});f({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>l.e(2231).then(l.bind(l,2231))});var m=Object.defineProperty,a=Object.getOwnPropertyDescriptor,x=Object.getOwnPropertyNames,k=Object.prototype.hasOwnProperty,T=(g,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of x(e))!k.call(g,s)&&(t||s!=="default")&&m(g,s,{get:()=>e[s],enumerable:!(n=a(e,s))||n.enumerable});return g},N={};T(N,C);var L=class{constructor(g,e,t){Ao(this,"_onDidChange",new N.Emitter);Ao(this,"_options");Ao(this,"_modeConfiguration");Ao(this,"_languageId");this._languageId=g,this.setOptions(e),this.setModeConfiguration(t)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(g){this._options=g||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(g){this.setOptions(g)}setModeConfiguration(g){this._modeConfiguration=g||Object.create(null),this._onDidChange.fire(this)}},R={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0}},b={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},P=new L("css",R,b),V=new L("scss",R,b),H=new L("less",R,b);N.languages.css={cssDefaults:P,lessDefaults:H,scssDefaults:V};function ee(){return l.e(6367).then(l.bind(l,96367))}N.languages.onLanguage("less",()=>{ee().then(g=>g.setupMode(H))}),N.languages.onLanguage("scss",()=>{ee().then(g=>g.setupMode(V))}),N.languages.onLanguage("css",()=>{ee().then(g=>g.setupMode(P))});var ae=Object.defineProperty,me=Object.getOwnPropertyDescriptor,ge=Object.getOwnPropertyNames,re=Object.prototype.hasOwnProperty,se=(g,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of ge(e))!re.call(g,s)&&(t||s!=="default")&&ae(g,s,{get:()=>e[s],enumerable:!(n=me(e,s))||n.enumerable});return g},X={};se(X,C);var $=class{constructor(g,e,t){Ao(this,"_onDidChange",new X.Emitter);Ao(this,"_options");Ao(this,"_modeConfiguration");Ao(this,"_languageId");this._languageId=g,this.setOptions(e),this.setModeConfiguration(t)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(g){this._options=g||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(g){this._modeConfiguration=g||Object.create(null),this._onDidChange.fire(this)}},j={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},ie={format:j,suggest:{},data:{useDefaultDataProvider:!0}};function J(g){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:g===oe,documentFormattingEdits:g===oe,documentRangeFormattingEdits:g===oe}}var oe="html",ce="handlebars",we="razor",Me=_t(oe,ie,J(oe)),Ke=Me.defaults,De=_t(ce,ie,J(ce)),be=De.defaults,We=_t(we,ie,J(we)),et=We.defaults;X.languages.html={htmlDefaults:Ke,razorDefaults:et,handlebarDefaults:be,htmlLanguageService:Me,handlebarLanguageService:De,razorLanguageService:We,registerHTMLLanguageService:_t};function Kt(){return l.e(4559).then(l.bind(l,94559))}function _t(g,e=ie,t=J(g)){const n=new $(g,e,t);let s;const r=X.languages.onLanguage(g,()=>mg(this,null,function*(){s=(yield Kt()).setupMode(n)}));return{defaults:n,dispose(){r.dispose(),s==null||s.dispose(),s=void 0}}}var tt=Object.defineProperty,kt=Object.getOwnPropertyDescriptor,Ut=Object.getOwnPropertyNames,Ft=Object.prototype.hasOwnProperty,Te=(g,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Ut(e))!Ft.call(g,s)&&(t||s!=="default")&&tt(g,s,{get:()=>e[s],enumerable:!(n=kt(e,s))||n.enumerable});return g},Ge={};Te(Ge,C);var Et=class{constructor(g,e,t){Ao(this,"_onDidChange",new Ge.Emitter);Ao(this,"_diagnosticsOptions");Ao(this,"_modeConfiguration");Ao(this,"_languageId");this._languageId=g,this.setDiagnosticsOptions(e),this.setModeConfiguration(t)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(g){this._diagnosticsOptions=g||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(g){this._modeConfiguration=g||Object.create(null),this._onDidChange.fire(this)}},Wt={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},Ze={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},xe=new Et("json",Wt,Ze);Ge.languages.json={jsonDefaults:xe};function ve(){return l.e(2577).then(l.bind(l,12577))}Ge.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),Ge.languages.onLanguage("json",()=>{ve().then(g=>g.setupMode(xe))});var $e=l(73541),at=l(99947),Tt=l(87360),Mt=l(95641),gt=l(24671),Rt=l(74749),Zt=l(91903),hn=l(52972),Pe=l(20244),en=l(83141),vt=l(50368),Le=l(82215),nn=l(96072),sn=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},ei=function(g,e){return function(t,n){e(t,n,g)}},wn=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};const Ne=new nn.uy("selectionAnchorSet",!1);let Fe=class gv{constructor(e,t){this.editor=e,this.selectionAnchorSetContextKey=Ne.bindTo(t),this.modelChangeListener=e.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(e){return e.getContribution(gv.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const e=this.editor.getPosition(),t=this.decorationId?[this.decorationId]:[],n=this.editor.deltaDecorations(t,[{range:en.Y.fromPositions(e,e),options:{description:"selection-anchor",stickiness:1,hoverMessage:new Zt.W5().appendText((0,Le.N)("selectionAnchor","Selection Anchor")),className:"selection-anchor"}}]);this.decorationId=n[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,Rt.Z9)((0,Le.N)("anchorSet","Anchor set at {0}:{1}",e.lineNumber,e.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){const t=this.editor.getPosition();this.editor.setSelection(en.Y.fromPositions(e.getStartPosition(),t)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};Fe.ID="editor.contrib.selectionAnchorController",Fe=sn([ei(1,nn.i6)],Fe);class ht extends Pe.R6{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,Le.N)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,hn.gx)(2089,2080),weight:100}})}run(e,t){var n;return wn(this,void 0,void 0,function*(){(n=Fe.get(t))===null||n===void 0||n.setSelectionAnchor()})}}class Qt extends Pe.R6{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,Le.N)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:Ne})}run(e,t){var n;return wn(this,void 0,void 0,function*(){(n=Fe.get(t))===null||n===void 0||n.goToSelectionAnchor()})}}class dn extends Pe.R6{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,Le.N)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:Ne,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,hn.gx)(2089,2089),weight:100}})}run(e,t){var n;return wn(this,void 0,void 0,function*(){(n=Fe.get(t))===null||n===void 0||n.selectFromAnchorToCursor()})}}class gn extends Pe.R6{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,Le.N)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:Ne,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:9,weight:100}})}run(e,t){var n;return wn(this,void 0,void 0,function*(){(n=Fe.get(t))===null||n===void 0||n.cancelSelectionAnchor()})}}(0,Pe._K)(Fe.ID,Fe),(0,Pe.Qr)(ht),(0,Pe.Qr)(Qt),(0,Pe.Qr)(dn),(0,Pe.Qr)(gn);var Ht=l(57186),lt=l(1405),Cn=l(7747),Ue=l(50757),Pt=l(62420),Lt=l(12736),He=l(60407),Ve=l(56878),Se=l(58385),St=l(63655);const Jt=(0,Se.P6G)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},Le.N("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class mn extends Pe.R6{constructor(){super({id:"editor.action.jumpToBracket",label:Le.N("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:3160,weight:100}})}run(e,t){var n;(n=Nn.get(t))===null||n===void 0||n.jumpToBracket()}}class Mn extends Pe.R6{constructor(){super({id:"editor.action.selectToBracket",label:Le.N("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(e,t,n){var s;let r=!0;n&&n.selectBrackets===!1&&(r=!1),(s=Nn.get(t))===null||s===void 0||s.selectToBracket(r)}}class kn{constructor(e,t,n){this.position=e,this.brackets=t,this.options=n}}class Nn extends lt.JT{constructor(e){super(),this._editor=e,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new Ht.pY(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(64),this._updateBracketsSoon.schedule(),this._register(e.onDidChangeCursorPosition(t=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelContent(t=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModel(t=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelLanguageConfiguration(t=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeConfiguration(t=>{t.hasChanged(64)&&(this._matchBrackets=this._editor.getOption(64),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(e.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}static get(e){return e.getContribution(Nn.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getSelections().map(n=>{const s=n.getStartPosition(),r=e.bracketPairs.matchBracket(s);let h=null;if(r)r[0].containsPosition(s)?h=r[1].getStartPosition():r[1].containsPosition(s)&&(h=r[0].getStartPosition());else{const S=e.bracketPairs.findEnclosingBrackets(s);if(S)h=S[0].getStartPosition();else{const Y=e.bracketPairs.findNextBracket(s);Y&&Y.range&&(h=Y.range.getStartPosition())}}return h?new en.Y(h.lineNumber,h.column,h.lineNumber,h.column):new en.Y(s.lineNumber,s.column,s.lineNumber,s.column)});this._editor.setSelections(t),this._editor.revealRange(t[0])}selectToBracket(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),n=[];this._editor.getSelections().forEach(s=>{const r=s.getStartPosition();let h=t.bracketPairs.matchBracket(r);if(!h&&(h=t.bracketPairs.findEnclosingBrackets(r),!h)){const ne=t.bracketPairs.findNextBracket(r);ne&&ne.range&&(h=t.bracketPairs.matchBracket(ne.range.getStartPosition()))}let S=null,Y=null;if(h){h.sort(Ue.e.compareRangesUsingStarts);const[ne,Q]=h;if(S=e?ne.getStartPosition():ne.getEndPosition(),Y=e?Q.getEndPosition():Q.getStartPosition(),Q.containsPosition(r)){const he=S;S=Y,Y=he}}S&&Y&&n.push(new en.Y(S.lineNumber,S.column,Y.lineNumber,Y.column))}),n.length>0&&(this._editor.setSelections(n),this._editor.revealRange(n[0]))}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();let e=[],t=0;for(const n of this._lastBracketsData){let s=n.brackets;s&&(e[t++]={range:s[0],options:n.options},e[t++]={range:s[1],options:n.options})}this._decorations=this._editor.deltaDecorations(this._decorations,e)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const e=this._editor.getSelections();if(e.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const t=this._editor.getModel(),n=t.getVersionId();let s=[];this._lastVersionId===n&&(s=this._lastBracketsData);let r=[],h=0;for(let he=0,ze=e.length;he<ze;he++){let Xe=e[he];Xe.isEmpty()&&(r[h++]=Xe.getStartPosition())}r.length>1&&r.sort(Cn.L.compare);let S=[],Y=0,ne=0,Q=s.length;for(let he=0,ze=r.length;he<ze;he++){let Xe=r[he];for(;ne<Q&&s[ne].position.isBefore(Xe);)ne++;if(ne<Q&&s[ne].position.equals(Xe))S[Y++]=s[ne];else{let bt=t.bracketPairs.matchBracket(Xe,20),Gt=Nn._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!bt&&this._matchBrackets==="always"&&(bt=t.bracketPairs.findEnclosingBrackets(Xe,20),Gt=Nn._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),S[Y++]=new kn(Xe,bt,Gt)}}this._lastBracketsData=S,this._lastVersionId=n}}Nn.ID="editor.contrib.bracketMatchingController",Nn._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=Lt.qx.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,St.EN)(Jt),position:Pt.sh.Center}}),Nn._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=Lt.qx.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,Pe._K)(Nn.ID,Nn),(0,Pe.Qr)(Mn),(0,Pe.Qr)(mn),(0,St.Ic)((g,e)=>{const t=g.getColor(He.TC);t&&e.addRule(`.monaco-editor .bracket-match { background-color: ${t}; }`);const n=g.getColor(He.Dl);n&&e.addRule(`.monaco-editor .bracket-match { border: 1px solid ${n}; }`)}),Ve.BH.appendMenuItem(Ve.eH.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:Le.N({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});class xn{constructor(e,t){this._selection=e,this._isMovingLeft=t}getEditOperations(e,t){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const n=this._selection.startLineNumber,s=this._selection.startColumn,r=this._selection.endColumn;if(!(this._isMovingLeft&&s===1)&&!(!this._isMovingLeft&&r===e.getLineMaxColumn(n)))if(this._isMovingLeft){const h=new Ue.e(n,s-1,n,s),S=e.getValueInRange(h);t.addEditOperation(h,null),t.addEditOperation(new Ue.e(n,r,n,r),S)}else{const h=new Ue.e(n,r,n,r+1),S=e.getValueInRange(h);t.addEditOperation(h,null),t.addEditOperation(new Ue.e(n,s,n,s),S)}}computeCursorState(e,t){return this._isMovingLeft?new en.Y(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new en.Y(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}class Xn extends Pe.R6{constructor(e,t){super(t),this.left=e}run(e,t){if(!t.hasModel())return;const n=[],s=t.getSelections();for(const r of s)n.push(new xn(r,this.left));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class Sn extends Xn{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:Le.N("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:vt.u.writable})}}class Gn extends Xn{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:Le.N("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:vt.u.writable})}}(0,Pe.Qr)(Sn),(0,Pe.Qr)(Gn);var ti=l(27678),An=l(6779);class Bi extends Pe.R6{constructor(){super({id:"editor.action.transposeLetters",label:Le.N("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(e,t){if(!t.hasModel())return;let n=t.getModel(),s=[],r=t.getSelections();for(let h of r){if(!h.isEmpty())continue;let S=h.startLineNumber,Y=h.startColumn,ne=n.getLineMaxColumn(S);if(S===1&&(Y===1||Y===2&&ne===2))continue;let Q=Y===ne?h.getPosition():An.o.rightPosition(n,h.getPosition().lineNumber,h.getPosition().column),he=An.o.leftPosition(n,Q),ze=An.o.leftPosition(n,he),Xe=n.getValueInRange(Ue.e.fromPositions(ze,he)),bt=n.getValueInRange(Ue.e.fromPositions(he,Q)),Gt=Ue.e.fromPositions(ze,Q);s.push(new ti.T4(Gt,bt+Xe))}s.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop())}}(0,Pe.Qr)(Bi);var oi=l(50731),Yn=l(24180),Ci=l(67430),On=l(31753),Si=l(83410),Di=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};const ni="9_cutcopypaste",Kn=Yn.tY||document.queryCommandSupported("cut"),Pi=Yn.tY||document.queryCommandSupported("copy"),Vi=typeof navigator.clipboard=="undefined"||oi.isFirefox?document.queryCommandSupported("paste"):!0;function Oi(g){return g.register(),g}const _i=Kn?Oi(new Pe.AJ({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:Yn.tY?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:Ve.eH.MenubarEditMenu,group:"2_ccp",title:Le.N({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:Ve.eH.EditorContext,group:ni,title:Le.N("actions.clipboard.cutLabel","Cut"),when:vt.u.writable,order:1},{menuId:Ve.eH.CommandPalette,group:"",title:Le.N("actions.clipboard.cutLabel","Cut"),order:1},{menuId:Ve.eH.SimpleEditorContext,group:ni,title:Le.N("actions.clipboard.cutLabel","Cut"),when:vt.u.writable,order:1}]})):void 0,Ye=Pi?Oi(new Pe.AJ({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:Yn.tY?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:Ve.eH.MenubarEditMenu,group:"2_ccp",title:Le.N({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:Ve.eH.EditorContext,group:ni,title:Le.N("actions.clipboard.copyLabel","Copy"),order:2},{menuId:Ve.eH.CommandPalette,group:"",title:Le.N("actions.clipboard.copyLabel","Copy"),order:1},{menuId:Ve.eH.SimpleEditorContext,group:ni,title:Le.N("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;Ve.BH.appendMenuItem(Ve.eH.MenubarEditMenu,{submenu:Ve.eH.MenubarCopy,title:{value:Le.N("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),Ve.BH.appendMenuItem(Ve.eH.EditorContext,{submenu:Ve.eH.EditorContextCopy,title:{value:Le.N("copy as","Copy As"),original:"Copy As"},group:ni,order:3});const It=Vi?Oi(new Pe.AJ({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:Yn.tY?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:Ve.eH.MenubarEditMenu,group:"2_ccp",title:Le.N({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:Ve.eH.EditorContext,group:ni,title:Le.N("actions.clipboard.pasteLabel","Paste"),when:vt.u.writable,order:4},{menuId:Ve.eH.CommandPalette,group:"",title:Le.N("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:Ve.eH.SimpleEditorContext,group:ni,title:Le.N("actions.clipboard.pasteLabel","Paste"),when:vt.u.writable,order:4}]})):void 0;class cn extends Pe.R6{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:Le.N("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:vt.u.textInputFocus,primary:0,weight:100}})}run(e,t){!t.hasModel()||!t.getOption(32)&&t.getSelection().isEmpty()||(Ci.RA.forceCopyWithSyntaxHighlighting=!0,t.focus(),document.execCommand("copy"),Ci.RA.forceCopyWithSyntaxHighlighting=!1)}}function on(g,e){!g||(g.addImplementation(1e4,"code-editor",(t,n)=>{const s=t.get(On.$).getFocusedCodeEditor();if(s&&s.hasTextFocus()){const r=s.getOption(32),h=s.getSelection();return h&&h.isEmpty()&&!r||document.execCommand(e),!0}return!1}),g.addImplementation(0,"generic-dom",(t,n)=>(document.execCommand(e),!0)))}on(_i,"cut"),on(Ye,"copy"),It&&(It.addImplementation(1e4,"code-editor",(g,e)=>{const t=g.get(On.$),n=g.get(Si.p),s=t.getFocusedCodeEditor();return s&&s.hasTextFocus()?!document.execCommand("paste")&&Yn.$L?(()=>Di(void 0,void 0,void 0,function*(){const h=yield n.readText();if(h!==""){const S=Ci.Nl.INSTANCE.get(h);let Y=!1,ne=null,Q=null;S&&(Y=s.getOption(32)&&!!S.isFromEmptySelection,ne=typeof S.multicursorText!="undefined"?S.multicursorText:null,Q=S.mode),s.trigger("keyboard","paste",{text:h,pasteOnNewLine:Y,multicursorText:ne,mode:Q})}}))():!0:!1}),It.addImplementation(0,"generic-dom",(g,e)=>(document.execCommand("paste"),!0))),Pi&&(0,Pe.Qr)(cn);var bn=l(34484),hi=l(83098),En=l(76311),Zi=l(93167),ri=l(85231),ki=l(825),ui=l(91273),qi=l(47087),Xs=l(20299),zs=l(20169),Ki=l(58829),Os=l(11476);class ai{constructor(e){this.value=e}equals(e){return this.value===e.value}contains(e){return this.equals(e)||this.value===""||e.value.startsWith(this.value+ai.sep)}intersects(e){return this.contains(e)||e.contains(this)}append(e){return new ai(this.value+ai.sep+e)}}ai.sep=".",ai.None=new ai("@@none@@"),ai.Empty=new ai(""),ai.QuickFix=new ai("quickfix"),ai.Refactor=new ai("refactor"),ai.Source=new ai("source"),ai.SourceOrganizeImports=ai.Source.append("organizeImports"),ai.SourceFixAll=ai.Source.append("fixAll");function Jo(g,e){return!(g.include&&!g.include.intersects(e)||g.excludes&&g.excludes.some(t=>Ks(e,t,g.include))||!g.includeSourceActions&&ai.Source.contains(e))}function co(g,e){const t=e.kind?new ai(e.kind):void 0;return!(g.include&&(!t||!g.include.contains(t))||g.excludes&&t&&g.excludes.some(n=>Ks(t,n,g.include))||!g.includeSourceActions&&t&&ai.Source.contains(t)||g.onlyIncludePreferredActions&&!e.isPreferred)}function Ks(g,e,t){return!(!e.contains(g)||t&&e.contains(t))}class ts{constructor(e,t,n){this.kind=e,this.apply=t,this.preferred=n}static fromUser(e,t){return!e||typeof e!="object"?new ts(t.kind,t.apply,!1):new ts(ts.getKindFromUser(e,t.kind),ts.getApplyFromUser(e,t.apply),ts.getPreferredUser(e))}static getApplyFromUser(e,t){switch(typeof e.apply=="string"?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}}static getKindFromUser(e,t){return typeof e.kind=="string"?new ai(e.kind):t}static getPreferredUser(e){return typeof e.preferred=="boolean"?e.preferred:!1}}var bo=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};const Lo="editor.action.codeAction",Us="editor.action.refactor",Rs="editor.action.sourceAction",Ns="editor.action.organizeImports",Vo="editor.action.fixAll";class Po{constructor(e,t){this.action=e,this.provider=t}resolve(e){var t;return bo(this,void 0,void 0,function*(){if(((t=this.provider)===null||t===void 0?void 0:t.resolveCodeAction)&&!this.action.edit){let n;try{n=yield this.provider.resolveCodeAction(this.action,e)}catch(s){(0,ui.Cp)(s)}n&&(this.action.edit=n.edit)}return this})}}class $o extends lt.JT{constructor(e,t,n){super(),this.documentation=t,this._register(n),this.allActions=[...e].sort($o.codeActionsComparator),this.validActions=this.allActions.filter(({action:s})=>!s.disabled)}static codeActionsComparator({action:e},{action:t}){return e.isPreferred&&!t.isPreferred?-1:!e.isPreferred&&t.isPreferred?1:(0,ki.Of)(e.diagnostics)?(0,ki.Of)(t.diagnostics)?e.diagnostics[0].message.localeCompare(t.diagnostics[0].message):-1:(0,ki.Of)(t.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:e})=>!!e.kind&&ai.QuickFix.contains(new ai(e.kind))&&!!e.isPreferred)}}const go={actions:[],documentation:void 0};function Is(g,e,t,n,s,r){var h;const S=n.filter||{},Y={only:(h=S.include)===null||h===void 0?void 0:h.value,trigger:n.type},ne=new Xs.YQ(e,r),Q=Go(g,e,S),he=new lt.SL,ze=Q.map(bt=>bo(this,void 0,void 0,function*(){try{s.report(bt);const Gt=yield bt.provideCodeActions(e,t,Y,ne.token);if(Gt&&he.add(Gt),ne.token.isCancellationRequested)return go;const fn=((Gt==null?void 0:Gt.actions)||[]).filter(zn=>zn&&co(S,zn)),pn=qo(bt,fn,S.include);return{actions:fn.map(zn=>new Po(zn,bt)),documentation:pn}}catch(Gt){if((0,ui.n2)(Gt))throw Gt;return(0,ui.Cp)(Gt),go}})),Xe=g.onDidChange(()=>{const bt=g.all(e);(0,ki.fS)(bt,Q)||ne.cancel()});return Promise.all(ze).then(bt=>{const Gt=(0,ki.xH)(bt.map(pn=>pn.actions)),fn=(0,ki.kX)(bt.map(pn=>pn.documentation));return new $o(Gt,fn,he)}).finally(()=>{Xe.dispose(),ne.dispose()})}function Go(g,e,t){return g.all(e).filter(n=>n.providedCodeActionKinds?n.providedCodeActionKinds.some(s=>Jo(t,new ai(s))):!0)}function qo(g,e,t){if(!g.documentation)return;const n=g.documentation.map(s=>({kind:new ai(s.kind),command:s.command}));if(t){let s;for(const r of n)r.kind.contains(t)&&(s?s.kind.contains(r.kind)&&(s=r):s=r);if(s)return s==null?void 0:s.command}for(const s of e)if(!!s.kind){for(const r of n)if(r.kind.contains(new ai(s.kind)))return r.command}}Ki.P0.registerCommand("_executeCodeActionProvider",function(g,e,t,n,s){return bo(this,void 0,void 0,function*(){if(!(e instanceof qi.o))throw(0,ui.b1)();const{codeActionProvider:r}=g.get(ri.p),h=g.get(zs.q).getModel(e);if(!h)throw(0,ui.b1)();const S=en.Y.isISelection(t)?en.Y.liftSelection(t):Ue.e.isIRange(t)?h.validateRange(t):void 0;if(!S)throw(0,ui.b1)();const Y=typeof n=="string"?new ai(n):void 0,ne=yield Is(r,h,S,{type:1,filter:{includeSourceActions:!0,include:Y}},Os.Ex.None,bn.T.None),Q=[],he=Math.min(ne.validActions.length,typeof s=="number"?s:0);for(let ze=0;ze<he;ze++)Q.push(ne.validActions[ze].resolve(bn.T.None));try{return yield Promise.all(Q),ne.validActions.map(ze=>ze.action)}finally{setTimeout(()=>ne.dispose(),100)}})});var Xi=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Gs=function(g,e){return function(t,n){e(t,n,g)}};let es=class $0{constructor(e,t){this._messageWidget=new lt.XK,this._messageListeners=new lt.SL,this._editor=e,this._visible=$0.MESSAGE_VISIBLE.bindTo(t),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(e){return e.getContribution($0.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(e,t){(0,Rt.Z9)(e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new tn(this._editor,t,e),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new Ht._F(()=>this.closeMessage(),3e3));let n;this._messageListeners.add(this._editor.onMouseMove(s=>{!s.target.position||(n?n.containsPosition(s.target.position)||this.closeMessage():n=new Ue.e(t.lineNumber-3,1,s.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(tn.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(Le.N("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())}};es.ID="editor.contrib.messageController",es.MESSAGE_VISIBLE=new nn.uy("messageVisible",!1,Le.N("messageVisible","Whether the editor is currently showing an inline message")),es=Xi([Gs(1,nn.i6)],es);const va=Pe._l.bindToContribution(es.get);(0,Pe.fK)(new va({id:"leaveEditorMessage",precondition:es.MESSAGE_VISIBLE,handler:g=>g.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class tn{constructor(e,{lineNumber:t,column:n},s){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(t,t,0),this._position={lineNumber:t,column:n-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const r=document.createElement("div");r.classList.add("anchor","top"),this._domNode.appendChild(r);const h=document.createElement("div");h.classList.add("message"),h.textContent=s,this._domNode.appendChild(h);const S=document.createElement("div");S.classList.add("anchor","below"),this._domNode.appendChild(S),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(e){let t;const n=()=>{e.dispose(),clearTimeout(t),e.getDomNode().removeEventListener("animationend",n)};return t=setTimeout(n,110),e.getDomNode().addEventListener("animationend",n),e.getDomNode().classList.add("fadeOut"),{dispose:n}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(e){this._domNode.classList.toggle("below",e===2)}}(0,Pe._K)(es.ID,es);var G=l(95024),q=l(50082),fe=l(83337),p=l(18708),F=l(49622),Z=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},de=function(g,e){return function(t,n){e(t,n,g)}},pe=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};class Ie extends fe.aU{constructor(e,t){super(e.command?e.command.id:e.title,st(e.title),void 0,!e.disabled,t),this.action=e}}function st(g){return g.replace(/\r\n|\r|\n/g," ")}let ot=class extends lt.JT{constructor(e,t,n,s,r){super(),this._editor=e,this._delegate=t,this._contextMenuService=n,this._languageFeaturesService=r,this._visible=!1,this._showingActions=this._register(new lt.XK),this._keybindingResolver=new pt({getKeybindings:()=>s.getKeybindings()})}get isVisible(){return this._visible}show(e,t,n,s){return pe(this,void 0,void 0,function*(){const r=s.includeDisabledActions?t.allActions:t.validActions;if(!r.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,(0,ui.F0)();this._visible=!0,this._showingActions.value=t;const h=this.getMenuActions(e,r,t.documentation),S=Cn.L.isIPosition(n)?this._toCoords(n):n||{x:0,y:0},Y=this._keybindingResolver.getResolver(),ne=this._editor.getOption(115);this._contextMenuService.showContextMenu({domForShadowRoot:ne?this._editor.getDomNode():void 0,getAnchor:()=>S,getActions:()=>h,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:Q=>Q instanceof Ie?Y(Q.action):void 0})})}getMenuActions(e,t,n){var s,r;const h=Q=>new Ie(Q.action,()=>this._delegate.onSelectCodeAction(Q)),S=t.map(h),Y=[...n],ne=this._editor.getModel();if(ne&&S.length)for(const Q of this._languageFeaturesService.codeActionProvider.all(ne))Q._getAdditionalMenuItems&&Y.push(...Q._getAdditionalMenuItems({trigger:e.type,only:(r=(s=e.filter)===null||s===void 0?void 0:s.include)===null||r===void 0?void 0:r.value},t.map(he=>he.action)));return Y.length&&S.push(new fe.Z0,...Y.map(Q=>h(new Po({title:Q.title,command:Q},void 0)))),S}_toCoords(e){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(e,1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(e),n=(0,q.i)(this._editor.getDomNode()),s=n.left+t.left,r=n.top+t.top+t.height;return{x:s,y:r}}};ot=Z([de(2,p.i),de(3,F.d),de(4,ri.p)],ot);class pt{constructor(e){this._keybindingProvider=e}getResolver(){const e=new hi.o(()=>this._keybindingProvider.getKeybindings().filter(t=>pt.codeActionCommands.indexOf(t.command)>=0).filter(t=>t.resolvedKeybinding).map(t=>{let n=t.commandArgs;return t.command===Ns?n={kind:ai.SourceOrganizeImports.value}:t.command===Vo&&(n={kind:ai.SourceFixAll.value}),Object.assign({resolvedKeybinding:t.resolvedKeybinding},ts.fromUser(n,{kind:ai.None,apply:"never"}))}));return t=>{if(t.kind){const n=this.bestKeybindingForCodeAction(t,e.getValue());return n==null?void 0:n.resolvedKeybinding}}}bestKeybindingForCodeAction(e,t){if(!e.kind)return;const n=new ai(e.kind);return t.filter(s=>s.kind.contains(n)).filter(s=>s.preferred?e.isPreferred:!0).reduceRight((s,r)=>s?s.kind.contains(r.kind)?r:s:r,void 0)}}pt.codeActionCommands=[Us,Lo,Rs,Ns,Vo];var mt=l(14401),xt=l(50364),ft=l(74696),wt=l(60774),_n=l(68270),$n=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Wn=function(g,e){return function(t,n){e(t,n,g)}},fi;(function(g){g.Hidden={type:0};class e{constructor(n,s,r,h){this.actions=n,this.trigger=s,this.editorPosition=r,this.widgetPosition=h,this.type=1}}g.Showing=e})(fi||(fi={}));let Fi=class mv extends lt.JT{constructor(e,t,n,s){super(),this._editor=e,this._quickFixActionId=t,this._preferredFixActionId=n,this._keybindingService=s,this._onClick=this._register(new wt.Q5),this.onClick=this._onClick.event,this._state=fi.Hidden,this._domNode=document.createElement("div"),this._domNode.className=ft.lA.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(r=>{const h=this._editor.getModel();(this.state.type!==1||!h||this.state.editorPosition.lineNumber>=h.getLineCount())&&this.hide()})),xt.o.ignoreTarget(this._domNode),this._register(q.GQ(this._domNode,r=>{if(this.state.type!==1)return;this._editor.focus(),r.preventDefault();const{top:h,height:S}=q.i(this._domNode),Y=this._editor.getOption(59);let ne=Math.floor(Y/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(ne+=Y),this._onClick.fire({x:r.posx,y:h+S+ne,actions:this.state.actions,trigger:this.state.trigger})})),this._register(q.nm(this._domNode,"mouseenter",r=>{if((r.buttons&1)!==1)return;this.hide();const h=new mt.Z;h.startMonitoring(r.target,r.buttons,mt.e,()=>{},()=>{h.dispose()})})),this._register(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(57)&&!this._editor.getOption(57).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(e,t,n){if(e.validActions.length<=0)return this.hide();const s=this._editor.getOptions();if(!s.get(57).enabled)return this.hide();const r=this._editor.getModel();if(!r)return this.hide();const{lineNumber:h,column:S}=r.validatePosition(n),Y=r.getOptions().tabSize,ne=s.get(44),Q=r.getLineContent(h),he=(0,_n.q)(Q,Y),ze=ne.spaceWidth*he>22,Xe=Gt=>Gt>2&&this._editor.getTopForLineNumber(Gt)===this._editor.getTopForLineNumber(Gt-1);let bt=h;if(!ze){if(h>1&&!Xe(h-1))bt-=1;else if(!Xe(h+1))bt+=1;else if(S*ne.spaceWidth<22)return this.hide()}this.state=new fi.Showing(e,t,n,{position:{lineNumber:bt,column:1},preference:mv._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=fi.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(e){this._state=e,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...ft.lA.lightBulb.classNamesArray),this._domNode.classList.add(...ft.lA.lightbulbAutofix.classNamesArray);const t=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(t){this.title=Le.N("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",t.getLabel());return}}this._domNode.classList.remove(...ft.lA.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...ft.lA.lightBulb.classNamesArray);const e=this._keybindingService.lookupKeybinding(this._quickFixActionId);e?this.title=Le.N("codeActionWithKb","Show Code Actions ({0})",e.getLabel()):this.title=Le.N("codeAction","Show Code Actions")}set title(e){this._domNode.title=e}};Fi._posPref=[0],Fi=$n([Wn(3,F.d)],Fi),(0,St.Ic)((g,e)=>{var t;const n=(t=g.getColor(Se.cvW))===null||t===void 0?void 0:t.transparent(.7),s=g.getColor(Se.Fu1);s&&e.addRule(`
		.monaco-editor .contentWidgets ${ft.lA.lightBulb.cssSelector} {
			color: ${s};
			background-color: ${n};
		}`);const r=g.getColor(Se.sKV);r&&e.addRule(`
		.monaco-editor .contentWidgets ${ft.lA.lightbulbAutofix.cssSelector} {
			color: ${r};
			background-color: ${n};
		}`)});var jt=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},vi=function(g,e){return function(t,n){e(t,n,g)}},rs=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})},Fs=function(g,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?g!==e||!s:!e.has(g))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(g,t):s?s.value=t:e.set(g,t),t},Js=function(g,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?g!==e||!n:!e.has(g))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(g):n?n.value:e.get(g)},gr;let Zo=class extends lt.JT{constructor(e,t,n,s,r){super(),this._editor=e,this.delegate=s,this._activeCodeActions=this._register(new lt.XK),gr.set(this,!1),this._codeActionWidget=new hi.o(()=>this._register(r.createInstance(ot,this._editor,{onSelectCodeAction:h=>rs(this,void 0,void 0,function*(){this.delegate.applyCodeAction(h,!0)})}))),this._lightBulbWidget=new hi.o(()=>{const h=this._register(r.createInstance(Fi,this._editor,t,n));return this._register(h.onClick(S=>this.showCodeActionList(S.trigger,S.actions,S,{includeDisabledActions:!1}))),h})}dispose(){Fs(this,gr,!0,"f"),super.dispose()}update(e){var t,n,s,r,h;return rs(this,void 0,void 0,function*(){if(e.type!==1){(t=this._lightBulbWidget.rawValue)===null||t===void 0||t.hide();return}let S;try{S=yield e.actions}catch(Y){(0,ui.dL)(Y);return}if(!Js(this,gr,"f"))if(this._lightBulbWidget.getValue().update(S,e.trigger,e.position),e.trigger.type===1){if(!((n=e.trigger.filter)===null||n===void 0)&&n.include){const ne=this.tryGetValidActionToApply(e.trigger,S);if(ne){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(ne,!1)}finally{S.dispose()}return}if(e.trigger.context){const Q=this.getInvalidActionThatWouldHaveBeenApplied(e.trigger,S);if(Q&&Q.action.disabled){(s=es.get(this._editor))===null||s===void 0||s.showMessage(Q.action.disabled,e.trigger.context.position),S.dispose();return}}}const Y=!!(!((r=e.trigger.filter)===null||r===void 0)&&r.include);if(e.trigger.context&&(!S.allActions.length||!Y&&!S.validActions.length)){(h=es.get(this._editor))===null||h===void 0||h.showMessage(e.trigger.context.notAvailableMessage,e.trigger.context.position),this._activeCodeActions.value=S,S.dispose();return}this._activeCodeActions.value=S,this._codeActionWidget.getValue().show(e.trigger,S,e.position,{includeDisabledActions:Y})}else this._codeActionWidget.getValue().isVisible?S.dispose():this._activeCodeActions.value=S})}getInvalidActionThatWouldHaveBeenApplied(e,t){if(!!t.allActions.length&&(e.autoApply==="first"&&t.validActions.length===0||e.autoApply==="ifSingle"&&t.allActions.length===1))return t.allActions.find(({action:n})=>n.disabled)}tryGetValidActionToApply(e,t){if(!!t.validActions.length&&(e.autoApply==="first"&&t.validActions.length>0||e.autoApply==="ifSingle"&&t.validActions.length===1))return t.validActions[0]}showCodeActionList(e,t,n,s){return rs(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(e,t,n,s)})}};gr=new WeakMap,Zo=jt([vi(4,G.TG)],Zo);var ls=l(28236),zi=l(3565),ks=l(27983),Ss=l(63795),Mr=function(g,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?g!==e||!n:!e.has(g))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(g):n?n.value:e.get(g)},Io=function(g,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?g!==e||!s:!e.has(g))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(g,t):s?s.value=t:e.set(g,t),t},us;const uo=new nn.uy("supportedCodeAction","");class xo extends lt.JT{constructor(e,t,n,s=250){super(),this._editor=e,this._markerService=t,this._signalChange=n,this._delay=s,this._autoTriggerTimer=this._register(new Ht._F),this._register(this._markerService.onMarkerChanged(r=>this._onMarkerChanges(r))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(e){const t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);return this._createEventAndSignalChange(e,t)}_onMarkerChanges(e){const t=this._editor.getModel();!t||e.some(n=>(0,Ss.Xy)(n,t.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(e){const t=this._editor.getModel();if(!!t)for(const n of this._markerService.read({resource:t.uri})){const s=t.validateRange(n);if(Ue.e.intersectRanges(s,e))return Ue.e.lift(s)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),n=this._editor.getSelection();if(n.isEmpty()&&e.type===2){const{lineNumber:s,column:r}=n.getPosition(),h=t.getLineContent(s);if(h.length===0)return;if(r===1){if(/\s/.test(h[0]))return}else if(r===t.getLineMaxColumn(s)){if(/\s/.test(h[h.length-1]))return}else if(/\s/.test(h[r-2])&&/\s/.test(h[r-1]))return}return n}_createEventAndSignalChange(e,t){const n=this._editor.getModel();if(!t||!n){this._signalChange(void 0);return}const s=this._getRangeOfMarker(t),r=s?s.getStartPosition():t.getStartPosition(),h={trigger:e,selection:t,position:r};return this._signalChange(h),h}}var Sr;(function(g){g.Empty={type:0};class e{constructor(n,s,r,h){this.trigger=n,this.rangeOrSelection=s,this.position=r,this._cancellablePromise=h,this.type=1,this.actions=h.catch(S=>{if((0,ui.n2)(S))return mr;throw S})}cancel(){this._cancellablePromise.cancel()}}g.Triggered=e})(Sr||(Sr={}));const mr={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class Eo extends lt.JT{constructor(e,t,n,s,r){super(),this._editor=e,this._registry=t,this._markerService=n,this._progressService=r,this._codeActionOracle=this._register(new lt.XK),this._state=Sr.Empty,this._onDidChangeState=this._register(new wt.Q5),this.onDidChangeState=this._onDidChangeState.event,us.set(this,!1),this._supportedCodeActions=uo.bindTo(s),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){Mr(this,us,"f")||(Io(this,us,!0,"f"),super.dispose(),this.setState(Sr.Empty,!0))}_update(){if(Mr(this,us,"f"))return;this._codeActionOracle.value=void 0,this.setState(Sr.Empty);const e=this._editor.getModel();if(e&&this._registry.has(e)&&!this._editor.getOption(81)){const t=[];for(const n of this._registry.all(e))Array.isArray(n.providedCodeActionKinds)&&t.push(...n.providedCodeActionKinds);this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new xo(this._editor,this._markerService,n=>{var s;if(!n){this.setState(Sr.Empty);return}const r=(0,Ht.PG)(h=>Is(this._registry,e,n.selection,n.trigger,Os.Ex.None,h));n.trigger.type===1&&((s=this._progressService)===null||s===void 0||s.showWhile(r,250)),this.setState(new Sr.Triggered(n.trigger,n.selection,n.position,r))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(e){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(e)}setState(e,t){e!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=e,!t&&!Mr(this,us,"f")&&this._onDidChangeState.fire(e))}}us=new WeakMap;var xi=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},nt=function(g,e){return function(t,n){e(t,n,g)}},Ae=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};function dt(g){return nn.Ao.regex(uo.keys()[0],new RegExp("(\\s|^)"+(0,En.ec)(g.value)+"\\b"))}const Bt={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:Le.N("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:Le.N("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[Le.N("args.schema.apply.first","Always apply the first returned code action."),Le.N("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),Le.N("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:Le.N("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};let Yt=class pv extends lt.JT{constructor(e,t,n,s,r,h){super(),this._instantiationService=r,this._editor=e,this._model=this._register(new Eo(this._editor,h.codeActionProvider,t,n,s)),this._register(this._model.onDidChangeState(S=>this.update(S))),this._ui=new hi.o(()=>this._register(new Zo(e,Li.Id,er.Id,{applyCodeAction:(S,Y)=>Ae(this,void 0,void 0,function*(){try{yield this._applyCodeAction(S)}finally{Y&&this._trigger({type:2,filter:{}})}})},this._instantiationService)))}static get(e){return e.getContribution(pv.ID)}update(e){this._ui.getValue().update(e)}showCodeActions(e,t,n){return this._ui.getValue().showCodeActionList(e,t,n,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(e,t,n){var s;if(!this._editor.hasModel())return;(s=es.get(this._editor))===null||s===void 0||s.closeMessage();const r=this._editor.getPosition();this._trigger({type:1,filter:t,autoApply:n,context:{notAvailableMessage:e,position:r}})}_trigger(e){return this._model.trigger(e)}_applyCodeAction(e){return this._instantiationService.invokeFunction(ln,e,this._editor)}};Yt.ID="editor.contrib.quickFixController",Yt=xi([nt(1,ls.lT),nt(2,nn.i6),nt(3,Os.ek),nt(4,G.TG),nt(5,ri.p)],Yt);function ln(g,e,t){return Ae(this,void 0,void 0,function*(){const n=g.get(Zi.vu),s=g.get(Ki.Hy),r=g.get(ks.b),h=g.get(zi.lT);if(r.publicLog2("codeAction.applyCodeAction",{codeActionTitle:e.action.title,codeActionKind:e.action.kind,codeActionIsPreferred:!!e.action.isPreferred}),yield e.resolve(bn.T.None),e.action.edit&&(yield n.apply(Zi.fo.convert(e.action.edit),{editor:t,label:e.action.title})),e.action.command)try{yield s.executeCommand(e.action.command.id,...e.action.command.arguments||[])}catch(S){const Y=jn(S);h.error(typeof Y=="string"?Y:Le.N("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function jn(g){return typeof g=="string"?g:g instanceof Error&&typeof g.message=="string"?g.message:void 0}function ci(g,e,t,n){if(g.hasModel()){const s=Yt.get(g);s&&s.manualTriggerAtCurrentPosition(e,t,n)}}class Li extends Pe.R6{constructor(){super({id:Li.Id,label:Le.N("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:nn.Ao.and(vt.u.writable,vt.u.hasCodeActionsProvider),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:2132,weight:100}})}run(e,t){return ci(t,Le.N("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0)}}Li.Id="editor.action.quickFix";class is extends Pe._l{constructor(){super({id:Lo,precondition:nn.Ao.and(vt.u.writable,vt.u.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:Bt}]}})}runEditorCommand(e,t,n){const s=ts.fromUser(n,{kind:ai.Empty,apply:"ifSingle"});return ci(t,typeof(n==null?void 0:n.kind)=="string"?s.preferred?Le.N("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",n.kind):Le.N("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",n.kind):s.preferred?Le.N("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):Le.N("editor.action.codeAction.noneMessage","No code actions available"),{include:s.kind,includeSourceActions:!0,onlyIncludePreferredActions:s.preferred},s.apply)}}class Ts extends Pe.R6{constructor(){super({id:Us,label:Le.N("refactor.label","Refactor..."),alias:"Refactor...",precondition:nn.Ao.and(vt.u.writable,vt.u.hasCodeActionsProvider),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:nn.Ao.and(vt.u.writable,dt(ai.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:Bt}]}})}run(e,t,n){const s=ts.fromUser(n,{kind:ai.Refactor,apply:"never"});return ci(t,typeof(n==null?void 0:n.kind)=="string"?s.preferred?Le.N("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",n.kind):Le.N("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",n.kind):s.preferred?Le.N("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):Le.N("editor.action.refactor.noneMessage","No refactorings available"),{include:ai.Refactor.contains(s.kind)?s.kind:ai.None,onlyIncludePreferredActions:s.preferred},s.apply)}}class Ls extends Pe.R6{constructor(){super({id:Rs,label:Le.N("source.label","Source Action..."),alias:"Source Action...",precondition:nn.Ao.and(vt.u.writable,vt.u.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:nn.Ao.and(vt.u.writable,dt(ai.Source))},description:{description:"Source Action...",args:[{name:"args",schema:Bt}]}})}run(e,t,n){const s=ts.fromUser(n,{kind:ai.Source,apply:"never"});return ci(t,typeof(n==null?void 0:n.kind)=="string"?s.preferred?Le.N("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",n.kind):Le.N("editor.action.source.noneMessage.kind","No source actions for '{0}' available",n.kind):s.preferred?Le.N("editor.action.source.noneMessage.preferred","No preferred source actions available"):Le.N("editor.action.source.noneMessage","No source actions available"),{include:ai.Source.contains(s.kind)?s.kind:ai.None,includeSourceActions:!0,onlyIncludePreferredActions:s.preferred},s.apply)}}class wo extends Pe.R6{constructor(){super({id:Ns,label:Le.N("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:nn.Ao.and(vt.u.writable,dt(ai.SourceOrganizeImports)),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1581,weight:100}})}run(e,t){return ci(t,Le.N("editor.action.organize.noneMessage","No organize imports action available"),{include:ai.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}class Ho extends Pe.R6{constructor(){super({id:Vo,label:Le.N("fixAll.label","Fix All"),alias:"Fix All",precondition:nn.Ao.and(vt.u.writable,dt(ai.SourceFixAll))})}run(e,t){return ci(t,Le.N("fixAll.noneMessage","No fix all action available"),{include:ai.SourceFixAll,includeSourceActions:!0},"ifSingle")}}class er extends Pe.R6{constructor(){super({id:er.Id,label:Le.N("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:nn.Ao.and(vt.u.writable,dt(ai.QuickFix)),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(e,t){return ci(t,Le.N("editor.action.autoFix.noneMessage","No auto fixes available"),{include:ai.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}er.Id="editor.action.autoFix",(0,Pe._K)(Yt.ID,Yt),(0,Pe.Qr)(Li),(0,Pe.Qr)(Ts),(0,Pe.Qr)(Ls),(0,Pe.Qr)(wo),(0,Pe.Qr)(er),(0,Pe.Qr)(Ho),(0,Pe.fK)(new is);var jl=l(53099),Pa=l(756),so=l(36143),gs=l(37061),Yo=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};class pr{constructor(){this.lenses=[],this._disposables=new lt.SL}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(e,t){this._disposables.add(e);for(const n of e.lenses)this.lenses.push({symbol:n,provider:t})}}function sa(g,e,t){return Yo(this,void 0,void 0,function*(){const n=g.ordered(e),s=new Map,r=new pr,h=n.map((S,Y)=>Yo(this,void 0,void 0,function*(){s.set(S,Y);try{const ne=yield Promise.resolve(S.provideCodeLenses(e,t));ne&&r.add(ne,S)}catch(ne){(0,ui.Cp)(ne)}}));return yield Promise.all(h),r.lenses=r.lenses.sort((S,Y)=>S.symbol.range.startLineNumber<Y.symbol.range.startLineNumber?-1:S.symbol.range.startLineNumber>Y.symbol.range.startLineNumber?1:s.get(S.provider)<s.get(Y.provider)?-1:s.get(S.provider)>s.get(Y.provider)?1:S.symbol.range.startColumn<Y.symbol.range.startColumn?-1:S.symbol.range.startColumn>Y.symbol.range.startColumn?1:0),r})}Ki.P0.registerCommand("_executeCodeLensProvider",function(g,...e){let[t,n]=e;(0,gs.p_)(qi.o.isUri(t)),(0,gs.p_)(typeof n=="number"||!n);const{codeLensProvider:s}=g.get(ri.p),r=g.get(zs.q).getModel(t);if(!r)throw(0,ui.b1)();const h=[],S=new lt.SL;return sa(s,r,bn.T.None).then(Y=>{S.add(Y);let ne=[];for(const Q of Y.lenses)n==null||Boolean(Q.symbol.command)?h.push(Q.symbol):n-- >0&&Q.provider.resolveCodeLens&&ne.push(Promise.resolve(Q.provider.resolveCodeLens(r,Q.symbol,bn.T.None)).then(he=>h.push(he||Q.symbol)));return Promise.all(ne)}).then(()=>h).finally(()=>{setTimeout(()=>S.dispose(),100)})});var Oa=l(26372),kr=l(30860),tr=l(74896),ar=l(99371),Sl=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},wd=function(g,e){return function(t,n){e(t,n,g)}};const $a=(0,G.yh)("ICodeLensCache");class Ll{constructor(e,t){this.lineCount=e,this.data=t}}let El=class{constructor(e){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new kr.z6(20,.75);const t="codelens/cache";(0,Ht.To)(()=>e.remove(t,1));const n="codelens/cache2",s=e.get(n,1,"{}");this._deserialize(s),(0,Oa.I)(e.onWillSaveState)(r=>{r.reason===ar.fk.SHUTDOWN&&e.store(n,this._serialize(),1,1)})}put(e,t){const n=t.lenses.map(h=>{var S;return{range:h.symbol.range,command:h.symbol.command&&{id:"",title:(S=h.symbol.command)===null||S===void 0?void 0:S.title}}}),s=new pr;s.add({lenses:n,dispose:()=>{}},this._fakeProvider);const r=new Ll(e.getLineCount(),s);this._cache.set(e.uri.toString(),r)}get(e){const t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0}delete(e){this._cache.delete(e.uri.toString())}_serialize(){const e=Object.create(null);for(const[t,n]of this._cache){const s=new Set;for(const r of n.data.lenses)s.add(r.symbol.range.startLineNumber);e[t]={lineCount:n.lineCount,lines:[...s.values()]}}return JSON.stringify(e)}_deserialize(e){try{const t=JSON.parse(e);for(const n in t){const s=t[n],r=[];for(const S of s.lines)r.push({range:new Ue.e(S,1,S,11)});const h=new pr;h.add({lenses:r,dispose(){}},this._fakeProvider),this._cache.set(n,new Ll(s.lineCount,h))}}catch(t){}}};El=Sl([wd(0,ar.Uy)],El),(0,tr.z)($a,El);var cl=l(41612);class Uc{constructor(e,t,n){this.afterColumn=1073741824,this.afterLineNumber=e,this.heightInPx=t,this._onHeight=n,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(e){this._lastHeight===void 0?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class Ca{constructor(e,t,n){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=e,this._id=`codelens.widget-${Ca._idPool++}`,this.updatePosition(n),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${t}`}withCommands(e,t){this._commands.clear();let n=[],s=!1;for(let r=0;r<e.length;r++){const h=e[r];if(!!h&&(s=!0,h.command)){const S=(0,cl.T)(h.command.title.trim());h.command.id?(n.push(q.$("a",{id:String(r),title:h.command.tooltip},...S)),this._commands.set(String(r),h.command)):n.push(q.$("span",{title:h.command.tooltip},...S)),r+1<e.length&&n.push(q.$("span",void 0,"\xA0|\xA0"))}}s?(q.mc(this._domNode,...n),this._isEmpty&&t&&this._domNode.classList.add("fadein"),this._isEmpty=!1):q.mc(this._domNode,q.$("span",void 0,"no commands"))}getCommand(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(e){const t=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:t},preference:[1]}}getPosition(){return this._widgetPosition||null}}Ca._idPool=0;class lr{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)}removeDecoration(e){this._removeDecorations.push(e)}commit(e){let t=e.deltaDecorations(this._removeDecorations,this._addDecorations);for(let n=0,s=t.length;n<s;n++)this._addDecorationsCallbacks[n](t[n])}}class mi{constructor(e,t,n,s,r,h,S){this._isDisposed=!1,this._editor=t,this._className=n,this._data=e,this._decorationIds=[];let Y,ne=[];this._data.forEach((Q,he)=>{Q.symbol.command&&ne.push(Q.symbol),s.addDecoration({range:Q.symbol.range,options:Lt.qx.EMPTY},ze=>this._decorationIds[he]=ze),Y?Y=Ue.e.plusRange(Y,Q.symbol.range):Y=Ue.e.lift(Q.symbol.range)}),this._viewZone=new Uc(Y.startLineNumber-1,h,S),this._viewZoneId=r.addZone(this._viewZone),ne.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(ne,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new Ca(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(e,t){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],t&&t.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((e,t)=>{const n=this._editor.getModel().getDecorationRange(e),s=this._data[t].symbol;return!!(n&&Ue.e.isEmpty(s.range)===n.isEmpty())})}updateCodeLensSymbols(e,t){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=e,this._data.forEach((n,s)=>{t.addDecoration({range:n.symbol.range,options:Lt.qx.EMPTY},r=>this._decorationIds[s]=r)})}updateHeight(e,t){this._viewZone.heightInPx=e,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(e){if(!this._viewZone.isVisible())return null;for(let t=0;t<this._decorationIds.length;t++){const n=e.getDecorationRange(this._decorationIds[t]);n&&(this._data[t].symbol.range=n)}return this._data}updateCommands(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(let t=0;t<this._data.length;t++){const n=e[t];if(n){const{symbol:s}=this._data[t];s.command=n.command||s.command}}}getCommand(e){var t;return(t=this._contentWidget)===null||t===void 0?void 0:t.getCommand(e)}getLineNumber(){const e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1}update(e){if(this.isValid()){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}var $s=l(52045),xs=l(56708),zo=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},oo=function(g,e){return function(t,n){e(t,n,g)}},fc=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};let Qr=class{constructor(e,t,n,s,r,h){this._editor=e,this._languageFeaturesService=t,this._commandService=s,this._notificationService=r,this._codeLensCache=h,this._disposables=new lt.SL,this._localToDispose=new lt.SL,this._lenses=[],this._oldCodeLensModels=new lt.SL,this._provideCodeLensDebounce=n.for(t.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=n.for(t.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new Ht.pY(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(S=>{(S.hasChanged(44)||S.hasChanged(16)||S.hasChanged(15))&&this._updateLensStyle(),S.hasChanged(14)&&this._onModelChange()})),this._disposables.add(t.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,jl.vp)(this._editor.getId()).toString(16),this._styleElement=q.dS(q.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var e;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(e=this._currentCodeLensModel)===null||e===void 0||e.dispose(),this._styleElement.remove()}_getLayoutInfo(){let e=this._editor.getOption(16),t;return!e||e<5?(e=this._editor.getOption(46)*.9|0,t=this._editor.getOption(59)):t=e*Math.max(1.3,this._editor.getOption(59)/this._editor.getOption(46))|0,{codeLensHeight:t,fontSize:e}}_updateLensStyle(){const{codeLensHeight:e,fontSize:t}=this._getLayoutInfo(),n=this._editor.getOption(15),s=this._editor.getOption(44),r=`--codelens-font-family${this._styleClassName}`,h=`--codelens-font-features${this._styleClassName}`;let S=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${e}px; font-size: ${t}px; padding-right: ${Math.round(t*.5)}px; font-feature-settings: var(${h}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${e}px; font-size: ${t}px; }
		`;n&&(S+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${r}), ${so.hL.fontFamily}}`),this._styleElement.textContent=S,this._editor.getContainerDomNode().style.setProperty(r,n!=null?n:"inherit"),this._editor.getContainerDomNode().style.setProperty(h,s.fontFeatureSettings),this._editor.changeViewZones(Y=>{for(let ne of this._lenses)ne.updateHeight(e,Y)})}_localDispose(){var e,t,n;(e=this._getCodeLensModelPromise)===null||e===void 0||e.cancel(),this._getCodeLensModelPromise=void 0,(t=this._resolveCodeLensesPromise)===null||t===void 0||t.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(n=this._currentCodeLensModel)===null||n===void 0||n.dispose()}_onModelChange(){this._localDispose();const e=this._editor.getModel();if(!e||!this._editor.getOption(14))return;const t=this._codeLensCache.get(e);if(t&&this._renderCodeLensSymbols(t),!this._languageFeaturesService.codeLensProvider.has(e)){t&&this._localToDispose.add((0,Ht.Vg)(()=>{const s=this._codeLensCache.get(e);t===s&&(this._codeLensCache.delete(e),this._onModelChange())},30*1e3));return}for(const s of this._languageFeaturesService.codeLensProvider.all(e))if(typeof s.onDidChange=="function"){let r=s.onDidChange(()=>n.schedule());this._localToDispose.add(r)}const n=new Ht.pY(()=>{var s;const r=Date.now();(s=this._getCodeLensModelPromise)===null||s===void 0||s.cancel(),this._getCodeLensModelPromise=(0,Ht.PG)(h=>sa(this._languageFeaturesService.codeLensProvider,e,h)),this._getCodeLensModelPromise.then(h=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=h,this._codeLensCache.put(e,h);const S=this._provideCodeLensDebounce.update(e,Date.now()-r);n.delay=S,this._renderCodeLensSymbols(h),this._resolveCodeLensesInViewportSoon()},ui.dL)},this._provideCodeLensDebounce.get(e));this._localToDispose.add(n),this._localToDispose.add((0,lt.OF)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(s=>{this._editor.changeViewZones(r=>{let h=[],S=-1;this._lenses.forEach(ne=>{!ne.isValid()||S===ne.getLineNumber()?h.push(ne):(ne.update(r),S=ne.getLineNumber())});let Y=new lr;h.forEach(ne=>{ne.dispose(Y,r),this._lenses.splice(this._lenses.indexOf(ne),1)}),Y.commit(s)})}),n.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{n.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(s=>{s.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,lt.OF)(()=>{if(this._editor.getModel()){const s=Pa.Z.capture(this._editor);this._editor.changeDecorations(r=>{this._editor.changeViewZones(h=>{this._disposeAllLenses(r,h)})}),s.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(s=>{if(s.target.type!==9)return;let r=s.target.element;if((r==null?void 0:r.tagName)==="SPAN"&&(r=r.parentElement),(r==null?void 0:r.tagName)==="A")for(const h of this._lenses){let S=h.getCommand(r);if(S){this._commandService.executeCommand(S.id,...S.arguments||[]).catch(Y=>this._notificationService.error(Y));break}}})),n.schedule()}_disposeAllLenses(e,t){const n=new lr;for(const s of this._lenses)s.dispose(n,t);e&&n.commit(e),this._lenses.length=0}_renderCodeLensSymbols(e){if(!this._editor.hasModel())return;let t=this._editor.getModel().getLineCount(),n=[],s;for(let S of e.lenses){let Y=S.symbol.range.startLineNumber;Y<1||Y>t||(s&&s[s.length-1].symbol.range.startLineNumber===Y?s.push(S):(s=[S],n.push(s)))}const r=Pa.Z.capture(this._editor),h=this._getLayoutInfo();this._editor.changeDecorations(S=>{this._editor.changeViewZones(Y=>{const ne=new lr;let Q=0,he=0;for(;he<n.length&&Q<this._lenses.length;){let ze=n[he][0].symbol.range.startLineNumber,Xe=this._lenses[Q].getLineNumber();Xe<ze?(this._lenses[Q].dispose(ne,Y),this._lenses.splice(Q,1)):Xe===ze?(this._lenses[Q].updateCodeLensSymbols(n[he],ne),he++,Q++):(this._lenses.splice(Q,0,new mi(n[he],this._editor,this._styleClassName,ne,Y,h.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),Q++,he++)}for(;Q<this._lenses.length;)this._lenses[Q].dispose(ne,Y),this._lenses.splice(Q,1);for(;he<n.length;)this._lenses.push(new mi(n[he],this._editor,this._styleClassName,ne,Y,h.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),he++;ne.commit(S)})}),r.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var e;(e=this._resolveCodeLensesPromise)===null||e===void 0||e.cancel(),this._resolveCodeLensesPromise=void 0;const t=this._editor.getModel();if(!t)return;const n=[],s=[];if(this._lenses.forEach(S=>{const Y=S.computeIfNecessary(t);Y&&(n.push(Y),s.push(S))}),n.length===0)return;const r=Date.now(),h=(0,Ht.PG)(S=>{const Y=n.map((ne,Q)=>{const he=new Array(ne.length),ze=ne.map((Xe,bt)=>!Xe.symbol.command&&typeof Xe.provider.resolveCodeLens=="function"?Promise.resolve(Xe.provider.resolveCodeLens(t,Xe.symbol,S)).then(Gt=>{he[bt]=Gt},ui.Cp):(he[bt]=Xe.symbol,Promise.resolve(void 0)));return Promise.all(ze).then(()=>{!S.isCancellationRequested&&!s[Q].isDisposed()&&s[Q].updateCommands(he)})});return Promise.all(Y)});this._resolveCodeLensesPromise=h,this._resolveCodeLensesPromise.then(()=>{const S=this._resolveCodeLensesDebounce.update(t,Date.now()-r);this._resolveCodeLensesScheduler.delay=S,this._currentCodeLensModel&&this._codeLensCache.put(t,this._currentCodeLensModel),this._oldCodeLensModels.clear(),h===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},S=>{(0,ui.dL)(S),h===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};Qr.ID="css.editor.codeLens",Qr=zo([oo(1,ri.p),oo(2,xs.A),oo(3,Ki.Hy),oo(4,zi.lT),oo(5,$a)],Qr),(0,Pe._K)(Qr.ID,Qr),(0,Pe.Qr)(class extends Pe.R6{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:vt.u.hasCodeLensProvider,label:(0,Le.N)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(e,t){return fc(this,void 0,void 0,function*(){if(!t.hasModel())return;const n=e.get($s.eJ),s=e.get(Ki.Hy),r=e.get(zi.lT),h=t.getSelection().positionLineNumber,S=t.getContribution(Qr.ID);if(!S)return;const Y=S.getModel();if(!Y)return;const ne=[];for(const he of Y.lenses)he.symbol.command&&he.symbol.range.startLineNumber===h&&ne.push({label:he.symbol.command.title,command:he.symbol.command});if(ne.length===0)return;const Q=yield n.pick(ne,{canPickMany:!1});if(!!Q){if(Y.isDisposed)return yield s.executeCommand(this.id);try{yield s.executeCommand(Q.command.id,...Q.command.arguments||[])}catch(he){r.error(he)}}})}});var Ei=l(8957),Ji=l(57734),Cs=l(80269);function ro(g,e,t){const n=[],r=g.ordered(e).reverse().map(h=>Promise.resolve(h.provideDocumentColors(e,t)).then(S=>{if(Array.isArray(S))for(let Y of S)n.push({colorInfo:Y,provider:h})}));return Promise.all(r).then(()=>n)}function Do(g,e,t,n){return Promise.resolve(t.provideColorPresentations(g,e,n))}Ki.P0.registerCommand("_executeDocumentColorProvider",function(g,...e){const[t]=e;if(!(t instanceof qi.o))throw(0,ui.b1)();const{colorProvider:n}=g.get(ri.p),s=g.get(zs.q).getModel(t);if(!s)throw(0,ui.b1)();const r=[],S=n.ordered(s).reverse().map(Y=>Promise.resolve(Y.provideDocumentColors(s,bn.T.None)).then(ne=>{if(Array.isArray(ne))for(let Q of ne)r.push({range:Q.range,color:[Q.color.red,Q.color.green,Q.color.blue,Q.color.alpha]})}));return Promise.all(S).then(()=>r)}),Ki.P0.registerCommand("_executeColorPresentationProvider",function(g,...e){const[t,n]=e,{uri:s,range:r}=n;if(!(s instanceof qi.o)||!Array.isArray(t)||t.length!==4||!Ue.e.isIRange(r))throw(0,ui.b1)();const[h,S,Y,ne]=t,{colorProvider:Q}=g.get(ri.p),he=g.get(zs.q).getModel(s);if(!he)throw(0,ui.b1)();const ze={range:r,color:{red:h,green:S,blue:Y,alpha:ne}},Xe=[],Gt=Q.ordered(he).reverse().map(fn=>Promise.resolve(fn.provideColorPresentations(he,ze,bn.T.None)).then(pn=>{Array.isArray(pn)&&Xe.push(...pn)}));return Promise.all(Gt).then(()=>Xe)});var js=l(68491),Oo=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Lr=function(g,e){return function(t,n){e(t,n,g)}},Ga=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};const jc=Object.create({}),Kc=500;let ba=class _v extends lt.JT{constructor(e,t,n,s){super(),this._editor=e,this._configurationService=t,this._languageFeaturesService=n,this._localToDispose=this._register(new lt.SL),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=new Set,this._ruleFactory=new Cs.t7(this._editor),this._colorDecorationClassRefs=this._register(new lt.SL),this._debounceInformation=s.for(n.colorProvider,"Document Colors",{min:_v.RECOMPUTE_TIME}),this._register(e.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(e.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(n.colorProvider.onDidChange(()=>this.onModelChanged())),this._register(e.onDidChangeConfiguration(()=>{let r=this._isEnabled;this._isEnabled=this.isEnabled(),r!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const e=this._editor.getModel();if(!e)return!1;const t=e.getLanguageId(),n=this._configurationService.getValue(t);if(n&&typeof n=="object"){const s=n.colorDecorators;if(s&&s.enable!==void 0&&!s.enable)return s.enable}return this._editor.getOption(17)}static get(e){return e.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const e=this._editor.getModel();!e||!this._languageFeaturesService.colorProvider.has(e)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new Ht._F,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(e)))})),this.beginCompute())}beginCompute(){this._computePromise=(0,Ht.PG)(e=>Ga(this,void 0,void 0,function*(){const t=this._editor.getModel();if(!t)return Promise.resolve([]);const n=new Ji.G(!1),s=yield ro(this._languageFeaturesService.colorProvider,t,e);return this._debounceInformation.update(t,n.elapsed()),s})),this._computePromise.then(e=>{this.updateDecorations(e),this.updateColorDecorators(e),this._computePromise=null},ui.dL)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(e){const t=e.map(n=>({range:{startLineNumber:n.colorInfo.range.startLineNumber,startColumn:n.colorInfo.range.startColumn,endLineNumber:n.colorInfo.range.endLineNumber,endColumn:n.colorInfo.range.endColumn},options:Lt.qx.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,t),this._colorDatas=new Map,this._decorationsIds.forEach((n,s)=>this._colorDatas.set(n,e[s]))}updateColorDecorators(e){this._colorDecorationClassRefs.clear();let t=[];for(let n=0;n<e.length&&t.length<Kc;n++){const{red:s,green:r,blue:h,alpha:S}=e[n].colorInfo.color,Y=new Ei.VS(Math.round(s*255),Math.round(r*255),Math.round(h*255),S);let ne=`rgba(${Y.r}, ${Y.g}, ${Y.b}, ${Y.a})`;const Q=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:ne}));t.push({range:{startLineNumber:e[n].colorInfo.range.startLineNumber,startColumn:e[n].colorInfo.range.startColumn,endLineNumber:e[n].colorInfo.range.endLineNumber,endColumn:e[n].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:En.B4,inlineClassName:`${Q.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:jc}}})}this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],t))}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],[])),this._colorDecorationClassRefs.clear()}getColorData(e){const t=this._editor.getModel();if(!t)return null;const n=t.getDecorationsInRange(Ue.e.fromPositions(e,e)).filter(s=>this._colorDatas.has(s.id));return n.length===0?null:this._colorDatas.get(n[0].id)}isColorDecorationId(e){return this._colorDecoratorIds.has(e)}};ba.ID="editor.contrib.colorDetector",ba.RECOMPUTE_TIME=1e3,ba=Oo([Lr(1,js.Ui),Lr(2,ri.p),Lr(3,xs.A)],ba),(0,Pe._K)(ba.ID,ba);class yd{constructor(e,t,n){this.presentationIndex=n,this._onColorFlushed=new wt.Q5,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new wt.Q5,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new wt.Q5,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=e,this._color=e,this._colorPresentations=t}get color(){return this._color}set color(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(e,t){for(let n=0;n<this.colorPresentations.length;n++)if(t.toLowerCase()===this.colorPresentations[n].label){this.presentationIndex=n,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}var _r=l(31246);const Rr=q.$;class Sd extends lt.JT{constructor(e,t,n){super(),this.model=t,this.domNode=Rr(".colorpicker-header"),q.R3(e,this.domNode),this.pickedColorNode=q.R3(this.domNode,Rr(".picked-color"));const s=(0,Le.N)("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this.pickedColorNode.setAttribute("title",s);const r=q.R3(this.domNode,Rr(".original-color"));r.style.backgroundColor=Ei.Il.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=n.getColorTheme().getColor(Se.yJx)||Ei.Il.white,this._register((0,St.Ic)((h,S)=>{this.backgroundColor=h.getColor(Se.yJx)||Ei.Il.white})),this._register(q.nm(this.pickedColorNode,q.tw.CLICK,()=>this.model.selectNextColorPresentation())),this._register(q.nm(r,q.tw.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this._register(t.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=Ei.Il.Format.CSS.format(t.color)||"",this.pickedColorNode.classList.toggle("light",t.color.rgba.a<.5?this.backgroundColor.isLighter():t.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){this.pickedColorNode.style.backgroundColor=Ei.Il.Format.CSS.format(e)||"",this.pickedColorNode.classList.toggle("light",e.rgba.a<.5?this.backgroundColor.isLighter():e.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(Rr(".codicon.codicon-color-mode"))}}class Za extends lt.JT{constructor(e,t,n){super(),this.model=t,this.pixelRatio=n,this.domNode=Rr(".colorpicker-body"),q.R3(e,this.domNode),this.saturationBox=new Kl(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new Ld(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new $l(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:e,v:t}){const n=this.model.color.hsva;this.model.color=new Ei.Il(new Ei.tx(n.h,e,t,n.a))}onDidOpacityChange(e){const t=this.model.color.hsva;this.model.color=new Ei.Il(new Ei.tx(t.h,t.s,t.v,e))}onDidHueChange(e){const t=this.model.color.hsva,n=(1-e)*360;this.model.color=new Ei.Il(new Ei.tx(n===360?0:n,t.s,t.v,t.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}class Kl extends lt.JT{constructor(e,t,n){super(),this.model=t,this.pixelRatio=n,this._onDidChange=new wt.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new wt.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=Rr(".saturation-wrap"),q.R3(e,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",q.R3(this.domNode,this.canvas),this.selection=Rr(".saturation-selection"),q.R3(this.domNode,this.selection),this.layout(),this._register(q.u0(this.domNode,s=>this.onMouseDown(s))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(e){this.monitor=this._register(new mt.Z);const t=q.i(this.domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(e.target,e.buttons,mt.e,s=>this.onDidChangePosition(s.posx-t.left,s.posy-t.top),()=>null);const n=q.q6(document,()=>{this._onColorFlushed.fire(),n.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(e,t){const n=Math.max(0,Math.min(1,e/this.width)),s=Math.max(0,Math.min(1,1-t/this.height));this.paintSelection(n,s),this._onDidChange.fire({s:n,v:s})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const e=this.model.color.hsva;this.paintSelection(e.s,e.v)}paint(){const e=this.model.color.hsva,t=new Ei.Il(new Ei.tx(e.h,1,1,1)),n=this.canvas.getContext("2d"),s=n.createLinearGradient(0,0,this.canvas.width,0);s.addColorStop(0,"rgba(255, 255, 255, 1)"),s.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),s.addColorStop(1,"rgba(255, 255, 255, 0)");const r=n.createLinearGradient(0,0,0,this.canvas.height);r.addColorStop(0,"rgba(0, 0, 0, 0)"),r.addColorStop(1,"rgba(0, 0, 0, 1)"),n.rect(0,0,this.canvas.width,this.canvas.height),n.fillStyle=Ei.Il.Format.CSS.format(t),n.fill(),n.fillStyle=s,n.fill(),n.fillStyle=r,n.fill()}paintSelection(e,t){this.selection.style.left=`${e*this.width}px`,this.selection.style.top=`${this.height-t*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class Dl extends lt.JT{constructor(e,t){super(),this.model=t,this._onDidChange=new wt.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new wt.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=q.R3(e,Rr(".strip")),this.overlay=q.R3(this.domNode,Rr(".overlay")),this.slider=q.R3(this.domNode,Rr(".slider")),this.slider.style.top="0px",this._register(q.u0(this.domNode,n=>this.onMouseDown(n))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const e=this.getValue(this.model.color);this.updateSliderPosition(e)}onMouseDown(e){const t=this._register(new mt.Z),n=q.i(this.domNode);this.domNode.classList.add("grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),t.startMonitoring(e.target,e.buttons,mt.e,r=>this.onDidChangeTop(r.posy-n.top),()=>null);const s=q.q6(document,()=>{this._onColorFlushed.fire(),s.dispose(),t.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(e){const t=Math.max(0,Math.min(1,1-e/this.height));this.updateSliderPosition(t),this._onDidChange.fire(t)}updateSliderPosition(e){this.slider.style.top=`${(1-e)*this.height}px`}}class Ld extends Dl{constructor(e,t){super(e,t),this.domNode.classList.add("opacity-strip"),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){const{r:t,g:n,b:s}=e.rgba,r=new Ei.Il(new Ei.VS(t,n,s,1)),h=new Ei.Il(new Ei.VS(t,n,s,0));this.overlay.style.background=`linear-gradient(to bottom, ${r} 0%, ${h} 100%)`}getValue(e){return e.hsva.a}}class $l extends Dl{constructor(e,t){super(e,t),this.domNode.classList.add("hue-strip")}getValue(e){return 1-e.hsva.h/360}}class nr extends _r.${constructor(e,t,n,s){super(),this.model=t,this.pixelRatio=n,this._register(oi.PixelRatio.onDidChange(()=>this.layout()));const r=Rr(".colorpicker-widget");e.appendChild(r);const h=new Sd(r,this.model,s);this.body=new Za(r,this.model,this.pixelRatio),this._register(h),this._register(this.body)}layout(){this.body.layout()}}var $c=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Ya=function(g,e){return function(t,n){e(t,n,g)}},Qa=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};class dl{constructor(e,t,n,s){this.owner=e,this.range=t,this.model=n,this.provider=s,this.forceShowAtRange=!0}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let gc=class{constructor(e,t){this._editor=e,this._themeService=t,this.hoverOrdinal=1}computeSync(e,t){return[]}computeAsync(e,t,n){return Ht.Aq.fromPromise(this._computeAsync(e,t,n))}_computeAsync(e,t,n){return Qa(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const s=ba.get(this._editor);if(!s)return[];for(const r of t){if(!s.isColorDecorationId(r.id))continue;const h=s.getColorData(r.range.getStartPosition());if(h)return[yield this._createColorHover(this._editor.getModel(),h.colorInfo,h.provider)]}return[]})}_createColorHover(e,t,n){return Qa(this,void 0,void 0,function*(){const s=e.getValueInRange(t.range),{red:r,green:h,blue:S,alpha:Y}=t.color,ne=new Ei.VS(Math.round(r*255),Math.round(h*255),Math.round(S*255),Y),Q=new Ei.Il(ne),he=yield Do(e,t,n,bn.T.None),ze=new yd(Q,[],0);return ze.colorPresentations=he||[],ze.guessColorPresentation(Q,s),new dl(this,Ue.e.lift(t.range),ze,n)})}renderHoverParts(e,t){if(t.length===0||!this._editor.hasModel())return lt.JT.None;const n=new lt.SL,s=t[0],r=this._editor.getModel(),h=s.model,S=n.add(new nr(e.fragment,h,this._editor.getOption(129),this._themeService));e.setColorPicker(S);let Y=new Ue.e(s.range.startLineNumber,s.range.startColumn,s.range.endLineNumber,s.range.endColumn);const ne=()=>{let he,ze;if(h.presentation.textEdit){he=[h.presentation.textEdit],ze=new Ue.e(h.presentation.textEdit.range.startLineNumber,h.presentation.textEdit.range.startColumn,h.presentation.textEdit.range.endLineNumber,h.presentation.textEdit.range.endColumn);const Xe=this._editor.getModel()._setTrackedRange(null,ze,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",he),ze=this._editor.getModel()._getTrackedRange(Xe)||ze}else he=[{range:Y,text:h.presentation.label,forceMoveMarkers:!1}],ze=Y.setEndPosition(Y.endLineNumber,Y.startColumn+h.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",he);h.presentation.additionalTextEdits&&(he=[...h.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",he),e.hide()),this._editor.pushUndoStop(),Y=ze},Q=he=>Do(r,{range:Y,color:{red:he.rgba.r/255,green:he.rgba.g/255,blue:he.rgba.b/255,alpha:he.rgba.a}},s.provider,bn.T.None).then(ze=>{h.colorPresentations=ze||[]});return n.add(h.onColorFlushed(he=>{Q(he).then(ne)})),n.add(h.onDidChangeColor(Q)),n}};gc=$c([Ya(1,St.XE)],gc);var Xr=l(50661),oa=l(60166);function wa(g,e){return!!g[e]}class Gc{constructor(e,t){this.target=e.target,this.hasTriggerModifier=wa(e.event,t.triggerModifier),this.hasSideBySideModifier=wa(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=e.event.detail<=1}}class ra{constructor(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=wa(e,t.triggerModifier)}}class xl{constructor(e,t,n,s){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=n,this.triggerSideBySideModifier=s}equals(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier}}function Gl(g){return g==="altKey"?Yn.dz?new xl(57,"metaKey",6,"altKey"):new xl(5,"ctrlKey",6,"altKey"):Yn.dz?new xl(6,"altKey",57,"metaKey"):new xl(6,"altKey",5,"ctrlKey")}class Nl extends lt.JT{constructor(e){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new wt.Q5),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new wt.Q5),this.onExecute=this._onExecute.event,this._onCancel=this._register(new wt.Q5),this.onCancel=this._onCancel.event,this._editor=e,this._opts=Gl(this._editor.getOption(70)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(t=>{if(t.hasChanged(70)){const n=Gl(this._editor.getOption(70));if(this._opts.equals(n))return;this._opts=n,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(t=>this._onEditorMouseMove(new Gc(t,this._opts)))),this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(new Gc(t,this._opts)))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(new Gc(t,this._opts)))),this._register(this._editor.onKeyDown(t=>this._onEditorKeyDown(new ra(t,this._opts)))),this._register(this._editor.onKeyUp(t=>this._onEditorKeyUp(new ra(t,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(t=>this._onDidChangeCursorSelection(t))),this._register(this._editor.onDidChangeModel(t=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(t=>{(t.scrollTopChanged||t.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(e){this._lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])}_onEditorMouseDown(e){this._hasTriggerKeyOnMouseDown=e.hasTriggerModifier,this._lineNumberOnMouseDown=e.target.position?e.target.position.lineNumber:0}_onEditorMouseUp(e){const t=e.target.position?e.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t&&this._onExecute.fire(e)}_onEditorKeyDown(e){this._lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}var ul=l(46984),Jr=l(42893),hl=l(40761),ao=l(34181),Zc=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},ya=function(g,e){return function(t,n){e(t,n,g)}};let Il=class extends Tt.Gm{constructor(e,t,n,s,r,h,S,Y,ne,Q,he,ze){super(e,Object.assign(Object.assign({},n.getRawOptions()),{overflowWidgetsDomNode:n.getOverflowWidgetsDomNode()}),{},s,r,h,S,Y,ne,Q,he,ze),this._parentEditor=n,this._overwriteOptions=t,super.updateOptions(this._overwriteOptions),this._register(n.onDidChangeConfiguration(Xe=>this._onParentConfigurationChanged(Xe)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(e){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(e){Jr.jB(this._overwriteOptions,e,!0),super.updateOptions(this._overwriteOptions)}};Il=Zc([ya(3,G.TG),ya(4,On.$),ya(5,Ki.Hy),ya(6,nn.i6),ya(7,St.XE),ya(8,zi.lT),ya(9,hl.F),ya(10,ao.c_),ya(11,ri.p)],Il);var aa=l(36819),Zl=l(58893);const Ed=new Ei.Il(new Ei.VS(0,122,204)),Dd={showArrow:!0,showFrame:!0,className:"",frameColor:Ed,arrowColor:Ed,keepEditorSelection:!1},mc="vs.editor.contrib.zoneWidget";class xd{constructor(e,t,n,s,r,h){this.id="",this.domNode=e,this.afterLineNumber=t,this.afterColumn=n,this.heightInLines=s,this._onDomNodeTop=r,this._onComputedHeight=h}onDomNodeTop(e){this._onDomNodeTop(e)}onComputedHeight(e){this._onComputedHeight(e)}}class Ar{constructor(e,t){this._id=e,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class Fa{constructor(e){this._editor=e,this._ruleName=Fa._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),q.uN(this._ruleName)}set color(e){this._color!==e&&(this._color=e,this._updateStyle())}set height(e){this._height!==e&&(this._height=e,this._updateStyle())}_updateStyle(){q.uN(this._ruleName),q.fk(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(e){e.column===1&&(e={lineNumber:e.lineNumber,column:2}),this._decorations=this._editor.deltaDecorations(this._decorations,[{range:Ue.e.fromPositions(e),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}Fa._IdGenerator=new Zl.R(".arrow-decoration-");class pc{constructor(e,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new lt.SL,this.container=null,this._isShowing=!1,this.editor=e,this.options=Jr.I8(t),Jr.jB(this.options,Dd,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(n=>{const s=this._getWidth(n);this.domNode.style.width=s+"px",this.domNode.style.left=this._getLeft(n)+"px",this._onWidth(s)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new Fa(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){let e=this.options.arrowColor.toString();this._arrow.color=e}}_getWidth(e){return e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}_getLeft(e){return e.minimap.minimapWidth>0&&e.minimap.minimapLeft===0?e.minimap.minimapWidth:0}_onViewZoneTop(e){this.domNode.style.top=e+"px"}_onViewZoneHeight(e){if(this.domNode.style.height=`${e}px`,this.container){let t=e-this._decoratingElementsHeight();this.container.style.height=`${t}px`;const n=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(n))}this._resizeSash&&this._resizeSash.layout()}get position(){const[e]=this._positionMarkerId;if(!e)return;const t=this.editor.getModel();if(!t)return;const n=t.getDecorationRange(e);if(!!n)return n.getStartPosition()}show(e,t){const n=Ue.e.isIRange(e)?Ue.e.lift(e):Ue.e.fromPositions(e);this._isShowing=!0,this._showImpl(n,t),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:n,options:Lt.qx.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(e=>{this._viewZone&&e.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let e=this.editor.getOption(59),t=0;if(this.options.showArrow){let n=Math.round(e/3);t+=2*n}if(this.options.showFrame){let n=Math.round(e/9);t+=2*n}return t}_showImpl(e,t){const n=e.getStartPosition(),s=this.editor.getLayoutInfo(),r=this._getWidth(s);this.domNode.style.width=`${r}px`,this.domNode.style.left=this._getLeft(s)+"px";const h=document.createElement("div");h.style.overflow="hidden";const S=this.editor.getOption(59),Y=Math.max(12,this.editor.getLayoutInfo().height/S*.8);t=Math.min(t,Y);let ne=0,Q=0;if(this._arrow&&this.options.showArrow&&(ne=Math.round(S/3),this._arrow.height=ne,this._arrow.show(n)),this.options.showFrame&&(Q=Math.round(S/9)),this.editor.changeViewZones(Xe=>{this._viewZone&&Xe.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new xd(h,n.lineNumber,n.column,t,bt=>this._onViewZoneTop(bt),bt=>this._onViewZoneHeight(bt)),this._viewZone.id=Xe.addZone(this._viewZone),this._overlayWidget=new Ar(mc+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const Xe=this.options.frameWidth?this.options.frameWidth:Q;this.container.style.borderTopWidth=Xe+"px",this.container.style.borderBottomWidth=Xe+"px"}let he=t*S-this._decoratingElementsHeight();this.container&&(this.container.style.top=ne+"px",this.container.style.height=he+"px",this.container.style.overflow="hidden"),this._doLayout(he,r),this.options.keepEditorSelection||this.editor.setSelection(e);const ze=this.editor.getModel();if(ze){const Xe=e.endLineNumber+1;Xe<=ze.getLineCount()?this.revealLine(Xe,!1):this.revealLine(ze.getLineCount(),!0)}}revealLine(e,t){t?this.editor.revealLineInCenter(e,0):this.editor.revealLine(e,0)}setCssClass(e,t){!this.container||(t&&this.container.classList.remove(t),this.container.classList.add(e))}_onWidth(e){}_doLayout(e,t){}_relayout(e){this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones(t=>{this._viewZone&&(this._viewZone.heightInLines=e,t.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new aa.g(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let e;this._disposables.add(this._resizeSash.onDidStart(t=>{this._viewZone&&(e={startY:t.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{e=void 0})),this._disposables.add(this._resizeSash.onDidChange(t=>{if(e){let n=(t.currentY-e.startY)/this.editor.getOption(59),s=n<0?Math.ceil(n):Math.floor(n),r=e.heightInLines+s;r>5&&r<35&&this._relayout(r)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const e=this.editor.getLayoutInfo();return e.width-e.minimap.minimapWidth}}var Ba=l(16259),Tl=l(96050);class Yc extends fe.Wi{constructor(e,t){super(),this._onDidChangeVisibility=this._register(new wt.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,q.R3)(e,(0,q.$)(".monaco-dropdown")),this._label=(0,q.R3)(this._element,(0,q.$)(".dropdown-label"));let n=t.labelRenderer;n||(n=r=>(r.textContent=t.label||"",null));for(const r of[q.tw.CLICK,q.tw.MOUSE_DOWN,xt.t.Tap])this._register((0,q.nm)(this.element,r,h=>q.zB.stop(h,!0)));for(const r of[q.tw.MOUSE_DOWN,xt.t.Tap])this._register((0,q.nm)(this._label,r,h=>{h instanceof MouseEvent&&h.detail>1||(this.visible?this.hide():this.show())}));this._register((0,q.nm)(this._label,q.tw.KEY_UP,r=>{const h=new Ba.y(r);(h.equals(3)||h.equals(10))&&(q.zB.stop(r,!0),this.visible?this.hide():this.show())}));const s=n(this._label);s&&this._register(s),this._register(xt.o.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class fl extends Yc{constructor(e,t){super(e,t),this._actions=[],this._contextMenuProvider=t.contextMenuProvider,this.actions=t.actions||[],this.actionProvider=t.actionProvider,this.menuClassName=t.menuClassName||"",this.menuAsChild=!!t.menuAsChild}set menuOptions(e){this._menuOptions=e}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(e){this._actions=e}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:e=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(e):void 0,getKeyBinding:e=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(e):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class Ml extends Tl.Y{constructor(e,t,n,s=Object.create(null)){super(null,e,s),this.actionItem=null,this._onDidChangeVisibility=this._register(new wt.Q5),this.menuActionsOrProvider=t,this.contextMenuProvider=n,this.options=s,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(e){this.actionItem=e;const t=r=>{this.element=(0,q.R3)(r,(0,q.$)("a.action-label"));let h=[];return typeof this.options.classNames=="string"?h=this.options.classNames.split(/\s+/g).filter(S=>!!S):this.options.classNames&&(h=this.options.classNames),h.find(S=>S==="icon")||h.push("codicon"),this.element.classList.add(...h),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},n=Array.isArray(this.menuActionsOrProvider),s={contextMenuProvider:this.contextMenuProvider,labelRenderer:t,menuAsChild:this.options.menuAsChild,actions:n?this.menuActionsOrProvider:void 0,actionProvider:n?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new fl(e,s)),this._register(this.dropdownMenu.onDidChangeVisibility(r=>{var h;(h=this.element)===null||h===void 0||h.setAttribute("aria-expanded",`${r}`),this._onDidChangeVisibility.fire(r)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const r=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return r.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(e){super.setActionContext(e),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=e:this.dropdownMenu.menuOptions={context:e})}updateEnabled(){var e,t;const n=!this.getAction().enabled;(e=this.actionItem)===null||e===void 0||e.classList.toggle("disabled",n),(t=this.element)===null||t===void 0||t.classList.toggle("disabled",n)}}var Qc=l(26899),Yl=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Sa=function(g,e){return function(t,n){e(t,n,g)}},_c=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};function Ql(g,e,t,n,s,r,h){const S=g.getActions(e);return Xl(S,t,!1,typeof n=="string"?ne=>ne===n:n,s,r,h),Nd(S)}function Nd(g){const e=new lt.SL;for(const[,t]of g)for(const n of t)e.add(n);return e}function Xl(g,e,t,n=S=>S==="navigation",s=Number.MAX_SAFE_INTEGER,r=()=>!1,h=!1){let S,Y;Array.isArray(e)?(S=e,Y=e):(S=e.primary,Y=e.secondary);const ne=new Set;for(const[Q,he]of g){let ze;n(Q)?(ze=S,ze.length>0&&h&&ze.push(new fe.Z0)):(ze=Y,ze.length>0&&ze.push(new fe.Z0));for(let Xe of he){t&&(Xe=Xe instanceof Ve.U8&&Xe.alt?Xe.alt:Xe);const bt=ze.push(Xe);Xe instanceof fe.wY&&ne.add({group:Q,action:Xe,index:bt-1})}}for(const{group:Q,action:he,index:ze}of ne){const Xe=n(Q)?S:Y,bt=he.actions;(bt.length<=1||Xe.length+bt.length-2<=s)&&r(he,Q,Xe.length)&&Xe.splice(ze,1,...bt)}if(S!==Y&&S.length>s){const Q=S.splice(s,S.length-s);Y.unshift(...Q,new fe.Z0)}}let Xa=class extends Tl.g{constructor(e,t,n,s,r){super(void 0,e,{icon:!!(e.class||e.item.icon),label:!e.class&&!e.item.icon,draggable:t==null?void 0:t.draggable}),this._keybindingService=n,this._notificationService=s,this._contextKeyService=r,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new lt.XK),this._altKey=q._q.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(e){return _c(this,void 0,void 0,function*(){e.preventDefault(),e.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(t){this._notificationService.error(t)}})}render(e){super.render(e),e.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let t=!1,n=this._altKey.keyStatus.altKey||(Yn.ED||Yn.IJ)&&this._altKey.keyStatus.shiftKey;const s=()=>{const r=t&&n;r!==this._wantsAltCommand&&(this._wantsAltCommand=r,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(r=>{n=r.altKey||(Yn.ED||Yn.IJ)&&r.shiftKey,s()})),this._register((0,q.nm)(e,"mouseleave",r=>{t=!1,s()})),this._register((0,q.nm)(e,"mouseenter",r=>{t=!0,s()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const e=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),t=e&&e.getLabel(),n=this._commandAction.tooltip||this._commandAction.label;let s=t?(0,Le.N)("titleAndKb","{0} ({1})",n,t):n;if(!this._wantsAltCommand&&this._menuItemAction.alt){const r=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,h=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),S=h&&h.getLabel(),Y=S?(0,Le.N)("titleAndKb","{0} ({1})",r,S):r;s+=`
[${Qc.xo.modifierLabels[Yn.OS].altKey}] ${Y}`}this.label.title=s}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(e){var t;this._itemClassDispose.value=void 0;const{element:n,label:s}=this;if(!n||!s)return;const r=this._commandAction.checked&&((t=e.toggled)===null||t===void 0?void 0:t.icon)?e.toggled.icon:e.icon;if(!!r)if(St.kS.isThemeIcon(r)){const h=St.kS.asClassNameArray(r);s.classList.add(...h),this._itemClassDispose.value=(0,lt.OF)(()=>{s.classList.remove(...h)})}else r.light&&s.style.setProperty("--menu-entry-icon-light",(0,q.wY)(r.light)),r.dark&&s.style.setProperty("--menu-entry-icon-dark",(0,q.wY)(r.dark)),s.classList.add("icon"),this._itemClassDispose.value=(0,lt.OF)(()=>{s.classList.remove("icon"),s.style.removeProperty("--menu-entry-icon-light"),s.style.removeProperty("--menu-entry-icon-dark")})}};Xa=Yl([Sa(2,F.d),Sa(3,zi.lT),Sa(4,nn.i6)],Xa);let Wa=class extends Ml{constructor(e,t,n){var s,r;const h=Object.assign({},t!=null?t:Object.create(null),{menuAsChild:(s=t==null?void 0:t.menuAsChild)!==null&&s!==void 0?s:!1,classNames:(r=t==null?void 0:t.classNames)!==null&&r!==void 0?r:St.kS.isThemeIcon(e.item.icon)?St.kS.asClassName(e.item.icon):void 0});super(e,{getActions:()=>e.actions},n,h)}render(e){if(super.render(e),this.element){e.classList.add("menu-entry");const{icon:t}=this._action.item;t&&!St.kS.isThemeIcon(t)&&(this.element.classList.add("icon"),t.light&&this.element.style.setProperty("--menu-entry-icon-light",(0,q.wY)(t.light)),t.dark&&this.element.style.setProperty("--menu-entry-icon-dark",(0,q.wY)(t.dark)))}}};Wa=Yl([Sa(2,p.i)],Wa);let Er=class extends Tl.Y{constructor(e,t,n,s,r,h,S,Y){var ne,Q,he;super(null,e),this._keybindingService=n,this._notificationService=s,this._contextMenuService=r,this._menuService=h,this._instaService=S,this._storageService=Y,this._container=null,this._storageKey=`${e.item.submenu._debugName}_lastActionId`;let ze,Xe=Y.get(this._storageKey,1);Xe&&(ze=e.actions.find(Gt=>Xe===Gt.id)),ze||(ze=e.actions[0]),this._defaultAction=this._instaService.createInstance(Xa,ze,void 0);const bt=Object.assign({},t!=null?t:Object.create(null),{menuAsChild:(ne=t==null?void 0:t.menuAsChild)!==null&&ne!==void 0?ne:!0,classNames:(Q=t==null?void 0:t.classNames)!==null&&Q!==void 0?Q:["codicon","codicon-chevron-down"],actionRunner:(he=t==null?void 0:t.actionRunner)!==null&&he!==void 0?he:new fe.Wi});this._dropdown=new Ml(e,e.actions,this._contextMenuService,bt),this._dropdown.actionRunner.onDidRun(Gt=>{Gt.action instanceof Ve.U8&&this.update(Gt.action)})}update(e){this._storageService.store(this._storageKey,e.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(Xa,e,void 0),this._defaultAction.actionRunner=new class extends fe.Wi{runAction(t,n){return _c(this,void 0,void 0,function*(){yield t.run(void 0)})}},this._container&&this._defaultAction.render((0,q.Ce)(this._container,(0,q.$)(".action-container")))}setActionContext(e){super.setActionContext(e),this._defaultAction.setActionContext(e),this._dropdown.setActionContext(e)}render(e){this._container=e,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const t=(0,q.$)(".action-container");this._defaultAction.render((0,q.R3)(this._container,t)),this._register((0,q.nm)(t,q.tw.KEY_DOWN,s=>{const r=new Ba.y(s);r.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),r.stopPropagation())}));const n=(0,q.$)(".dropdown-action-container");this._dropdown.render((0,q.R3)(this._container,n)),this._register((0,q.nm)(n,q.tw.KEY_DOWN,s=>{var r;const h=new Ba.y(s);h.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(r=this._defaultAction.element)===null||r===void 0||r.focus(),h.stopPropagation())}))}focus(e){e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(e){e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};Er=Yl([Sa(2,F.d),Sa(3,zi.lT),Sa(4,p.i),Sa(5,Ve.co),Sa(6,G.TG),Sa(7,ar.Uy)],Er);function Xc(g,e,t){return e instanceof Ve.U8?g.createInstance(Xa,e,void 0):e instanceof Ve.NZ?e.item.rememberDefaultAction?g.createInstance(Er,e,t):g.createInstance(Wa,e,t):void 0}var vc=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Ja=function(g,e){return function(t,n){e(t,n,g)}};const Cc=(0,G.yh)("IPeekViewService");(0,tr.z)(Cc,class{constructor(){this._widgets=new Map}addExclusiveWidget(g,e){const t=this._widgets.get(g);t&&(t.listener.dispose(),t.widget.dispose());const n=()=>{const s=this._widgets.get(g);s&&s.widget===e&&(s.listener.dispose(),this._widgets.delete(g))};this._widgets.set(g,{widget:e,listener:e.onDidClose(n)})}});var ir;(function(g){g.inPeekEditor=new nn.uy("inReferenceSearchEditor",!0,Le.N("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),g.notInPeekEditor=g.inPeekEditor.toNegated()})(ir||(ir={}));let Jl=class{constructor(e,t){e instanceof Il&&ir.inPeekEditor.bindTo(t)}dispose(){}};Jl.ID="editor.contrib.referenceController",Jl=vc([Ja(1,nn.i6)],Jl),(0,Pe._K)(Jl.ID,Jl);function Id(g){let e=g.get(On.$).getFocusedCodeEditor();return e instanceof Il?e.getParentEditor():e}const Td={headerBackgroundColor:Ei.Il.white,primaryHeadingColor:Ei.Il.fromHex("#333333"),secondaryHeadingColor:Ei.Il.fromHex("#6c6c6cb3")};let la=class extends pc{constructor(e,t,n){super(e,t),this.instantiationService=n,this._onDidClose=new wt.Q5,this.onDidClose=this._onDidClose.event,Jr.jB(this.options,Td,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(e){let t=this.options;e.headerBackgroundColor&&(t.headerBackgroundColor=e.headerBackgroundColor),e.primaryHeadingColor&&(t.primaryHeadingColor=e.primaryHeadingColor),e.secondaryHeadingColor&&(t.secondaryHeadingColor=e.secondaryHeadingColor),super.style(e)}_applyStyles(){super._applyStyles();let e=this.options;this._headElement&&e.headerBackgroundColor&&(this._headElement.style.backgroundColor=e.headerBackgroundColor.toString()),this._primaryHeading&&e.primaryHeadingColor&&(this._primaryHeading.style.color=e.primaryHeadingColor.toString()),this._secondaryHeading&&e.secondaryHeadingColor&&(this._secondaryHeading.style.color=e.secondaryHeadingColor.toString()),this._bodyElement&&e.frameColor&&(this._bodyElement.style.borderColor=e.frameColor.toString())}_fillContainer(e){this.setCssClass("peekview-widget"),this._headElement=q.$(".head"),this._bodyElement=q.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)}_fillHead(e,t){const n=q.$(".peekview-title");this.options.supportOnTitleClick&&(n.classList.add("clickable"),q.mu(n,"click",h=>this._onTitleClick(h))),q.R3(this._headElement,n),this._fillTitleIcon(n),this._primaryHeading=q.$("span.filename"),this._secondaryHeading=q.$("span.dirname"),this._metaHeading=q.$("span.meta"),q.R3(n,this._primaryHeading,this._secondaryHeading,this._metaHeading);const s=q.$(".peekview-actions");q.R3(this._headElement,s);const r=this._getActionBarOptions();this._actionbarWidget=new ul.o(s,r),this._disposables.add(this._actionbarWidget),t||this._actionbarWidget.push(new fe.aU("peekview.close",Le.N("label.close","Close"),ft.lA.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(e){}_getActionBarOptions(){return{actionViewItemProvider:Xc.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(e){}setTitle(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=e,this._primaryHeading.setAttribute("title",e),t?this._secondaryHeading.innerText=t:q.PO(this._secondaryHeading))}setMetaTitle(e){this._metaHeading&&(e?(this._metaHeading.innerText=e,q.$Z(this._metaHeading)):q.Cp(this._metaHeading))}_doLayout(e,t){if(!this._isShowing&&e<0){this.dispose();return}const n=Math.ceil(this.editor.getOption(59)*1.2),s=Math.round(e-(n+2));this._doLayoutHead(n,t),this._doLayoutBody(s,t)}_doLayoutHead(e,t){this._headElement&&(this._headElement.style.height=`${e}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(e,t){this._bodyElement&&(this._bodyElement.style.height=`${e}px`)}};la=vc([Ja(2,G.TG)],la);const kl=(0,Se.P6G)("peekViewTitle.background",{dark:(0,Se.ZnX)(Se.c63,.1),light:(0,Se.ZnX)(Se.c63,.1),hc:null},Le.N("peekViewTitleBackground","Background color of the peek view title area.")),ql=(0,Se.P6G)("peekViewTitleLabel.foreground",{dark:Ei.Il.white,light:Ei.Il.black,hc:Ei.Il.white},Le.N("peekViewTitleForeground","Color of the peek view title.")),bc=(0,Se.P6G)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hc:"#FFFFFF99"},Le.N("peekViewTitleInfoForeground","Color of the peek view title info.")),Rl=(0,Se.P6G)("peekView.border",{dark:Se.c63,light:Se.c63,hc:Se.lRK},Le.N("peekViewBorder","Color of the peek view borders and arrow.")),ut=(0,Se.P6G)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:Ei.Il.black},Le.N("peekViewResultsBackground","Background color of the peek view result list.")),i=(0,Se.P6G)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:Ei.Il.white},Le.N("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),c=(0,Se.P6G)("peekViewResult.fileForeground",{dark:Ei.Il.white,light:"#1E1E1E",hc:Ei.Il.white},Le.N("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),v=(0,Se.P6G)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},Le.N("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),B=(0,Se.P6G)("peekViewResult.selectionForeground",{dark:Ei.Il.white,light:"#6C6C6C",hc:Ei.Il.white},Le.N("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),U=(0,Se.P6G)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:Ei.Il.black},Le.N("peekViewEditorBackground","Background color of the peek view editor.")),le=(0,Se.P6G)("peekViewEditorGutter.background",{dark:U,light:U,hc:U},Le.N("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),Ce=(0,Se.P6G)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},Le.N("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),ke=(0,Se.P6G)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},Le.N("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),Oe=(0,Se.P6G)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:Se.xL1},Le.N("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));var Qe=l(73673),qe=l(46250),Ct=l(82918),Dt=l(1296),$t=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};class qt{constructor(e,t,n,s){this.isProviderFirst=e,this.parent=t,this.link=n,this._rangeCallback=s,this.id=Zl.a.nextId()}get uri(){return this.link.uri}get range(){var e,t;return(t=(e=this._range)!==null&&e!==void 0?e:this.link.targetSelectionRange)!==null&&t!==void 0?t:this.link.range}set range(e){this._range=e,this._rangeCallback(this)}get ariaMessage(){var e;const t=(e=this.parent.getPreview(this))===null||e===void 0?void 0:e.preview(this.range);return t?(0,Le.N)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",(0,Ss.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn,t.value):(0,Le.N)("aria.oneReference","symbol in {0} on line {1} at column {2}",(0,Ss.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn)}}class un{constructor(e){this._modelReference=e}dispose(){this._modelReference.dispose()}preview(e,t=8){const n=this._modelReference.object.textEditorModel;if(!n)return;const{startLineNumber:s,startColumn:r,endLineNumber:h,endColumn:S}=e,Y=n.getWordUntilPosition({lineNumber:s,column:r-t}),ne=new Ue.e(s,Y.startColumn,s,r),Q=new Ue.e(h,S,h,1073741824),he=n.getValueInRange(ne).replace(/^\s+/,""),ze=n.getValueInRange(e),Xe=n.getValueInRange(Q).replace(/\s+$/,"");return{value:he+ze+Xe,highlight:{start:he.length,end:he.length+ze.length}}}}class In{constructor(e,t){this.parent=e,this.uri=t,this.children=[],this._previews=new kr.Y9}dispose(){(0,lt.B9)(this._previews.values()),this._previews.clear()}getPreview(e){return this._previews.get(e.uri)}get ariaMessage(){const e=this.children.length;return e===1?(0,Le.N)("aria.fileReferences.1","1 symbol in {0}, full path {1}",(0,Ss.EZ)(this.uri),this.uri.fsPath):(0,Le.N)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,(0,Ss.EZ)(this.uri),this.uri.fsPath)}resolve(e){return $t(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(let t of this.children)if(!this._previews.has(t.uri))try{const n=yield e.createModelReference(t.uri);this._previews.set(t.uri,new un(n))}catch(n){(0,ui.dL)(n)}return this})}}class Bn{constructor(e,t){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new wt.Q5,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=e,this._title=t;const[n]=e;e.sort(Bn._compareReferences);let s;for(let r of e)if((!s||!Ss.SF.isEqual(s.uri,r.uri,!0))&&(s=new In(this,r.uri),this.groups.push(s)),s.children.length===0||Bn._compareReferences(r,s.children[s.children.length-1])!==0){const h=new qt(n===r,s,r,S=>this._onDidChangeReferenceRange.fire(S));this.references.push(h),s.children.push(h)}}dispose(){(0,lt.B9)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new Bn(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,Le.N)("aria.result.0","No results found"):this.references.length===1?(0,Le.N)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?(0,Le.N)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,Le.N)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(e,t){let{parent:n}=e,s=n.children.indexOf(e),r=n.children.length,h=n.parent.groups.length;return h===1||t&&s+1<r||!t&&s>0?(t?s=(s+1)%r:s=(s+r-1)%r,n.children[s]):(s=n.parent.groups.indexOf(n),t?(s=(s+1)%h,n.parent.groups[s].children[0]):(s=(s+h-1)%h,n.parent.groups[s].children[n.parent.groups[s].children.length-1]))}nearestReference(e,t){const n=this.references.map((s,r)=>({idx:r,prefixLen:En.Mh(s.uri.toString(),e.toString()),offsetDist:Math.abs(s.range.startLineNumber-t.lineNumber)*100+Math.abs(s.range.startColumn-t.column)})).sort((s,r)=>s.prefixLen>r.prefixLen?-1:s.prefixLen<r.prefixLen?1:s.offsetDist<r.offsetDist?-1:s.offsetDist>r.offsetDist?1:0)[0];if(n)return this.references[n.idx]}referenceAt(e,t){for(const n of this.references)if(n.uri.toString()===e.toString()&&Ue.e.containsPosition(n.range,t))return n}firstReference(){for(const e of this.references)if(e.isProviderFirst)return e;return this.references[0]}static _compareReferences(e,t){return Ss.SF.compare(e.uri,t.uri)||Ue.e.compareRangesUsingStarts(e.range,t.range)}}var Vn=l(61350),li=l(22818),si=l(85014),Ri=l(33074),Ii=l(62559),gi=l(74188),bi=l(79669),ms=l(62186);function Hi(g){if(!g)return;typeof g=="string"&&(g=qi.o.file(g));const e=(0,Ss.EZ)(g)||(g.scheme===li.lg.file?g.fsPath:g.path);return Yn.ED&&(0,ms.vY)(e)?Bs(e):e}function Bs(g,e){return(0,ms.oP)(g,e)?g.charAt(0).toUpperCase()+g.slice(1):g}let Zs=Object.create(null);var yo=l(51318),Ds=l(80417),eo=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},ho=function(g,e){return function(t,n){e(t,n,g)}};let So=class{constructor(e){this._resolverService=e}hasChildren(e){return e instanceof Bn||e instanceof In}getChildren(e){if(e instanceof Bn)return e.groups;if(e instanceof In)return e.resolve(this._resolverService).then(t=>t.children);throw new Error("bad tree")}};So=eo([ho(0,oa.S)],So);class Dr{getHeight(){return 23}getTemplateId(e){return e instanceof In?Jc.id:qc.id}}let xr=class{constructor(e){this._keybindingService=e}getKeyboardNavigationLabel(e){var t;if(e instanceof qt){const n=(t=e.parent.getPreview(e))===null||t===void 0?void 0:t.preview(e.range);if(n)return n.value}return(0,Ss.EZ)(e.uri)}};xr=eo([ho(0,F.d)],xr);class gl{getId(e){return e instanceof qt?e.id:e.uri}}let cs=class extends lt.JT{constructor(e,t,n){super(),this._uriLabel=t;const s=document.createElement("div");s.classList.add("reference-file"),this.file=this._register(new gi.g(s,{supportHighlights:!0})),this.badge=new Ri.Z(q.R3(s,q.$(".count"))),this._register((0,Ds.WZ)(this.badge,n)),e.appendChild(s)}set(e,t){let n=(0,Ss.XX)(e.uri);this.file.setLabel(Hi(e.uri),this._uriLabel.getUriLabel(n,{relative:!0}),{title:this._uriLabel.getUriLabel(e.uri),matches:t});const s=e.children.length;this.badge.setCount(s),s>1?this.badge.setTitleFormat((0,Le.N)("referencesCount","{0} references",s)):this.badge.setTitleFormat((0,Le.N)("referenceCount","{0} reference",s))}};cs=eo([ho(1,yo.e),ho(2,St.XE)],cs);let Jc=class vv{constructor(e){this._instantiationService=e,this.templateId=vv.id}renderTemplate(e){return this._instantiationService.createInstance(cs,e)}renderElement(e,t,n){n.set(e.element,(0,bi.mB)(e.filterData))}disposeTemplate(e){e.dispose()}};Jc.id="FileReferencesRenderer",Jc=eo([ho(0,G.TG)],Jc);class oh{constructor(e){this.label=new Ii.q(e)}set(e,t){var n;const s=(n=e.parent.getPreview(e))===null||n===void 0?void 0:n.preview(e.range);if(!s||!s.value)this.label.set(`${(0,Ss.EZ)(e.uri)}:${e.range.startLineNumber+1}:${e.range.startColumn+1}`);else{const{value:r,highlight:h}=s;t&&!bi.CL.isDefault(t)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(r,(0,bi.mB)(t))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(r,[h]))}}}class qc{constructor(){this.templateId=qc.id}renderTemplate(e){return new oh(e)}renderElement(e,t,n){n.set(e.element,e.filterData)}disposeTemplate(){}}qc.id="OneReferenceRenderer";class gu{getWidgetAriaLabel(){return(0,Le.N)("treeAriaLabel","References")}getAriaLabel(e){return e.ariaMessage}}var hf=l(25055),ff=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},qa=function(g,e){return function(t,n){e(t,n,g)}},ec=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};class ed{constructor(e,t){this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new lt.SL,this._callOnModelChange=new lt.SL,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const e=this._editor.getModel();if(!!e){for(let t of this._model.references)if(t.uri.toString()===e.uri.toString()){this._addDecorations(t.parent);return}}}_addDecorations(e){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const t=[],n=[];for(let r=0,h=e.children.length;r<h;r++){let S=e.children[r];this._decorationIgnoreSet.has(S.id)||S.uri.toString()===this._editor.getModel().uri.toString()&&(t.push({range:S.range,options:ed.DecorationOptions}),n.push(r))}const s=this._editor.deltaDecorations([],t);for(let r=0;r<s.length;r++)this._decorations.set(s[r],e.children[n[r]])}_onDecorationChanged(){const e=[],t=this._editor.getModel();if(!!t){for(let[n,s]of this._decorations){const r=t.getDecorationRange(n);if(!r)continue;let h=!1;if(!Ue.e.equalsRange(r,s.range)){if(Ue.e.spansMultipleLines(r))h=!0;else{const S=s.range.endColumn-s.range.startColumn,Y=r.endColumn-r.startColumn;S!==Y&&(h=!0)}h?(this._decorationIgnoreSet.add(s.id),e.push(n)):s.range=r}}for(let n=0,s=e.length;n<s;n++)this._decorations.delete(e[n]);this._editor.deltaDecorations(e,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}ed.DecorationOptions=Lt.qx.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class ml{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(e){let t,n;try{const s=JSON.parse(e);t=s.ratio,n=s.heightInLines}catch(s){}return{ratio:t||.7,heightInLines:n||18}}}class gf extends Dt.ls{}let Md=class extends la{constructor(e,t,n,s,r,h,S,Y,ne,Q,he,ze){super(e,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},h),this._defaultTreeKeyboardSupport=t,this.layoutData=n,this._textModelResolverService=r,this._instantiationService=h,this._peekViewService=S,this._uriLabel=Y,this._undoRedoService=ne,this._keybindingService=Q,this._languageService=he,this._languageConfigurationService=ze,this._disposeOnNewModel=new lt.SL,this._callOnDispose=new lt.SL,this._onDidSelectReference=new wt.Q5,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new q.Ro(0,0),this._applyTheme(s.getColorTheme()),this._callOnDispose.add(s.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(e,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,lt.B9)(this._preview),(0,lt.B9)(this._previewNotAvailableMessage),(0,lt.B9)(this._tree),(0,lt.B9)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(e){const t=e.getColor(Rl)||Ei.Il.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(kl)||Ei.Il.transparent,primaryHeadingColor:e.getColor(ql),secondaryHeadingColor:e.getColor(bc)})}show(e){this.editor.revealRangeInCenterIfOutsideViewport(e,0),super.show(e,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})}_fillBody(e){this.setCssClass("reference-zone-widget"),this._messageContainer=q.R3(e,q.$("div.messages")),q.Cp(this._messageContainer),this._splitView=new Vn.z(e,{orientation:1}),this._previewContainer=q.R3(e,q.$("div.preview.inline"));let t={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(Il,this._previewContainer,t,this.editor),q.Cp(this._previewContainer),this._previewNotAvailableMessage=new Lt.yO(Le.N("missingPreviewMessage","no preview available"),si.bd,Lt.yO.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=q.R3(e,q.$("div.ref-tree.inline"));const n={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new gu,keyboardNavigationLabelProvider:this._instantiationService.createInstance(xr),identityProvider:new gl,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:ut}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(q.mu(this._treeContainer,"keydown",r=>{r.equals(9)&&(this._keybindingService.dispatchEvent(r,r.target),r.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(gf,"ReferencesWidget",this._treeContainer,new Dr,[this._instantiationService.createInstance(Jc),this._instantiationService.createInstance(qc)],this._instantiationService.createInstance(So),n),this._splitView.addView({onDidChange:wt.ju.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:r=>{this._preview.layout({height:this._dim.height,width:r})}},Vn.M.Distribute),this._splitView.addView({onDidChange:wt.ju.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:r=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${r}px`,this._tree.layout(this._dim.height,r)}},Vn.M.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let s=(r,h)=>{r instanceof qt&&(h==="show"&&this._revealReference(r,!1),this._onDidSelectReference.fire({element:r,kind:h,source:"tree"}))};this._tree.onDidOpen(r=>{r.sideBySide?s(r.element,"side"):r.editorOptions.pinned?s(r.element,"goto"):s(r.element,"show")}),q.Cp(this._treeContainer)}_onWidth(e){this._dim&&this._doLayoutBody(this._dim.height,e)}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._dim=new q.Ro(t,e),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(t),this._splitView.resizeView(0,t*this.layoutData.ratio)}setSelection(e){return this._revealReference(e,!0).then(()=>{!this._model||(this._tree.setSelection([e]),this._tree.setFocus([e]))})}setModel(e){return this._disposeOnNewModel.clear(),this._model=e,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=Le.N("noResults","No results"),q.$Z(this._messageContainer),Promise.resolve(void 0)):(q.Cp(this._messageContainer),this._decorationsManager=new ed(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(e=>this._tree.rerender(e))),this._disposeOnNewModel.add(this._preview.onMouseDown(e=>{const{event:t,target:n}=e;if(t.detail!==2)return;const s=this._getFocusedReference();!s||this._onDidSelectReference.fire({element:{uri:s.uri,range:n.range},kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),q.$Z(this._treeContainer),q.$Z(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[e]=this._tree.getFocus();if(e instanceof qt)return e;if(e instanceof In&&e.children.length>0)return e.children[0]}revealReference(e){return ec(this,void 0,void 0,function*(){yield this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:"goto",source:"tree"})})}_revealReference(e,t){return ec(this,void 0,void 0,function*(){if(this._revealedReference===e)return;this._revealedReference=e,e.uri.scheme!==li.lg.inMemory?this.setTitle((0,Ss.Hx)(e.uri),this._uriLabel.getUriLabel((0,Ss.XX)(e.uri))):this.setTitle(Le.N("peekView.alternateTitle","References"));const n=this._textModelResolverService.createModelReference(e.uri);this._tree.getInput()===e.parent?this._tree.reveal(e):(t&&this._tree.reveal(e.parent),yield this._tree.expand(e.parent),this._tree.reveal(e));const s=yield n;if(!this._model){s.dispose();return}(0,lt.B9)(this._previewModelReference);const r=s.object;if(r){const h=this._preview.getModel()===r.textEditorModel?0:1,S=Ue.e.lift(e.range).collapseToStart();this._previewModelReference=s,this._preview.setModel(r.textEditorModel),this._preview.setSelection(S),this._preview.revealRangeInCenter(S,h)}else this._preview.setModel(this._previewNotAvailableMessage),s.dispose()})}};Md=ff([qa(3,St.XE),qa(4,oa.S),qa(5,G.TG),qa(6,Cc),qa(7,yo.e),qa(8,hf.tJ),qa(9,F.d),qa(10,Xr.O),qa(11,ao.c_)],Md);var rh=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},tc=function(g,e){return function(t,n){e(t,n,g)}},mu=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};const pl=new nn.uy("referenceSearchVisible",!1,Le.N("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let el=class G0{constructor(e,t,n,s,r,h,S,Y){this._defaultTreeKeyboardSupport=e,this._editor=t,this._editorService=s,this._notificationService=r,this._instantiationService=h,this._storageService=S,this._configurationService=Y,this._disposables=new lt.SL,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=pl.bindTo(n)}static get(e){return e.getContribution(G0.ID)}dispose(){var e,t;this._referenceSearchVisible.reset(),this._disposables.dispose(),(e=this._widget)===null||e===void 0||e.dispose(),(t=this._model)===null||t===void 0||t.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(e,t,n){let s;if(this._widget&&(s=this._widget.position),this.closeWidget(),!!s&&e.containsPosition(s))return;this._peekMode=n,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const r="peekViewLayout",h=ml.fromJSON(this._storageService.get(r,0,"{}"));this._widget=this._instantiationService.createInstance(Md,this._editor,this._defaultTreeKeyboardSupport,h),this._widget.setTitle(Le.N("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose(()=>{t.cancel(),this._widget&&(this._storageService.store(r,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(Y=>{let{element:ne,kind:Q}=Y;if(!!ne)switch(Q){case"open":(Y.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(ne,!1,!1);break;case"side":this.openReference(ne,!0,!1);break;case"goto":n?this._gotoReference(ne):this.openReference(ne,!1,!0);break}}));const S=++this._requestIdPool;t.then(Y=>{var ne;if(S!==this._requestIdPool||!this._widget){Y.dispose();return}return(ne=this._model)===null||ne===void 0||ne.dispose(),this._model=Y,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(Le.N("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));let Q=this._editor.getModel().uri,he=new Cn.L(e.startLineNumber,e.startColumn),ze=this._model.nearestReference(Q,he);if(ze)return this._widget.setSelection(ze).then(()=>{this._widget&&this._editor.getOption(77)==="editor"&&this._widget.focusOnPreviewEditor()})}})},Y=>{this._notificationService.error(Y)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(e){return mu(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const t=this._widget.position;if(!t)return;const n=this._model.nearestReference(this._editor.getModel().uri,t);if(!n)return;const s=this._model.nextOrPreviousReference(n,e),r=this._editor.hasTextFocus(),h=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(s),yield this._gotoReference(s),r?this._editor.focus():this._widget&&h&&this._widget.focusOnPreviewEditor()})}revealReference(e){return mu(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(e))})}closeWidget(e=!0){var t,n;(t=this._widget)===null||t===void 0||t.dispose(),(n=this._model)===null||n===void 0||n.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(e){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const t=Ue.e.lift(e.range).collapseToStart();return this._editorService.openCodeEditor({resource:e.uri,options:{selection:t,selectionSource:"code.jump"}},this._editor).then(n=>{var s;if(this._ignoreModelChangeEvent=!1,!n||!this._widget){this.closeWidget();return}if(this._editor===n)this._widget.show(t),this._widget.focusOnReferenceTree();else{const r=G0.get(n),h=this._model.clone();this.closeWidget(),n.focus(),r==null||r.toggleWidget(t,(0,Ht.PG)(S=>Promise.resolve(h)),(s=this._peekMode)!==null&&s!==void 0?s:!1)}},n=>{this._ignoreModelChangeEvent=!1,(0,ui.dL)(n)})}openReference(e,t,n){t||this.closeWidget();const{uri:s,range:r}=e;this._editorService.openCodeEditor({resource:s,options:{selection:r,selectionSource:"code.jump",pinned:n}},this._editor,t)}};el.ID="editor.contrib.referencesController",el=rh([tc(2,nn.i6),tc(3,On.$),tc(4,zi.lT),tc(5,G.TG),tc(6,ar.Uy),tc(7,js.Ui)],el);function Al(g,e){const t=Id(g);if(!t)return;const n=el.get(t);n&&e(n)}Ct.W.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,hn.gx)(2089,60),when:nn.Ao.or(pl,ir.inPeekEditor),handler(g){Al(g,e=>{e.changeFocusBetweenPreviewAndReferences()})}}),Ct.W.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:nn.Ao.or(pl,ir.inPeekEditor),handler(g){Al(g,e=>{e.goToNextOrPreviousReference(!0)})}}),Ct.W.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1086,secondary:[1094],when:nn.Ao.or(pl,ir.inPeekEditor),handler(g){Al(g,e=>{e.goToNextOrPreviousReference(!1)})}}),Ki.P0.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),Ki.P0.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),Ki.P0.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),Ki.P0.registerCommand("closeReferenceSearch",g=>Al(g,e=>e.closeWidget())),Ct.W.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1033],when:nn.Ao.and(ir.inPeekEditor,nn.Ao.not("config.editor.stablePeek"))}),Ct.W.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1033],when:nn.Ao.and(pl,nn.Ao.not("config.editor.stablePeek"))}),Ct.W.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:nn.Ao.and(pl,Dt.CQ,Dt.PS.negate(),Dt.uJ.negate()),handler(g){var e;const n=(e=g.get(Dt.Lw).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(n)&&n[0]instanceof qt&&Al(g,s=>s.revealReference(n[0]))}}),Ct.W.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:nn.Ao.and(pl,Dt.CQ,Dt.PS.negate(),Dt.uJ.negate()),handler(g){var e;const n=(e=g.get(Dt.Lw).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(n)&&n[0]instanceof qt&&Al(g,s=>s.openReference(n[0],!0,!0))}}),Ki.P0.registerCommand("openReference",g=>{var e;const n=(e=g.get(Dt.Lw).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(n)&&n[0]instanceof qt&&Al(g,s=>s.openReference(n[0],!1,!0))});var ah=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Pl=function(g,e){return function(t,n){e(t,n,g)}};const pu=new nn.uy("hasSymbols",!1,(0,Le.N)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),wc=(0,G.yh)("ISymbolNavigationService");let _u=class{constructor(e,t,n,s){this._editorService=t,this._notificationService=n,this._keybindingService=s,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=pu.bindTo(e)}reset(){var e,t;this._ctxHasSymbols.reset(),(e=this._currentState)===null||e===void 0||e.dispose(),(t=this._currentMessage)===null||t===void 0||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(e){const t=e.parent.parent;if(t.references.length<=1){this.reset();return}this._currentModel=t,this._currentIdx=t.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();const n=new td(this._editorService),s=n.onDidChange(r=>{if(this._ignoreEditorChange)return;const h=this._editorService.getActiveCodeEditor();if(!h)return;const S=h.getModel(),Y=h.getPosition();if(!S||!Y)return;let ne=!1,Q=!1;for(const he of t.references)if((0,Ss.Xy)(he.uri,S.uri))ne=!0,Q=Q||Ue.e.containsPosition(he.range,Y);else if(ne)break;(!ne||!Q)&&this.reset()});this._currentState=(0,lt.F8)(n,s)}revealNext(e){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:Ue.e.collapseToStart(t.range),selectionRevealType:3}},e).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var e;(e=this._currentMessage)===null||e===void 0||e.dispose();const t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),n=t?(0,Le.N)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,t.getLabel()):(0,Le.N)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(n)}};_u=ah([Pl(0,nn.i6),Pl(1,On.$),Pl(2,zi.lT),Pl(3,F.d)],_u),(0,tr.z)(wc,_u,!0),(0,Pe.fK)(new class extends Pe._l{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:pu,kbOpts:{weight:100,primary:70}})}runEditorCommand(g,e){return g.get(wc).revealNext(e)}}),Ct.W.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:pu,primary:9,handler(g){g.get(wc).reset()}});let td=class{constructor(e){this._listener=new Map,this._disposables=new lt.SL,this._onDidChange=new wt.Q5,this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,lt.B9)(this._listener.values())}_onDidAddEditor(e){this._listener.set(e,(0,lt.F8)(e.onDidChangeCursorPosition(t=>this._onDidChange.fire({editor:e})),e.onDidChangeModelContent(t=>this._onDidChange.fire({editor:e}))))}_onDidRemoveEditor(e){var t;(t=this._listener.get(e))===null||t===void 0||t.dispose(),this._listener.delete(e)}};td=ah([Pl(0,On.$)],td);var ca=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};function nd(g,e,t,n){const r=t.ordered(g).map(h=>Promise.resolve(n(h,g,e)).then(void 0,S=>{(0,ui.Cp)(S)}));return Promise.all(r).then(h=>{const S=[];for(let Y of h)Array.isArray(Y)?S.push(...Y):Y&&S.push(Y);return S})}function vu(g,e,t,n){return nd(e,t,g,(s,r,h)=>s.provideDefinition(r,h,n))}function lh(g,e,t,n){return nd(e,t,g,(s,r,h)=>s.provideDeclaration(r,h,n))}function Cu(g,e,t,n){return nd(e,t,g,(s,r,h)=>s.provideImplementation(r,h,n))}function id(g,e,t,n){return nd(e,t,g,(s,r,h)=>s.provideTypeDefinition(r,h,n))}function yc(g,e,t,n,s){return nd(e,t,g,(r,h,S)=>ca(this,void 0,void 0,function*(){const Y=yield r.provideReferences(h,S,{includeDeclaration:!0},s);if(!n||!Y||Y.length!==2)return Y;const ne=yield r.provideReferences(h,S,{includeDeclaration:!1},s);return ne&&ne.length===1?ne:Y}))}function Sc(g){return ca(this,void 0,void 0,function*(){const e=yield g(),t=new Bn(e,""),n=t.references.map(s=>s.link);return t.dispose(),n})}(0,Pe.sb)("_executeDefinitionProvider",(g,e,t)=>{const n=g.get(ri.p),s=vu(n.definitionProvider,e,t,bn.T.None);return Sc(()=>s)}),(0,Pe.sb)("_executeTypeDefinitionProvider",(g,e,t)=>{const n=g.get(ri.p),s=id(n.typeDefinitionProvider,e,t,bn.T.None);return Sc(()=>s)}),(0,Pe.sb)("_executeDeclarationProvider",(g,e,t)=>{const n=g.get(ri.p),s=lh(n.declarationProvider,e,t,bn.T.None);return Sc(()=>s)}),(0,Pe.sb)("_executeReferenceProvider",(g,e,t)=>{const n=g.get(ri.p),s=yc(n.referenceProvider,e,t,!1,bn.T.None);return Sc(()=>s)}),(0,Pe.sb)("_executeImplementationProvider",(g,e,t)=>{const n=g.get(ri.p),s=Cu(n.implementationProvider,e,t,bn.T.None);return Sc(()=>s)});var Va=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})},bu,wu,yu,Su,kd,Rd,Lu,La;Ve.BH.appendMenuItem(Ve.eH.EditorContext,{submenu:Ve.eH.EditorContextPeek,title:Le.N("peek.submenu","Peek"),group:"navigation",order:100});const ch=new Set;function Pr(g){const e=new g;return(0,Pe.QG)(e),ch.add(e.id),e}class _l{constructor(e,t){this.model=e,this.position=t}static is(e){return!e||typeof e!="object"?!1:!!(e instanceof _l||Cn.L.isIPosition(e.position)&&e.model)}}class to extends Pe.R6{constructor(e,t){super(t),this.configuration=e}run(e,t,n){if(!t.hasModel())return Promise.resolve(void 0);const s=e.get(zi.lT),r=e.get(On.$),h=e.get(Os.ek),S=e.get(wc),Y=e.get(ri.p),ne=t.getModel(),Q=t.getPosition(),he=_l.is(n)?n:new _l(ne,Q),ze=new Xs.Dl(t,5),Xe=(0,Ht.eP)(this._getLocationModel(Y,he.model,he.position,ze.token),ze.token).then(bt=>Va(this,void 0,void 0,function*(){var Gt;if(!bt||ze.token.isCancellationRequested)return;(0,Rt.Z9)(bt.ariaMessage);let fn;if(bt.referenceAt(ne.uri,Q)){const zn=this._getAlternativeCommand(t);zn!==this.id&&ch.has(zn)&&(fn=t.getAction(zn))}const pn=bt.references.length;if(pn===0){if(!this.configuration.muteMessage){const zn=ne.getWordAtPosition(Q);(Gt=es.get(t))===null||Gt===void 0||Gt.showMessage(this._getNoResultFoundMessage(zn),Q)}}else if(pn===1&&fn)fn.run();else return this._onResult(r,S,t,bt)}),bt=>{s.error(bt)}).finally(()=>{ze.dispose()});return h.showWhile(Xe,250),Xe}_onResult(e,t,n,s){return Va(this,void 0,void 0,function*(){const r=this._getGoToPreference(n);if(!(n instanceof Il)&&(this.configuration.openInPeek||r==="peek"&&s.references.length>1))this._openInPeek(n,s);else{const h=s.firstReference(),S=s.references.length>1&&r==="gotoAndPeek",Y=yield this._openReference(n,e,h,this.configuration.openToSide,!S);S&&Y?this._openInPeek(Y,s):s.dispose(),r==="goto"&&t.put(h)}})}_openReference(e,t,n,s,r){return Va(this,void 0,void 0,function*(){let h;if((0,qe.vx)(n)&&(h=n.targetSelectionRange),h||(h=n.range),!h)return;const S=yield t.openCodeEditor({resource:n.uri,options:{selection:Ue.e.collapseToStart(h),selectionRevealType:3,selectionSource:"code.jump"}},e,s);if(!!S){if(r){const Y=S.getModel(),ne=S.deltaDecorations([],[{range:h,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{S.getModel()===Y&&S.deltaDecorations(ne,[])},350)}return S}})}_openInPeek(e,t){const n=el.get(e);n&&e.hasModel()?n.toggleWidget(e.getSelection(),(0,Ht.PG)(s=>Promise.resolve(t)),this.configuration.openInPeek):t.dispose()}}class nc extends to{_getLocationModel(e,t,n,s){return Va(this,void 0,void 0,function*(){return new Bn(yield vu(e.definitionProvider,t,n,s),Le.N("def.title","Definitions"))})}_getNoResultFoundMessage(e){return e&&e.word?Le.N("noResultWord","No definition found for '{0}'",e.word):Le.N("generic.noResults","No definition found")}_getAlternativeCommand(e){return e.getOption(51).alternativeDefinitionCommand}_getGoToPreference(e){return e.getOption(51).multipleDefinitions}}const dh=Yn.$L&&!oi.isStandalone?2118:70;Pr((bu=class Z0 extends nc{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Z0.id,label:Le.N("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:nn.Ao.and(vt.u.hasDefinitionProvider,vt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:dh,weight:100},contextMenuOpts:{group:"navigation",order:1.1}}),Ki.P0.registerCommandAlias("editor.action.goToDeclaration",Z0.id)}},bu.id="editor.action.revealDefinition",bu)),Pr((wu=class Y0 extends nc{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:Y0.id,label:Le.N("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:nn.Ao.and(vt.u.hasDefinitionProvider,vt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,hn.gx)(2089,dh),weight:100}}),Ki.P0.registerCommandAlias("editor.action.openDeclarationToTheSide",Y0.id)}},wu.id="editor.action.revealDefinitionAside",wu)),Pr((yu=class Q0 extends nc{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Q0.id,label:Le.N("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:nn.Ao.and(vt.u.hasDefinitionProvider,ir.notInPeekEditor,vt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:Ve.eH.EditorContextPeek,group:"peek",order:2}}),Ki.P0.registerCommandAlias("editor.action.previewDeclaration",Q0.id)}},yu.id="editor.action.peekDefinition",yu));class sd extends to{_getLocationModel(e,t,n,s){return Va(this,void 0,void 0,function*(){return new Bn(yield lh(e.declarationProvider,t,n,s),Le.N("decl.title","Declarations"))})}_getNoResultFoundMessage(e){return e&&e.word?Le.N("decl.noResultWord","No declaration found for '{0}'",e.word):Le.N("decl.generic.noResults","No declaration found")}_getAlternativeCommand(e){return e.getOption(51).alternativeDeclarationCommand}_getGoToPreference(e){return e.getOption(51).multipleDeclarations}}Pr((Su=class Cv extends sd{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Cv.id,label:Le.N("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:nn.Ao.and(vt.u.hasDeclarationProvider,vt.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(e){return e&&e.word?Le.N("decl.noResultWord","No declaration found for '{0}'",e.word):Le.N("decl.generic.noResults","No declaration found")}},Su.id="editor.action.revealDeclaration",Su)),Pr(class extends sd{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:Le.N("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:nn.Ao.and(vt.u.hasDeclarationProvider,ir.notInPeekEditor,vt.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Ve.eH.EditorContextPeek,group:"peek",order:3}})}});class Eu extends to{_getLocationModel(e,t,n,s){return Va(this,void 0,void 0,function*(){return new Bn(yield id(e.typeDefinitionProvider,t,n,s),Le.N("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(e){return e&&e.word?Le.N("goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):Le.N("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(e){return e.getOption(51).alternativeTypeDefinitionCommand}_getGoToPreference(e){return e.getOption(51).multipleTypeDefinitions}}Pr((kd=class bv extends Eu{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:bv.ID,label:Le.N("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:nn.Ao.and(vt.u.hasTypeDefinitionProvider,vt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}},kd.ID="editor.action.goToTypeDefinition",kd)),Pr((Rd=class wv extends Eu{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:wv.ID,label:Le.N("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:nn.Ao.and(vt.u.hasTypeDefinitionProvider,ir.notInPeekEditor,vt.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Ve.eH.EditorContextPeek,group:"peek",order:4}})}},Rd.ID="editor.action.peekTypeDefinition",Rd));class Or extends to{_getLocationModel(e,t,n,s){return Va(this,void 0,void 0,function*(){return new Bn(yield Cu(e.implementationProvider,t,n,s),Le.N("impl.title","Implementations"))})}_getNoResultFoundMessage(e){return e&&e.word?Le.N("goToImplementation.noResultWord","No implementation found for '{0}'",e.word):Le.N("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(e){return e.getOption(51).alternativeImplementationCommand}_getGoToPreference(e){return e.getOption(51).multipleImplementations}}Pr((Lu=class yv extends Or{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:yv.ID,label:Le.N("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:nn.Ao.and(vt.u.hasImplementationProvider,vt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:2118,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}},Lu.ID="editor.action.goToImplementation",Lu)),Pr((La=class Sv extends Or{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Sv.ID,label:Le.N("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:nn.Ao.and(vt.u.hasImplementationProvider,ir.notInPeekEditor,vt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:Ve.eH.EditorContextPeek,group:"peek",order:5}})}},La.ID="editor.action.peekImplementation",La));class Ad extends to{_getNoResultFoundMessage(e){return e?Le.N("references.no","No references found for '{0}'",e.word):Le.N("references.noGeneric","No references found")}_getAlternativeCommand(e){return e.getOption(51).alternativeReferenceCommand}_getGoToPreference(e){return e.getOption(51).multipleReferences}}Pr(class extends Ad{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:Le.N("goToReferences.label","Go to References"),alias:"Go to References",precondition:nn.Ao.and(vt.u.hasReferenceProvider,ir.notInPeekEditor,vt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(e,t,n,s){return Va(this,void 0,void 0,function*(){return new Bn(yield yc(e.referenceProvider,t,n,!0,s),Le.N("ref.title","References"))})}}),Pr(class extends Ad{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:Le.N("references.action.label","Peek References"),alias:"Peek References",precondition:nn.Ao.and(vt.u.hasReferenceProvider,ir.notInPeekEditor,vt.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Ve.eH.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(e,t,n,s){return Va(this,void 0,void 0,function*(){return new Bn(yield yc(e.referenceProvider,t,n,!1,s),Le.N("ref.title","References"))})}});class Pd extends to{constructor(e,t,n){super(e,{id:"editor.action.goToLocation",label:Le.N("label.generic","Go to Any Symbol"),alias:"Go to Any Symbol",precondition:nn.Ao.and(ir.notInPeekEditor,vt.u.isInWalkThroughSnippet.toNegated())}),this._references=t,this._gotoMultipleBehaviour=n}_getLocationModel(e,t,n,s){return Va(this,void 0,void 0,function*(){return new Bn(this._references,Le.N("generic.title","Locations"))})}_getNoResultFoundMessage(e){return e&&Le.N("generic.noResult","No results for '{0}'",e.word)||""}_getGoToPreference(e){var t;return(t=this._gotoMultipleBehaviour)!==null&&t!==void 0?t:e.getOption(51).multipleReferences}_getAlternativeCommand(){return""}}Ki.P0.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:qi.o},{name:"position",description:"The position at which to start",constraint:Cn.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(g,e,t,n,s,r,h)=>Va(void 0,void 0,void 0,function*(){(0,gs.p_)(qi.o.isUri(e)),(0,gs.p_)(Cn.L.isIPosition(t)),(0,gs.p_)(Array.isArray(n)),(0,gs.p_)(typeof s=="undefined"||typeof s=="string"),(0,gs.p_)(typeof h=="undefined"||typeof h=="boolean");const S=g.get(On.$),Y=yield S.openCodeEditor({resource:e},S.getFocusedCodeEditor());if((0,Qe.CL)(Y))return Y.setPosition(t),Y.revealPositionInCenterIfOutsideViewport(t,0),Y.invokeWithinContext(ne=>{const Q=new class extends Pd{_getNoResultFoundMessage(he){return r||super._getNoResultFoundMessage(he)}}({muteMessage:!Boolean(r),openInPeek:Boolean(h),openToSide:!1},n,s);ne.get(G.TG).invokeFunction(Q.run.bind(Q),Y)})})}),Ki.P0.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:qi.o},{name:"position",description:"The position at which to start",constraint:Cn.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(g,e,t,n,s)=>Va(void 0,void 0,void 0,function*(){g.get(Ki.Hy).executeCommand("editor.action.goToLocations",e,t,n,s,void 0,!0)})}),Ki.P0.registerCommand({id:"editor.action.findReferences",handler:(g,e,t)=>{(0,gs.p_)(qi.o.isUri(e)),(0,gs.p_)(Cn.L.isIPosition(t));const n=g.get(ri.p),s=g.get(On.$);return s.openCodeEditor({resource:e},s.getFocusedCodeEditor()).then(r=>{if(!(0,Qe.CL)(r)||!r.hasModel())return;const h=el.get(r);if(!h)return;const S=(0,Ht.PG)(ne=>yc(n.referenceProvider,r.getModel(),Cn.L.lift(t),!1,ne).then(Q=>new Bn(Q,Le.N("ref.title","References")))),Y=new Ue.e(t.lineNumber,t.column,t.lineNumber,t.column);return Promise.resolve(h.toggleWidget(Y,S,!1))})}}),Ki.P0.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),Ve.BH.appendMenuItems([{id:Ve.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:Le.N({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},group:"4_symbol_nav",order:2}},{id:Ve.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:Le.N({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},group:"4_symbol_nav",order:3}},{id:Ve.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:Le.N({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},group:"4_symbol_nav",order:3}},{id:Ve.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:Le.N({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},group:"4_symbol_nav",order:4}},{id:Ve.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:Le.N({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},group:"4_symbol_nav",order:5}}]);var od=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Lc=function(g,e){return function(t,n){e(t,n,g)}};let vl=class _g{constructor(e,t,n,s){this.textModelResolverService=t,this.languageService=n,this.languageFeaturesService=s,this.toUnhook=new lt.SL,this.toUnhookForKeyboard=new lt.SL,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e;let r=new Nl(e);this.toUnhook.add(r),this.toUnhook.add(r.onMouseMoveOrRelevantKeyDown(([h,S])=>{this.startFindDefinitionFromMouse(h,(0,gs.f6)(S))})),this.toUnhook.add(r.onExecute(h=>{this.isEnabled(h)&&this.gotoDefinition(h.target.position,h.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},S=>{this.removeLinkDecorations(),(0,ui.dL)(S)})})),this.toUnhook.add(r.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(e){return e.getContribution(_g.ID)}startFindDefinitionFromCursor(e){return this.startFindDefinition(e).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(t=>{t&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(e,t){if(e.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(e,t)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const n=e.target.position;this.startFindDefinition(n)}startFindDefinition(e){var t;this.toUnhookForKeyboard.clear();const n=e?(t=this.editor.getModel())===null||t===void 0?void 0:t.getWordAtPosition(e):null;if(!n)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===n.startColumn&&this.currentWordAtPosition.endColumn===n.endColumn&&this.currentWordAtPosition.word===n.word)return Promise.resolve(0);this.currentWordAtPosition=n;let s=new Xs.yy(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,Ht.PG)(r=>this.findDefinition(e,r)),this.previousPromise.then(r=>{if(!r||!r.length||!s.validate(this.editor)){this.removeLinkDecorations();return}if(r.length>1)this.addDecoration(new Ue.e(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn),new Zt.W5().appendText(Le.N("multipleResults","Click to show {0} definitions.",r.length)));else{let h=r[0];if(!h.uri)return;this.textModelResolverService.createModelReference(h.uri).then(S=>{if(!S.object||!S.object.textEditorModel){S.dispose();return}const{object:{textEditorModel:Y}}=S,{startLineNumber:ne}=h.range;if(ne<1||ne>Y.getLineCount()){S.dispose();return}const Q=this.getPreviewValue(Y,ne,h);let he;h.originSelectionRange?he=Ue.e.lift(h.originSelectionRange):he=new Ue.e(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn);const ze=this.languageService.guessLanguageIdByFilepathOrFirstLine(Y.uri);this.addDecoration(he,new Zt.W5().appendCodeblock(ze||"",Q)),S.dispose()})}}).then(void 0,ui.dL)}getPreviewValue(e,t,n){let s=n.targetSelectionRange?n.range:this.getPreviewRangeBasedOnBrackets(e,t);return s.endLineNumber-s.startLineNumber>=_g.MAX_SOURCE_PREVIEW_LINES&&(s=this.getPreviewRangeBasedOnIndentation(e,t)),this.stripIndentationFromPreviewRange(e,t,s)}stripIndentationFromPreviewRange(e,t,n){let r=e.getLineFirstNonWhitespaceColumn(t);for(let S=t+1;S<n.endLineNumber;S++){const Y=e.getLineFirstNonWhitespaceColumn(S);r=Math.min(r,Y)}return e.getValueInRange(n).replace(new RegExp(`^\\s{${r-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(e,t){const n=e.getLineFirstNonWhitespaceColumn(t),s=Math.min(e.getLineCount(),t+_g.MAX_SOURCE_PREVIEW_LINES);let r=t+1;for(;r<s;r++){let h=e.getLineFirstNonWhitespaceColumn(r);if(n===h)break}return new Ue.e(t,1,r+1,1)}getPreviewRangeBasedOnBrackets(e,t){const n=Math.min(e.getLineCount(),t+_g.MAX_SOURCE_PREVIEW_LINES),s=[];let r=!0,h=e.bracketPairs.findNextBracket(new Cn.L(t,1));for(;h!==null;){if(s.length===0)s.push(h);else{const Q=s[s.length-1];if(Q.open[0]===h.open[0]&&Q.isOpen&&!h.isOpen?s.pop():s.push(h),s.length===0)if(r)r=!1;else return new Ue.e(t,1,h.range.endLineNumber+1,1)}const S=e.getLineMaxColumn(t);let Y=h.range.endLineNumber,ne=h.range.endColumn;if(S===h.range.endColumn&&(Y++,ne=1),Y>n)return new Ue.e(t,1,n+1,1);h=e.bracketPairs.findNextBracket(new Cn.L(Y,ne))}return new Ue.e(t,1,n+1,1)}addDecoration(e,t){const n={range:e,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:t}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[n])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(e,t){return this.editor.hasModel()&&e.isNoneOrSingleMouseDown&&e.target.type===6&&(e.hasTriggerModifier||(t?t.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(e,t){const n=this.editor.getModel();return n?vu(this.languageFeaturesService.definitionProvider,n,e,t):Promise.resolve(null)}gotoDefinition(e,t){return this.editor.setPosition(e),this.editor.invokeWithinContext(n=>{const s=!t&&this.editor.getOption(78)&&!this.isInPeekEditor(n);return new nc({openToSide:t,openInPeek:s,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(n,this.editor)})}isInPeekEditor(e){const t=e.get(nn.i6);return ir.inPeekEditor.getValue(t)}dispose(){this.toUnhook.dispose()}};vl.ID="editor.contrib.gotodefinitionatposition",vl.MAX_SOURCE_PREVIEW_LINES=8,vl=od([Lc(1,oa.S),Lc(2,Xr.O),Lc(3,ri.p)],vl),(0,Pe._K)(vl.ID,vl),(0,St.Ic)((g,e)=>{const t=g.getColor(Se._Yy);t&&e.addRule(`.monaco-editor .goto-definition-link { color: ${t} !important; }`)});var ic=l(25451);const rd=q.$;class Od extends lt.JT{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new ic.s$(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class Du extends lt.JT{constructor(e,t,n){super(),this.actionContainer=q.R3(e,rd("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=q.R3(this.actionContainer,rd("a.action")),this.action.setAttribute("role","button"),t.iconClass&&q.R3(this.action,rd(`span.icon.${t.iconClass}`));const s=q.R3(this.action,rd("span"));s.textContent=n?`${t.label} (${n})`:t.label,this._register(q.nm(this.actionContainer,q.tw.CLICK,r=>{r.stopPropagation(),r.preventDefault(),t.run(this.actionContainer)})),this._register(q.nm(this.actionContainer,q.tw.KEY_UP,r=>{new Ba.y(r).equals(3)&&(r.stopPropagation(),r.preventDefault(),t.run(this.actionContainer))})),this.setEnabled(!0)}static render(e,t,n){return new Du(e,t,n)}setEnabled(e){e?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}var uh=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})},xu=function(g){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=g[Symbol.asyncIterator],t;return e?e.call(g):(g=typeof __values=="function"?__values(g):g[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=g[r]&&function(h){return new Promise(function(S,Y){h=g[r](h),s(S,Y,h.done,h.value)})}}function s(r,h,S,Y){Promise.resolve(Y).then(function(ne){r({value:ne,done:S})},h)}};class hh{constructor(e,t,n){this.value=e,this.isComplete=t,this.hasLoadingMessage=n}}class Ec extends lt.JT{constructor(e,t){super(),this._editor=e,this._computer=t,this._onResult=this._register(new wt.Q5),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new Ht.pY(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new Ht.pY(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new Ht.pY(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(53).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(e,t=!0){this._state=e,t&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,Ht.zS)(e=>this._computer.computeAsync(e)),uh(this,void 0,void 0,function*(){var e,t;try{try{for(var n=xu(this._asyncIterable),s;s=yield n.next(),!s.done;){const r=s.value;r&&(this._result.push(r),this._fireResult())}}catch(r){e={error:r}}finally{try{s&&!s.done&&(t=n.return)&&(yield t.call(n))}finally{if(e)throw e.error}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(r){(0,ui.dL)(r)}})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const e=this._state===0,t=this._state===4;this._onResult.fire(new hh(this._result.slice(0),e,t))}start(e){if(e===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}class ad{constructor(e,t){this.priority=e,this.range=t,this.type=1}equals(e){return e.type===1&&this.range.equalsRange(e.range)}canAdoptVisibleHover(e,t){return e.type===1&&t.lineNumber===this.range.startLineNumber}}class Fd{constructor(e,t,n){this.priority=e,this.owner=t,this.range=n,this.type=2}equals(e){return e.type===2&&this.owner===e.owner}canAdoptVisibleHover(e,t){return e.type===2&&this.owner===e.owner}}const da=new class{constructor(){this._participants=[]}register(e){this._participants.push(e)}getAll(){return this._participants}};class Be{constructor(){this.value="",this.pos=0}static isDigitCharacter(e){return e>=48&&e<=57}static isVariableCharacter(e){return e===95||e>=97&&e<=122||e>=65&&e<=90}text(e){this.value=e,this.pos=0}tokenText(e){return this.value.substr(e.pos,e.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let e=this.pos,t=0,n=this.value.charCodeAt(e),s;if(s=Be._table[n],typeof s=="number")return this.pos+=1,{type:s,pos:e,len:1};if(Be.isDigitCharacter(n)){s=8;do t+=1,n=this.value.charCodeAt(e+t);while(Be.isDigitCharacter(n));return this.pos+=t,{type:s,pos:e,len:t}}if(Be.isVariableCharacter(n)){s=9;do n=this.value.charCodeAt(e+ ++t);while(Be.isVariableCharacter(n)||Be.isDigitCharacter(n));return this.pos+=t,{type:s,pos:e,len:t}}s=10;do t+=1,n=this.value.charCodeAt(e+t);while(!isNaN(n)&&typeof Be._table[n]=="undefined"&&!Be.isDigitCharacter(n)&&!Be.isVariableCharacter(n));return this.pos+=t,{type:s,pos:e,len:t}}}Be._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class ye{constructor(){this._children=[]}appendChild(e){return e instanceof Re&&this._children[this._children.length-1]instanceof Re?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this}replace(e,t){const{parent:n}=e,s=n.children.indexOf(e),r=n.children.slice(0);r.splice(s,1,...t),n._children=r,function h(S,Y){for(const ne of S)ne.parent=Y,h(ne.children,ne)}(t,n)}get children(){return this._children}get snippet(){let e=this;for(;;){if(!e)return;if(e instanceof Hn)return e;e=e.parent}}toString(){return this.children.reduce((e,t)=>e+t.toString(),"")}len(){return 0}}class Re extends ye{constructor(e){super(),this.value=e}toString(){return this.value}len(){return this.value.length}clone(){return new Re(this.value)}}class Je extends ye{}class Nt extends Je{constructor(e){super(),this.index=e}static compareByIndex(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof Ot?this._children[0]:void 0}clone(){let e=new Nt(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(t=>t.clone()),e}}class Ot extends ye{constructor(){super(...arguments),this.options=[]}appendChild(e){return e instanceof Re&&(e.parent=this,this.options.push(e)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let e=new Ot;return this.options.forEach(e.appendChild,e),e}}class Vt extends ye{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(e){const t=this;let n=!1,s=e.replace(this.regexp,function(){return n=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))});return!n&&this._children.some(r=>r instanceof an&&Boolean(r.elseValue))&&(s=this._replace([])),s}_replace(e){let t="";for(const n of this._children)if(n instanceof an){let s=e[n.index]||"";s=n.resolve(s),t+=s}else t+=n.toString();return t}toString(){return""}clone(){let e=new Vt;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map(t=>t.clone()),e}}class an extends ye{constructor(e,t,n,s){super(),this.index=e,this.shorthandName=t,this.ifValue=n,this.elseValue=s}resolve(e){return this.shorthandName==="upcase"?e?e.toLocaleUpperCase():"":this.shorthandName==="downcase"?e?e.toLocaleLowerCase():"":this.shorthandName==="capitalize"?e?e[0].toLocaleUpperCase()+e.substr(1):"":this.shorthandName==="pascalcase"?e?this._toPascalCase(e):"":this.shorthandName==="camelcase"?e?this._toCamelCase(e):"":Boolean(e)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(e)&&typeof this.elseValue=="string"?this.elseValue:e||""}_toPascalCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map(n=>n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()).join(""):e}_toCamelCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map((n,s)=>s===0?n.toLowerCase():n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()).join(""):e}clone(){return new an(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class yn extends Je{constructor(e){super(),this.name=e}resolve(e){let t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),t!==void 0?(this._children=[new Re(t)],!0):!1}clone(){const e=new yn(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(t=>t.clone()),e}}function vn(g,e){const t=[...g];for(;t.length>0;){const n=t.shift();if(!e(n))break;t.unshift(...n.children)}}class Hn extends ye{get placeholderInfo(){if(!this._placeholders){let e=[],t;this.walk(function(n){return n instanceof Nt&&(e.push(n),t=!t||t.index<n.index?n:t),!0}),this._placeholders={all:e,last:t}}return this._placeholders}get placeholders(){const{all:e}=this.placeholderInfo;return e}offset(e){let t=0,n=!1;return this.walk(s=>s===e?(n=!0,!1):(t+=s.len(),!0)),n?t:-1}fullLen(e){let t=0;return vn([e],n=>(t+=n.len(),!0)),t}enclosingPlaceholders(e){let t=[],{parent:n}=e;for(;n;)n instanceof Nt&&t.push(n),n=n.parent;return t}resolveVariables(e){return this.walk(t=>(t instanceof yn&&t.resolve(e)&&(this._placeholders=void 0),!0)),this}appendChild(e){return this._placeholders=void 0,super.appendChild(e)}replace(e,t){return this._placeholders=void 0,super.replace(e,t)}clone(){let e=new Hn;return this._children=this.children.map(t=>t.clone()),e}walk(e){vn(this.children,e)}}class Qn{constructor(){this._scanner=new Be,this._token={type:14,pos:0,len:0}}static escape(e){return e.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(e){return/\${?CLIPBOARD/.test(e)}parse(e,t,n){this._scanner.text(e),this._token=this._scanner.next();const s=new Hn;for(;this._parse(s););const r=new Map,h=[];let S=0;s.walk(Y=>(Y instanceof Nt&&(S+=1,Y.isFinalTabstop?r.set(0,void 0):!r.has(Y.index)&&Y.children.length>0?r.set(Y.index,Y.children):h.push(Y)),!0));for(const Y of h){const ne=r.get(Y.index);if(ne){const Q=new Nt(Y.index);Q.transform=Y.transform;for(const he of ne)Q.appendChild(he.clone());s.replace(Y,[Q])}}return n||(n=S>0&&t),!r.has(0)&&n&&s.appendChild(new Nt(0)),s}_accept(e,t){if(e===void 0||this._token.type===e){let n=t?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),n}return!1}_backTo(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1}_until(e){const t=this._token;for(;this._token.type!==e;){if(this._token.type===14)return!1;if(this._token.type===5){const s=this._scanner.next();if(s.type!==0&&s.type!==4&&s.type!==5)return!1}this._token=this._scanner.next()}const n=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),n}_parse(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)}_parseEscaped(e){let t;return(t=this._accept(5,!0))?(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new Re(t)),!0):!1}_parseTabstopOrVariableName(e){let t;const n=this._token;return this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(t)?new Nt(Number(t)):new yn(t)),!0):this._backTo(n)}_parseComplexPlaceholder(e){let t;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0))))return this._backTo(n);const r=new Nt(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(r),!0;if(!this._parse(r))return e.appendChild(new Re("${"+t+":")),r.children.forEach(e.appendChild,e),!0}else if(r.index>0&&this._accept(7)){const h=new Ot;for(;;){if(this._parseChoiceElement(h)){if(this._accept(2))continue;if(this._accept(7)&&(r.appendChild(h),this._accept(4)))return e.appendChild(r),!0}return this._backTo(n),!1}}else return this._accept(6)?this._parseTransform(r)?(e.appendChild(r),!0):(this._backTo(n),!1):this._accept(4)?(e.appendChild(r),!0):this._backTo(n)}_parseChoiceElement(e){const t=this._token,n=[];for(;!(this._token.type===2||this._token.type===7);){let s;if((s=this._accept(5,!0))?s=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||s:s=this._accept(void 0,!0),!s)return this._backTo(t),!1;n.push(s)}return n.length===0?(this._backTo(t),!1):(e.appendChild(new Re(n.join(""))),!0)}_parseComplexVariable(e){let t;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0))))return this._backTo(n);const r=new yn(t);if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(r),!0;if(!this._parse(r))return e.appendChild(new Re("${"+t+":")),r.children.forEach(e.appendChild,e),!0}else return this._accept(6)?this._parseTransform(r)?(e.appendChild(r),!0):(this._backTo(n),!1):this._accept(4)?(e.appendChild(r),!0):this._backTo(n)}_parseTransform(e){let t=new Vt,n="",s="";for(;!this._accept(6);){let r;if(r=this._accept(5,!0)){r=this._accept(6,!0)||r,n+=r;continue}if(this._token.type!==14){n+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let r;if(r=this._accept(5,!0)){r=this._accept(5,!0)||this._accept(6,!0)||r,t.appendChild(new Re(r));continue}if(!(this._parseFormatString(t)||this._parseAnything(t)))return!1}for(;!this._accept(4);){if(this._token.type!==14){s+=this._accept(void 0,!0);continue}return!1}try{t.regexp=new RegExp(n,s)}catch(r){return!1}return e.transform=t,!0}_parseFormatString(e){const t=this._token;if(!this._accept(0))return!1;let n=!1;this._accept(3)&&(n=!0);let s=this._accept(8,!0);if(s)if(n){if(this._accept(4))return e.appendChild(new an(Number(s))),!0;if(!this._accept(1))return this._backTo(t),!1}else return e.appendChild(new an(Number(s))),!0;else return this._backTo(t),!1;if(this._accept(6)){let r=this._accept(9,!0);return!r||!this._accept(4)?(this._backTo(t),!1):(e.appendChild(new an(Number(s),r)),!0)}else if(this._accept(11)){let r=this._until(4);if(r)return e.appendChild(new an(Number(s),void 0,r,void 0)),!0}else if(this._accept(12)){let r=this._until(4);if(r)return e.appendChild(new an(Number(s),void 0,void 0,r)),!0}else if(this._accept(13)){let r=this._until(1);if(r){let h=this._until(4);if(h)return e.appendChild(new an(Number(s),void 0,r,h)),!0}}else{let r=this._until(4);if(r)return e.appendChild(new an(Number(s),void 0,void 0,r)),!0}return this._backTo(t),!1}_parseAnything(e){return this._token.type!==14?(e.appendChild(new Re(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}const Zn={inputActiveOptionBorder:Ei.Il.fromHex("#007ACC00"),inputActiveOptionForeground:Ei.Il.fromHex("#FFFFFF"),inputActiveOptionBackground:Ei.Il.fromHex("#0E639C50")};class pi extends _r.${constructor(e){super(),this._onChange=this._register(new wt.Q5),this.onChange=this._onChange.event,this._onKeyDown=this._register(new wt.Q5),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},Zn),e),this._checked=this._opts.isChecked;const t=["monaco-custom-checkbox"];this._opts.icon&&t.push(...ft.dT.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&t.push(...this._opts.actionClassName.split(" ")),this._checked&&t.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...t),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,n=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),n.preventDefault())}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,n=>{if(n.keyCode===10||n.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),n.preventDefault();return}this._onKeyDown.fire(n)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(e){e.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=e.inputActiveOptionBorder),e.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=e.inputActiveOptionForeground),e.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=e.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}const Ui=Le.N("caseDescription","Match Case"),Wi=Le.N("wordsDescription","Match Whole Word"),di=Le.N("regexDescription","Use Regular Expression");class Ni extends pi{constructor(e){super({icon:ft.lA.caseSensitive,title:Ui+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class ns extends pi{constructor(e){super({icon:ft.lA.wholeWord,title:Wi+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class qs extends pi{constructor(e){super({icon:ft.lA.regex,title:di+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}var Ws=l(99627);const Ys=Le.N("defaultLabel","input");class As extends _r.${constructor(e,t,n,s){super(),this._showOptionButtons=n,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new wt.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new wt.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new wt.Q5),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new wt.Q5),this._onKeyUp=this._register(new wt.Q5),this._onCaseSensitiveKeyDown=this._register(new wt.Q5),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new wt.Q5),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=t,this.placeholder=s.placeholder||"",this.validation=s.validation,this.label=s.label||Ys,this.inputActiveOptionBorder=s.inputActiveOptionBorder,this.inputActiveOptionForeground=s.inputActiveOptionForeground,this.inputActiveOptionBackground=s.inputActiveOptionBackground,this.inputBackground=s.inputBackground,this.inputForeground=s.inputForeground,this.inputBorder=s.inputBorder,this.inputValidationInfoBorder=s.inputValidationInfoBorder,this.inputValidationInfoBackground=s.inputValidationInfoBackground,this.inputValidationInfoForeground=s.inputValidationInfoForeground,this.inputValidationWarningBorder=s.inputValidationWarningBorder,this.inputValidationWarningBackground=s.inputValidationWarningBackground,this.inputValidationWarningForeground=s.inputValidationWarningForeground,this.inputValidationErrorBorder=s.inputValidationErrorBorder,this.inputValidationErrorBackground=s.inputValidationErrorBackground,this.inputValidationErrorForeground=s.inputValidationErrorForeground;const r=s.appendCaseSensitiveLabel||"",h=s.appendWholeWordsLabel||"",S=s.appendRegexLabel||"",Y=s.history||[],ne=!!s.flexibleHeight,Q=!!s.flexibleWidth,he=s.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new Ws.p(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:Y,showHistoryHint:s.showHistoryHint,flexibleHeight:ne,flexibleWidth:Q,flexibleMaxHeight:he})),this.regex=this._register(new qs({appendTitle:S,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(Xe=>{this._onDidOptionChange.fire(Xe),!Xe&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(Xe=>{this._onRegexKeyDown.fire(Xe)})),this.wholeWords=this._register(new ns({appendTitle:h,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(Xe=>{this._onDidOptionChange.fire(Xe),!Xe&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new Ni({appendTitle:r,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(Xe=>{this._onDidOptionChange.fire(Xe),!Xe&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(Xe=>{this._onCaseSensitiveKeyDown.fire(Xe)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let ze=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,Xe=>{if(Xe.equals(15)||Xe.equals(17)||Xe.equals(9)){let bt=ze.indexOf(document.activeElement);if(bt>=0){let Gt=-1;Xe.equals(17)?Gt=(bt+1)%ze.length:Xe.equals(15)&&(bt===0?Gt=ze.length-1:Gt=bt-1),Xe.equals(9)?(ze[bt].blur(),this.inputBox.focus()):Gt>=0&&ze[Gt].focus(),q.zB.stop(Xe,!0)}}}),this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this._showOptionButtons?"block":"none",this.controls.appendChild(this.caseSensitive.domNode),this.controls.appendChild(this.wholeWords.domNode),this.controls.appendChild(this.regex.domNode),this.domNode.appendChild(this.controls),e&&e.appendChild(this.domNode),this._register(q.nm(this.inputBox.inputElement,"compositionstart",Xe=>{this.imeSessionInProgress=!0})),this._register(q.nm(this.inputBox.inputElement,"compositionend",Xe=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,Xe=>this._onKeyDown.fire(Xe)),this.onkeyup(this.inputBox.inputElement,Xe=>this._onKeyUp.fire(Xe)),this.oninput(this.inputBox.inputElement,Xe=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,Xe=>this._onMouseDown.fire(Xe))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(e),this.wholeWords.style(e),this.caseSensitive.style(e);const t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(e){this.caseSensitive.checked=e}getWholeWords(){return this.wholeWords.checked}setWholeWords(e){this.wholeWords.checked=e}getRegex(){return this.regex.checked}setRegex(e){this.regex.checked=e,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}const no=Le.N("defaultLabel","input"),No=Le.N("label.preserveCaseCheckbox","Preserve Case");class ps extends pi{constructor(e){super({icon:ft.lA.preserveCase,title:No+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class Fr extends _r.${constructor(e,t,n,s){super(),this._showOptionButtons=n,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new wt.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new wt.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new wt.Q5),this._onInput=this._register(new wt.Q5),this._onKeyUp=this._register(new wt.Q5),this._onPreserveCaseKeyDown=this._register(new wt.Q5),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=t,this.placeholder=s.placeholder||"",this.validation=s.validation,this.label=s.label||no,this.inputActiveOptionBorder=s.inputActiveOptionBorder,this.inputActiveOptionForeground=s.inputActiveOptionForeground,this.inputActiveOptionBackground=s.inputActiveOptionBackground,this.inputBackground=s.inputBackground,this.inputForeground=s.inputForeground,this.inputBorder=s.inputBorder,this.inputValidationInfoBorder=s.inputValidationInfoBorder,this.inputValidationInfoBackground=s.inputValidationInfoBackground,this.inputValidationInfoForeground=s.inputValidationInfoForeground,this.inputValidationWarningBorder=s.inputValidationWarningBorder,this.inputValidationWarningBackground=s.inputValidationWarningBackground,this.inputValidationWarningForeground=s.inputValidationWarningForeground,this.inputValidationErrorBorder=s.inputValidationErrorBorder,this.inputValidationErrorBackground=s.inputValidationErrorBackground,this.inputValidationErrorForeground=s.inputValidationErrorForeground;const r=s.appendPreserveCaseLabel||"",h=s.history||[],S=!!s.flexibleHeight,Y=!!s.flexibleWidth,ne=s.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new Ws.p(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:h,showHistoryHint:s.showHistoryHint,flexibleHeight:S,flexibleWidth:Y,flexibleMaxHeight:ne})),this.preserveCase=this._register(new ps({appendTitle:r,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(ze=>{this._onDidOptionChange.fire(ze),!ze&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(ze=>{this._onPreserveCaseKeyDown.fire(ze)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let Q=[this.preserveCase.domNode];this.onkeydown(this.domNode,ze=>{if(ze.equals(15)||ze.equals(17)||ze.equals(9)){let Xe=Q.indexOf(document.activeElement);if(Xe>=0){let bt=-1;ze.equals(17)?bt=(Xe+1)%Q.length:ze.equals(15)&&(Xe===0?bt=Q.length-1:bt=Xe-1),ze.equals(9)?(Q[Xe].blur(),this.inputBox.focus()):bt>=0&&Q[bt].focus(),q.zB.stop(ze,!0)}}});let he=document.createElement("div");he.className="controls",he.style.display=this._showOptionButtons?"block":"none",he.appendChild(this.preserveCase.domNode),this.domNode.appendChild(he),e&&e.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,ze=>this._onKeyDown.fire(ze)),this.onkeyup(this.inputBox.inputElement,ze=>this._onKeyUp.fire(ze)),this.oninput(this.inputBox.inputElement,ze=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,ze=>this._onMouseDown.fire(ze))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(e){e?this.enable():this.disable()}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(e);const t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(e){this.preserveCase.checked=e}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(e){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=e,this.domNode.style.width=e+"px"}dispose(){super.dispose()}}var Br=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},qr=function(g,e){return function(t,n){e(t,n,g)}};const Nr=new nn.uy("suggestWidgetVisible",!1,(0,Le.N)("suggestWidgetVisible","Whether suggestion are visible")),Uo="historyNavigationWidget",Ea="historyNavigationForwardsEnabled",ua="historyNavigationBackwardsEnabled";function Fo(g,e,t){new nn.uy(t,e).bindTo(g)}function Ha(g,e){return g.createScoped(e.target)}function Ir(g,e){return g.getContext(document.activeElement).getValue(e)}function ea(g,e){const t=Ha(g,e);Fo(t,e,Uo);const n=new nn.uy(Ea,!0).bindTo(t),s=new nn.uy(ua,!0).bindTo(t);return{scopedContextKeyService:t,historyNavigationForwardsEnablement:n,historyNavigationBackwardsEnablement:s}}let sr=class extends As{constructor(e,t,n,s,r=!1){super(e,t,r,n),this._register(ea(s,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};sr=Br([qr(3,nn.i6)],sr);let Da=class extends Fr{constructor(e,t,n,s,r=!1){super(e,t,r,n),this._register(ea(s,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};Da=Br([qr(3,nn.i6)],Da),Ct.W.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:nn.Ao.and(nn.Ao.has(Uo),nn.Ao.equals(ua,!0),Nr.isEqualTo(!1)),primary:16,secondary:[528],handler:g=>{const e=Ir(g.get(nn.i6),Uo);e&&e.historyNavigator.showPreviousValue()}}),Ct.W.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:nn.Ao.and(nn.Ao.has(Uo),nn.Ao.equals(Ea,!0),Nr.isEqualTo(!1)),primary:18,secondary:[530],handler:g=>{const e=Ir(g.get(nn.i6),Uo);e&&e.historyNavigator.showNextValue()}});var xa=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};const ss={Visible:Nr,DetailsVisible:new nn.uy("suggestWidgetDetailsVisible",!1,(0,Le.N)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new nn.uy("suggestWidgetMultipleSuggestions",!1,(0,Le.N)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new nn.uy("suggestionMakesTextEdit",!0,(0,Le.N)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new nn.uy("acceptSuggestionOnEnter",!0,(0,Le.N)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new nn.uy("suggestionHasInsertAndReplaceRange",!1,(0,Le.N)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new nn.uy("suggestionInsertMode",void 0,{type:"string",description:(0,Le.N)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new nn.uy("suggestionCanResolve",!1,(0,Le.N)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},or=new Ve.eH("suggestWidgetStatusBar");class Nu{constructor(e,t,n,s){this.position=e,this.completion=t,this.container=n,this.provider=s,this.isInvalid=!1,this.score=bi.CL.Default,this.distance=0,this.textLabel=typeof t.label=="string"?t.label:t.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=t.sortText&&t.sortText.toLowerCase(),this.filterTextLow=t.filterText&&t.filterText.toLowerCase(),Ue.e.isIRange(t.range)?(this.editStart=new Cn.L(t.range.startLineNumber,t.range.startColumn),this.editInsertEnd=new Cn.L(t.range.endLineNumber,t.range.endColumn),this.editReplaceEnd=new Cn.L(t.range.endLineNumber,t.range.endColumn),this.isInvalid=this.isInvalid||Ue.e.spansMultipleLines(t.range)||t.range.startLineNumber!==e.lineNumber):(this.editStart=new Cn.L(t.range.insert.startLineNumber,t.range.insert.startColumn),this.editInsertEnd=new Cn.L(t.range.insert.endLineNumber,t.range.insert.endColumn),this.editReplaceEnd=new Cn.L(t.range.replace.endLineNumber,t.range.replace.endColumn),this.isInvalid=this.isInvalid||Ue.e.spansMultipleLines(t.range.insert)||Ue.e.spansMultipleLines(t.range.replace)||t.range.insert.startLineNumber!==e.lineNumber||t.range.replace.startLineNumber!==e.lineNumber||t.range.insert.startColumn!==t.range.replace.startColumn),typeof s.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(e){return xa(this,void 0,void 0,function*(){if(!this._resolveCache){const t=e.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,e)).then(n=>{Object.assign(this.completion,n),this._isResolved=!0,t.dispose()},n=>{(0,ui.n2)(n)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}class cr{constructor(e=2,t=new Set,n=new Set,s=!0){this.snippetSortOrder=e,this.kindFilter=t,this.providerFilter=n,this.showDeprecated=s}}cr.default=new cr;let Bo;function Qo(){return Bo}class dr{constructor(e,t,n,s){this.items=e,this.needsClipboard=t,this.durations=n,this.disposable=s}}function Wr(g,e,t,n=cr.default,s={triggerKind:0},r=bn.T.None){return xa(this,void 0,void 0,function*(){const h=new Ji.G(!0);t=t.clone();const S=e.getWordAtPosition(t),Y=S?new Ue.e(t.lineNumber,S.startColumn,t.lineNumber,S.endColumn):Ue.e.fromPositions(t),ne={replace:Y,insert:Y.setEndPosition(t.lineNumber,t.column)},Q=[],he=new lt.SL,ze=[];let Xe=!1;const bt=(fn,pn,zn)=>{var Rn,wi,yi;let ys=!1;if(!pn)return ys;for(let as of pn.suggestions)if(!n.kindFilter.has(as.kind)){if(!n.showDeprecated&&((Rn=as==null?void 0:as.tags)===null||Rn===void 0?void 0:Rn.includes(1)))continue;as.range||(as.range=ne),as.sortText||(as.sortText=typeof as.label=="string"?as.label:as.label.label),!Xe&&as.insertTextRules&&as.insertTextRules&4&&(Xe=Qn.guessNeedsClipboard(as.insertText)),Q.push(new Nu(t,as,pn,fn)),ys=!0}return(0,lt.Wf)(pn)&&he.add(pn),ze.push({providerName:(wi=fn._debugDisplayName)!==null&&wi!==void 0?wi:"unknown_provider",elapsedProvider:(yi=pn.duration)!==null&&yi!==void 0?yi:-1,elapsedOverall:zn.elapsed()}),ys},Gt=(()=>xa(this,void 0,void 0,function*(){if(!Bo||n.kindFilter.has(27)||n.providerFilter.size>0&&!n.providerFilter.has(Bo))return;const fn=new Ji.G(!0),pn=yield Bo.provideCompletionItems(e,t,s,r);bt(Bo,pn,fn)}))();for(let fn of g.orderedGroups(e)){let pn=!1;if(yield Promise.all(fn.map(zn=>xa(this,void 0,void 0,function*(){if(!(n.providerFilter.size>0&&!n.providerFilter.has(zn)))try{const Rn=new Ji.G(!0),wi=yield zn.provideCompletionItems(e,t,s,r);pn=bt(zn,wi,Rn)||pn}catch(Rn){(0,ui.Cp)(Rn)}}))),pn||r.isCancellationRequested)break}return yield Gt,r.isCancellationRequested?(he.dispose(),Promise.reject((0,ui.F0)())):new dr(Q.sort(rr(n.snippetSortOrder)),Xe,{entries:ze,elapsed:h.elapsed()},he)})}function tl(g,e){if(g.sortTextLow&&e.sortTextLow){if(g.sortTextLow<e.sortTextLow)return-1;if(g.sortTextLow>e.sortTextLow)return 1}return g.completion.label<e.completion.label?-1:g.completion.label>e.completion.label?1:g.completion.kind-e.completion.kind}function ha(g,e){if(g.completion.kind!==e.completion.kind){if(g.completion.kind===27)return-1;if(e.completion.kind===27)return 1}return tl(g,e)}function To(g,e){if(g.completion.kind!==e.completion.kind){if(g.completion.kind===27)return 1;if(e.completion.kind===27)return-1}return tl(g,e)}const Vr=new Map;Vr.set(0,ha),Vr.set(2,To),Vr.set(1,tl);function rr(g){return Vr.get(g)}Ki.P0.registerCommand("_executeCompletionItemProvider",(g,...e)=>xa(void 0,void 0,void 0,function*(){const[t,n,s,r]=e;(0,gs.p_)(qi.o.isUri(t)),(0,gs.p_)(Cn.L.isIPosition(n)),(0,gs.p_)(typeof s=="string"||!s),(0,gs.p_)(typeof r=="number"||!r);const{completionProvider:h}=g.get(ri.p),S=yield g.get(oa.S).createModelReference(t);try{const Y={incomplete:!1,suggestions:[]},ne=[],Q=yield Wr(h,S.object.textEditorModel,Cn.L.lift(n),void 0,{triggerCharacter:s,triggerKind:s?1:0});for(const he of Q.items)ne.length<(r!=null?r:0)&&ne.push(he.resolve(bn.T.None)),Y.incomplete=Y.incomplete||he.container.incomplete,Y.suggestions.push(he.completion);try{return yield Promise.all(ne),Y}finally{setTimeout(()=>Q.disposable.dispose(),100)}}finally{S.dispose()}}));let Na,Cl=[];function fa(g,e,t){const{completionProvider:n}=g.get(ri.p);Na||(Na=new class{provideCompletionItems(){let r={suggestions:Cl.slice(0)};return Cl.length=0,r}},n.register("*",Na)),setTimeout(()=>{var s;Cl.push(...t),(s=e.getContribution("editor.contrib.suggestController"))===null||s===void 0||s.triggerSuggest(new Set().add(Na))},0)}var Ia=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Hr=function(g,e){return function(t,n){e(t,n,g)}};const Dc=q.$;let xc=class Lv extends lt.JT{constructor(e,t,n){super(),this._editor=e,this._instantiationService=t,this._keybindingService=n,this._widget=this._register(this._instantiationService.createInstance(zr,this._editor)),this._decorationsChangerListener=this._register(new fh(this._editor)),this._messages=[],this._messagesAreComplete=!1,this._participants=[];for(const s of da.getAll())this._participants.push(this._instantiationService.createInstance(s,this._editor));this._participants.sort((s,r)=>s.hoverOrdinal-r.hoverOrdinal),this._computer=new Nc(this._editor,this._participants),this._hoverOperation=this._register(new Ec(this._editor,this._computer)),this._register(this._hoverOperation.onResult(s=>{this._withResult(s.value,s.isComplete,s.hasLoadingMessage)})),this._register(this._decorationsChangerListener.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(q.mu(this._widget.getDomNode(),"keydown",s=>{s.equals(9)&&this.hide()})),this._register(qe.RW.onDidChange(()=>{this._widget.position&&this._computer.anchor&&this._messages.length>0&&(this._widget.clear(),this._renderMessages(this._computer.anchor,this._messages))}))}_onModelDecorationsChanged(){this._widget.position&&(this._hoverOperation.cancel(),this._widget.isColorPickerVisible||this._hoverOperation.start(0))}maybeShowAt(e){const t=[];for(const s of this._participants)if(s.suggestHoverAnchor){const r=s.suggestHoverAnchor(e);r&&t.push(r)}const n=e.target;if(n.type===6&&t.push(new ad(0,n.range)),n.type===7){const s=this._editor.getOption(44).typicalHalfwidthCharacterWidth/2;!n.detail.isAfterLines&&typeof n.detail.horizontalDistanceToText=="number"&&n.detail.horizontalDistanceToText<s&&t.push(new ad(0,n.range))}return t.length===0?!1:(t.sort((s,r)=>r.priority-s.priority),this._startShowingAt(t[0],0,!1),!0)}startShowingAtRange(e,t,n){this._startShowingAt(new ad(0,e),t,n)}_startShowingAt(e,t,n){if(!(this._computer.anchor&&this._computer.anchor.equals(e))){if(this._hoverOperation.cancel(),this._widget.position)if(!this._computer.anchor||!e.canAdoptVisibleHover(this._computer.anchor,this._widget.position))this.hide();else{const s=this._messages.filter(r=>r.isValidForHoverAnchor(e));if(s.length===0)this.hide();else{if(s.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(e,s)}}this._computer.anchor=e,this._computer.shouldFocus=n,this._hoverOperation.start(t)}}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._widget.hide()}isColorPickerVisible(){return this._widget.isColorPickerVisible}_addLoadingMessage(e){if(this._computer.anchor){for(const t of this._participants)if(t.createLoadingMessage){const n=t.createLoadingMessage(this._computer.anchor);if(n)return e.slice(0).concat([n])}}return e}_withResult(e,t,n){this._messages=n?this._addLoadingMessage(e):e,this._messagesAreComplete=t,this._computer.anchor&&this._messages.length>0?this._renderMessages(this._computer.anchor,this._messages):t&&this.hide()}_renderMessages(e,t){let n=1073741824,s=t[0].range,r=null;for(const he of t)n=Math.min(n,he.range.startColumn),s=Ue.e.plusRange(s,he.range),he.forceShowAtRange&&(r=he.range);const h=new lt.SL,S=h.add(new Ol(this._keybindingService)),Y=document.createDocumentFragment();let ne=null;const Q={fragment:Y,statusBar:S,setColorPicker:he=>ne=he,onContentsChanged:()=>this._widget.onContentsChanged(),hide:()=>this.hide()};for(const he of this._participants){const ze=t.filter(Xe=>Xe.owner===he);ze.length>0&&h.add(he.renderHoverParts(Q,ze))}if(S.hasContent&&Y.appendChild(S.hoverElement),Y.hasChildNodes()){if(s){const he=this._decorationsChangerListener.deltaDecorations([],[{range:s,options:Lv._DECORATION_OPTIONS}]);h.add((0,lt.OF)(()=>{this._decorationsChangerListener.deltaDecorations(he,[])}))}this._widget.showAt(Y,new ld(ne,r?r.getStartPosition():new Cn.L(e.range.startLineNumber,n),r||s,this._editor.getOption(53).above,this._computer.shouldFocus,h))}else h.dispose()}};xc._DECORATION_OPTIONS=Lt.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),xc=Ia([Hr(1,G.TG),Hr(2,F.d)],xc);class fh extends lt.JT{constructor(e){super(),this._editor=e,this._onDidChangeModelDecorations=this._register(new wt.Q5),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._isChangingDecorations=!1,this._register(this._editor.onDidChangeModelDecorations(t=>{this._isChangingDecorations||this._onDidChangeModelDecorations.fire(t)}))}deltaDecorations(e,t){try{return this._isChangingDecorations=!0,this._editor.deltaDecorations(e,t)}finally{this._isChangingDecorations=!1}}}class ld{constructor(e,t,n,s,r,h){this.colorPicker=e,this.showAtPosition=t,this.showAtRange=n,this.preferAbove=s,this.stoleFocus=r,this.disposables=h}}let zr=class Ev extends lt.JT{constructor(e,t){super(),this._editor=e,this._contextKeyService=t,this.allowEditorOverflow=!0,this._hoverVisibleKey=vt.u.hoverVisible.bindTo(this._contextKeyService),this._hover=this._register(new Od),this._visibleData=null,this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(n=>{n.hasChanged(44)&&this._updateFont()})),this._setVisibleData(null),this._layout(),this._editor.addContentWidget(this)}get position(){var e,t;return(t=(e=this._visibleData)===null||e===void 0?void 0:e.showAtPosition)!==null&&t!==void 0?t:null}get isColorPickerVisible(){var e;return Boolean((e=this._visibleData)===null||e===void 0?void 0:e.colorPicker)}dispose(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),super.dispose()}getId(){return Ev.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){if(!this._visibleData)return null;let e=this._visibleData.preferAbove;return!e&&this._contextKeyService.getContextKeyValue(ss.Visible.key)&&(e=!0),{position:this._visibleData.showAtPosition,range:this._visibleData.showAtRange,preference:e?[1,2]:[2,1]}}_setVisibleData(e){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=e,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}_layout(){const e=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:t,lineHeight:n}=this._editor.getOption(44);this._hover.contentsDomNode.style.fontSize=`${t}px`,this._hover.contentsDomNode.style.lineHeight=`${n/t}`,this._hover.contentsDomNode.style.maxHeight=`${e}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(t=>this._editor.applyFontInfo(t))}showAt(e,t){this._setVisibleData(t),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this._editor.layoutContentWidget(this),this.onContentsChanged(),this._editor.render(),this._editor.layoutContentWidget(this),this.onContentsChanged(),t.stoleFocus&&this._hover.containerDomNode.focus(),t.colorPicker&&t.colorPicker.layout()}hide(){if(this._visibleData){const e=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),e&&this._editor.focus()}}onContentsChanged(){this._hover.onContentsChanged();const e=this._hover.scrollbar.getScrollDimensions();if(e.scrollWidth>e.width){const n=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingBottom!==n&&(this._hover.contentsDomNode.style.paddingBottom=n,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}clear(){this._hover.contentsDomNode.textContent=""}};zr.ID="editor.contrib.contentHoverWidget",zr=Ia([Hr(1,nn.i6)],zr);let Ol=class extends lt.JT{constructor(e){super(),this._keybindingService=e,this._hasContent=!1,this.hoverElement=Dc("div.hover-row.status-bar"),this.actionsElement=q.R3(this.hoverElement,Dc("div.actions"))}get hasContent(){return this._hasContent}addAction(e){const t=this._keybindingService.lookupKeybinding(e.commandId),n=t?t.getLabel():null;return this._hasContent=!0,this._register(Du.render(this.actionsElement,e,n))}append(e){const t=q.R3(this.actionsElement,e);return this._hasContent=!0,t}};Ol=Ia([Hr(0,F.d)],Ol);class Nc{constructor(e,t){this._editor=e,this._participants=t,this._anchor=null,this._shouldFocus=!1}get anchor(){return this._anchor}set anchor(e){this._anchor=e}get shouldFocus(){return this._shouldFocus}set shouldFocus(e){this._shouldFocus=e}static _getLineDecorations(e,t){if(t.type!==1)return[];const n=e.getModel(),s=t.range.startLineNumber,r=n.getLineMaxColumn(s);return e.getLineDecorations(s).filter(h=>{if(h.options.isWholeLine)return!0;const S=h.range.startLineNumber===s?h.range.startColumn:1,Y=h.range.endLineNumber===s?h.range.endColumn:r;if(h.options.showIfCollapsed){if(S>t.range.startColumn+1||t.range.endColumn-1>Y)return!1}else if(S>t.range.startColumn||t.range.endColumn>Y)return!1;return!0})}computeAsync(e){const t=this._anchor;if(!this._editor.hasModel()||!t)return Ht.Aq.EMPTY;const n=Nc._getLineDecorations(this._editor,t);return Ht.Aq.merge(this._participants.map(s=>s.computeAsync?s.computeAsync(t,n,e):Ht.Aq.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const e=Nc._getLineDecorations(this._editor,this._anchor);let t=[];for(const n of this._participants)t=t.concat(n.computeSync(this._anchor,e));return(0,ki.kX)(t)}}function gh(g){if(Array.isArray(g)){for(var e=0,t=Array(g.length);e<g.length;e++)t[e]=g[e];return t}else return Array.from(g)}var Bd=Object.hasOwnProperty,cd=Object.setPrototypeOf,Wd=Object.isFrozen,ta=Object.getPrototypeOf,mf=Object.getOwnPropertyDescriptor,vr=Object.freeze,jo=Object.seal,mh=Object.create,Iu=typeof Reflect!="undefined"&&Reflect,Ic=Iu.apply,mo=Iu.construct;Ic||(Ic=function(e,t,n){return e.apply(t,n)}),vr||(vr=function(e){return e}),jo||(jo=function(e){return e}),mo||(mo=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(gh(t))))});var pf=ga(Array.prototype.forEach),nl=ga(Array.prototype.pop),Ko=ga(Array.prototype.push),Fl=ga(String.prototype.toLowerCase),na=ga(String.prototype.match),Ur=ga(String.prototype.replace),sc=ga(String.prototype.indexOf),Tu=ga(String.prototype.trim),Cr=ga(RegExp.prototype.test),dd=Tc(TypeError);function ga(g){return function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return Ic(g,e,n)}}function Tc(g){return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return mo(g,t)}}function Vs(g,e){cd&&cd(g,null);for(var t=e.length;t--;){var n=e[t];if(typeof n=="string"){var s=Fl(n);s!==n&&(Wd(e)||(e[t]=s),n=s)}g[n]=!0}return g}function Mc(g){var e=mh(null),t=void 0;for(t in g)Ic(Bd,g,[t])&&(e[t]=g[t]);return e}function Vd(g,e){for(;g!==null;){var t=mf(g,e);if(t){if(t.get)return ga(t.get);if(typeof t.value=="function")return ga(t.value)}g=ta(g)}function n(s){return console.warn("fallback value for",s),null}return n}var ph=vr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),_f=vr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Hd=vr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),_h=vr(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Mu=vr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),np=vr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),vh=vr(["#text"]),Cg=vr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),vf=vr(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),bg=vr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),zd=vr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Qi=jo(/\{\{[\s\S]*|[\s\S]*\}\}/gm),Cf=jo(/<%[\s\S]*|[\s\S]*%>/gm),lo=jo(/^data-[\-\w.\u00B7-\uFFFF]/),ip=jo(/^aria-[\-\w]+$/),wg=jo(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),sp=jo(/^(?:\w+script|data):/i),Ch=jo(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g};function il(g){if(Array.isArray(g)){for(var e=0,t=Array(g.length);e<g.length;e++)t[e]=g[e];return t}else return Array.from(g)}var yg=function(){return typeof window=="undefined"?null:window},Sg=function(e,t){if((typeof e=="undefined"?"undefined":ud(e))!=="object"||typeof e.createPolicy!="function")return null;var n=null,s="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(s)&&(n=t.currentScript.getAttribute(s));var r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:function(S){return S}})}catch(h){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};function Lg(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:yg(),e=function(Tn){return Lg(Tn)};if(e.version="2.3.1",e.removed=[],!g||!g.document||g.document.nodeType!==9)return e.isSupported=!1,e;var t=g.document,n=g.document,s=g.DocumentFragment,r=g.HTMLTemplateElement,h=g.Node,S=g.Element,Y=g.NodeFilter,ne=g.NamedNodeMap,Q=ne===void 0?g.NamedNodeMap||g.MozNamedAttrMap:ne,he=g.Text,ze=g.Comment,Xe=g.DOMParser,bt=g.trustedTypes,Gt=S.prototype,fn=Vd(Gt,"cloneNode"),pn=Vd(Gt,"nextSibling"),zn=Vd(Gt,"childNodes"),Rn=Vd(Gt,"parentNode");if(typeof r=="function"){var wi=n.createElement("template");wi.content&&wi.content.ownerDocument&&(n=wi.content.ownerDocument)}var yi=Sg(bt,t),ys=yi&&cf?yi.createHTML(""):"",as=n,wr=as.implementation,Gr=as.createNodeIterator,Zr=as.createDocumentFragment,Ul=as.getElementsByTagName,lc=t.importNode,_a={};try{_a=Mc(n).documentMode?n.documentMode:{}}catch(ws){}var Ma={};e.isSupported=typeof Rn=="function"&&wr&&typeof wr.createHTMLDocument!="undefined"&&_a!==9;var cc=Qi,au=Cf,Ju=lo,qu=ip,Hm=sp,zm=Ch,lu=wg,$i=null,Gi=Vs({},[].concat(il(ph),il(_f),il(Hd),il(Mu),il(vh))),ia=null,dg=Vs({},[].concat(il(Cg),il(vf),il(bg),il(zd))),dc=null,cu=null,af=!0,eh=!0,zc=!1,fs=!1,du=!1,ug=!1,hg=!1,uu=!1,lf=!1,Um=!0,cf=!1,jm=!0,Pn=!0,Ln=!1,Dn={},yt=null,At=Vs({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),rn=null,Xt=Vs({},["audio","video","img","source","image","track"]),Un=null,qn=Vs({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ji="http://www.w3.org/1998/Math/MathML",Ai="http://www.w3.org/2000/svg",_s="http://www.w3.org/1999/xhtml",vs=_s,Co=!1,Hs=null,Yi=n.createElement("form"),Xo=function(Tn){Hs&&Hs===Tn||((!Tn||(typeof Tn=="undefined"?"undefined":ud(Tn))!=="object")&&(Tn={}),Tn=Mc(Tn),$i="ALLOWED_TAGS"in Tn?Vs({},Tn.ALLOWED_TAGS):Gi,ia="ALLOWED_ATTR"in Tn?Vs({},Tn.ALLOWED_ATTR):dg,Un="ADD_URI_SAFE_ATTR"in Tn?Vs(Mc(qn),Tn.ADD_URI_SAFE_ATTR):qn,rn="ADD_DATA_URI_TAGS"in Tn?Vs(Mc(Xt),Tn.ADD_DATA_URI_TAGS):Xt,yt="FORBID_CONTENTS"in Tn?Vs({},Tn.FORBID_CONTENTS):At,dc="FORBID_TAGS"in Tn?Vs({},Tn.FORBID_TAGS):{},cu="FORBID_ATTR"in Tn?Vs({},Tn.FORBID_ATTR):{},Dn="USE_PROFILES"in Tn?Tn.USE_PROFILES:!1,af=Tn.ALLOW_ARIA_ATTR!==!1,eh=Tn.ALLOW_DATA_ATTR!==!1,zc=Tn.ALLOW_UNKNOWN_PROTOCOLS||!1,fs=Tn.SAFE_FOR_TEMPLATES||!1,du=Tn.WHOLE_DOCUMENT||!1,uu=Tn.RETURN_DOM||!1,lf=Tn.RETURN_DOM_FRAGMENT||!1,Um=Tn.RETURN_DOM_IMPORT!==!1,cf=Tn.RETURN_TRUSTED_TYPE||!1,hg=Tn.FORCE_BODY||!1,jm=Tn.SANITIZE_DOM!==!1,Pn=Tn.KEEP_CONTENT!==!1,Ln=Tn.IN_PLACE||!1,lu=Tn.ALLOWED_URI_REGEXP||lu,vs=Tn.NAMESPACE||_s,fs&&(eh=!1),lf&&(uu=!0),Dn&&($i=Vs({},[].concat(il(vh))),ia=[],Dn.html===!0&&(Vs($i,ph),Vs(ia,Cg)),Dn.svg===!0&&(Vs($i,_f),Vs(ia,vf),Vs(ia,zd)),Dn.svgFilters===!0&&(Vs($i,Hd),Vs(ia,vf),Vs(ia,zd)),Dn.mathMl===!0&&(Vs($i,Mu),Vs(ia,bg),Vs(ia,zd))),Tn.ADD_TAGS&&($i===Gi&&($i=Mc($i)),Vs($i,Tn.ADD_TAGS)),Tn.ADD_ATTR&&(ia===dg&&(ia=Mc(ia)),Vs(ia,Tn.ADD_ATTR)),Tn.ADD_URI_SAFE_ATTR&&Vs(Un,Tn.ADD_URI_SAFE_ATTR),Tn.FORBID_CONTENTS&&(yt===At&&(yt=Mc(yt)),Vs(yt,Tn.FORBID_CONTENTS)),Pn&&($i["#text"]=!0),du&&Vs($i,["html","head","body"]),$i.table&&(Vs($i,["tbody"]),delete dc.tbody),vr&&vr(Tn),Hs=Tn)},Wo=Vs({},["mi","mo","mn","ms","mtext"]),yl=Vs({},["foreignobject","desc","title","annotation-xml"]),ko=Vs({},_f);Vs(ko,Hd),Vs(ko,_h);var yr=Vs({},Mu);Vs(yr,np);var th=function(Tn){var Mi=Rn(Tn);(!Mi||!Mi.tagName)&&(Mi={namespaceURI:_s,tagName:"template"});var ds=Fl(Tn.tagName),Ro=Fl(Mi.tagName);if(Tn.namespaceURI===Ai)return Mi.namespaceURI===_s?ds==="svg":Mi.namespaceURI===ji?ds==="svg"&&(Ro==="annotation-xml"||Wo[Ro]):Boolean(ko[ds]);if(Tn.namespaceURI===ji)return Mi.namespaceURI===_s?ds==="math":Mi.namespaceURI===Ai?ds==="math"&&yl[Ro]:Boolean(yr[ds]);if(Tn.namespaceURI===_s){if(Mi.namespaceURI===Ai&&!yl[Ro]||Mi.namespaceURI===ji&&!Wo[Ro])return!1;var ka=Vs({},["title","style","font","a","script"]);return!yr[ds]&&(ka[ds]||!ko[ds])}return!1},ll=function(Tn){Ko(e.removed,{element:Tn});try{Tn.parentNode.removeChild(Tn)}catch(Mi){try{Tn.outerHTML=ys}catch(ds){Tn.remove()}}},uc=function(Tn,Mi){try{Ko(e.removed,{attribute:Mi.getAttributeNode(Tn),from:Mi})}catch(ds){Ko(e.removed,{attribute:null,from:Mi})}if(Mi.removeAttribute(Tn),Tn==="is"&&!ia[Tn])if(uu||lf)try{ll(Mi)}catch(ds){}else try{Mi.setAttribute(Tn,"")}catch(ds){}},hu=function(Tn){var Mi=void 0,ds=void 0;if(hg)Tn="<remove></remove>"+Tn;else{var Ro=na(Tn,/^[\r\n\t ]+/);ds=Ro&&Ro[0]}var ka=yi?yi.createHTML(Tn):Tn;if(vs===_s)try{Mi=new Xe().parseFromString(ka,"text/html")}catch(Aa){}if(!Mi||!Mi.documentElement){Mi=wr.createDocument(vs,"template",null);try{Mi.documentElement.innerHTML=Co?"":ka}catch(Aa){}}var Ra=Mi.body||Mi.documentElement;return Tn&&ds&&Ra.insertBefore(n.createTextNode(ds),Ra.childNodes[0]||null),vs===_s?Ul.call(Mi,du?"html":"body")[0]:du?Mi.documentElement:Ra},Cd=function(Tn){return Gr.call(Tn.ownerDocument||Tn,Tn,Y.SHOW_ELEMENT|Y.SHOW_COMMENT|Y.SHOW_TEXT,null,!1)},df=function(Tn){return Tn instanceof he||Tn instanceof ze?!1:typeof Tn.nodeName!="string"||typeof Tn.textContent!="string"||typeof Tn.removeChild!="function"||!(Tn.attributes instanceof Q)||typeof Tn.removeAttribute!="function"||typeof Tn.setAttribute!="function"||typeof Tn.namespaceURI!="string"||typeof Tn.insertBefore!="function"},fu=function(Tn){return(typeof h=="undefined"?"undefined":ud(h))==="object"?Tn instanceof h:Tn&&(typeof Tn=="undefined"?"undefined":ud(Tn))==="object"&&typeof Tn.nodeType=="number"&&typeof Tn.nodeName=="string"},hc=function(Tn,Mi,ds){!Ma[Tn]||pf(Ma[Tn],function(Ro){Ro.call(e,Mi,ds,Hs)})},fg=function(Tn){var Mi=void 0;if(hc("beforeSanitizeElements",Tn,null),df(Tn)||na(Tn.nodeName,/[\u0080-\uFFFF]/))return ll(Tn),!0;var ds=Fl(Tn.nodeName);if(hc("uponSanitizeElement",Tn,{tagName:ds,allowedTags:$i}),!fu(Tn.firstElementChild)&&(!fu(Tn.content)||!fu(Tn.content.firstElementChild))&&Cr(/<[/\w]/g,Tn.innerHTML)&&Cr(/<[/\w]/g,Tn.textContent)||ds==="select"&&Cr(/<template/i,Tn.innerHTML))return ll(Tn),!0;if(!$i[ds]||dc[ds]){if(Pn&&!yt[ds]){var Ro=Rn(Tn)||Tn.parentNode,ka=zn(Tn)||Tn.childNodes;if(ka&&Ro)for(var Ra=ka.length,Aa=Ra-1;Aa>=0;--Aa)Ro.insertBefore(fn(ka[Aa],!0),pn(Tn))}return ll(Tn),!0}return Tn instanceof S&&!th(Tn)||(ds==="noscript"||ds==="noembed")&&Cr(/<\/no(script|embed)/i,Tn.innerHTML)?(ll(Tn),!0):(fs&&Tn.nodeType===3&&(Mi=Tn.textContent,Mi=Ur(Mi,cc," "),Mi=Ur(Mi,au," "),Tn.textContent!==Mi&&(Ko(e.removed,{element:Tn.cloneNode()}),Tn.textContent=Mi)),hc("afterSanitizeElements",Tn,null),!1)},Km=function(Tn,Mi,ds){if(jm&&(Mi==="id"||Mi==="name")&&(ds in n||ds in Yi))return!1;if(!(eh&&!cu[Mi]&&Cr(Ju,Mi))){if(!(af&&Cr(qu,Mi))){if(!ia[Mi]||cu[Mi])return!1;if(!Un[Mi]){if(!Cr(lu,Ur(ds,zm,""))){if(!((Mi==="src"||Mi==="xlink:href"||Mi==="href")&&Tn!=="script"&&sc(ds,"data:")===0&&rn[Tn])){if(!(zc&&!Cr(Hm,Ur(ds,zm,"")))){if(ds)return!1}}}}}}return!0},cv=function(Tn){var Mi=void 0,ds=void 0,Ro=void 0,ka=void 0;hc("beforeSanitizeAttributes",Tn,null);var Ra=Tn.attributes;if(!!Ra){var Aa={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ia};for(ka=Ra.length;ka--;){Mi=Ra[ka];var bd=Mi,gg=bd.name,dv=bd.namespaceURI;if(ds=Tu(Mi.value),Ro=Fl(gg),Aa.attrName=Ro,Aa.attrValue=ds,Aa.keepAttr=!0,Aa.forceKeepAttr=void 0,hc("uponSanitizeAttribute",Tn,Aa),ds=Aa.attrValue,!Aa.forceKeepAttr&&(uc(gg,Tn),!!Aa.keepAttr)){if(Cr(/\/>/i,ds)){uc(gg,Tn);continue}fs&&(ds=Ur(ds,cc," "),ds=Ur(ds,au," "));var HL=Tn.nodeName.toLowerCase();if(!!Km(HL,Ro,ds))try{dv?Tn.setAttributeNS(dv,gg,ds):Tn.setAttribute(gg,ds),nl(e.removed)}catch(aE){}}}hc("afterSanitizeAttributes",Tn,null)}},VL=function ws(Tn){var Mi=void 0,ds=Cd(Tn);for(hc("beforeSanitizeShadowDOM",Tn,null);Mi=ds.nextNode();)hc("uponSanitizeShadowNode",Mi,null),!fg(Mi)&&(Mi.content instanceof s&&ws(Mi.content),cv(Mi));hc("afterSanitizeShadowDOM",Tn,null)};return e.sanitize=function(ws,Tn){var Mi=void 0,ds=void 0,Ro=void 0,ka=void 0,Ra=void 0;if(Co=!ws,Co&&(ws="<!-->"),typeof ws!="string"&&!fu(ws)){if(typeof ws.toString!="function")throw dd("toString is not a function");if(ws=ws.toString(),typeof ws!="string")throw dd("dirty is not a string, aborting")}if(!e.isSupported){if(ud(g.toStaticHTML)==="object"||typeof g.toStaticHTML=="function"){if(typeof ws=="string")return g.toStaticHTML(ws);if(fu(ws))return g.toStaticHTML(ws.outerHTML)}return ws}if(ug||Xo(Tn),e.removed=[],typeof ws=="string"&&(Ln=!1),!Ln)if(ws instanceof h)Mi=hu("<!---->"),ds=Mi.ownerDocument.importNode(ws,!0),ds.nodeType===1&&ds.nodeName==="BODY"||ds.nodeName==="HTML"?Mi=ds:Mi.appendChild(ds);else{if(!uu&&!fs&&!du&&ws.indexOf("<")===-1)return yi&&cf?yi.createHTML(ws):ws;if(Mi=hu(ws),!Mi)return uu?null:ys}Mi&&hg&&ll(Mi.firstChild);for(var Aa=Cd(Ln?ws:Mi);Ro=Aa.nextNode();)Ro.nodeType===3&&Ro===ka||fg(Ro)||(Ro.content instanceof s&&VL(Ro.content),cv(Ro),ka=Ro);if(ka=null,Ln)return ws;if(uu){if(lf)for(Ra=Zr.call(Mi.ownerDocument);Mi.firstChild;)Ra.appendChild(Mi.firstChild);else Ra=Mi;return Um&&(Ra=lc.call(t,Ra,!0)),Ra}var bd=du?Mi.outerHTML:Mi.innerHTML;return fs&&(bd=Ur(bd,cc," "),bd=Ur(bd,au," ")),yi&&cf?yi.createHTML(bd):bd},e.setConfig=function(ws){Xo(ws),ug=!0},e.clearConfig=function(){Hs=null,ug=!1},e.isValidAttribute=function(ws,Tn,Mi){Hs||Xo({});var ds=Fl(ws),Ro=Fl(Tn);return Km(ds,Ro,Mi)},e.addHook=function(ws,Tn){typeof Tn=="function"&&(Ma[ws]=Ma[ws]||[],Ko(Ma[ws],Tn))},e.removeHook=function(ws){Ma[ws]&&nl(Ma[ws])},e.removeHooks=function(ws){Ma[ws]&&(Ma[ws]=[])},e.removeAllHooks=function(){Ma={}},e}var Bl=Lg(),n1=null;const i1=Bl.version,s1=Bl.isSupported,op=Bl.sanitize,o1=Bl.setConfig,r1=Bl.clearConfig,a1=Bl.isValidAttribute,Eg=Bl.addHook,Dg=Bl.removeHook,l1=Bl.removeHooks,c1=Bl.removeAllHooks;var ku=l(30053),xg=l(39266),rp=l(26934),Ng=l(65249);let Ig={};(function(){function g(e,t){t(Ig)}g.amd=!0,function(e,t){typeof exports=="object"?t(exports):typeof g=="function"&&g.amd?g(["exports"],t):(e=typeof globalThis!="undefined"?globalThis:e||self,t(e.marked={}))}(this,function(e){"use strict";function t(Pn,Ln){for(var Dn=0;Dn<Ln.length;Dn++){var yt=Ln[Dn];yt.enumerable=yt.enumerable||!1,yt.configurable=!0,"value"in yt&&(yt.writable=!0),Object.defineProperty(Pn,yt.key,yt)}}function n(Pn,Ln,Dn){return Ln&&t(Pn.prototype,Ln),Dn&&t(Pn,Dn),Object.defineProperty(Pn,"prototype",{writable:!1}),Pn}function s(Pn,Ln){if(!!Pn){if(typeof Pn=="string")return r(Pn,Ln);var Dn=Object.prototype.toString.call(Pn).slice(8,-1);if(Dn==="Object"&&Pn.constructor&&(Dn=Pn.constructor.name),Dn==="Map"||Dn==="Set")return Array.from(Pn);if(Dn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Dn))return r(Pn,Ln)}}function r(Pn,Ln){(Ln==null||Ln>Pn.length)&&(Ln=Pn.length);for(var Dn=0,yt=new Array(Ln);Dn<Ln;Dn++)yt[Dn]=Pn[Dn];return yt}function h(Pn,Ln){var Dn=typeof Symbol!="undefined"&&Pn[Symbol.iterator]||Pn["@@iterator"];if(Dn)return(Dn=Dn.call(Pn)).next.bind(Dn);if(Array.isArray(Pn)||(Dn=s(Pn))||Ln&&Pn&&typeof Pn.length=="number"){Dn&&(Pn=Dn);var yt=0;return function(){return yt>=Pn.length?{done:!0}:{done:!1,value:Pn[yt++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}e.defaults=S();function Y(Pn){e.defaults=Pn}var ne=/[&<>"']/,Q=/[&<>"']/g,he=/[<>"']|&(?!#?\w+;)/,ze=/[<>"']|&(?!#?\w+;)/g,Xe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bt=function(Ln){return Xe[Ln]};function Gt(Pn,Ln){if(Ln){if(ne.test(Pn))return Pn.replace(Q,bt)}else if(he.test(Pn))return Pn.replace(ze,bt);return Pn}var fn=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function pn(Pn){return Pn.replace(fn,function(Ln,Dn){return Dn=Dn.toLowerCase(),Dn==="colon"?":":Dn.charAt(0)==="#"?Dn.charAt(1)==="x"?String.fromCharCode(parseInt(Dn.substring(2),16)):String.fromCharCode(+Dn.substring(1)):""})}var zn=/(^|[^\[])\^/g;function Rn(Pn,Ln){Pn=Pn.source||Pn,Ln=Ln||"";var Dn={replace:function(At,rn){return rn=rn.source||rn,rn=rn.replace(zn,"$1"),Pn=Pn.replace(At,rn),Dn},getRegex:function(){return new RegExp(Pn,Ln)}};return Dn}var wi=/[^\w:]/g,yi=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function ys(Pn,Ln,Dn){if(Pn){var yt;try{yt=decodeURIComponent(pn(Dn)).replace(wi,"").toLowerCase()}catch(At){return null}if(yt.indexOf("javascript:")===0||yt.indexOf("vbscript:")===0||yt.indexOf("data:")===0)return null}Ln&&!yi.test(Dn)&&(Dn=Ul(Ln,Dn));try{Dn=encodeURI(Dn).replace(/%25/g,"%")}catch(At){return null}return Dn}var as={},wr=/^[^:]+:\/*[^/]*$/,Gr=/^([^:]+:)[\s\S]*$/,Zr=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Ul(Pn,Ln){as[" "+Pn]||(wr.test(Pn)?as[" "+Pn]=Pn+"/":as[" "+Pn]=cc(Pn,"/",!0)),Pn=as[" "+Pn];var Dn=Pn.indexOf(":")===-1;return Ln.substring(0,2)==="//"?Dn?Ln:Pn.replace(Gr,"$1")+Ln:Ln.charAt(0)==="/"?Dn?Ln:Pn.replace(Zr,"$1")+Ln:Pn+Ln}var lc={exec:function(){}};function _a(Pn){for(var Ln=1,Dn,yt;Ln<arguments.length;Ln++){Dn=arguments[Ln];for(yt in Dn)Object.prototype.hasOwnProperty.call(Dn,yt)&&(Pn[yt]=Dn[yt])}return Pn}function Ma(Pn,Ln){var Dn=Pn.replace(/\|/g,function(rn,Xt,Un){for(var qn=!1,ji=Xt;--ji>=0&&Un[ji]==="\\";)qn=!qn;return qn?"|":" |"}),yt=Dn.split(/ \|/),At=0;if(yt[0].trim()||yt.shift(),yt[yt.length-1].trim()||yt.pop(),yt.length>Ln)yt.splice(Ln);else for(;yt.length<Ln;)yt.push("");for(;At<yt.length;At++)yt[At]=yt[At].trim().replace(/\\\|/g,"|");return yt}function cc(Pn,Ln,Dn){var yt=Pn.length;if(yt===0)return"";for(var At=0;At<yt;){var rn=Pn.charAt(yt-At-1);if(rn===Ln&&!Dn)At++;else if(rn!==Ln&&Dn)At++;else break}return Pn.substr(0,yt-At)}function au(Pn,Ln){if(Pn.indexOf(Ln[1])===-1)return-1;for(var Dn=Pn.length,yt=0,At=0;At<Dn;At++)if(Pn[At]==="\\")At++;else if(Pn[At]===Ln[0])yt++;else if(Pn[At]===Ln[1]&&(yt--,yt<0))return At;return-1}function Ju(Pn){Pn&&Pn.sanitize&&!Pn.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function qu(Pn,Ln){if(Ln<1)return"";for(var Dn="";Ln>1;)Ln&1&&(Dn+=Pn),Ln>>=1,Pn+=Pn;return Dn+Pn}function Hm(Pn,Ln,Dn,yt){var At=Ln.href,rn=Ln.title?Gt(Ln.title):null,Xt=Pn[1].replace(/\\([\[\]])/g,"$1");if(Pn[0].charAt(0)!=="!"){yt.state.inLink=!0;var Un={type:"link",raw:Dn,href:At,title:rn,text:Xt,tokens:yt.inlineTokens(Xt,[])};return yt.state.inLink=!1,Un}else return{type:"image",raw:Dn,href:At,title:rn,text:Gt(Xt)}}function zm(Pn,Ln){var Dn=Pn.match(/^(\s+)(?:```)/);if(Dn===null)return Ln;var yt=Dn[1];return Ln.split(`
`).map(function(At){var rn=At.match(/^\s+/);if(rn===null)return At;var Xt=rn[0];return Xt.length>=yt.length?At.slice(yt.length):At}).join(`
`)}var lu=function(){function Pn(Dn){this.options=Dn||e.defaults}var Ln=Pn.prototype;return Ln.space=function(yt){var At=this.rules.block.newline.exec(yt);if(At&&At[0].length>0)return{type:"space",raw:At[0]}},Ln.code=function(yt){var At=this.rules.block.code.exec(yt);if(At){var rn=At[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:At[0],codeBlockStyle:"indented",text:this.options.pedantic?rn:cc(rn,`
`)}}},Ln.fences=function(yt){var At=this.rules.block.fences.exec(yt);if(At){var rn=At[0],Xt=zm(rn,At[3]||"");return{type:"code",raw:rn,lang:At[2]?At[2].trim():At[2],text:Xt}}},Ln.heading=function(yt){var At=this.rules.block.heading.exec(yt);if(At){var rn=At[2].trim();if(/#$/.test(rn)){var Xt=cc(rn,"#");(this.options.pedantic||!Xt||/ $/.test(Xt))&&(rn=Xt.trim())}var Un={type:"heading",raw:At[0],depth:At[1].length,text:rn,tokens:[]};return this.lexer.inline(Un.text,Un.tokens),Un}},Ln.hr=function(yt){var At=this.rules.block.hr.exec(yt);if(At)return{type:"hr",raw:At[0]}},Ln.blockquote=function(yt){var At=this.rules.block.blockquote.exec(yt);if(At){var rn=At[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:At[0],tokens:this.lexer.blockTokens(rn,[]),text:rn}}},Ln.list=function(yt){var At=this.rules.block.list.exec(yt);if(At){var rn,Xt,Un,qn,ji,Ai,_s,vs,Co,Hs,Yi,Xo,Wo=At[1].trim(),yl=Wo.length>1,ko={type:"list",raw:"",ordered:yl,start:yl?+Wo.slice(0,-1):"",loose:!1,items:[]};Wo=yl?"\\d{1,9}\\"+Wo.slice(-1):"\\"+Wo,this.options.pedantic&&(Wo=yl?Wo:"[*+-]");for(var yr=new RegExp("^( {0,3}"+Wo+")((?: [^\\n]*)?(?:\\n|$))");yt&&(Xo=!1,!(!(At=yr.exec(yt))||this.rules.block.hr.test(yt)));){if(rn=At[0],yt=yt.substring(rn.length),vs=At[2].split(`
`,1)[0],Co=yt.split(`
`,1)[0],this.options.pedantic?(qn=2,Yi=vs.trimLeft()):(qn=At[2].search(/[^ ]/),qn=qn>4?1:qn,Yi=vs.slice(qn),qn+=At[1].length),Ai=!1,!vs&&/^ *$/.test(Co)&&(rn+=Co+`
`,yt=yt.substring(Co.length+1),Xo=!0),!Xo)for(var th=new RegExp("^ {0,"+Math.min(3,qn-1)+"}(?:[*+-]|\\d{1,9}[.)])");yt&&(Hs=yt.split(`
`,1)[0],vs=Hs,this.options.pedantic&&(vs=vs.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!th.test(vs));){if(vs.search(/[^ ]/)>=qn||!vs.trim())Yi+=`
`+vs.slice(qn);else if(!Ai)Yi+=`
`+vs;else break;!Ai&&!vs.trim()&&(Ai=!0),rn+=Hs+`
`,yt=yt.substring(Hs.length+1)}ko.loose||(_s?ko.loose=!0:/\n *\n *$/.test(rn)&&(_s=!0)),this.options.gfm&&(Xt=/^\[[ xX]\] /.exec(Yi),Xt&&(Un=Xt[0]!=="[ ] ",Yi=Yi.replace(/^\[[ xX]\] +/,""))),ko.items.push({type:"list_item",raw:rn,task:!!Xt,checked:Un,loose:!1,text:Yi}),ko.raw+=rn}ko.items[ko.items.length-1].raw=rn.trimRight(),ko.items[ko.items.length-1].text=Yi.trimRight(),ko.raw=ko.raw.trimRight();var ll=ko.items.length;for(ji=0;ji<ll;ji++){this.lexer.state.top=!1,ko.items[ji].tokens=this.lexer.blockTokens(ko.items[ji].text,[]);var uc=ko.items[ji].tokens.filter(function(Cd){return Cd.type==="space"}),hu=uc.every(function(Cd){for(var df=Cd.raw.split(""),fu=0,hc=h(df),fg;!(fg=hc()).done;){var Km=fg.value;if(Km===`
`&&(fu+=1),fu>1)return!0}return!1});!ko.loose&&uc.length&&hu&&(ko.loose=!0,ko.items[ji].loose=!0)}return ko}},Ln.html=function(yt){var At=this.rules.block.html.exec(yt);if(At){var rn={type:"html",raw:At[0],pre:!this.options.sanitizer&&(At[1]==="pre"||At[1]==="script"||At[1]==="style"),text:At[0]};return this.options.sanitize&&(rn.type="paragraph",rn.text=this.options.sanitizer?this.options.sanitizer(At[0]):Gt(At[0]),rn.tokens=[],this.lexer.inline(rn.text,rn.tokens)),rn}},Ln.def=function(yt){var At=this.rules.block.def.exec(yt);if(At){At[3]&&(At[3]=At[3].substring(1,At[3].length-1));var rn=At[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:rn,raw:At[0],href:At[2],title:At[3]}}},Ln.table=function(yt){var At=this.rules.block.table.exec(yt);if(At){var rn={type:"table",header:Ma(At[1]).map(function(_s){return{text:_s}}),align:At[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:At[3]?At[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(rn.header.length===rn.align.length){rn.raw=At[0];var Xt=rn.align.length,Un,qn,ji,Ai;for(Un=0;Un<Xt;Un++)/^ *-+: *$/.test(rn.align[Un])?rn.align[Un]="right":/^ *:-+: *$/.test(rn.align[Un])?rn.align[Un]="center":/^ *:-+ *$/.test(rn.align[Un])?rn.align[Un]="left":rn.align[Un]=null;for(Xt=rn.rows.length,Un=0;Un<Xt;Un++)rn.rows[Un]=Ma(rn.rows[Un],rn.header.length).map(function(_s){return{text:_s}});for(Xt=rn.header.length,qn=0;qn<Xt;qn++)rn.header[qn].tokens=[],this.lexer.inlineTokens(rn.header[qn].text,rn.header[qn].tokens);for(Xt=rn.rows.length,qn=0;qn<Xt;qn++)for(Ai=rn.rows[qn],ji=0;ji<Ai.length;ji++)Ai[ji].tokens=[],this.lexer.inlineTokens(Ai[ji].text,Ai[ji].tokens);return rn}}},Ln.lheading=function(yt){var At=this.rules.block.lheading.exec(yt);if(At){var rn={type:"heading",raw:At[0],depth:At[2].charAt(0)==="="?1:2,text:At[1],tokens:[]};return this.lexer.inline(rn.text,rn.tokens),rn}},Ln.paragraph=function(yt){var At=this.rules.block.paragraph.exec(yt);if(At){var rn={type:"paragraph",raw:At[0],text:At[1].charAt(At[1].length-1)===`
`?At[1].slice(0,-1):At[1],tokens:[]};return this.lexer.inline(rn.text,rn.tokens),rn}},Ln.text=function(yt){var At=this.rules.block.text.exec(yt);if(At){var rn={type:"text",raw:At[0],text:At[0],tokens:[]};return this.lexer.inline(rn.text,rn.tokens),rn}},Ln.escape=function(yt){var At=this.rules.inline.escape.exec(yt);if(At)return{type:"escape",raw:At[0],text:Gt(At[1])}},Ln.tag=function(yt){var At=this.rules.inline.tag.exec(yt);if(At)return!this.lexer.state.inLink&&/^<a /i.test(At[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(At[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(At[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(At[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:At[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(At[0]):Gt(At[0]):At[0]}},Ln.link=function(yt){var At=this.rules.inline.link.exec(yt);if(At){var rn=At[2].trim();if(!this.options.pedantic&&/^</.test(rn)){if(!/>$/.test(rn))return;var Xt=cc(rn.slice(0,-1),"\\");if((rn.length-Xt.length)%2===0)return}else{var Un=au(At[2],"()");if(Un>-1){var qn=At[0].indexOf("!")===0?5:4,ji=qn+At[1].length+Un;At[2]=At[2].substring(0,Un),At[0]=At[0].substring(0,ji).trim(),At[3]=""}}var Ai=At[2],_s="";if(this.options.pedantic){var vs=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Ai);vs&&(Ai=vs[1],_s=vs[3])}else _s=At[3]?At[3].slice(1,-1):"";return Ai=Ai.trim(),/^</.test(Ai)&&(this.options.pedantic&&!/>$/.test(rn)?Ai=Ai.slice(1):Ai=Ai.slice(1,-1)),Hm(At,{href:Ai&&Ai.replace(this.rules.inline._escapes,"$1"),title:_s&&_s.replace(this.rules.inline._escapes,"$1")},At[0],this.lexer)}},Ln.reflink=function(yt,At){var rn;if((rn=this.rules.inline.reflink.exec(yt))||(rn=this.rules.inline.nolink.exec(yt))){var Xt=(rn[2]||rn[1]).replace(/\s+/g," ");if(Xt=At[Xt.toLowerCase()],!Xt||!Xt.href){var Un=rn[0].charAt(0);return{type:"text",raw:Un,text:Un}}return Hm(rn,Xt,rn[0],this.lexer)}},Ln.emStrong=function(yt,At,rn){rn===void 0&&(rn="");var Xt=this.rules.inline.emStrong.lDelim.exec(yt);if(!!Xt&&!(Xt[3]&&rn.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var Un=Xt[1]||Xt[2]||"";if(!Un||Un&&(rn===""||this.rules.inline.punctuation.exec(rn))){var qn=Xt[0].length-1,ji,Ai,_s=qn,vs=0,Co=Xt[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Co.lastIndex=0,At=At.slice(-1*yt.length+qn);(Xt=Co.exec(At))!=null;)if(ji=Xt[1]||Xt[2]||Xt[3]||Xt[4]||Xt[5]||Xt[6],!!ji){if(Ai=ji.length,Xt[3]||Xt[4]){_s+=Ai;continue}else if((Xt[5]||Xt[6])&&qn%3&&!((qn+Ai)%3)){vs+=Ai;continue}if(_s-=Ai,!(_s>0)){if(Ai=Math.min(Ai,Ai+_s+vs),Math.min(qn,Ai)%2){var Hs=yt.slice(1,qn+Xt.index+Ai);return{type:"em",raw:yt.slice(0,qn+Xt.index+Ai+1),text:Hs,tokens:this.lexer.inlineTokens(Hs,[])}}var Yi=yt.slice(2,qn+Xt.index+Ai-1);return{type:"strong",raw:yt.slice(0,qn+Xt.index+Ai+1),text:Yi,tokens:this.lexer.inlineTokens(Yi,[])}}}}}},Ln.codespan=function(yt){var At=this.rules.inline.code.exec(yt);if(At){var rn=At[2].replace(/\n/g," "),Xt=/[^ ]/.test(rn),Un=/^ /.test(rn)&&/ $/.test(rn);return Xt&&Un&&(rn=rn.substring(1,rn.length-1)),rn=Gt(rn,!0),{type:"codespan",raw:At[0],text:rn}}},Ln.br=function(yt){var At=this.rules.inline.br.exec(yt);if(At)return{type:"br",raw:At[0]}},Ln.del=function(yt){var At=this.rules.inline.del.exec(yt);if(At)return{type:"del",raw:At[0],text:At[2],tokens:this.lexer.inlineTokens(At[2],[])}},Ln.autolink=function(yt,At){var rn=this.rules.inline.autolink.exec(yt);if(rn){var Xt,Un;return rn[2]==="@"?(Xt=Gt(this.options.mangle?At(rn[1]):rn[1]),Un="mailto:"+Xt):(Xt=Gt(rn[1]),Un=Xt),{type:"link",raw:rn[0],text:Xt,href:Un,tokens:[{type:"text",raw:Xt,text:Xt}]}}},Ln.url=function(yt,At){var rn;if(rn=this.rules.inline.url.exec(yt)){var Xt,Un;if(rn[2]==="@")Xt=Gt(this.options.mangle?At(rn[0]):rn[0]),Un="mailto:"+Xt;else{var qn;do qn=rn[0],rn[0]=this.rules.inline._backpedal.exec(rn[0])[0];while(qn!==rn[0]);Xt=Gt(rn[0]),rn[1]==="www."?Un="http://"+Xt:Un=Xt}return{type:"link",raw:rn[0],text:Xt,href:Un,tokens:[{type:"text",raw:Xt,text:Xt}]}}},Ln.inlineText=function(yt,At){var rn=this.rules.inline.text.exec(yt);if(rn){var Xt;return this.lexer.state.inRawBlock?Xt=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(rn[0]):Gt(rn[0]):rn[0]:Xt=Gt(this.options.smartypants?At(rn[0]):rn[0]),{type:"text",raw:rn[0],text:Xt}}},Pn}(),$i={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:lc,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};$i._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,$i._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,$i.def=Rn($i.def).replace("label",$i._label).replace("title",$i._title).getRegex(),$i.bullet=/(?:[*+-]|\d{1,9}[.)])/,$i.listItemStart=Rn(/^( *)(bull) */).replace("bull",$i.bullet).getRegex(),$i.list=Rn($i.list).replace(/bull/g,$i.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+$i.def.source+")").getRegex(),$i._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",$i._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,$i.html=Rn($i.html,"i").replace("comment",$i._comment).replace("tag",$i._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),$i.paragraph=Rn($i._paragraph).replace("hr",$i.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$i._tag).getRegex(),$i.blockquote=Rn($i.blockquote).replace("paragraph",$i.paragraph).getRegex(),$i.normal=_a({},$i),$i.gfm=_a({},$i.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),$i.gfm.table=Rn($i.gfm.table).replace("hr",$i.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$i._tag).getRegex(),$i.gfm.paragraph=Rn($i._paragraph).replace("hr",$i.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",$i.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$i._tag).getRegex(),$i.pedantic=_a({},$i.normal,{html:Rn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",$i._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:lc,paragraph:Rn($i.normal._paragraph).replace("hr",$i.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",$i.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Gi={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:lc,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:lc,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Gi._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Gi.punctuation=Rn(Gi.punctuation).replace(/punctuation/g,Gi._punctuation).getRegex(),Gi.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Gi.escapedEmSt=/\\\*|\\_/g,Gi._comment=Rn($i._comment).replace("(?:-->|$)","-->").getRegex(),Gi.emStrong.lDelim=Rn(Gi.emStrong.lDelim).replace(/punct/g,Gi._punctuation).getRegex(),Gi.emStrong.rDelimAst=Rn(Gi.emStrong.rDelimAst,"g").replace(/punct/g,Gi._punctuation).getRegex(),Gi.emStrong.rDelimUnd=Rn(Gi.emStrong.rDelimUnd,"g").replace(/punct/g,Gi._punctuation).getRegex(),Gi._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Gi._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Gi._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Gi.autolink=Rn(Gi.autolink).replace("scheme",Gi._scheme).replace("email",Gi._email).getRegex(),Gi._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Gi.tag=Rn(Gi.tag).replace("comment",Gi._comment).replace("attribute",Gi._attribute).getRegex(),Gi._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Gi._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Gi._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Gi.link=Rn(Gi.link).replace("label",Gi._label).replace("href",Gi._href).replace("title",Gi._title).getRegex(),Gi.reflink=Rn(Gi.reflink).replace("label",Gi._label).replace("ref",$i._label).getRegex(),Gi.nolink=Rn(Gi.nolink).replace("ref",$i._label).getRegex(),Gi.reflinkSearch=Rn(Gi.reflinkSearch,"g").replace("reflink",Gi.reflink).replace("nolink",Gi.nolink).getRegex(),Gi.normal=_a({},Gi),Gi.pedantic=_a({},Gi.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Rn(/^!?\[(label)\]\((.*?)\)/).replace("label",Gi._label).getRegex(),reflink:Rn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Gi._label).getRegex()}),Gi.gfm=_a({},Gi.normal,{escape:Rn(Gi.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Gi.gfm.url=Rn(Gi.gfm.url,"i").replace("email",Gi.gfm._extended_email).getRegex(),Gi.breaks=_a({},Gi.gfm,{br:Rn(Gi.br).replace("{2,}","*").getRegex(),text:Rn(Gi.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function ia(Pn){return Pn.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function dg(Pn){var Ln="",Dn,yt,At=Pn.length;for(Dn=0;Dn<At;Dn++)yt=Pn.charCodeAt(Dn),Math.random()>.5&&(yt="x"+yt.toString(16)),Ln+="&#"+yt+";";return Ln}var dc=function(){function Pn(Dn){this.tokens=[],this.tokens.links=Object.create(null),this.options=Dn||e.defaults,this.options.tokenizer=this.options.tokenizer||new lu,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var yt={block:$i.normal,inline:Gi.normal};this.options.pedantic?(yt.block=$i.pedantic,yt.inline=Gi.pedantic):this.options.gfm&&(yt.block=$i.gfm,this.options.breaks?yt.inline=Gi.breaks:yt.inline=Gi.gfm),this.tokenizer.rules=yt}Pn.lex=function(yt,At){var rn=new Pn(At);return rn.lex(yt)},Pn.lexInline=function(yt,At){var rn=new Pn(At);return rn.inlineTokens(yt)};var Ln=Pn.prototype;return Ln.lex=function(yt){yt=yt.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(yt,this.tokens);for(var At;At=this.inlineQueue.shift();)this.inlineTokens(At.src,At.tokens);return this.tokens},Ln.blockTokens=function(yt,At){var rn=this;At===void 0&&(At=[]),this.options.pedantic&&(yt=yt.replace(/^ +$/gm,""));for(var Xt,Un,qn,ji;yt;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(_s){return(Xt=_s.call({lexer:rn},yt,At))?(yt=yt.substring(Xt.raw.length),At.push(Xt),!0):!1}))){if(Xt=this.tokenizer.space(yt)){yt=yt.substring(Xt.raw.length),Xt.raw.length===1&&At.length>0?At[At.length-1].raw+=`
`:At.push(Xt);continue}if(Xt=this.tokenizer.code(yt)){yt=yt.substring(Xt.raw.length),Un=At[At.length-1],Un&&(Un.type==="paragraph"||Un.type==="text")?(Un.raw+=`
`+Xt.raw,Un.text+=`
`+Xt.text,this.inlineQueue[this.inlineQueue.length-1].src=Un.text):At.push(Xt);continue}if(Xt=this.tokenizer.fences(yt)){yt=yt.substring(Xt.raw.length),At.push(Xt);continue}if(Xt=this.tokenizer.heading(yt)){yt=yt.substring(Xt.raw.length),At.push(Xt);continue}if(Xt=this.tokenizer.hr(yt)){yt=yt.substring(Xt.raw.length),At.push(Xt);continue}if(Xt=this.tokenizer.blockquote(yt)){yt=yt.substring(Xt.raw.length),At.push(Xt);continue}if(Xt=this.tokenizer.list(yt)){yt=yt.substring(Xt.raw.length),At.push(Xt);continue}if(Xt=this.tokenizer.html(yt)){yt=yt.substring(Xt.raw.length),At.push(Xt);continue}if(Xt=this.tokenizer.def(yt)){yt=yt.substring(Xt.raw.length),Un=At[At.length-1],Un&&(Un.type==="paragraph"||Un.type==="text")?(Un.raw+=`
`+Xt.raw,Un.text+=`
`+Xt.raw,this.inlineQueue[this.inlineQueue.length-1].src=Un.text):this.tokens.links[Xt.tag]||(this.tokens.links[Xt.tag]={href:Xt.href,title:Xt.title});continue}if(Xt=this.tokenizer.table(yt)){yt=yt.substring(Xt.raw.length),At.push(Xt);continue}if(Xt=this.tokenizer.lheading(yt)){yt=yt.substring(Xt.raw.length),At.push(Xt);continue}if(qn=yt,this.options.extensions&&this.options.extensions.startBlock&&function(){var _s=1/0,vs=yt.slice(1),Co=void 0;rn.options.extensions.startBlock.forEach(function(Hs){Co=Hs.call({lexer:this},vs),typeof Co=="number"&&Co>=0&&(_s=Math.min(_s,Co))}),_s<1/0&&_s>=0&&(qn=yt.substring(0,_s+1))}(),this.state.top&&(Xt=this.tokenizer.paragraph(qn))){Un=At[At.length-1],ji&&Un.type==="paragraph"?(Un.raw+=`
`+Xt.raw,Un.text+=`
`+Xt.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Un.text):At.push(Xt),ji=qn.length!==yt.length,yt=yt.substring(Xt.raw.length);continue}if(Xt=this.tokenizer.text(yt)){yt=yt.substring(Xt.raw.length),Un=At[At.length-1],Un&&Un.type==="text"?(Un.raw+=`
`+Xt.raw,Un.text+=`
`+Xt.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Un.text):At.push(Xt);continue}if(yt){var Ai="Infinite loop on byte: "+yt.charCodeAt(0);if(this.options.silent){console.error(Ai);break}else throw new Error(Ai)}}return this.state.top=!0,At},Ln.inline=function(yt,At){this.inlineQueue.push({src:yt,tokens:At})},Ln.inlineTokens=function(yt,At){var rn=this;At===void 0&&(At=[]);var Xt,Un,qn,ji=yt,Ai,_s,vs;if(this.tokens.links){var Co=Object.keys(this.tokens.links);if(Co.length>0)for(;(Ai=this.tokenizer.rules.inline.reflinkSearch.exec(ji))!=null;)Co.includes(Ai[0].slice(Ai[0].lastIndexOf("[")+1,-1))&&(ji=ji.slice(0,Ai.index)+"["+qu("a",Ai[0].length-2)+"]"+ji.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Ai=this.tokenizer.rules.inline.blockSkip.exec(ji))!=null;)ji=ji.slice(0,Ai.index)+"["+qu("a",Ai[0].length-2)+"]"+ji.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Ai=this.tokenizer.rules.inline.escapedEmSt.exec(ji))!=null;)ji=ji.slice(0,Ai.index)+"++"+ji.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;yt;)if(_s||(vs=""),_s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Yi){return(Xt=Yi.call({lexer:rn},yt,At))?(yt=yt.substring(Xt.raw.length),At.push(Xt),!0):!1}))){if(Xt=this.tokenizer.escape(yt)){yt=yt.substring(Xt.raw.length),At.push(Xt);continue}if(Xt=this.tokenizer.tag(yt)){yt=yt.substring(Xt.raw.length),Un=At[At.length-1],Un&&Xt.type==="text"&&Un.type==="text"?(Un.raw+=Xt.raw,Un.text+=Xt.text):At.push(Xt);continue}if(Xt=this.tokenizer.link(yt)){yt=yt.substring(Xt.raw.length),At.push(Xt);continue}if(Xt=this.tokenizer.reflink(yt,this.tokens.links)){yt=yt.substring(Xt.raw.length),Un=At[At.length-1],Un&&Xt.type==="text"&&Un.type==="text"?(Un.raw+=Xt.raw,Un.text+=Xt.text):At.push(Xt);continue}if(Xt=this.tokenizer.emStrong(yt,ji,vs)){yt=yt.substring(Xt.raw.length),At.push(Xt);continue}if(Xt=this.tokenizer.codespan(yt)){yt=yt.substring(Xt.raw.length),At.push(Xt);continue}if(Xt=this.tokenizer.br(yt)){yt=yt.substring(Xt.raw.length),At.push(Xt);continue}if(Xt=this.tokenizer.del(yt)){yt=yt.substring(Xt.raw.length),At.push(Xt);continue}if(Xt=this.tokenizer.autolink(yt,dg)){yt=yt.substring(Xt.raw.length),At.push(Xt);continue}if(!this.state.inLink&&(Xt=this.tokenizer.url(yt,dg))){yt=yt.substring(Xt.raw.length),At.push(Xt);continue}if(qn=yt,this.options.extensions&&this.options.extensions.startInline&&function(){var Yi=1/0,Xo=yt.slice(1),Wo=void 0;rn.options.extensions.startInline.forEach(function(yl){Wo=yl.call({lexer:this},Xo),typeof Wo=="number"&&Wo>=0&&(Yi=Math.min(Yi,Wo))}),Yi<1/0&&Yi>=0&&(qn=yt.substring(0,Yi+1))}(),Xt=this.tokenizer.inlineText(qn,ia)){yt=yt.substring(Xt.raw.length),Xt.raw.slice(-1)!=="_"&&(vs=Xt.raw.slice(-1)),_s=!0,Un=At[At.length-1],Un&&Un.type==="text"?(Un.raw+=Xt.raw,Un.text+=Xt.text):At.push(Xt);continue}if(yt){var Hs="Infinite loop on byte: "+yt.charCodeAt(0);if(this.options.silent){console.error(Hs);break}else throw new Error(Hs)}}return At},n(Pn,null,[{key:"rules",get:function(){return{block:$i,inline:Gi}}}]),Pn}(),cu=function(){function Pn(Dn){this.options=Dn||e.defaults}var Ln=Pn.prototype;return Ln.code=function(yt,At,rn){var Xt=(At||"").match(/\S*/)[0];if(this.options.highlight){var Un=this.options.highlight(yt,Xt);Un!=null&&Un!==yt&&(rn=!0,yt=Un)}return yt=yt.replace(/\n$/,"")+`
`,Xt?'<pre><code class="'+this.options.langPrefix+Gt(Xt,!0)+'">'+(rn?yt:Gt(yt,!0))+`</code></pre>
`:"<pre><code>"+(rn?yt:Gt(yt,!0))+`</code></pre>
`},Ln.blockquote=function(yt){return`<blockquote>
`+yt+`</blockquote>
`},Ln.html=function(yt){return yt},Ln.heading=function(yt,At,rn,Xt){return this.options.headerIds?"<h"+At+' id="'+this.options.headerPrefix+Xt.slug(rn)+'">'+yt+"</h"+At+`>
`:"<h"+At+">"+yt+"</h"+At+`>
`},Ln.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},Ln.list=function(yt,At,rn){var Xt=At?"ol":"ul",Un=At&&rn!==1?' start="'+rn+'"':"";return"<"+Xt+Un+`>
`+yt+"</"+Xt+`>
`},Ln.listitem=function(yt){return"<li>"+yt+`</li>
`},Ln.checkbox=function(yt){return"<input "+(yt?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Ln.paragraph=function(yt){return"<p>"+yt+`</p>
`},Ln.table=function(yt,At){return At&&(At="<tbody>"+At+"</tbody>"),`<table>
<thead>
`+yt+`</thead>
`+At+`</table>
`},Ln.tablerow=function(yt){return`<tr>
`+yt+`</tr>
`},Ln.tablecell=function(yt,At){var rn=At.header?"th":"td",Xt=At.align?"<"+rn+' align="'+At.align+'">':"<"+rn+">";return Xt+yt+"</"+rn+`>
`},Ln.strong=function(yt){return"<strong>"+yt+"</strong>"},Ln.em=function(yt){return"<em>"+yt+"</em>"},Ln.codespan=function(yt){return"<code>"+yt+"</code>"},Ln.br=function(){return this.options.xhtml?"<br/>":"<br>"},Ln.del=function(yt){return"<del>"+yt+"</del>"},Ln.link=function(yt,At,rn){if(yt=ys(this.options.sanitize,this.options.baseUrl,yt),yt===null)return rn;var Xt='<a href="'+Gt(yt)+'"';return At&&(Xt+=' title="'+At+'"'),Xt+=">"+rn+"</a>",Xt},Ln.image=function(yt,At,rn){if(yt=ys(this.options.sanitize,this.options.baseUrl,yt),yt===null)return rn;var Xt='<img src="'+yt+'" alt="'+rn+'"';return At&&(Xt+=' title="'+At+'"'),Xt+=this.options.xhtml?"/>":">",Xt},Ln.text=function(yt){return yt},Pn}(),af=function(){function Pn(){}var Ln=Pn.prototype;return Ln.strong=function(yt){return yt},Ln.em=function(yt){return yt},Ln.codespan=function(yt){return yt},Ln.del=function(yt){return yt},Ln.html=function(yt){return yt},Ln.text=function(yt){return yt},Ln.link=function(yt,At,rn){return""+rn},Ln.image=function(yt,At,rn){return""+rn},Ln.br=function(){return""},Pn}(),eh=function(){function Pn(){this.seen={}}var Ln=Pn.prototype;return Ln.serialize=function(yt){return yt.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Ln.getNextSafeSlug=function(yt,At){var rn=yt,Xt=0;if(this.seen.hasOwnProperty(rn)){Xt=this.seen[yt];do Xt++,rn=yt+"-"+Xt;while(this.seen.hasOwnProperty(rn))}return At||(this.seen[yt]=Xt,this.seen[rn]=0),rn},Ln.slug=function(yt,At){At===void 0&&(At={});var rn=this.serialize(yt);return this.getNextSafeSlug(rn,At.dryrun)},Pn}(),zc=function(){function Pn(Dn){this.options=Dn||e.defaults,this.options.renderer=this.options.renderer||new cu,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new af,this.slugger=new eh}Pn.parse=function(yt,At){var rn=new Pn(At);return rn.parse(yt)},Pn.parseInline=function(yt,At){var rn=new Pn(At);return rn.parseInline(yt)};var Ln=Pn.prototype;return Ln.parse=function(yt,At){At===void 0&&(At=!0);var rn="",Xt,Un,qn,ji,Ai,_s,vs,Co,Hs,Yi,Xo,Wo,yl,ko,yr,th,ll,uc,hu,Cd=yt.length;for(Xt=0;Xt<Cd;Xt++){if(Yi=yt[Xt],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Yi.type]&&(hu=this.options.extensions.renderers[Yi.type].call({parser:this},Yi),hu!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Yi.type))){rn+=hu||"";continue}switch(Yi.type){case"space":continue;case"hr":{rn+=this.renderer.hr();continue}case"heading":{rn+=this.renderer.heading(this.parseInline(Yi.tokens),Yi.depth,pn(this.parseInline(Yi.tokens,this.textRenderer)),this.slugger);continue}case"code":{rn+=this.renderer.code(Yi.text,Yi.lang,Yi.escaped);continue}case"table":{for(Co="",vs="",ji=Yi.header.length,Un=0;Un<ji;Un++)vs+=this.renderer.tablecell(this.parseInline(Yi.header[Un].tokens),{header:!0,align:Yi.align[Un]});for(Co+=this.renderer.tablerow(vs),Hs="",ji=Yi.rows.length,Un=0;Un<ji;Un++){for(_s=Yi.rows[Un],vs="",Ai=_s.length,qn=0;qn<Ai;qn++)vs+=this.renderer.tablecell(this.parseInline(_s[qn].tokens),{header:!1,align:Yi.align[qn]});Hs+=this.renderer.tablerow(vs)}rn+=this.renderer.table(Co,Hs);continue}case"blockquote":{Hs=this.parse(Yi.tokens),rn+=this.renderer.blockquote(Hs);continue}case"list":{for(Xo=Yi.ordered,Wo=Yi.start,yl=Yi.loose,ji=Yi.items.length,Hs="",Un=0;Un<ji;Un++)yr=Yi.items[Un],th=yr.checked,ll=yr.task,ko="",yr.task&&(uc=this.renderer.checkbox(th),yl?yr.tokens.length>0&&yr.tokens[0].type==="paragraph"?(yr.tokens[0].text=uc+" "+yr.tokens[0].text,yr.tokens[0].tokens&&yr.tokens[0].tokens.length>0&&yr.tokens[0].tokens[0].type==="text"&&(yr.tokens[0].tokens[0].text=uc+" "+yr.tokens[0].tokens[0].text)):yr.tokens.unshift({type:"text",text:uc}):ko+=uc),ko+=this.parse(yr.tokens,yl),Hs+=this.renderer.listitem(ko,ll,th);rn+=this.renderer.list(Hs,Xo,Wo);continue}case"html":{rn+=this.renderer.html(Yi.text);continue}case"paragraph":{rn+=this.renderer.paragraph(this.parseInline(Yi.tokens));continue}case"text":{for(Hs=Yi.tokens?this.parseInline(Yi.tokens):Yi.text;Xt+1<Cd&&yt[Xt+1].type==="text";)Yi=yt[++Xt],Hs+=`
`+(Yi.tokens?this.parseInline(Yi.tokens):Yi.text);rn+=At?this.renderer.paragraph(Hs):Hs;continue}default:{var df='Token with "'+Yi.type+'" type was not found.';if(this.options.silent){console.error(df);return}else throw new Error(df)}}}return rn},Ln.parseInline=function(yt,At){At=At||this.renderer;var rn="",Xt,Un,qn,ji=yt.length;for(Xt=0;Xt<ji;Xt++){if(Un=yt[Xt],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Un.type]&&(qn=this.options.extensions.renderers[Un.type].call({parser:this},Un),qn!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(Un.type))){rn+=qn||"";continue}switch(Un.type){case"escape":{rn+=At.text(Un.text);break}case"html":{rn+=At.html(Un.text);break}case"link":{rn+=At.link(Un.href,Un.title,this.parseInline(Un.tokens,At));break}case"image":{rn+=At.image(Un.href,Un.title,Un.text);break}case"strong":{rn+=At.strong(this.parseInline(Un.tokens,At));break}case"em":{rn+=At.em(this.parseInline(Un.tokens,At));break}case"codespan":{rn+=At.codespan(Un.text);break}case"br":{rn+=At.br();break}case"del":{rn+=At.del(this.parseInline(Un.tokens,At));break}case"text":{rn+=At.text(Un.text);break}default:{var Ai='Token with "'+Un.type+'" type was not found.';if(this.options.silent){console.error(Ai);return}else throw new Error(Ai)}}}return rn},Pn}();function fs(Pn,Ln,Dn){if(typeof Pn=="undefined"||Pn===null)throw new Error("marked(): input parameter is undefined or null");if(typeof Pn!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Pn)+", string expected");if(typeof Ln=="function"&&(Dn=Ln,Ln=null),Ln=_a({},fs.defaults,Ln||{}),Ju(Ln),Dn){var yt=Ln.highlight,At;try{At=dc.lex(Pn,Ln)}catch(qn){return Dn(qn)}var rn=function(ji){var Ai;if(!ji)try{Ln.walkTokens&&fs.walkTokens(At,Ln.walkTokens),Ai=zc.parse(At,Ln)}catch(_s){ji=_s}return Ln.highlight=yt,ji?Dn(ji):Dn(null,Ai)};if(!yt||yt.length<3||(delete Ln.highlight,!At.length))return rn();var Xt=0;fs.walkTokens(At,function(qn){qn.type==="code"&&(Xt++,setTimeout(function(){yt(qn.text,qn.lang,function(ji,Ai){if(ji)return rn(ji);Ai!=null&&Ai!==qn.text&&(qn.text=Ai,qn.escaped=!0),Xt--,Xt===0&&rn()})},0))}),Xt===0&&rn();return}try{var Un=dc.lex(Pn,Ln);return Ln.walkTokens&&fs.walkTokens(Un,Ln.walkTokens),zc.parse(Un,Ln)}catch(qn){if(qn.message+=`
Please report this to https://github.com/markedjs/marked.`,Ln.silent)return"<p>An error occurred:</p><pre>"+Gt(qn.message+"",!0)+"</pre>";throw qn}}fs.options=fs.setOptions=function(Pn){return _a(fs.defaults,Pn),Y(fs.defaults),fs},fs.getDefaults=S,fs.defaults=e.defaults,fs.use=function(){for(var Pn=arguments.length,Ln=new Array(Pn),Dn=0;Dn<Pn;Dn++)Ln[Dn]=arguments[Dn];var yt=_a.apply(void 0,[{}].concat(Ln)),At=fs.defaults.extensions||{renderers:{},childTokens:{}},rn;Ln.forEach(function(Xt){if(Xt.extensions&&(rn=!0,Xt.extensions.forEach(function(qn){if(!qn.name)throw new Error("extension name required");if(qn.renderer){var ji=At.renderers?At.renderers[qn.name]:null;ji?At.renderers[qn.name]=function(){for(var Ai=arguments.length,_s=new Array(Ai),vs=0;vs<Ai;vs++)_s[vs]=arguments[vs];var Co=qn.renderer.apply(this,_s);return Co===!1&&(Co=ji.apply(this,_s)),Co}:At.renderers[qn.name]=qn.renderer}if(qn.tokenizer){if(!qn.level||qn.level!=="block"&&qn.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");At[qn.level]?At[qn.level].unshift(qn.tokenizer):At[qn.level]=[qn.tokenizer],qn.start&&(qn.level==="block"?At.startBlock?At.startBlock.push(qn.start):At.startBlock=[qn.start]:qn.level==="inline"&&(At.startInline?At.startInline.push(qn.start):At.startInline=[qn.start]))}qn.childTokens&&(At.childTokens[qn.name]=qn.childTokens)})),Xt.renderer&&function(){var qn=fs.defaults.renderer||new cu,ji=function(vs){var Co=qn[vs];qn[vs]=function(){for(var Hs=arguments.length,Yi=new Array(Hs),Xo=0;Xo<Hs;Xo++)Yi[Xo]=arguments[Xo];var Wo=Xt.renderer[vs].apply(qn,Yi);return Wo===!1&&(Wo=Co.apply(qn,Yi)),Wo}};for(var Ai in Xt.renderer)ji(Ai);yt.renderer=qn}(),Xt.tokenizer&&function(){var qn=fs.defaults.tokenizer||new lu,ji=function(vs){var Co=qn[vs];qn[vs]=function(){for(var Hs=arguments.length,Yi=new Array(Hs),Xo=0;Xo<Hs;Xo++)Yi[Xo]=arguments[Xo];var Wo=Xt.tokenizer[vs].apply(qn,Yi);return Wo===!1&&(Wo=Co.apply(qn,Yi)),Wo}};for(var Ai in Xt.tokenizer)ji(Ai);yt.tokenizer=qn}(),Xt.walkTokens){var Un=fs.defaults.walkTokens;yt.walkTokens=function(qn){Xt.walkTokens.call(this,qn),Un&&Un.call(this,qn)}}rn&&(yt.extensions=At),fs.setOptions(yt)})},fs.walkTokens=function(Pn,Ln){for(var Dn=function(){var Xt=At.value;switch(Ln.call(fs,Xt),Xt.type){case"table":{for(var Un=h(Xt.header),qn;!(qn=Un()).done;){var ji=qn.value;fs.walkTokens(ji.tokens,Ln)}for(var Ai=h(Xt.rows),_s;!(_s=Ai()).done;)for(var vs=_s.value,Co=h(vs),Hs;!(Hs=Co()).done;){var Yi=Hs.value;fs.walkTokens(Yi.tokens,Ln)}break}case"list":{fs.walkTokens(Xt.items,Ln);break}default:fs.defaults.extensions&&fs.defaults.extensions.childTokens&&fs.defaults.extensions.childTokens[Xt.type]?fs.defaults.extensions.childTokens[Xt.type].forEach(function(Xo){fs.walkTokens(Xt[Xo],Ln)}):Xt.tokens&&fs.walkTokens(Xt.tokens,Ln)}},yt=h(Pn),At;!(At=yt()).done;)Dn()},fs.parseInline=function(Pn,Ln){if(typeof Pn=="undefined"||Pn===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof Pn!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Pn)+", string expected");Ln=_a({},fs.defaults,Ln||{}),Ju(Ln);try{var Dn=dc.lexInline(Pn,Ln);return Ln.walkTokens&&fs.walkTokens(Dn,Ln.walkTokens),zc.parseInline(Dn,Ln)}catch(yt){if(yt.message+=`
Please report this to https://github.com/markedjs/marked.`,Ln.silent)return"<p>An error occurred:</p><pre>"+Gt(yt.message+"",!0)+"</pre>";throw yt}},fs.Parser=zc,fs.parser=zc.parse,fs.Renderer=cu,fs.TextRenderer=af,fs.Lexer=dc,fs.lexer=dc.lex,fs.Tokenizer=lu,fs.Slugger=eh,fs.parse=fs;var du=fs.options,ug=fs.setOptions,hg=fs.use,uu=fs.walkTokens,lf=fs.parseInline,Um=fs,cf=zc.parse,jm=dc.lex;e.Lexer=dc,e.Parser=zc,e.Renderer=cu,e.Slugger=eh,e.TextRenderer=af,e.Tokenizer=lu,e.getDefaults=S,e.lexer=jm,e.marked=fs,e.options=du,e.parse=Um,e.parseInline=lf,e.parser=cf,e.setOptions=ug,e.use=hg,e.walkTokens=uu,Object.defineProperty(e,"__esModule",{value:!0})})})();var Tg=Ig||exports,ap=l(78240);function lp(g,e={},t={}){var n;const s=new lt.SL;let r=!1;const h=s.add(new bn.A),S=(0,xg.az)(e),Y=function(pn){let zn;try{zn=(0,ap.Q)(decodeURIComponent(pn))}catch(Rn){}return zn?(zn=(0,Jr.rs)(zn,Rn=>{if(g.uris&&g.uris[Rn])return qi.o.revive(g.uris[Rn])}),encodeURIComponent(JSON.stringify(zn))):pn},ne=function(pn,zn){const Rn=g.uris&&g.uris[pn];let wi=qi.o.revive(Rn);return zn?pn.startsWith(li.lg.data+":")?pn:(wi||(wi=qi.o.parse(pn)),li.Gi.asBrowserUri(wi).toString(!0)):!wi||qi.o.parse(pn).toString()===wi.toString()?pn:(wi.query&&(wi=wi.with({query:Y(wi.query)})),wi.toString())};let Q;const he=new Promise(pn=>Q=pn),ze=new Tg.Renderer;if(ze.image=(pn,zn,Rn)=>{let wi=[],yi=[];return pn&&({href:pn,dimensions:wi}=(0,Zt.v1)(pn),yi.push(`src="${pn}"`)),Rn&&yi.push(`alt="${Rn}"`),zn&&yi.push(`title="${zn}"`),wi.length&&(yi=yi.concat(wi)),"<img "+yi.join(" ")+">"},ze.link=(pn,zn,Rn)=>typeof pn!="string"?"":(pn===Rn&&(Rn=(0,Zt.oR)(Rn)),pn=ne(pn,!1),g.baseUri&&(pn=bf(qi.o.from(g.baseUri),pn)),zn=typeof zn=="string"?(0,Zt.oR)(zn):"",pn=(0,Zt.oR)(pn),!pn||/^data:|javascript:/i.test(pn)||/^command:/i.test(pn)&&!g.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(pn)?Rn:(pn=pn.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a data-href="${pn}" title="${zn||pn}">${Rn}</a>`)),ze.paragraph=pn=>`<p>${pn}</p>`,e.codeBlockRenderer&&(ze.code=(pn,zn)=>{const Rn=e.codeBlockRenderer(zn!=null?zn:"",pn),wi=Zl.a.nextId();return(0,Ht.eP)(Promise.all([Rn,he]),h.token).then(yi=>{var ys;if(!r&&yi){const as=S.querySelector(`div[data-code="${wi}"]`);as&&q.mc(as,yi[0]),(ys=e.asyncRenderCallback)===null||ys===void 0||ys.call(e)}}).catch(()=>{}),`<div class="code" data-code="${wi}">${(0,En.YU)(pn)}</div>`}),e.actionHandler){const pn=e.actionHandler.disposables.add(new ku.Y(S,"click")),zn=e.actionHandler.disposables.add(new ku.Y(S,"auxclick"));e.actionHandler.disposables.add(wt.ju.any(pn.event,zn.event)(Rn=>{const wi=new rp.n(Rn);if(!wi.leftButton&&!wi.middleButton)return;let yi=wi.target;if(!(yi.tagName!=="A"&&(yi=yi.parentElement,!yi||yi.tagName!=="A")))try{let ys=yi.dataset.href;ys&&(g.baseUri&&(ys=bf(qi.o.from(g.baseUri),ys)),e.actionHandler.callback(ys,wi))}catch(ys){(0,ui.dL)(ys)}finally{wi.preventDefault()}}))}g.supportHtml||(t.sanitizer=pn=>(g.isTrusted?pn.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?pn:"",t.sanitize=!0,t.silent=!0),t.renderer=ze;let Xe=(n=g.value)!==null&&n!==void 0?n:"";Xe.length>1e5&&(Xe=`${Xe.substr(0,1e5)}\u2026`),g.supportThemeIcons&&(Xe=(0,Ng.f$)(Xe));let bt=Tg.parse(Xe,t);g.supportThemeIcons&&(bt=(0,cl.T)(bt).map(zn=>typeof zn=="string"?zn:zn.outerHTML).join(""));const fn=new DOMParser().parseFromString(Mg(g,bt),"text/html");if(fn.body.querySelectorAll("img").forEach(pn=>{const zn=pn.getAttribute("src");if(zn){let Rn=zn;try{g.baseUri&&(Rn=bf(qi.o.from(g.baseUri),Rn))}catch(wi){}pn.src=ne(Rn,!0)}}),S.innerHTML=Mg(g,fn.body.innerHTML),Q(),e.asyncRenderCallback)for(const pn of S.getElementsByTagName("img")){const zn=s.add(q.nm(pn,"load",()=>{zn.dispose(),e.asyncRenderCallback()}))}return{element:S,dispose:()=>{r=!0,h.cancel(),s.dispose()}}}function bf(g,e){return/^\w[\w\d+.-]*:/.test(e)?e:g.path.endsWith("/")?(0,Ss.i3)(g,e).toString():(0,Ss.i3)((0,Ss.XX)(g),e).toString()}function Mg(g,e){const{config:t,allowedSchemes:n}=cp(g);Eg("uponSanitizeAttribute",(r,h)=>{if(h.attrName==="style"||h.attrName==="class"){if(r.tagName==="SPAN"){if(h.attrName==="style"){h.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(h.attrValue);return}else if(h.attrName==="class"){h.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(h.attrValue);return}}h.keepAttr=!1;return}});const s=document.createElement("a");Eg("afterSanitizeAttributes",r=>{for(const h of["href","src"])r.hasAttribute(h)&&(s.href=r.getAttribute(h),n.includes(s.protocol.replace(/:$/,""))||r.removeAttribute(h))});try{return op(e,Object.assign(Object.assign({},t),{RETURN_TRUSTED_TYPE:!0}))}finally{Dg("uponSanitizeAttribute"),Dg("afterSanitizeAttributes")}}function cp(g){const e=[li.lg.http,li.lg.https,li.lg.mailto,li.lg.data,li.lg.file,li.lg.vscodeFileResource,li.lg.vscodeRemote,li.lg.vscodeRemoteResource];return g.isTrusted&&e.push(li.lg.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:e}}var za=l(83926),dp=l(6972),Ud=l(16537),kg=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Rg=function(g,e){return function(t,n){e(t,n,g)}},Ag=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})},Ru;let oc=class Dv{constructor(e,t,n){this._options=e,this._languageService=t,this._openerService=n,this._onDidRenderAsync=new wt.Q5,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(e,t,n){if(!e)return{element:document.createElement("span"),dispose:()=>{}};const s=new lt.SL;return{element:s.add(lp(e,Object.assign(Object.assign({},this._getRenderOptions(e,s)),t),n)).element,dispose:()=>s.dispose()}}_getRenderOptions(e,t){return{codeBlockRenderer:(n,s)=>Ag(this,void 0,void 0,function*(){var r,h,S;let Y;n?Y=this._languageService.getLanguageIdByLanguageName(n):this._options.editor&&(Y=(r=this._options.editor.getModel())===null||r===void 0?void 0:r.getLanguageId()),Y||(Y=si.bd);const ne=yield(0,dp.C2)(this._languageService,s,Y),Q=document.createElement("span");if(Q.innerHTML=(S=(h=Dv._ttpTokenizer)===null||h===void 0?void 0:h.createHTML(ne))!==null&&S!==void 0?S:ne,this._options.editor){const he=this._options.editor.getOption(44);(0,Ud.N)(Q,he)}else this._options.codeBlockFontFamily&&(Q.style.fontFamily=this._options.codeBlockFontFamily);return Q}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:n=>this._openerService.open(n,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:e.isTrusted}).catch(ui.dL),disposables:t}}}};oc._ttpTokenizer=(Ru=window.trustedTypes)===null||Ru===void 0?void 0:Ru.createPolicy("tokenizeToString",{createHTML(g){return g}}),oc=kg([Rg(1,Xr.O),Rg(2,za.v4)],oc);const Pg=q.$;class kc extends lt.JT{constructor(e,t,n=za.SW){super(),this._renderDisposeables=this._register(new lt.SL),this._editor=e,this._isVisible=!1,this._messages=[],this._hover=this._register(new Od),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new oc({editor:this._editor},t,n)),this._computer=new up(this._editor),this._hoverOperation=this._register(new Ec(this._editor,this._computer)),this._register(this._hoverOperation.onResult(s=>{this._withResult(s.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(44)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return kc.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(t=>this._editor.applyFontInfo(t))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(e){this._computer.lineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=e,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(e){this._messages=e,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(e,t){this._renderDisposeables.clear();const n=document.createDocumentFragment();for(const s of t){const r=Pg("div.hover-row.markdown-hover"),h=q.R3(r,Pg("div.hover-contents")),S=this._renderDisposeables.add(this._markdownRenderer.render(s.value));h.appendChild(S.element),n.appendChild(r)}this._updateContents(n),this._showAt(e)}_updateContents(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont()}_showAt(e){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const t=this._editor.getLayoutInfo(),n=this._editor.getTopForLineNumber(e),s=this._editor.getScrollTop(),r=this._editor.getOption(59),h=this._hover.containerDomNode.clientHeight,S=n-s-(h-r)/2;this._hover.containerDomNode.style.left=`${t.glyphMarginLeft+t.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(S),0)}px`}}kc.ID="editor.contrib.modesGlyphHoverWidget";class up{constructor(e){this._editor=e,this._lineNumber=-1}get lineNumber(){return this._lineNumber}set lineNumber(e){this._lineNumber=e}computeSync(){const e=s=>({value:s}),t=this._editor.getLineDecorations(this._lineNumber),n=[];if(!t)return n;for(const s of t){if(!s.options.glyphMarginClassName)continue;const r=s.options.glyphMarginHoverMessage;!r||(0,Zt.CP)(r)||n.push(...(0,ki._2)(r).map(e))}return n}}var Og=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};class hp{constructor(e,t,n){this.provider=e,this.hover=t,this.ordinal=n}}function fp(g,e,t,n,s){return Og(this,void 0,void 0,function*(){try{const r=yield Promise.resolve(g.provideHover(t,n,s));if(r&&mp(r))return new hp(g,r,e)}catch(r){(0,ui.Cp)(r)}})}function wf(g,e,t,n){const r=g.ordered(e).map((h,S)=>fp(h,S,e,t,n));return Ht.Aq.fromPromises(r).coalesce()}function gp(g,e,t,n){return wf(g,e,t,n).map(s=>s.hover).toPromise()}(0,Pe.sb)("_executeHoverProvider",(g,e,t)=>{const n=g.get(ri.p);return gp(n.hoverProvider,e,t,bn.T.None)});function mp(g){const e=typeof g.range!="undefined",t=typeof g.contents!="undefined"&&g.contents&&g.contents.length>0;return e&&t}var pp=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},bh=function(g,e){return function(t,n){e(t,n,g)}};const jd=q.$;class rc{constructor(e,t,n,s){this.owner=e,this.range=t,this.contents=n,this.ordinal=s}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let wh=class{constructor(e,t,n,s,r){this._editor=e,this._languageService=t,this._openerService=n,this._configurationService=s,this._languageFeaturesService=r,this.hoverOrdinal=2}createLoadingMessage(e){return new rc(this,e.range,[new Zt.W5().appendText(Le.N("modesContentHover.loading","Loading..."))],2e3)}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];const n=this._editor.getModel(),s=e.range.startLineNumber,r=n.getLineMaxColumn(s),h=[];let S=1e3;const Y=n.getLineLength(s),ne=n.getLanguageIdAtPosition(e.range.startLineNumber,e.range.startColumn),Q=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:ne});typeof Q=="number"&&Y>=Q&&h.push(new rc(this,e.range,[{value:Le.N("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],S++));for(const he of t){const ze=he.range.startLineNumber===s?he.range.startColumn:1,Xe=he.range.endLineNumber===s?he.range.endColumn:r,bt=he.options.hoverMessage;if(!bt||(0,Zt.CP)(bt))continue;const Gt=new Ue.e(e.range.startLineNumber,ze,e.range.startLineNumber,Xe);h.push(new rc(this,Gt,(0,ki._2)(bt),S++))}return h}computeAsync(e,t,n){if(!this._editor.hasModel()||e.type!==1)return Ht.Aq.EMPTY;const s=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(s))return Ht.Aq.EMPTY;const r=new Cn.L(e.range.startLineNumber,e.range.startColumn);return wf(this._languageFeaturesService.hoverProvider,s,r,n).filter(h=>!(0,Zt.CP)(h.hover.contents)).map(h=>{const S=h.hover.range?Ue.e.lift(h.hover.range):e.range;return new rc(this,S,h.hover.contents,h.ordinal)})}renderHoverParts(e,t){return yf(e,t,this._editor,this._languageService,this._openerService)}};wh=pp([bh(1,Xr.O),bh(2,za.v4),bh(3,js.Ui),bh(4,ri.p)],wh);function yf(g,e,t,n,s){e.sort((h,S)=>h.ordinal-S.ordinal);const r=new lt.SL;for(const h of e)for(const S of h.contents){if((0,Zt.CP)(S))continue;const Y=jd("div.hover-row.markdown-hover"),ne=q.R3(Y,jd("div.hover-contents")),Q=r.add(new oc({editor:t},n,s));r.add(Q.onDidRenderAsync(()=>{ne.className="hover-contents code-hover-contents",g.onContentsChanged()}));const he=r.add(Q.render(S));ne.appendChild(he.element),g.fragment.appendChild(Y)}return r}var _p=l(42641),Sf=l(80200),yh=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Sh=function(g,e){return function(t,n){e(t,n,g)}};class Fg{constructor(e,t,n){this.marker=e,this.index=t,this.total=n}}let Lf=class{constructor(e,t,n){this._markerService=t,this._configService=n,this._onDidChange=new wt.Q5,this.onDidChange=this._onDidChange.event,this._dispoables=new lt.SL,this._markers=[],this._nextIdx=-1,qi.o.isUri(e)?this._resourceFilter=S=>S.toString()===e.toString():e&&(this._resourceFilter=e);const s=this._configService.getValue("problems.sortOrder"),r=(S,Y)=>{let ne=(0,En.qu)(S.resource.toString(),Y.resource.toString());return ne===0&&(s==="position"?ne=Ue.e.compareRangesUsingStarts(S,Y)||ls.ZL.compare(S.severity,Y.severity):ne=ls.ZL.compare(S.severity,Y.severity)||Ue.e.compareRangesUsingStarts(S,Y)),ne},h=()=>{this._markers=this._markerService.read({resource:qi.o.isUri(e)?e:void 0,severities:ls.ZL.Error|ls.ZL.Warning|ls.ZL.Info}),typeof e=="function"&&(this._markers=this._markers.filter(S=>this._resourceFilter(S.resource))),this._markers.sort(r)};h(),this._dispoables.add(t.onMarkerChanged(S=>{(!this._resourceFilter||S.some(Y=>this._resourceFilter(Y)))&&(h(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(e){return!this._resourceFilter&&!e?!0:!this._resourceFilter||!e?!1:this._resourceFilter(e)}get selected(){const e=this._markers[this._nextIdx];return e&&new Fg(e,this._nextIdx+1,this._markers.length)}_initIdx(e,t,n){let s=!1,r=this._markers.findIndex(h=>h.resource.toString()===e.uri.toString());r<0&&(r=(0,ki.ry)(this._markers,{resource:e.uri},(h,S)=>(0,En.qu)(h.resource.toString(),S.resource.toString())),r<0&&(r=~r));for(let h=r;h<this._markers.length;h++){let S=Ue.e.lift(this._markers[h]);if(S.isEmpty()){const Y=e.getWordAtPosition(S.getStartPosition());Y&&(S=new Ue.e(S.startLineNumber,Y.startColumn,S.startLineNumber,Y.endColumn))}if(t&&(S.containsPosition(t)||t.isBeforeOrEqual(S.getStartPosition()))){this._nextIdx=h,s=!0;break}if(this._markers[h].resource.toString()!==e.uri.toString())break}s||(this._nextIdx=n?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(e,t,n){if(this._markers.length===0)return!1;let s=this._nextIdx;return this._nextIdx===-1?this._initIdx(t,n,e):e?this._nextIdx=(this._nextIdx+1)%this._markers.length:e||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),s!==this._nextIdx}find(e,t){let n=this._markers.findIndex(s=>s.resource.toString()===e.toString());if(!(n<0)){for(;n<this._markers.length;n++)if(Ue.e.containsPosition(this._markers[n],t))return new Fg(this._markers[n],n+1,this._markers.length)}}};Lf=yh([Sh(1,ls.lT),Sh(2,js.Ui)],Lf);const Bg=(0,G.yh)("IMarkerNavigationService");let Ef=class{constructor(e,t){this._markerService=e,this._configService=t,this._provider=new Sf.S}getMarkerList(e){for(let t of this._provider){const n=t.getMarkerList(e);if(n)return n}return new Lf(e,this._markerService,this._configService)}};Ef=yh([Sh(0,ls.lT),Sh(1,js.Ui)],Ef),(0,tr.z)(Bg,Ef,!0);var jr=l(99305),Kd=l(75780),Df;(function(g){function e(t){switch(t){case Kd.Z.Ignore:return"severity-ignore "+ft.lA.info.classNames;case Kd.Z.Info:return ft.lA.info.classNames;case Kd.Z.Warning:return ft.lA.warning.classNames;case Kd.Z.Error:return ft.lA.error.classNames;default:return""}}g.className=e})(Df||(Df={})),(0,St.Ic)((g,e)=>{const t=g.getColor(Se.JpG);if(t){const r=ft.lA.error.cssSelector;e.addRule(`
			.monaco-editor .zone-widget ${r},
			.markers-panel .marker-icon${r},
			.text-search-provider-messages .providerMessage ${r},
			.extensions-viewlet > .extensions ${r} {
				color: ${t};
			}
		`)}const n=g.getColor(Se.BOY);if(n){const r=ft.lA.warning.cssSelector;e.addRule(`
			.monaco-editor .zone-widget ${r},
			.markers-panel .marker-icon${r},
			.extensions-viewlet > .extensions ${r},
			.extension-editor ${r},
			.text-search-provider-messages .providerMessage ${r},
			.preferences-editor ${r} {
				color: ${n};
			}
		`)}const s=g.getColor(Se.OLZ);if(s){const r=ft.lA.info.cssSelector;e.addRule(`
			.monaco-editor .zone-widget ${r},
			.markers-panel .marker-icon${r},
			.extensions-viewlet > .extensions ${r},
			.text-search-provider-messages .providerMessage ${r},
			.extension-editor ${r} {
				color: ${s};
			}
		`)}});var vp=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},$d=function(g,e){return function(t,n){e(t,n,g)}};class Cp{constructor(e,t,n,s,r){this._openerService=s,this._labelService=r,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new lt.SL,this._editor=t;const h=document.createElement("div");h.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),h.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),h.appendChild(this._relatedBlock),this._disposables.add(q.mu(this._relatedBlock,"click",S=>{S.preventDefault();const Y=this._relatedDiagnostics.get(S.target);Y&&n(Y)})),this._scrollable=new ic.NB(h,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(S=>{h.style.left=`-${S.scrollLeft}px`,h.style.top=`-${S.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,lt.B9)(this._disposables)}update(e){const{source:t,message:n,relatedInformation:s,code:r}=e;let h=((t==null?void 0:t.length)||0)+2;r&&(typeof r=="string"?h+=r.length:h+=r.value.length);const S=(0,En.uq)(n);this._lines=S.length,this._longestLineLength=0;for(const ze of S)this._longestLineLength=Math.max(ze.length+h,this._longestLineLength);q.PO(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(e)),this._editor.applyFontInfo(this._messageBlock);let Y=this._messageBlock;for(const ze of S)Y=document.createElement("div"),Y.innerText=ze,ze===""&&(Y.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(Y);if(t||r){const ze=document.createElement("span");if(ze.classList.add("details"),Y.appendChild(ze),t){const Xe=document.createElement("span");Xe.innerText=t,Xe.classList.add("source"),ze.appendChild(Xe)}if(r)if(typeof r=="string"){const Xe=document.createElement("span");Xe.innerText=`(${r})`,Xe.classList.add("code"),ze.appendChild(Xe)}else{this._codeLink=q.$("a.code-link"),this._codeLink.setAttribute("href",`${r.target.toString()}`),this._codeLink.onclick=bt=>{this._openerService.open(r.target,{allowCommands:!0}),bt.preventDefault(),bt.stopPropagation()};const Xe=q.R3(this._codeLink,q.$("span"));Xe.innerText=r.value,ze.appendChild(this._codeLink)}}if(q.PO(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,ki.Of)(s)){const ze=this._relatedBlock.appendChild(document.createElement("div"));ze.style.paddingTop=`${Math.floor(this._editor.getOption(59)*.66)}px`,this._lines+=1;for(const Xe of s){let bt=document.createElement("div"),Gt=document.createElement("a");Gt.classList.add("filename"),Gt.innerText=`${Hi(Xe.resource)}(${Xe.startLineNumber}, ${Xe.startColumn}): `,Gt.title=this._labelService.getUriLabel(Xe.resource),this._relatedDiagnostics.set(Gt,Xe);let fn=document.createElement("span");fn.innerText=Xe.message,bt.appendChild(Gt),bt.appendChild(fn),this._lines+=1,ze.appendChild(bt)}}const ne=this._editor.getOption(44),Q=Math.ceil(ne.typicalFullwidthCharacterWidth*this._longestLineLength*.75),he=ne.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:Q,scrollHeight:he})}layout(e,t){this._scrollable.getDomNode().style.height=`${e}px`,this._scrollable.getDomNode().style.width=`${t}px`,this._scrollable.setScrollDimensions({width:t,height:e})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(e){let t="";switch(e.severity){case ls.ZL.Error:t=Le.N("Error","Error");break;case ls.ZL.Warning:t=Le.N("Warning","Warning");break;case ls.ZL.Info:t=Le.N("Info","Info");break;case ls.ZL.Hint:t=Le.N("Hint","Hint");break}let n=Le.N("marker aria","{0} at {1}. ",t,e.startLineNumber+":"+e.startColumn);const s=this._editor.getModel();return s&&e.startLineNumber<=s.getLineCount()&&e.startLineNumber>=1&&(n=`${s.getLineContent(e.startLineNumber)}, ${n}`),n}}let Gd=class xv extends la{constructor(e,t,n,s,r,h,S){super(e,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},r),this._themeService=t,this._openerService=n,this._menuService=s,this._contextKeyService=h,this._labelService=S,this._callOnDispose=new lt.SL,this._onDidSelectRelatedInformation=new wt.Q5,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=ls.ZL.Warning,this._backgroundColor=Ei.Il.white,this._applyTheme(t.getColorTheme()),this._callOnDispose.add(t.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(e){this._backgroundColor=e.getColor(Sp);let t=xf,n=bp;this._severity===ls.ZL.Warning?(t=Nf,n=wp):this._severity===ls.ZL.Info&&(t=If,n=yp);const s=e.getColor(t),r=e.getColor(n);this.style({arrowColor:s,frameColor:s,headerBackgroundColor:r,primaryHeadingColor:e.getColor(ql),secondaryHeadingColor:e.getColor(bc)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(e){super._fillHead(e),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(s=>this.editor.focus()));const t=[],n=this._menuService.createMenu(xv.TitleMenu,this._contextKeyService);Ql(n,void 0,t),this._actionbarWidget.push(t,{label:!1,icon:!0,index:0}),n.dispose()}_fillTitleIcon(e){this._icon=q.R3(e,q.$(""))}_fillBody(e){this._parentContainer=e,e.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new Cp(this._container,this.editor,t=>this._onDidSelectRelatedInformation.fire(t),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(e,t,n){this._container.classList.remove("stale"),this._message.update(e),this._severity=e.severity,this._applyTheme(this._themeService.getColorTheme());let s=Ue.e.lift(e);const r=this.editor.getPosition();let h=r&&s.containsPosition(r)?r:s.getStartPosition();super.show(h,this.computeRequiredHeight());const S=this.editor.getModel();if(S){const Y=n>1?Le.N("problems","{0} of {1} problems",t,n):Le.N("change","{0} of {1} problem",t,n);this.setTitle((0,Ss.EZ)(S.uri),Y)}this._icon.className=`codicon ${Df.className(ls.ZL.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(h,0),this.editor.focus()}updateMarker(e){this._container.classList.remove("stale"),this._message.update(e)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._heightInPixel=e,this._message.layout(e,t),this._container.style.height=`${e}px`}_onWidth(e){this._message.layout(this._heightInPixel,e)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};Gd.TitleMenu=new Ve.eH("gotoErrorTitleMenu"),Gd=vp([$d(1,St.XE),$d(2,za.v4),$d(3,Ve.co),$d(4,G.TG),$d(5,nn.i6),$d(6,yo.e)],Gd);let Wg=(0,Se.kwl)(Se.lXJ,Se.b6y),Vg=(0,Se.kwl)(Se.uoC,Se.pW3),Hg=(0,Se.kwl)(Se.c63,Se.T83);const xf=(0,Se.P6G)("editorMarkerNavigationError.background",{dark:Wg,light:Wg,hc:Se.lRK},Le.N("editorMarkerNavigationError","Editor marker navigation widget error color.")),bp=(0,Se.P6G)("editorMarkerNavigationError.headerBackground",{dark:(0,Se.ZnX)(xf,.1),light:(0,Se.ZnX)(xf,.1),hc:null},Le.N("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),Nf=(0,Se.P6G)("editorMarkerNavigationWarning.background",{dark:Vg,light:Vg,hc:Se.lRK},Le.N("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),wp=(0,Se.P6G)("editorMarkerNavigationWarning.headerBackground",{dark:(0,Se.ZnX)(Nf,.1),light:(0,Se.ZnX)(Nf,.1),hc:"#0C141F"},Le.N("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),If=(0,Se.P6G)("editorMarkerNavigationInfo.background",{dark:Hg,light:Hg,hc:Se.lRK},Le.N("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),yp=(0,Se.P6G)("editorMarkerNavigationInfo.headerBackground",{dark:(0,Se.ZnX)(If,.1),light:(0,Se.ZnX)(If,.1),hc:null},Le.N("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),Sp=(0,Se.P6G)("editorMarkerNavigation.background",{dark:Se.cvW,light:Se.cvW,hc:Se.cvW},Le.N("editorMarkerNavigationBackground","Editor marker navigation widget background."));var Lp=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Lh=function(g,e){return function(t,n){e(t,n,g)}},zg=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};let Rc=class Zm{constructor(e,t,n,s,r){this._markerNavigationService=t,this._contextKeyService=n,this._editorService=s,this._instantiationService=r,this._sessionDispoables=new lt.SL,this._editor=e,this._widgetVisible=Ug.bindTo(this._contextKeyService)}static get(e){return e.getContribution(Zm.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(e){if(this._model&&this._model.matches(e))return this._model;let t=!1;return this._model&&(t=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),t&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(Gd,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(n=>{var s,r,h;(!(!((s=this._model)===null||s===void 0)&&s.selected)||!Ue.e.containsPosition((r=this._model)===null||r===void 0?void 0:r.selected.marker,n.position))&&((h=this._model)===null||h===void 0||h.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const n=this._model.find(this._editor.getModel().uri,this._widget.position);n?this._widget.updateMarker(n.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(n=>{this._editorService.openCodeEditor({resource:n.resource,options:{pinned:!0,revealIfOpened:!0,selection:Ue.e.lift(n).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(e=!0){this._cleanUp(),e&&this._editor.focus()}showAtMarker(e){if(this._editor.hasModel()){const t=this._getOrCreateModel(this._editor.getModel().uri);t.resetIndex(),t.move(!0,this._editor.getModel(),new Cn.L(e.startLineNumber,e.startColumn)),t.selected&&this._widget.showAtMarker(t.selected.marker,t.selected.index,t.selected.total)}}nagivate(e,t){var n,s;return zg(this,void 0,void 0,function*(){if(this._editor.hasModel()){const r=this._getOrCreateModel(t?void 0:this._editor.getModel().uri);if(r.move(e,this._editor.getModel(),this._editor.getPosition()),!r.selected)return;if(r.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const h=yield this._editorService.openCodeEditor({resource:r.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:r.selected.marker}},this._editor);h&&((n=Zm.get(h))===null||n===void 0||n.close(),(s=Zm.get(h))===null||s===void 0||s.nagivate(e,t))}else this._widget.showAtMarker(r.selected.marker,r.selected.index,r.selected.total)}})}};Rc.ID="editor.contrib.markerController",Rc=Lp([Lh(1,Bg),Lh(2,nn.i6),Lh(3,On.$),Lh(4,G.TG)],Rc);class Eh extends Pe.R6{constructor(e,t,n){super(n),this._next=e,this._multiFile=t}run(e,t){var n;return zg(this,void 0,void 0,function*(){t.hasModel()&&((n=Rc.get(t))===null||n===void 0||n.nagivate(this._next,this._multiFile))})}}class Ac extends Eh{constructor(){super(!0,!1,{id:Ac.ID,label:Ac.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:578,weight:100},menuOpts:{menuId:Gd.TitleMenu,title:Ac.LABEL,icon:(0,jr.q5)("marker-navigation-next",ft.lA.arrowDown,Le.N("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}Ac.ID="editor.action.marker.next",Ac.LABEL=Le.N("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class hd extends Eh{constructor(){super(!1,!1,{id:hd.ID,label:hd.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:1602,weight:100},menuOpts:{menuId:Gd.TitleMenu,title:hd.LABEL,icon:(0,jr.q5)("marker-navigation-previous",ft.lA.arrowUp,Le.N("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}hd.ID="editor.action.marker.prev",hd.LABEL=Le.N("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");class Tf extends Eh{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:Le.N("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:66,weight:100},menuOpts:{menuId:Ve.eH.MenubarGoMenu,title:Le.N({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}class Kr extends Eh{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:Le.N("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:1090,weight:100},menuOpts:{menuId:Ve.eH.MenubarGoMenu,title:Le.N({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}}(0,Pe._K)(Rc.ID,Rc),(0,Pe.Qr)(Ac),(0,Pe.Qr)(hd),(0,Pe.Qr)(Tf),(0,Pe.Qr)(Kr);const Ug=new nn.uy("markersNavigationVisible",!1),Ep=Pe._l.bindToContribution(Rc.get);(0,Pe.fK)(new Ep({id:"closeMarkersNavigation",precondition:Ug,handler:g=>g.close(),kbOpts:{weight:100+50,kbExpr:vt.u.focus,primary:9,secondary:[1033]}}));var Dp=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Mf=function(g,e){return function(t,n){e(t,n,g)}};const sl=q.$;class xp{constructor(e,t,n){this.owner=e,this.range=t,this.marker=n}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}const jg={type:1,filter:{include:ai.QuickFix}};let kf=class{constructor(e,t,n,s){this._editor=e,this._markerDecorationsService=t,this._openerService=n,this._languageFeaturesService=s,this.hoverOrdinal=5,this.recentMarkerCodeActionsInfo=void 0}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];const n=this._editor.getModel(),s=e.range.startLineNumber,r=n.getLineMaxColumn(s),h=[];for(const S of t){const Y=S.range.startLineNumber===s?S.range.startColumn:1,ne=S.range.endLineNumber===s?S.range.endColumn:r,Q=this._markerDecorationsService.getMarker(n.uri,S);if(!Q)continue;const he=new Ue.e(e.range.startLineNumber,Y,e.range.startLineNumber,ne);h.push(new xp(this,he,Q))}return h}renderHoverParts(e,t){if(!t.length)return lt.JT.None;const n=new lt.SL;t.forEach(r=>e.fragment.appendChild(this.renderMarkerHover(r,n)));const s=t.length===1?t[0]:t.sort((r,h)=>ls.ZL.compare(r.marker.severity,h.marker.severity))[0];return this.renderMarkerStatusbar(e,s,n),n}renderMarkerHover(e,t){const n=sl("div.hover-row"),s=q.R3(n,sl("div.marker.hover-contents")),{source:r,message:h,code:S,relatedInformation:Y}=e.marker;this._editor.applyFontInfo(s);const ne=q.R3(s,sl("span"));if(ne.style.whiteSpace="pre-wrap",ne.innerText=h,r||S)if(S&&typeof S!="string"){const Q=sl("span");if(r){const bt=q.R3(Q,sl("span"));bt.innerText=r}const he=q.R3(Q,sl("a.code-link"));he.setAttribute("href",S.target.toString()),t.add(q.nm(he,"click",bt=>{this._openerService.open(S.target,{allowCommands:!0}),bt.preventDefault(),bt.stopPropagation()}));const ze=q.R3(he,sl("span"));ze.innerText=S.value;const Xe=q.R3(s,Q);Xe.style.opacity="0.6",Xe.style.paddingLeft="6px"}else{const Q=q.R3(s,sl("span"));Q.style.opacity="0.6",Q.style.paddingLeft="6px",Q.innerText=r&&S?`${r}(${S})`:r||`(${S})`}if((0,ki.Of)(Y))for(const{message:Q,resource:he,startLineNumber:ze,startColumn:Xe}of Y){const bt=q.R3(s,sl("div"));bt.style.marginTop="8px";const Gt=q.R3(bt,sl("a"));Gt.innerText=`${(0,Ss.EZ)(he)}(${ze}, ${Xe}): `,Gt.style.cursor="pointer",t.add(q.nm(Gt,"click",pn=>{pn.stopPropagation(),pn.preventDefault(),this._openerService&&this._openerService.open(he,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:ze,startColumn:Xe}}}).catch(ui.dL)}));const fn=q.R3(bt,sl("span"));fn.innerText=Q,this._editor.applyFontInfo(fn)}return n}renderMarkerStatusbar(e,t,n){if((t.marker.severity===ls.ZL.Error||t.marker.severity===ls.ZL.Warning||t.marker.severity===ls.ZL.Info)&&e.statusBar.addAction({label:Le.N("view problem","View Problem"),commandId:Ac.ID,run:()=>{var s;e.hide(),(s=Rc.get(this._editor))===null||s===void 0||s.showAtMarker(t.marker),this._editor.focus()}}),!this._editor.getOption(81)){const s=e.statusBar.append(sl("div"));this.recentMarkerCodeActionsInfo&&(ls.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===ls.H0.makeKey(t.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(s.textContent=Le.N("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const r=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?lt.JT.None:n.add((0,Ht.Vg)(()=>s.textContent=Le.N("checkingForQuickFixes","Checking for quick fixes..."),200));s.textContent||(s.textContent=String.fromCharCode(160));const h=this.getCodeActions(t.marker);n.add((0,lt.OF)(()=>h.cancel())),h.then(S=>{if(r.dispose(),this.recentMarkerCodeActionsInfo={marker:t.marker,hasCodeActions:S.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){S.dispose(),s.textContent=Le.N("noQuickFixes","No quick fixes available");return}s.style.display="none";let Y=!1;n.add((0,lt.OF)(()=>{Y||S.dispose()})),e.statusBar.addAction({label:Le.N("quick fixes","Quick Fix..."),commandId:Li.Id,run:ne=>{Y=!0;const Q=Yt.get(this._editor),he=q.i(ne);e.hide(),Q==null||Q.showCodeActions(jg,S,{x:he.left+6,y:he.top+he.height+6})}})},ui.dL)}}getCodeActions(e){return(0,Ht.PG)(t=>Is(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new Ue.e(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),jg,Os.Ex.None,t))}};kf=Dp([Mf(1,_p.i),Mf(2,za.v4),Mf(3,ri.p)],kf),(0,St.Ic)((g,e)=>{const t=g.getColor(Se.url);t&&e.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${t}; }`);const n=g.getColor(Se.sgC);n&&e.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${n}; }`)});var Np=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Dh=function(g,e){return function(t,n){e(t,n,g)}};let Pc=class Nv{constructor(e,t,n,s,r){this._editor=e,this._instantiationService=t,this._openerService=n,this._languageService=s,this._toUnhook=new lt.SL,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(h=>{h.hasChanged(53)&&(this._unhookEvents(),this._hookEvents())})}static get(e){return e.getContribution(Nv.ID)}_hookEvents(){const e=()=>this._hideWidgets(),t=this._editor.getOption(53);this._isHoverEnabled=t.enabled,this._isHoverSticky=t.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(n=>this._onEditorMouseDown(n))),this._toUnhook.add(this._editor.onMouseUp(n=>this._onEditorMouseUp(n))),this._toUnhook.add(this._editor.onMouseMove(n=>this._onEditorMouseMove(n))),this._toUnhook.add(this._editor.onKeyDown(n=>this._onKeyDown(n)))):(this._toUnhook.add(this._editor.onMouseMove(n=>this._onEditorMouseMove(n))),this._toUnhook.add(this._editor.onKeyDown(n=>this._onKeyDown(n)))),this._toUnhook.add(this._editor.onMouseLeave(e)),this._toUnhook.add(this._editor.onDidChangeModel(e)),this._toUnhook.add(this._editor.onDidScrollChange(n=>this._onEditorScrollChanged(n)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(e){this._isMouseDown=!0;const t=e.target;if(t.type===9&&t.detail===zr.ID){this._hoverClicked=!0;return}t.type===12&&t.detail===kc.ID||(t.type!==12&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(e){this._isMouseDown=!1}_onEditorMouseMove(e){var t,n,s,r,h;const S=e.target;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&S.type===9&&S.detail===zr.ID||this._isHoverSticky&&!(!((n=(t=e.event.browserEvent.view)===null||t===void 0?void 0:t.getSelection())===null||n===void 0)&&n.isCollapsed)||!this._isHoverSticky&&S.type===9&&S.detail===zr.ID&&((s=this._contentWidget)===null||s===void 0?void 0:s.isColorPickerVisible())||this._isHoverSticky&&S.type===12&&S.detail===kc.ID)return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(e)){(r=this._glyphWidget)===null||r===void 0||r.hide();return}if(S.type===2&&S.position){(h=this._contentWidget)===null||h===void 0||h.hide(),this._glyphWidget||(this._glyphWidget=new kc(this._editor,this._languageService,this._openerService)),this._glyphWidget.startShowingAt(S.position.lineNumber);return}this._hideWidgets()}_onKeyDown(e){e.keyCode!==5&&e.keyCode!==6&&e.keyCode!==57&&e.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var e,t,n;this._isMouseDown&&this._hoverClicked&&((e=this._contentWidget)===null||e===void 0?void 0:e.isColorPickerVisible())||(this._hoverClicked=!1,(t=this._glyphWidget)===null||t===void 0||t.hide(),(n=this._contentWidget)===null||n===void 0||n.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(xc,this._editor)),this._contentWidget}isColorPickerVisible(){var e;return((e=this._contentWidget)===null||e===void 0?void 0:e.isColorPickerVisible())||!1}showContentHover(e,t,n){this._getOrCreateContentWidget().startShowingAtRange(e,t,n)}dispose(){var e,t;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(e=this._glyphWidget)===null||e===void 0||e.dispose(),(t=this._contentWidget)===null||t===void 0||t.dispose()}};Pc.ID="editor.contrib.hover",Pc=Np([Dh(1,G.TG),Dh(2,za.v4),Dh(3,Xr.O),Dh(4,nn.i6)],Pc);class Ip extends Pe.R6{constructor(){super({id:"editor.action.showHover",label:Le.N({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,hn.gx)(2089,2087),weight:100}})}run(e,t){if(!t.hasModel())return;let n=Pc.get(t);if(!n)return;const s=t.getPosition(),r=new Ue.e(s.lineNumber,s.column,s.lineNumber,s.column),h=t.getOption(2)===2;n.showContentHover(r,1,h)}}class Tp extends Pe.R6{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:Le.N({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(e,t){const n=Pc.get(t);if(!n)return;const s=t.getPosition();if(!s)return;const r=new Ue.e(s.lineNumber,s.column,s.lineNumber,s.column),h=vl.get(t);if(!h)return;h.startFindDefinitionFromCursor(s).then(()=>{n.showContentHover(r,1,!0)})}}(0,Pe._K)(Pc.ID,Pc),(0,Pe.Qr)(Ip),(0,Pe.Qr)(Tp),da.register(wh),da.register(kf),(0,St.Ic)((g,e)=>{const t=g.getColor(Se.ptc);t&&e.addRule(`.monaco-editor .hoverHighlight { background-color: ${t}; }`);const n=g.getColor(Se.yJx);n&&e.addRule(`.monaco-editor .monaco-hover { background-color: ${n}; }`);const s=g.getColor(Se.CNo);s&&(e.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${s}; }`),e.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${s.transparent(.5)}; }`),e.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${s.transparent(.5)}; }`),e.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${s.transparent(.5)}; }`));const r=g.getColor(Se.url);r&&e.addRule(`.monaco-editor .monaco-hover a { color: ${r}; }`);const h=g.getColor(Se.sgC);h&&e.addRule(`.monaco-editor .monaco-hover a:hover { color: ${h}; }`);const S=g.getColor(Se.Sbf);S&&e.addRule(`.monaco-editor .monaco-hover { color: ${S}; }`);const Y=g.getColor(Se.LoV);Y&&e.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${Y}; }`);const ne=g.getColor(Se.SwI);ne&&e.addRule(`.monaco-editor .monaco-hover code { background-color: ${ne}; }`)});class Rf extends lt.JT{constructor(e){super(),this._editor=e,this._register(e.onMouseDown(t=>this.onMouseDown(t)))}dispose(){super.dispose()}onMouseDown(e){const t=e.target;if(t.type!==6||!t.detail.injectedText||t.detail.injectedText.options.attachedData!==jc||!t.range)return;const n=this._editor.getContribution(Pc.ID);if(!!n&&!n.isColorPickerVisible()){const s=new Ue.e(t.range.startLineNumber,t.range.startColumn+1,t.range.endLineNumber,t.range.endColumn+1);n.showContentHover(s,1,!1)}}}Rf.ID="editor.contrib.colorContribution",(0,Pe._K)(Rf.ID,Rf),da.register(gc);var D=l(16362);class o{constructor(e,t,n){this.languageConfigurationService=n,this._selection=e,this._insertSpace=t,this._usedEndToken=null}static _haystackHasNeedleAtOffset(e,t,n){if(n<0)return!1;const s=t.length,r=e.length;if(n+s>r)return!1;for(let h=0;h<s;h++){const S=e.charCodeAt(n+h),Y=t.charCodeAt(h);if(S!==Y&&!(S>=65&&S<=90&&S+32===Y)&&!(Y>=65&&Y<=90&&Y+32===S))return!1}return!0}_createOperationsForBlockComment(e,t,n,s,r,h){const S=e.startLineNumber,Y=e.startColumn,ne=e.endLineNumber,Q=e.endColumn,he=r.getLineContent(S),ze=r.getLineContent(ne);let Xe=he.lastIndexOf(t,Y-1+t.length),bt=ze.indexOf(n,Q-1-n.length);if(Xe!==-1&&bt!==-1)if(S===ne)he.substring(Xe+t.length,bt).indexOf(n)>=0&&(Xe=-1,bt=-1);else{const fn=he.substring(Xe+t.length),pn=ze.substring(0,bt);(fn.indexOf(n)>=0||pn.indexOf(n)>=0)&&(Xe=-1,bt=-1)}let Gt;Xe!==-1&&bt!==-1?(s&&Xe+t.length<he.length&&he.charCodeAt(Xe+t.length)===32&&(t=t+" "),s&&bt>0&&ze.charCodeAt(bt-1)===32&&(n=" "+n,bt-=1),Gt=o._createRemoveBlockCommentOperations(new Ue.e(S,Xe+t.length+1,ne,bt+1),t,n)):(Gt=o._createAddBlockCommentOperations(e,t,n,this._insertSpace),this._usedEndToken=Gt.length===1?n:null);for(const fn of Gt)h.addTrackedEditOperation(fn.range,fn.text)}static _createRemoveBlockCommentOperations(e,t,n){let s=[];return Ue.e.isEmpty(e)?s.push(D.h.delete(new Ue.e(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+n.length))):(s.push(D.h.delete(new Ue.e(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),s.push(D.h.delete(new Ue.e(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+n.length)))),s}static _createAddBlockCommentOperations(e,t,n,s){let r=[];return Ue.e.isEmpty(e)?r.push(D.h.replace(new Ue.e(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+n)):(r.push(D.h.insert(new Cn.L(e.startLineNumber,e.startColumn),t+(s?" ":""))),r.push(D.h.insert(new Cn.L(e.endLineNumber,e.endColumn),(s?" ":"")+n))),r}getEditOperations(e,t){const n=this._selection.startLineNumber,s=this._selection.startColumn;e.tokenizeIfCheap(n);const r=e.getLanguageIdAtPosition(n,s),h=this.languageConfigurationService.getLanguageConfiguration(r).comments;!h||!h.blockCommentStartToken||!h.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,h.blockCommentStartToken,h.blockCommentEndToken,this._insertSpace,e,t)}computeCursorState(e,t){const n=t.getInverseEditOperations();if(n.length===2){const s=n[0],r=n[1];return new en.Y(s.range.endLineNumber,s.range.endColumn,r.range.startLineNumber,r.range.startColumn)}else{const s=n[0].range,r=this._usedEndToken?-this._usedEndToken.length-1:0;return new en.Y(s.endLineNumber,s.endColumn+r,s.endLineNumber,s.endColumn+r)}}}class u{constructor(e,t,n,s,r,h,S){this.languageConfigurationService=e,this._selection=t,this._tabSize=n,this._type=s,this._insertSpace=r,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=h,this._ignoreFirstLine=S||!1}static _gatherPreflightCommentStrings(e,t,n,s){e.tokenizeIfCheap(t);const r=e.getLanguageIdAtPosition(t,1),h=s.getLanguageConfiguration(r).comments,S=h?h.lineCommentToken:null;if(!S)return null;let Y=[];for(let ne=0,Q=n-t+1;ne<Q;ne++)Y[ne]={ignore:!1,commentStr:S,commentStrOffset:0,commentStrLength:S.length};return Y}static _analyzeLines(e,t,n,s,r,h,S,Y){let ne=!0,Q;e===0?Q=!0:e===1?Q=!1:Q=!0;for(let he=0,ze=s.length;he<ze;he++){const Xe=s[he],bt=r+he;if(bt===r&&S){Xe.ignore=!0;continue}const Gt=n.getLineContent(bt),fn=En.LC(Gt);if(fn===-1){Xe.ignore=h,Xe.commentStrOffset=Gt.length;continue}if(ne=!1,Xe.ignore=!1,Xe.commentStrOffset=fn,Q&&!o._haystackHasNeedleAtOffset(Gt,Xe.commentStr,fn)&&(e===0?Q=!1:e===1||(Xe.ignore=!0)),Q&&t){const pn=fn+Xe.commentStrLength;pn<Gt.length&&Gt.charCodeAt(pn)===32&&(Xe.commentStrLength+=1)}}if(e===0&&ne){Q=!1;for(let he=0,ze=s.length;he<ze;he++)s[he].ignore=!1}return{supported:!0,shouldRemoveComments:Q,lines:s}}static _gatherPreflightData(e,t,n,s,r,h,S,Y){const ne=u._gatherPreflightCommentStrings(n,s,r,Y);return ne===null?{supported:!1}:u._analyzeLines(e,t,n,ne,s,h,S,Y)}_executeLineComments(e,t,n,s){let r;n.shouldRemoveComments?r=u._createRemoveLineCommentsOperations(n.lines,s.startLineNumber):(u._normalizeInsertionPoint(e,n.lines,s.startLineNumber,this._tabSize),r=this._createAddLineCommentsOperations(n.lines,s.startLineNumber));const h=new Cn.L(s.positionLineNumber,s.positionColumn);for(let S=0,Y=r.length;S<Y;S++)t.addEditOperation(r[S].range,r[S].text),Ue.e.isEmpty(r[S].range)&&Ue.e.getStartPosition(r[S].range).equals(h)&&e.getLineContent(h.lineNumber).length+1===h.column&&(this._deltaColumn=(r[S].text||"").length);this._selectionId=t.trackSelection(s)}_attemptRemoveBlockComment(e,t,n,s){let r=t.startLineNumber,h=t.endLineNumber,S=s.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn),Y=e.getLineContent(r).lastIndexOf(n,S-1),ne=e.getLineContent(h).indexOf(s,t.endColumn-1-n.length);return Y!==-1&&ne===-1&&(ne=e.getLineContent(r).indexOf(s,Y+n.length),h=r),Y===-1&&ne!==-1&&(Y=e.getLineContent(h).lastIndexOf(n,ne),r=h),t.isEmpty()&&(Y===-1||ne===-1)&&(Y=e.getLineContent(r).indexOf(n),Y!==-1&&(ne=e.getLineContent(r).indexOf(s,Y+n.length))),Y!==-1&&e.getLineContent(r).charCodeAt(Y+n.length)===32&&(n+=" "),ne!==-1&&e.getLineContent(h).charCodeAt(ne-1)===32&&(s=" "+s,ne-=1),Y!==-1&&ne!==-1?o._createRemoveBlockCommentOperations(new Ue.e(r,Y+n.length+1,h,ne+1),n,s):null}_executeBlockComment(e,t,n){e.tokenizeIfCheap(n.startLineNumber);let s=e.getLanguageIdAtPosition(n.startLineNumber,1),r=ao.zu.getComments(s);if(!r||!r.blockCommentStartToken||!r.blockCommentEndToken)return;const h=r.blockCommentStartToken,S=r.blockCommentEndToken;let Y=this._attemptRemoveBlockComment(e,n,h,S);if(!Y){if(n.isEmpty()){const ne=e.getLineContent(n.startLineNumber);let Q=En.LC(ne);Q===-1&&(Q=ne.length),Y=o._createAddBlockCommentOperations(new Ue.e(n.startLineNumber,Q+1,n.startLineNumber,ne.length+1),h,S,this._insertSpace)}else Y=o._createAddBlockCommentOperations(new Ue.e(n.startLineNumber,e.getLineFirstNonWhitespaceColumn(n.startLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),h,S,this._insertSpace);Y.length===1&&(this._deltaColumn=h.length+1)}this._selectionId=t.trackSelection(n);for(const ne of Y)t.addEditOperation(ne.range,ne.text)}getEditOperations(e,t){let n=this._selection;if(this._moveEndPositionDown=!1,n.startLineNumber===n.endLineNumber&&this._ignoreFirstLine){t.addEditOperation(new Ue.e(n.startLineNumber,e.getLineMaxColumn(n.startLineNumber),n.startLineNumber+1,1),n.startLineNumber===e.getLineCount()?"":`
`),this._selectionId=t.trackSelection(n);return}n.startLineNumber<n.endLineNumber&&n.endColumn===1&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));const s=u._gatherPreflightData(this._type,this._insertSpace,e,n.startLineNumber,n.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return s.supported?this._executeLineComments(e,t,s,n):this._executeBlockComment(e,t,n)}computeCursorState(e,t){let n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),new en.Y(n.selectionStartLineNumber,n.selectionStartColumn+this._deltaColumn,n.positionLineNumber,n.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(e,t){let n=[];for(let s=0,r=e.length;s<r;s++){const h=e[s];h.ignore||n.push(D.h.delete(new Ue.e(t+s,h.commentStrOffset+1,t+s,h.commentStrOffset+h.commentStrLength+1)))}return n}_createAddLineCommentsOperations(e,t){let n=[];const s=this._insertSpace?" ":"";for(let r=0,h=e.length;r<h;r++){const S=e[r];S.ignore||n.push(D.h.insert(new Cn.L(t+r,S.commentStrOffset+1),S.commentStr+s))}return n}static nextVisibleColumn(e,t,n,s){return n?e+(t-e%t):e+s}static _normalizeInsertionPoint(e,t,n,s){let r=1073741824,h,S;for(let Y=0,ne=t.length;Y<ne;Y++){if(t[Y].ignore)continue;const Q=e.getLineContent(n+Y);let he=0;for(let ze=0,Xe=t[Y].commentStrOffset;he<r&&ze<Xe;ze++)he=u.nextVisibleColumn(he,s,Q.charCodeAt(ze)===9,1);he<r&&(r=he)}r=Math.floor(r/s)*s;for(let Y=0,ne=t.length;Y<ne;Y++){if(t[Y].ignore)continue;const Q=e.getLineContent(n+Y);let he=0;for(h=0,S=t[Y].commentStrOffset;he<r&&h<S;h++)he=u.nextVisibleColumn(he,s,Q.charCodeAt(h)===9,1);he>r?t[Y].commentStrOffset=h-1:t[Y].commentStrOffset=h}}}class E extends Pe.R6{constructor(e,t){super(t),this._type=e}run(e,t){const n=e.get(ao.c_);if(!t.hasModel())return;const s=t.getModel(),r=[],h=s.getOptions(),S=t.getOption(19),Y=t.getSelections().map((Q,he)=>({selection:Q,index:he,ignoreFirstLine:!1}));Y.sort((Q,he)=>Ue.e.compareRangesUsingStarts(Q.selection,he.selection));let ne=Y[0];for(let Q=1;Q<Y.length;Q++){const he=Y[Q];ne.selection.endLineNumber===he.selection.startLineNumber&&(ne.index<he.index?he.ignoreFirstLine=!0:(ne.ignoreFirstLine=!0,ne=he))}for(const Q of Y)r.push(new u(n,Q.selection,h.tabSize,this._type,S.insertSpace,S.ignoreEmptyLines,Q.ignoreFirstLine));t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}class K extends E{constructor(){super(0,{id:"editor.action.commentLine",label:Le.N("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:Ve.eH.MenubarEditMenu,group:"5_insert",title:Le.N({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}class te extends E{constructor(){super(1,{id:"editor.action.addCommentLine",label:Le.N("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,hn.gx)(2089,2081),weight:100}})}}class ue extends E{constructor(){super(2,{id:"editor.action.removeCommentLine",label:Le.N("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,hn.gx)(2089,2099),weight:100}})}}class _e extends Pe.R6{constructor(){super({id:"editor.action.blockComment",label:Le.N("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:Ve.eH.MenubarEditMenu,group:"5_insert",title:Le.N({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(e,t){const n=e.get(ao.c_);if(!t.hasModel())return;const s=t.getOption(19),r=[],h=t.getSelections();for(const S of h)r.push(new o(S,s.insertSpace,n));t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}(0,Pe.Qr)(K),(0,Pe.Qr)(te),(0,Pe.Qr)(ue),(0,Pe.Qr)(_e);var je=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},rt=function(g,e){return function(t,n){e(t,n,g)}};let ct=class Iv{constructor(e,t,n,s,r,h){this._contextMenuService=t,this._contextViewService=n,this._contextKeyService=s,this._keybindingService=r,this._menuService=h,this._toDispose=new lt.SL,this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.add(this._editor.onContextMenu(S=>this._onContextMenu(S))),this._toDispose.add(this._editor.onMouseWheel(S=>{if(this._contextMenuIsBeingShownCount>0){const Y=this._contextViewService.getContextViewElement(),ne=S.srcElement;ne.shadowRoot&&q.Ay(Y)===ne.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(S=>{S.keyCode===58&&(S.preventDefault(),S.stopPropagation(),this.showContextMenu())}))}static get(e){return e.getContribution(Iv.ID)}_onContextMenu(e){if(!this._editor.hasModel())return;if(!this._editor.getOption(20)){this._editor.focus(),e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position);return}if(e.target.type===12||e.target.type===6&&e.target.detail.injectedText||(e.event.preventDefault(),e.event.stopPropagation(),e.target.type!==6&&e.target.type!==7&&e.target.type!==1))return;if(this._editor.focus(),e.target.position){let n=!1;for(const s of this._editor.getSelections())if(s.containsPosition(e.target.position)){n=!0;break}n||this._editor.setPosition(e.target.position)}let t=null;e.target.type!==1&&(t={x:e.event.posx-1,width:2,y:e.event.posy-1,height:2}),this.showContextMenu(t)}showContextMenu(e){if(!this._editor.getOption(20)||!this._editor.hasModel())return;if(!this._contextMenuService){this._editor.focus();return}const t=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?Ve.eH.SimpleEditorContext:Ve.eH.EditorContext);t.length>0&&this._doShowContextMenu(t,e)}_getMenuActions(e,t){const n=[],s=this._menuService.createMenu(t,this._contextKeyService),r=s.getActions({arg:e.uri});s.dispose();for(let h of r){const[,S]=h;let Y=0;for(const ne of S)if(ne instanceof Ve.NZ){const Q=this._getMenuActions(e,ne.item.submenu);Q.length>0&&(n.push(new fe.wY(ne.id,ne.label,Q)),Y++)}else n.push(ne),Y++;Y&&n.push(new fe.Z0)}return n.length&&n.pop(),n}_doShowContextMenu(e,t=null){if(!this._editor.hasModel())return;const n=this._editor.getOption(53);if(this._editor.updateOptions({hover:{enabled:!1}}),!t){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const r=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),h=q.i(this._editor.getDomNode()),S=h.left+r.left,Y=h.top+r.top+r.height;t={x:S,y:Y}}const s=this._editor.getOption(115)&&!Yn.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:s?this._editor.getDomNode():void 0,getAnchor:()=>t,getActions:()=>e,getActionViewItem:r=>{const h=this._keybindingFor(r);if(h)return new Tl.g(r,r,{label:!0,keybinding:h.getLabel(),isMenu:!0});const S=r;return typeof S.getActionViewItem=="function"?S.getActionViewItem():new Tl.g(r,r,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:r=>this._keybindingFor(r),onHide:r=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:n})}})}_keybindingFor(e){return this._keybindingService.lookupKeybinding(e.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};ct.ID="editor.contrib.contextmenu",ct=je([rt(1,p.i),rt(2,p.u),rt(3,nn.i6),rt(4,F.d),rt(5,Ve.co)],ct);class zt extends Pe.R6{constructor(){super({id:"editor.action.showContextMenu",label:Le.N("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:vt.u.textInputFocus,primary:1092,weight:100}})}run(e,t){var n;(n=ct.get(t))===null||n===void 0||n.showContextMenu()}}(0,Pe._K)(ct.ID,ct),(0,Pe.Qr)(zt);class Fn{constructor(e){this.selections=e}equals(e){const t=this.selections.length,n=e.selections.length;if(t!==n)return!1;for(let s=0;s<t;s++)if(!this.selections[s].equalsSelection(e.selections[s]))return!1;return!0}}class ii{constructor(e,t,n){this.cursorState=e,this.scrollTop=t,this.scrollLeft=n}}class Ti extends lt.JT{constructor(e){super(),this._editor=e,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(e.onDidChangeModel(t=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeModelContent(t=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeCursorSelection(t=>{if(this._isCursorUndoRedo||!t.oldSelections||t.oldModelVersionId!==t.modelVersionId)return;const n=new Fn(t.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(n)||(this._undoStack.push(new ii(n,e.getScrollTop(),e.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(e){return e.getContribution(Ti.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new ii(new Fn(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new ii(new Fn(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1}}Ti.ID="editor.contrib.cursorUndoRedoController";class Es extends Pe.R6{constructor(){super({id:"cursorUndo",label:Le.N("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:vt.u.textInputFocus,primary:2099,weight:100}})}run(e,t,n){var s;(s=Ti.get(t))===null||s===void 0||s.cursorUndo()}}class hs extends Pe.R6{constructor(){super({id:"cursorRedo",label:Le.N("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(e,t,n){var s;(s=Ti.get(t))===null||s===void 0||s.cursorRedo()}}(0,Pe._K)(Ti.ID,Ti),(0,Pe.Qr)(Es),(0,Pe.Qr)(hs);class po{constructor(e,t,n){this.selection=e,this.targetPosition=t,this.copy=n,this.targetSelection=null}getEditOperations(e,t){let n=e.getValueInRange(this.selection);if(this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new Ue.e(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),n),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new en.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new en.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new en.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new en.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new en.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(e,t){return this.targetSelection}}function Ps(g){return Yn.dz?g.altKey:g.ctrlKey}class os extends lt.JT{constructor(e){super(),this._editor=e,this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(t))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(t))),this._register(this._editor.onMouseDrag(t=>this._onEditorMouseDrag(t))),this._register(this._editor.onMouseDrop(t=>this._onEditorMouseDrop(t))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(t=>this.onEditorKeyDown(t))),this._register(this._editor.onKeyUp(t=>this.onEditorKeyUp(t))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(e){!this._editor.getOption(31)||this._editor.getOption(18)||(Ps(e)&&(this._modifierPressed=!0),this._mouseDown&&Ps(e)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(e){!this._editor.getOption(31)||this._editor.getOption(18)||(Ps(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===os.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(e){this._mouseDown=!0}_onEditorMouseUp(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(e){let t=e.target;if(this._dragSelection===null){let s=(this._editor.getSelections()||[]).filter(r=>t.position&&r.containsPosition(t.position));if(s.length===1)this._dragSelection=s[0];else return}Ps(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){let t=new Cn.L(e.target.position.lineNumber,e.target.position.column);if(this._dragSelection===null){let n=null;if(e.event.shiftKey){let s=this._editor.getSelection();if(s){const{selectionStartLineNumber:r,selectionStartColumn:h}=s;n=[new en.Y(r,h,t.lineNumber,t.column)]}}else n=(this._editor.getSelections()||[]).map(s=>s.containsPosition(t)?new en.Y(t.lineNumber,t.column,t.lineNumber,t.column):s);this._editor.setSelections(n||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(Ps(e.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(os.ID,new po(this._dragSelection,t,Ps(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(e){let t=[{range:new Ue.e(e.lineNumber,e.column,e.lineNumber,e.column),options:os._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,t),this._editor.revealPosition(e,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(e){return e.type===6||e.type===7}_hitMargin(e){return e.type===2||e.type===3||e.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}os.ID="editor.contrib.dragAndDrop",os.TRIGGER_KEY_VALUE=Yn.dz?6:5,os._DECORATION_OPTIONS=Lt.qx.register({description:"dnd-target",className:"dnd-target"}),(0,Pe._K)(os.ID,os);var Ms=l(21641);class _o{constructor(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const e=this._findScopeDecorationIds.map(t=>this._editor.getModel().getDecorationRange(t)).filter(t=>!!t);if(e.length)return e}return null}getStartPosition(){return this._startPosition}setStartPosition(e){this._startPosition=e,this.setCurrentFindMatch(null)}_getDecorationIndex(e){const t=this._decorations.indexOf(e);return t>=0?t+1:1}getCurrentMatchesPosition(e){let t=this._editor.getModel().getDecorationsInRange(e);for(const n of t){const s=n.options;if(s===_o._FIND_MATCH_DECORATION||s===_o._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(n.id)}return 0}setCurrentFindMatch(e){let t=null,n=0;if(e)for(let s=0,r=this._decorations.length;s<r;s++){let h=this._editor.getModel().getDecorationRange(this._decorations[s]);if(e.equalsRange(h)){t=this._decorations[s],n=s+1;break}}return(this._highlightedDecorationId!==null||t!==null)&&this._editor.changeDecorations(s=>{if(this._highlightedDecorationId!==null&&(s.changeDecorationOptions(this._highlightedDecorationId,_o._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),t!==null&&(this._highlightedDecorationId=t,s.changeDecorationOptions(this._highlightedDecorationId,_o._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(s.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),t!==null){let r=this._editor.getModel().getDecorationRange(t);if(r.startLineNumber!==r.endLineNumber&&r.endColumn===1){let h=r.endLineNumber-1,S=this._editor.getModel().getLineMaxColumn(h);r=new Ue.e(r.startLineNumber,r.startColumn,h,S)}this._rangeHighlightDecorationId=s.addDecoration(r,_o._RANGE_HIGHLIGHT_DECORATION)}}),n}set(e,t){this._editor.changeDecorations(n=>{let s=_o._FIND_MATCH_DECORATION,r=[];if(e.length>1e3){s=_o._FIND_MATCH_NO_OVERVIEW_DECORATION;const S=this._editor.getModel().getLineCount(),ne=this._editor.getLayoutInfo().height/S,Q=Math.max(2,Math.ceil(3/ne));let he=e[0].range.startLineNumber,ze=e[0].range.endLineNumber;for(let Xe=1,bt=e.length;Xe<bt;Xe++){const Gt=e[Xe].range;ze+Q>=Gt.startLineNumber?Gt.endLineNumber>ze&&(ze=Gt.endLineNumber):(r.push({range:new Ue.e(he,1,ze,1),options:_o._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),he=Gt.startLineNumber,ze=Gt.endLineNumber)}r.push({range:new Ue.e(he,1,ze,1),options:_o._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let h=new Array(e.length);for(let S=0,Y=e.length;S<Y;S++)h[S]={range:e[S].range,options:s};this._decorations=n.deltaDecorations(this._decorations,h),this._overviewRulerApproximateDecorations=n.deltaDecorations(this._overviewRulerApproximateDecorations,r),this._rangeHighlightDecorationId&&(n.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(S=>n.removeDecoration(S)),this._findScopeDecorationIds=[]),t!=null&&t.length&&(this._findScopeDecorationIds=t.map(S=>n.addDecoration(S,_o._FIND_SCOPE_DECORATION)))})}matchBeforePosition(e){if(this._decorations.length===0)return null;for(let t=this._decorations.length-1;t>=0;t--){let n=this._decorations[t],s=this._editor.getModel().getDecorationRange(n);if(!(!s||s.endLineNumber>e.lineNumber)){if(s.endLineNumber<e.lineNumber)return s;if(!(s.endColumn>e.column))return s}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(e){if(this._decorations.length===0)return null;for(let t=0,n=this._decorations.length;t<n;t++){let s=this._decorations[t],r=this._editor.getModel().getDecorationRange(s);if(!(!r||r.startLineNumber<e.lineNumber)){if(r.startLineNumber>e.lineNumber)return r;if(!(r.startColumn<e.column))return r}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let e=[];return e=e.concat(this._decorations),e=e.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&e.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e}}_o._CURRENT_FIND_MATCH_DECORATION=Lt.qx.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,St.EN)(Se.Fm_),position:Pt.sh.Center},minimap:{color:(0,St.EN)(Se.SUY),position:Pt.F5.Inline}}),_o._FIND_MATCH_DECORATION=Lt.qx.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,St.EN)(Se.Fm_),position:Pt.sh.Center},minimap:{color:(0,St.EN)(Se.SUY),position:Pt.F5.Inline}}),_o._FIND_MATCH_NO_OVERVIEW_DECORATION=Lt.qx.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),_o._FIND_MATCH_ONLY_OVERVIEW_DECORATION=Lt.qx.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,St.EN)(Se.Fm_),position:Pt.sh.Center}}),_o._RANGE_HIGHLIGHT_DECORATION=Lt.qx.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),_o._FIND_SCOPE_DECORATION=Lt.qx.register({description:"find-scope",className:"findScope",isWholeLine:!0});class fd{constructor(e,t,n){this._editorSelection=e,this._ranges=t,this._replaceStrings=n,this._trackedEditorSelectionId=null}getEditOperations(e,t){if(this._ranges.length>0){let n=[];for(let h=0;h<this._ranges.length;h++)n.push({range:this._ranges[h],text:this._replaceStrings[h]});n.sort((h,S)=>Ue.e.compareRangesUsingStarts(h.range,S.range));let s=[],r=n[0];for(let h=1;h<n.length;h++)r.range.endLineNumber===n[h].range.startLineNumber&&r.range.endColumn===n[h].range.startColumn?(r.range=r.range.plusRange(n[h].range),r.text=r.text+n[h].text):(s.push(r),r=n[h]);s.push(r);for(const h of s)t.addEditOperation(h.range,h.text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)}}function Mo(g,e){if(g&&g[0]!==""){const t=Zd(g,e,"-"),n=Zd(g,e,"_");return t&&!n?Qs(g,e,"-"):!t&&n?Qs(g,e,"_"):g[0].toUpperCase()===g[0]?e.toUpperCase():g[0].toLowerCase()===g[0]?e.toLowerCase():En.Kw(g[0][0])&&e.length>0?e[0].toUpperCase()+e.substr(1):g[0][0].toUpperCase()!==g[0][0]&&e.length>0?e[0].toLowerCase()+e.substr(1):e}else return e}function Zd(g,e,t){return g[0].indexOf(t)!==-1&&e.indexOf(t)!==-1&&g[0].split(t).length===e.split(t).length}function Qs(g,e,t){const n=e.split(t),s=g[0].split(t);let r="";return n.forEach((h,S)=>{r+=Mo([s[S]],h)+t}),r.slice(0,-1)}class bs{constructor(e){this.staticValue=e,this.kind=0}}class ur{constructor(e){this.pieces=e,this.kind=1}}class bl{constructor(e){!e||e.length===0?this._state=new bs(""):e.length===1&&e[0].staticValue!==null?this._state=new bs(e[0].staticValue):this._state=new ur(e)}static fromStaticValue(e){return new bl([ol.staticValue(e)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(e,t){if(this._state.kind===0)return t?Mo(e,this._state.staticValue):this._state.staticValue;let n="";for(let s=0,r=this._state.pieces.length;s<r;s++){let h=this._state.pieces[s];if(h.staticValue!==null){n+=h.staticValue;continue}let S=bl._substitute(h.matchIndex,e);if(h.caseOps!==null&&h.caseOps.length>0){let Y=[],ne=h.caseOps.length,Q=0;for(let he=0,ze=S.length;he<ze;he++){if(Q>=ne){Y.push(S.slice(he));break}switch(h.caseOps[Q]){case"U":Y.push(S[he].toUpperCase());break;case"u":Y.push(S[he].toUpperCase()),Q++;break;case"L":Y.push(S[he].toLowerCase());break;case"l":Y.push(S[he].toLowerCase()),Q++;break;default:Y.push(S[he])}}S=Y.join("")}n+=S}return n}static _substitute(e,t){if(t===null)return"";if(e===0)return t[0];let n="";for(;e>0;){if(e<t.length)return(t[e]||"")+n;n=String(e%10)+n,e=Math.floor(e/10)}return"$"+n}}class ol{constructor(e,t,n){this.staticValue=e,this.matchIndex=t,!n||n.length===0?this.caseOps=null:this.caseOps=n.slice(0)}static staticValue(e){return new ol(e,-1,null)}static caseOps(e,t){return new ol(null,e,t)}}class Kv{constructor(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}emitStatic(e,t){this._emitStatic(e),this._lastCharIndex=t}_emitStatic(e){e.length!==0&&(this._currentStaticPiece+=e)}emitMatchIndex(e,t,n){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=ol.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=ol.caseOps(e,n),this._lastCharIndex=t}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=ol.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new bl(this._result)}}function $v(g){if(!g||g.length===0)return new bl(null);let e=[],t=new Kv(g);for(let n=0,s=g.length;n<s;n++){let r=g.charCodeAt(n);if(r===92){if(n++,n>=s)break;let h=g.charCodeAt(n);switch(h){case 92:t.emitUnchanged(n-1),t.emitStatic("\\",n+1);break;case 110:t.emitUnchanged(n-1),t.emitStatic(`
`,n+1);break;case 116:t.emitUnchanged(n-1),t.emitStatic("	",n+1);break;case 117:case 85:case 108:case 76:t.emitUnchanged(n-1),t.emitStatic("",n+1),e.push(String.fromCharCode(h));break}continue}if(r===36){if(n++,n>=s)break;let h=g.charCodeAt(n);if(h===36){t.emitUnchanged(n-1),t.emitStatic("$",n+1);continue}if(h===48||h===38){t.emitUnchanged(n-1),t.emitMatchIndex(0,n+1,e),e.length=0;continue}if(49<=h&&h<=57){let S=h-48;if(n+1<s){let Y=g.charCodeAt(n+1);if(48<=Y&&Y<=57){n++,S=S*10+(Y-48),t.emitUnchanged(n-2),t.emitMatchIndex(S,n+1,e),e.length=0;continue}}t.emitUnchanged(n-1),t.emitMatchIndex(S,n+1,e),e.length=0;continue}}}return t.finalize()}const Yd=new nn.uy("findWidgetVisible",!1),KL=Yd.toNegated(),Kg=new nn.uy("findInputFocussed",!1),Mp=new nn.uy("replaceInputFocussed",!1),$g={primary:545,mac:{primary:2593}},Gg={primary:565,mac:{primary:2613}},Zg={primary:560,mac:{primary:2608}},Yg={primary:554,mac:{primary:2602}},Qg={primary:558,mac:{primary:2606}},fo={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},Qd=19999,Gv=240;class Af{constructor(e,t){this._toDispose=new lt.SL,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new Ht._F,this._decorations=new _o(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new Ht.pY(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(n=>{(n.reason===3||n.reason===5||n.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(n=>{this._ignoreModelContentChanged||(n.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(n=>this._onStateChanged(n))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,lt.B9)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(e){this._isDisposed||!this._editor.hasModel()||(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)},Gv)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor))}static _getSearchRange(e,t){return t||e.getFullModelRange()}research(e,t){let n=null;typeof t!="undefined"?t!==null&&(Array.isArray(t)?n=t:n=[t]):n=this._decorations.getFindScopes(),n!==null&&(n=n.map(S=>{if(S.startLineNumber!==S.endLineNumber){let Y=S.endLineNumber;return S.endColumn===1&&(Y=Y-1),new Ue.e(S.startLineNumber,1,Y,this._editor.getModel().getLineMaxColumn(Y))}return S}));let s=this._findMatches(n,!1,Qd);this._decorations.set(s,n);const r=this._editor.getSelection();let h=this._decorations.getCurrentMatchesPosition(r);if(h===0&&s.length>0){const S=(0,ki.lG)(s.map(Y=>Y.range),Y=>Ue.e.compareRangesUsingStarts(Y,r)>=0);h=S>0?S-1+1:h}this._state.changeMatchInfo(h,this._decorations.getCount(),void 0),e&&this._editor.getOption(35).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1}_setCurrentFindMatch(e){let t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)}_prevSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:n,column:s}=e,r=this._editor.getModel();return t||s===1?(n===1?n=r.getLineCount():n--,s=r.getLineMaxColumn(n)):s--,new Cn.L(n,s)}_moveToPrevMatch(e,t=!1){if(!this._state.canNavigateBack()){const Q=this._decorations.matchAfterPosition(e);Q&&this._setCurrentFindMatch(Q);return}if(this._decorations.getCount()<Qd){let Q=this._decorations.matchBeforePosition(e);Q&&Q.isEmpty()&&Q.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),Q=this._decorations.matchBeforePosition(e)),Q&&this._setCurrentFindMatch(Q);return}if(this._cannotFind())return;let n=this._decorations.getFindScope(),s=Af._getSearchRange(this._editor.getModel(),n);s.getEndPosition().isBefore(e)&&(e=s.getEndPosition()),e.isBefore(s.getStartPosition())&&(e=s.getEndPosition());let{lineNumber:r,column:h}=e,S=this._editor.getModel(),Y=new Cn.L(r,h),ne=S.findPreviousMatch(this._state.searchString,Y,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,!1);if(ne&&ne.range.isEmpty()&&ne.range.getStartPosition().equals(Y)&&(Y=this._prevSearchPosition(Y),ne=S.findPreviousMatch(this._state.searchString,Y,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,!1)),!!ne){if(!t&&!s.containsRange(ne.range))return this._moveToPrevMatch(ne.range.getStartPosition(),!0);this._setCurrentFindMatch(ne.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:n,column:s}=e,r=this._editor.getModel();return t||s===r.getLineMaxColumn(n)?(n===r.getLineCount()?n=1:n++,s=1):s++,new Cn.L(n,s)}_moveToNextMatch(e){if(!this._state.canNavigateForward()){const n=this._decorations.matchBeforePosition(e);n&&this._setCurrentFindMatch(n);return}if(this._decorations.getCount()<Qd){let n=this._decorations.matchAfterPosition(e);n&&n.isEmpty()&&n.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),n=this._decorations.matchAfterPosition(e)),n&&this._setCurrentFindMatch(n);return}let t=this._getNextMatch(e,!1,!0);t&&this._setCurrentFindMatch(t.range)}_getNextMatch(e,t,n,s=!1){if(this._cannotFind())return null;let r=this._decorations.getFindScope(),h=Af._getSearchRange(this._editor.getModel(),r);h.getEndPosition().isBefore(e)&&(e=h.getStartPosition()),e.isBefore(h.getStartPosition())&&(e=h.getStartPosition());let{lineNumber:S,column:Y}=e,ne=this._editor.getModel(),Q=new Cn.L(S,Y),he=ne.findNextMatch(this._state.searchString,Q,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,t);return n&&he&&he.range.isEmpty()&&he.range.getStartPosition().equals(Q)&&(Q=this._nextSearchPosition(Q),he=ne.findNextMatch(this._state.searchString,Q,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,t)),he?!s&&!h.containsRange(he.range)?this._getNextMatch(he.range.getEndPosition(),t,n,!0):he:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?$v(this._state.replaceString):bl.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let e=this._getReplacePattern(),t=this._editor.getSelection(),n=this._getNextMatch(t.getStartPosition(),!0,!1);if(n)if(t.equalsRange(n.range)){let s=e.buildReplaceString(n.matches,this._state.preserveCase),r=new ti.T4(t,s);this._executeEditorCommand("replace",r),this._decorations.setStartPosition(new Cn.L(t.startLineNumber,t.startColumn+s.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(n.range)}_findMatches(e,t,n){const s=(e||[null]).map(r=>Af._getSearchRange(this._editor.getModel(),r));return this._editor.getModel().findMatches(this._state.searchString,s,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,t,n)}replaceAll(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes();e===null&&this._state.matchesCount>=Qd?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}_largeReplaceAll(){const t=new Ms.bc(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null).parseSearchRequest();if(!t)return;let n=t.regex;if(!n.multiline){let he="mu";n.ignoreCase&&(he+="i"),n.global&&(he+="g"),n=new RegExp(n.source,he)}const s=this._editor.getModel(),r=s.getValue(1),h=s.getFullModelRange(),S=this._getReplacePattern();let Y;const ne=this._state.preserveCase;S.hasReplacementPatterns||ne?Y=r.replace(n,function(){return S.buildReplaceString(arguments,ne)}):Y=r.replace(n,S.buildReplaceString(null,ne));let Q=new ti.hP(h,Y,this._editor.getSelection());this._executeEditorCommand("replaceAll",Q)}_regularReplaceAll(e){const t=this._getReplacePattern();let n=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),s=[];for(let h=0,S=n.length;h<S;h++)s[h]=t.buildReplaceString(n[h].matches,this._state.preserveCase);let r=new fd(this._editor.getSelection(),n.map(h=>h.range),s);this._executeEditorCommand("replaceAll",r)}selectAllMatches(){if(!this._hasMatches())return;let e=this._decorations.getFindScopes(),n=this._findMatches(e,!1,1073741824).map(r=>new en.Y(r.range.startLineNumber,r.range.startColumn,r.range.endLineNumber,r.range.endColumn)),s=this._editor.getSelection();for(let r=0,h=n.length;r<h;r++)if(n[r].equalsRange(s)){n=[s].concat(n.slice(0,r)).concat(n.slice(r+1));break}this._editor.setSelections(n)}_executeEditorCommand(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}class Xg extends _r.${constructor(e,t,n,s){super(),this._hideSoon=this._register(new Ht.pY(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=e,this._state=t,this._keybindingService=n,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const r=s.getColorTheme().getColor(Se.PRb),h=s.getColorTheme().getColor(Se.Pvw),S=s.getColorTheme().getColor(Se.XEs);this.caseSensitive=this._register(new Ni({appendTitle:this._keybindingLabelFor(fo.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:r,inputActiveOptionForeground:h,inputActiveOptionBackground:S})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new ns({appendTitle:this._keybindingLabelFor(fo.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:r,inputActiveOptionForeground:h,inputActiveOptionBackground:S})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new qs({appendTitle:this._keybindingLabelFor(fo.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:r,inputActiveOptionForeground:h,inputActiveOptionBackground:S})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(Y=>{let ne=!1;Y.isRegex&&(this.regex.checked=this._state.isRegex,ne=!0),Y.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,ne=!0),Y.matchCase&&(this.caseSensitive.checked=this._state.matchCase,ne=!0),!this._state.isRevealed&&ne&&this._revealTemporarily()})),this._register(q.j_(this._domNode,Y=>this._onMouseOut())),this._register(q.nm(this._domNode,"mouseover",Y=>this._onMouseOver())),this._applyTheme(s.getColorTheme()),this._register(s.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Xg.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(e){let t={inputActiveOptionBorder:e.getColor(Se.PRb),inputActiveOptionForeground:e.getColor(Se.Pvw),inputActiveOptionBackground:e.getColor(Se.XEs)};this.caseSensitive.style(t),this.wholeWords.style(t),this.regex.style(t)}}Xg.ID="editor.contrib.findOptionsWidget",(0,St.Ic)((g,e)=>{const t=g.getColor(Se.D0T);t&&e.addRule(`.monaco-editor .findOptionsWidget { background-color: ${t}; }`);const n=g.getColor(Se.Hfx);n&&e.addRule(`.monaco-editor .findOptionsWidget { color: ${n}; }`);const s=g.getColor(Se.rh);s&&e.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${s}; }`);const r=g.getColor(Se.lRK);r&&e.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${r}; }`)});function Jg(g,e){return g===1?!0:g===2?!1:e}class Zv extends lt.JT{constructor(){super(),this._onFindReplaceStateChange=this._register(new wt.Q5),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return Jg(this._isRegexOverride,this._isRegex)}get wholeWord(){return Jg(this._wholeWordOverride,this._wholeWord)}get matchCase(){return Jg(this._matchCaseOverride,this._matchCase)}get preserveCase(){return Jg(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(e,t,n){let s={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},r=!1;t===0&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,s.matchesPosition=!0,r=!0),this._matchesCount!==t&&(this._matchesCount=t,s.matchesCount=!0,r=!0),typeof n!="undefined"&&(Ue.e.equalsRange(this._currentMatch,n)||(this._currentMatch=n,s.currentMatch=!0,r=!0)),r&&this._onFindReplaceStateChange.fire(s)}change(e,t,n=!0){var s;let r={moveCursor:t,updateHistory:n,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},h=!1;const S=this.isRegex,Y=this.wholeWord,ne=this.matchCase,Q=this.preserveCase;typeof e.searchString!="undefined"&&this._searchString!==e.searchString&&(this._searchString=e.searchString,r.searchString=!0,h=!0),typeof e.replaceString!="undefined"&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,r.replaceString=!0,h=!0),typeof e.isRevealed!="undefined"&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,r.isRevealed=!0,h=!0),typeof e.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,r.isReplaceRevealed=!0,h=!0),typeof e.isRegex!="undefined"&&(this._isRegex=e.isRegex),typeof e.wholeWord!="undefined"&&(this._wholeWord=e.wholeWord),typeof e.matchCase!="undefined"&&(this._matchCase=e.matchCase),typeof e.preserveCase!="undefined"&&(this._preserveCase=e.preserveCase),typeof e.searchScope!="undefined"&&(!((s=e.searchScope)===null||s===void 0)&&s.every(he=>{var ze;return(ze=this._searchScope)===null||ze===void 0?void 0:ze.some(Xe=>!Ue.e.equalsRange(Xe,he))})||(this._searchScope=e.searchScope,r.searchScope=!0,h=!0)),typeof e.loop!="undefined"&&this._loop!==e.loop&&(this._loop=e.loop,r.loop=!0,h=!0),typeof e.isSearching!="undefined"&&this._isSearching!==e.isSearching&&(this._isSearching=e.isSearching,r.isSearching=!0,h=!0),typeof e.filters!="undefined"&&(this._filters?this._filters.update(e.filters):this._filters=e.filters,r.filters=!0,h=!0),this._isRegexOverride=typeof e.isRegexOverride!="undefined"?e.isRegexOverride:0,this._wholeWordOverride=typeof e.wholeWordOverride!="undefined"?e.wholeWordOverride:0,this._matchCaseOverride=typeof e.matchCaseOverride!="undefined"?e.matchCaseOverride:0,this._preserveCaseOverride=typeof e.preserveCaseOverride!="undefined"?e.preserveCaseOverride:0,S!==this.isRegex&&(h=!0,r.isRegex=!0),Y!==this.wholeWord&&(h=!0,r.wholeWord=!0),ne!==this.matchCase&&(h=!0,r.matchCase=!0),Q!==this.preserveCase&&(h=!0,r.preserveCase=!0),h&&this._onFindReplaceStateChange.fire(r)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=Qd}}function d1(g){var e,t;return((e=g.lookupKeybinding("history.showPrevious"))===null||e===void 0?void 0:e.getElectronAccelerator())==="Up"&&((t=g.lookupKeybinding("history.showNext"))===null||t===void 0?void 0:t.getElectronAccelerator())==="Down"}var Yv=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};const Qv=(0,jr.q5)("find-selection",ft.lA.selection,Le.N("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),u1=(0,jr.q5)("find-collapsed",ft.lA.chevronRight,Le.N("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),h1=(0,jr.q5)("find-expanded",ft.lA.chevronDown,Le.N("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),Xv=(0,jr.q5)("find-replace",ft.lA.replace,Le.N("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),Jv=(0,jr.q5)("find-replace-all",ft.lA.replaceAll,Le.N("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),qv=(0,jr.q5)("find-previous-match",ft.lA.arrowUp,Le.N("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),eC=(0,jr.q5)("find-next-match",ft.lA.arrowDown,Le.N("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),tC=Le.N("label.find","Find"),nC=Le.N("placeholder.find","Find"),iC=Le.N("label.previousMatchButton","Previous Match"),sC=Le.N("label.nextMatchButton","Next Match"),oC=Le.N("label.toggleSelectionFind","Find in Selection"),rC=Le.N("label.closeButton","Close"),aC=Le.N("label.replace","Replace"),lC=Le.N("placeholder.replace","Replace"),cC=Le.N("label.replaceButton","Replace"),dC=Le.N("label.replaceAllButton","Replace All"),uC=Le.N("label.toggleReplaceButton","Toggle Replace"),hC=Le.N("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",Qd),fC=Le.N("label.matchesLocation","{0} of {1}"),f1=Le.N("label.noResults","No results"),Oc=419,gC=275-54;let Pf=69;const mC=33,g1="ctrlEnterReplaceAll.windows.donotask",m1=Yn.dz?256:2048;class kp{constructor(e){this.afterLineNumber=e,this.heightInPx=mC,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function p1(g,e,t){const n=!!e.match(/\n/);if(t&&n&&t.selectionStart>0){g.stopPropagation();return}}function _1(g,e,t){const n=!!e.match(/\n/);if(t&&n&&t.selectionEnd<t.value.length){g.stopPropagation();return}}class qg extends _r.${constructor(e,t,n,s,r,h,S,Y,ne){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=e,this._controller=t,this._state=n,this._contextViewProvider=s,this._keybindingService=r,this._contextKeyService=h,this._storageService=Y,this._notificationService=ne,this._ctrlEnterReplaceAllWarningPrompted=!!Y.getBoolean(g1,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new Ht.vp(500),this._register((0,lt.OF)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(Q=>this._onStateChanged(Q))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(Q=>{if(Q.hasChanged(81)&&(this._codeEditor.getOption(81)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),Q.hasChanged(131)&&this._tryUpdateWidgetWidth(),Q.hasChanged(2)&&this.updateAccessibilitySupport(),Q.hasChanged(35)){const he=this._codeEditor.getOption(35).addExtraSpaceOnTop;he&&!this._viewZone&&(this._viewZone=new kp(0),this._showViewZone()),!he&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>Yv(this,void 0,void 0,function*(){if(this._isVisible){let Q=yield this._controller.getGlobalBufferTerm();Q&&Q!==this._state.searchString&&(this._state.change({searchString:Q},!1),this._findInput.select())}}))),this._findInputFocused=Kg.bindTo(h),this._findFocusTracker=this._register(q.go(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=Mp.bindTo(h),this._replaceFocusTracker=this._register(q.go(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(35).addExtraSpaceOnTop&&(this._viewZone=new kp(0)),this._applyTheme(S.getColorTheme()),this._register(S.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(Q=>{if(Q.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return qg.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(81)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=q.w(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){let t=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",t),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,ui.dL)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=Pf+"px",this._state.matchesCount>=Qd?this._matchesCount.title=hC:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let e;if(this._state.matchesCount>0){let t=String(this._state.matchesCount);this._state.matchesCount>=Qd&&(t+="+");let n=String(this._state.matchesPosition);n==="0"&&(n="?"),e=En.WU(fC,n,t)}else e=f1;this._matchesCount.appendChild(document.createTextNode(e)),(0,Rt.Z9)(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString)),Pf=Math.max(Pf,this._matchesCount.clientWidth)}_getAriaLabel(e,t,n){if(e===f1)return n===""?Le.N("ariaSearchNoResultEmpty","{0} found",e):Le.N("ariaSearchNoResult","{0} found for '{1}'",e,n);if(t){const s=Le.N("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",e,n,t.startLineNumber+":"+t.startColumn),r=this._codeEditor.getModel();return r&&t.startLineNumber<=r.getLineCount()&&t.startLineNumber>=1?`${r.getLineContent(t.startLineNumber)}, ${s}`:s}return Le.N("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",e,n)}_updateToggleSelectionFindButton(){let e=this._codeEditor.getSelection(),t=e?e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn:!1,n=this._toggleSelectionFind.checked;this._isVisible&&(n||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let e=this._state.searchString.length>0,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let n=!this._codeEditor.getOption(81);this._toggleReplaceBtn.setEnabled(this._isVisible&&n)}_reveal(){if(this._revealTimeouts.forEach(e=>{clearTimeout(e)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const e=this._codeEditor.getSelection();switch(this._codeEditor.getOption(35).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const n=!!e&&e.startLineNumber!==e.endLineNumber;this._toggleSelectionFind.checked=n;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let t=!0;if(this._codeEditor.getOption(35).seedSearchStringFromSelection&&e){const n=this._codeEditor.getDomNode();if(n){const s=q.i(n),r=this._codeEditor.getScrolledVisiblePosition(e.getStartPosition()),h=s.left+(r?r.left:0),S=r?r.top:0;if(this._viewZone&&S<this._viewZone.heightInPx){e.endLineNumber>e.startLineNumber&&(t=!1);const Y=q.xQ(this._domNode).left;h>Y&&(t=!1);const ne=this._codeEditor.getScrolledVisiblePosition(e.getEndPosition());s.left+(ne?ne.left:0)>Y&&(t=!1)}}}this._showViewZone(t)}}_hide(e){this._revealTimeouts.forEach(t=>{clearTimeout(t)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(e){if(!this._codeEditor.getOption(35).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const n=this._viewZone;this._viewZoneId!==void 0||!n||this._codeEditor.changeViewZones(s=>{n.heightInPx=this._getHeight(),this._viewZoneId=s.addZone(n),this._codeEditor.setScrollTop(e||this._codeEditor.getScrollTop()+n.heightInPx)})}_showViewZone(e=!0){if(!this._isVisible||!this._codeEditor.getOption(35).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new kp(0));const n=this._viewZone;this._codeEditor.changeViewZones(s=>{if(this._viewZoneId!==void 0){const r=this._getHeight();if(r===n.heightInPx)return;let h=r-n.heightInPx;n.heightInPx=r,s.layoutZone(this._viewZoneId),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+h);return}else{let r=this._getHeight();if(r-=this._codeEditor.getOption(75).top,r<=0)return;n.heightInPx=r,this._viewZoneId=s.addZone(n),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+r)}})}_removeViewZone(){this._codeEditor.changeViewZones(e=>{this._viewZoneId!==void 0&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(e){let t={inputActiveOptionBorder:e.getColor(Se.PRb),inputActiveOptionBackground:e.getColor(Se.XEs),inputActiveOptionForeground:e.getColor(Se.Pvw),inputBackground:e.getColor(Se.sEe),inputForeground:e.getColor(Se.zJb),inputBorder:e.getColor(Se.dt_),inputValidationInfoBackground:e.getColor(Se._lC),inputValidationInfoForeground:e.getColor(Se.YI3),inputValidationInfoBorder:e.getColor(Se.EPQ),inputValidationWarningBackground:e.getColor(Se.RV_),inputValidationWarningForeground:e.getColor(Se.SUG),inputValidationWarningBorder:e.getColor(Se.C3g),inputValidationErrorBackground:e.getColor(Se.paE),inputValidationErrorForeground:e.getColor(Se._t9),inputValidationErrorBorder:e.getColor(Se.OZR)};this._findInput.style(t),this._replaceInput.style(t),this._toggleSelectionFind.style(t)}_tryUpdateWidgetWidth(){if(!this._isVisible||!q.Uw(this._domNode))return;const e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const n=e.width,s=e.minimap.minimapWidth;let r=!1,h=!1,S=!1;if(this._resized&&q.w(this._domNode)>Oc){this._domNode.style.maxWidth=`${n-28-s-15}px`,this._replaceInput.width=q.w(this._findInput.domNode);return}if(Oc+28+s>=n&&(h=!0),Oc+28+s-Pf>=n&&(S=!0),Oc+28+s-Pf>=n+50&&(r=!0),this._domNode.classList.toggle("collapsed-find-widget",r),this._domNode.classList.toggle("narrow-find-widget",S),this._domNode.classList.toggle("reduced-find-widget",h),!S&&!r&&(this._domNode.style.maxWidth=`${n-28-s-15}px`),this._resized){this._findInput.inputBox.layout();let Y=this._findInput.inputBox.element.clientWidth;Y>0&&(this._replaceInput.width=Y)}else this._isReplaceVisible&&(this._replaceInput.width=q.w(this._findInput.domNode))}_getHeight(){let e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4,e}_tryUpdateHeight(){const e=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===e?!1:(this._cachedHeight=e,this._domNode.style.height=`${e}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(!!this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let e=this._codeEditor.getSelections();e.map(t=>{t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(t.endLineNumber-1)));const n=this._state.currentMatch;return t.startLineNumber!==t.endLineNumber&&!Ue.e.equalsRange(t,n)?t:null}).filter(t=>!!t),e.length&&this._state.change({searchScope:e},!0)}}_onFindInputMouseDown(e){e.middleButton&&e.stopPropagation()}_onFindInputKeyDown(e){if(e.equals(m1|3))if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return p1(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(e.equals(18))return _1(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(e){if(e.equals(m1|3))if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return}else{Yn.ED&&Yn.tY&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(Le.N("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(g1,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(1026)){this._findInput.focus(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return p1(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(e.equals(18))return _1(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(e){return 0}_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new sr(null,this._contextViewProvider,{width:gC,label:tC,placeholder:nC,appendCaseSensitiveLabel:this._keybindingLabelFor(fo.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(fo.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(fo.ToggleRegexCommand),validation:Y=>{if(Y.length===0||!this._findInput.getRegex())return null;try{return new RegExp(Y,"gu"),null}catch(ne){return{content:ne.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>d1(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(Y=>this._onFindInputKeyDown(Y))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(Y=>{Y.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),Y.preventDefault())})),this._register(this._findInput.onRegexKeyDown(Y=>{Y.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),Y.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(Y=>{this._tryUpdateHeight()&&this._showViewZone()})),Yn.IJ&&this._register(this._findInput.onMouseDown(Y=>this._onFindInputMouseDown(Y))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new xh({label:iC+this._keybindingLabelFor(fo.PreviousMatchFindAction),icon:qv,onTrigger:()=>{this._codeEditor.getAction(fo.PreviousMatchFindAction).run().then(void 0,ui.dL)}})),this._nextBtn=this._register(new xh({label:sC+this._keybindingLabelFor(fo.NextMatchFindAction),icon:eC,onTrigger:()=>{this._codeEditor.getAction(fo.NextMatchFindAction).run().then(void 0,ui.dL)}}));let n=document.createElement("div");n.className="find-part",n.appendChild(this._findInput.domNode);const s=document.createElement("div");s.className="find-actions",n.appendChild(s),s.appendChild(this._matchesCount),s.appendChild(this._prevBtn.domNode),s.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new pi({icon:Qv,title:oC+this._keybindingLabelFor(fo.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let Y=this._codeEditor.getSelections();Y.map(ne=>(ne.endColumn===1&&ne.endLineNumber>ne.startLineNumber&&(ne=ne.setEndPosition(ne.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(ne.endLineNumber-1))),ne.isEmpty()?null:ne)).filter(ne=>!!ne),Y.length&&this._state.change({searchScope:Y},!0)}}else this._state.change({searchScope:null},!0)})),s.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new xh({label:rC+this._keybindingLabelFor(fo.CloseFindWidgetCommand),icon:jr.s_,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:Y=>{Y.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),Y.preventDefault())}})),s.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new Da(null,void 0,{label:aC,placeholder:lC,appendPreserveCaseLabel:this._keybindingLabelFor(fo.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>d1(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(Y=>this._onReplaceInputKeyDown(Y))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(Y=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(Y=>{Y.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),Y.preventDefault())})),this._replaceBtn=this._register(new xh({label:cC+this._keybindingLabelFor(fo.ReplaceOneAction),icon:Xv,onTrigger:()=>{this._controller.replace()},onKeyDown:Y=>{Y.equals(1026)&&(this._closeBtn.focus(),Y.preventDefault())}})),this._replaceAllBtn=this._register(new xh({label:dC+this._keybindingLabelFor(fo.ReplaceAllAction),icon:Jv,onTrigger:()=>{this._controller.replaceAll()}}));let r=document.createElement("div");r.className="replace-part",r.appendChild(this._replaceInput.domNode);const h=document.createElement("div");h.className="replace-actions",r.appendChild(h),h.appendChild(this._replaceBtn.domNode),h.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new xh({label:uC,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=q.w(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${Oc}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(n),this._domNode.appendChild(r),this._resizeSash=new aa.g(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let S=Oc;this._register(this._resizeSash.onDidStart(()=>{S=q.w(this._domNode)})),this._register(this._resizeSash.onDidChange(Y=>{this._resized=!0;let ne=S+Y.startX-Y.currentX;if(ne<Oc)return;const Q=parseFloat(q.Dx(this._domNode).maxWidth)||0;ne>Q||(this._domNode.style.width=`${ne}px`,this._isReplaceVisible&&(this._replaceInput.width=q.w(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const Y=q.w(this._domNode);if(Y<Oc)return;let ne=Oc;if(!this._resized||Y===Oc){const Q=this._codeEditor.getLayoutInfo();ne=Q.width-28-Q.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${ne}px`,this._isReplaceVisible&&(this._replaceInput.width=q.w(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(e!==2)}}qg.ID="editor.contrib.findWidget";class xh extends _r.${constructor(e){super(),this._opts=e;let t="button";this._opts.className&&(t=t+" "+this._opts.className),this._opts.icon&&(t=t+" "+St.kS.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=t,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,n=>{this._opts.onTrigger(),n.preventDefault()}),this.onkeydown(this._domNode,n=>{if(n.equals(10)||n.equals(3)){this._opts.onTrigger(),n.preventDefault();return}this._opts.onKeyDown&&this._opts.onKeyDown(n)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(e){this._domNode.classList.toggle("disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1}setExpanded(e){this._domNode.setAttribute("aria-expanded",String(!!e)),e?(this._domNode.classList.remove(...St.kS.asClassNameArray(u1)),this._domNode.classList.add(...St.kS.asClassNameArray(h1))):(this._domNode.classList.remove(...St.kS.asClassNameArray(h1)),this._domNode.classList.add(...St.kS.asClassNameArray(u1)))}}(0,St.Ic)((g,e)=>{const t=(bt,Gt)=>{Gt&&e.addRule(`.monaco-editor ${bt} { background-color: ${Gt}; }`)};t(".findMatch",g.getColor(Se.MUv)),t(".currentFindMatch",g.getColor(Se.nyM)),t(".findScope",g.getColor(Se.jUe));const n=g.getColor(Se.D0T);t(".find-widget",n);const s=g.getColor(Se.rh);s&&e.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${s}; }`);const r=g.getColor(Se.EiJ);r&&e.addRule(`.monaco-editor .findMatch { border: 1px ${g.type==="hc"?"dotted":"solid"} ${r}; box-sizing: border-box; }`);const h=g.getColor(Se.pnM);h&&e.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${h}; padding: 1px; box-sizing: border-box; }`);const S=g.getColor(Se.gkn);S&&e.addRule(`.monaco-editor .findScope { border: 1px ${g.type==="hc"?"dashed":"solid"} ${S}; }`);const Y=g.getColor(Se.lRK);Y&&e.addRule(`.monaco-editor .find-widget { border: 1px solid ${Y}; }`);const ne=g.getColor(Se.Hfx);ne&&e.addRule(`.monaco-editor .find-widget { color: ${ne}; }`);const Q=g.getColor(Se.Ido);Q&&e.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${Q}; }`);const he=g.getColor(Se.Ng6);if(he)e.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${he}; }`);else{const bt=g.getColor(Se.D1_);bt&&e.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${bt}; }`)}const ze=g.getColor(Se.lUq);ze&&e.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${ze} !important;
		}
	`);const Xe=g.getColor(Se.R80);Xe&&e.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${Xe}; }`)});var v1=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Fc=function(g,e){return function(t,n){e(t,n,g)}},Au=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};const pC=524288;function Rp(g,e="single",t=!1){if(!g.hasModel())return null;const n=g.getSelection();if(e==="single"&&n.startLineNumber===n.endLineNumber||e==="multiple"){if(n.isEmpty()){const s=g.getConfiguredWordAtPosition(n.getStartPosition());if(s&&t===!1)return s.word}else if(g.getModel().getValueLengthInRange(n)<pC)return g.getModel().getValueInRange(n)}return null}let Ua=class Tv extends lt.JT{constructor(e,t,n,s){super(),this._editor=e,this._findWidgetVisible=Yd.bindTo(t),this._contextKeyService=t,this._storageService=n,this._clipboardService=s,this._updateHistoryDelayer=new Ht.vp(500),this._state=this._register(new Zv),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(r=>this._onStateChanged(r))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let r=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),r&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(35).loop})}))}get editor(){return this._editor}static get(e){return e.getContribution(Tv.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!Kg.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let e=this._editor.getSelections();e.map(t=>(t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._editor.getModel().getLineMaxColumn(t.endLineNumber-1))),t.isEmpty()?null:t)).filter(t=>!!t),e.length&&this._state.change({searchScope:e},!0)}}setSearchString(e){this._state.isRegex&&(e=En.ec(e)),this._state.change({searchString:e},!1)}highlightFindOptions(e=!1){}_start(e,t){return Au(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let n=Object.assign(Object.assign({},t),{isRevealed:!0});if(e.seedSearchStringFromSelection==="single"){let s=Rp(this._editor,e.seedSearchStringFromSelection,e.seedSearchStringFromNonEmptySelection);s&&(this._state.isRegex?n.searchString=En.ec(s):n.searchString=s)}else if(e.seedSearchStringFromSelection==="multiple"&&!e.updateSearchScope){let s=Rp(this._editor,e.seedSearchStringFromSelection);s&&(n.searchString=s)}if(!n.searchString&&e.seedSearchStringFromGlobalClipboard){let s=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;s&&(n.searchString=s)}if(e.forceRevealReplace||n.isReplaceRevealed?n.isReplaceRevealed=!0:this._findWidgetVisible.get()||(n.isReplaceRevealed=!1),e.updateSearchScope){let s=this._editor.getSelections();s.some(r=>!r.isEmpty())&&(n.searchScope=s)}n.loop=e.loop,this._state.change(n,!1),this._model||(this._model=new Af(this._editor,this._state))})}start(e,t){return this._start(e,t)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return Au(this,void 0,void 0,function*(){return this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(e){this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}};Ua.ID="editor.contrib.findController",Ua=v1([Fc(1,nn.i6),Fc(2,ar.Uy),Fc(3,Si.p)],Ua);let Ap=class extends Ua{constructor(e,t,n,s,r,h,S,Y){super(e,n,S,Y),this._contextViewService=t,this._keybindingService=s,this._themeService=r,this._notificationService=h,this._widget=null,this._findOptionsWidget=null}_start(e,t){const n=Object.create(null,{_start:{get:()=>super._start}});return Au(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const s=this._editor.getSelection();let r=!1;switch(this._editor.getOption(35).autoFindInSelection){case"always":r=!0;break;case"never":r=!1;break;case"multiline":{r=!!s&&s.startLineNumber!==s.endLineNumber;break}default:break}e.updateSearchScope=e.updateSearchScope||r,yield n._start.call(this,e,t),this._widget&&(e.shouldFocus===2?this._widget.focusReplaceInput():e.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(e=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!e?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new qg(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new Xg(this._editor,this._state,this._keybindingService,this._themeService))}};Ap=v1([Fc(1,p.u),Fc(2,nn.i6),Fc(3,F.d),Fc(4,St.XE),Fc(5,zi.lT),Fc(6,ar.Uy),Fc(7,Si.p)],Ap),(0,Pe.rn)(new Pe.jY({id:fo.StartFindAction,label:Le.N("startFindAction","Find"),alias:"Find",precondition:nn.Ao.or(vt.u.focus,nn.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:Ve.eH.MenubarEditMenu,group:"3_find",title:Le.N({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}})).addImplementation(0,(g,e,t)=>{const n=Ua.get(e);return n?n.start({forceRevealReplace:!1,seedSearchStringFromSelection:e.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:e.getOption(35).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(35).loop}):!1});const _C={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:Le.N("actions.find.isRegexOverride",`Overrides "Use Regular Expression" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:Le.N("actions.find.wholeWordOverride",`Overrides "Match Whole Word" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:Le.N("actions.find.matchCaseOverride",`Overrides "Math Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:Le.N("actions.find.preserveCaseOverride",`Overrides "Preserve Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},findInSelection:{type:"boolean"}}}}]};class vC extends Pe.R6{constructor(){super({id:fo.StartFindWithArgs,label:Le.N("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:_C})}run(e,t,n){return Au(this,void 0,void 0,function*(){const s=Ua.get(t);if(s){const r=n?{searchString:n.searchString,replaceString:n.replaceString,isReplaceRevealed:n.replaceString!==void 0,isRegex:n.isRegex,wholeWord:n.matchWholeWord,matchCase:n.isCaseSensitive,preserveCase:n.preserveCase}:{};yield s.start({forceRevealReplace:!1,seedSearchStringFromSelection:s.getState().searchString.length===0&&t.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(n==null?void 0:n.findInSelection)||!1,loop:t.getOption(35).loop},r),s.setGlobalBufferTerm(s.getState().searchString)}})}}class CC extends Pe.R6{constructor(){super({id:fo.StartFindWithSelection,label:Le.N("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(e,t){return Au(this,void 0,void 0,function*(){const n=Ua.get(t);n&&(yield n.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop}),n.setGlobalBufferTerm(n.getState().searchString))})}}class C1 extends Pe.R6{run(e,t){return Au(this,void 0,void 0,function*(){const n=Ua.get(t);n&&!this._run(n)&&(yield n.start({forceRevealReplace:!1,seedSearchStringFromSelection:n.getState().searchString.length===0&&t.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop}),this._run(n))})}}class bC extends C1{constructor(){super({id:fo.NextMatchFindAction,label:Le.N("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:vt.u.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:nn.Ao.and(vt.u.focus,Kg),primary:3,weight:100}]})}_run(e){return e.moveToNextMatch()?(e.editor.pushUndoStop(),!0):!1}}class wC extends C1{constructor(){super({id:fo.PreviousMatchFindAction,label:Le.N("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:vt.u.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:nn.Ao.and(vt.u.focus,Kg),primary:1027,weight:100}]})}_run(e){return e.moveToPrevMatch()}}class b1 extends Pe.R6{run(e,t){return Au(this,void 0,void 0,function*(){const n=Ua.get(t);if(!n)return;const s=t.getOption(35).seedSearchStringFromSelection==="selection";let r=null;t.getOption(35).seedSearchStringFromSelection!=="never"&&(r=Rp(t,"single",s)),r&&n.setSearchString(r),this._run(n)||(yield n.start({forceRevealReplace:!1,seedSearchStringFromSelection:t.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:s,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop}),this._run(n))})}}class yC extends b1{constructor(){super({id:fo.NextSelectionMatchFindAction,label:Le.N("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:2109,weight:100}})}_run(e){return e.moveToNextMatch()}}class SC extends b1{constructor(){super({id:fo.PreviousSelectionMatchFindAction,label:Le.N("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:3133,weight:100}})}_run(e){return e.moveToPrevMatch()}}(0,Pe.rn)(new Pe.jY({id:fo.StartFindReplaceAction,label:Le.N("startReplace","Replace"),alias:"Replace",precondition:nn.Ao.or(vt.u.focus,nn.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:Ve.eH.MenubarEditMenu,group:"3_find",title:Le.N({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}})).addImplementation(0,(g,e,t)=>{if(!e.hasModel()||e.getOption(81))return!1;const n=Ua.get(e);if(!n)return!1;const s=e.getSelection(),r=n.isFindInputFocused(),h=!s.isEmpty()&&s.startLineNumber===s.endLineNumber&&e.getOption(35).seedSearchStringFromSelection!=="never"&&!r,S=r||h?2:1;return n.start({forceRevealReplace:!0,seedSearchStringFromSelection:h?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:e.getOption(35).seedSearchStringFromSelection!=="never",shouldFocus:S,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(35).loop})}),(0,Pe._K)(Ua.ID,Ap),(0,Pe.Qr)(vC),(0,Pe.Qr)(CC),(0,Pe.Qr)(bC),(0,Pe.Qr)(wC),(0,Pe.Qr)(yC),(0,Pe.Qr)(SC);const ac=Pe._l.bindToContribution(Ua.get);(0,Pe.fK)(new ac({id:fo.CloseFindWidgetCommand,precondition:Yd,handler:g=>g.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:nn.Ao.and(vt.u.focus,nn.Ao.not("isComposing")),primary:9,secondary:[1033]}})),(0,Pe.fK)(new ac({id:fo.ToggleCaseSensitiveCommand,precondition:void 0,handler:g=>g.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:vt.u.focus,primary:$g.primary,mac:$g.mac,win:$g.win,linux:$g.linux}})),(0,Pe.fK)(new ac({id:fo.ToggleWholeWordCommand,precondition:void 0,handler:g=>g.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:vt.u.focus,primary:Gg.primary,mac:Gg.mac,win:Gg.win,linux:Gg.linux}})),(0,Pe.fK)(new ac({id:fo.ToggleRegexCommand,precondition:void 0,handler:g=>g.toggleRegex(),kbOpts:{weight:100+5,kbExpr:vt.u.focus,primary:Zg.primary,mac:Zg.mac,win:Zg.win,linux:Zg.linux}})),(0,Pe.fK)(new ac({id:fo.ToggleSearchScopeCommand,precondition:void 0,handler:g=>g.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:vt.u.focus,primary:Yg.primary,mac:Yg.mac,win:Yg.win,linux:Yg.linux}})),(0,Pe.fK)(new ac({id:fo.TogglePreserveCaseCommand,precondition:void 0,handler:g=>g.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:vt.u.focus,primary:Qg.primary,mac:Qg.mac,win:Qg.win,linux:Qg.linux}})),(0,Pe.fK)(new ac({id:fo.ReplaceOneAction,precondition:Yd,handler:g=>g.replace(),kbOpts:{weight:100+5,kbExpr:vt.u.focus,primary:3094}})),(0,Pe.fK)(new ac({id:fo.ReplaceOneAction,precondition:Yd,handler:g=>g.replace(),kbOpts:{weight:100+5,kbExpr:nn.Ao.and(vt.u.focus,Mp),primary:3}})),(0,Pe.fK)(new ac({id:fo.ReplaceAllAction,precondition:Yd,handler:g=>g.replaceAll(),kbOpts:{weight:100+5,kbExpr:vt.u.focus,primary:2563}})),(0,Pe.fK)(new ac({id:fo.ReplaceAllAction,precondition:Yd,handler:g=>g.replaceAll(),kbOpts:{weight:100+5,kbExpr:nn.Ao.and(vt.u.focus,Mp),primary:void 0,mac:{primary:2051}}})),(0,Pe.fK)(new ac({id:fo.SelectAllMatchesAction,precondition:Yd,handler:g=>g.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:vt.u.focus,primary:515}}));const w1=65535,gd=16777215,y1=4278190080;class Of{constructor(e,t,n){if(e.length!==t.length||e.length>w1)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new Uint32Array(Math.ceil(e.length/32)),this._types=n,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let e=[],t=(n,s)=>{let r=e[e.length-1];return this.getStartLineNumber(r)<=n&&this.getEndLineNumber(r)>=s};for(let n=0,s=this._startIndexes.length;n<s;n++){let r=this._startIndexes[n],h=this._endIndexes[n];if(r>gd||h>gd)throw new Error("startLineNumber or endLineNumber must not exceed "+gd);for(;e.length>0&&!t(r,h);)e.pop();let S=e.length>0?e[e.length-1]:-1;e.push(n),this._startIndexes[n]=r+((S&255)<<24),this._endIndexes[n]=h+((S&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(e){return this._startIndexes[e]&gd}getEndLineNumber(e){return this._endIndexes[e]&gd}getType(e){return this._types?this._types[e]:void 0}hasTypes(){return!!this._types}isCollapsed(e){let t=e/32|0,n=e%32;return(this._collapseStates[t]&1<<n)!==0}setCollapsed(e,t){let n=e/32|0,s=e%32,r=this._collapseStates[n];t?this._collapseStates[n]=r|1<<s:this._collapseStates[n]=r&~(1<<s)}setCollapsedAllOfType(e,t){let n=!1;if(this._types)for(let s=0;s<this._types.length;s++)this._types[s]===e&&(this.setCollapsed(s,t),n=!0);return n}toRegion(e){return new LC(this,e)}getParentIndex(e){this.ensureParentIndices();let t=((this._startIndexes[e]&y1)>>>24)+((this._endIndexes[e]&y1)>>>16);return t===w1?-1:t}contains(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t}findIndex(e){let t=0,n=this._startIndexes.length;if(n===0)return-1;for(;t<n;){let s=Math.floor((t+n)/2);e<this.getStartLineNumber(s)?n=s:t=s+1}return t-1}findRange(e){let t=this.findIndex(e);if(t>=0){if(this.getEndLineNumber(t)>=e)return t;for(t=this.getParentIndex(t);t!==-1;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1}toString(){let e=[];for(let t=0;t<this.length;t++)e[t]=`[${this.isCollapsed(t)?"+":"-"}] ${this.getStartLineNumber(t)}/${this.getEndLineNumber(t)}`;return e.join(", ")}}class LC{constructor(e,t){this.ranges=e,this.index=t}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber}containsLine(e){return this.startLineNumber<=e&&e<=this.endLineNumber}}class EC{constructor(e,t){this._updateEventEmitter=new wt.Q5,this.onDidChange=this._updateEventEmitter.event,this._textModel=e,this._decorationProvider=t,this._regions=new Of(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(e){if(!e.length)return;e=e.sort((n,s)=>n.regionIndex-s.regionIndex);const t={};this._decorationProvider.changeDecorations(n=>{let s=0,r=-1,h=-1;const S=Y=>{for(;s<Y;){const ne=this._regions.getEndLineNumber(s),Q=this._regions.isCollapsed(s);ne<=r&&n.changeDecorationOptions(this._editorDecorationIds[s],this._decorationProvider.getDecorationOption(Q,ne<=h)),Q&&ne>h&&(h=ne),s++}};for(let Y of e){let ne=Y.regionIndex,Q=this._editorDecorationIds[ne];if(Q&&!t[Q]){t[Q]=!0,S(ne);let he=!this._regions.isCollapsed(ne);this._regions.setCollapsed(ne,he),r=Math.max(r,this._regions.getEndLineNumber(ne))}}S(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}update(e,t=[]){let n=[],s=(he,ze)=>{for(let Xe of t)if(he<Xe&&Xe<=ze)return!0;return!1},r=-1,h=(he,ze)=>{const Xe=e.getStartLineNumber(he),bt=e.getEndLineNumber(he);ze||(ze=e.isCollapsed(he)),ze&&s(Xe,bt)&&(ze=!1),e.setCollapsed(he,ze);const Gt=this._textModel.getLineMaxColumn(Xe),fn={startLineNumber:Xe,startColumn:Math.max(Gt-1,1),endLineNumber:Xe,endColumn:Gt};n.push({range:fn,options:this._decorationProvider.getDecorationOption(ze,bt<=r)}),ze&&bt>r&&(r=bt)},S=0,Y=()=>{for(;S<this._regions.length;){let he=this._regions.isCollapsed(S);if(S++,he)return S-1}return-1},ne=0,Q=Y();for(;Q!==-1&&ne<e.length;){let he=this._textModel.getDecorationRange(this._editorDecorationIds[Q]);if(he){let ze=he.startLineNumber;if(he.startColumn===Math.max(he.endColumn-1,1)&&this._textModel.getLineMaxColumn(ze)===he.endColumn)for(;ne<e.length;){let Xe=e.getStartLineNumber(ne);if(ze>=Xe)h(ne,ze===Xe),ne++;else break}}Q=Y()}for(;ne<e.length;)h(ne,!1),ne++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,n),this._regions=e,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let e=[];for(let t=0;t<this._regions.length;t++)if(this._regions.isCollapsed(t)){let n=this._textModel.getDecorationRange(this._editorDecorationIds[t]);if(n){let s=n.startLineNumber,r=n.endLineNumber+this._regions.getEndLineNumber(t)-this._regions.getStartLineNumber(t);e.push({startLineNumber:s,endLineNumber:r})}}if(e.length>0)return e}applyMemento(e){if(!Array.isArray(e))return;let t=[];for(let n of e){let s=this.getRegionAtLine(n.startLineNumber);s&&!s.isCollapsed&&t.push(s)}this.toggleCollapseState(t)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(e,t){let n=[];if(this._regions){let s=this._regions.findRange(e),r=1;for(;s>=0;){let h=this._regions.toRegion(s);(!t||t(h,r))&&n.push(h),r++,s=h.parentIndex}}return n}getRegionAtLine(e){if(this._regions){let t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null}getRegionsInside(e,t){let n=[],s=e?e.regionIndex+1:0,r=e?e.endLineNumber:Number.MAX_VALUE;if(t&&t.length===2){const h=[];for(let S=s,Y=this._regions.length;S<Y;S++){let ne=this._regions.toRegion(S);if(this._regions.getStartLineNumber(S)<r){for(;h.length>0&&!ne.containedBy(h[h.length-1]);)h.pop();h.push(ne),t(ne,h.length)&&n.push(ne)}else break}}else for(let h=s,S=this._regions.length;h<S;h++){let Y=this._regions.toRegion(h);if(this._regions.getStartLineNumber(h)<r)(!t||t(Y))&&n.push(Y);else break}return n}}function DC(g,e,t){let n=[];for(let s of t){let r=g.getRegionAtLine(s);if(r){const h=!r.isCollapsed;if(n.push(r),e>1){let S=g.getRegionsInside(r,(Y,ne)=>Y.isCollapsed!==h&&ne<e);n.push(...S)}}}g.toggleCollapseState(n)}function Nh(g,e,t=Number.MAX_VALUE,n){let s=[];if(n&&n.length>0)for(let r of n){let h=g.getRegionAtLine(r);if(h&&(h.isCollapsed!==e&&s.push(h),t>1)){let S=g.getRegionsInside(h,(Y,ne)=>Y.isCollapsed!==e&&ne<t);s.push(...S)}}else{let r=g.getRegionsInside(null,(h,S)=>h.isCollapsed!==e&&S<t);s.push(...r)}g.toggleCollapseState(s)}function S1(g,e,t,n){let s=[];for(let r of n){let h=g.getAllRegionsAtLine(r,(S,Y)=>S.isCollapsed!==e&&Y<=t);s.push(...h)}g.toggleCollapseState(s)}function xC(g,e,t){let n=[];for(let s of t){let r=g.getAllRegionsAtLine(s,h=>h.isCollapsed!==e);r.length>0&&n.push(r[0])}g.toggleCollapseState(n)}function NC(g,e,t,n){let s=(h,S)=>S===e&&h.isCollapsed!==t&&!n.some(Y=>h.containsLine(Y)),r=g.getRegionsInside(null,s);g.toggleCollapseState(r)}function L1(g,e,t){let n=[];for(let h of t){const S=g.getAllRegionsAtLine(h,void 0);S.length>0&&n.push(S[0])}let s=h=>n.every(S=>!S.containedBy(h)&&!h.containedBy(S))&&h.isCollapsed!==e,r=g.getRegionsInside(null,s);g.toggleCollapseState(r)}function Pp(g,e,t){let n=g.textModel,s=g.regions,r=[];for(let h=s.length-1;h>=0;h--)if(t!==s.isCollapsed(h)){let S=s.getStartLineNumber(h);e.test(n.getLineContent(S))&&r.push(s.toRegion(h))}g.toggleCollapseState(r)}function Op(g,e,t){let n=g.regions,s=[];for(let r=n.length-1;r>=0;r--)t!==n.isCollapsed(r)&&e===n.getType(r)&&s.push(n.toRegion(r));g.toggleCollapseState(s)}function IC(g,e){let t=null,n=e.getRegionAtLine(g);if(n!==null&&(t=n.startLineNumber,g===t)){let s=n.parentIndex;s!==-1?t=e.regions.getStartLineNumber(s):t=null}return t}function TC(g,e){let t=e.getRegionAtLine(g);if(t!==null&&t.startLineNumber===g){if(g!==t.startLineNumber)return t.startLineNumber;{let n=t.parentIndex,s=0;for(n!==-1&&(s=e.regions.getStartLineNumber(t.parentIndex));t!==null;)if(t.regionIndex>0){if(t=e.regions.toRegion(t.regionIndex-1),t.startLineNumber<=s)return null;if(t.parentIndex===n)return t.startLineNumber}else return null}}else if(e.regions.length>0)for(t=e.regions.toRegion(e.regions.length-1);t!==null;){if(t.startLineNumber<g)return t.startLineNumber;t.regionIndex>0?t=e.regions.toRegion(t.regionIndex-1):t=null}return null}function MC(g,e){let t=e.getRegionAtLine(g);if(t!==null&&t.startLineNumber===g){let n=t.parentIndex,s=0;if(n!==-1)s=e.regions.getEndLineNumber(t.parentIndex);else{if(e.regions.length===0)return null;s=e.regions.getEndLineNumber(e.regions.length-1)}for(;t!==null;)if(t.regionIndex<e.regions.length){if(t=e.regions.toRegion(t.regionIndex+1),t.startLineNumber>=s)return null;if(t.parentIndex===n)return t.startLineNumber}else return null}else if(e.regions.length>0)for(t=e.regions.toRegion(0);t!==null;){if(t.startLineNumber>g)return t.startLineNumber;t.regionIndex<e.regions.length?t=e.regions.toRegion(t.regionIndex+1):t=null}return null}var kC=l(41924);class RC{constructor(e){this._updateEventEmitter=new wt.Q5,this._hasLineChanges=!1,this._foldingModel=e,this._foldingModelListener=e.onDidChange(t=>this.updateHiddenRanges()),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}notifyChangeModelContent(e){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=e.changes.some(t=>t.range.endLineNumber!==t.range.startLineNumber||(0,kC.Q)(t.text)[0]!==0))}updateHiddenRanges(){let e=!1,t=[],n=0,s=0,r=Number.MAX_VALUE,h=-1,S=this._foldingModel.regions;for(;n<S.length;n++){if(!S.isCollapsed(n))continue;let Y=S.getStartLineNumber(n)+1,ne=S.getEndLineNumber(n);r<=Y&&ne<=h||(!e&&s<this._hiddenRanges.length&&this._hiddenRanges[s].startLineNumber===Y&&this._hiddenRanges[s].endLineNumber===ne?(t.push(this._hiddenRanges[s]),s++):(e=!0,t.push(new Ue.e(Y,1,ne,1))),r=Y,h=ne)}(this._hasLineChanges||e||s<this._hiddenRanges.length)&&this.applyHiddenRanges(t)}applyMemento(e){if(!Array.isArray(e)||e.length===0)return!1;let t=[];for(let n of e){if(!n.startLineNumber||!n.endLineNumber)return!1;t.push(new Ue.e(n.startLineNumber+1,1,n.endLineNumber,1))}return this.applyHiddenRanges(t),!0}getMemento(){return this._hiddenRanges.map(e=>({startLineNumber:e.startLineNumber-1,endLineNumber:e.endLineNumber}))}applyHiddenRanges(e){this._hiddenRanges=e,this._hasLineChanges=!1,this._updateEventEmitter.fire(e)}hasRanges(){return this._hiddenRanges.length>0}isHidden(e){return E1(this._hiddenRanges,e)!==null}adjustSelections(e){let t=!1,n=this._foldingModel.textModel,s=null,r=h=>((!s||!AC(h,s))&&(s=E1(this._hiddenRanges,h)),s?s.startLineNumber-1:null);for(let h=0,S=e.length;h<S;h++){let Y=e[h],ne=r(Y.startLineNumber);ne&&(Y=Y.setStartPosition(ne,n.getLineMaxColumn(ne)),t=!0);let Q=r(Y.endLineNumber);Q&&(Y=Y.setEndPosition(Q,n.getLineMaxColumn(Q)),t=!0),e[h]=Y}return t}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function AC(g,e){return g>=e.startLineNumber&&g<=e.endLineNumber}function E1(g,e){let t=(0,ki.lG)(g,n=>e<n.startLineNumber)-1;return t>=0&&g[t].endLineNumber>=e?g[t]:null}const PC=5e3,OC="indent";class FC{constructor(e,t,n){this.editorModel=e,this.languageConfigurationService=t,this.maxFoldingRegions=n,this.id=OC}dispose(){}compute(e,t){let n=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,s=n&&!!n.offSide,r=n&&n.markers;return Promise.resolve(WC(this.editorModel,s,r,this.maxFoldingRegions,t))}}class BC{constructor(e,t){this._notifyTooManyRegions=t,this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}insertFirst(e,t,n){if(e>gd||t>gd)return;let s=this._length;this._startIndexes[s]=e,this._endIndexes[s]=t,this._length++,n<1e3&&(this._indentOccurrences[n]=(this._indentOccurrences[n]||0)+1)}toIndentRanges(e){if(this._length<=this._foldingRangesLimit){let t=new Uint32Array(this._length),n=new Uint32Array(this._length);for(let s=this._length-1,r=0;s>=0;s--,r++)t[r]=this._startIndexes[s],n[r]=this._endIndexes[s];return new Of(t,n)}else{this._notifyTooManyRegions&&this._notifyTooManyRegions(this._foldingRangesLimit);let t=0,n=this._indentOccurrences.length;for(let S=0;S<this._indentOccurrences.length;S++){let Y=this._indentOccurrences[S];if(Y){if(Y+t>this._foldingRangesLimit){n=S;break}t+=Y}}const s=e.getOptions().tabSize;let r=new Uint32Array(this._foldingRangesLimit),h=new Uint32Array(this._foldingRangesLimit);for(let S=this._length-1,Y=0;S>=0;S--){let ne=this._startIndexes[S],Q=e.getLineContent(ne),he=(0,_n.q)(Q,s);(he<n||he===n&&t++<this._foldingRangesLimit)&&(r[Y]=ne,h[Y]=this._endIndexes[S],Y++)}return new Of(r,h)}}}function WC(g,e,t,n,s){const r=g.getOptions().tabSize;n=n!=null?n:PC;let h=new BC(n,s),S;t&&(S=new RegExp(`(${t.start.source})|(?:${t.end.source})`));let Y=[],ne=g.getLineCount()+1;Y.push({indent:-1,endAbove:ne,line:ne});for(let Q=g.getLineCount();Q>0;Q--){let he=g.getLineContent(Q),ze=(0,_n.q)(he,r),Xe=Y[Y.length-1];if(ze===-1){e&&(Xe.endAbove=Q);continue}let bt;if(S&&(bt=he.match(S)))if(bt[1]){let Gt=Y.length-1;for(;Gt>0&&Y[Gt].indent!==-2;)Gt--;if(Gt>0){Y.length=Gt+1,Xe=Y[Gt],h.insertFirst(Q,Xe.line,ze),Xe.line=Q,Xe.indent=ze,Xe.endAbove=Q;continue}}else{Y.push({indent:-2,endAbove:Q,line:Q});continue}if(Xe.indent>ze){do Y.pop(),Xe=Y[Y.length-1];while(Xe.indent>ze);let Gt=Xe.endAbove-1;Gt-Q>=1&&h.insertFirst(Q,Gt,ze)}Xe.indent===ze?Xe.endAbove=Q:Y.push({indent:ze,endAbove:Q,line:Q})}return h.toIndentRanges(g)}const VC={},D1="syntax";class HC{constructor(e,t,n,s){this.editorModel=e,this.providers=t,this.limit=s,this.id=D1;for(const r of t)typeof r.onDidChange=="function"&&(this.disposables||(this.disposables=new lt.SL),this.disposables.add(r.onDidChange(n)))}compute(e,t){return zC(this.providers,this.editorModel,e).then(n=>n?x1(n,this.limit,t):null)}dispose(){var e;(e=this.disposables)===null||e===void 0||e.dispose()}}function zC(g,e,t){let n=null,s=g.map((r,h)=>Promise.resolve(r.provideFoldingRanges(e,VC,t)).then(S=>{if(!t.isCancellationRequested&&Array.isArray(S)){Array.isArray(n)||(n=[]);let Y=e.getLineCount();for(let ne of S)ne.start>0&&ne.end>ne.start&&ne.end<=Y&&n.push({start:ne.start,end:ne.end,rank:h,kind:ne.kind})}},ui.Cp));return Promise.all(s).then(r=>n)}class UC{constructor(e,t){this._notifyTooManyRegions=t,this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}add(e,t,n,s){if(e>gd||t>gd)return;let r=this._length;this._startIndexes[r]=e,this._endIndexes[r]=t,this._nestingLevels[r]=s,this._types[r]=n,this._length++,s<30&&(this._nestingLevelCounts[s]=(this._nestingLevelCounts[s]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let e=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let n=0;n<this._length;n++)e[n]=this._startIndexes[n],t[n]=this._endIndexes[n];return new Of(e,t,this._types)}else{this._notifyTooManyRegions&&this._notifyTooManyRegions(this._foldingRangesLimit);let e=0,t=this._nestingLevelCounts.length;for(let h=0;h<this._nestingLevelCounts.length;h++){let S=this._nestingLevelCounts[h];if(S){if(S+e>this._foldingRangesLimit){t=h;break}e+=S}}let n=new Uint32Array(this._foldingRangesLimit),s=new Uint32Array(this._foldingRangesLimit),r=[];for(let h=0,S=0;h<this._length;h++){let Y=this._nestingLevels[h];(Y<t||Y===t&&e++<this._foldingRangesLimit)&&(n[S]=this._startIndexes[h],s[S]=this._endIndexes[h],r[S]=this._types[h],S++)}return new Of(n,s,r)}}}function x1(g,e,t){let n=g.sort((S,Y)=>{let ne=S.start-Y.start;return ne===0&&(ne=S.rank-Y.rank),ne}),s=new UC(e,t),r,h=[];for(let S of n)if(!r)r=S,s.add(S.start,S.end,S.kind&&S.kind.value,h.length);else if(S.start>r.start)if(S.end<=r.end)h.push(r),r=S,s.add(S.start,S.end,S.kind&&S.kind.value,h.length);else{if(S.start>r.end){do r=h.pop();while(r&&S.start>r.end);r&&h.push(r),r=S}s.add(S.start,S.end,S.kind&&S.kind.value,h.length)}return s.toIndentRanges()}const N1="init";class jC{constructor(e,t,n,s){if(this.editorModel=e,this.id=N1,t.length){let r=h=>({range:{startLineNumber:h.startLineNumber,startColumn:0,endLineNumber:h.endLineNumber,endColumn:e.getLineLength(h.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}});this.decorationIds=e.deltaDecorations([],t.map(r)),this.timeout=setTimeout(n,s)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout=="number"&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(e){let t=[];if(this.decorationIds)for(let n of this.decorationIds){let s=this.editorModel.getDecorationRange(n);s&&t.push({start:s.startLineNumber,end:s.endLineNumber,rank:1})}return Promise.resolve(x1(t,Number.MAX_VALUE))}}const Fp=(0,jr.q5)("folding-expanded",ft.lA.chevronDown,(0,Le.N)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),Bp=(0,jr.q5)("folding-collapsed",ft.lA.chevronRight,(0,Le.N)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin."));class Wl{constructor(e){this.editor=e,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(e,t){return t?Wl.HIDDEN_RANGE_DECORATION:e?this.showFoldingHighlights?Wl.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:Wl.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?Wl.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:Wl.EXPANDED_VISUAL_DECORATION}deltaDecorations(e,t){return this.editor.deltaDecorations(e,t)}changeDecorations(e){return this.editor.changeDecorations(e)}}Wl.COLLAPSED_VISUAL_DECORATION=Lt.qx.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:St.kS.asClassName(Bp)}),Wl.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=Lt.qx.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:St.kS.asClassName(Bp)}),Wl.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=Lt.qx.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:St.kS.asClassName(Fp)}),Wl.EXPANDED_VISUAL_DECORATION=Lt.qx.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+St.kS.asClassName(Fp)}),Wl.HIDDEN_RANGE_DECORATION=Lt.qx.register({description:"folding-hidden-range-decoration",stickiness:1});var KC=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Ff=function(g,e){return function(t,n){e(t,n,g)}};const ma=new nn.uy("foldingEnabled",!1);let Ih=class Mv extends lt.JT{constructor(e,t,n,s,r,h){super(),this.contextKeyService=t,this.languageConfigurationService=n,this.languageFeaturesService=h,this._tooManyRegionsNotified=!1,this.localToDispose=this._register(new lt.SL),this.editor=e;const S=this.editor.getOptions();this._isEnabled=S.get(37),this._useFoldingProviders=S.get(38)!=="indentation",this._unfoldOnClickAfterEndOfLine=S.get(42),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=S.get(40),this._maxFoldingRegions=S.get(41),this.updateDebounceInfo=r.for(h.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new Wl(e),this.foldingDecorationProvider.autoHideFoldingControls=S.get(99)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=S.get(39),this.foldingEnabled=ma.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._notifyTooManyRegions=Y=>{this._tooManyRegionsNotified||(s.notify({severity:Kd.Z.Warning,sticky:!0,message:Le.N("maximum fold ranges",`The number of foldable regions is limited to a maximum of {0}. Increase configuration option ['Folding Maximum Regions'](command:workbench.action.openSettings?["editor.foldingMaximumRegions"]) to enable more.`,Y)}),this._tooManyRegionsNotified=!0)},this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(Y=>{if(Y.hasChanged(37)&&(this._isEnabled=this.editor.getOptions().get(37),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),Y.hasChanged(41)&&(this._maxFoldingRegions=this.editor.getOptions().get(41),this._tooManyRegionsNotified=!1,this.onModelChanged()),Y.hasChanged(99)||Y.hasChanged(39)){const ne=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls=ne.get(99)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=ne.get(39),this.triggerFoldingModelChanged()}Y.hasChanged(38)&&(this._useFoldingProviders=this.editor.getOptions().get(38)!=="indentation",this.onFoldingStrategyChanged()),Y.hasChanged(42)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(42)),Y.hasChanged(40)&&(this._foldingImportsByDefault=this.editor.getOptions().get(40))})),this.onModelChanged()}static get(e){return e.getContribution(Mv.ID)}saveViewState(){let e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){let t=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),n=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:n,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(e){let t=this.editor.getModel();if(!t||!this._isEnabled||t.isTooLargeForTokenization()||!this.hiddenRangeModel||!e||e.lineCount!==t.getLineCount()||(this._currentModelHasFoldedImports=!!e.foldedImports,!e.collapsedRegions))return;(e.provider===D1||e.provider===N1)&&(this.foldingStateMemento=e);const n=e.collapsedRegions;if(this.hiddenRangeModel.applyMemento(n)){const s=this.getFoldingModel();s&&s.then(r=>{if(r){this._restoringViewState=!0;try{r.applyMemento(n)}finally{this._restoringViewState=!1}}}).then(void 0,ui.dL)}}onModelChanged(){this.localToDispose.clear();let e=this.editor.getModel();!this._isEnabled||!e||e.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new EC(e,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new RC(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(t=>this.onHiddenRangesChanges(t))),this.updateScheduler=new Ht.vp(this.updateDebounceInfo.get(e)),this.cursorChangedScheduler=new Ht.pY(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(t=>this.onDidChangeModelContent(t))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(t=>this.onEditorMouseDown(t))),this.localToDispose.add(this.editor.onMouseUp(t=>this.onEditorMouseUp(t))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(e){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new FC(e,this.languageConfigurationService,this._maxFoldingRegions),this._useFoldingProviders&&this.foldingModel){let t=this.languageFeaturesService.foldingRangeProvider.ordered(this.foldingModel.textModel);if(t.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new jC(e,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);t.length>0&&(this.rangeProvider=new HC(e,t,()=>this.triggerFoldingModelChanged(),this._maxFoldingRegions))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(e){var t;(t=this.hiddenRangeModel)===null||t===void 0||t.notifyChangeModelContent(e),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const e=this.foldingModel;if(!e)return null;const t=new Ji.G(!0),n=this.getRangeProvider(e.textModel);let s=this.foldingRegionPromise=(0,Ht.PG)(r=>n.compute(r,this._notifyTooManyRegions));return s.then(r=>{if(r&&s===this.foldingRegionPromise){let h;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const Q=r.setCollapsedAllOfType(qe.AD.Imports.value,!0);Q&&(h=Pa.Z.capture(this.editor),this._currentModelHasFoldedImports=Q)}let S=this.editor.getSelections(),Y=S?S.map(Q=>Q.startLineNumber):[];e.update(r,Y),h&&h.restore(this.editor);const ne=this.updateDebounceInfo.update(e.textModel,t.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=ne)}return e})}).then(void 0,e=>((0,ui.dL)(e),null)))}onHiddenRangesChanges(e){if(this.hiddenRangeModel&&e.length&&!this._restoringViewState){let t=this.editor.getSelections();t&&this.hiddenRangeModel.adjustSelections(t)&&this.editor.setSelections(t)}this.editor.setHiddenAreas(e)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const e=this.getFoldingModel();!e||e.then(t=>{if(t){let n=this.editor.getSelections();if(n&&n.length>0){let s=[];for(let r of n){let h=r.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(h)&&s.push(...t.getAllRegionsAtLine(h,S=>S.isCollapsed&&h>S.startLineNumber))}s.length&&(t.toggleCollapseState(s),this.reveal(n[0].getPosition()))}}}).then(void 0,ui.dL)}onEditorMouseDown(e){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!e.target||!e.target.range||!e.event.leftButton&&!e.event.middleButton)return;const t=e.target.range;let n=!1;switch(e.target.type){case 4:{const s=e.target.detail,r=e.target.element.offsetLeft;if(s.offsetX-r<5)return;n=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!e.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){let s=this.editor.getModel();if(s&&t.startColumn===s.getLineMaxColumn(t.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:n}}onEditorMouseUp(e){const t=this.getFoldingModel();if(!t||!this.mouseDownInfo||!e.target)return;let n=this.mouseDownInfo.lineNumber,s=this.mouseDownInfo.iconClicked,r=e.target.range;if(!(!r||r.startLineNumber!==n)){if(s){if(e.target.type!==4)return}else{let h=this.editor.getModel();if(!h||r.startColumn!==h.getLineMaxColumn(n))return}t.then(h=>{if(h){let S=h.getRegionAtLine(n);if(S&&S.startLineNumber===n){let Y=S.isCollapsed;if(s||Y){let ne=e.event.altKey,Q=[];if(ne){let he=Xe=>!Xe.containedBy(S)&&!S.containedBy(Xe),ze=h.getRegionsInside(null,he);for(const Xe of ze)Xe.isCollapsed&&Q.push(Xe);Q.length===0&&(Q=ze)}else{let he=e.event.middleButton||e.event.shiftKey;if(he)for(const ze of h.getRegionsInside(S))ze.isCollapsed===Y&&Q.push(ze);(Y||!he||Q.length===0)&&Q.push(S)}h.toggleCollapseState(Q),this.reveal({lineNumber:n,column:1})}}}}).then(void 0,ui.dL)}}reveal(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)}};Ih.ID="editor.contrib.folding",Ih=KC([Ff(1,nn.i6),Ff(2,ao.c_),Ff(3,zi.lT),Ff(4,xs.A),Ff(5,ri.p)],Ih);class Ta extends Pe.R6{runEditorCommand(e,t,n){const s=e.get(ao.c_),r=Ih.get(t);if(!r)return;const h=r.getFoldingModel();if(h)return this.reportTelemetry(e,t),h.then(S=>{if(S){this.invoke(r,S,t,n,s);const Y=t.getSelection();Y&&r.reveal(Y.getStartPosition())}})}getSelectedLines(e){let t=e.getSelections();return t?t.map(n=>n.startLineNumber):[]}getLineNumbers(e,t){return e&&e.selectionLines?e.selectionLines.map(n=>n+1):this.getSelectedLines(t)}run(e,t){}}function I1(g){if(!gs.o8(g)){if(!gs.Kn(g))return!1;const e=g;if(!gs.o8(e.levels)&&!gs.hj(e.levels)||!gs.o8(e.direction)&&!gs.HD(e.direction)||!gs.o8(e.selectionLines)&&(!gs.kJ(e.selectionLines)||!e.selectionLines.every(gs.hj)))return!1}return!0}class $C extends Ta{constructor(){super({id:"editor.unfold",label:Le.N("unfoldAction.label","Unfold"),alias:"Unfold",precondition:ma,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:I1,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,n,s){let r=s&&s.levels||1,h=this.getLineNumbers(s,n);s&&s.direction==="up"?S1(t,!1,r,h):Nh(t,!1,r,h)}}class GC extends Ta{constructor(){super({id:"editor.unfoldRecursively",label:Le.N("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:ma,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,hn.gx)(2089,2137),weight:100}})}invoke(e,t,n,s){Nh(t,!1,Number.MAX_VALUE,this.getSelectedLines(n))}}class ZC extends Ta{constructor(){super({id:"editor.fold",label:Le.N("foldAction.label","Fold"),alias:"Fold",precondition:ma,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:I1,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,n,s){let r=this.getLineNumbers(s,n);const h=s&&s.levels,S=s&&s.direction;typeof h!="number"&&typeof S!="string"?xC(t,!0,r):S==="up"?S1(t,!0,h||1,r):Nh(t,!0,h||1,r)}}class YC extends Ta{constructor(){super({id:"editor.toggleFold",label:Le.N("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:ma,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,hn.gx)(2089,2090),weight:100}})}invoke(e,t,n){let s=this.getSelectedLines(n);DC(t,1,s)}}class QC extends Ta{constructor(){super({id:"editor.foldRecursively",label:Le.N("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:ma,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,hn.gx)(2089,2135),weight:100}})}invoke(e,t,n){let s=this.getSelectedLines(n);Nh(t,!0,Number.MAX_VALUE,s)}}class XC extends Ta{constructor(){super({id:"editor.foldAllBlockComments",label:Le.N("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:ma,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,hn.gx)(2089,2133),weight:100}})}invoke(e,t,n,s,r){if(t.regions.hasTypes())Op(t,qe.AD.Comment.value,!0);else{const h=n.getModel();if(!h)return;const S=r.getLanguageConfiguration(h.getLanguageId()).comments;if(S&&S.blockCommentStartToken){let Y=new RegExp("^\\s*"+(0,En.ec)(S.blockCommentStartToken));Pp(t,Y,!0)}}}}class JC extends Ta{constructor(){super({id:"editor.foldAllMarkerRegions",label:Le.N("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:ma,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,hn.gx)(2089,2077),weight:100}})}invoke(e,t,n,s,r){if(t.regions.hasTypes())Op(t,qe.AD.Region.value,!0);else{const h=n.getModel();if(!h)return;const S=r.getLanguageConfiguration(h.getLanguageId()).foldingRules;if(S&&S.markers&&S.markers.start){let Y=new RegExp(S.markers.start);Pp(t,Y,!0)}}}}class qC extends Ta{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:Le.N("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:ma,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,hn.gx)(2089,2078),weight:100}})}invoke(e,t,n,s,r){if(t.regions.hasTypes())Op(t,qe.AD.Region.value,!1);else{const h=n.getModel();if(!h)return;const S=r.getLanguageConfiguration(h.getLanguageId()).foldingRules;if(S&&S.markers&&S.markers.start){let Y=new RegExp(S.markers.start);Pp(t,Y,!1)}}}}class eb extends Ta{constructor(){super({id:"editor.foldAllExcept",label:Le.N("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:ma,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,hn.gx)(2089,2131),weight:100}})}invoke(e,t,n){let s=this.getSelectedLines(n);L1(t,!0,s)}}class tb extends Ta{constructor(){super({id:"editor.unfoldAllExcept",label:Le.N("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:ma,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,hn.gx)(2089,2129),weight:100}})}invoke(e,t,n){let s=this.getSelectedLines(n);L1(t,!1,s)}}class nb extends Ta{constructor(){super({id:"editor.foldAll",label:Le.N("foldAllAction.label","Fold All"),alias:"Fold All",precondition:ma,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,hn.gx)(2089,2069),weight:100}})}invoke(e,t,n){Nh(t,!0)}}class ib extends Ta{constructor(){super({id:"editor.unfoldAll",label:Le.N("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:ma,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,hn.gx)(2089,2088),weight:100}})}invoke(e,t,n){Nh(t,!1)}}class Pu extends Ta{getFoldingLevel(){return parseInt(this.id.substr(Pu.ID_PREFIX.length))}invoke(e,t,n){NC(t,this.getFoldingLevel(),!0,this.getSelectedLines(n))}}Pu.ID_PREFIX="editor.foldLevel",Pu.ID=g=>Pu.ID_PREFIX+g;class sb extends Ta{constructor(){super({id:"editor.gotoParentFold",label:Le.N("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:ma,kbOpts:{kbExpr:vt.u.editorTextFocus,weight:100}})}invoke(e,t,n){let s=this.getSelectedLines(n);if(s.length>0){let r=IC(s[0],t);r!==null&&n.setSelection({startLineNumber:r,startColumn:1,endLineNumber:r,endColumn:1})}}}class ob extends Ta{constructor(){super({id:"editor.gotoPreviousFold",label:Le.N("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:ma,kbOpts:{kbExpr:vt.u.editorTextFocus,weight:100}})}invoke(e,t,n){let s=this.getSelectedLines(n);if(s.length>0){let r=TC(s[0],t);r!==null&&n.setSelection({startLineNumber:r,startColumn:1,endLineNumber:r,endColumn:1})}}}class rb extends Ta{constructor(){super({id:"editor.gotoNextFold",label:Le.N("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:ma,kbOpts:{kbExpr:vt.u.editorTextFocus,weight:100}})}invoke(e,t,n){let s=this.getSelectedLines(n);if(s.length>0){let r=MC(s[0],t);r!==null&&n.setSelection({startLineNumber:r,startColumn:1,endLineNumber:r,endColumn:1})}}}(0,Pe._K)(Ih.ID,Ih),(0,Pe.Qr)($C),(0,Pe.Qr)(GC),(0,Pe.Qr)(ZC),(0,Pe.Qr)(QC),(0,Pe.Qr)(nb),(0,Pe.Qr)(ib),(0,Pe.Qr)(XC),(0,Pe.Qr)(JC),(0,Pe.Qr)(qC),(0,Pe.Qr)(eb),(0,Pe.Qr)(tb),(0,Pe.Qr)(YC),(0,Pe.Qr)(sb),(0,Pe.Qr)(ob),(0,Pe.Qr)(rb);for(let g=1;g<=7;g++)(0,Pe.QG)(new Pu({id:Pu.ID(g),label:Le.N("foldLevelAction.label","Fold Level {0}",g),alias:`Fold Level ${g}`,precondition:ma,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,hn.gx)(2089,2048|21+g),weight:100}}));const ab=(0,Se.P6G)("editor.foldBackground",{light:(0,Se.ZnX)(Se.hEj,.3),dark:(0,Se.ZnX)(Se.hEj,.3),hc:null},Le.N("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),lb=(0,Se.P6G)("editorGutter.foldingControlForeground",{dark:Se.XZx,light:Se.XZx,hc:Se.XZx},Le.N("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));(0,St.Ic)((g,e)=>{const t=g.getColor(ab);t&&e.addRule(`.monaco-editor .folded-background { background-color: ${t}; }`);const n=g.getColor(lb);n&&e.addRule(`
		.monaco-editor .cldr${St.kS.asCSSSelector(Fp)},
		.monaco-editor .cldr${St.kS.asCSSSelector(Bp)} {
			color: ${n} !important;
		}
		`)});var Bf=l(42485);class cb extends Pe.R6{constructor(){super({id:"editor.action.fontZoomIn",label:Le.N("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(e,t){Bf.C.setZoomLevel(Bf.C.getZoomLevel()+1)}}class db extends Pe.R6{constructor(){super({id:"editor.action.fontZoomOut",label:Le.N("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(e,t){Bf.C.setZoomLevel(Bf.C.getZoomLevel()-1)}}class ub extends Pe.R6{constructor(){super({id:"editor.action.fontZoomReset",label:Le.N("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(e,t){Bf.C.setZoomLevel(0)}}(0,Pe.Qr)(cb),(0,Pe.Qr)(db),(0,Pe.Qr)(ub);var Th=l(81818),Wf=l(41136),Vf=l(29119),hb=l(51747),T1=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},em=function(g,e){return function(t,n){e(t,n,g)}},Wp=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};let Hf=class{constructor(e,t,n){this._editor=e,this._languageFeaturesService=t,this._workerService=n,this._disposables=new lt.SL,this._sessionDisposables=new lt.SL,this._disposables.add(t.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(s=>{s.hasChanged(49)&&this._update()}))}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(49)||!this._editor.hasModel())return;const e=this._editor.getModel(),[t]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(e);if(!t||!t.autoFormatTriggerCharacters)return;let n=new Th.q;for(let s of t.autoFormatTriggerCharacters)n.add(s.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(s=>{let r=s.charCodeAt(s.length-1);n.has(r)&&this._trigger(String.fromCharCode(r))}))}_trigger(e){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const t=this._editor.getModel(),n=this._editor.getPosition(),s=new bn.A,r=this._editor.onDidChangeModelContent(h=>{if(h.isFlush){s.cancel(),r.dispose();return}for(let S=0,Y=h.changes.length;S<Y;S++)if(h.changes[S].range.endLineNumber<=n.lineNumber){s.cancel(),r.dispose();return}});(0,Vf.Qs)(this._workerService,this._languageFeaturesService,t,n,e,t.getFormattingOptions(),s.token).then(h=>{s.token.isCancellationRequested||(0,ki.Of)(h)&&(hb.V.execute(this._editor,h,!0),(0,Vf.Zg)(h))}).finally(()=>{r.dispose()})}};Hf.ID="editor.contrib.autoFormat",Hf=T1([em(1,ri.p),em(2,Wf.p)],Hf);let zf=class{constructor(e,t,n){this.editor=e,this._languageFeaturesService=t,this._instantiationService=n,this._callOnDispose=new lt.SL,this._callOnModel=new lt.SL,this._callOnDispose.add(e.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(e.onDidChangeModel(()=>this._update())),this._callOnDispose.add(e.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(t.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(48)&&(!this.editor.hasModel()||!this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:e})=>this._trigger(e))))}_trigger(e){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(Vf.x$,this.editor,e,2,Os.Ex.None,bn.T.None).catch(ui.dL)}};zf.ID="editor.contrib.formatOnPaste",zf=T1([em(1,ri.p),em(2,G.TG)],zf);class fb extends Pe.R6{constructor(){super({id:"editor.action.formatDocument",label:Le.N("formatDocument.label","Format Document"),alias:"Format Document",precondition:nn.Ao.and(vt.u.notInCompositeEditor,vt.u.writable,vt.u.hasDocumentFormattingProvider),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(e,t){return Wp(this,void 0,void 0,function*(){if(t.hasModel()){const n=e.get(G.TG);yield e.get(Os.ek).showWhile(n.invokeFunction(Vf.Qq,t,1,Os.Ex.None,bn.T.None),250)}})}}class gb extends Pe.R6{constructor(){super({id:"editor.action.formatSelection",label:Le.N("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:nn.Ao.and(vt.u.writable,vt.u.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,hn.gx)(2089,2084),weight:100},contextMenuOpts:{when:vt.u.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(e,t){return Wp(this,void 0,void 0,function*(){if(!t.hasModel())return;const n=e.get(G.TG),s=t.getModel(),r=t.getSelections().map(S=>S.isEmpty()?new Ue.e(S.startLineNumber,1,S.startLineNumber,s.getLineMaxColumn(S.startLineNumber)):S);yield e.get(Os.ek).showWhile(n.invokeFunction(Vf.x$,t,r,1,Os.Ex.None,bn.T.None),250)})}}(0,Pe._K)(Hf.ID,Hf),(0,Pe._K)(zf.ID,zf),(0,Pe.Qr)(fb),(0,Pe.Qr)(gb),Ki.P0.registerCommand("editor.action.format",g=>Wp(void 0,void 0,void 0,function*(){const e=g.get(On.$).getFocusedCodeEditor();if(!e||!e.hasModel())return;const t=g.get(Ki.Hy);e.getSelection().isEmpty()?yield t.executeCommand("editor.action.formatDocument"):yield t.executeCommand("editor.action.formatSelection")}));var M1=l(80050),mb=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Vp=function(g,e){return function(t,n){e(t,n,g)}},pb=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};class Mh{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(e,t){let n;typeof e=="string"?n=`${t.id}/${e}`:(n=`${t.id}/${e.name}`,t.children.get(n)!==void 0&&(n=`${t.id}/${e.name}_${e.range.startLineNumber}_${e.range.startColumn}`));let s=n;for(let r=0;t.children.get(s)!==void 0;r++)s=`${n}_${r}`;return s}static empty(e){return e.children.size===0}}class k1 extends Mh{constructor(e,t,n){super(),this.id=e,this.parent=t,this.symbol=n,this.children=new Map}}class _b extends Mh{constructor(e,t,n,s){super(),this.id=e,this.parent=t,this.label=n,this.order=s,this.children=new Map}}class Xd extends Mh{constructor(e){super(),this.uri=e,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(e,t,n){const s=new bn.A(n),r=new Xd(t.uri),h=e.ordered(t),S=h.map((ne,Q)=>{var he;let ze=Mh.findId(`provider_${Q}`,r),Xe=new _b(ze,r,(he=ne.displayName)!==null&&he!==void 0?he:"Unknown Outline Provider",Q);return Promise.resolve(ne.provideDocumentSymbols(t,s.token)).then(bt=>{for(const Gt of bt||[])Xd._makeOutlineElement(Gt,Xe);return Xe},bt=>((0,ui.Cp)(bt),Xe)).then(bt=>{Mh.empty(bt)?bt.remove():r._groups.set(ze,bt)})}),Y=e.onDidChange(()=>{const ne=e.ordered(t);(0,ki.fS)(ne,h)||s.cancel()});return Promise.all(S).then(()=>s.token.isCancellationRequested&&!n.isCancellationRequested?Xd.create(e,t,n):r._compact()).finally(()=>{Y.dispose()})}static _makeOutlineElement(e,t){let n=Mh.findId(e,t),s=new k1(n,t,e);if(e.children)for(const r of e.children)Xd._makeOutlineElement(r,s);t.children.set(s.id,s)}_compact(){let e=0;for(const[t,n]of this._groups)n.children.size===0?this._groups.delete(t):e+=1;if(e!==1)this.children=this._groups;else{let t=M1.$.first(this._groups.values());for(let[,n]of t.children)n.parent=this,this.children.set(n.id,n)}return this}getTopLevelSymbols(){const e=[];for(const t of this.children.values())t instanceof k1?e.push(t.symbol):e.push(...M1.$.map(t.children.values(),n=>n.symbol));return e.sort((t,n)=>Ue.e.compareRangesUsingStarts(t.range,n.range))}asListOfDocumentSymbols(){const e=this.getTopLevelSymbols(),t=[];return Xd._flattenDocumentSymbols(t,e,""),t.sort((n,s)=>Cn.L.compare(Ue.e.getStartPosition(n.range),Ue.e.getStartPosition(s.range))||Cn.L.compare(Ue.e.getEndPosition(s.range),Ue.e.getEndPosition(n.range)))}static _flattenDocumentSymbols(e,t,n){for(const s of t)e.push({kind:s.kind,tags:s.tags,name:s.name,detail:s.detail,containerName:s.containerName||n,range:s.range,selectionRange:s.selectionRange,children:void 0}),s.children&&Xd._flattenDocumentSymbols(e,s.children,s.name)}}const tm=(0,G.yh)("IOutlineModelService");let Hp=class{constructor(e,t,n){this._languageFeaturesService=e,this._disposables=new lt.SL,this._cache=new kr.z6(10,.7),this._debounceInformation=t.for(e.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(n.onModelRemoved(s=>{this._cache.delete(s.id)}))}dispose(){this._disposables.dispose()}getOrCreate(e,t){return pb(this,void 0,void 0,function*(){const n=this._languageFeaturesService.documentSymbolProvider,s=n.ordered(e);let r=this._cache.get(e.id);if(!r||r.versionId!==e.getVersionId()||!(0,ki.fS)(r.provider,s)){let S=new bn.A;r={versionId:e.getVersionId(),provider:s,promiseCnt:0,source:S,promise:Xd.create(n,e,S.token),model:void 0},this._cache.set(e.id,r);const Y=Date.now();r.promise.then(ne=>{r.model=ne,this._debounceInformation.update(e,Date.now()-Y)}).catch(ne=>{this._cache.delete(e.id)})}if(r.model)return r.model;r.promiseCnt+=1;const h=t.onCancellationRequested(()=>{--r.promiseCnt===0&&(r.source.cancel(),this._cache.delete(e.id))});try{return yield r.promise}finally{h.dispose()}})}};Hp=mb([Vp(0,ri.p),Vp(1,xs.A),Vp(2,zs.q)],Hp),(0,tr.z)(tm,Hp,!0);var vb=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};Ki.P0.registerCommand("_executeDocumentSymbolProvider",function(g,...e){return vb(this,void 0,void 0,function*(){const[t]=e;(0,gs.p_)(qi.o.isUri(t));const n=g.get(tm),r=yield g.get(oa.S).createModelReference(t);try{return(yield n.getOrCreate(r.object.textEditorModel,bn.T.None)).getTopLevelSymbols()}finally{r.dispose()}})});var Cb=l(22761);const R1="editor.action.inlineSuggest.commit";class A1{constructor(e,t,n=0){this.lineNumber=e,this.parts=t,this.additionalReservedLineCount=n}renderForScreenReader(e){if(this.parts.length===0)return"";const t=this.parts[this.parts.length-1],n=e.substr(0,t.column-1);return wb(n,this.parts.map(r=>({range:{startLineNumber:1,endLineNumber:1,startColumn:r.column,endColumn:r.column},text:r.lines.join(`
`)}))).substring(this.parts[0].column-1)}}class bb{constructor(e){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let t=0;t<e.length;t++)e.charAt(t)===`
`&&this.lineStartOffsetByLineIdx.push(t+1)}getOffset(e){return this.lineStartOffsetByLineIdx[e.lineNumber-1]+e.column-1}}function wb(g,e){const t=new bb(g),n=e.map(s=>{const r=Ue.e.lift(s.range);return{startOffset:t.getOffset(r.getStartPosition()),endOffset:t.getOffset(r.getEndPosition()),text:s.text}});n.sort((s,r)=>r.startOffset-s.startOffset);for(const s of n)g=g.substring(0,s.startOffset)+s.text+g.substring(s.endOffset);return g}class P1{constructor(e,t,n){this.column=e,this.lines=t,this.preview=n}}class O1 extends lt.JT{constructor(e){super(),this.editor=e,this._expanded=void 0,this.onDidChangeEmitter=new wt.Q5,this.onDidChange=this.onDidChangeEmitter.event,this._register(e.onDidChangeConfiguration(t=>{t.hasChanged(106)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}setExpanded(e){this._expanded=!0,this.onDidChangeEmitter.fire()}}var yb=l(42946);function Sb(g,e){return g===e?!0:!g||!e?!1:g.range.equalsRange(e.range)&&g.text===e.text&&g.command===e.command}function F1(g,e,t,n,s=0){if(g.range.startLineNumber!==g.range.endLineNumber)return;const r=e.getLineContent(g.range.startLineNumber),h=En.V8(r).length;if(g.range.startColumn-1<=h){const Xe=En.V8(g.text).length,bt=r.substring(g.range.startColumn-1,h),Gt=Ue.e.fromPositions(g.range.getStartPosition().delta(0,bt.length),g.range.getEndPosition()),fn=g.text.startsWith(bt)?g.text.substring(bt.length):g.text.substring(Xe);g={range:Gt,text:fn,command:g.command}}const Y=e.getValueInRange(g.range),ne=Lb(Y,g.text);if(!ne)return;const Q=g.range.startLineNumber,he=new Array;if(t==="prefix"){const Xe=ne.filter(bt=>bt.originalLength===0);if(Xe.length>1||Xe.length===1&&Xe[0].originalStart!==Y.length)return}const ze=g.text.length-s;for(const Xe of ne){const bt=g.range.startColumn+Xe.originalStart+Xe.originalLength;if(t==="subwordSmart"&&n&&n.lineNumber===g.range.startLineNumber&&bt<n.column||Xe.originalLength>0)return;if(Xe.modifiedLength===0)continue;const Gt=Xe.modifiedStart+Xe.modifiedLength,fn=Math.max(Xe.modifiedStart,Math.min(Gt,ze)),pn=g.text.substring(Xe.modifiedStart,fn),zn=g.text.substring(fn,Math.max(Xe.modifiedStart,Gt));if(pn.length>0){const Rn=En.uq(pn);he.push(new P1(bt,Rn,!1))}if(zn.length>0){const Rn=En.uq(zn);he.push(new P1(bt,Rn,!0))}}return new A1(Q,he,0)}let Bc;function Lb(g,e){if((Bc==null?void 0:Bc.originalValue)===g&&(Bc==null?void 0:Bc.newValue)===e)return Bc==null?void 0:Bc.changes;{const t=Eb(g,e);return Bc={originalValue:g,newValue:e,changes:t},t}}function Eb(g,e){if(g.length>5e3||e.length>5e3)return;function t(Y){let ne=0;for(let Q=0,he=Y.length;Q<he;Q++){const ze=Y.charCodeAt(Q);ze>ne&&(ne=ze)}return ne}const n=Math.max(t(g),t(e));function s(Y){if(Y<0)throw new Error("unexpected");return n+Y+1}function r(Y){let ne=0,Q=0;const he=new Int32Array(Y.length);for(let ze=0,Xe=Y.length;ze<Xe;ze++){const bt=Q*100+ne;Y[ze]==="("?(he[ze]=s(2*bt),ne++):Y[ze]===")"?(he[ze]=s(2*bt+1),ne===1&&Q++,ne=Math.max(ne-1,0)):he[ze]=Y.charCodeAt(ze)}return he}const h=r(g),S=r(e);return new yb.Hs({getElements:()=>h},{getElements:()=>S}).ComputeDiff(!1).changes}var Db=l(84803),Jd=l(85167),xb=l(82748),Nb=l(68954),Ib=l(43715);function Tb(g,e){const t=new Nb.FE,n=new Db.Z(t,ne=>e.getLanguageConfiguration(ne)),s=new Ib.xH(new Mb([g]),n),r=(0,xb.w)(s,[],void 0,!0);let h="";const S=g.getLineContent();function Y(ne,Q){if(ne.kind===2)if(Y(ne.openingBracket,Q),Q=(0,Jd.Ii)(Q,ne.openingBracket.length),ne.child&&(Y(ne.child,Q),Q=(0,Jd.Ii)(Q,ne.child.length)),ne.closingBracket)Y(ne.closingBracket,Q),Q=(0,Jd.Ii)(Q,ne.closingBracket.length);else{const ze=n.getSingleLanguageBracketTokens(ne.openingBracket.languageId).findClosingTokenText(ne.openingBracket.bracketIds);h+=ze}else if(ne.kind!==3){if(ne.kind===0||ne.kind===1)h+=S.substring((0,Jd.F_)(Q),(0,Jd.F_)((0,Jd.Ii)(Q,ne.length)));else if(ne.kind===4)for(const he of ne.children)Y(he,Q),Q=(0,Jd.Ii)(Q,he.length)}}return Y(r,Jd.xl),h}class Mb{constructor(e){this.lines=e}getLineCount(){return this.lines.length}getLineLength(e){return this.lines[e-1].getLineContent().length}getLineTokens(e){return this.lines[e-1]}}var kb=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},nm=function(g,e){return function(t,n){e(t,n,g)}},md=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};let zp=class extends lt.JT{constructor(e,t,n,s,r,h){super(),this.editor=e,this.cache=t,this.commandService=n,this.languageConfigurationService=s,this.languageFeaturesService=r,this.debounceService=h,this.onDidChangeEmitter=new wt.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new lt.XK),this.active=!1,this.disposed=!1,this.debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:200}),this._register(n.onDidExecuteCommand(S=>{new Set([at.wk.Tab.id,at.wk.DeleteLeft.id,at.wk.DeleteRight.id,R1,"acceptSelectedSuggestion"]).has(S.commandId)&&e.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(S=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(S=>{this.session&&!this.session.isValid&&this.hide()})),this._register((0,lt.OF)(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var e;return(e=this.session)===null||e===void 0?void 0:e.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(e){var t;(t=this.session)===null||t===void 0||t.setExpanded(e)}setActive(e){var t;this.active=e,e&&((t=this.session)===null||t===void 0||t.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(55).enabled||this.session&&this.session.isValid||this.trigger(qe.bw.Automatic)}trigger(e){if(this.completionSession.value){e===qe.bw.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext();return}this.completionSession.value=new Rb(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,e,this.languageConfigurationService,this.languageFeaturesService.inlineCompletionsProvider,this.debounceValue),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()}))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var e;(e=this.session)===null||e===void 0||e.commitCurrentCompletion()}showNext(){var e;(e=this.session)===null||e===void 0||e.showNextInlineCompletion()}showPrevious(){var e;(e=this.session)===null||e===void 0||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return md(this,void 0,void 0,function*(){const t=yield(e=this.session)===null||e===void 0?void 0:e.hasMultipleInlineCompletions();return t!==void 0?t:!1})}};zp=kb([nm(2,Ki.Hy),nm(3,ao.c_),nm(4,ri.p),nm(5,xs.A)],zp);class Rb extends O1{constructor(e,t,n,s,r,h,S,Y,ne){super(e),this.triggerPosition=t,this.shouldUpdate=n,this.commandService=s,this.cache=r,this.initialTriggerKind=h,this.languageConfigurationService=S,this.registry=Y,this.debounce=ne,this.minReservedLineCount=0,this.updateOperation=this._register(new lt.XK),this.updateSoon=this._register(new Ht.pY(()=>{let he=this.initialTriggerKind;return this.initialTriggerKind=qe.bw.Automatic,this.update(he)},50)),this.currentlySelectedCompletionId=void 0;let Q;this._register(this.onDidChange(()=>{const he=this.currentCompletion;if(he&&he.sourceInlineCompletion!==Q){Q=he.sourceInlineCompletion;const ze=he.sourceProvider;ze.handleItemDidShow&&ze.handleItemDidShow(he.sourceInlineCompletions,Q)}})),this._register((0,lt.OF)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(he=>{this.cache.value&&this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeModelContent(he=>{this.scheduleAutomaticUpdate()})),this._register(this.registry.onDidChange(()=>{this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))})),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;const e=this.cache.value.completions.findIndex(t=>t.semanticId===this.currentlySelectedCompletionId);return e===-1?(this.currentlySelectedCompletionId=void 0,0):e}get currentCachedCompletion(){if(!!this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var e;return md(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const t=((e=this.cache.value)===null||e===void 0?void 0:e.completions)||[];if(t.length>0){const n=(this.fixAndGetIndexOfCurrentSelection()+1)%t.length;this.currentlySelectedCompletionId=t[n].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){var e;return md(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const t=((e=this.cache.value)===null||e===void 0?void 0:e.completions)||[];if(t.length>0){const n=(this.fixAndGetIndexOfCurrentSelection()+t.length-1)%t.length;this.currentlySelectedCompletionId=t[n].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var e;return md(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===qe.bw.Explicit?yield this.updateOperation.value.promise:yield this.update(qe.bw.Explicit):((e=this.cache.value)===null||e===void 0?void 0:e.triggerKind)!==qe.bw.Explicit&&(yield this.update(qe.bw.Explicit))})}hasMultipleInlineCompletions(){var e;return md(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),(((e=this.cache.value)===null||e===void 0?void 0:e.completions.length)||0)>1})}get ghostText(){const e=this.currentCompletion,t=this.editor.getOptions().get(55).mode;return e?F1(e,this.editor.getModel(),t,this.editor.getPosition()):void 0}get currentCompletion(){const e=this.currentCachedCompletion;if(!!e)return e.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))}update(e){return md(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const t=this.editor.getPosition(),n=new Date,s=(0,Ht.PG)(h=>md(this,void 0,void 0,function*(){let S;try{S=yield W1(this.registry,t,this.editor.getModel(),{triggerKind:e,selectedSuggestionInfo:void 0},h,this.languageConfigurationService);const Y=new Date;this.debounce.update(this.editor.getModel(),Y.getTime()-n.getTime())}catch(Y){(0,ui.dL)(Y);return}h.isCancellationRequested||(this.cache.setValue(this.editor,S,e),this.onDidChangeEmitter.fire())})),r=new B1(s,e);this.updateOperation.value=r,yield s,this.updateOperation.value===r&&this.updateOperation.clear()})}takeOwnership(e){this._register(e)}commitCurrentCompletion(){if(!this.ghostText)return;const e=this.currentCompletion;e&&this.commit(e)}commit(e){const t=this.cache.clearAndLeak();this.editor.executeEdits("inlineSuggestion.accept",[D.h.replaceMove(e.range,e.text)]),e.command?this.commandService.executeCommand(e.command.id,...e.command.arguments||[]).finally(()=>{t==null||t.dispose()}).then(void 0,ui.Cp):t==null||t.dispose(),this.onDidChangeEmitter.fire()}}class B1{constructor(e,t){this.promise=e,this.triggerKind=t}dispose(){this.promise.cancel()}}class Ab extends lt.JT{constructor(e,t,n,s){super(),this.triggerKind=s;const r=e.deltaDecorations([],t.items.map(h=>({range:h.range,options:{description:"inline-completion-tracking-range"}})));this._register((0,lt.OF)(()=>{e.deltaDecorations(r,[])})),this.completions=t.items.map((h,S)=>new Pb(h,r[S])),this._register(e.onDidChangeModelContent(()=>{let h=!1;const S=e.getModel();for(const Y of this.completions){const ne=S.getDecorationRange(Y.decorationId);if(!ne){(0,ui.dL)(new Error("Decoration has no range"));continue}Y.synchronizedRange.equalsRange(ne)||(h=!0,Y.synchronizedRange=ne)}h&&n()})),this._register(t)}}class Pb{constructor(e,t){this.inlineCompletion=e,this.decorationId=t,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=e.range}toLiveInlineCompletion(){return{text:this.inlineCompletion.text,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion}}}function Ob(g,e){const t=e.getWordAtPosition(g),n=e.getLineMaxColumn(g.lineNumber);return t?new Ue.e(g.lineNumber,t.startColumn,g.lineNumber,n):Ue.e.fromPositions(g,g.with(void 0,n))}function W1(g,e,t,n,s=bn.T.None,r){return md(this,void 0,void 0,function*(){const h=Ob(e,t),S=g.all(t),Y=yield Promise.all(S.map(Q=>md(this,void 0,void 0,function*(){const he=yield Promise.resolve(Q.provideInlineCompletions(t,e,n,s)).catch(ui.Cp);return{completions:he,provider:Q,dispose:()=>{he&&Q.freeInlineCompletions(he)}}}))),ne=new Map;for(const Q of Y){const he=Q.completions;if(he)for(const ze of he.items){const Xe=ze.range?Ue.e.lift(ze.range):h;if(Xe.startLineNumber!==Xe.endLineNumber)continue;const bt=r&&ze.completeBracketPairs?Fb(ze.text,Xe.getStartPosition(),t,r):ze.text,Gt={text:bt,range:Xe,command:ze.command,sourceProvider:Q.provider,sourceInlineCompletions:he,sourceInlineCompletion:ze};ne.set(JSON.stringify({text:bt,range:ze.range}),Gt)}}return{items:[...ne.values()],dispose:()=>{for(const Q of Y)Q.dispose()}}})}function Fb(g,e,t,n){const r=t.getLineContent(e.lineNumber).substring(0,e.column-1)+g,h=t.tokenizeLineWithEdit(e,r.length-(e.column-1),g),S=h==null?void 0:h.sliceAndInflate(e.column-1,r.length,0);return S?(console.log(S),Tb(S,n)):g}function im(g,e){if(!e)return e;const t=g.getValueInRange(e.range),n=(0,En.Mh)(t,e.text),s=g.getOffsetAt(e.range.getStartPosition())+n,r=g.getPositionAt(s),h=t.substr(n),S=(0,En.P1)(h,e.text),Y=g.getPositionAt(Math.max(s,g.getOffsetAt(e.range.getEndPosition())-S));return{range:Ue.e.fromPositions(r,Y),text:e.text.substr(n,e.text.length-n-S)}}var kh=l(54132),pd=l(50018);const br=new Uint8Array(16),pa=[];for(let g=0;g<256;g++)pa.push(g.toString(16).padStart(2,"0"));let Up;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?Up=crypto.getRandomValues.bind(crypto):Up=function(g){for(let e=0;e<g.length;e++)g[e]=Math.floor(Math.random()*256);return g};function Bb(){Up(br),br[6]=br[6]&15|64,br[8]=br[8]&63|128;let g=0,e="";return e+=pa[br[g++]],e+=pa[br[g++]],e+=pa[br[g++]],e+=pa[br[g++]],e+="-",e+=pa[br[g++]],e+=pa[br[g++]],e+="-",e+=pa[br[g++]],e+=pa[br[g++]],e+="-",e+=pa[br[g++]],e+=pa[br[g++]],e+="-",e+=pa[br[g++]],e+=pa[br[g++]],e+=pa[br[g++]],e+=pa[br[g++]],e+=pa[br[g++]],e+=pa[br[g++]],e}const YL=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class Wb{constructor(e){this._delegates=e}resolve(e){for(const t of this._delegates){let n=t.resolve(e);if(n!==void 0)return n}}}class Vb{constructor(e,t,n,s){this._model=e,this._selection=t,this._selectionIdx=n,this._overtypingCapturer=s}resolve(e){const{name:t}=e;if(t==="SELECTION"||t==="TM_SELECTED_TEXT"){let n=this._model.getValueInRange(this._selection)||void 0,s=this._selection.startLineNumber!==this._selection.endLineNumber;if(!n&&this._overtypingCapturer){const r=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);r&&(n=r.value,s=r.multiline)}if(n&&s&&e.snippet){const r=this._model.getLineContent(this._selection.startLineNumber),h=(0,En.V8)(r,0,this._selection.startColumn-1);let S=h;e.snippet.walk(ne=>ne===e?!1:(ne instanceof Re&&(S=(0,En.V8)((0,En.uq)(ne.value).pop())),!0));const Y=(0,En.Mh)(S,h);n=n.replace(/(\r\n|\r|\n)(.*)/g,(ne,Q,he)=>`${Q}${S.substr(Y)}${he}`)}return n}else{if(t==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(t==="TM_CURRENT_WORD"){const n=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return n&&n.word||void 0}else{if(t==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(t==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber)}}}}class Hb{constructor(e,t){this._labelService=e,this._model=t}resolve(e){const{name:t}=e;if(t==="TM_FILENAME")return pd.EZ(this._model.uri.fsPath);if(t==="TM_FILENAME_BASE"){const n=pd.EZ(this._model.uri.fsPath),s=n.lastIndexOf(".");return s<=0?n:n.slice(0,s)}else{if(t==="TM_DIRECTORY")return pd.XX(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,Ss.XX)(this._model.uri));if(t==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(t==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}class zb{constructor(e,t,n,s){this._readClipboardText=e,this._selectionIdx=t,this._selectionCount=n,this._spread=s}resolve(e){if(e.name!=="CLIPBOARD")return;const t=this._readClipboardText();if(!!t){if(this._spread){const n=t.split(/\r\n|\n|\r/).filter(s=>!(0,En.m5)(s));if(n.length===this._selectionCount)return n[this._selectionIdx]}return t}}}class Ub{constructor(e,t){this._model=e,this._selection=t}resolve(e){const{name:t}=e,n=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),s=ao.zu.getComments(n);if(!!s){if(t==="LINE_COMMENT")return s.lineCommentToken||void 0;if(t==="BLOCK_COMMENT_START")return s.blockCommentStartToken||void 0;if(t==="BLOCK_COMMENT_END")return s.blockCommentEndToken||void 0}}}class Wc{constructor(){this._date=new Date}resolve(e){const{name:t}=e;if(t==="CURRENT_YEAR")return String(this._date.getFullYear());if(t==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(t==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(t==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(t==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(t==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(t==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(t==="CURRENT_DAY_NAME")return Wc.dayNames[this._date.getDay()];if(t==="CURRENT_DAY_NAME_SHORT")return Wc.dayNamesShort[this._date.getDay()];if(t==="CURRENT_MONTH_NAME")return Wc.monthNames[this._date.getMonth()];if(t==="CURRENT_MONTH_NAME_SHORT")return Wc.monthNamesShort[this._date.getMonth()];if(t==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3))}}Wc.dayNames=[Le.N("Sunday","Sunday"),Le.N("Monday","Monday"),Le.N("Tuesday","Tuesday"),Le.N("Wednesday","Wednesday"),Le.N("Thursday","Thursday"),Le.N("Friday","Friday"),Le.N("Saturday","Saturday")],Wc.dayNamesShort=[Le.N("SundayShort","Sun"),Le.N("MondayShort","Mon"),Le.N("TuesdayShort","Tue"),Le.N("WednesdayShort","Wed"),Le.N("ThursdayShort","Thu"),Le.N("FridayShort","Fri"),Le.N("SaturdayShort","Sat")],Wc.monthNames=[Le.N("January","January"),Le.N("February","February"),Le.N("March","March"),Le.N("April","April"),Le.N("May","May"),Le.N("June","June"),Le.N("July","July"),Le.N("August","August"),Le.N("September","September"),Le.N("October","October"),Le.N("November","November"),Le.N("December","December")],Wc.monthNamesShort=[Le.N("JanuaryShort","Jan"),Le.N("FebruaryShort","Feb"),Le.N("MarchShort","Mar"),Le.N("AprilShort","Apr"),Le.N("MayShort","May"),Le.N("JuneShort","Jun"),Le.N("JulyShort","Jul"),Le.N("AugustShort","Aug"),Le.N("SeptemberShort","Sep"),Le.N("OctoberShort","Oct"),Le.N("NovemberShort","Nov"),Le.N("DecemberShort","Dec")];class jb{constructor(e){this._workspaceService=e}resolve(e){if(!this._workspaceService)return;const t=(0,kh.uT)(this._workspaceService.getWorkspace());if(!!t){if(e.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(t);if(e.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(t)}}_resolveWorkspaceName(e){if((0,kh.eb)(e))return pd.EZ(e.uri.path);let t=pd.EZ(e.configPath.path);return t.endsWith(kh.A6)&&(t=t.substr(0,t.length-kh.A6.length-1)),t}_resoveWorkspacePath(e){if((0,kh.eb)(e))return Bs(e.uri.fsPath);let t=pd.EZ(e.configPath.path),n=e.configPath.fsPath;return n.endsWith(t)&&(n=n.substr(0,n.length-t.length-1)),n?Bs(n):"/"}}class Kb{resolve(e){const{name:t}=e;if(t==="RANDOM")return Math.random().toString().slice(-6);if(t==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(t==="UUID")return Bb()}}class Vl{constructor(e,t,n,s){this._editor=e,this._snippet=t,this._offset=n,this._snippetLineLeadingWhitespace=s,this._nestingLevel=1,this._placeholderGroups=(0,ki.vM)(t.placeholders,Nt.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const e=this._editor.getModel();this._editor.changeDecorations(t=>{for(const n of this._snippet.placeholders){const s=this._snippet.offset(n),r=this._snippet.fullLen(n),h=Ue.e.fromPositions(e.getPositionAt(this._offset+s),e.getPositionAt(this._offset+s+r)),S=n.isFinalTabstop?Vl._decor.inactiveFinal:Vl._decor.inactive,Y=t.addDecoration(h,S);this._placeholderDecorations.set(n,Y)}})}move(e){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let s=[];for(const r of this._placeholderGroups[this._placeholderGroupsIdx])if(r.transform){const h=this._placeholderDecorations.get(r),S=this._editor.getModel().getDecorationRange(h),Y=this._editor.getModel().getValueInRange(S),ne=r.transform.resolve(Y).split(/\r\n|\r|\n/);for(let Q=1;Q<ne.length;Q++)ne[Q]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+ne[Q]);s.push(D.h.replace(S,ne.join(this._editor.getModel().getEOL())))}s.length>0&&this._editor.executeEdits("snippet.placeholderTransform",s)}let t=!1;e===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,t=!0):e===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,t=!0);const n=this._editor.getModel().changeDecorations(s=>{const r=new Set,h=[];for(const S of this._placeholderGroups[this._placeholderGroupsIdx]){const Y=this._placeholderDecorations.get(S),ne=this._editor.getModel().getDecorationRange(Y);h.push(new en.Y(ne.startLineNumber,ne.startColumn,ne.endLineNumber,ne.endColumn)),t=t&&this._hasPlaceholderBeenCollapsed(S),s.changeDecorationOptions(Y,S.isFinalTabstop?Vl._decor.activeFinal:Vl._decor.active),r.add(S);for(const Q of this._snippet.enclosingPlaceholders(S)){const he=this._placeholderDecorations.get(Q);s.changeDecorationOptions(he,Q.isFinalTabstop?Vl._decor.activeFinal:Vl._decor.active),r.add(Q)}}for(const[S,Y]of this._placeholderDecorations)r.has(S)||s.changeDecorationOptions(Y,S.isFinalTabstop?Vl._decor.inactiveFinal:Vl._decor.inactive);return h});return t?this.move(e):n!=null?n:[]}_hasPlaceholderBeenCollapsed(e){let t=e;for(;t;){if(t instanceof Nt){const n=this._placeholderDecorations.get(t);if(this._editor.getModel().getDecorationRange(n).isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const e=new Map;for(const t of this._placeholderGroups){let n;for(const s of t){if(s.isFinalTabstop)break;n||(n=[],e.set(s.index,n));const r=this._placeholderDecorations.get(s),h=this._editor.getModel().getDecorationRange(r);if(!h){e.delete(s.index);break}n.push(h)}}return e}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(e){const t=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(n=>{for(const s of this._placeholderGroups[this._placeholderGroupsIdx]){const r=e.shift();console.assert(!r._placeholderDecorations);const h=r._snippet.placeholderInfo.last.index;for(const Y of r._snippet.placeholderInfo.all)Y.isFinalTabstop?Y.index=s.index+(h+1)/this._nestingLevel:Y.index=s.index+Y.index/this._nestingLevel;this._snippet.replace(s,r._snippet.children);const S=this._placeholderDecorations.get(s);n.removeDecoration(S),this._placeholderDecorations.delete(s);for(const Y of r._snippet.placeholders){const ne=r._snippet.offset(Y),Q=r._snippet.fullLen(Y),he=Ue.e.fromPositions(t.getPositionAt(r._offset+ne),t.getPositionAt(r._offset+ne+Q)),ze=n.addDecoration(he,Vl._decor.inactive);this._placeholderDecorations.set(Y,ze)}}this._placeholderGroups=(0,ki.vM)(this._snippet.placeholders,Nt.compareByIndex)})}}Vl._decor={active:Lt.qx.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:Lt.qx.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:Lt.qx.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:Lt.qx.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const V1={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class Vc{constructor(e,t,n=V1){this._templateMerges=[],this._snippets=[],this._editor=e,this._template=t,this._options=n}static adjustWhitespace(e,t,n,s,r){const h=e.getLineContent(t.lineNumber),S=(0,En.V8)(h,0,t.column-1);let Y;return n.walk(ne=>{if(!(ne instanceof Re)||ne.parent instanceof Ot)return!0;const Q=ne.value.split(/\r\n|\r|\n/);if(s){const ze=n.offset(ne);if(ze===0)Q[0]=e.normalizeIndentation(Q[0]);else{Y=Y!=null?Y:n.toString();let Xe=Y.charCodeAt(ze-1);(Xe===10||Xe===13)&&(Q[0]=e.normalizeIndentation(S+Q[0]))}for(let Xe=1;Xe<Q.length;Xe++)Q[Xe]=e.normalizeIndentation(S+Q[Xe])}const he=Q.join(e.getEOL());return he!==ne.value&&(ne.parent.replace(ne,[new Re(he)]),Y=void 0),!0}),S}static adjustSelection(e,t,n,s){if(n!==0||s!==0){const{positionLineNumber:r,positionColumn:h}=t,S=h-n,Y=h+s,ne=e.validateRange({startLineNumber:r,startColumn:S,endLineNumber:r,endColumn:Y});t=en.Y.createWithDirection(ne.startLineNumber,ne.startColumn,ne.endLineNumber,ne.endColumn,t.getDirection())}return t}static createEditsAndSnippets(e,t,n,s,r,h,S,Y){const ne=[],Q=[];if(!e.hasModel())return{edits:ne,snippets:Q};const he=e.getModel(),ze=e.invokeWithinContext(wi=>wi.get(kh.ec)),Xe=e.invokeWithinContext(wi=>new Hb(wi.get(yo.e),he)),bt=()=>S;let Gt=0,fn=he.getValueInRange(Vc.adjustSelection(he,e.getSelection(),n,0)),pn=he.getValueInRange(Vc.adjustSelection(he,e.getSelection(),0,s)),zn=he.getLineFirstNonWhitespaceColumn(e.getSelection().positionLineNumber);const Rn=e.getSelections().map((wi,yi)=>({selection:wi,idx:yi})).sort((wi,yi)=>Ue.e.compareRangesUsingStarts(wi.selection,yi.selection));for(const{selection:wi,idx:yi}of Rn){let ys=Vc.adjustSelection(he,wi,n,0),as=Vc.adjustSelection(he,wi,0,s);fn!==he.getValueInRange(ys)&&(ys=wi),pn!==he.getValueInRange(as)&&(as=wi);const wr=wi.setStartPosition(ys.startLineNumber,ys.startColumn).setEndPosition(as.endLineNumber,as.endColumn),Gr=new Qn().parse(t,!0,r),Zr=wr.getStartPosition(),Ul=Vc.adjustWhitespace(he,Zr,Gr,h||yi>0&&zn!==he.getLineFirstNonWhitespaceColumn(wi.positionLineNumber),!0);Gr.resolveVariables(new Wb([Xe,new zb(bt,yi,Rn.length,e.getOption(71)==="spread"),new Vb(he,wi,yi,Y),new Ub(he,wi),new Wc,new jb(ze),new Kb]));const lc=he.getOffsetAt(Zr)+Gt;Gt+=Gr.toString().length-he.getValueLengthInRange(wr),ne[yi]=D.h.replace(wr,Gr.toString()),ne[yi].identifier={major:yi,minor:0},Q[yi]=new Vl(e,Gr,lc,Ul)}return{edits:ne,snippets:Q}}dispose(){(0,lt.B9)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:e,snippets:t}=Vc.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=t,this._editor.executeEdits("snippet",e,n=>this._snippets[0].hasPlaceholder?this._move(!0):n.filter(s=>!!s.identifier).map(s=>en.Y.fromPositions(s.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}merge(e,t=V1){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,e]);const{edits:n,snippets:s}=Vc.createEditsAndSnippets(this._editor,e,t.overwriteBefore,t.overwriteAfter,!0,t.adjustWhitespace,t.clipboardText,t.overtypingCapturer);this._editor.executeEdits("snippet",n,r=>{for(const h of this._snippets)h.merge(s);return console.assert(s.length===0),this._snippets[0].hasPlaceholder?this._move(void 0):r.filter(h=>!!h.identifier).map(h=>en.Y.fromPositions(h.range.getEndPosition()))})}next(){const e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}prev(){const e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}_move(e){const t=[];for(const n of this._snippets){const s=n.move(e);t.push(...s)}return t}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;let t=new Map;for(const n of this._snippets){const s=n.computePossibleSelections();if(t.size===0)for(const[r,h]of s){h.sort(Ue.e.compareRangesUsingStarts);for(const S of e)if(h[0].containsRange(S)){t.set(r,[]);break}}if(t.size===0)return!1;t.forEach((r,h)=>{r.push(...s.get(h))})}e.sort(Ue.e.compareRangesUsingStarts);for(let[n,s]of t){if(s.length!==e.length){t.delete(n);continue}s.sort(Ue.e.compareRangesUsingStarts);for(let r=0;r<s.length;r++)if(!s[r].containsRange(e[r])){t.delete(n);continue}}return t.size>0}}var H1=l(66534),sm=l(76057),$b=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},jp=function(g,e){return function(t,n){e(t,n,g)}};const z1={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let Tr=class vg{constructor(e,t,n,s){this._editor=e,this._instantiationService=t,this._logService=n,this._snippetListener=new lt.SL,this._modelVersionId=-1,this._inSnippet=vg.InSnippetMode.bindTo(s),this._hasNextTabstop=vg.HasNextTabstop.bindTo(s),this._hasPrevTabstop=vg.HasPrevTabstop.bindTo(s)}static get(e){return e.getContribution(vg.ID)}dispose(){var e;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(e=this._session)===null||e===void 0||e.dispose(),this._snippetListener.dispose()}insert(e,t){try{this._doInsert(e,typeof t=="undefined"?z1:Object.assign(Object.assign({},z1),t))}catch(n){this.cancel(),this._logService.error(n),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(e,t){!this._editor.hasModel()||(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(e,t):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new Vc(this._editor,e,t),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(n=>n.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{choice:e}=this._session;if(!e){this._currentChoice=void 0;return}if(this._currentChoice!==e){this._currentChoice=e,this._editor.setSelections(this._editor.getSelections().map(n=>en.Y.fromPositions(n.getStartPosition())));const[t]=e.options;this._instantiationService.invokeFunction(fa,this._editor,e.options.map((n,s)=>({kind:13,label:n.value,insertText:n.value,sortText:"a".repeat(s+1),range:Ue.e.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,t.value.length))})))}}finish(){for(;this._inSnippet.get();)this.next()}cancel(e=!1){var t;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),(t=this._session)===null||t===void 0||t.dispose(),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};Tr.ID="snippetController2",Tr.InSnippetMode=new nn.uy("inSnippetMode",!1,(0,Le.N)("inSnippetMode","Whether the editor in current in snippet mode")),Tr.HasNextTabstop=new nn.uy("hasNextTabstop",!1,(0,Le.N)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),Tr.HasPrevTabstop=new nn.uy("hasPrevTabstop",!1,(0,Le.N)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),Tr=$b([jp(1,G.TG),jp(2,sm.VZ),jp(3,nn.i6)],Tr),(0,Pe._K)(Tr.ID,Tr);const om=Pe._l.bindToContribution(Tr.get);(0,Pe.fK)(new om({id:"jumpToNextSnippetPlaceholder",precondition:nn.Ao.and(Tr.InSnippetMode,Tr.HasNextTabstop),handler:g=>g.next(),kbOpts:{weight:100+30,kbExpr:vt.u.editorTextFocus,primary:2}})),(0,Pe.fK)(new om({id:"jumpToPrevSnippetPlaceholder",precondition:nn.Ao.and(Tr.InSnippetMode,Tr.HasPrevTabstop),handler:g=>g.prev(),kbOpts:{weight:100+30,kbExpr:vt.u.editorTextFocus,primary:1026}})),(0,Pe.fK)(new om({id:"leaveSnippet",precondition:Tr.InSnippetMode,handler:g=>g.cancel(!0),kbOpts:{weight:100+30,kbExpr:vt.u.editorTextFocus,primary:9,secondary:[1033]}})),(0,Pe.fK)(new om({id:"acceptSnippet",precondition:Tr.InSnippetMode,handler:g=>g.finish()}));var Gb=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},U1=function(g,e){return function(t,n){e(t,n,g)}};class Kp{constructor(e){this.name=e}select(e,t,n){if(n.length===0)return 0;let s=n[0].score[0];for(let r=0;r<n.length;r++){const{score:h,completion:S}=n[r];if(h[0]!==s)break;if(S.preselect)return r}return 0}}class j1 extends Kp{constructor(){super("first")}memorize(e,t,n){}toJSON(){}fromJSON(){}}class Zb extends Kp{constructor(){super("recentlyUsed"),this._cache=new kr.z6(300,.66),this._seq=0}memorize(e,t,n){const s=`${e.getLanguageId()}/${n.textLabel}`;this._cache.set(s,{touch:this._seq++,type:n.completion.kind,insertText:n.completion.insertText})}select(e,t,n){if(n.length===0)return 0;const s=e.getLineContent(t.lineNumber).substr(t.column-10,t.column-1);if(/\s$/.test(s))return super.select(e,t,n);let r=n[0].score[0],h=-1,S=-1,Y=-1;for(let ne=0;ne<n.length&&n[ne].score[0]===r;ne++){const Q=`${e.getLanguageId()}/${n[ne].textLabel}`,he=this._cache.peek(Q);if(he&&he.touch>Y&&he.type===n[ne].completion.kind&&he.insertText===n[ne].completion.insertText&&(Y=he.touch,S=ne),n[ne].completion.preselect&&h===-1)return h=ne}return S!==-1?S:h!==-1?h:0}toJSON(){return this._cache.toJSON()}fromJSON(e){this._cache.clear();let t=0;for(const[n,s]of e)s.touch=t,s.type=typeof s.type=="number"?s.type:qe.gX.fromString(s.type),this._cache.set(n,s);this._seq=this._cache.size}}class Yb extends Kp{constructor(){super("recentlyUsedByPrefix"),this._trie=kr.Id.forStrings(),this._seq=0}memorize(e,t,n){const{word:s}=e.getWordUntilPosition(t),r=`${e.getLanguageId()}/${s}`;this._trie.set(r,{type:n.completion.kind,insertText:n.completion.insertText,touch:this._seq++})}select(e,t,n){let{word:s}=e.getWordUntilPosition(t);if(!s)return super.select(e,t,n);let r=`${e.getLanguageId()}/${s}`,h=this._trie.get(r);if(h||(h=this._trie.findSubstr(r)),h)for(let S=0;S<n.length;S++){let{kind:Y,insertText:ne}=n[S].completion;if(Y===h.type&&ne===h.insertText)return S}return super.select(e,t,n)}toJSON(){let e=[];return this._trie.forEach((t,n)=>e.push([n,t])),e.sort((t,n)=>-(t[1].touch-n[1].touch)).forEach((t,n)=>t[1].touch=n),e.slice(0,200)}fromJSON(e){if(this._trie.clear(),e.length>0){this._seq=e[0][1].touch+1;for(const[t,n]of e)n.type=typeof n.type=="number"?n.type:qe.gX.fromString(n.type),this._trie.set(t,n)}}}let Uf=class Ym{constructor(e,t){this._storageService=e,this._configService=t,this._disposables=new lt.SL,this._persistSoon=new Ht.pY(()=>this._saveState(),500),this._disposables.add(e.onWillSaveState(n=>{n.reason===ar.fk.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(e,t,n){this._withStrategy(e,t).memorize(e,t,n),this._persistSoon.schedule()}select(e,t,n){return this._withStrategy(e,t).select(e,t,n)}_withStrategy(e,t){var n;const s=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:e.getLanguageIdAtPosition(t.lineNumber,t.column),resource:e.uri});if(((n=this._strategy)===null||n===void 0?void 0:n.name)!==s){this._saveState();const r=Ym._strategyCtors.get(s)||j1;this._strategy=new r;try{const S=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,Y=this._storageService.get(`${Ym._storagePrefix}/${s}`,S);Y&&this._strategy.fromJSON(JSON.parse(Y))}catch(h){}}return this._strategy}_saveState(){if(this._strategy){const t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,n=JSON.stringify(this._strategy);this._storageService.store(`${Ym._storagePrefix}/${this._strategy.name}`,n,t,1)}}};Uf._strategyCtors=new Map([["recentlyUsedByPrefix",Yb],["recentlyUsed",Zb],["first",j1]]),Uf._storagePrefix="suggest/memories",Uf=Gb([U1(0,ar.Uy),U1(1,js.Ui)],Uf);const K1=(0,G.yh)("ISuggestMemories");(0,tr.z)(K1,Uf,!0);var Qb=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Xb=function(g,e){return function(t,n){e(t,n,g)}};let jf=class kv{constructor(e,t){this._editor=e,this._enabled=!1,this._ckAtEnd=kv.AtEnd.bindTo(t),this._configListener=this._editor.onDidChangeConfiguration(n=>n.hasChanged(111)&&this._update()),this._update()}dispose(){var e;this._configListener.dispose(),(e=this._selectionListener)===null||e===void 0||e.dispose(),this._ckAtEnd.reset()}_update(){const e=this._editor.getOption(111)==="on";if(this._enabled!==e)if(this._enabled=e,this._enabled){const t=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const n=this._editor.getModel(),s=this._editor.getSelection(),r=n.getWordAtPosition(s.getStartPosition());if(!r){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(r.endColumn===s.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(t),t()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};jf.AtEnd=new nn.uy("atEndOfWord",!1),jf=Qb([Xb(1,nn.i6)],jf);var Jb=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},qb=function(g,e){return function(t,n){e(t,n,g)}};let Ou=class Qm{constructor(e,t){this._editor=e,this._index=0,this._ckOtherSuggestions=Qm.OtherSuggestions.bindTo(t)}dispose(){this.reset()}reset(){var e;this._ckOtherSuggestions.reset(),(e=this._listener)===null||e===void 0||e.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:e,index:t},n){if(e.items.length===0){this.reset();return}if(Qm._moveIndex(!0,e,t)===t){this.reset();return}this._acceptNext=n,this._model=e,this._index=t,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(e,t,n){let s=n;for(;s=(s+t.items.length+(e?1:-1))%t.items.length,!(s===n||!t.items[s].completion.additionalTextEdits););return s}next(){this._move(!0)}prev(){this._move(!1)}_move(e){if(!!this._model)try{this._ignore=!0,this._index=Qm._moveIndex(e,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};Ou.OtherSuggestions=new nn.uy("hasOtherSuggestions",!1),Ou=Jb([qb(1,nn.i6)],Ou);class ew{constructor(e,t,n){this._disposables=new lt.SL,this._disposables.add(t.onDidShow(()=>this._onItem(t.getFocusedItem()))),this._disposables.add(t.onDidFocus(this._onItem,this)),this._disposables.add(t.onDidHide(this.reset,this)),this._disposables.add(e.onWillType(s=>{if(this._active&&!t.isFrozen()){const r=s.charCodeAt(s.length-1);this._active.acceptCharacters.has(r)&&e.getOption(0)&&n(this._active.item)}}))}_onItem(e){if(!e||!(0,ki.Of)(e.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===e.item)return;const t=new Th.q;for(const n of e.item.completion.commitCharacters)n.length>0&&t.add(n.charCodeAt(0));this._active={acceptCharacters:t,item:e}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}var tw=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};class rl{provideSelectionRanges(e,t){return tw(this,void 0,void 0,function*(){const n=[];for(const s of t){const r=[];n.push(r);const h=new Map;yield new Promise(S=>rl._bracketsRightYield(S,0,e,s,h)),yield new Promise(S=>rl._bracketsLeftYield(S,0,e,s,h,r))}return n})}static _bracketsRightYield(e,t,n,s,r){const h=new Map,S=Date.now();for(;;){if(t>=rl._maxRounds){e();break}if(!s){e();break}let Y=n.bracketPairs.findNextBracket(s);if(!Y){e();break}if(Date.now()-S>rl._maxDuration){setTimeout(()=>rl._bracketsRightYield(e,t+1,n,s,r));break}const Q=Y.close[0];if(Y.isOpen){let he=h.has(Q)?h.get(Q):0;h.set(Q,he+1)}else{let he=h.has(Q)?h.get(Q):0;if(he-=1,h.set(Q,Math.max(0,he)),he<0){let ze=r.get(Q);ze||(ze=new Sf.S,r.set(Q,ze)),ze.push(Y.range)}}s=Y.range.getEndPosition()}}static _bracketsLeftYield(e,t,n,s,r,h){const S=new Map,Y=Date.now();for(;;){if(t>=rl._maxRounds&&r.size===0){e();break}if(!s){e();break}let ne=n.bracketPairs.findPrevBracket(s);if(!ne){e();break}if(Date.now()-Y>rl._maxDuration){setTimeout(()=>rl._bracketsLeftYield(e,t+1,n,s,r,h));break}const he=ne.close[0];if(ne.isOpen){let ze=S.has(he)?S.get(he):0;if(ze-=1,S.set(he,Math.max(0,ze)),ze<0){let Xe=r.get(he);if(Xe){let bt=Xe.shift();Xe.size===0&&r.delete(he);const Gt=Ue.e.fromPositions(ne.range.getEndPosition(),bt.getStartPosition()),fn=Ue.e.fromPositions(ne.range.getStartPosition(),bt.getEndPosition());h.push({range:Gt}),h.push({range:fn}),rl._addBracketLeading(n,fn,h)}}}else{let ze=S.has(he)?S.get(he):0;S.set(he,ze+1)}s=ne.range.getStartPosition()}}static _addBracketLeading(e,t,n){if(t.startLineNumber===t.endLineNumber)return;const s=t.startLineNumber,r=e.getLineFirstNonWhitespaceColumn(s);r!==0&&r!==t.startColumn&&(n.push({range:Ue.e.fromPositions(new Cn.L(s,r),t.getEndPosition())}),n.push({range:Ue.e.fromPositions(new Cn.L(s,1),t.getEndPosition())}));const h=s-1;if(h>0){const S=e.getLineFirstNonWhitespaceColumn(h);S===t.startColumn&&S!==e.getLineLastNonWhitespaceColumn(h)&&(n.push({range:Ue.e.fromPositions(new Cn.L(h,S),t.getEndPosition())}),n.push({range:Ue.e.fromPositions(new Cn.L(h,1),t.getEndPosition())}))}}}rl._maxDuration=30,rl._maxRounds=2;var nw=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};class Hc{static create(e,t){return nw(this,void 0,void 0,function*(){if(!t.getOption(106).localityBonus||!t.hasModel())return Hc.None;const n=t.getModel(),s=t.getPosition();if(!e.canComputeWordRanges(n.uri))return Hc.None;const[r]=yield new rl().provideSelectionRanges(n,[s]);if(r.length===0)return Hc.None;const h=yield e.computeWordRanges(n.uri,r[0].range);if(!h)return Hc.None;const S=n.getWordUntilPosition(s);return delete h[S.word],new class extends Hc{distance(Y,ne){if(!s.equals(t.getPosition()))return 0;if(ne.kind===17)return 2<<20;let Q=typeof ne.label=="string"?ne.label:ne.label.label,he=h[Q];if((0,ki.XY)(he))return 2<<20;let ze=(0,ki.ry)(he,Ue.e.fromPositions(Y),Ue.e.compareRangesUsingStarts),Xe=ze>=0?he[ze]:he[Math.max(0,~ze-1)],bt=r.length;for(const Gt of r){if(!Ue.e.containsRange(Gt.range,Xe))break;bt-=1}return bt}}})}}Hc.None=new class extends Hc{distance(){return 0}};class QL{constructor(e,t){this.leadingLineContent=e,this.characterCountDelta=t}}class Fu{constructor(e,t,n,s,r,h,S){this.clipboardText=S,this._snippetCompareFn=Fu._compareCompletionItems,this._items=e,this._column=t,this._wordDistance=s,this._options=r,this._refilterKind=1,this._lineContext=n,h==="top"?this._snippetCompareFn=Fu._compareCompletionItemsSnippetsUp:h==="bottom"&&(this._snippetCompareFn=Fu._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(e){(this._lineContext.leadingLineContent!==e.leadingLineContent||this._lineContext.characterCountDelta!==e.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const e=new Set;for(let[t,n]of this._providerInfo)n&&e.add(t);return e}adopt(e){let t=[];for(let n=0;n<this._items.length;)e.has(this._items[n].provider)?n++:(t.push(this._items[n]),this._items[n]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,t}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const e=[],{leadingLineContent:t,characterCountDelta:n}=this._lineContext;let s="",r="";const h=this._refilterKind===1?this._items:this._filteredItems,S=[],Y=!this._options.filterGraceful||h.length>2e3?bi.EW:bi.l7;for(let ne=0;ne<h.length;ne++){const Q=h[ne];if(Q.isInvalid)continue;this._providerInfo.set(Q.provider,Boolean(Q.container.incomplete));const he=Q.position.column-Q.editStart.column,ze=he+n-(Q.position.column-this._column);if(s.length!==ze&&(s=ze===0?"":t.slice(-ze),r=s.toLowerCase()),Q.word=s,ze===0)Q.score=bi.CL.Default;else{let Xe=0;for(;Xe<he;){const bt=s.charCodeAt(Xe);if(bt===32||bt===9)Xe+=1;else break}if(Xe>=ze)Q.score=bi.CL.Default;else if(typeof Q.completion.filterText=="string"){let bt=Y(s,r,Xe,Q.completion.filterText,Q.filterTextLow,0,!1);if(!bt)continue;(0,En.zY)(Q.completion.filterText,Q.textLabel)===0?Q.score=bt:(Q.score=(0,bi.jB)(s,r,Xe,Q.textLabel,Q.labelLow,0),Q.score[0]=bt[0])}else{let bt=Y(s,r,Xe,Q.textLabel,Q.labelLow,0,!1);if(!bt)continue;Q.score=bt}}Q.idx=ne,Q.distance=this._wordDistance.distance(Q.position,Q.completion),S.push(Q),e.push(Q.textLabel.length)}this._filteredItems=S.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:e.length?(0,ki.HW)(e.length-.85,e,(ne,Q)=>ne-Q):0}}static _compareCompletionItems(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0}static _compareCompletionItemsSnippetsDown(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===27)return 1;if(t.completion.kind===27)return-1}return Fu._compareCompletionItems(e,t)}static _compareCompletionItemsSnippetsUp(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===27)return-1;if(t.completion.kind===27)return 1}return Fu._compareCompletionItems(e,t)}}var iw=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Bu=function(g,e){return function(t,n){e(t,n,g)}},sw=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};class Rh{constructor(e,t,n,s){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1),this.leadingWord=e.getWordUntilPosition(t),this.lineNumber=t.lineNumber,this.column=t.column,this.auto=n,this.shy=s}static shouldAutoTrigger(e){if(!e.hasModel())return!1;const t=e.getModel(),n=e.getPosition();t.tokenizeIfCheap(n.lineNumber);const s=t.getWordAtPosition(n);return!(!s||s.endColumn!==n.column||!isNaN(Number(s.word)))}}function XL(g){return g.getOption(106).preview}function ow(g,e,t){if(!Boolean(e.getContextKeyValue("inlineSuggestionVisible")))return!0;const n=t.getValue("editor.inlineSuggest.allowQuickSuggestions");return n!==void 0?Boolean(n):!1}function rw(g,e,t){if(!Boolean(e.getContextKeyValue("inlineSuggestionVisible")))return!0;const n=t.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return n!==void 0?Boolean(n):!1}let $p=class Rv{constructor(e,t,n,s,r,h,S,Y){this._editor=e,this._editorWorkerService=t,this._clipboardService=n,this._telemetryService=s,this._logService=r,this._contextKeyService=h,this._configurationService=S,this._languageFeaturesService=Y,this._toDispose=new lt.SL,this._quickSuggestDelay=10,this._triggerCharacterListener=new lt.SL,this._triggerQuickSuggest=new Ht._F,this._state=0,this._completionDisposables=new lt.SL,this._onDidCancel=new wt.Q5,this._onDidTrigger=new wt.Q5,this._onDidSuggest=new wt.Q5,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new en.Y(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let ne=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{ne=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{ne=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(Q=>{ne||this._onCursorChange(Q)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{ne||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){(0,lt.B9)(this._triggerCharacterListener),(0,lt.B9)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(80),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&this._quickSuggestDelay!==0||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(81)||!this._editor.hasModel()||!this._editor.getOption(109))return;const e=new Map;for(const n of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const s of n.triggerCharacters||[]){let r=e.get(s);r||(r=new Set,r.add(Qo()),e.set(s,r)),r.add(n)}const t=n=>{if(!rw(this._editor,this._contextKeyService,this._configurationService)||Rh.shouldAutoTrigger(this._editor))return;if(!n){const h=this._editor.getPosition();n=this._editor.getModel().getLineContent(h.lineNumber).substr(0,h.column-1)}let s="";(0,En.YK)(n.charCodeAt(n.length-1))?(0,En.ZG)(n.charCodeAt(n.length-2))&&(s=n.substr(n.length-2)):s=n.charAt(n.length-1);const r=e.get(s);if(r){const h=this._completionModel?{items:this._completionModel.adopt(r),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:s},Boolean(this._completionModel),r,h)}};this._triggerCharacterListener.add(this._editor.onDidType(t)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>t()))}get state(){return this._state}cancel(e=!1){var t;this._state!==0&&(this._triggerQuickSuggest.cancel(),(t=this._requestToken)===null||t===void 0||t.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:e}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))}_onCursorChange(e){if(!this._editor.hasModel())return;const t=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||e.reason!==0&&e.reason!==3||e.source!=="keyboard"&&e.source!=="deleteLeft"){this.cancel();return}this._state===0&&e.reason===0?(t.containsRange(this._currentSelection)||t.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._state!==0&&e.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._state===0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var e;this._editor.getOption(79)!==!1&&(this._editor.getOption(106).snippetsPreventQuickSuggestions&&((e=Tr.get(this._editor))===null||e===void 0?void 0:e.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!Rh.shouldAutoTrigger(this._editor)||!this._editor.hasModel())return;const t=this._editor.getModel(),n=this._editor.getPosition(),s=this._editor.getOption(79);if(s!==!1){if(s!==!0){t.tokenizeIfCheap(n.lineNumber);const r=t.getLineTokens(n.lineNumber),h=r.getStandardTokenType(r.findTokenIndexAtOffset(Math.max(n.column-1-1,0)));if(!(s.other&&h===0||s.comments&&h===1||s.strings&&h===2))return}!ow(this._editor,this._contextKeyService,this._configurationService)||!this._languageFeaturesService.completionProvider.has(t)||this.trigger({auto:!0,shy:!1})}},this._quickSuggestDelay)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state===0||!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getPosition(),n=new Rh(e,t,this._state===2,!1);this._onNewContext(n)})}trigger(e,t=!1,n,s){var r;if(!this._editor.hasModel())return;const h=this._editor.getModel(),S=e.auto,Y=new Rh(h,this._editor.getPosition(),S,e.shy);this.cancel(t),this._state=S?2:1,this._onDidTrigger.fire({auto:S,shy:e.shy,position:this._editor.getPosition()}),this._context=Y;let ne={triggerKind:(r=e.triggerKind)!==null&&r!==void 0?r:0};e.triggerCharacter&&(ne={triggerKind:1,triggerCharacter:e.triggerCharacter}),this._requestToken=new bn.A;const Q=this._editor.getOption(101);let he=1;switch(Q){case"top":he=0;break;case"bottom":he=2;break}const{itemKind:ze,showDeprecated:Xe}=Rv._createSuggestFilter(this._editor),bt=Hc.create(this._editorWorkerService,this._editor),Gt=Wr(this._languageFeaturesService.completionProvider,h,this._editor.getPosition(),new cr(he,ze,n,Xe),ne,this._requestToken.token);Promise.all([Gt,bt]).then(([fn,pn])=>sw(this,void 0,void 0,function*(){var zn;if((zn=this._requestToken)===null||zn===void 0||zn.dispose(),!this._editor.hasModel())return;let Rn=s==null?void 0:s.clipboardText;if(!Rn&&fn.needsClipboard&&(Rn=yield this._clipboardService.readText()),this._state===0)return;const wi=this._editor.getModel();let yi=fn.items;if(s){const as=rr(he);yi=yi.concat(s.items).sort(as)}const ys=new Rh(wi,this._editor.getPosition(),S,e.shy);this._completionModel=new Fu(yi,this._context.column,{leadingLineContent:ys.leadingLineContent,characterCountDelta:ys.column-this._context.column},pn,this._editor.getOption(106),this._editor.getOption(101),Rn),this._completionDisposables.add(fn.disposable),this._onNewContext(ys),this._reportDurationsTelemetry(fn.durations)})).catch(ui.dL)}_reportDurationsTelemetry(e){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(e)}),this._logService.debug("suggest.durations.json",e)})}static _createSuggestFilter(e){const t=new Set;e.getOption(101)==="none"&&t.add(27);const s=e.getOption(106);return s.showMethods||t.add(0),s.showFunctions||t.add(1),s.showConstructors||t.add(2),s.showFields||t.add(3),s.showVariables||t.add(4),s.showClasses||t.add(5),s.showStructs||t.add(6),s.showInterfaces||t.add(7),s.showModules||t.add(8),s.showProperties||t.add(9),s.showEvents||t.add(10),s.showOperators||t.add(11),s.showUnits||t.add(12),s.showValues||t.add(13),s.showConstants||t.add(14),s.showEnums||t.add(15),s.showEnumMembers||t.add(16),s.showKeywords||t.add(17),s.showWords||t.add(18),s.showColors||t.add(19),s.showFiles||t.add(20),s.showReferences||t.add(21),s.showColors||t.add(22),s.showFolders||t.add(23),s.showTypeParameters||t.add(24),s.showSnippets||t.add(27),s.showUsers||t.add(25),s.showIssues||t.add(26),{itemKind:t,showDeprecated:s.showDeprecated}}_onNewContext(e){if(!!this._context){if(e.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,En.V8)(e.leadingLineContent)!==(0,En.V8)(this._context.leadingLineContent)){this.cancel();return}if(e.column<this._context.column){e.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(!!this._completionModel){if(e.leadingWord.word.length!==0&&e.leadingWord.startColumn>this._context.leadingWord.startColumn){const t=new Set(this._languageFeaturesService.completionProvider.all(this._editor.getModel()));for(let s of this._completionModel.allProvider)t.delete(s);const n=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,t,{items:n,clipboardText:this._completionModel.clipboardText});return}if(e.column>this._context.column&&this._completionModel.incomplete.size>0&&e.leadingWord.word.length!==0){const{incomplete:t}=this._completionModel,n=this._completionModel.adopt(t);this.trigger({auto:this._state===2,shy:!1,triggerKind:2},!0,t,{items:n,clipboardText:this._completionModel.clipboardText})}else{let t=this._completionModel.lineContext,n=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},this._completionModel.items.length===0){if(Rh.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<e.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=t,n=this._completionModel.items.length>0,n&&e.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:n})}}}}};$p=iw([Bu(1,Wf.p),Bu(2,Si.p),Bu(3,ks.b),Bu(4,sm.VZ),Bu(5,nn.i6),Bu(6,js.Ui),Bu(7,ri.p)],$p);class rm{constructor(e,t){this._disposables=new lt.SL,this._lastOvertyped=[],this._empty=!0,this._disposables.add(e.onWillType(()=>{if(!this._empty||!e.hasModel())return;const n=e.getSelections(),s=n.length;let r=!1;for(let S=0;S<s;S++)if(!n[S].isEmpty()){r=!0;break}if(!r)return;this._lastOvertyped=[];const h=e.getModel();for(let S=0;S<s;S++){const Y=n[S];if(h.getValueLengthInRange(Y)>rm._maxSelectionLength)return;this._lastOvertyped[S]={value:h.getValueInRange(Y),multiline:Y.startLineNumber!==Y.endLineNumber}}this._empty=!1})),this._disposables.add(t.onDidCancel(n=>{!this._empty&&!n.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(e){if(!this._empty&&e>=0&&e<this._lastOvertyped.length)return this._lastOvertyped[e]}dispose(){this._disposables.dispose()}}rm._maxSelectionLength=51200;var JL=l(63073),aw=l(96653),lw=l(48641),cw=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Gp=function(g,e){return function(t,n){e(t,n,g)}};class Zp extends Xa{updateLabel(){const e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();this.label&&(this.label.textContent=(0,Le.N)("ddd","{0} ({1})",this._action.label,Zp.symbolPrintEnter(e)))}static symbolPrintEnter(e){var t;return(t=e.getLabel())===null||t===void 0?void 0:t.replace(/\benter\b/gi,"\u23CE")}}let Yp=class{constructor(e,t,n,s){this._menuService=n,this._contextKeyService=s,this._menuDisposables=new lt.SL,this.element=q.R3(e,q.$(".suggest-status-bar"));const r=h=>h instanceof Ve.U8?t.createInstance(Zp,h,void 0):void 0;this._leftActions=new ul.o(this.element,{actionViewItemProvider:r}),this._rightActions=new ul.o(this.element,{actionViewItemProvider:r}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const e=this._menuService.createMenu(or,this._contextKeyService),t=()=>{const n=[],s=[];for(let[r,h]of e.getActions())r==="left"?n.push(...h):s.push(...h);this._leftActions.clear(),this._leftActions.push(n),this._rightActions.clear(),this._rightActions.push(s)};this._menuDisposables.add(e.onDidChange(()=>t())),this._menuDisposables.add(e)}hide(){this._menuDisposables.clear()}};Yp=cw([Gp(1,G.TG),Gp(2,Ve.co),Gp(3,nn.i6)],Yp);const dw=(0,Se.P6G)("symbolIcon.arrayForeground",{dark:Se.dRz,light:Se.dRz,hc:Se.dRz},(0,Le.N)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),uw=(0,Se.P6G)("symbolIcon.booleanForeground",{dark:Se.dRz,light:Se.dRz,hc:Se.dRz},(0,Le.N)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),hw=(0,Se.P6G)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,Le.N)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fw=(0,Se.P6G)("symbolIcon.colorForeground",{dark:Se.dRz,light:Se.dRz,hc:Se.dRz},(0,Le.N)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),gw=(0,Se.P6G)("symbolIcon.constantForeground",{dark:Se.dRz,light:Se.dRz,hc:Se.dRz},(0,Le.N)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),mw=(0,Se.P6G)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,Le.N)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),pw=(0,Se.P6G)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,Le.N)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_w=(0,Se.P6G)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,Le.N)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),vw=(0,Se.P6G)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,Le.N)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Cw=(0,Se.P6G)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,Le.N)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),bw=(0,Se.P6G)("symbolIcon.fileForeground",{dark:Se.dRz,light:Se.dRz,hc:Se.dRz},(0,Le.N)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ww=(0,Se.P6G)("symbolIcon.folderForeground",{dark:Se.dRz,light:Se.dRz,hc:Se.dRz},(0,Le.N)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),yw=(0,Se.P6G)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,Le.N)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Sw=(0,Se.P6G)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,Le.N)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Lw=(0,Se.P6G)("symbolIcon.keyForeground",{dark:Se.dRz,light:Se.dRz,hc:Se.dRz},(0,Le.N)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ew=(0,Se.P6G)("symbolIcon.keywordForeground",{dark:Se.dRz,light:Se.dRz,hc:Se.dRz},(0,Le.N)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Dw=(0,Se.P6G)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,Le.N)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),xw=(0,Se.P6G)("symbolIcon.moduleForeground",{dark:Se.dRz,light:Se.dRz,hc:Se.dRz},(0,Le.N)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Nw=(0,Se.P6G)("symbolIcon.namespaceForeground",{dark:Se.dRz,light:Se.dRz,hc:Se.dRz},(0,Le.N)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Iw=(0,Se.P6G)("symbolIcon.nullForeground",{dark:Se.dRz,light:Se.dRz,hc:Se.dRz},(0,Le.N)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Tw=(0,Se.P6G)("symbolIcon.numberForeground",{dark:Se.dRz,light:Se.dRz,hc:Se.dRz},(0,Le.N)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Mw=(0,Se.P6G)("symbolIcon.objectForeground",{dark:Se.dRz,light:Se.dRz,hc:Se.dRz},(0,Le.N)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),kw=(0,Se.P6G)("symbolIcon.operatorForeground",{dark:Se.dRz,light:Se.dRz,hc:Se.dRz},(0,Le.N)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Rw=(0,Se.P6G)("symbolIcon.packageForeground",{dark:Se.dRz,light:Se.dRz,hc:Se.dRz},(0,Le.N)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Aw=(0,Se.P6G)("symbolIcon.propertyForeground",{dark:Se.dRz,light:Se.dRz,hc:Se.dRz},(0,Le.N)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Pw=(0,Se.P6G)("symbolIcon.referenceForeground",{dark:Se.dRz,light:Se.dRz,hc:Se.dRz},(0,Le.N)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ow=(0,Se.P6G)("symbolIcon.snippetForeground",{dark:Se.dRz,light:Se.dRz,hc:Se.dRz},(0,Le.N)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Fw=(0,Se.P6G)("symbolIcon.stringForeground",{dark:Se.dRz,light:Se.dRz,hc:Se.dRz},(0,Le.N)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Bw=(0,Se.P6G)("symbolIcon.structForeground",{dark:Se.dRz,light:Se.dRz,hc:Se.dRz},(0,Le.N)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ww=(0,Se.P6G)("symbolIcon.textForeground",{dark:Se.dRz,light:Se.dRz,hc:Se.dRz},(0,Le.N)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Vw=(0,Se.P6G)("symbolIcon.typeParameterForeground",{dark:Se.dRz,light:Se.dRz,hc:Se.dRz},(0,Le.N)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Hw=(0,Se.P6G)("symbolIcon.unitForeground",{dark:Se.dRz,light:Se.dRz,hc:Se.dRz},(0,Le.N)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),zw=(0,Se.P6G)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,Le.N)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));(0,St.Ic)((g,e)=>{const t=g.getColor(dw);t&&e.addRule(`${ft.lA.symbolArray.cssSelector} { color: ${t}; }`);const n=g.getColor(uw);n&&e.addRule(`${ft.lA.symbolBoolean.cssSelector} { color: ${n}; }`);const s=g.getColor(hw);s&&e.addRule(`${ft.lA.symbolClass.cssSelector} { color: ${s}; }`);const r=g.getColor(Dw);r&&e.addRule(`${ft.lA.symbolMethod.cssSelector} { color: ${r}; }`);const h=g.getColor(fw);h&&e.addRule(`${ft.lA.symbolColor.cssSelector} { color: ${h}; }`);const S=g.getColor(gw);S&&e.addRule(`${ft.lA.symbolConstant.cssSelector} { color: ${S}; }`);const Y=g.getColor(mw);Y&&e.addRule(`${ft.lA.symbolConstructor.cssSelector} { color: ${Y}; }`);const ne=g.getColor(pw);ne&&e.addRule(`
			${ft.lA.symbolValue.cssSelector},${ft.lA.symbolEnum.cssSelector} { color: ${ne}; }`);const Q=g.getColor(_w);Q&&e.addRule(`${ft.lA.symbolEnumMember.cssSelector} { color: ${Q}; }`);const he=g.getColor(vw);he&&e.addRule(`${ft.lA.symbolEvent.cssSelector} { color: ${he}; }`);const ze=g.getColor(Cw);ze&&e.addRule(`${ft.lA.symbolField.cssSelector} { color: ${ze}; }`);const Xe=g.getColor(bw);Xe&&e.addRule(`${ft.lA.symbolFile.cssSelector} { color: ${Xe}; }`);const bt=g.getColor(ww);bt&&e.addRule(`${ft.lA.symbolFolder.cssSelector} { color: ${bt}; }`);const Gt=g.getColor(yw);Gt&&e.addRule(`${ft.lA.symbolFunction.cssSelector} { color: ${Gt}; }`);const fn=g.getColor(Sw);fn&&e.addRule(`${ft.lA.symbolInterface.cssSelector} { color: ${fn}; }`);const pn=g.getColor(Lw);pn&&e.addRule(`${ft.lA.symbolKey.cssSelector} { color: ${pn}; }`);const zn=g.getColor(Ew);zn&&e.addRule(`${ft.lA.symbolKeyword.cssSelector} { color: ${zn}; }`);const Rn=g.getColor(xw);Rn&&e.addRule(`${ft.lA.symbolModule.cssSelector} { color: ${Rn}; }`);const wi=g.getColor(Nw);wi&&e.addRule(`${ft.lA.symbolNamespace.cssSelector} { color: ${wi}; }`);const yi=g.getColor(Iw);yi&&e.addRule(`${ft.lA.symbolNull.cssSelector} { color: ${yi}; }`);const ys=g.getColor(Tw);ys&&e.addRule(`${ft.lA.symbolNumber.cssSelector} { color: ${ys}; }`);const as=g.getColor(Mw);as&&e.addRule(`${ft.lA.symbolObject.cssSelector} { color: ${as}; }`);const wr=g.getColor(kw);wr&&e.addRule(`${ft.lA.symbolOperator.cssSelector} { color: ${wr}; }`);const Gr=g.getColor(Rw);Gr&&e.addRule(`${ft.lA.symbolPackage.cssSelector} { color: ${Gr}; }`);const Zr=g.getColor(Aw);Zr&&e.addRule(`${ft.lA.symbolProperty.cssSelector} { color: ${Zr}; }`);const Ul=g.getColor(Pw);Ul&&e.addRule(`${ft.lA.symbolReference.cssSelector} { color: ${Ul}; }`);const lc=g.getColor(Ow);lc&&e.addRule(`${ft.lA.symbolSnippet.cssSelector} { color: ${lc}; }`);const _a=g.getColor(Fw);_a&&e.addRule(`${ft.lA.symbolString.cssSelector} { color: ${_a}; }`);const Ma=g.getColor(Bw);Ma&&e.addRule(`${ft.lA.symbolStruct.cssSelector} { color: ${Ma}; }`);const cc=g.getColor(Ww);cc&&e.addRule(`${ft.lA.symbolText.cssSelector} { color: ${cc}; }`);const au=g.getColor(Vw);au&&e.addRule(`${ft.lA.symbolTypeParameter.cssSelector} { color: ${au}; }`);const Ju=g.getColor(Hw);Ju&&e.addRule(`${ft.lA.symbolUnit.cssSelector} { color: ${Ju}; }`);const qu=g.getColor(zw);qu&&e.addRule(`${ft.lA.symbolVariable.cssSelector} { color: ${qu}; }`)});class $1{constructor(){this._onDidWillResize=new wt.Q5,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new wt.Q5,this.onDidResize=this._onDidResize.event,this._sashListener=new lt.SL,this._size=new q.Ro(0,0),this._minSize=new q.Ro(0,0),this._maxSize=new q.Ro(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new aa.g(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new aa.g(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new aa.g(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:aa.l.North}),this._southSash=new aa.g(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:aa.l.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let e,t=0,n=0;this._sashListener.add(wt.ju.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{e===void 0&&(this._onDidWillResize.fire(),e=this._size,t=0,n=0)})),this._sashListener.add(wt.ju.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{e!==void 0&&(e=void 0,t=0,n=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(s=>{e&&(n=s.currentX-s.startX,this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(s=>{e&&(n=-(s.currentX-s.startX),this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(s=>{e&&(t=-(s.currentY-s.startY),this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(s=>{e&&(t=s.currentY-s.startY,this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(wt.ju.any(this._eastSash.onDidReset,this._westSash.onDidReset)(s=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(wt.ju.any(this._northSash.onDidReset,this._southSash.onDidReset)(s=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(e,t,n,s){this._northSash.state=e?3:0,this._eastSash.state=t?3:0,this._southSash.state=n?3:0,this._westSash.state=s?3:0}layout(e=this.size.height,t=this.size.width){const{height:n,width:s}=this._minSize,{height:r,width:h}=this._maxSize;e=Math.max(n,Math.min(r,e)),t=Math.max(s,Math.min(h,t));const S=new q.Ro(t,e);q.Ro.equals(S,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=t+"px",this._size=S,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(e){this._maxSize=e}get maxSize(){return this._maxSize}set minSize(e){this._minSize=e}get minSize(){return this._minSize}set preferredSize(e){this._preferredSize=e}get preferredSize(){return this._preferredSize}}var Uw=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},jw=function(g,e){return function(t,n){e(t,n,g)}};function Qp(g){return!!g&&Boolean(g.completion.documentation||g.completion.detail&&g.completion.detail!==g.completion.label)}let Xp=class{constructor(e,t){this._editor=e,this._onDidClose=new wt.Q5,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new wt.Q5,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new lt.SL,this._renderDisposeable=new lt.SL,this._borderWidth=1,this._size=new q.Ro(330,0),this.domNode=q.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=t.createInstance(oc,{editor:e}),this._body=q.$(".body"),this._scrollbar=new ic.s$(this._body,{}),q.R3(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=q.R3(this._body,q.$(".header")),this._close=q.R3(this._header,q.$("span"+ft.lA.close.cssSelector)),this._close.title=Le.N("details.close","Close"),this._type=q.R3(this._header,q.$("p.type")),this._docs=q.R3(this._body,q.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(n=>{n.hasChanged(44)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const e=this._editor.getOptions(),t=e.get(44),n=t.getMassagedFontFamily(oi.isSafari?so.hL.fontFamily:null),s=e.get(107)||t.fontSize,r=e.get(108)||t.lineHeight,h=t.fontWeight,S=`${s}px`,Y=`${r}px`;this.domNode.style.fontSize=S,this.domNode.style.lineHeight=`${r/s}`,this.domNode.style.fontWeight=h,this.domNode.style.fontFeatureSettings=t.fontFeatureSettings,this._type.style.fontFamily=n,this._close.style.height=Y,this._close.style.width=Y}getLayoutInfo(){const e=this._editor.getOption(108)||this._editor.getOption(44).lineHeight,t=this._borderWidth,n=t*2;return{lineHeight:e,borderWidth:t,borderHeight:n,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=Le.N("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(e,t){var n,s;this._renderDisposeable.clear();let{detail:r,documentation:h}=e.completion;if(t){let S="";S+=`score: ${e.score[0]}
`,S+=`prefix: ${(n=e.word)!==null&&n!==void 0?n:"(no prefix)"}
`,S+=`word: ${e.completion.filterText?e.completion.filterText+" (filterText)":e.textLabel}
`,S+=`distance: ${e.distance} (localityBonus-setting)
`,S+=`index: ${e.idx}, based on ${e.completion.sortText&&`sortText: "${e.completion.sortText}"`||"label"}
`,S+=`commit_chars: ${(s=e.completion.commitCharacters)===null||s===void 0?void 0:s.join("")}
`,h=new Zt.W5().appendCodeblock("empty",S),r=`Provider: ${e.provider._debugDisplayName}`}if(!t&&!Qp(e)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),r){const S=r.length>1e5?`${r.substr(0,1e5)}\u2026`:r;this._type.textContent=S,this._type.title=S,q.$Z(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(S))}else q.PO(this._type),this._type.title="",q.Cp(this._type),this.domNode.classList.add("no-type");if(q.PO(this._docs),typeof h=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=h;else if(h){this._docs.classList.add("markdown-docs"),q.PO(this._docs);const S=this._markdownRenderer.render(h);this._docs.appendChild(S.element),this._renderDisposeable.add(S),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=S=>{S.preventDefault(),S.stopPropagation()},this._close.onclick=S=>{S.preventDefault(),S.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(e,t){const n=new q.Ro(e,t);q.Ro.equals(n,this._size)||(this._size=n,q.dp(this.domNode,e,t)),this._scrollbar.scanDomNode()}scrollDown(e=8){this._body.scrollTop+=e}scrollUp(e=8){this._body.scrollTop-=e}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(e){this._borderWidth=e}get borderWidth(){return this._borderWidth}};Xp=Uw([jw(1,G.TG)],Xp);class Kw{constructor(e,t){this.widget=e,this._editor=t,this._disposables=new lt.SL,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new $1,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(e.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let n,s,r=0,h=0;this._disposables.add(this._resizable.onDidWillResize(()=>{n=this._topLeft,s=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(S=>{if(n&&s){this.widget.layout(S.dimension.width,S.dimension.height);let Y=!1;S.west&&(h=s.width-S.dimension.width,Y=!0),S.north&&(r=s.height-S.dimension.height,Y=!0),Y&&this._applyTopLeft({top:n.top+r,left:n.left+h})}S.done&&(n=void 0,s=void 0,r=0,h=0,this._userSize=S.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var S;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(S=this._userSize)!==null&&S!==void 0?S:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(e=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),e&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(e,t){var n;const s=e.getBoundingClientRect();this._anchorBox=s,this._preferAlignAtTop=t,this._placeAtAnchor(this._anchorBox,(n=this._userSize)!==null&&n!==void 0?n:this.widget.size,t)}_placeAtAnchor(e,t,n){var s;const r=q.D6(document.body),h=this.widget.getLayoutInfo(),S=new q.Ro(220,2*h.lineHeight),Y=e.top,ne=function(){const Rn=r.width-(e.left+e.width+h.borderWidth+h.horizontalPadding),wi=-h.borderWidth+e.left+e.width,yi=new q.Ro(Rn,r.height-e.top-h.borderHeight-h.verticalPadding),ys=yi.with(void 0,e.top+e.height-h.borderHeight-h.verticalPadding);return{top:Y,left:wi,fit:Rn-t.width,maxSizeTop:yi,maxSizeBottom:ys,minSize:S.with(Math.min(Rn,S.width))}}(),Q=function(){const Rn=e.left-h.borderWidth-h.horizontalPadding,wi=Math.max(h.horizontalPadding,e.left-t.width-h.borderWidth),yi=new q.Ro(Rn,r.height-e.top-h.borderHeight-h.verticalPadding),ys=yi.with(void 0,e.top+e.height-h.borderHeight-h.verticalPadding);return{top:Y,left:wi,fit:Rn-t.width,maxSizeTop:yi,maxSizeBottom:ys,minSize:S.with(Math.min(Rn,S.width))}}(),he=function(){const Rn=e.left,wi=-h.borderWidth+e.top+e.height,yi=new q.Ro(e.width-h.borderHeight,r.height-e.top-e.height-h.verticalPadding);return{top:wi,left:Rn,fit:yi.height-t.height,maxSizeBottom:yi,maxSizeTop:yi,minSize:S.with(yi.width)}}(),ze=[ne,Q,he],Xe=(s=ze.find(Rn=>Rn.fit>=0))!==null&&s!==void 0?s:ze.sort((Rn,wi)=>wi.fit-Rn.fit)[0],bt=e.top+e.height-h.borderHeight;let Gt,fn=t.height;const pn=Math.max(Xe.maxSizeTop.height,Xe.maxSizeBottom.height);fn>pn&&(fn=pn);let zn;n?fn<=Xe.maxSizeTop.height?(Gt=!0,zn=Xe.maxSizeTop):(Gt=!1,zn=Xe.maxSizeBottom):fn<=Xe.maxSizeBottom.height?(Gt=!1,zn=Xe.maxSizeBottom):(Gt=!0,zn=Xe.maxSizeTop),this._applyTopLeft({left:Xe.left,top:Gt?Xe.top:bt-fn}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!Gt,Xe===ne,Gt,Xe!==ne),this._resizable.minSize=Xe.minSize,this._resizable.maxSize=zn,this._resizable.layout(fn,Math.min(zn.width,t.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(e){this._topLeft=e,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var _d;(function(g){g[g.FILE=0]="FILE",g[g.FOLDER=1]="FOLDER",g[g.ROOT_FOLDER=2]="ROOT_FOLDER"})(_d||(_d={}));const $w=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function am(g,e,t,n){const s=n===_d.ROOT_FOLDER?["rootfolder-icon"]:n===_d.FOLDER?["folder-icon"]:["file-icon"];if(t){let r;if(t.scheme===li.lg.data)r=Ss.Vb.parseMetaData(t).get(Ss.Vb.META_DATA_LABEL);else{const h=t.path.match($w);h?(r=lm(h[2].toLowerCase()),h[1]&&s.push(`${lm(h[1].toLowerCase())}-name-dir-icon`)):r=lm(t.authority.toLowerCase())}if(n===_d.FOLDER)s.push(`${r}-name-folder-icon`);else{if(r){if(s.push(`${r}-name-file-icon`),s.push("name-file-icon"),r.length<=255){const S=r.split(".");for(let Y=1;Y<S.length;Y++)s.push(`${S.slice(Y).join(".")}-ext-file-icon`)}s.push("ext-file-icon")}const h=Gw(g,e,t);h&&s.push(`${lm(h)}-lang-file-icon`)}}return s}function Gw(g,e,t){if(!t)return null;let n=null;if(t.scheme===li.lg.data){const r=Ss.Vb.parseMetaData(t).get(Ss.Vb.META_DATA_MIME);r&&(n=e.getLanguageIdByMimeType(r))}else{const s=g.getModel(t);s&&(n=s.getLanguageId())}return n&&n!==si.bd?n:e.guessLanguageIdByFilepathOrFirstLine(t)}function lm(g){return g.replace(/[\11\12\14\15\40]/g,"/")}var Zw=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Jp=function(g,e){return function(t,n){e(t,n,g)}},Kf;function G1(g){return`suggest-aria-id:${g}`}const Yw=(0,jr.q5)("suggest-more-info",ft.lA.chevronRight,Le.N("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),Qw=new(Kf=class Xm{extract(e,t){if(e.textLabel.match(Xm._regexStrict))return t[0]=e.textLabel,!0;if(e.completion.detail&&e.completion.detail.match(Xm._regexStrict))return t[0]=e.completion.detail,!0;if(typeof e.completion.documentation=="string"){const n=Xm._regexRelaxed.exec(e.completion.documentation);if(n&&(n.index===0||n.index+n[0].length===e.completion.documentation.length))return t[0]=n[0],!0}return!1}},Kf._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,Kf._regexStrict=new RegExp(`^${Kf._regexRelaxed.source}$`,"i"),Kf);let qp=class{constructor(e,t,n,s){this._editor=e,this._modelService=t,this._languageService=n,this._themeService=s,this._onDidToggleDetails=new wt.Q5,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(e){const t=Object.create(null);t.disposables=new lt.SL,t.root=e,t.root.classList.add("show-file-icons"),t.icon=(0,q.R3)(e,(0,q.$)(".icon")),t.colorspan=(0,q.R3)(t.icon,(0,q.$)("span.colorspan"));const n=(0,q.R3)(e,(0,q.$)(".contents")),s=(0,q.R3)(n,(0,q.$)(".main"));t.iconContainer=(0,q.R3)(s,(0,q.$)(".icon-label.codicon")),t.left=(0,q.R3)(s,(0,q.$)("span.left")),t.right=(0,q.R3)(s,(0,q.$)("span.right")),t.iconLabel=new gi.g(t.left,{supportHighlights:!0,supportIcons:!0}),t.disposables.add(t.iconLabel),t.parametersLabel=(0,q.R3)(t.left,(0,q.$)("span.signature-label")),t.qualifierLabel=(0,q.R3)(t.left,(0,q.$)("span.qualifier-label")),t.detailsLabel=(0,q.R3)(t.right,(0,q.$)("span.details-label")),t.readMore=(0,q.R3)(t.right,(0,q.$)("span.readMore"+St.kS.asCSSSelector(Yw))),t.readMore.title=Le.N("readMore","Read More");const r=()=>{const h=this._editor.getOptions(),S=h.get(44),Y=S.getMassagedFontFamily(oi.isSafari?so.hL.fontFamily:null),ne=S.fontFeatureSettings,Q=h.get(107)||S.fontSize,he=h.get(108)||S.lineHeight,ze=S.fontWeight,Xe=`${Q}px`,bt=`${he}px`;t.root.style.fontSize=Xe,t.root.style.fontWeight=ze,s.style.fontFamily=Y,s.style.fontFeatureSettings=ne,s.style.lineHeight=bt,t.icon.style.height=bt,t.icon.style.width=bt,t.readMore.style.height=bt,t.readMore.style.width=bt};return r(),t.disposables.add(this._editor.onDidChangeConfiguration(h=>{(h.hasChanged(44)||h.hasChanged(107)||h.hasChanged(108))&&r()})),t}renderElement(e,t,n){const{completion:s}=e;n.root.id=G1(t),n.colorspan.style.backgroundColor="";const r={labelEscapeNewLines:!0,matches:(0,bi.mB)(e.score)};let h=[];if(s.kind===19&&Qw.extract(e,h))n.icon.className="icon customcolor",n.iconContainer.className="icon hide",n.colorspan.style.backgroundColor=h[0];else if(s.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){n.icon.className="icon hide",n.iconContainer.className="icon hide";const S=am(this._modelService,this._languageService,qi.o.from({scheme:"fake",path:e.textLabel}),_d.FILE),Y=am(this._modelService,this._languageService,qi.o.from({scheme:"fake",path:s.detail}),_d.FILE);r.extraClasses=S.length>Y.length?S:Y}else s.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(n.icon.className="icon hide",n.iconContainer.className="icon hide",r.extraClasses=(0,ki.xH)([am(this._modelService,this._languageService,qi.o.from({scheme:"fake",path:e.textLabel}),_d.FOLDER),am(this._modelService,this._languageService,qi.o.from({scheme:"fake",path:s.detail}),_d.FOLDER)])):(n.icon.className="icon hide",n.iconContainer.className="",n.iconContainer.classList.add("suggest-icon",...ft.dT.asClassNameArray(qe.gX.toIcon(s.kind))));s.tags&&s.tags.indexOf(1)>=0&&(r.extraClasses=(r.extraClasses||[]).concat(["deprecated"]),r.matches=[]),n.iconLabel.setLabel(e.textLabel,void 0,r),typeof s.label=="string"?(n.parametersLabel.textContent="",n.detailsLabel.textContent=e0(s.detail||""),n.root.classList.add("string-label")):(n.parametersLabel.textContent=e0(s.label.detail||""),n.detailsLabel.textContent=e0(s.label.description||""),n.root.classList.remove("string-label")),this._editor.getOption(106).showInlineDetails?(0,q.$Z)(n.detailsLabel):(0,q.Cp)(n.detailsLabel),Qp(e)?(n.right.classList.add("can-expand-details"),(0,q.$Z)(n.readMore),n.readMore.onmousedown=S=>{S.stopPropagation(),S.preventDefault()},n.readMore.onclick=S=>{S.stopPropagation(),S.preventDefault(),this._onDidToggleDetails.fire()}):(n.right.classList.remove("can-expand-details"),(0,q.Cp)(n.readMore),n.readMore.onmousedown=null,n.readMore.onclick=null)}disposeTemplate(e){e.disposables.dispose()}};qp=Zw([Jp(1,zs.q),Jp(2,Xr.O),Jp(3,St.XE)],qp);function e0(g){return g.replace(/\r\n|\r|\n/g,"")}var Xw=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},cm=function(g,e){return function(t,n){e(t,n,g)}},Jw=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};const qL=(0,Se.P6G)("editorSuggestWidget.background",{dark:Se.D0T,light:Se.D0T,hc:Se.D0T},Le.N("editorSuggestWidgetBackground","Background color of the suggest widget.")),eE=(0,Se.P6G)("editorSuggestWidget.border",{dark:Se.D1_,light:Se.D1_,hc:Se.D1_},Le.N("editorSuggestWidgetBorder","Border color of the suggest widget.")),t0=(0,Se.P6G)("editorSuggestWidget.foreground",{dark:Se.NOs,light:Se.NOs,hc:Se.NOs},Le.N("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),tE=(0,Se.P6G)("editorSuggestWidget.selectedForeground",{dark:Se.NPS,light:Se.NPS,hc:Se.NPS},Le.N("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),nE=(0,Se.P6G)("editorSuggestWidget.selectedIconForeground",{dark:Se.cbQ,light:Se.cbQ,hc:Se.cbQ},Le.N("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget.")),qw=(0,Se.P6G)("editorSuggestWidget.selectedBackground",{dark:Se.Vqd,light:Se.Vqd,hc:Se.Vqd},Le.N("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")),iE=(0,Se.P6G)("editorSuggestWidget.highlightForeground",{dark:Se.Gwp,light:Se.Gwp,hc:Se.Gwp},Le.N("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),sE=(0,Se.P6G)("editorSuggestWidget.focusHighlightForeground",{dark:Se.PX0,light:Se.PX0,hc:Se.PX0},Le.N("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),oE=(0,Se.P6G)("editorSuggestWidgetStatus.foreground",{dark:(0,Se.ZnX)(t0,.5),light:(0,Se.ZnX)(t0,.5),hc:(0,Se.ZnX)(t0,.5)},Le.N("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class ey{constructor(e,t){this._service=e,this._key=`suggestWidget.size/${t.getEditorType()}/${t instanceof Il}`}restore(){var e;const t=(e=this._service.get(this._key,0))!==null&&e!==void 0?e:"";try{const n=JSON.parse(t);if(q.Ro.is(n))return q.Ro.lift(n)}catch(n){}}store(e){this._service.store(this._key,JSON.stringify(e),0,1)}reset(){this._service.remove(this._key,0)}}let $f=class X0{constructor(e,t,n,s,r){this.editor=e,this._storageService=t,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new Ht._F,this._disposables=new lt.SL,this._onDidSelect=new wt.Q5,this._onDidFocus=new wt.Q5,this._onDidHide=new wt.Q5,this._onDidShow=new wt.Q5,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new wt.Q5,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new $1,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new ty(this,e),this._persistedSize=new ey(t,e);class h{constructor(Xe,bt,Gt=!1,fn=!1){this.persistedSize=Xe,this.currentSize=bt,this.persistHeight=Gt,this.persistWidth=fn}}let S;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),S=new h(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(ze=>{var Xe,bt,Gt,fn;if(this._resize(ze.dimension.width,ze.dimension.height),S&&(S.persistHeight=S.persistHeight||!!ze.north||!!ze.south,S.persistWidth=S.persistWidth||!!ze.east||!!ze.west),!!ze.done){if(S){const{itemHeight:pn,defaultSize:zn}=this.getLayoutInfo(),Rn=Math.round(pn/2);let{width:wi,height:yi}=this.element.size;(!S.persistHeight||Math.abs(S.currentSize.height-yi)<=Rn)&&(yi=(bt=(Xe=S.persistedSize)===null||Xe===void 0?void 0:Xe.height)!==null&&bt!==void 0?bt:zn.height),(!S.persistWidth||Math.abs(S.currentSize.width-wi)<=Rn)&&(wi=(fn=(Gt=S.persistedSize)===null||Gt===void 0?void 0:Gt.width)!==null&&fn!==void 0?fn:zn.width),this._persistedSize.store(new q.Ro(wi,yi))}this._contentWidget.unlockPreference(),S=void 0}})),this._messageElement=q.R3(this.element.domNode,q.$(".message")),this._listElement=q.R3(this.element.domNode,q.$(".tree"));const Y=r.createInstance(Xp,this.editor);Y.onDidClose(this.toggleDetails,this,this._disposables),this._details=new Kw(Y,this.editor);const ne=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(106).showIcons);ne();const Q=r.createInstance(qp,this.editor);this._disposables.add(Q),this._disposables.add(Q.onDidToggleDetails(()=>this.toggleDetails())),this._list=new aw.aV("SuggestWidget",this._listElement,{getHeight:ze=>this.getLayoutInfo().itemHeight,getTemplateId:ze=>"suggestion"},[Q],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>Le.N("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:ze=>{let Xe=ze.textLabel;if(typeof ze.completion.label!="string"){const{detail:pn,description:zn}=ze.completion.label;pn&&zn?Xe=Le.N("label.full","{0}{1}, {2}",Xe,pn,zn):pn?Xe=Le.N("label.detail","{0}{1}",Xe,pn):zn&&(Xe=Le.N("label.desc","{0}, {1}",Xe,zn))}if(!ze.isResolved||!this._isDetailsVisible())return Xe;const{documentation:bt,detail:Gt}=ze.completion,fn=En.WU("{0}{1}",Gt||"",bt?typeof bt=="string"?bt:bt.value:"");return Le.N("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",Xe,fn)}}}),this._status=r.createInstance(Yp,this.element.domNode);const he=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(106).showStatusBar);he(),this._disposables.add((0,Ds.Jl)(this._list,s,{listInactiveFocusBackground:qw,listInactiveFocusOutline:Se.xL1})),this._disposables.add(s.onDidColorThemeChange(ze=>this._onThemeChange(ze))),this._onThemeChange(s.getColorTheme()),this._disposables.add(this._list.onMouseDown(ze=>this._onListMouseDownOrTap(ze))),this._disposables.add(this._list.onTap(ze=>this._onListMouseDownOrTap(ze))),this._disposables.add(this._list.onDidChangeSelection(ze=>this._onListSelection(ze))),this._disposables.add(this._list.onDidChangeFocus(ze=>this._onListFocus(ze))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(ze=>{ze.hasChanged(106)&&(he(),ne())})),this._ctxSuggestWidgetVisible=ss.Visible.bindTo(n),this._ctxSuggestWidgetDetailsVisible=ss.DetailsVisible.bindTo(n),this._ctxSuggestWidgetMultipleSuggestions=ss.MultipleSuggestions.bindTo(n),this._disposables.add(q.mu(this._details.widget.domNode,"keydown",ze=>{this._onDetailsKeydown.fire(ze)})),this._disposables.add(this.editor.onMouseDown(ze=>this._onEditorMouseDown(ze)))}dispose(){var e;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(e=this._loadingTimeout)===null||e===void 0||e.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(e){this._details.widget.domNode.contains(e.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(e.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(e){typeof e.element=="undefined"||typeof e.index=="undefined"||(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this._select(e.element,e.index))}_onListSelection(e){e.elements.length&&this._select(e.elements[0],e.indexes[0])}_select(e,t){const n=this._completionModel;n&&(this._onDidSelect.fire({item:e,index:t,model:n}),this.editor.focus())}_onThemeChange(e){this._details.widget.borderWidth=e.type==="hc"?2:1}_onListFocus(e){var t;if(this._ignoreFocusEvents)return;if(!e.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0});return}if(!this._completionModel)return;const n=e.elements[0],s=e.indexes[0];n!==this._focusedItem&&((t=this._currentSuggestionDetails)===null||t===void 0||t.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=n,this._list.reveal(s),this._currentSuggestionDetails=(0,Ht.PG)(r=>Jw(this,void 0,void 0,function*(){const h=(0,Ht.Vg)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),S=r.onCancellationRequested(()=>h.dispose()),Y=yield n.resolve(r);return h.dispose(),S.dispose(),Y})),this._currentSuggestionDetails.then(()=>{s>=this._list.length||n!==this._list.element(s)||(this._ignoreFocusEvents=!0,this._list.splice(s,1,[n]),this._list.setFocus([s]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:G1(s)}))}).catch(ui.dL)),this._onDidFocus.fire({item:n,index:s,model:this._completionModel})}_setState(e){if(this._state!==e)switch(this._state=e,this.element.domNode.classList.toggle("frozen",e===4),this.element.domNode.classList.remove("message"),e){case 0:q.Cp(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=X0.LOADING_MESSAGE,q.Cp(this._listElement,this._status.element),q.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=X0.NO_SUGGESTIONS_MESSAGE,q.Cp(this._listElement,this._status.element),q.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:q.Cp(this._messageElement),q.$Z(this._listElement,this._status.element),this._show();break;case 4:q.Cp(this._messageElement),q.$Z(this._listElement,this._status.element),this._show();break;case 5:q.Cp(this._messageElement),q.$Z(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(e,t){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!e,this._isAuto||(this._loadingTimeout=(0,Ht.Vg)(()=>this._setState(1),t)))}showSuggestions(e,t,n,s){var r,h;if(this._contentWidget.setPosition(this.editor.getPosition()),(r=this._loadingTimeout)===null||r===void 0||r.dispose(),(h=this._currentSuggestionDetails)===null||h===void 0||h.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==e&&(this._completionModel=e),n&&this._state!==2&&this._state!==0){this._setState(4);return}const S=this._completionModel.items.length,Y=S===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(S>1),Y){this._setState(s?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(n?4:3),this._list.reveal(t,0),this._list.setFocus([t]),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(Qp(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(e){this._details.show(),e?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var e;(e=this._loadingTimeout)===null||e===void 0||e.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const t=this._persistedSize.restore(),n=Math.ceil(this.getLayoutInfo().itemHeight*4.3);t&&t.height<n&&this._persistedSize.store(t.with(void 0,n))}isFrozen(){return this._state===4}_afterRender(e){if(e===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(e){var t,n,s;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const r=q.D6(document.body),h=this.getLayoutInfo();e||(e=h.defaultSize);let S=e.height,Y=e.width;if(this._status.element.style.lineHeight=`${h.itemHeight}px`,this._state===2||this._state===1)S=h.itemHeight+h.borderHeight,Y=h.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new q.Ro(Y,S),this._contentWidget.setPreference(2);else{const ne=r.width-h.borderHeight-2*h.horizontalPadding;Y>ne&&(Y=ne);const Q=this._completionModel?this._completionModel.stats.pLabelLen*h.typicalHalfwidthCharacterWidth:Y,he=h.statusBarHeight+this._list.contentHeight+h.borderHeight,ze=h.itemHeight+h.statusBarHeight,Xe=q.i(this.editor.getDomNode()),bt=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),Gt=Xe.top+bt.top+bt.height,fn=Math.min(r.height-Gt-h.verticalPadding,he),pn=Xe.top+bt.top-h.verticalPadding,zn=Math.min(pn,he);let Rn=Math.min(Math.max(zn,fn)+h.borderHeight,he);S===((t=this._cappedHeight)===null||t===void 0?void 0:t.capped)&&(S=this._cappedHeight.wanted),S<ze&&(S=ze),S>Rn&&(S=Rn);const wi=150;S>fn||this._forceRenderingAbove&&pn>wi?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),Rn=zn):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),Rn=fn),this.element.preferredSize=new q.Ro(Q,h.defaultSize.height),this.element.maxSize=new q.Ro(ne,Rn),this.element.minSize=new q.Ro(220,ze),this._cappedHeight=S===he?{wanted:(s=(n=this._cappedHeight)===null||n===void 0?void 0:n.wanted)!==null&&s!==void 0?s:e.height,capped:S}:void 0}this._resize(Y,S)}_resize(e,t){const{width:n,height:s}=this.element.maxSize;e=Math.min(n,e),t=Math.min(s,t);const{statusBarHeight:r}=this.getLayoutInfo();this._list.layout(t-r,e),this._listElement.style.height=`${t-r}px`,this.element.layout(t,e),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var e;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((e=this._contentWidget.getPosition())===null||e===void 0?void 0:e.preference[0])===2)}getLayoutInfo(){const e=this.editor.getOption(44),t=(0,lw.uZ)(this.editor.getOption(108)||e.lineHeight,8,1e3),n=!this.editor.getOption(106).showStatusBar||this._state===2||this._state===1?0:t,s=this._details.widget.borderWidth,r=2*s;return{itemHeight:t,statusBarHeight:n,borderWidth:s,borderHeight:r,typicalHalfwidthCharacterWidth:e.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new q.Ro(430,n+12*t+r)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(e){this._storageService.store("expandSuggestionDocs",e,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};$f.LOADING_MESSAGE=Le.N("suggestWidget.loading","Loading..."),$f.NO_SUGGESTIONS_MESSAGE=Le.N("suggestWidget.noSuggestions","No suggestions."),$f=Xw([cm(1,ar.Uy),cm(2,nn.i6),cm(3,St.XE),cm(4,G.TG)],$f);class ty{constructor(e,t){this._widget=e,this._editor=t,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:e,width:t}=this._widget.element.size,{borderWidth:n,horizontalPadding:s}=this._widget.getLayoutInfo();return new q.Ro(t+2*n+s,e+2*n)}afterRender(e){this._widget._afterRender(e)}setPreference(e){this._preferenceLocked||(this._preference=e)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(e){this._position=e}}var ny=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Ah=function(g,e){return function(t,n){e(t,n,g)}};let iy=!1;class sy{constructor(e,t){if(this._model=e,this._position=t,e.getLineMaxColumn(t.lineNumber)!==t.column){const s=e.getOffsetAt(t),r=e.getPositionAt(s+1);this._marker=e.deltaDecorations([],[{range:Ue.e.fromPositions(t,r),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){const t=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(t.getStartPosition())-this._model.getOffsetAt(e)}else return this._model.getLineMaxColumn(e.lineNumber)-e.column}}let Hl=class Av{constructor(e,t,n,s,r,h,S){this._memoryService=t,this._commandService=n,this._contextKeyService=s,this._instantiationService=r,this._logService=h,this._telemetryService=S,this._lineSuffix=new lt.XK,this._toDispose=new lt.SL,this._selectors=new oy(he=>he.priority),this._telemetryGate=0,this.editor=e,this.model=r.createInstance($p,this.editor);const Y=ss.InsertMode.bindTo(s);Y.set(e.getOption(106).insertMode),this.model.onDidTrigger(()=>Y.set(e.getOption(106).insertMode)),this.widget=this._toDispose.add(new Ht.Ue(()=>{const he=this._instantiationService.createInstance($f,this.editor);this._toDispose.add(he),this._toDispose.add(he.onDidSelect(fn=>this._insertSuggestion(fn,0),this));const ze=new ew(this.editor,he,fn=>this._insertSuggestion(fn,2));this._toDispose.add(ze),this._toDispose.add(this.model.onDidSuggest(fn=>{fn.completionModel.items.length===0&&ze.reset()}));const Xe=ss.MakesTextEdit.bindTo(this._contextKeyService),bt=ss.HasInsertAndReplaceRange.bindTo(this._contextKeyService),Gt=ss.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,lt.OF)(()=>{Xe.reset(),bt.reset(),Gt.reset()})),this._toDispose.add(he.onDidFocus(({item:fn})=>{const pn=this.editor.getPosition(),zn=fn.editStart.column,Rn=pn.column;let wi=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!fn.completion.additionalTextEdits&&!(fn.completion.insertTextRules&4)&&Rn-zn===fn.completion.insertText.length&&(wi=this.editor.getModel().getValueInRange({startLineNumber:pn.lineNumber,startColumn:zn,endLineNumber:pn.lineNumber,endColumn:Rn})!==fn.completion.insertText),Xe.set(wi),bt.set(!Cn.L.equals(fn.editInsertEnd,fn.editReplaceEnd)),Gt.set(Boolean(fn.provider.resolveCompletionItem)||Boolean(fn.completion.documentation)||fn.completion.detail!==fn.completion.label)})),this._toDispose.add(he.onDetailsKeyDown(fn=>{if(fn.toKeybinding().equals(new H1.QC(!0,!1,!1,!1,33))||Yn.dz&&fn.toKeybinding().equals(new H1.QC(!1,!1,!1,!0,33))){fn.stopPropagation();return}fn.toKeybinding().isModifierKey()||this.editor.focus()})),he})),this._overtypingCapturer=this._toDispose.add(new Ht.Ue(()=>this._toDispose.add(new rm(this.editor,this.model)))),this._alternatives=this._toDispose.add(new Ht.Ue(()=>this._toDispose.add(new Ou(this.editor,this._contextKeyService)))),this._toDispose.add(r.createInstance(jf,e)),this._toDispose.add(this.model.onDidTrigger(he=>{this.widget.value.showTriggered(he.auto,he.shy?250:50),this._lineSuffix.value=new sy(this.editor.getModel(),he.position)})),this._toDispose.add(this.model.onDidSuggest(he=>{if(!he.shy){let ze=-1;for(const Xe of this._selectors.itemsOrderedByPriorityDesc)if(ze=Xe.select(this.editor.getModel(),this.editor.getPosition(),he.completionModel.items),ze!==-1)break;ze===-1&&(ze=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),he.completionModel.items)),this.widget.value.showSuggestions(he.completionModel,ze,he.isFrozen,he.auto)}})),this._toDispose.add(this.model.onDidCancel(he=>{he.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{iy||(this.model.cancel(),this.model.clear())}));let ne=ss.AcceptSuggestionsOnEnter.bindTo(s),Q=()=>{const he=this.editor.getOption(1);ne.set(he==="on"||he==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>Q())),Q()}static get(e){return e.getContribution(Av.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(e,t){if(!e||!e.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const n=Tr.get(this.editor);if(!n)return;const s=this.editor.getModel(),r=s.getAlternativeVersionId(),{item:h}=e,S=[],Y=new bn.A;t&1||this.editor.pushUndoStop();const ne=this.getOverwriteInfo(h,Boolean(t&8));if(this._memoryService.memorize(s,this.editor.getPosition(),h),Array.isArray(h.completion.additionalTextEdits)){const he=Pa.Z.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",h.completion.additionalTextEdits.map(ze=>D.h.replace(Ue.e.lift(ze.range),ze.text))),he.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!h.isResolved){const he=new Ji.G(!0);let ze;const Xe=s.onDidChangeContent(pn=>{if(pn.isFlush){Y.cancel(),Xe.dispose();return}for(let zn of pn.changes){const Rn=Ue.e.getEndPosition(zn.range);(!ze||Cn.L.isBefore(Rn,ze))&&(ze=Rn)}});let bt=t;t|=2;let Gt=!1,fn=this.editor.onWillType(()=>{fn.dispose(),Gt=!0,bt&2||this.editor.pushUndoStop()});S.push(h.resolve(Y.token).then(()=>{if(!h.completion.additionalTextEdits||Y.token.isCancellationRequested||ze&&h.completion.additionalTextEdits.some(zn=>Cn.L.isBefore(ze,Ue.e.getStartPosition(zn.range))))return!1;Gt&&this.editor.pushUndoStop();const pn=Pa.Z.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",h.completion.additionalTextEdits.map(zn=>D.h.replace(Ue.e.lift(zn.range),zn.text))),pn.restoreRelativeVerticalPositionOfCursor(this.editor),(Gt||!(bt&2))&&this.editor.pushUndoStop(),!0}).then(pn=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",he.elapsed(),pn),Xe.dispose(),fn.dispose()}))}let{insertText:Q}=h.completion;h.completion.insertTextRules&4||(Q=Qn.escape(Q)),n.insert(Q,{overwriteBefore:ne.overwriteBefore,overwriteAfter:ne.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(h.completion.insertTextRules&1),clipboardText:e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),t&2||this.editor.pushUndoStop(),h.completion.command?h.completion.command.id===Gf.id?this.model.trigger({auto:!0,shy:!1},!0):(S.push(this._commandService.executeCommand(h.completion.command.id,...h.completion.command.arguments?[...h.completion.command.arguments]:[]).catch(ui.dL)),this.model.cancel()):this.model.cancel(),t&4&&this._alternatives.value.set(e,he=>{for(Y.cancel();s.canUndo();){r!==s.getAlternativeVersionId()&&s.undo(),this._insertSuggestion(he,3|(t&8?8:0));break}}),this._alertCompletionItem(h),Promise.all(S).finally(()=>{this._reportSuggestionAcceptedTelemetry(s,e),this.model.clear(),Y.dispose()})}_reportSuggestionAcceptedTelemetry(e,t){var n;if(this._telemetryGate++%100!==0)return;const s=((n=t.item.provider._debugDisplayName)!==null&&n!==void 0?n:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:s,basenameHash:(0,jl.vp)((0,Ss.EZ)(e.uri)).toString(16),languageId:e.getLanguageId(),fileExtension:(0,Ss.DZ)(e.uri)})}getOverwriteInfo(e,t){(0,gs.p_)(this.editor.hasModel());let n=this.editor.getOption(106).insertMode==="replace";t&&(n=!n);const s=e.position.column-e.editStart.column,r=(n?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column,h=this.editor.getPosition().column-e.position.column,S=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:s+h,overwriteAfter:r+S}}_alertCompletionItem(e){if((0,ki.Of)(e.completion.additionalTextEdits)){let t=Le.N("aria.alert.snippet","Accepting '{0}' made {1} additional edits",e.textLabel,e.completion.additionalTextEdits.length);(0,Rt.Z9)(t)}}triggerSuggest(e,t){this.editor.hasModel()&&(this.model.trigger({auto:t!=null?t:!1,shy:!1},!1,e),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(e){if(!this.editor.hasModel())return;const t=this.editor.getPosition(),n=()=>{t.equals(this.editor.getPosition())&&this._commandService.executeCommand(e.fallback)},s=r=>{if(r.completion.insertTextRules&4||r.completion.additionalTextEdits)return!0;const h=this.editor.getPosition(),S=r.editStart.column,Y=h.column;return Y-S!==r.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:h.lineNumber,startColumn:S,endLineNumber:h.lineNumber,endColumn:Y})!==r.completion.insertText};wt.ju.once(this.model.onDidTrigger)(r=>{let h=[];wt.ju.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,lt.B9)(h),n()},void 0,h),this.model.onDidSuggest(({completionModel:S})=>{if((0,lt.B9)(h),S.items.length===0){n();return}const Y=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),S.items),ne=S.items[Y];if(!s(ne)){n();return}this.editor.pushUndoStop(),this._insertSuggestion({index:Y,item:ne,model:S},7)},void 0,h)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(t,0),this.editor.focus()}acceptSelectedSuggestion(e,t){const n=this.widget.value.getFocusedItem();let s=0;e&&(s|=4),t&&(s|=8),this._insertSuggestion(n,s)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}registerSelector(e){return this._selectors.register(e)}};Hl.ID="editor.contrib.suggestController",Hl=ny([Ah(1,K1),Ah(2,Ki.Hy),Ah(3,nn.i6),Ah(4,G.TG),Ah(5,sm.VZ),Ah(6,ks.b)],Hl);class oy{constructor(e){this.prioritySelector=e,this._items=new Array}register(e){if(this._items.indexOf(e)!==-1)throw new Error("Value is already registered");return this._items.push(e),this._items.sort((t,n)=>this.prioritySelector(n)-this.prioritySelector(t)),{dispose:()=>{const t=this._items.indexOf(e);t>=0&&this._items.splice(t,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class Gf extends Pe.R6{constructor(){super({id:Gf.id,label:Le.N("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:nn.Ao.and(vt.u.writable,vt.u.hasCompletionItemProvider),kbOpts:{kbExpr:vt.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(e,t,n){const s=Hl.get(t);if(!s)return;let r;n&&typeof n=="object"&&n.auto===!0&&(r=!0),s.triggerSuggest(void 0,r)}}Gf.id="editor.action.triggerSuggest",(0,Pe._K)(Hl.ID,Hl),(0,Pe.Qr)(Gf);const wl=100+90,ja=Pe._l.bindToContribution(Hl.get);(0,Pe.fK)(new ja({id:"acceptSelectedSuggestion",precondition:ss.Visible,handler(g){g.acceptSelectedSuggestion(!0,!1)}})),Ct.W.registerKeybindingRule({id:"acceptSelectedSuggestion",when:nn.Ao.and(ss.Visible,vt.u.textInputFocus),primary:2,weight:wl}),Ct.W.registerKeybindingRule({id:"acceptSelectedSuggestion",when:nn.Ao.and(ss.Visible,vt.u.textInputFocus,ss.AcceptSuggestionsOnEnter,ss.MakesTextEdit),primary:3,weight:wl}),Ve.BH.appendMenuItem(or,{command:{id:"acceptSelectedSuggestion",title:Le.N("accept.insert","Insert")},group:"left",order:1,when:ss.HasInsertAndReplaceRange.toNegated()}),Ve.BH.appendMenuItem(or,{command:{id:"acceptSelectedSuggestion",title:Le.N("accept.insert","Insert")},group:"left",order:1,when:nn.Ao.and(ss.HasInsertAndReplaceRange,ss.InsertMode.isEqualTo("insert"))}),Ve.BH.appendMenuItem(or,{command:{id:"acceptSelectedSuggestion",title:Le.N("accept.replace","Replace")},group:"left",order:1,when:nn.Ao.and(ss.HasInsertAndReplaceRange,ss.InsertMode.isEqualTo("replace"))}),(0,Pe.fK)(new ja({id:"acceptAlternativeSelectedSuggestion",precondition:nn.Ao.and(ss.Visible,vt.u.textInputFocus),kbOpts:{weight:wl,kbExpr:vt.u.textInputFocus,primary:1027,secondary:[1026]},handler(g){g.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:or,group:"left",order:2,when:nn.Ao.and(ss.HasInsertAndReplaceRange,ss.InsertMode.isEqualTo("insert")),title:Le.N("accept.replace","Replace")},{menuId:or,group:"left",order:2,when:nn.Ao.and(ss.HasInsertAndReplaceRange,ss.InsertMode.isEqualTo("replace")),title:Le.N("accept.insert","Insert")}]})),Ki.P0.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,Pe.fK)(new ja({id:"hideSuggestWidget",precondition:ss.Visible,handler:g=>g.cancelSuggestWidget(),kbOpts:{weight:wl,kbExpr:vt.u.textInputFocus,primary:9,secondary:[1033]}})),(0,Pe.fK)(new ja({id:"selectNextSuggestion",precondition:nn.Ao.and(ss.Visible,ss.MultipleSuggestions),handler:g=>g.selectNextSuggestion(),kbOpts:{weight:wl,kbExpr:vt.u.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,Pe.fK)(new ja({id:"selectNextPageSuggestion",precondition:nn.Ao.and(ss.Visible,ss.MultipleSuggestions),handler:g=>g.selectNextPageSuggestion(),kbOpts:{weight:wl,kbExpr:vt.u.textInputFocus,primary:12,secondary:[2060]}})),(0,Pe.fK)(new ja({id:"selectLastSuggestion",precondition:nn.Ao.and(ss.Visible,ss.MultipleSuggestions),handler:g=>g.selectLastSuggestion()})),(0,Pe.fK)(new ja({id:"selectPrevSuggestion",precondition:nn.Ao.and(ss.Visible,ss.MultipleSuggestions),handler:g=>g.selectPrevSuggestion(),kbOpts:{weight:wl,kbExpr:vt.u.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,Pe.fK)(new ja({id:"selectPrevPageSuggestion",precondition:nn.Ao.and(ss.Visible,ss.MultipleSuggestions),handler:g=>g.selectPrevPageSuggestion(),kbOpts:{weight:wl,kbExpr:vt.u.textInputFocus,primary:11,secondary:[2059]}})),(0,Pe.fK)(new ja({id:"selectFirstSuggestion",precondition:nn.Ao.and(ss.Visible,ss.MultipleSuggestions),handler:g=>g.selectFirstSuggestion()})),(0,Pe.fK)(new ja({id:"toggleSuggestionDetails",precondition:ss.Visible,handler:g=>g.toggleSuggestionDetails(),kbOpts:{weight:wl,kbExpr:vt.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:or,group:"right",order:1,when:nn.Ao.and(ss.DetailsVisible,ss.CanResolve),title:Le.N("detail.more","show less")},{menuId:or,group:"right",order:1,when:nn.Ao.and(ss.DetailsVisible.toNegated(),ss.CanResolve),title:Le.N("detail.less","show more")}]})),(0,Pe.fK)(new ja({id:"toggleExplainMode",precondition:ss.Visible,handler:g=>g.toggleExplainMode(),kbOpts:{weight:100,primary:2133}})),(0,Pe.fK)(new ja({id:"toggleSuggestionFocus",precondition:ss.Visible,handler:g=>g.toggleSuggestionFocus(),kbOpts:{weight:wl,kbExpr:vt.u.textInputFocus,primary:2570,mac:{primary:778}}})),(0,Pe.fK)(new ja({id:"insertBestCompletion",precondition:nn.Ao.and(vt.u.textInputFocus,nn.Ao.equals("config.editor.tabCompletion","on"),jf.AtEnd,ss.Visible.toNegated(),Ou.OtherSuggestions.toNegated(),Tr.InSnippetMode.toNegated()),handler:(g,e)=>{g.triggerSuggestAndAcceptBest((0,gs.Kn)(e)?Object.assign({fallback:"tab"},e):{fallback:"tab"})},kbOpts:{weight:wl,primary:2}})),(0,Pe.fK)(new ja({id:"insertNextSuggestion",precondition:nn.Ao.and(vt.u.textInputFocus,nn.Ao.equals("config.editor.tabCompletion","on"),Ou.OtherSuggestions,ss.Visible.toNegated(),Tr.InSnippetMode.toNegated()),handler:g=>g.acceptNextSuggestion(),kbOpts:{weight:wl,kbExpr:vt.u.textInputFocus,primary:2}})),(0,Pe.fK)(new ja({id:"insertPrevSuggestion",precondition:nn.Ao.and(vt.u.textInputFocus,nn.Ao.equals("config.editor.tabCompletion","on"),Ou.OtherSuggestions,ss.Visible.toNegated(),Tr.InSnippetMode.toNegated()),handler:g=>g.acceptPrevSuggestion(),kbOpts:{weight:wl,kbExpr:vt.u.textInputFocus,primary:1026}})),(0,Pe.Qr)(class extends Pe.R6{constructor(){super({id:"editor.action.resetSuggestSize",label:Le.N("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(g,e){var t;(t=Hl.get(e))===null||t===void 0||t.resetWidgetSize()}});class ry extends lt.JT{constructor(e,t){super(),this.editor=e,this.suggestControllerPreselector=t,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new wt.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new Ht.pY(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(e.onKeyDown(s=>{s.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(e.onKeyUp(s=>{s.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const n=Hl.get(this.editor);if(n){this._register(n.registerSelector({priority:100,select:(h,S,Y)=>{const ne=this.editor.getModel(),Q=im(ne,this.suggestControllerPreselector());if(!Q)return-1;const he=Cn.L.lift(S),ze=Y.map((bt,Gt)=>{const fn=Z1(n,he,bt,this.isShiftKeyPressed),pn=im(ne,fn==null?void 0:fn.normalizedInlineCompletion);if(!pn)return;const zn=ay(Q.range,pn.range)&&Q.text.startsWith(pn.text);return{index:Gt,valid:zn,prefixLength:pn.text.length,suggestItem:bt}}).filter(bt=>bt&&bt.valid),Xe=(0,ki.Dc)(ze,(0,ki.tT)(bt=>bt.prefixLength,ki.fv));return Xe?Xe.index:-1}}));let s=!1;const r=()=>{s||(s=!0,this._register(n.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(n.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(n.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(wt.ju.once(n.model.onDidTrigger)(h=>{r()}))}this.update(this._isActive)}get state(){if(!!this._isActive)return{selectedItem:this._currentSuggestItemInfo}}update(e){const t=this.getSuggestItemInfo();let n=!1;ly(this._currentSuggestItemInfo,t)||(this._currentSuggestItemInfo=t,n=!0),this._isActive!==e&&(this._isActive=e,n=!0),n&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){const e=Hl.get(this.editor);if(!e||!this.isSuggestWidgetVisible)return;const t=e.widget.value.getFocusedItem();if(!!t)return Z1(e,this.editor.getPosition(),t.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const e=Hl.get(this.editor);e&&e.stopForceRenderingAbove()}forceRenderingAbove(){const e=Hl.get(this.editor);e&&e.forceRenderingAbove()}}function ay(g,e){return e.startLineNumber===g.startLineNumber&&e.startColumn===g.startColumn&&(e.endLineNumber<g.endLineNumber||e.endLineNumber===g.endLineNumber&&e.endColumn<=g.endColumn)}function ly(g,e){return g===e?!0:!g||!e?!1:g.completionItemKind===e.completionItemKind&&g.isSnippetText===e.isSnippetText&&Sb(g.normalizedInlineCompletion,e.normalizedInlineCompletion)}function Z1(g,e,t,n){if(Array.isArray(t.completion.additionalTextEdits)&&t.completion.additionalTextEdits.length>0)return{completionItemKind:t.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:Ue.e.fromPositions(e,e),text:""}};let{insertText:s}=t.completion,r=!1;if(t.completion.insertTextRules&4){const S=new Qn().parse(s),Y=g.editor.getModel();if(S.children.length>100)return;Vc.adjustWhitespace(Y,e,S,!0,!0),s=S.toString(),r=!0}const h=g.getOverwriteInfo(t,n);return{isSnippetText:r,completionItemKind:t.completion.kind,normalizedInlineCompletion:{text:s,range:Ue.e.fromPositions(e.delta(0,-h.overwriteBefore),e.delta(0,Math.max(h.overwriteAfter,0)))}}}var cy=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},dy=function(g,e){return function(t,n){e(t,n,g)}},Y1=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};let n0=class extends O1{constructor(e,t,n){super(e),this.cache=t,this.languageFeaturesService=n,this.suggestionInlineCompletionSource=this._register(new ry(this.editor,()=>{var s,r;return(r=(s=this.cache.value)===null||s===void 0?void 0:s.completions[0])===null||r===void 0?void 0:r.toLiveInlineCompletion()})),this.updateOperation=this._register(new lt.XK),this.updateCacheSoon=this._register(new Ht.pY(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const r=this.ghostText;r&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,uy(r.parts.map(h=>h.lines.length-1)))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(s=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()})),this._register((0,lt.OF)(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return this.suggestionInlineCompletionSource.state!==void 0}isSuggestionPreviewEnabled(){return this.editor.getOption(106).preview}updateCache(){return Y1(this,void 0,void 0,function*(){const e=this.suggestionInlineCompletionSource.state;if(!e||!e.selectedItem)return;const t={text:e.selectedItem.normalizedInlineCompletion.text,range:e.selectedItem.normalizedInlineCompletion.range,isSnippetText:e.selectedItem.isSnippetText,completionKind:e.selectedItem.completionItemKind},n=this.editor.getPosition(),s=(0,Ht.PG)(h=>Y1(this,void 0,void 0,function*(){let S;try{S=yield W1(this.languageFeaturesService.inlineCompletionsProvider,n,this.editor.getModel(),{triggerKind:qe.bw.Automatic,selectedSuggestionInfo:t},h)}catch(Y){(0,ui.dL)(Y);return}h.isCancellationRequested||(this.cache.setValue(this.editor,S,qe.bw.Automatic),this.onDidChangeEmitter.fire())})),r=new B1(s,qe.bw.Automatic);this.updateOperation.value=r,yield s,this.updateOperation.value===r&&this.updateOperation.clear()})}get ghostText(){var e,t,n;const s=this.isSuggestionPreviewEnabled(),r=im(this.editor.getModel(),(t=(e=this.cache.value)===null||e===void 0?void 0:e.completions[0])===null||t===void 0?void 0:t.toLiveInlineCompletion()),h=this.suggestionInlineCompletionSource.state,S=im(this.editor.getModel(),(n=h==null?void 0:h.selectedItem)===null||n===void 0?void 0:n.normalizedInlineCompletion),Y=r&&S&&r.text.startsWith(S.text)&&r.range.equalsRange(S.range);if(!s&&!Y)return;const ne=Y?r:S||r,Q=Y?ne.text.length-S.text.length:0;return this.toGhostText(ne,Q)}toGhostText(e,t){const n=this.editor.getOptions().get(106).previewMode;return e?F1(e,this.editor.getModel(),n,this.editor.getPosition(),t)||new A1(e.range.endLineNumber,[],this.minReservedLineCount):void 0}};n0=cy([dy(2,ri.p)],n0);function uy(g){return g.reduce((e,t)=>e+t,0)}function hy(g,e){return{object:g,dispose:()=>e==null?void 0:e.dispose()}}var fy=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},gy=function(g,e){return function(t,n){e(t,n,g)}},my=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};class py extends lt.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new wt.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new lt.XK)}get targetModel(){var e;return(e=this.currentModelRef.value)===null||e===void 0?void 0:e.object}setTargetModel(e){var t;((t=this.currentModelRef.value)===null||t===void 0?void 0:t.object)!==e&&(this.currentModelRef.clear(),this.currentModelRef.value=e?hy(e,e.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var e,t;return this.hasCachedGhostText||(this.cachedGhostText=(t=(e=this.currentModelRef.value)===null||e===void 0?void 0:e.object)===null||t===void 0?void 0:t.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(e){var t;(t=this.targetModel)===null||t===void 0||t.setExpanded(e)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}let i0=class extends py{constructor(e,t){super(),this.editor=e,this.instantiationService=t,this.sharedCache=this._register(new _y),this.suggestWidgetAdapterModel=this._register(this.instantiationService.createInstance(n0,this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(this.instantiationService.createInstance(zp,this.editor,this.sharedCache)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(e){var t;const n=(t=this.activeInlineCompletionsModel)===null||t===void 0?void 0:t.ghostText;return n?n.parts.some(s=>e.containsPosition(new Cn.L(n.lineNumber,s.column))):!1}triggerInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.trigger(qe.bw.Explicit)}commitInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.commitCurrentSuggestion()}hideInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.hide()}showNextInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.showNext()}showPreviousInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.showPrevious()}hasMultipleInlineCompletions(){var e;return my(this,void 0,void 0,function*(){const t=yield(e=this.activeInlineCompletionsModel)===null||e===void 0?void 0:e.hasMultipleInlineCompletions();return t!==void 0?t:!1})}};i0=fy([gy(1,G.TG)],i0);class _y extends lt.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new wt.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new lt.XK)}get value(){return this.cache.value}setValue(e,t,n){this.cache.value=new Ab(e,t,()=>this.onDidChangeEmitter.fire(),n)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}var vy=l(32083),Cy=l(20123),Q1=l(7144),X1=l(52664),by=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},J1=function(g,e){return function(t,n){e(t,n,g)}},s0;const q1=(s0=window.trustedTypes)===null||s0===void 0?void 0:s0.createPolicy("editorGhostText",{createHTML:g=>g});let o0=class extends lt.JT{constructor(e,t,n,s){super(),this.editor=e,this.model=t,this.instantiationService=n,this.languageService=s,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(wy,this.editor)),this.additionalLinesWidget=this._register(new yy(this.editor,this.languageService.languageIdCodec)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration(r=>{(r.hasChanged(29)||r.hasChanged(105)||r.hasChanged(88)||r.hasChanged(83)||r.hasChanged(45)||r.hasChanged(44)||r.hasChanged(59))&&this.update()})),this._register((0,lt.OF)(()=>{var r;this.disposed=!0,this.update(),(r=this.viewMoreContentWidget)===null||r===void 0||r.dispose(),this.viewMoreContentWidget=void 0})),this._register(t.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(e){return this.additionalLinesWidget.viewZoneId===e}update(){var e;const t=this.model.ghostText;if(!this.editor.hasModel()||!t||this.disposed){this.partsWidget.clear(),this.additionalLinesWidget.clear();return}const n=new Array,s=new Array;function r(ne,Q){if(s.length>0){const he=s[s.length-1];Q&&he.decorations.push(new Q1.Kp(he.content.length+1,he.content.length+1+ne[0].length,Q,0)),he.content+=ne[0],ne=ne.slice(1)}for(const he of ne)s.push({content:he,decorations:Q?[new Q1.Kp(1,he.length+1,Q,0)]:[]})}const h=this.editor.getModel().getLineContent(t.lineNumber);this.editor.getModel().getLineTokens(t.lineNumber);let S,Y=0;for(const ne of t.parts){let Q=ne.lines;S===void 0?(n.push({column:ne.column,text:Q[0],preview:ne.preview}),Q=Q.slice(1)):r([h.substring(Y,ne.column-1)],void 0),Q.length>0&&(r(Q,"ghost-text"),S===void 0&&ne.column<=h.length&&(S=ne.column)),Y=ne.column-1}S!==void 0&&r([h.substring(Y)],void 0),this.partsWidget.setParts(t.lineNumber,n,S!==void 0?{column:S,length:h.length+1-S}:void 0),this.additionalLinesWidget.updateLines(t.lineNumber,s,t.additionalReservedLineCount),t.parts.some(ne=>ne.lines.length<0)?this.viewMoreContentWidget=this.renderViewMoreLines(new Cn.L(t.lineNumber,this.editor.getModel().getLineMaxColumn(t.lineNumber)),"",0):((e=this.viewMoreContentWidget)===null||e===void 0||e.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(e,t,n){const s=this.editor.getOption(44),r=document.createElement("div");r.className="suggest-preview-additional-widget",(0,Ud.N)(r,s);const h=document.createElement("span");h.className="content-spacer",h.append(t),r.append(h);const S=document.createElement("span");S.className="content-newline suggest-preview-text",S.append("\u23CE  "),r.append(S);const Y=new lt.SL,ne=document.createElement("div");return ne.className="button suggest-preview-text",ne.append(`+${n} lines\u2026`),Y.add(q.mu(ne,"mousedown",Q=>{var he;(he=this.model)===null||he===void 0||he.setExpanded(!0),Q.preventDefault(),this.editor.focus()})),r.append(ne),new Ly(this.editor,e,r,Y)}};o0=by([J1(2,G.TG),J1(3,Xr.O)],o0);class wy{constructor(e){this.editor=e,this.decorationIds=[],this.disposableStore=new lt.SL}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(e,t,n){if(this.disposableStore.clear(),!this.editor.getModel())return;const r=new Array;n&&r.push({range:Ue.e.fromPositions(new Cn.L(e,n.column),new Cn.L(e,n.column+n.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,t.map(h=>({range:Ue.e.fromPositions(new Cn.L(e,h.column)),options:{description:"ghost-text",after:{content:h.text,inlineClassName:h.preview?"ghost-text-decoration-preview":"ghost-text-decoration"},showIfCollapsed:!0}})).concat(r))}}class yy{constructor(e,t){this.editor=e,this.languageIdCodec=t,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(e=>{this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(e,t,n){const s=this.editor.getModel();if(!s)return;const{tabSize:r}=s.getOptions();this.editor.changeViewZones(h=>{this._viewZoneId&&(h.removeZone(this._viewZoneId),this._viewZoneId=void 0);const S=Math.max(t.length,n);if(S>0){const Y=document.createElement("div");Sy(Y,r,t,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=h.addZone({afterLineNumber:e,heightInLines:S,domNode:Y,afterColumnAffinity:1})}})}}function Sy(g,e,t,n,s){const r=n.get(29),h=n.get(105),S="none",Y=n.get(83),ne=n.get(45),Q=n.get(44),he=n.get(59),ze=(0,Cy.l$)(1e4);ze.appendASCIIString('<div class="suggest-preview-text">');for(let Gt=0,fn=t.length;Gt<fn;Gt++){const pn=t[Gt],zn=pn.content;ze.appendASCIIString('<div class="view-line'),ze.appendASCIIString('" style="top:'),ze.appendASCIIString(String(Gt*he)),ze.appendASCIIString('px;width:1000000px;">');const Rn=En.$i(zn),wi=En.Ut(zn),yi=vy.A.createEmpty(zn,s);(0,X1.d1)(new X1.IJ(Q.isMonospace&&!r,Q.canUseHalfwidthRightwardsArrow,zn,!1,Rn,wi,0,yi,pn.decorations,e,0,Q.spaceWidth,Q.middotWidth,Q.wsmiddotWidth,h,S,Y,ne!==so.n0.OFF,null),ze),ze.appendASCIIString("</div>")}ze.appendASCIIString("</div>"),(0,Ud.N)(g,Q);const Xe=ze.build(),bt=q1?q1.createHTML(Xe):Xe;g.innerHTML=bt}class Ly extends lt.JT{constructor(e,t,n,s){super(),this.editor=e,this.position=t,this.domNode=n,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(s),this._register((0,lt.OF)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,St.Ic)((g,e)=>{const t=g.getColor(He.N5);t&&(e.addRule(`.monaco-editor .ghost-text-decoration { color: ${t.toString()} !important; }`),e.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${t.toString()} !important; }`),e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${t.toString()} !important; }`));const n=g.getColor(He.IO);n&&(e.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${n.toString()}; }`),e.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${n.toString()}; }`),e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${n.toString()}; }`));const s=g.getColor(He.x3);s&&(e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${s}; }`),e.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${s}; }`),e.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${s}; }`))});var e_=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},r0=function(g,e){return function(t,n){e(t,n,g)}},dm=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};let hr=class Pv extends lt.JT{constructor(e,t){super(),this.editor=e,this.instantiationService=t,this.triggeredExplicitly=!1,this.activeController=this._register(new lt.XK),this.activeModelDidChangeEmitter=this._register(new wt.Q5),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(n=>{n.hasChanged(106)&&this.updateModelController(),n.hasChanged(55)&&this.updateModelController()})),this.updateModelController()}static get(e){return e.getContribution(Pv.ID)}get activeModel(){var e;return(e=this.activeController.value)===null||e===void 0?void 0:e.model}updateModelController(){const e=this.editor.getOption(106),t=this.editor.getOption(55);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(e.preview||t.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(a0,this.editor):void 0,this.activeModelDidChangeEmitter.fire()}shouldShowHoverAt(e){var t;return((t=this.activeModel)===null||t===void 0?void 0:t.shouldShowHoverAt(e))||!1}shouldShowHoverAtViewZone(e){var t,n;return((n=(t=this.activeController.value)===null||t===void 0?void 0:t.widget)===null||n===void 0?void 0:n.shouldShowHoverAtViewZone(e))||!1}trigger(){var e;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),(e=this.activeModel)===null||e===void 0||e.triggerInlineCompletion()}commit(){var e;(e=this.activeModel)===null||e===void 0||e.commitInlineCompletion()}hide(){var e;(e=this.activeModel)===null||e===void 0||e.hideInlineCompletion()}showNextInlineCompletion(){var e;(e=this.activeModel)===null||e===void 0||e.showNextInlineCompletion()}showPreviousInlineCompletion(){var e;(e=this.activeModel)===null||e===void 0||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return dm(this,void 0,void 0,function*(){const t=yield(e=this.activeModel)===null||e===void 0?void 0:e.hasMultipleInlineCompletions();return t!==void 0?t:!1})}};hr.inlineSuggestionVisible=new nn.uy("inlineSuggestionVisible",!1,Le.N("inlineSuggestionVisible","Whether an inline suggestion is visible")),hr.inlineSuggestionHasIndentation=new nn.uy("inlineSuggestionHasIndentation",!1,Le.N("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),hr.inlineSuggestionHasIndentationLessThanTabSize=new nn.uy("inlineSuggestionHasIndentationLessThanTabSize",!0,Le.N("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),hr.ID="editor.contrib.ghostTextController",hr=e_([r0(1,G.TG)],hr);class Ey{constructor(e){this.contextKeyService=e,this.inlineCompletionVisible=hr.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=hr.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=hr.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let a0=class extends lt.JT{constructor(e,t,n){super(),this.editor=e,this.instantiationService=t,this.contextKeyService=n,this.contextKeys=new Ey(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(i0,this.editor)),this.widget=this._register(this.instantiationService.createInstance(o0,this.editor,this.model)),this._register((0,lt.OF)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var e;this.contextKeys.inlineCompletionVisible.set(((e=this.model.activeInlineCompletionsModel)===null||e===void 0?void 0:e.ghostText)!==void 0);let t=!1,n=!0;const s=this.model.inlineCompletionsModel.ghostText;if(!!this.model.activeInlineCompletionsModel&&s&&s.parts.length>0){const{column:r,lines:h}=s.parts[0],S=h[0],Y=this.editor.getModel().getLineIndentColumn(s.lineNumber);if(r<=Y){let Q=(0,En.LC)(S);Q===-1&&(Q=S.length-1),t=Q>0;const he=this.editor.getModel().getOptions().tabSize;n=Cb.i.visibleColumnFromColumn(S,Q+1,he)<he}}this.contextKeys.inlineCompletionSuggestsIndentation.set(t),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(n)}};a0=e_([r0(1,G.TG),r0(2,nn.i6)],a0);const t_=Pe._l.bindToContribution(hr.get),Zf=new t_({id:R1,precondition:hr.inlineSuggestionVisible,handler(g){g.commit(),g.editor.focus()}});(0,Pe.fK)(Zf),Ct.W.registerKeybindingRule({primary:2,weight:200,id:Zf.id,when:nn.Ao.and(Zf.precondition,vt.u.tabMovesFocus.toNegated(),hr.inlineSuggestionHasIndentationLessThanTabSize)}),(0,Pe.fK)(new t_({id:"editor.action.inlineSuggest.hide",precondition:hr.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(g){g.hide()}}));class Ph extends Pe.R6{constructor(){super({id:Ph.ID,label:Le.N("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:nn.Ao.and(vt.u.writable,hr.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(e,t){return dm(this,void 0,void 0,function*(){const n=hr.get(t);n&&(n.showNextInlineCompletion(),t.focus())})}}Ph.ID="editor.action.inlineSuggest.showNext";class Oh extends Pe.R6{constructor(){super({id:Oh.ID,label:Le.N("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:nn.Ao.and(vt.u.writable,hr.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(e,t){return dm(this,void 0,void 0,function*(){const n=hr.get(t);n&&(n.showPreviousInlineCompletion(),t.focus())})}}Oh.ID="editor.action.inlineSuggest.showPrevious";class Dy extends Pe.R6{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:Le.N("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:vt.u.writable})}run(e,t){return dm(this,void 0,void 0,function*(){const n=hr.get(t);n&&n.trigger()})}}var xy=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Fh=function(g,e){return function(t,n){e(t,n,g)}};class Ny{constructor(e,t,n){this.owner=e,this.range=t,this.controller=n}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}}let l0=class{constructor(e,t,n,s,r,h,S){this._editor=e,this._commandService=t,this._menuService=n,this._contextKeyService=s,this._languageService=r,this._openerService=h,this.accessibilityService=S,this.hoverOrdinal=3}suggestHoverAnchor(e){const t=hr.get(this._editor);if(!t)return null;const n=e.target;if(n.type===8){const s=n.detail;if(t.shouldShowHoverAtViewZone(s.viewZoneId))return new Fd(1e3,this,Ue.e.fromPositions(s.positionBefore||s.position,s.positionBefore||s.position))}return n.type===7&&t.shouldShowHoverAt(n.range)?new Fd(1e3,this,n.range):n.type===6&&n.detail.mightBeForeignElement&&t.shouldShowHoverAt(n.range)?new Fd(1e3,this,n.range):null}computeSync(e,t){const n=hr.get(this._editor);return n&&n.shouldShowHoverAt(e.range)?[new Ny(this,e.range,n)]:[]}renderHoverParts(e,t){const n=new lt.SL,s=t[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(e,s,n);const r=n.add(this._menuService.createMenu(Ve.eH.InlineCompletionsActions,this._contextKeyService)),h=e.statusBar.addAction({label:Le.N("showNextInlineSuggestion","Next"),commandId:Ph.ID,run:()=>this._commandService.executeCommand(Ph.ID)}),S=e.statusBar.addAction({label:Le.N("showPreviousInlineSuggestion","Previous"),commandId:Oh.ID,run:()=>this._commandService.executeCommand(Oh.ID)});e.statusBar.addAction({label:Le.N("acceptInlineSuggestion","Accept"),commandId:Zf.id,run:()=>this._commandService.executeCommand(Zf.id)});const Y=[h,S];for(const ne of Y)ne.setEnabled(!1);s.hasMultipleSuggestions().then(ne=>{for(const Q of Y)Q.setEnabled(ne)});for(const[ne,Q]of r.getActions())for(const he of Q)he instanceof Ve.U8&&e.statusBar.addAction({label:he.label,commandId:he.item.id,run:()=>this._commandService.executeCommand(he.item.id)});return n}renderScreenReaderText(e,t,n){var s,r;const h=q.$,S=h("div.hover-row.markdown-hover"),Y=q.R3(S,h("div.hover-contents")),ne=n.add(new oc({editor:this._editor},this._languageService,this._openerService)),Q=ze=>{n.add(ne.onDidRenderAsync(()=>{Y.className="hover-contents code-hover-contents",e.onContentsChanged()}));const Xe=Le.N("inlineSuggestionFollows","Suggestion:"),bt=n.add(ne.render(new Zt.W5().appendText(Xe).appendCodeblock("text",ze)));Y.replaceChildren(bt.element)},he=(r=(s=t.controller.activeModel)===null||s===void 0?void 0:s.inlineCompletionsModel)===null||r===void 0?void 0:r.ghostText;if(he){const ze=this._editor.getModel().getLineContent(he.lineNumber);Q(he.renderForScreenReader(ze))}e.fragment.appendChild(S)}};l0=xy([Fh(1,Ki.Hy),Fh(2,Ve.co),Fh(3,nn.i6),Fh(4,Xr.O),Fh(5,za.v4),Fh(6,hl.F)],l0),(0,Pe._K)(hr.ID,hr),(0,Pe.Qr)(Dy),(0,Pe.Qr)(Ph),(0,Pe.Qr)(Oh),da.register(l0);var Bh=l(2477);function Ka(g,e){let t=0;for(let n=0;n<g.length;n++)g.charAt(n)==="	"?t+=e:t++;return t}function Yf(g,e,t){g=g<0?0:g;let n="";if(!t){let s=Math.floor(g/e);g=g%e;for(let r=0;r<s;r++)n+="	"}for(let s=0;s<g;s++)n+=" ";return n}var n_=l(93788);function i_(g,e,t,n,s){if(g.getLineCount()===1&&g.getLineMaxColumn(1)===1)return[];const r=e.getLanguageConfiguration(g.getLanguageId()).indentationRules;if(!r)return[];for(n=Math.min(n,g.getLineCount());t<=n&&r.unIndentedLinePattern;){let fn=g.getLineContent(t);if(!r.unIndentedLinePattern.test(fn))break;t++}if(t>n-1)return[];const{tabSize:h,indentSize:S,insertSpaces:Y}=g.getOptions(),ne=(fn,pn)=>(pn=pn||1,Bh.U.shiftIndent(fn,fn.length+pn,h,S,Y)),Q=(fn,pn)=>(pn=pn||1,Bh.U.unshiftIndent(fn,fn.length+pn,h,S,Y));let he=[],ze,Xe=g.getLineContent(t),bt=Xe;if(s!=null){ze=s;let fn=En.V8(Xe);bt=ze+Xe.substring(fn.length),r.decreaseIndentPattern&&r.decreaseIndentPattern.test(bt)&&(ze=Q(ze),bt=ze+Xe.substring(fn.length)),Xe!==bt&&he.push(D.h.replaceMove(new en.Y(t,1,t,fn.length+1),(0,n_.x)(ze,S,Y)))}else ze=En.V8(Xe);let Gt=ze;r.increaseIndentPattern&&r.increaseIndentPattern.test(bt)?(Gt=ne(Gt),ze=ne(ze)):r.indentNextLinePattern&&r.indentNextLinePattern.test(bt)&&(Gt=ne(Gt)),t++;for(let fn=t;fn<=n;fn++){let pn=g.getLineContent(fn),zn=En.V8(pn),Rn=Gt+pn.substring(zn.length);r.decreaseIndentPattern&&r.decreaseIndentPattern.test(Rn)&&(Gt=Q(Gt),ze=Q(ze)),zn!==Gt&&he.push(D.h.replaceMove(new en.Y(fn,1,fn,zn.length+1),(0,n_.x)(Gt,S,Y))),!(r.unIndentedLinePattern&&r.unIndentedLinePattern.test(pn))&&(r.increaseIndentPattern&&r.increaseIndentPattern.test(Rn)?(ze=ne(ze),Gt=ze):r.indentNextLinePattern&&r.indentNextLinePattern.test(Rn)?Gt=ne(Gt):Gt=ze)}return he}class um extends Pe.R6{constructor(){super({id:um.ID,label:Le.N("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:vt.u.writable})}run(e,t){let n=t.getModel();if(!n)return;let s=n.getOptions(),r=t.getSelection();if(!r)return;const h=new ky(r,s.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[h]),t.pushUndoStop(),n.updateOptions({insertSpaces:!0})}}um.ID="editor.action.indentationToSpaces";class hm extends Pe.R6{constructor(){super({id:hm.ID,label:Le.N("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:vt.u.writable})}run(e,t){let n=t.getModel();if(!n)return;let s=n.getOptions(),r=t.getSelection();if(!r)return;const h=new Ry(r,s.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[h]),t.pushUndoStop(),n.updateOptions({insertSpaces:!1})}}hm.ID="editor.action.indentationToTabs";class s_ extends Pe.R6{constructor(e,t){super(t),this.insertSpaces=e}run(e,t){const n=e.get($s.eJ),s=e.get(zs.q);let r=t.getModel();if(!r)return;const h=s.getCreationOptions(r.getLanguageId(),r.uri,r.isForSimpleWidget),S=[1,2,3,4,5,6,7,8].map(ne=>({id:ne.toString(),label:ne.toString(),description:ne===h.tabSize?Le.N("configuredTabSize","Configured Tab Size"):void 0})),Y=Math.min(r.getOptions().tabSize-1,7);setTimeout(()=>{n.pick(S,{placeHolder:Le.N({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:S[Y]}).then(ne=>{ne&&r&&!r.isDisposed()&&r.updateOptions({tabSize:parseInt(ne.label,10),insertSpaces:this.insertSpaces})})},50)}}class fm extends s_{constructor(){super(!1,{id:fm.ID,label:Le.N("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}fm.ID="editor.action.indentUsingTabs";class gm extends s_{constructor(){super(!0,{id:gm.ID,label:Le.N("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}gm.ID="editor.action.indentUsingSpaces";class mm extends Pe.R6{constructor(){super({id:mm.ID,label:Le.N("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(e,t){const n=e.get(zs.q);let s=t.getModel();if(!s)return;const r=n.getCreationOptions(s.getLanguageId(),s.uri,s.isForSimpleWidget);s.detectIndentation(r.insertSpaces,r.tabSize)}}mm.ID="editor.action.detectIndentation";class Iy extends Pe.R6{constructor(){super({id:"editor.action.reindentlines",label:Le.N("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:vt.u.writable})}run(e,t){const n=e.get(ao.c_);let s=t.getModel();if(!s)return;let r=i_(s,n,1,s.getLineCount());r.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,r),t.pushUndoStop())}}class Ty extends Pe.R6{constructor(){super({id:"editor.action.reindentselectedlines",label:Le.N("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:vt.u.writable})}run(e,t){const n=e.get(ao.c_);let s=t.getModel();if(!s)return;let r=t.getSelections();if(r===null)return;let h=[];for(let S of r){let Y=S.startLineNumber,ne=S.endLineNumber;if(Y!==ne&&S.endColumn===1&&ne--,Y===1){if(Y===ne)continue}else Y--;let Q=i_(s,n,Y,ne);h.push(...Q)}h.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,h),t.pushUndoStop())}}class My{constructor(e,t){this._initialSelection=t,this._edits=[],this._selectionId=null;for(let n of e)n.range&&typeof n.text=="string"&&this._edits.push(n)}getEditOperations(e,t){for(let s of this._edits)t.addEditOperation(Ue.e.lift(s.range),s.text);let n=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(n=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(n=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),n||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class c0{constructor(e){this.callOnDispose=new lt.SL,this.callOnModel=new lt.SL,this.editor=e,this.callOnDispose.add(e.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(e.onDidChangeModel(()=>this.update())),this.callOnDispose.add(e.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(48))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:e})=>{this.trigger(e)})))}trigger(e){let t=this.editor.getSelections();if(t===null||t.length>1)return;const n=this.editor.getModel();if(!n||!n.isCheapToTokenize(e.getStartPosition().lineNumber))return;const s=this.editor.getOption(9),{tabSize:r,indentSize:h,insertSpaces:S}=n.getOptions();let Y=[],ne={shiftIndent:Xe=>Bh.U.shiftIndent(Xe,Xe.length+1,r,h,S),unshiftIndent:Xe=>Bh.U.unshiftIndent(Xe,Xe.length+1,r,h,S)},Q=e.startLineNumber;for(;Q<=e.endLineNumber;){if(this.shouldIgnoreLine(n,Q)){Q++;continue}break}if(Q>e.endLineNumber)return;let he=n.getLineContent(Q);if(!/\S/.test(he.substring(0,e.startColumn-1))){const Xe=ao.zu.getGoodIndentForLine(s,n,n.getLanguageId(),Q,ne);if(Xe!==null){let bt=En.V8(he),Gt=Ka(Xe,r),fn=Ka(bt,r);if(Gt!==fn){let pn=Yf(Gt,r,S);Y.push({range:new Ue.e(Q,1,Q,bt.length+1),text:pn}),he=pn+he.substr(bt.length)}else{let pn=ao.zu.getIndentMetadata(n,Q);if(pn===0||pn===8)return}}}const ze=Q;for(;Q<e.endLineNumber;){if(!/\S/.test(n.getLineContent(Q+1))){Q++;continue}break}if(Q!==e.endLineNumber){let Xe={getLineTokens:Gt=>n.getLineTokens(Gt),getLanguageId:()=>n.getLanguageId(),getLanguageIdAtPosition:(Gt,fn)=>n.getLanguageIdAtPosition(Gt,fn),getLineContent:Gt=>Gt===ze?he:n.getLineContent(Gt)},bt=ao.zu.getGoodIndentForLine(s,Xe,n.getLanguageId(),Q+1,ne);if(bt!==null){let Gt=Ka(bt,r),fn=Ka(En.V8(n.getLineContent(Q+1)),r);if(Gt!==fn){let pn=Gt-fn;for(let zn=Q+1;zn<=e.endLineNumber;zn++){let Rn=n.getLineContent(zn),wi=En.V8(Rn),ys=Ka(wi,r)+pn,as=Yf(ys,r,S);as!==wi&&Y.push({range:new Ue.e(zn,1,zn,wi.length+1),text:as})}}}}if(Y.length>0){this.editor.pushUndoStop();let Xe=new My(Y,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",Xe),this.editor.pushUndoStop()}}shouldIgnoreLine(e,t){e.forceTokenization(t);let n=e.getLineFirstNonWhitespaceColumn(t);if(n===0)return!0;let s=e.getLineTokens(t);if(s.getCount()>0){let r=s.findTokenIndexAtOffset(n);if(r>=0&&s.getStandardTokenType(r)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}c0.ID="editor.contrib.autoIndentOnPaste";function o_(g,e,t,n){if(g.getLineCount()===1&&g.getLineMaxColumn(1)===1)return;let s="";for(let h=0;h<t;h++)s+=" ";let r=new RegExp(s,"gi");for(let h=1,S=g.getLineCount();h<=S;h++){let Y=g.getLineFirstNonWhitespaceColumn(h);if(Y===0&&(Y=g.getLineMaxColumn(h)),Y===1)continue;const ne=new Ue.e(h,1,h,Y),Q=g.getValueInRange(ne),he=n?Q.replace(/\t/ig,s):Q.replace(r,"	");e.addEditOperation(ne,he)}}class ky{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),o_(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}class Ry{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),o_(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}(0,Pe._K)(c0.ID,c0),(0,Pe.Qr)(um),(0,Pe.Qr)(hm),(0,Pe.Qr)(fm),(0,Pe.Qr)(gm),(0,Pe.Qr)(mm),(0,Pe.Qr)(Iy),(0,Pe.Qr)(Ty);var pm=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};class r_{constructor(e,t){this.range=e,this.direction=t}}class d0{constructor(e,t,n){this.hint=e,this.anchor=t,this.provider=n,this._isResolved=!1}with(e){const t=new d0(this.hint,e.anchor,this.provider);return t._isResolved=this._isResolved,t._currentResolve=this._currentResolve,t}resolve(e){return pm(this,void 0,void 0,function*(){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return yield this._currentResolve,e.isCancellationRequested?void 0:this.resolve(e);this._isResolved||(this._currentResolve=this._doResolve(e).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(e){var t,n;return pm(this,void 0,void 0,function*(){try{const s=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,e));this.hint.tooltip=(t=s==null?void 0:s.tooltip)!==null&&t!==void 0?t:this.hint.tooltip,this.hint.label=(n=s==null?void 0:s.label)!==null&&n!==void 0?n:this.hint.label,this._isResolved=!0}catch(s){(0,ui.Cp)(s),this._isResolved=!1}})}}class Qf{constructor(e,t,n){this._disposables=new lt.SL,this.ranges=e,this.provider=new Set;const s=[];for(const[r,h]of t){this._disposables.add(r),this.provider.add(h);for(const S of r.hints){let Y=n.validatePosition(S.position),ne="before";const Q=Qf._getRangeAtPosition(n,Y);let he;Q.getStartPosition().isBefore(Y)?(he=Ue.e.fromPositions(Q.getStartPosition(),Y),ne="after"):(he=Ue.e.fromPositions(Y,Q.getEndPosition()),ne="before"),s.push(new d0(S,new r_(he,ne),h))}}this.items=s.sort((r,h)=>Cn.L.compare(r.hint.position,h.hint.position))}static create(e,t,n,s){return pm(this,void 0,void 0,function*(){const r=[],h=e.ordered(t).reverse().map(S=>n.map(Y=>pm(this,void 0,void 0,function*(){try{const ne=yield S.provideInlayHints(t,Y,s);ne!=null&&ne.hints.length&&r.push([ne,S])}catch(ne){(0,ui.Cp)(ne)}})));if(yield Promise.all(h.flat()),s.isCancellationRequested||t.isDisposed())throw new ui.FU;return new Qf(n,r,t)})}dispose(){this._disposables.dispose()}static _getRangeAtPosition(e,t){const n=t.lineNumber,s=e.getWordAtPosition(t);if(s)return new Ue.e(n,s.startColumn,n,s.endColumn);e.tokenizeIfCheap(n);const r=e.getLineTokens(n),h=t.column-1,S=r.findTokenIndexAtOffset(h);let Y=r.getStartOffset(S),ne=r.getEndOffset(S);return ne-Y===1&&(Y===h&&S>1?(Y=r.getStartOffset(S-1),ne=r.getEndOffset(S-1)):ne===h&&S<r.getCount()-1&&(Y=r.getStartOffset(S+1),ne=r.getEndOffset(S+1))),new Ue.e(n,Y+1,n,ne+1)}}function Ay(g){return qi.o.from({scheme:li.lg.command,path:g.id,query:g.arguments&&encodeURIComponent(JSON.stringify(g.arguments))}).toString()}var Xf=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};function Py(g,e,t,n){var s;return Xf(this,void 0,void 0,function*(){const r=g.get(oa.S),h=g.get(p.i),S=g.get(Ki.Hy),Y=g.get(G.TG),ne=g.get(zi.lT);if(yield n.item.resolve(bn.T.None),!n.part.location)return;const Q=n.part.location,he=[],ze=new Set(Ve.BH.getMenuItems(Ve.eH.EditorContext).map(bt=>(0,Ve.vr)(bt)?bt.command.id:""));for(const bt of Pe.Uc.getEditorActions())bt instanceof to&&ze.has(bt.id)&&he.push(new fe.aU(bt.id,bt.label,void 0,!0,()=>Xf(this,void 0,void 0,function*(){const Gt=yield r.createModelReference(Q.uri);try{yield Y.invokeFunction(bt.run.bind(bt),e,new _l(Gt.object.textEditorModel,Ue.e.getStartPosition(Q.range)))}finally{Gt.dispose()}})));if(n.part.command){const{command:bt}=n.part;he.push(new fe.Z0),he.push(new fe.aU(bt.id,bt.title,void 0,!0,()=>Xf(this,void 0,void 0,function*(){var Gt;try{yield S.executeCommand(bt.id,...(Gt=bt.arguments)!==null&&Gt!==void 0?Gt:[])}catch(fn){ne.notify({severity:zi.zb.Error,source:n.item.provider.displayName,message:fn})}})))}const Xe=e.getOption(115);h.showContextMenu({domForShadowRoot:Xe&&(s=e.getDomNode())!==null&&s!==void 0?s:void 0,getAnchor:()=>{const bt=q.i(t);return{x:bt.left,y:bt.top+bt.height+8}},getActions:()=>he,onHide:()=>{e.focus()},autoSelectFirstItem:!0})})}function Oy(g,e,t,n){return Xf(this,void 0,void 0,function*(){const r=yield g.get(oa.S).createModelReference(n.uri);yield t.invokeWithinContext(h=>Xf(this,void 0,void 0,function*(){const S=e.hasSideBySideModifier,Y=h.get(nn.i6),ne=ir.inPeekEditor.getValue(Y),Q=!S&&t.getOption(78)&&!ne;return new nc({openToSide:S,openInPeek:Q,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(h,t,{model:r.object.textEditorModel,position:Ue.e.getStartPosition(n.range)})})),r.dispose()})}var Fy=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Wh=function(g,e){return function(t,n){e(t,n,g)}},Vh=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};class _m{constructor(){this._entries=new kr.z6(50)}get(e){const t=_m._key(e);return this._entries.get(t)}set(e,t){const n=_m._key(e);this._entries.set(n,t)}static _key(e){return`${e.uri.toString()}/${e.getVersionId()}`}}const a_=(0,G.yh)("IInlayHintsCache");(0,tr.z)(a_,_m,!0);class u0{constructor(e,t){this.item=e,this.index=t}get part(){const e=this.item.hint.label;return typeof e=="string"?{label:e}:e[this.index]}}class By{constructor(e,t){this.part=e,this.hasTriggerModifier=t}}let Wu=class J0{constructor(e,t,n,s,r,h,S){this._editor=e,this._languageFeaturesService=t,this._inlayHintsCache=s,this._commandService=r,this._notificationService=h,this._instaService=S,this._disposables=new lt.SL,this._sessionDisposables=new lt.SL,this._decorationsMetadata=new Map,this._ruleFactory=new Cs.t7(this._editor),this._debounceInfo=n.for(t.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(t.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(Y=>{Y.hasChanged(127)&&this._update()})),this._update()}static get(e){var t;return(t=e.getContribution(J0.ID))!==null&&t!==void 0?t:void 0}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),this._removeAllDecorations(),!this._editor.getOption(127).enabled)return;const e=this._editor.getModel();if(!e||!this._languageFeaturesService.inlayHintsProvider.has(e))return;const t=this._inlayHintsCache.get(e);t&&this._updateHintsDecorators([e.getFullModelRange()],t),this._sessionDisposables.add((0,lt.OF)(()=>{e.isDisposed()||this._cacheHintsForFastRestore(e)}));let n,s=new Set;const r=new Ht.pY(()=>Vh(this,void 0,void 0,function*(){const h=Date.now();n==null||n.dispose(!0),n=new bn.A;const S=e.onWillDispose(()=>n==null?void 0:n.cancel());try{const Y=n.token,ne=yield Qf.create(this._languageFeaturesService.inlayHintsProvider,e,this._getHintsRanges(),Y);if(r.delay=this._debounceInfo.update(e,Date.now()-h),Y.isCancellationRequested){ne.dispose();return}for(const Q of ne.provider)typeof Q.onDidChangeInlayHints=="function"&&!s.has(Q)&&(s.add(Q),this._sessionDisposables.add(Q.onDidChangeInlayHints(()=>{r.isScheduled()||r.schedule()})));this._sessionDisposables.add(ne),this._updateHintsDecorators(ne.ranges,ne.items),this._cacheHintsForFastRestore(e)}catch(Y){(0,ui.dL)(Y)}finally{n.dispose(),S.dispose()}}),this._debounceInfo.get(e));this._sessionDisposables.add(r),this._sessionDisposables.add((0,lt.OF)(()=>n==null?void 0:n.dispose(!0))),r.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(h=>{(h.scrollTopChanged||!r.isScheduled())&&r.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(h=>{const S=Math.max(r.delay,1250);r.schedule(S)})),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installDblClickGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const e=new lt.SL,t=e.add(new Nl(this._editor)),n=new lt.SL;return e.add(n),e.add(t.onMouseMoveOrRelevantKeyDown(s=>{const[r]=s,h=this._getInlayHintLabelPart(r),S=this._editor.getModel();if(!h||!S){n.clear();return}const Y=new bn.A;n.add((0,lt.OF)(()=>Y.dispose(!0))),h.item.resolve(Y.token),this._activeInlayHintPart=h.part.command||h.part.location?new By(h,r.hasTriggerModifier):void 0;const ne=h.item.hint.position.lineNumber,Q=new Ue.e(ne,1,ne,S.getLineMaxColumn(ne)),he=new Set;for(const ze of this._decorationsMetadata.values())Q.containsRange(ze.item.anchor.range)&&he.add(ze.item);this._updateHintsDecorators([Q],Array.from(he)),n.add((0,lt.OF)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([Q],Array.from(he))}))})),e.add(t.onCancel(()=>n.clear())),e.add(t.onExecute(s=>Vh(this,void 0,void 0,function*(){const r=this._getInlayHintLabelPart(s);if(r){const h=r.part;h.location?this._instaService.invokeFunction(Oy,s,this._editor,h.location):qe.mY.is(h.command)&&(yield this._invokeCommand(h.command,r.item))}}))),e}_installDblClickGesture(){return this._editor.onMouseUp(e=>Vh(this,void 0,void 0,function*(){if(e.event.detail!==2)return;const t=this._getInlayHintLabelPart(e);!t||(e.event.preventDefault(),yield t.item.resolve(bn.T.None),t.item.hint.command&&(yield this._invokeCommand(t.item.hint.command,t.item)))}))}_installContextMenu(){return this._editor.onContextMenu(e=>Vh(this,void 0,void 0,function*(){if(!(e.event.target instanceof HTMLElement))return;const t=this._getInlayHintLabelPart(e);t&&(yield this._instaService.invokeFunction(Py,this._editor,e.event.target,t))}))}_getInlayHintLabelPart(e){var t;if(e.target.type!==6)return;const n=(t=e.target.detail.injectedText)===null||t===void 0?void 0:t.options;if(n instanceof Lt.HS&&(n==null?void 0:n.attachedData)instanceof u0)return n.attachedData}_invokeCommand(e,t){var n;return Vh(this,void 0,void 0,function*(){try{yield this._commandService.executeCommand(e.id,...(n=e.arguments)!==null&&n!==void 0?n:[])}catch(s){this._notificationService.notify({severity:zi.zb.Error,source:t.provider.displayName,message:s})}})}_cacheHintsForFastRestore(e){const t=new Map;for(const[n,s]of this._decorationsMetadata){if(t.has(s.item))continue;let r=s.item;const h=e.getDecorationRange(n);if(h){const S=new r_(h,s.item.anchor.direction);r=s.item.with({anchor:S})}t.set(s.item,r)}this._inlayHintsCache.set(e,Array.from(t.values()))}_getHintsRanges(){const t=this._editor.getModel(),n=this._editor.getVisibleRangesPlusViewportAboveBelow(),s=[];for(const r of n.sort(Ue.e.compareRangesUsingStarts)){const h=t.validateRange(new Ue.e(r.startLineNumber-30,r.startColumn,r.endLineNumber+30,r.endColumn));s.length===0||!Ue.e.areIntersectingOrTouching(s[s.length-1],h)?s.push(h):s[s.length-1]=Ue.e.plusRange(s[s.length-1],h)}return s}_updateHintsDecorators(e,t){var n,s;const r=[],h=(Xe,bt,Gt,fn,pn)=>{r.push({item:Xe,classNameRef:bt,decoration:{range:Xe.anchor.range,options:{description:"InlayHint",showIfCollapsed:Xe.anchor.range.isEmpty(),collapseOnReplaceEdit:!Xe.anchor.range.isEmpty(),stickiness:0,[Xe.anchor.direction]:{content:Gt,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:bt.className,cursorStops:fn,attachedData:pn}}}})},S=(Xe,bt)=>{const Gt=this._ruleFactory.createClassNameRef({width:`${Y/3|0}px`,display:"inline-block"});h(Xe,Gt,"\u200A",bt?Pt.RM.Right:Pt.RM.None)},{fontSize:Y,fontFamily:ne}=this._getLayoutInfo(),Q="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(Q,ne);for(const Xe of t){Xe.hint.paddingLeft&&S(Xe,!1);const bt=typeof Xe.hint.label=="string"?[{label:Xe.hint.label}]:Xe.hint.label;for(let Gt=0;Gt<bt.length;Gt++){const fn=bt[Gt],pn=Gt===0,zn=Gt===bt.length-1,Rn={fontSize:`${Y}px`,fontFamily:`var(${Q}), ${so.hL.fontFamily}`,verticalAlign:"middle"};Xe.hint.command&&(Rn.cursor="pointer"),this._fillInColors(Rn,Xe.hint),(fn.command||fn.location)&&((n=this._activeInlayHintPart)===null||n===void 0?void 0:n.part.item)===Xe&&this._activeInlayHintPart.part.index===Gt&&(Rn.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(Rn.color=(0,St.EN)(Se._Yy),Rn.cursor="pointer")),pn&&zn?(Rn.padding=`1px ${Math.max(1,Y/4)|0}px`,Rn.borderRadius=`${Y/4|0}px`):pn?(Rn.padding=`1px 0 1px ${Math.max(1,Y/4)|0}px`,Rn.borderRadius=`${Y/4|0}px 0 0 ${Y/4|0}px`):zn?(Rn.padding=`1px ${Math.max(1,Y/4)|0}px 1px 0`,Rn.borderRadius=`0 ${Y/4|0}px ${Y/4|0}px 0`):Rn.padding="1px 0 1px 0",h(Xe,this._ruleFactory.createClassNameRef(Rn),Wy(fn.label),zn&&!Xe.hint.paddingRight?Pt.RM.Right:Pt.RM.None,new u0(Xe,Gt))}if(Xe.hint.paddingRight&&S(Xe,!0),r.length>J0._MAX_DECORATORS)break}const he=[];for(const Xe of e)for(const{id:bt}of(s=this._editor.getDecorationsInRange(Xe))!==null&&s!==void 0?s:[]){const Gt=this._decorationsMetadata.get(bt);Gt&&(he.push(bt),Gt.classNameRef.dispose(),this._decorationsMetadata.delete(bt))}const ze=this._editor.deltaDecorations(he,r.map(Xe=>Xe.decoration));for(let Xe=0;Xe<ze.length;Xe++){const bt=r[Xe];this._decorationsMetadata.set(ze[Xe],{item:bt.item,classNameRef:bt.classNameRef})}}_fillInColors(e,t){t.kind===qe.gl.Parameter?(e.backgroundColor=(0,St.EN)(Se.phM),e.color=(0,St.EN)(Se.HCL)):t.kind===qe.gl.Type?(e.backgroundColor=(0,St.EN)(Se.bKB),e.color=(0,St.EN)(Se.hX8)):(e.backgroundColor=(0,St.EN)(Se.PpC),e.color=(0,St.EN)(Se.VVv))}_getLayoutInfo(){const e=this._editor.getOption(127),t=this._editor.getOption(46);let n=e.fontSize;(!n||n<5||n>t)&&(n=t*.9|0);const s=e.fontFamily||this._editor.getOption(43);return{fontSize:n,fontFamily:s}}_removeAllDecorations(){this._editor.deltaDecorations(Array.from(this._decorationsMetadata.keys()),[]);for(let e of this._decorationsMetadata.values())e.classNameRef.dispose();this._decorationsMetadata.clear()}};Wu.ID="editor.contrib.InlayHints",Wu._MAX_DECORATORS=1500,Wu=Fy([Wh(1,ri.p),Wh(2,xs.A),Wh(3,a_),Wh(4,Ki.Hy),Wh(5,zi.lT),Wh(6,G.TG)],Wu);function Wy(g){const e="\xA0";return g.replace(/[ \t]/g,e)}Ki.P0.registerCommand("_executeInlayHintProvider",(g,...e)=>Vh(void 0,void 0,void 0,function*(){const[t,n]=e;(0,gs.p_)(qi.o.isUri(t)),(0,gs.p_)(Ue.e.isIRange(n));const{inlayHintsProvider:s}=g.get(ri.p),r=yield g.get(oa.S).createModelReference(t);try{const h=yield Qf.create(s,r.object.textEditorModel,[Ue.e.lift(n)],bn.T.None),S=h.items.map(Y=>Y.hint);return setTimeout(()=>h.dispose(),0),S}finally{r.dispose()}}));var Vy=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Jf=function(g,e){return function(t,n){e(t,n,g)}},l_=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})},Hy=function(g){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=g[Symbol.asyncIterator],t;return e?e.call(g):(g=typeof __values=="function"?__values(g):g[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=g[r]&&function(h){return new Promise(function(S,Y){h=g[r](h),s(S,Y,h.done,h.value)})}}function s(r,h,S,Y){Promise.resolve(Y).then(function(ne){r({value:ne,done:S})},h)}};class c_ extends Fd{constructor(e,t){super(10,t,e.item.anchor.range),this.part=e}}let h0=class extends wh{constructor(e,t,n,s,r,h){super(e,t,n,s,h),this._resolverService=r,this.hoverOrdinal=6}suggestHoverAnchor(e){var t;if(!Wu.get(this._editor)||e.target.type!==6)return null;const s=(t=e.target.detail.injectedText)===null||t===void 0?void 0:t.options;return s instanceof Lt.HS&&s.attachedData instanceof u0?new c_(s.attachedData,this):null}computeSync(){return[]}computeAsync(e,t,n){return e instanceof c_?new Ht.Aq(s=>l_(this,void 0,void 0,function*(){var r,h;const{part:S}=e;if(yield S.item.resolve(n),n.isCancellationRequested)return;let Y;typeof S.item.hint.tooltip=="string"?Y=new Zt.W5().appendText(S.item.hint.tooltip):S.item.hint.tooltip&&(Y=S.item.hint.tooltip),Y&&s.emitOne(new rc(this,e.range,[Y],0));let ne;if(typeof S.part.tooltip=="string"?ne=new Zt.W5().appendText(S.part.tooltip):S.part.tooltip&&(ne=S.part.tooltip),ne&&s.emitOne(new rc(this,e.range,[ne],1)),S.part.location||S.part.command){let Xe;const Gt=this._editor.getOption(70)==="altKey"?Yn.dz?(0,Le.N)("links.navigate.kb.meta.mac","cmd + click"):(0,Le.N)("links.navigate.kb.meta","ctrl + click"):Yn.dz?(0,Le.N)("links.navigate.kb.alt.mac","option + click"):(0,Le.N)("links.navigate.kb.alt","alt + click");S.part.location&&S.part.command?Xe=new Zt.W5().appendText((0,Le.N)("hint.defAndCommand","Go to Definition ({0}), right click for more",Gt)):S.part.location?Xe=new Zt.W5().appendText((0,Le.N)("hint.def","Go to Definition ({0})",Gt)):S.part.command&&(Xe=new Zt.W5(`[${(0,Le.N)("hint.cmd","Execute Command")}](${Ay(S.part.command)} "${S.part.command.title}") (${Gt})`,{isTrusted:!0})),Xe&&s.emitOne(new rc(this,e.range,[Xe],1e4))}const Q=yield this._resolveInlayHintLabelPartHover(S,n);try{for(var he=Hy(Q),ze;ze=yield he.next(),!ze.done;){let Xe=ze.value;s.emitOne(Xe)}}catch(Xe){r={error:Xe}}finally{try{ze&&!ze.done&&(h=he.return)&&(yield h.call(he))}finally{if(r)throw r.error}}})):Ht.Aq.EMPTY}_resolveInlayHintLabelPartHover(e,t){return l_(this,void 0,void 0,function*(){if(!e.part.location)return Ht.Aq.EMPTY;const{uri:n,range:s}=e.part.location,r=yield this._resolverService.createModelReference(n);try{const h=r.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(h)?wf(this._languageFeaturesService.hoverProvider,h,new Cn.L(s.startLineNumber,s.startColumn),t).filter(S=>!(0,Zt.CP)(S.hover.contents)).map(S=>new rc(this,e.item.anchor.range,S.hover.contents,2+S.ordinal)):Ht.Aq.EMPTY}finally{r.dispose()}})}};h0=Vy([Jf(1,Xr.O),Jf(2,za.v4),Jf(3,js.Ui),Jf(4,oa.S),Jf(5,ri.p)],h0),(0,Pe._K)(Wu.ID,Wu),da.register(h0);class zy{constructor(e,t,n){this._editRange=e,this._originalSelection=t,this._text=n}getEditOperations(e,t){t.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,t){const s=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new en.Y(s.endLineNumber,Math.min(this._originalSelection.positionColumn,s.endColumn),s.endLineNumber,Math.min(this._originalSelection.positionColumn,s.endColumn)):new en.Y(s.endLineNumber,s.endColumn-this._text.length,s.endLineNumber,s.endColumn)}}var Uy=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},jy=function(g,e){return function(t,n){e(t,n,g)}};let qd=class q0{constructor(e,t){this.decorationIds=[],this.editor=e,this.editorWorkerService=t}static get(e){return e.getContribution(q0.ID)}dispose(){}run(e,t){this.currentRequest&&this.currentRequest.cancel();const n=this.editor.getSelection(),s=this.editor.getModel();if(!s||!n)return;let r=n;if(r.startLineNumber!==r.endLineNumber)return;const h=new Xs.yy(this.editor,5),S=s.uri;return this.editorWorkerService.canNavigateValueSet(S)?(this.currentRequest=(0,Ht.PG)(Y=>this.editorWorkerService.navigateValueSet(S,r,t)),this.currentRequest.then(Y=>{if(!Y||!Y.range||!Y.value||!h.validate(this.editor))return;let ne=Ue.e.lift(Y.range),Q=Y.range,he=Y.value.length-(r.endColumn-r.startColumn);Q={startLineNumber:Q.startLineNumber,startColumn:Q.startColumn,endLineNumber:Q.endLineNumber,endColumn:Q.startColumn+Y.value.length},he>1&&(r=new en.Y(r.startLineNumber,r.startColumn,r.endLineNumber,r.endColumn+he-1));const ze=new zy(ne,r,Y.value);this.editor.pushUndoStop(),this.editor.executeCommand(e,ze),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:Q,options:q0.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,Ht.Vs)(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(ui.dL)}).catch(ui.dL)):Promise.resolve(void 0)}};qd.ID="editor.contrib.inPlaceReplaceController",qd.DECORATION=Lt.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),qd=Uy([jy(1,Wf.p)],qd);class Ky extends Pe.R6{constructor(){super({id:"editor.action.inPlaceReplace.up",label:Le.N("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:3154,weight:100}})}run(e,t){const n=qd.get(t);return n?n.run(this.id,!0):Promise.resolve(void 0)}}class $y extends Pe.R6{constructor(){super({id:"editor.action.inPlaceReplace.down",label:Le.N("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:3156,weight:100}})}run(e,t){const n=qd.get(t);return n?n.run(this.id,!1):Promise.resolve(void 0)}}(0,Pe._K)(qd.ID,qd),(0,Pe.Qr)(Ky),(0,Pe.Qr)($y),(0,St.Ic)((g,e)=>{const t=g.getColor(He.Dl);t&&e.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${t}; }`)});var f0=l(65147);class Gy extends Pe.R6{constructor(){super({id:"expandLineSelection",label:Le.N("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:vt.u.textInputFocus,primary:2090}})}run(e,t,n){if(n=n||{},!t.hasModel())return;const s=t._getViewModel();s.model.pushStackElement(),s.setCursorStates(n.source,3,f0.P.expandLineSelection(s,s.getCursorStates())),s.revealPrimaryCursor(n.source,!0)}}(0,Pe.Qr)(Gy);class Zy{constructor(e,t){this._selection=e,this._cursors=t,this._selectionId=null}getEditOperations(e,t){const n=Yy(e,this._cursors);for(let s=0,r=n.length;s<r;s++){const h=n[s];t.addEditOperation(h.range,h.text)}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}function Yy(g,e){e.sort((h,S)=>h.lineNumber===S.lineNumber?h.column-S.column:h.lineNumber-S.lineNumber);for(let h=e.length-2;h>=0;h--)e[h].lineNumber===e[h+1].lineNumber&&e.splice(h,1);const t=[];let n=0,s=0;const r=e.length;for(let h=1,S=g.getLineCount();h<=S;h++){const Y=g.getLineContent(h),ne=Y.length+1;let Q=0;if(s<r&&e[s].lineNumber===h&&(Q=e[s].column,s++,Q===ne)||Y.length===0)continue;const he=En.ow(Y);let ze=0;if(he===-1)ze=1;else if(he!==Y.length-1)ze=he+2;else continue;ze=Math.max(Q,ze),t[n++]=D.h.delete(new Ue.e(h,ze,h,ne))}return t}var g0=l(28286);class d_{constructor(e,t,n){this._selection=e,this._isCopyingDown=t,this._noop=n||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(e,t){let n=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,n.startLineNumber<n.endLineNumber&&n.endColumn===1&&(this._endLineNumberDelta=1,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));let s=[];for(let h=n.startLineNumber;h<=n.endLineNumber;h++)s.push(e.getLineContent(h));const r=s.join(`
`);r===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new Ue.e(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber+1,1),n.endLineNumber===e.getLineCount()?"":`
`):this._isCopyingDown?t.addEditOperation(new Ue.e(n.startLineNumber,1,n.startLineNumber,1),r+`
`):t.addEditOperation(new Ue.e(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),`
`+r),this._selectionId=t.trackSelection(n),this._selectionDirection=this._selection.getDirection()}computeCursorState(e,t){let n=t.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let s=n.startLineNumber,r=n.startColumn,h=n.endLineNumber,S=n.endColumn;this._startLineNumberDelta!==0&&(s=s+this._startLineNumberDelta,r=1),this._endLineNumberDelta!==0&&(h=h+this._endLineNumberDelta,S=1),n=en.Y.createWithDirection(s,r,h,S,this._selectionDirection)}return n}}var vm=l(54500);class Qy{constructor(e,t,n){this._selection=e,this._isMovingDown=t,this._autoIndent=n,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(e,t){let n=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===n){this._selectionId=t.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=t.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let s=this._selection;s.startLineNumber<s.endLineNumber&&s.endColumn===1&&(this._moveEndPositionDown=!0,s=s.setEndPosition(s.endLineNumber-1,e.getLineMaxColumn(s.endLineNumber-1)));const{tabSize:r,indentSize:h,insertSpaces:S}=e.getOptions();let Y=this.buildIndentConverter(r,h,S),ne={getLineTokens:Q=>e.getLineTokens(Q),getLanguageId:()=>e.getLanguageId(),getLanguageIdAtPosition:(Q,he)=>e.getLanguageIdAtPosition(Q,he),getLineContent:null};if(s.startLineNumber===s.endLineNumber&&e.getLineMaxColumn(s.startLineNumber)===1){let Q=s.startLineNumber,he=this._isMovingDown?Q+1:Q-1;e.getLineMaxColumn(he)===1?t.addEditOperation(new Ue.e(1,1,1,1),null):(t.addEditOperation(new Ue.e(Q,1,Q,1),e.getLineContent(he)),t.addEditOperation(new Ue.e(he,1,he,e.getLineMaxColumn(he)),null)),s=new en.Y(he,1,he,1)}else{let Q,he;if(this._isMovingDown){Q=s.endLineNumber+1,he=e.getLineContent(Q),t.addEditOperation(new Ue.e(Q-1,e.getLineMaxColumn(Q-1),Q,e.getLineMaxColumn(Q)),null);let ze=he;if(this.shouldAutoIndent(e,s)){let Xe=this.matchEnterRule(e,Y,r,Q,s.startLineNumber-1);if(Xe!==null){let Gt=En.V8(e.getLineContent(Q)),fn=Xe+Ka(Gt,r);ze=Yf(fn,r,S)+this.trimLeft(he)}else{ne.getLineContent=fn=>fn===s.startLineNumber?e.getLineContent(Q):e.getLineContent(fn);let Gt=ao.zu.getGoodIndentForLine(this._autoIndent,ne,e.getLanguageIdAtPosition(Q,1),s.startLineNumber,Y);if(Gt!==null){let fn=En.V8(e.getLineContent(Q)),pn=Ka(Gt,r),zn=Ka(fn,r);pn!==zn&&(ze=Yf(pn,r,S)+this.trimLeft(he))}}t.addEditOperation(new Ue.e(s.startLineNumber,1,s.startLineNumber,1),ze+`
`);let bt=this.matchEnterRuleMovingDown(e,Y,r,s.startLineNumber,Q,ze);if(bt!==null)bt!==0&&this.getIndentEditsOfMovingBlock(e,t,s,r,S,bt);else{ne.getLineContent=fn=>fn===s.startLineNumber?ze:fn>=s.startLineNumber+1&&fn<=s.endLineNumber+1?e.getLineContent(fn-1):e.getLineContent(fn);let Gt=ao.zu.getGoodIndentForLine(this._autoIndent,ne,e.getLanguageIdAtPosition(Q,1),s.startLineNumber+1,Y);if(Gt!==null){const fn=En.V8(e.getLineContent(s.startLineNumber)),pn=Ka(Gt,r),zn=Ka(fn,r);if(pn!==zn){const Rn=pn-zn;this.getIndentEditsOfMovingBlock(e,t,s,r,S,Rn)}}}}else t.addEditOperation(new Ue.e(s.startLineNumber,1,s.startLineNumber,1),ze+`
`)}else if(Q=s.startLineNumber-1,he=e.getLineContent(Q),t.addEditOperation(new Ue.e(Q,1,Q+1,1),null),t.addEditOperation(new Ue.e(s.endLineNumber,e.getLineMaxColumn(s.endLineNumber),s.endLineNumber,e.getLineMaxColumn(s.endLineNumber)),`
`+he),this.shouldAutoIndent(e,s)){ne.getLineContent=Xe=>Xe===Q?e.getLineContent(s.startLineNumber):e.getLineContent(Xe);let ze=this.matchEnterRule(e,Y,r,s.startLineNumber,s.startLineNumber-2);if(ze!==null)ze!==0&&this.getIndentEditsOfMovingBlock(e,t,s,r,S,ze);else{let Xe=ao.zu.getGoodIndentForLine(this._autoIndent,ne,e.getLanguageIdAtPosition(s.startLineNumber,1),Q,Y);if(Xe!==null){let bt=En.V8(e.getLineContent(s.startLineNumber)),Gt=Ka(Xe,r),fn=Ka(bt,r);if(Gt!==fn){let pn=Gt-fn;this.getIndentEditsOfMovingBlock(e,t,s,r,S,pn)}}}}}this._selectionId=t.trackSelection(s)}buildIndentConverter(e,t,n){return{shiftIndent:s=>Bh.U.shiftIndent(s,s.length+1,e,t,n),unshiftIndent:s=>Bh.U.unshiftIndent(s,s.length+1,e,t,n)}}parseEnterResult(e,t,n,s,r){if(r){let h=r.indentation;r.indentAction===vm.wU.None||r.indentAction===vm.wU.Indent?h=r.indentation+r.appendText:r.indentAction===vm.wU.IndentOutdent?h=r.indentation:r.indentAction===vm.wU.Outdent&&(h=t.unshiftIndent(r.indentation)+r.appendText);let S=e.getLineContent(s);if(this.trimLeft(S).indexOf(this.trimLeft(h))>=0){let Y=En.V8(e.getLineContent(s)),ne=En.V8(h),Q=ao.zu.getIndentMetadata(e,s);Q!==null&&Q&2&&(ne=t.unshiftIndent(ne));let he=Ka(ne,n),ze=Ka(Y,n);return he-ze}}return null}matchEnterRuleMovingDown(e,t,n,s,r,h){if(En.ow(h)>=0){let S=e.getLineMaxColumn(r),Y=ao.zu.getEnterAction(this._autoIndent,e,new Ue.e(r,S,r,S));return this.parseEnterResult(e,t,n,s,Y)}else{let S=s-1;for(;S>=1;){let Q=e.getLineContent(S);if(En.ow(Q)>=0)break;S--}if(S<1||s>e.getLineCount())return null;let Y=e.getLineMaxColumn(S),ne=ao.zu.getEnterAction(this._autoIndent,e,new Ue.e(S,Y,S,Y));return this.parseEnterResult(e,t,n,s,ne)}}matchEnterRule(e,t,n,s,r,h){let S=r;for(;S>=1;){let Q;if(S===r&&h!==void 0?Q=h:Q=e.getLineContent(S),En.ow(Q)>=0)break;S--}if(S<1||s>e.getLineCount())return null;let Y=e.getLineMaxColumn(S),ne=ao.zu.getEnterAction(this._autoIndent,e,new Ue.e(S,Y,S,Y));return this.parseEnterResult(e,t,n,s,ne)}trimLeft(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<4||!e.isCheapToTokenize(t.startLineNumber))return!1;let n=e.getLanguageIdAtPosition(t.startLineNumber,1),s=e.getLanguageIdAtPosition(t.endLineNumber,1);return!(n!==s||ao.zu.getIndentRulesSupport(n)===null)}getIndentEditsOfMovingBlock(e,t,n,s,r,h){for(let S=n.startLineNumber;S<=n.endLineNumber;S++){let Y=e.getLineContent(S),ne=En.V8(Y),he=Ka(ne,s)+h,ze=Yf(he,s,r);ze!==ne&&(t.addEditOperation(new Ue.e(S,1,S,ne.length+1),ze),S===n.endLineNumber&&n.endColumn<=ne.length+1&&ze===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&n.startLineNumber<n.endLineNumber&&(n=n.setEndPosition(n.endLineNumber,2)),n}}class eu{constructor(e,t){this.selection=e,this.descending=t,this.selectionId=null}static getCollator(){return eu._COLLATOR||(eu._COLLATOR=new Intl.Collator),eu._COLLATOR}getEditOperations(e,t){let n=Xy(e,this.selection,this.descending);n&&t.addEditOperation(n.range,n.text),this.selectionId=t.trackSelection(this.selection)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}static canRun(e,t,n){if(e===null)return!1;let s=u_(e,t,n);if(!s)return!1;for(let r=0,h=s.before.length;r<h;r++)if(s.before[r]!==s.after[r])return!0;return!1}}eu._COLLATOR=null;function u_(g,e,t){let n=e.startLineNumber,s=e.endLineNumber;if(e.endColumn===1&&s--,n>=s)return null;let r=[];for(let S=n;S<=s;S++)r.push(g.getLineContent(S));let h=r.slice(0);return h.sort(eu.getCollator().compare),t===!0&&(h=h.reverse()),{startLineNumber:n,endLineNumber:s,before:r,after:h}}function Xy(g,e,t){let n=u_(g,e,t);return n?D.h.replace(new Ue.e(n.startLineNumber,1,n.endLineNumber,g.getLineMaxColumn(n.endLineNumber)),n.after.join(`
`)):null}class h_ extends Pe.R6{constructor(e,t){super(t),this.down=e}run(e,t){if(!t.hasModel())return;const n=t.getSelections().map((h,S)=>({selection:h,index:S,ignore:!1}));n.sort((h,S)=>Ue.e.compareRangesUsingStarts(h.selection,S.selection));let s=n[0];for(let h=1;h<n.length;h++){const S=n[h];s.selection.endLineNumber===S.selection.startLineNumber&&(s.index<S.index?S.ignore=!0:(s.ignore=!0,s=S))}const r=[];for(const h of n)r.push(new d_(h.selection,this.down,h.ignore));t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}class Jy extends h_{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:Le.N("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:Ve.eH.MenubarSelectionMenu,group:"2_line",title:Le.N({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}class qy extends h_{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:Le.N("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:Ve.eH.MenubarSelectionMenu,group:"2_line",title:Le.N({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}class eS extends Pe.R6{constructor(){super({id:"editor.action.duplicateSelection",label:Le.N("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:vt.u.writable,menuOpts:{menuId:Ve.eH.MenubarSelectionMenu,group:"2_line",title:Le.N({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(e,t,n){if(!t.hasModel())return;const s=[],r=t.getSelections(),h=t.getModel();for(const S of r)if(S.isEmpty())s.push(new d_(S,!0));else{const Y=new en.Y(S.endLineNumber,S.endColumn,S.endLineNumber,S.endColumn);s.push(new ti.OY(Y,h.getValueInRange(S)))}t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}}class f_ extends Pe.R6{constructor(e,t){super(t),this.down=e}run(e,t){let n=[],s=t.getSelections()||[];const r=t.getOption(9);for(const h of s)n.push(new Qy(h,this.down,r));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class tS extends f_{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:Le.N("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:Ve.eH.MenubarSelectionMenu,group:"2_line",title:Le.N({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}class nS extends f_{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:Le.N("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:Ve.eH.MenubarSelectionMenu,group:"2_line",title:Le.N({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}class g_ extends Pe.R6{constructor(e,t){super(t),this.descending=e}run(e,t){const n=t.getSelections()||[];for(const r of n)if(!eu.canRun(t.getModel(),r,this.descending))return;let s=[];for(let r=0,h=n.length;r<h;r++)s[r]=new eu(n[r],this.descending);t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}}class iS extends g_{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:Le.N("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:vt.u.writable})}}class sS extends g_{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:Le.N("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:vt.u.writable})}}class oS extends Pe.R6{constructor(){super({id:"editor.action.removeDuplicateLines",label:Le.N("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:vt.u.writable})}run(e,t){if(!t.hasModel())return;let n=t.getModel();if(n.getLineCount()===1&&n.getLineMaxColumn(1)===1)return;let s=[],r=[],h=0;for(let S of t.getSelections()){let Y=new Set,ne=[];for(let Xe=S.startLineNumber;Xe<=S.endLineNumber;Xe++){let bt=n.getLineContent(Xe);Y.has(bt)||(ne.push(bt),Y.add(bt))}let Q=new en.Y(S.startLineNumber,1,S.endLineNumber,n.getLineMaxColumn(S.endLineNumber)),he=S.startLineNumber-h,ze=new en.Y(he,1,he+ne.length-1,ne[ne.length-1].length);s.push(D.h.replace(Q,ne.join(`
`))),r.push(ze),h+=S.endLineNumber-S.startLineNumber+1-ne.length}t.pushUndoStop(),t.executeEdits(this.id,s,r),t.pushUndoStop()}}class Cm extends Pe.R6{constructor(){super({id:Cm.ID,label:Le.N("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,hn.gx)(2089,2102),weight:100}})}run(e,t,n){let s=[];n.reason==="auto-save"&&(s=(t.getSelections()||[]).map(S=>new Cn.L(S.positionLineNumber,S.positionColumn)));let r=t.getSelection();if(r===null)return;let h=new Zy(r,s);t.pushUndoStop(),t.executeCommands(this.id,[h]),t.pushUndoStop()}}Cm.ID="editor.action.trimTrailingWhitespace";class rS extends Pe.R6{constructor(){super({id:"editor.action.deleteLines",label:Le.N("lines.delete","Delete Line"),alias:"Delete Line",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.textInputFocus,primary:3113,weight:100}})}run(e,t){if(!t.hasModel())return;let n=this._getLinesToRemove(t),s=t.getModel();if(s.getLineCount()===1&&s.getLineMaxColumn(1)===1)return;let r=0,h=[],S=[];for(let Y=0,ne=n.length;Y<ne;Y++){const Q=n[Y];let he=Q.startLineNumber,ze=Q.endLineNumber,Xe=1,bt=s.getLineMaxColumn(ze);ze<s.getLineCount()?(ze+=1,bt=1):he>1&&(he-=1,Xe=s.getLineMaxColumn(he)),h.push(D.h.replace(new en.Y(he,Xe,ze,bt),"")),S.push(new en.Y(he-r,Q.positionColumn,he-r,Q.positionColumn)),r+=Q.endLineNumber-Q.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,h,S),t.pushUndoStop()}_getLinesToRemove(e){let t=e.getSelections().map(r=>{let h=r.endLineNumber;return r.startLineNumber<r.endLineNumber&&r.endColumn===1&&(h-=1),{startLineNumber:r.startLineNumber,selectionStartColumn:r.selectionStartColumn,endLineNumber:h,positionColumn:r.positionColumn}});t.sort((r,h)=>r.startLineNumber===h.startLineNumber?r.endLineNumber-h.endLineNumber:r.startLineNumber-h.startLineNumber);let n=[],s=t[0];for(let r=1;r<t.length;r++)s.endLineNumber+1>=t[r].startLineNumber?s.endLineNumber=t[r].endLineNumber:(n.push(s),s=t[r]);return n.push(s),n}}class aS extends Pe.R6{constructor(){super({id:"editor.action.indentLines",label:Le.N("lines.indent","Indent Line"),alias:"Indent Line",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:2137,weight:100}})}run(e,t){const n=t._getViewModel();!n||(t.pushUndoStop(),t.executeCommands(this.id,g0.u.indent(n.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}}class lS extends Pe.R6{constructor(){super({id:"editor.action.outdentLines",label:Le.N("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:2135,weight:100}})}run(e,t){at.wk.Outdent.runEditorCommand(e,t,null)}}class cS extends Pe.R6{constructor(){super({id:"editor.action.insertLineBefore",label:Le.N("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:3075,weight:100}})}run(e,t){const n=t._getViewModel();!n||(t.pushUndoStop(),t.executeCommands(this.id,g0.u.lineInsertBefore(n.cursorConfig,t.getModel(),t.getSelections())))}}class dS extends Pe.R6{constructor(){super({id:"editor.action.insertLineAfter",label:Le.N("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:2051,weight:100}})}run(e,t){const n=t._getViewModel();!n||(t.pushUndoStop(),t.executeCommands(this.id,g0.u.lineInsertAfter(n.cursorConfig,t.getModel(),t.getSelections())))}}class m_ extends Pe.R6{run(e,t){if(!t.hasModel())return;const n=t.getSelection();let s=this._getRangesToDelete(t),r=[];for(let Y=0,ne=s.length-1;Y<ne;Y++){let Q=s[Y],he=s[Y+1];Ue.e.intersectRanges(Q,he)===null?r.push(Q):s[Y+1]=Ue.e.plusRange(Q,he)}r.push(s[s.length-1]);let h=this._getEndCursorState(n,r),S=r.map(Y=>D.h.replace(Y,""));t.pushUndoStop(),t.executeEdits(this.id,S,h),t.pushUndoStop()}}class uS extends m_{constructor(){super({id:"deleteAllLeft",label:Le.N("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(e,t){let n=null,s=[],r=0;return t.forEach(h=>{let S;if(h.endColumn===1&&r>0){let Y=h.startLineNumber-r;S=new en.Y(Y,h.startColumn,Y,h.startColumn)}else S=new en.Y(h.startLineNumber,h.startColumn,h.startLineNumber,h.startColumn);r+=h.endLineNumber-h.startLineNumber,h.intersectRanges(e)?n=S:s.push(S)}),n&&s.unshift(n),s}_getRangesToDelete(e){let t=e.getSelections();if(t===null)return[];let n=t,s=e.getModel();return s===null?[]:(n.sort(Ue.e.compareRangesUsingStarts),n=n.map(r=>{if(r.isEmpty())if(r.startColumn===1){let h=Math.max(1,r.startLineNumber-1),S=r.startLineNumber===1?1:s.getLineContent(h).length+1;return new Ue.e(h,S,r.startLineNumber,1)}else return new Ue.e(r.startLineNumber,1,r.startLineNumber,r.startColumn);else return new Ue.e(r.startLineNumber,1,r.endLineNumber,r.endColumn)}),n)}}class hS extends m_{constructor(){super({id:"deleteAllRight",label:Le.N("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(e,t){let n=null,s=[];for(let r=0,h=t.length,S=0;r<h;r++){let Y=t[r],ne=new en.Y(Y.startLineNumber-S,Y.startColumn,Y.startLineNumber-S,Y.startColumn);Y.intersectRanges(e)?n=ne:s.push(ne)}return n&&s.unshift(n),s}_getRangesToDelete(e){let t=e.getModel();if(t===null)return[];let n=e.getSelections();if(n===null)return[];let s=n.map(r=>{if(r.isEmpty()){const h=t.getLineMaxColumn(r.startLineNumber);return r.startColumn===h?new Ue.e(r.startLineNumber,r.startColumn,r.startLineNumber+1,1):new Ue.e(r.startLineNumber,r.startColumn,r.startLineNumber,h)}return r});return s.sort(Ue.e.compareRangesUsingStarts),s}}class fS extends Pe.R6{constructor(){super({id:"editor.action.joinLines",label:Le.N("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(e,t){let n=t.getSelections();if(n===null)return;let s=t.getSelection();if(s===null)return;n.sort(Ue.e.compareRangesUsingStarts);let r=[],h=n.reduce((ze,Xe)=>ze.isEmpty()?ze.endLineNumber===Xe.startLineNumber?(s.equalsSelection(ze)&&(s=Xe),Xe):Xe.startLineNumber>ze.endLineNumber+1?(r.push(ze),Xe):new en.Y(ze.startLineNumber,ze.startColumn,Xe.endLineNumber,Xe.endColumn):Xe.startLineNumber>ze.endLineNumber?(r.push(ze),Xe):new en.Y(ze.startLineNumber,ze.startColumn,Xe.endLineNumber,Xe.endColumn));r.push(h);let S=t.getModel();if(S===null)return;let Y=[],ne=[],Q=s,he=0;for(let ze=0,Xe=r.length;ze<Xe;ze++){let bt=r[ze],Gt=bt.startLineNumber,fn=1,pn=0,zn,Rn,wi=S.getLineContent(bt.endLineNumber).length-bt.endColumn;if(bt.isEmpty()||bt.startLineNumber===bt.endLineNumber){let as=bt.getStartPosition();as.lineNumber<S.getLineCount()?(zn=Gt+1,Rn=S.getLineMaxColumn(zn)):(zn=as.lineNumber,Rn=S.getLineMaxColumn(as.lineNumber))}else zn=bt.endLineNumber,Rn=S.getLineMaxColumn(zn);let yi=S.getLineContent(Gt);for(let as=Gt+1;as<=zn;as++){let wr=S.getLineContent(as),Gr=S.getLineFirstNonWhitespaceColumn(as);if(Gr>=1){let Zr=!0;yi===""&&(Zr=!1),Zr&&(yi.charAt(yi.length-1)===" "||yi.charAt(yi.length-1)==="	")&&(Zr=!1,yi=yi.replace(/[\s\uFEFF\xA0]+$/g," "));let Ul=wr.substr(Gr-1);yi+=(Zr?" ":"")+Ul,Zr?pn=Ul.length+1:pn=Ul.length}else pn=0}let ys=new Ue.e(Gt,fn,zn,Rn);if(!ys.isEmpty()){let as;bt.isEmpty()?(Y.push(D.h.replace(ys,yi)),as=new en.Y(ys.startLineNumber-he,yi.length-pn+1,Gt-he,yi.length-pn+1)):bt.startLineNumber===bt.endLineNumber?(Y.push(D.h.replace(ys,yi)),as=new en.Y(bt.startLineNumber-he,bt.startColumn,bt.endLineNumber-he,bt.endColumn)):(Y.push(D.h.replace(ys,yi)),as=new en.Y(bt.startLineNumber-he,bt.startColumn,bt.startLineNumber-he,yi.length-wi)),Ue.e.intersectRanges(ys,s)!==null?Q=as:ne.push(as)}he+=ys.endLineNumber-ys.startLineNumber}ne.unshift(Q),t.pushUndoStop(),t.executeEdits(this.id,Y,ne),t.pushUndoStop()}}class gS extends Pe.R6{constructor(){super({id:"editor.action.transpose",label:Le.N("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:vt.u.writable})}run(e,t){let n=t.getSelections();if(n===null)return;let s=t.getModel();if(s===null)return;let r=[];for(let h=0,S=n.length;h<S;h++){let Y=n[h];if(!Y.isEmpty())continue;let ne=Y.getStartPosition(),Q=s.getLineMaxColumn(ne.lineNumber);if(ne.column>=Q){if(ne.lineNumber===s.getLineCount())continue;let he=new Ue.e(ne.lineNumber,Math.max(1,ne.column-1),ne.lineNumber+1,1),ze=s.getValueInRange(he).split("").reverse().join("");r.push(new ti.T4(new en.Y(ne.lineNumber,Math.max(1,ne.column-1),ne.lineNumber+1,1),ze))}else{let he=new Ue.e(ne.lineNumber,Math.max(1,ne.column-1),ne.lineNumber,ne.column+1),ze=s.getValueInRange(he).split("").reverse().join("");r.push(new ti.hP(he,ze,new en.Y(ne.lineNumber,ne.column+1,ne.lineNumber,ne.column+1)))}}t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}class bm extends Pe.R6{run(e,t){const n=t.getSelections();if(n===null)return;const s=t.getModel();if(s===null)return;const r=t.getOption(117),h=[];for(const S of n)if(S.isEmpty()){const Y=S.getStartPosition(),ne=t.getConfiguredWordAtPosition(Y);if(!ne)continue;const Q=new Ue.e(Y.lineNumber,ne.startColumn,Y.lineNumber,ne.endColumn),he=s.getValueInRange(Q);h.push(D.h.replace(Q,this._modifyText(he,r)))}else{const Y=s.getValueInRange(S);h.push(D.h.replace(S,this._modifyText(Y,r)))}t.pushUndoStop(),t.executeEdits(this.id,h),t.pushUndoStop()}}class mS extends bm{constructor(){super({id:"editor.action.transformToUppercase",label:Le.N("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:vt.u.writable})}_modifyText(e,t){return e.toLocaleUpperCase()}}class pS extends bm{constructor(){super({id:"editor.action.transformToLowercase",label:Le.N("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:vt.u.writable})}_modifyText(e,t){return e.toLocaleLowerCase()}}class m0{constructor(e,t){this._pattern=e,this._flags=t,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(e){}}return this._actual}isSupported(){return this.get()!==null}}class qf extends bm{constructor(){super({id:"editor.action.transformToTitlecase",label:Le.N("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:vt.u.writable})}_modifyText(e,t){const n=qf.titleBoundary.get();return n?e.toLocaleLowerCase().replace(n,s=>s.toLocaleUpperCase()):e}}qf.titleBoundary=new m0("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class tu extends bm{constructor(){super({id:"editor.action.transformToSnakecase",label:Le.N("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:vt.u.writable})}_modifyText(e,t){const n=tu.caseBoundary.get(),s=tu.singleLetters.get();return!n||!s?e:e.replace(n,"$1_$2").replace(s,"$1_$2$3").toLocaleLowerCase()}}tu.caseBoundary=new m0("(\\p{Ll})(\\p{Lu})","gmu"),tu.singleLetters=new m0("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),(0,Pe.Qr)(Jy),(0,Pe.Qr)(qy),(0,Pe.Qr)(eS),(0,Pe.Qr)(tS),(0,Pe.Qr)(nS),(0,Pe.Qr)(iS),(0,Pe.Qr)(sS),(0,Pe.Qr)(oS),(0,Pe.Qr)(Cm),(0,Pe.Qr)(rS),(0,Pe.Qr)(aS),(0,Pe.Qr)(lS),(0,Pe.Qr)(cS),(0,Pe.Qr)(dS),(0,Pe.Qr)(uS),(0,Pe.Qr)(hS),(0,Pe.Qr)(fS),(0,Pe.Qr)(gS),(0,Pe.Qr)(mS),(0,Pe.Qr)(pS),tu.caseBoundary.isSupported()&&tu.singleLetters.isSupported()&&(0,Pe.Qr)(tu),qf.titleBoundary.isSupported()&&(0,Pe.Qr)(qf);var _S=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},wm=function(g,e){return function(t,n){e(t,n,g)}},p0=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};const p_=new nn.uy("LinkedEditingInputVisible",!1),__="linked-editing-decoration";let nu=class e1 extends lt.JT{constructor(e,t,n,s,r){super(),this.languageConfigurationService=s,this._localToDispose=this._register(new lt.SL),this._editor=e,this._providers=n.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=p_.bindTo(t),this._debounceInformation=r.for(this._providers,"Linked Editing",{min:200}),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new lt.SL),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(h=>{(h.hasChanged(62)||h.hasChanged(82))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(e){return e.getContribution(e1.ID)}reinitialize(e){const t=this._editor.getModel(),n=t!==null&&(this._editor.getOption(62)||this._editor.getOption(82))&&this._providers.has(t);if(n===this._enabled&&!e||(this._enabled=n,this.clearRanges(),this._localToDispose.clear(),!n||t===null))return;this._localToDispose.add(wt.ju.runAndSubscribe(t.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(t.getLanguageId()).getWordDefinition()}));const s=new Ht.vp(this._debounceInformation.get(t)),r=()=>{var Y;this._rangeUpdateTriggerPromise=s.trigger(()=>this.updateRanges(),(Y=this._debounceDuration)!==null&&Y!==void 0?Y:this._debounceInformation.get(t))},h=new Ht.vp(0),S=Y=>{this._rangeSyncTriggerPromise=h.trigger(()=>this._syncRanges(Y))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{r()})),this._localToDispose.add(this._editor.onDidChangeModelContent(Y=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const ne=t.getDecorationRange(this._currentDecorations[0]);if(ne&&Y.changes.every(Q=>ne.intersectRanges(Q.range))){S(this._currentDecorations);return}}r()})),this._localToDispose.add({dispose:()=>{s.dispose(),h.dispose()}}),this.updateRanges()}_syncRanges(e){if(!this._editor.hasModel()||e!==this._currentDecorations||e.length===0)return;const t=this._editor.getModel(),n=t.getDecorationRange(e[0]);if(!n||n.startLineNumber!==n.endLineNumber)return this.clearRanges();const s=t.getValueInRange(n);if(this._currentWordPattern){const h=s.match(this._currentWordPattern);if((h?h[0].length:0)!==s.length)return this.clearRanges()}let r=[];for(let h=1,S=e.length;h<S;h++){const Y=t.getDecorationRange(e[h]);if(!!Y)if(Y.startLineNumber!==Y.endLineNumber)r.push({range:Y,text:s});else{let ne=t.getValueInRange(Y),Q=s,he=Y.startColumn,ze=Y.endColumn;const Xe=En.Mh(ne,Q);he+=Xe,ne=ne.substr(Xe),Q=Q.substr(Xe);const bt=En.P1(ne,Q);ze-=bt,ne=ne.substr(0,ne.length-bt),Q=Q.substr(0,Q.length-bt),(he!==ze||Q.length!==0)&&r.push({range:new Ue.e(Y.startLineNumber,he,Y.endLineNumber,ze),text:Q})}}if(r.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const h=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",r),this._editor._getViewModel().setPrevEditOperationType(h)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(e=!1){return p0(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const t=this._editor.getPosition();if(!this._enabled&&!e||this._editor.getSelections().length>1){this.clearRanges();return}const n=this._editor.getModel(),s=n.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===s){if(t.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const h=n.getDecorationRange(this._currentDecorations[0]);if(h&&h.containsPosition(t))return}}this._currentRequestPosition=t,this._currentRequestModelVersion=s;const r=(0,Ht.PG)(h=>p0(this,void 0,void 0,function*(){try{const S=new Ji.G(!1),Y=yield v_(this._providers,n,t,h);if(this._debounceInformation.update(n,S.elapsed()),r!==this._currentRequest||(this._currentRequest=null,s!==n.getVersionId()))return;let ne=[];Y!=null&&Y.ranges&&(ne=Y.ranges),this._currentWordPattern=(Y==null?void 0:Y.wordPattern)||this._languageWordPattern;let Q=!1;for(let ze=0,Xe=ne.length;ze<Xe;ze++)if(Ue.e.containsPosition(ne[ze],t)){if(Q=!0,ze!==0){const bt=ne[ze];ne.splice(ze,1),ne.unshift(bt)}break}if(!Q){this.clearRanges();return}const he=ne.map(ze=>({range:ze,options:e1.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,he)}catch(S){(0,ui.n2)(S)||(0,ui.dL)(S),(this._currentRequest===r||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=r,r})}};nu.ID="editor.contrib.linkedEditing",nu.DECORATION=Lt.qx.register({description:"linked-editing",stickiness:0,className:__}),nu=_S([wm(1,nn.i6),wm(2,ri.p),wm(3,ao.c_),wm(4,xs.A)],nu);class vS extends Pe.R6{constructor(){super({id:"editor.action.linkedEditing",label:Le.N("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:nn.Ao.and(vt.u.writable,vt.u.hasRenameProvider),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:3132,weight:100}})}runCommand(e,t){const n=e.get(On.$),[s,r]=Array.isArray(t)&&t||[void 0,void 0];return qi.o.isUri(s)&&Cn.L.isIPosition(r)?n.openCodeEditor({resource:s},n.getActiveCodeEditor()).then(h=>{!h||(h.setPosition(r),h.invokeWithinContext(S=>(this.reportTelemetry(S,h),this.run(S,h))))},ui.dL):super.runCommand(e,t)}run(e,t){const n=nu.get(t);return n?Promise.resolve(n.updateRanges(!0)):Promise.resolve()}}const CS=Pe._l.bindToContribution(nu.get);(0,Pe.fK)(new CS({id:"cancelLinkedEditingInput",precondition:p_,handler:g=>g.clearRanges(),kbOpts:{kbExpr:vt.u.editorTextFocus,weight:100+99,primary:9,secondary:[1033]}}));function v_(g,e,t,n){const s=g.ordered(e);return(0,Ht.Ps)(s.map(r=>()=>p0(this,void 0,void 0,function*(){try{return yield r.provideLinkedEditingRanges(e,t,n)}catch(h){(0,ui.Cp)(h);return}})),r=>!!r&&ki.Of(r==null?void 0:r.ranges))}const bS=(0,Se.P6G)("editor.linkedEditingBackground",{dark:Ei.Il.fromHex("#f00").transparent(.3),light:Ei.Il.fromHex("#f00").transparent(.3),hc:Ei.Il.fromHex("#f00").transparent(.3)},Le.N("editorLinkedEditingBackground","Background color when the editor auto renames on type."));(0,St.Ic)((g,e)=>{const t=g.getColor(bS);t&&e.addRule(`.monaco-editor .${__} { background: ${t}; border-left-color: ${t}; }`)}),(0,Pe.sb)("_executeLinkedEditingProvider",(g,e,t)=>{const{linkedEditingRangeProvider:n}=g.get(ri.p);return v_(n,e,t,bn.T.None)}),(0,Pe._K)(nu.ID,nu),(0,Pe.Qr)(vS);var C_=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};class wS{constructor(e,t){this._link=e,this._provider=t}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(e){return C_(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,e)).then(t=>(this._link=t||this._link,this._link.url?this.resolve(e):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}class ym{constructor(e){this._disposables=new lt.SL;let t=[];for(const[n,s]of e){const r=n.links.map(h=>new wS(h,s));t=ym._union(t,r),(0,lt.Wf)(n)&&this._disposables.add(n)}this.links=t}dispose(){this._disposables.dispose(),this.links.length=0}static _union(e,t){let n=[],s,r,h,S;for(s=0,h=0,r=e.length,S=t.length;s<r&&h<S;){const Y=e[s],ne=t[h];if(Ue.e.areIntersectingOrTouching(Y.range,ne.range)){s++;continue}Ue.e.compareRangesUsingStarts(Y.range,ne.range)<0?(n.push(Y),s++):(n.push(ne),h++)}for(;s<r;s++)n.push(e[s]);for(;h<S;h++)n.push(t[h]);return n}}function b_(g,e,t){const n=[],s=g.ordered(e).reverse().map((r,h)=>Promise.resolve(r.provideLinks(e,t)).then(S=>{S&&(n[h]=[S,r])},ui.Cp));return Promise.all(s).then(()=>{const r=new ym((0,ki.kX)(n));return t.isCancellationRequested?(r.dispose(),new ym([])):r})}Ki.P0.registerCommand("_executeLinkProvider",(g,...e)=>C_(void 0,void 0,void 0,function*(){let[t,n]=e;(0,gs.p_)(t instanceof qi.o),typeof n!="number"&&(n=0);const{linkProvider:s}=g.get(ri.p),r=g.get(zs.q).getModel(t);if(!r)return[];const h=yield b_(s,r,bn.T.None);if(!h)return[];for(let Y=0;Y<Math.min(n,h.links.length);Y++)yield h.links[Y].resolve(bn.T.None);const S=h.links.slice(0);return h.dispose(),S}));var yS=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Sm=function(g,e){return function(t,n){e(t,n,g)}},SS=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};let Hh=class Ov extends lt.JT{constructor(e,t,n,s,r){super(),this.editor=e,this.openerService=t,this.notificationService=n,this.languageFeaturesService=s,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=r.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new Ht.pY(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const h=this._register(new Nl(e));this._register(h.onMouseMoveOrRelevantKeyDown(([S,Y])=>{this._onEditorMouseMove(S,Y)})),this._register(h.onExecute(S=>{this.onEditorMouseUp(S)})),this._register(h.onCancel(S=>{this.cleanUpActiveLinkDecoration()})),this._register(e.onDidChangeConfiguration(S=>{!S.hasChanged(63)||(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(e.onDidChangeModelContent(S=>{!this.editor.hasModel()||this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(e.onDidChangeModel(S=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(e.onDidChangeModelLanguage(S=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(S=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}static get(e){return e.getContribution(Ov.ID)}computeLinksNow(){return SS(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.editor.getOption(63))return;const e=this.editor.getModel();if(!!this.providers.has(e)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,Ht.PG)(t=>b_(this.providers,e,t));try{const t=new Ji.G(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(e,t.elapsed()),e.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(t){(0,ui.dL)(t)}finally{this.computePromise=null}}})}updateDecorations(e){const t=this.editor.getOption(70)==="altKey",n=[],s=Object.keys(this.currentOccurrences);for(const S of s){const Y=this.currentOccurrences[S];n.push(Y.decorationId)}const r=[];if(e)for(const S of e)r.push(zh.decoration(S,t));const h=this.editor.deltaDecorations(n,r);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let S=0,Y=h.length;S<Y;S++){const ne=new zh(e[S],h[S]);this.currentOccurrences[ne.decorationId]=ne}}_onEditorMouseMove(e,t){const n=this.editor.getOption(70)==="altKey";if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();const s=this.getLinkOccurrence(e.target.position);s&&this.editor.changeDecorations(r=>{s.activate(r,n),this.activeLinkDecorationId=s.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const e=this.editor.getOption(70)==="altKey";if(this.activeLinkDecorationId){const t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations(n=>{t.deactivate(n,e)}),this.activeLinkDecorationId=null}}onEditorMouseUp(e){if(!this.isEnabled(e))return;const t=this.getLinkOccurrence(e.target.position);!t||this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}openLinkOccurrence(e,t,n=!1){if(!this.openerService)return;const{link:s}=e;s.resolve(bn.T.None).then(r=>{if(typeof r=="string"&&this.editor.hasModel()){const h=this.editor.getModel().uri;if(h.scheme===li.lg.file&&r.startsWith(`${li.lg.file}:`)){const S=qi.o.parse(r);if(S.scheme===li.lg.file){const Y=Ss.z_(S);let ne=null;Y.startsWith("/./")?ne=`.${Y.substr(1)}`:Y.startsWith("//./")&&(ne=`.${Y.substr(2)}`),ne&&(r=Ss.Vo(h,ne))}}}return this.openerService.open(r,{openToSide:t,fromUserGesture:n,allowContributedOpeners:!0,allowCommands:!0})},r=>{const h=r instanceof Error?r.message:r;h==="invalid"?this.notificationService.warn(Le.N("invalid.url","Failed to open this link because it is not well-formed: {0}",s.url.toString())):h==="missing"?this.notificationService.warn(Le.N("missing.url","Failed to open this link because its target is missing.")):(0,ui.dL)(r)})}getLinkOccurrence(e){if(!this.editor.hasModel()||!e)return null;const t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0);for(const n of t){const s=this.currentOccurrences[n.id];if(s)return s}return null}isEnabled(e,t){return Boolean(e.target.type===6&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))}stop(){var e;this.computeLinks.cancel(),this.activeLinksList&&((e=this.activeLinksList)===null||e===void 0||e.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};Hh.ID="editor.linkDetector",Hh=yS([Sm(1,za.v4),Sm(2,zi.lT),Sm(3,ri.p),Sm(4,xs.A)],Hh);const w_={general:Lt.qx.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:Lt.qx.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class zh{constructor(e,t){this.link=e,this.decorationId=t}static decoration(e,t){return{range:e.range,options:zh._getOptions(e,t,!1)}}static _getOptions(e,t,n){const s=Object.assign({},n?w_.active:w_.general);return s.hoverMessage=LS(e,t),s}activate(e,t){e.changeDecorationOptions(this.decorationId,zh._getOptions(this.link,t,!0))}deactivate(e,t){e.changeDecorationOptions(this.decorationId,zh._getOptions(this.link,t,!1))}}function LS(g,e){const t=g.url&&/^command:/i.test(g.url.toString()),n=g.tooltip?g.tooltip:t?Le.N("links.navigate.executeCmd","Execute command"):Le.N("links.navigate.follow","Follow link"),s=e?Yn.dz?Le.N("links.navigate.kb.meta.mac","cmd + click"):Le.N("links.navigate.kb.meta","ctrl + click"):Yn.dz?Le.N("links.navigate.kb.alt.mac","option + click"):Le.N("links.navigate.kb.alt","alt + click");if(g.url){let r="";if(/^command:/i.test(g.url.toString())){const S=g.url.toString().match(/^command:([^?#]+)/);if(S){const Y=S[1];r=` "${Le.N("tooltip.explanation","Execute command {0}",Y)}"`}}return new Zt.W5("",!0).appendMarkdown(`[${n}](${g.url.toString(!0).replace(/ /g,"%20")}${r}) (${s})`)}else return new Zt.W5().appendText(`${n} (${s})`)}class ES extends Pe.R6{constructor(){super({id:"editor.action.openLink",label:Le.N("label","Open Link"),alias:"Open Link",precondition:void 0})}run(e,t){const n=Hh.get(t);if(!n||!t.hasModel())return;const s=t.getSelections();for(const r of s){const h=n.getLinkOccurrence(r.getEndPosition());h&&n.openLinkOccurrence(h,!1)}}}(0,Pe._K)(Hh.ID,Hh),(0,Pe.Qr)(ES),(0,St.Ic)((g,e)=>{const t=g.getColor(Se._Yy);t&&e.addRule(`.monaco-editor .detected-link-active { color: ${t} !important; }`)});var DS=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},xS=function(g,e){return function(t,n){e(t,n,g)}};function Uh(g,e){const t=e.filter(n=>!g.find(s=>s.equals(n)));if(t.length>=1){const n=t.map(r=>`line ${r.viewState.position.lineNumber} column ${r.viewState.position.column}`).join(", "),s=t.length===1?Le.N("cursorAdded","Cursor added: {0}",n):Le.N("cursorsAdded","Cursors added: {0}",n);(0,Rt.i7)(s)}}class NS extends Pe.R6{constructor(){super({id:"editor.action.insertCursorAbove",label:Le.N("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:Ve.eH.MenubarSelectionMenu,group:"3_multi",title:Le.N({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(e,t,n){if(!t.hasModel())return;let s=!0;n&&n.logicalLine===!1&&(s=!1);const r=t._getViewModel();if(r.cursorConfig.readOnly)return;r.model.pushStackElement();const h=r.getCursorStates();r.setCursorStates(n.source,3,f0.P.addCursorUp(r,h,s)),r.revealTopMostCursor(n.source),Uh(h,r.getCursorStates())}}class IS extends Pe.R6{constructor(){super({id:"editor.action.insertCursorBelow",label:Le.N("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:Ve.eH.MenubarSelectionMenu,group:"3_multi",title:Le.N({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(e,t,n){if(!t.hasModel())return;let s=!0;n&&n.logicalLine===!1&&(s=!1);const r=t._getViewModel();if(r.cursorConfig.readOnly)return;r.model.pushStackElement();const h=r.getCursorStates();r.setCursorStates(n.source,3,f0.P.addCursorDown(r,h,s)),r.revealBottomMostCursor(n.source),Uh(h,r.getCursorStates())}}class TS extends Pe.R6{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:Le.N("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:Ve.eH.MenubarSelectionMenu,group:"3_multi",title:Le.N({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(e,t,n){if(!e.isEmpty()){for(let s=e.startLineNumber;s<e.endLineNumber;s++){let r=t.getLineMaxColumn(s);n.push(new en.Y(s,r,s,r))}e.endColumn>1&&n.push(new en.Y(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}}run(e,t){if(!t.hasModel())return;const n=t.getModel(),s=t.getSelections(),r=t._getViewModel(),h=r.getCursorStates();let S=[];s.forEach(Y=>this.getCursorsForSelection(Y,n,S)),S.length>0&&t.setSelections(S),Uh(h,r.getCursorStates())}}class MS extends Pe.R6{constructor(){super({id:"editor.action.addCursorsToBottom",label:Le.N("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(e,t){if(!t.hasModel())return;const n=t.getSelections(),s=t.getModel().getLineCount();let r=[];for(let Y=n[0].startLineNumber;Y<=s;Y++)r.push(new en.Y(Y,n[0].startColumn,Y,n[0].endColumn));const h=t._getViewModel(),S=h.getCursorStates();r.length>0&&t.setSelections(r),Uh(S,h.getCursorStates())}}class kS extends Pe.R6{constructor(){super({id:"editor.action.addCursorsToTop",label:Le.N("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(e,t){if(!t.hasModel())return;const n=t.getSelections();let s=[];for(let S=n[0].startLineNumber;S>=1;S--)s.push(new en.Y(S,n[0].startColumn,S,n[0].endColumn));const r=t._getViewModel(),h=r.getCursorStates();s.length>0&&t.setSelections(s),Uh(h,r.getCursorStates())}}class Lm{constructor(e,t,n){this.selections=e,this.revealRange=t,this.revealScrollType=n}}class eg{constructor(e,t,n,s,r,h,S){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=n,this.searchText=s,this.wholeWord=r,this.matchCase=h,this.currentMatch=S}static create(e,t){if(!e.hasModel())return null;const n=t.getState();if(!e.hasTextFocus()&&n.isRevealed&&n.searchString.length>0)return new eg(e,t,!1,n.searchString,n.wholeWord,n.matchCase,null);let s=!1,r,h;const S=e.getSelections();S.length===1&&S[0].isEmpty()?(s=!0,r=!0,h=!0):(r=n.wholeWord,h=n.matchCase);const Y=e.getSelection();let ne,Q=null;if(Y.isEmpty()){const he=e.getConfiguredWordAtPosition(Y.getStartPosition());if(!he)return null;ne=he.word,Q=new en.Y(Y.startLineNumber,he.startColumn,Y.startLineNumber,he.endColumn)}else ne=e.getModel().getValueInRange(Y).replace(/\r\n/g,`
`);return new eg(e,t,s,ne,r,h,Q)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new Lm(t.concat(e),e,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new Lm(t.slice(0,t.length-1).concat(e),e,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const s=this.currentMatch;return this.currentMatch=null,s}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],n=this._editor.getModel().findNextMatch(this.searchText,t.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1);return n?new en.Y(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new Lm(t.concat(e),e,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new Lm(t.slice(0,t.length-1).concat(e),e,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const s=this.currentMatch;return this.currentMatch=null,s}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],n=this._editor.getModel().findPreviousMatch(this.searchText,t.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1);return n?new en.Y(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1,1073741824)):[]}}class Vu extends lt.JT{constructor(e){super(),this._sessionDispose=this._register(new lt.SL),this._editor=e,this._ignoreSelectionChange=!1,this._session=null}static get(e){return e.getContribution(Vu.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(e){if(!this._session){const t=eg.create(this._editor,e);if(!t)return;this._session=t;const n={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(n.wholeWordOverride=1,n.matchCaseOverride=1,n.isRegexOverride=2),e.getState().change(n,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(s=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(e.getState().onFindReplaceStateChange(s=>{(s.matchCase||s.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const e={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(e,!1)}this._session=null}_setSelections(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}_expandEmptyToWord(e,t){if(!t.isEmpty())return t;const n=this._editor.getConfiguredWordAtPosition(t.getStartPosition());return n?new en.Y(t.startLineNumber,n.startColumn,t.startLineNumber,n.endColumn):t}_applySessionResult(e){!e||(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}getSession(e){return this._session}addSelectionToNextFindMatch(e){if(!!this._editor.hasModel()){if(!this._session){const t=this._editor.getSelections();if(t.length>1){const s=e.getState().matchCase;if(!y_(this._editor.getModel(),t,s)){const h=this._editor.getModel();let S=[];for(let Y=0,ne=t.length;Y<ne;Y++)S[Y]=this._expandEmptyToWord(h,t[Y]);this._editor.setSelections(S);return}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(e){if(!this._editor.hasModel())return;let t=null;const n=e.getState();if(n.isRevealed&&n.searchString.length>0&&n.isRegex)t=this._editor.getModel().findMatches(n.searchString,!0,n.isRegex,n.matchCase,n.wholeWord?this._editor.getOption(117):null,!1,1073741824);else{if(this._beginSessionIfNeeded(e),!this._session)return;t=this._session.selectAll()}if(n.searchScope){const s=n.searchScope;let r=[];t.forEach(h=>{s.forEach(S=>{h.range.endLineNumber<=S.endLineNumber&&h.range.startLineNumber>=S.startLineNumber&&r.push(h)})}),t=r}if(t.length>0){const s=this._editor.getSelection();for(let r=0,h=t.length;r<h;r++){const S=t[r];if(S.range.intersectRanges(s)){t[r]=t[0],t[0]=S;break}}this._setSelections(t.map(r=>new en.Y(r.range.startLineNumber,r.range.startColumn,r.range.endLineNumber,r.range.endColumn)))}}}Vu.ID="editor.contrib.multiCursorController";class jh extends Pe.R6{run(e,t){const n=Vu.get(t);if(!n)return;const s=Ua.get(t);if(!s)return;const r=t._getViewModel();if(r){const h=r.getCursorStates();this._run(n,s),Uh(h,r.getCursorStates())}}}class RS extends jh{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:Le.N("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:2082,weight:100},menuOpts:{menuId:Ve.eH.MenubarSelectionMenu,group:"3_multi",title:Le.N({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(e,t){e.addSelectionToNextFindMatch(t)}}class AS extends jh{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:Le.N("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:Ve.eH.MenubarSelectionMenu,group:"3_multi",title:Le.N({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(e,t){e.addSelectionToPreviousFindMatch(t)}}class PS extends jh{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:Le.N("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:(0,hn.gx)(2089,2082),weight:100}})}_run(e,t){e.moveSelectionToNextFindMatch(t)}}class OS extends jh{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:Le.N("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(e,t){e.moveSelectionToPreviousFindMatch(t)}}class FS extends jh{constructor(){super({id:"editor.action.selectHighlights",label:Le.N("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:3114,weight:100},menuOpts:{menuId:Ve.eH.MenubarSelectionMenu,group:"3_multi",title:Le.N({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(e,t){e.selectAll(t)}}class BS extends jh{constructor(){super({id:"editor.action.changeAll",label:Le.N("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:nn.Ao.and(vt.u.writable,vt.u.editorTextFocus),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(e,t){e.selectAll(t)}}class WS{constructor(e,t,n,s,r){this._model=e,this._searchText=t,this._matchCase=n,this._wordSeparators=s,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,r&&this._model===r._model&&this._searchText===r._searchText&&this._matchCase===r._matchCase&&this._wordSeparators===r._wordSeparators&&this._modelVersionId===r._modelVersionId&&(this._cachedFindMatches=r._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(e=>e.range),this._cachedFindMatches.sort(Ue.e.compareRangesUsingStarts)),this._cachedFindMatches}}let Hu=class Jm extends lt.JT{constructor(e,t){super(),this._languageFeaturesService=t,this.editor=e,this._isEnabled=e.getOption(97),this.decorations=[],this.updateSoon=this._register(new Ht.pY(()=>this._update(),300)),this.state=null,this._register(e.onDidChangeConfiguration(s=>{this._isEnabled=e.getOption(97)})),this._register(e.onDidChangeCursorSelection(s=>{!this._isEnabled||(s.selection.isEmpty()?s.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(e.onDidChangeModel(s=>{this._setState(null)})),this._register(e.onDidChangeModelContent(s=>{this._isEnabled&&this.updateSoon.schedule()}));const n=Ua.get(e);n&&this._register(n.getState().onFindReplaceStateChange(s=>{this._update()}))}_update(){this._setState(Jm._createState(this.state,this._isEnabled,this.editor))}static _createState(e,t,n){if(!t||!n.hasModel())return null;const s=n.getSelection();if(s.startLineNumber!==s.endLineNumber)return null;const r=Vu.get(n);if(!r)return null;const h=Ua.get(n);if(!h)return null;let S=r.getSession(h);if(!S){const Q=n.getSelections();if(Q.length>1){const ze=h.getState().matchCase;if(!y_(n.getModel(),Q,ze))return null}S=eg.create(n,h)}if(!S||S.currentMatch||/^[ \t]+$/.test(S.searchText)||S.searchText.length>200)return null;const Y=h.getState(),ne=Y.matchCase;if(Y.isRevealed){let Q=Y.searchString;ne||(Q=Q.toLowerCase());let he=S.searchText;if(ne||(he=he.toLowerCase()),Q===he&&S.matchCase===Y.matchCase&&S.wholeWord===Y.wholeWord&&!Y.isRegex)return null}return new WS(n.getModel(),S.searchText,S.matchCase,S.wholeWord?n.getOption(117):null,e)}_setState(e){if(this.state=e,!this.state){this.decorations=this.editor.deltaDecorations(this.decorations,[]);return}if(!this.editor.hasModel())return;const t=this.editor.getModel();if(t.isTooLargeForTokenization())return;const n=this.state.findMatches(),s=this.editor.getSelections();s.sort(Ue.e.compareRangesUsingStarts);const r=[];for(let Y=0,ne=0,Q=n.length,he=s.length;Y<Q;){const ze=n[Y];if(ne>=he)r.push(ze),Y++;else{const Xe=Ue.e.compareRangesUsingStarts(ze,s[ne]);Xe<0?((s[ne].isEmpty()||!Ue.e.areIntersecting(ze,s[ne]))&&r.push(ze),Y++):(Xe>0||Y++,ne++)}}const h=this._languageFeaturesService.documentHighlightProvider.has(t)&&this.editor.getOption(72),S=r.map(Y=>({range:Y,options:h?Jm._SELECTION_HIGHLIGHT:Jm._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,S)}dispose(){this._setState(null),super.dispose()}};Hu.ID="editor.contrib.selectionHighlighter",Hu._SELECTION_HIGHLIGHT_OVERVIEW=Lt.qx.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:(0,St.EN)(Se.IYc),position:Pt.F5.Inline},overviewRuler:{color:(0,St.EN)(Se.SPM),position:Pt.sh.Center}}),Hu._SELECTION_HIGHLIGHT=Lt.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),Hu=DS([xS(1,ri.p)],Hu);function y_(g,e,t){const n=S_(g,e[0],!t);for(let s=1,r=e.length;s<r;s++){const h=e[s];if(h.isEmpty())return!1;const S=S_(g,h,!t);if(n!==S)return!1}return!0}function S_(g,e,t){const n=g.getValueInRange(e);return t?n.toLowerCase():n}(0,Pe._K)(Vu.ID,Vu),(0,Pe._K)(Hu.ID,Hu),(0,Pe.Qr)(NS),(0,Pe.Qr)(IS),(0,Pe.Qr)(TS),(0,Pe.Qr)(RS),(0,Pe.Qr)(AS),(0,Pe.Qr)(PS),(0,Pe.Qr)(OS),(0,Pe.Qr)(FS),(0,Pe.Qr)(BS),(0,Pe.Qr)(MS),(0,Pe.Qr)(kS);var L_=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};const zu={Visible:new nn.uy("parameterHintsVisible",!1),MultipleSignatures:new nn.uy("parameterHintsMultipleSignatures",!1)};function E_(g,e,t,n,s){return L_(this,void 0,void 0,function*(){const r=g.ordered(e);for(const h of r)try{const S=yield h.provideSignatureHelp(e,t,s,n);if(S)return S}catch(S){(0,ui.Cp)(S)}})}Ki.P0.registerCommand("_executeSignatureHelpProvider",(g,...e)=>L_(void 0,void 0,void 0,function*(){const[t,n,s]=e;(0,gs.p_)(qi.o.isUri(t)),(0,gs.p_)(Cn.L.isIPosition(n)),(0,gs.p_)(typeof s=="string"||!s);const r=g.get(ri.p),h=yield g.get(oa.S).createModelReference(t);try{const S=yield E_(r.signatureHelpProvider,h.object.textEditorModel,Cn.L.lift(n),{triggerKind:qe.WW.Invoke,isRetrigger:!1,triggerCharacter:s},bn.T.None);return S?(setTimeout(()=>S.dispose(),0),S.value):void 0}finally{h.dispose()}}));var VS=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})},iu;(function(g){g.Default={type:0};class e{constructor(s,r){this.request=s,this.previouslyActiveHints=r,this.type=2}}g.Pending=e;class t{constructor(s){this.hints=s,this.type=1}}g.Active=t})(iu||(iu={}));class Em extends lt.JT{constructor(e,t,n=Em.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new wt.Q5),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=iu.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new lt.XK),this.triggerChars=new Th.q,this.retriggerChars=new Th.q,this.triggerId=0,this.editor=e,this.providers=t,this.throttledDelayer=new Ht.vp(n),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(s=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(s=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(s=>this.onCursorChange(s))),this._register(this.editor.onDidChangeModelContent(s=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(s=>this.onDidType(s))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(e){this._state.type===2&&this._state.request.cancel(),this._state=e}cancel(e=!1){this.state=iu.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}trigger(e,t){const n=this.editor.getModel();if(!n||!this.providers.has(n))return;const s=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger(()=>this.doTrigger(s),t).catch(ui.dL)}next(){if(this.state.type!==1)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,n=t%e===e-1,s=this.editor.getOption(76).cycle;if((e<2||n)&&!s){this.cancel();return}this.updateActiveSignature(n&&s?0:t+1)}previous(){if(this.state.type!==1)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,n=t===0,s=this.editor.getOption(76).cycle;if((e<2||n)&&!s){this.cancel();return}this.updateActiveSignature(n&&s?e-1:t-1)}updateActiveSignature(e){this.state.type===1&&(this.state=new iu.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:e})),this._onChangedHints.fire(this.state.hints))}doTrigger(e){return VS(this,void 0,void 0,function*(){const t=this.state.type===1||this.state.type===2,n=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const s=this._pendingTriggers.reduce(HS);this._pendingTriggers=[];const r={triggerKind:s.triggerKind,triggerCharacter:s.triggerCharacter,isRetrigger:t,activeSignatureHelp:n};if(!this.editor.hasModel())return!1;const h=this.editor.getModel(),S=this.editor.getPosition();this.state=new iu.Pending((0,Ht.PG)(Y=>E_(this.providers,h,S,r,Y)),n);try{const Y=yield this.state.request;return e!==this.triggerId?(Y==null||Y.dispose(),!1):!Y||!Y.value.signatures||Y.value.signatures.length===0?(Y==null||Y.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new iu.Active(Y.value),this._lastSignatureHelpResult.value=Y,this._onChangedHints.fire(this.state.hints),!0)}catch(Y){return e===this.triggerId&&(this.state=iu.Default),(0,ui.dL)(Y),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new Th.q,this.retriggerChars=new Th.q;const e=this.editor.getModel();if(!!e)for(const t of this.providers.ordered(e)){for(const n of t.signatureHelpTriggerCharacters||[])this.triggerChars.add(n.charCodeAt(0)),this.retriggerChars.add(n.charCodeAt(0));for(const n of t.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(n.charCodeAt(0))}}onDidType(e){if(!this.triggerOnType)return;const t=e.length-1,n=e.charCodeAt(t);(this.triggerChars.has(n)||this.isTriggered&&this.retriggerChars.has(n))&&this.trigger({triggerKind:qe.WW.TriggerCharacter,triggerCharacter:e.charAt(t)})}onCursorChange(e){e.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:qe.WW.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:qe.WW.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(76).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}Em.DEFAULT_DELAY=120;function HS(g,e){switch(e.triggerKind){case qe.WW.Invoke:return e;case qe.WW.ContentChange:return g;case qe.WW.TriggerCharacter:default:return e}}var D_=l(48475),zS=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Dm=function(g,e){return function(t,n){e(t,n,g)}};const al=q.$,US=(0,jr.q5)("parameter-hints-next",ft.lA.chevronDown,Le.N("parameterHintsNextIcon","Icon for show next parameter hint.")),jS=(0,jr.q5)("parameter-hints-previous",ft.lA.chevronUp,Le.N("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let xm=class Fv extends lt.JT{constructor(e,t,n,s,r){super(),this.editor=e,this.renderDisposeables=this._register(new lt.SL),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new oc({editor:e},s,n)),this.model=this._register(new Em(e,r.signatureHelpProvider)),this.keyVisible=zu.Visible.bindTo(t),this.keyMultipleSignatures=zu.MultipleSignatures.bindTo(t),this._register(this.model.onChangedHints(h=>{h?(this.show(),this.render(h)):this.hide()}))}createParameterHintDOMNodes(){const e=al(".editor-widget.parameter-hints-widget"),t=q.R3(e,al(".phwrapper"));t.tabIndex=-1;const n=q.R3(t,al(".controls")),s=q.R3(n,al(".button"+St.kS.asCSSSelector(jS))),r=q.R3(n,al(".overloads")),h=q.R3(n,al(".button"+St.kS.asCSSSelector(US)));this._register(q.nm(s,"click",ze=>{q.zB.stop(ze),this.previous()})),this._register(q.nm(h,"click",ze=>{q.zB.stop(ze),this.next()}));const S=al(".body"),Y=new ic.s$(S,{});this._register(Y),t.appendChild(Y.getDomNode());const ne=q.R3(S,al(".signature")),Q=q.R3(S,al(".docs"));e.style.userSelect="text",this.domNodes={element:e,signature:ne,overloads:r,docs:Q,scrollbar:Y},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(ze=>{this.visible&&this.editor.layoutContentWidget(this)}));const he=()=>{if(!this.domNodes)return;const ze=this.editor.getOption(44);this.domNodes.element.style.fontSize=`${ze.fontSize}px`,this.domNodes.element.style.lineHeight=`${ze.lineHeight/ze.fontSize}`};he(),this._register(wt.ju.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(ze=>ze.hasChanged(44)).on(he,null)),this._register(this.editor.onDidLayoutChange(ze=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(e){var t;if(this.renderDisposeables.clear(),!this.domNodes)return;const n=e.signatures.length>1;this.domNodes.element.classList.toggle("multiple",n),this.keyMultipleSignatures.set(n),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const s=e.signatures[e.activeSignature];if(!s)return;const r=q.R3(this.domNodes.signature,al(".code")),h=this.editor.getOption(44);r.style.fontSize=`${h.fontSize}px`,r.style.fontFamily=h.fontFamily;const S=s.parameters.length>0,Y=(t=s.activeParameter)!==null&&t!==void 0?t:e.activeParameter;if(S)this.renderParameters(r,s,Y);else{const he=q.R3(r,al("span"));he.textContent=s.label}const ne=s.parameters[Y];if(ne!=null&&ne.documentation){const he=al("span.documentation");if(typeof ne.documentation=="string")he.textContent=ne.documentation;else{const ze=this.renderMarkdownDocs(ne.documentation);he.appendChild(ze.element)}q.R3(this.domNodes.docs,al("p",{},he))}if(s.documentation!==void 0)if(typeof s.documentation=="string")q.R3(this.domNodes.docs,al("p",{},s.documentation));else{const he=this.renderMarkdownDocs(s.documentation);q.R3(this.domNodes.docs,he.element)}const Q=this.hasDocs(s,ne);if(this.domNodes.signature.classList.toggle("has-docs",Q),this.domNodes.docs.classList.toggle("empty",!Q),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,ne){let he="";const ze=s.parameters[Y];Array.isArray(ze.label)?he=s.label.substring(ze.label[0],ze.label[1]):he=ze.label,ze.documentation&&(he+=typeof ze.documentation=="string"?`, ${ze.documentation}`:`, ${ze.documentation.value}`),s.documentation&&(he+=typeof s.documentation=="string"?`, ${s.documentation}`:`, ${s.documentation.value}`),this.announcedLabel!==he&&(Rt.Z9(Le.N("hint","{0}, hint",he)),this.announcedLabel=he)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(e){const t=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:()=>{var n;(n=this.domNodes)===null||n===void 0||n.scrollbar.scanDomNode()}}));return t.element.classList.add("markdown-docs"),t}hasDocs(e,t){return!!(t&&typeof t.documentation=="string"&&(0,gs.cW)(t.documentation).length>0||t&&typeof t.documentation=="object"&&(0,gs.cW)(t.documentation).value.length>0||e.documentation&&typeof e.documentation=="string"&&(0,gs.cW)(e.documentation).length>0||e.documentation&&typeof e.documentation=="object"&&(0,gs.cW)(e.documentation.value).length>0)}renderParameters(e,t,n){const[s,r]=this.getParameterLabelOffsets(t,n),h=document.createElement("span");h.textContent=t.label.substring(0,s);const S=document.createElement("span");S.textContent=t.label.substring(s,r),S.className="parameter active";const Y=document.createElement("span");Y.textContent=t.label.substring(r),q.R3(e,h,S,Y)}getParameterLabelOffsets(e,t){const n=e.parameters[t];if(n){if(Array.isArray(n.label))return n.label;if(n.label.length){const s=new RegExp(`(\\W|^)${(0,En.ec)(n.label)}(?=\\W|$)`,"g");s.test(e.label);const r=s.lastIndex-n.label.length;return r>=0?[r,s.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return Fv.ID}trigger(e){this.model.trigger(e,0)}updateMaxHeight(){if(!this.domNodes)return;const t=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=t;const n=this.domNodes.element.getElementsByClassName("phwrapper");n.length&&(n[0].style.maxHeight=t)}};xm.ID="editor.widget.parameterHintsWidget",xm=zS([Dm(1,nn.i6),Dm(2,za.v4),Dm(3,Xr.O),Dm(4,ri.p)],xm);const KS=(0,Se.P6G)("editorHoverWidget.highlightForeground",{dark:Se.Gwp,light:Se.Gwp,hc:Se.Gwp},Le.N("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));(0,St.Ic)((g,e)=>{const t=g.getColor(Se.CNo);if(t){const ne=g.type===D_.e.HIGH_CONTRAST?2:1;e.addRule(`.monaco-editor .parameter-hints-widget { border: ${ne}px solid ${t}; }`),e.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${t.transparent(.5)}; }`),e.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${t.transparent(.5)}; }`)}const n=g.getColor(Se.yJx);n&&e.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${n}; }`);const s=g.getColor(Se.url);s&&e.addRule(`.monaco-editor .parameter-hints-widget a { color: ${s}; }`);const r=g.getColor(Se.sgC);r&&e.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${r}; }`);const h=g.getColor(Se.Sbf);h&&e.addRule(`.monaco-editor .parameter-hints-widget { color: ${h}; }`);const S=g.getColor(Se.SwI);S&&e.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${S}; }`);const Y=g.getColor(KS);Y&&e.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${Y}}`)});var $S=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},GS=function(g,e){return function(t,n){e(t,n,g)}};let Uu=class Bv extends lt.JT{constructor(e,t){super(),this.editor=e,this.widget=this._register(t.createInstance(xm,this.editor))}static get(e){return e.getContribution(Bv.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(e){this.widget.trigger(e)}};Uu.ID="editor.controller.parameterHints",Uu=$S([GS(1,G.TG)],Uu);class ZS extends Pe.R6{constructor(){super({id:"editor.action.triggerParameterHints",label:Le.N("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:vt.u.hasSignatureHelpProvider,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:3082,weight:100}})}run(e,t){const n=Uu.get(t);n&&n.trigger({triggerKind:qe.WW.Invoke})}}(0,Pe._K)(Uu.ID,Uu),(0,Pe.Qr)(ZS);const _0=100+75,v0=Pe._l.bindToContribution(Uu.get);(0,Pe.fK)(new v0({id:"closeParameterHints",precondition:zu.Visible,handler:g=>g.cancel(),kbOpts:{weight:_0,kbExpr:vt.u.focus,primary:9,secondary:[1033]}})),(0,Pe.fK)(new v0({id:"showPrevParameterHint",precondition:nn.Ao.and(zu.Visible,zu.MultipleSignatures),handler:g=>g.previous(),kbOpts:{weight:_0,kbExpr:vt.u.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,Pe.fK)(new v0({id:"showNextParameterHint",precondition:nn.Ao.and(zu.Visible,zu.MultipleSignatures),handler:g=>g.next(),kbOpts:{weight:_0,kbExpr:vt.u.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));var YS=l(67338),QS=l(75232),Kh=l(1062),XS=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},C0=function(g,e){return function(t,n){e(t,n,g)}};const Nm=new nn.uy("renameInputVisible",!1,(0,Le.N)("renameInputVisible","Whether the rename input widget is visible"));let b0=class{constructor(e,t,n,s,r){this._editor=e,this._acceptKeybindings=t,this._themeService=n,this._keybindingService=s,this._disposables=new lt.SL,this.allowEditorOverflow=!0,this._visibleContextKey=Nm.bindTo(r),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(h=>{h.hasChanged(44)&&this._updateFont()})),this._disposables.add(n.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,Le.N)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const e=()=>{var t,n;const[s,r]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(s),this._label.innerText=(0,Le.N)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",(t=this._keybindingService.lookupKeybinding(s))===null||t===void 0?void 0:t.getLabel(),(n=this._keybindingService.lookupKeybinding(r))===null||n===void 0?void 0:n.getLabel())};e(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(e)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(e){var t,n,s,r;if(!this._input||!this._domNode)return;const h=e.getColor(Se.rh);this._domNode.style.backgroundColor=String((t=e.getColor(Se.D0T))!==null&&t!==void 0?t:""),this._domNode.style.boxShadow=h?` 0 0 8px 2px ${h}`:"",this._domNode.style.color=String((n=e.getColor(Se.zJb))!==null&&n!==void 0?n:""),this._input.style.backgroundColor=String((s=e.getColor(Se.sEe))!==null&&s!==void 0?s:"");const S=e.getColor(Se.dt_);this._input.style.borderWidth=S?"1px":"0px",this._input.style.borderStyle=S?"solid":"none",this._input.style.borderColor=(r=S==null?void 0:S.toString())!==null&&r!==void 0?r:"none"}_updateFont(){if(!this._input||!this._label)return;const e=this._editor.getOption(44);this._input.style.fontFamily=e.fontFamily,this._input.style.fontWeight=e.fontWeight,this._input.style.fontSize=`${e.fontSize}px`,this._label.style.fontSize=`${e.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(e){e||this.cancelInput(!0)}acceptInput(e){this._currentAcceptInput&&this._currentAcceptInput(e)}cancelInput(e){this._currentCancelInput&&this._currentCancelInput(e)}getInput(e,t,n,s,r,h){this._domNode.classList.toggle("preview",r),this._position=new Cn.L(e.startLineNumber,e.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",n.toString()),this._input.setAttribute("selectionEnd",s.toString()),this._input.size=Math.max((e.endColumn-e.startColumn)*1.1,20);const S=new lt.SL;return new Promise(Y=>{this._currentCancelInput=ne=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,Y(ne),!0),this._currentAcceptInput=ne=>{if(this._input.value.trim().length===0||this._input.value===t){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,Y({newName:this._input.value,wantsPreview:r&&ne})},S.add(h.onCancellationRequested(()=>this.cancelInput(!0))),S.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{S.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};b0=XS([C0(2,St.XE),C0(3,F.d),C0(4,nn.i6)],b0);var JS=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},ju=function(g,e){return function(t,n){e(t,n,g)}},Ku=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};class w0{constructor(e,t,n){this.model=e,this.position=t,this._providerRenameIdx=0,this._providers=n.ordered(e)}hasProvider(){return this._providers.length>0}resolveRenameLocation(e){return Ku(this,void 0,void 0,function*(){const t=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const s=this._providers[this._providerRenameIdx];if(!s.resolveRenameLocation)break;let r=yield s.resolveRenameLocation(this.model,this.position,e);if(!!r){if(r.rejectReason){t.push(r.rejectReason);continue}return r}}const n=this.model.getWordAtPosition(this.position);return n?{range:new Ue.e(this.position.lineNumber,n.startColumn,this.position.lineNumber,n.endColumn),text:n.word,rejectReason:t.length>0?t.join(`
`):void 0}:{range:Ue.e.fromPositions(this.position),text:"",rejectReason:t.length>0?t.join(`
`):void 0}})}provideRenameEdits(e,t){return Ku(this,void 0,void 0,function*(){return this._provideRenameEdits(e,this._providerRenameIdx,[],t)})}_provideRenameEdits(e,t,n,s){return Ku(this,void 0,void 0,function*(){const r=this._providers[t];if(!r)return{edits:[],rejectReason:n.join(`
`)};const h=yield r.provideRenameEdits(this.model,this.position,e,s);if(h){if(h.rejectReason)return this._provideRenameEdits(e,t+1,n.concat(h.rejectReason),s)}else return this._provideRenameEdits(e,t+1,n.concat(Le.N("no result","No result.")),s);return h})}}function qS(g,e,t,n){return Ku(this,void 0,void 0,function*(){const s=new w0(e,t,g),r=yield s.resolveRenameLocation(bn.T.None);return r!=null&&r.rejectReason?{edits:[],rejectReason:r.rejectReason}:s.provideRenameEdits(n,bn.T.None)})}let $u=class Wv{constructor(e,t,n,s,r,h,S,Y){this.editor=e,this._instaService=t,this._notificationService=n,this._bulkEditService=s,this._progressService=r,this._logService=h,this._configService=S,this._languageFeaturesService=Y,this._dispoableStore=new lt.SL,this._cts=new bn.A,this._renameInputField=this._dispoableStore.add(new Ht.Ue(()=>this._dispoableStore.add(this._instaService.createInstance(b0,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(e){return e.getContribution(Wv.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){var e,t;return Ku(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const n=this.editor.getPosition(),s=new w0(this.editor.getModel(),n,this._languageFeaturesService.renameProvider);if(!s.hasProvider())return;this._cts=new Xs.Dl(this.editor,5);let r;try{const ze=s.resolveRenameLocation(this._cts.token);this._progressService.showWhile(ze,250),r=yield ze}catch(ze){(e=es.get(this.editor))===null||e===void 0||e.showMessage(ze||Le.N("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),n);return}if(!r)return;if(r.rejectReason){(t=es.get(this.editor))===null||t===void 0||t.showMessage(r.rejectReason,n);return}if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new Xs.Dl(this.editor,5,r.range);let h=this.editor.getSelection(),S=0,Y=r.text.length;!Ue.e.isEmpty(h)&&!Ue.e.spansMultipleLines(h)&&Ue.e.containsRange(r.range,h)&&(S=Math.max(0,h.startColumn-r.range.startColumn),Y=Math.min(r.range.endColumn,h.endColumn)-r.range.startColumn);const ne=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),Q=yield this._renameInputField.value.getInput(r.range,r.text,S,Y,ne,this._cts.token);if(typeof Q=="boolean"){Q&&this.editor.focus();return}this.editor.focus();const he=(0,Ht.eP)(s.provideRenameEdits(Q.newName,this._cts.token),this._cts.token).then(ze=>Ku(this,void 0,void 0,function*(){if(!(!ze||!this.editor.hasModel())){if(ze.rejectReason){this._notificationService.info(ze.rejectReason);return}this.editor.setSelection(Ue.e.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(Zi.fo.convert(ze),{editor:this.editor,showPreview:Q.wantsPreview,label:Le.N("label","Renaming '{0}'",r==null?void 0:r.text),quotableLabel:Le.N("quotableLabel","Renaming {0}",r==null?void 0:r.text)}).then(Xe=>{Xe.ariaSummary&&(0,Rt.Z9)(Le.N("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",r.text,Q.newName,Xe.ariaSummary))}).catch(Xe=>{this._notificationService.error(Le.N("rename.failedApply","Rename failed to apply edits")),this._logService.error(Xe)})}}),ze=>{this._notificationService.error(Le.N("rename.failed","Rename failed to compute edits")),this._logService.error(ze)});return this._progressService.showWhile(he,250),he})}acceptRenameInput(e){this._renameInputField.value.acceptInput(e)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};$u.ID="editor.contrib.renameController",$u=JS([ju(1,G.TG),ju(2,zi.lT),ju(3,Zi.vu),ju(4,Os.ek),ju(5,sm.VZ),ju(6,YS.V),ju(7,ri.p)],$u);class e2 extends Pe.R6{constructor(){super({id:"editor.action.rename",label:Le.N("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:nn.Ao.and(vt.u.writable,vt.u.hasRenameProvider),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(e,t){const n=e.get(On.$),[s,r]=Array.isArray(t)&&t||[void 0,void 0];return qi.o.isUri(s)&&Cn.L.isIPosition(r)?n.openCodeEditor({resource:s},n.getActiveCodeEditor()).then(h=>{!h||(h.setPosition(r),h.invokeWithinContext(S=>(this.reportTelemetry(S,h),this.run(S,h))))},ui.dL):super.runCommand(e,t)}run(e,t){const n=$u.get(t);return n?n.run():Promise.resolve()}}(0,Pe._K)($u.ID,$u),(0,Pe.Qr)(e2);const y0=Pe._l.bindToContribution($u.get);(0,Pe.fK)(new y0({id:"acceptRenameInput",precondition:Nm,handler:g=>g.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:vt.u.focus,primary:3}})),(0,Pe.fK)(new y0({id:"acceptRenameInputWithPreview",precondition:nn.Ao.and(Nm,nn.Ao.has("config.editor.rename.enablePreview")),handler:g=>g.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:vt.u.focus,primary:1024+3}})),(0,Pe.fK)(new y0({id:"cancelRenameInput",precondition:Nm,handler:g=>g.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:vt.u.focus,primary:9,secondary:[1033]}})),(0,Pe.sb)("_executeDocumentRenameProvider",function(g,e,t,...n){const[s]=n;(0,gs.p_)(typeof s=="string");const{renameProvider:r}=g.get(ri.p);return qS(r,e,t,s)}),(0,Pe.sb)("_executePrepareRename",function(g,e,t){return Ku(this,void 0,void 0,function*(){const{renameProvider:n}=g.get(ri.p),r=yield new w0(e,t,n).resolveRenameLocation(bn.T.None);if(r!=null&&r.rejectReason)throw new Error(r.rejectReason);return r})}),Kh.B.as(QS.IP.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:Le.N("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});class t2{provideSelectionRanges(e,t){const n=[];for(const s of t){const r=[];n.push(r),this._addInWordRanges(r,e,s),this._addWordRanges(r,e,s),this._addWhitespaceLine(r,e,s),r.push({range:e.getFullModelRange()})}return n}_addInWordRanges(e,t,n){const s=t.getWordAtPosition(n);if(!s)return;let{word:r,startColumn:h}=s,S=n.column-h,Y=S,ne=S,Q=0;for(;Y>=0;Y--){let he=r.charCodeAt(Y);if(Y!==S&&(he===95||he===45))break;if((0,En.mK)(he)&&(0,En.df)(Q))break;Q=he}for(Y+=1;ne<r.length;ne++){let he=r.charCodeAt(ne);if((0,En.df)(he)&&(0,En.mK)(Q))break;if(he===95||he===45)break;Q=he}Y<ne&&e.push({range:new Ue.e(n.lineNumber,h+Y,n.lineNumber,h+ne)})}_addWordRanges(e,t,n){const s=t.getWordAtPosition(n);s&&e.push({range:new Ue.e(n.lineNumber,s.startColumn,n.lineNumber,s.endColumn)})}_addWhitespaceLine(e,t,n){t.getLineLength(n.lineNumber)>0&&t.getLineFirstNonWhitespaceColumn(n.lineNumber)===0&&t.getLineLastNonWhitespaceColumn(n.lineNumber)===0&&e.push({range:new Ue.e(n.lineNumber,1,n.lineNumber,t.getLineMaxColumn(n.lineNumber))})}}var n2=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},i2=function(g,e){return function(t,n){e(t,n,g)}},Im=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};class S0{constructor(e,t){this.index=e,this.ranges=t}mov(e){let t=this.index+(e?1:-1);if(t<0||t>=this.ranges.length)return this;const n=new S0(t,this.ranges);return n.ranges[t].equalsRange(this.ranges[this.index])?n.mov(e):n}}let $h=class Vv{constructor(e,t){this._editor=e,this._languageFeaturesService=t,this._ignoreSelection=!1}static get(e){return e.getContribution(Vv.ID)}dispose(){var e;(e=this._selectionListener)===null||e===void 0||e.dispose()}run(e){return Im(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const t=this._editor.getSelections(),n=this._editor.getModel();if(this._state||(yield N_(this._languageFeaturesService.selectionRangeProvider,n,t.map(r=>r.getPosition()),this._editor.getOption(102),bn.T.None).then(r=>{var h;if(!(!ki.Of(r)||r.length!==t.length)&&!(!this._editor.hasModel()||!ki.fS(this._editor.getSelections(),t,(S,Y)=>S.equalsSelection(Y)))){for(let S=0;S<r.length;S++)r[S]=r[S].filter(Y=>Y.containsPosition(t[S].getStartPosition())&&Y.containsPosition(t[S].getEndPosition())),r[S].unshift(t[S]);this._state=r.map(S=>new S0(0,S)),(h=this._selectionListener)===null||h===void 0||h.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var S;this._ignoreSelection||((S=this._selectionListener)===null||S===void 0||S.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(r=>r.mov(e));const s=this._state.map(r=>en.Y.fromPositions(r.ranges[r.index].getStartPosition(),r.ranges[r.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(s)}finally{this._ignoreSelection=!1}})}};$h.ID="editor.contrib.smartSelectController",$h=n2([i2(1,ri.p)],$h);class x_ extends Pe.R6{constructor(e,t){super(t),this._forward=e}run(e,t){return Im(this,void 0,void 0,function*(){let n=$h.get(t);n&&(yield n.run(this._forward))})}}class s2 extends x_{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:Le.N("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:Ve.eH.MenubarSelectionMenu,group:"1_basic",title:Le.N({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}Ki.P0.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class o2 extends x_{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:Le.N("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:Ve.eH.MenubarSelectionMenu,group:"1_basic",title:Le.N({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}(0,Pe._K)($h.ID,$h),(0,Pe.Qr)(s2),(0,Pe.Qr)(o2);function N_(g,e,t,n,s){return Im(this,void 0,void 0,function*(){const r=g.all(e).concat(new t2);r.length===1&&r.unshift(new rl);let h=[],S=[];for(const Y of r)h.push(Promise.resolve(Y.provideSelectionRanges(e,t,s)).then(ne=>{if(ki.Of(ne)&&ne.length===t.length)for(let Q=0;Q<t.length;Q++){S[Q]||(S[Q]=[]);for(const he of ne[Q])Ue.e.isIRange(he.range)&&Ue.e.containsPosition(he.range,t[Q])&&S[Q].push(Ue.e.lift(he.range))}},ui.Cp));return yield Promise.all(h),S.map(Y=>{if(Y.length===0)return[];Y.sort((ze,Xe)=>Cn.L.isBefore(ze.getStartPosition(),Xe.getStartPosition())?1:Cn.L.isBefore(Xe.getStartPosition(),ze.getStartPosition())||Cn.L.isBefore(ze.getEndPosition(),Xe.getEndPosition())?-1:Cn.L.isBefore(Xe.getEndPosition(),ze.getEndPosition())?1:0);let ne=[],Q;for(const ze of Y)(!Q||Ue.e.containsRange(ze,Q)&&!Ue.e.equalsRange(ze,Q))&&(ne.push(ze),Q=ze);if(!n.selectLeadingAndTrailingWhitespace)return ne;let he=[ne[0]];for(let ze=1;ze<ne.length;ze++){const Xe=ne[ze-1],bt=ne[ze];if(bt.startLineNumber!==Xe.startLineNumber||bt.endLineNumber!==Xe.endLineNumber){const Gt=new Ue.e(Xe.startLineNumber,e.getLineFirstNonWhitespaceColumn(Xe.startLineNumber),Xe.endLineNumber,e.getLineLastNonWhitespaceColumn(Xe.endLineNumber));Gt.containsRange(Xe)&&!Gt.equalsRange(Xe)&&bt.containsRange(Gt)&&!bt.equalsRange(Gt)&&he.push(Gt);const fn=new Ue.e(Xe.startLineNumber,1,Xe.endLineNumber,e.getLineMaxColumn(Xe.endLineNumber));fn.containsRange(Xe)&&!fn.equalsRange(Gt)&&bt.containsRange(fn)&&!bt.equalsRange(fn)&&he.push(fn)}he.push(bt)}return he})})}Ki.P0.registerCommand("_executeSelectionRangeProvider",function(g,...e){return Im(this,void 0,void 0,function*(){const[t,n]=e;(0,gs.p_)(qi.o.isUri(t));const s=g.get(ri.p).selectionRangeProvider,r=yield g.get(oa.S).createModelReference(t);try{return N_(s,r.object.textEditorModel,n,{selectLeadingAndTrailingWhitespace:!0},bn.T.None)}finally{r.dispose()}})});class r2 extends Pe.R6{constructor(){super({id:"editor.action.forceRetokenize",label:Le.N("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(e,t){if(!t.hasModel())return;const n=t.getModel();n.resetTokenization();const s=new Ji.G(!0);n.forceTokenization(n.getLineCount()),s.stop(),console.log(`tokenization took ${s.elapsed()}`)}}(0,Pe.Qr)(r2);var I_=l(4577);class Gh extends Pe.R6{constructor(){super({id:Gh.ID,label:Le.N({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(e,t){const s=!I_.n.getTabFocusMode();I_.n.setTabFocusMode(s),s?(0,Rt.Z9)(Le.N("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):(0,Rt.Z9)(Le.N("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}Gh.ID="editor.action.toggleTabFocusMode",(0,Pe.Qr)(Gh);var T_=l(66210),Zh=l(46311),a2=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},l2=function(g,e){return function(t,n){e(t,n,g)}};let L0=class extends lt.JT{constructor(e,t,n={},s){var r;super(),this._link=t,this._enabled=!0,this.el=(0,q.R3)(e,(0,q.$)("a.monaco-link",{tabIndex:(r=t.tabIndex)!==null&&r!==void 0?r:0,href:t.href,title:t.title},t.label)),this.el.setAttribute("role","button");const h=this._register(new ku.Y(this.el,"click")),S=this._register(new ku.Y(this.el,"keypress")),Y=wt.ju.chain(S.event).map(he=>new Ba.y(he)).filter(he=>he.keyCode===3).event,ne=this._register(new ku.Y(this.el,xt.t.Tap)).event;this._register(xt.o.addTarget(this.el));const Q=wt.ju.any(h.event,Y,ne);this._register(Q(he=>{!this.enabled||(q.zB.stop(he,!0),n!=null&&n.opener?n.opener(this._link.href):s.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}get enabled(){return this._enabled}set enabled(e){e?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=e}};L0=a2([l2(3,za.v4)],L0),(0,St.Ic)((g,e)=>{const t=g.getColor(Se.url);t&&e.addRule(`.monaco-link { color: ${t}; }`);const n=g.getColor(Se.sgC);n&&e.addRule(`.monaco-link:hover { color: ${n}; }`)});var M_=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},k_=function(g,e){return function(t,n){e(t,n,g)}};const c2=26;let E0=class extends lt.JT{constructor(e,t){super(),this._editor=e,this.instantiationService=t,this.banner=this._register(this.instantiationService.createInstance(D0))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(e){this.banner.show(Object.assign(Object.assign({},e),{onClose:()=>{this.hide(),e.onClose&&e.onClose()}})),this._editor.setBanner(this.banner.element,c2)}};E0=M_([k_(1,G.TG)],E0);let D0=class extends lt.JT{constructor(e){super(),this.instantiationService=e,this.markdownRenderer=this.instantiationService.createInstance(oc,{}),this.element=(0,q.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(e){if(e.ariaLabel)return e.ariaLabel;if(typeof e.message=="string")return e.message}getBannerMessage(e){if(typeof e=="string"){const t=(0,q.$)("span");return t.innerText=e,t}return this.markdownRenderer.render(e).element}clear(){(0,q.PO)(this.element)}show(e){(0,q.PO)(this.element);const t=this.getAriaLabel(e);t&&this.element.setAttribute("aria-label",t);const n=(0,q.R3)(this.element,(0,q.$)("div.icon-container"));n.setAttribute("aria-hidden","true"),e.icon&&n.appendChild((0,q.$)(`div${St.kS.asCSSSelector(e.icon)}`));const s=(0,q.R3)(this.element,(0,q.$)("div.message-container"));if(s.setAttribute("aria-hidden","true"),s.appendChild(this.getBannerMessage(e.message)),this.messageActionsContainer=(0,q.R3)(this.element,(0,q.$)("div.message-actions-container")),e.actions)for(const h of e.actions)this._register(this.instantiationService.createInstance(L0,this.messageActionsContainer,Object.assign(Object.assign({},h),{tabIndex:-1}),{}));const r=(0,q.R3)(this.element,(0,q.$)("div.action-container"));this.actionBar=this._register(new ul.o(r)),this.actionBar.push(this._register(new fe.aU("banner.close","Close Banner",St.kS.asClassName(jr.s_),!0,()=>{typeof e.onClose=="function"&&e.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};D0=M_([k_(0,G.TG)],D0);var d2=l(16270),x0=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Yh=function(g,e){return function(t,n){e(t,n,g)}},$r=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};const u2=(0,jr.q5)("extensions-warning-message",ft.lA.warning,Le.N("warningIcon","Icon shown with a warning message in the extensions editor."));let Qh=class extends lt.JT{constructor(e,t,n,s){super(),this._editor=e,this._editorWorkerService=t,this._workspaceTrustService=n,this._highlighter=null,this._bannerClosed=!1,this._updateState=r=>{if(r&&r.hasMore){if(this._bannerClosed)return;const h=Math.max(r.ambiguousCharacterCount,r.nonBasicAsciiCharacterCount,r.invisibleCharacterCount);let S;if(r.nonBasicAsciiCharacterCount>=h)S={message:Le.N("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new qh};else if(r.ambiguousCharacterCount>=h)S={message:Le.N("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new su};else if(r.invisibleCharacterCount>=h)S={message:Le.N("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new Jh};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:S.message,icon:u2,actions:[{label:S.command.shortLabel,href:`command:${S.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(s.createInstance(E0,e)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=e.getOption(113),this._register(n.onDidChangeTrust(r=>{this._updateHighlighter()})),this._register(e.onDidChangeConfiguration(r=>{r.hasChanged(113)&&(this._options=e.getOption(113),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const e=h2(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([e.nonBasicASCII,e.ambiguousCharacters,e.invisibleCharacters].every(n=>n===!1))return;const t={nonBasicASCII:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments,includeStrings:e.includeStrings,allowedCodePoints:Object.keys(e.allowedCharacters).map(n=>n.codePointAt(0)),allowedLocales:Object.keys(e.allowedLocales).map(n=>n==="_os"?new Intl.NumberFormat().resolvedOptions().locale:n==="_vscode"?Yn.dK:n)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new N0(this._editor,t,this._updateState,this._editorWorkerService):this._highlighter=new f2(this._editor,t,this._updateState)}getDecorationInfo(e){return this._highlighter?this._highlighter.getDecorationInfo(e):null}};Qh.ID="editor.contrib.unicodeHighlighter",Qh=x0([Yh(1,Wf.p),Yh(2,d2.Y),Yh(3,G.TG)],Qh);function h2(g,e){return{nonBasicASCII:e.nonBasicASCII===so.Av?!g:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments===so.Av?!g:e.includeComments,includeStrings:e.includeStrings===so.Av?!g:e.includeStrings,allowedCharacters:e.allowedCharacters,allowedLocales:e.allowedLocales}}let N0=class extends lt.JT{constructor(e,t,n,s){super(),this._editor=e,this._options=t,this._updateState=n,this._editorWorkerService=s,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new Ht.pY(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[]));return}const e=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(t=>{if(this._model.isDisposed()||this._model.getVersionId()!==e)return;this._updateState(t);const n=[];if(!t.hasMore)for(const s of t.ranges)n.push({range:s,options:Xh.instance.getDecorationFromOptions(this._options)});this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),n))})}getDecorationInfo(e){if(!this._decorationIds.has(e))return null;const t=this._editor.getModel(),n=t.getDecorationRange(e),s={range:n,options:Xh.instance.getDecorationFromOptions(this._options),id:e,ownerId:0};if(!(0,Zh.Fd)(t,s))return null;const r=t.getValueInRange(n);return{reason:A_(r,this._options),inComment:(0,Zh.$t)(t,s),inString:(0,Zh.zg)(t,s)}}};N0=x0([Yh(3,Wf.p)],N0);class f2 extends lt.JT{constructor(e,t,n){super(),this._editor=e,this._options=t,this._updateState=n,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new Ht.pY(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[]));return}const e=this._editor.getVisibleRanges(),t=[],n={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const s of e){const r=T_.a.computeUnicodeHighlights(this._model,this._options,s);for(const h of r.ranges)n.ranges.push(h);n.ambiguousCharacterCount+=n.ambiguousCharacterCount,n.invisibleCharacterCount+=n.invisibleCharacterCount,n.nonBasicAsciiCharacterCount+=n.nonBasicAsciiCharacterCount,n.hasMore=n.hasMore||r.hasMore}if(!n.hasMore)for(const s of n.ranges)t.push({range:s,options:Xh.instance.getDecorationFromOptions(this._options)});this._updateState(n),this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),t))}getDecorationInfo(e){if(!this._decorationIds.has(e))return null;const t=this._editor.getModel(),n=t.getDecorationRange(e),s=t.getValueInRange(n),r={range:n,options:Xh.instance.getDecorationFromOptions(this._options),id:e,ownerId:0};return(0,Zh.Fd)(t,r)?{reason:A_(s,this._options),inComment:(0,Zh.$t)(t,r),inString:(0,Zh.zg)(t,r)}:null}}let I0=class{constructor(e,t,n){this._editor=e,this._languageService=t,this._openerService=n,this.hoverOrdinal=4}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];const n=this._editor.getModel(),s=this._editor.getContribution(Qh.ID);if(!s)return[];const r=[];let h=300;for(const S of t){const Y=s.getDecorationInfo(S.id);if(!Y)continue;const Q=n.getValueInRange(S.range).codePointAt(0),he=R_(Q);let ze;switch(Y.reason.kind){case 0:ze=Le.N("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",he,R_(Y.reason.confusableWith.codePointAt(0)));break;case 1:ze=Le.N("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",he);break;case 2:ze=Le.N("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",he);break}const Xe={codePoint:Q,reason:Y.reason,inComment:Y.inComment,inString:Y.inString},bt=Le.N("unicodeHighlight.adjustSettings","Adjust settings"),Gt=[{value:`${ze} [${bt}](command:${tg.ID}?${encodeURIComponent(JSON.stringify(Xe))})`,isTrusted:!0}];r.push(new rc(this,S.range,Gt,h++))}return r}renderHoverParts(e,t){return yf(e,t,this._editor,this._languageService,this._openerService)}};I0=x0([Yh(1,Xr.O),Yh(2,za.v4)],I0);function T0(g){return`U+${g.toString(16).padStart(4,"0")}`}function R_(g){let e=`\`${T0(g)}\``;return En.vU.isInvisibleCharacter(g)||(e+=` "${`${g2(g)}`}"`),e}function g2(g){return g===96?"`` ` ``":"`"+String.fromCodePoint(g)+"`"}function A_(g,e){return T_.a.computeUnicodeHighlightReason(g,e)}class Xh{constructor(){this.map=new Map}getDecorationFromOptions(e){return this.getDecoration(!e.includeComments,!e.includeStrings)}getDecoration(e,t){const n=`${e}${t}`;let s=this.map.get(n);return s||(s=Lt.qx.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:e,hideInStringTokens:t}),this.map.set(n,s)),s}}Xh.instance=new Xh;class m2 extends Pe.R6{constructor(){super({id:su.ID,label:Le.N("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=Le.N("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}run(e,t,n){return $r(this,void 0,void 0,function*(){let s=e==null?void 0:e.get(js.Ui);s&&this.runAction(s)})}runAction(e){return $r(this,void 0,void 0,function*(){yield e.updateValue(so.qt.includeComments,!1,1)})}}class p2 extends Pe.R6{constructor(){super({id:su.ID,label:Le.N("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=Le.N("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}run(e,t,n){return $r(this,void 0,void 0,function*(){let s=e==null?void 0:e.get(js.Ui);s&&this.runAction(s)})}runAction(e){return $r(this,void 0,void 0,function*(){yield e.updateValue(so.qt.includeStrings,!1,1)})}}class su extends Pe.R6{constructor(){super({id:su.ID,label:Le.N("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=Le.N("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(e,t,n){return $r(this,void 0,void 0,function*(){let s=e==null?void 0:e.get(js.Ui);s&&this.runAction(s)})}runAction(e){return $r(this,void 0,void 0,function*(){yield e.updateValue(so.qt.ambiguousCharacters,!1,1)})}}su.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class Jh extends Pe.R6{constructor(){super({id:Jh.ID,label:Le.N("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=Le.N("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(e,t,n){return $r(this,void 0,void 0,function*(){let s=e==null?void 0:e.get(js.Ui);s&&this.runAction(s)})}runAction(e){return $r(this,void 0,void 0,function*(){yield e.updateValue(so.qt.invisibleCharacters,!1,1)})}}Jh.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class qh extends Pe.R6{constructor(){super({id:qh.ID,label:Le.N("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=Le.N("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(e,t,n){return $r(this,void 0,void 0,function*(){let s=e==null?void 0:e.get(js.Ui);s&&this.runAction(s)})}runAction(e){return $r(this,void 0,void 0,function*(){yield e.updateValue(so.qt.nonBasicASCII,!1,1)})}}qh.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class tg extends Pe.R6{constructor(){super({id:tg.ID,label:Le.N("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(e,t,n){return $r(this,void 0,void 0,function*(){const{codePoint:s,reason:r,inString:h,inComment:S}=n,Y=String.fromCodePoint(s),ne=e.get($s.eJ),Q=e.get(js.Ui);function he(bt){return En.vU.isInvisibleCharacter(bt)?Le.N("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",T0(bt)):Le.N("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${T0(bt)} "${Y}"`)}const ze=[];if(r.kind===0)for(const bt of r.notAmbiguousInLocales)ze.push({label:Le.N("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',bt),run:()=>$r(this,void 0,void 0,function*(){v2(Q,[bt])})});if(ze.push({label:he(s),run:()=>_2(Q,[s])}),S){const bt=new m2;ze.push({label:bt.label,run:()=>$r(this,void 0,void 0,function*(){return bt.runAction(Q)})})}else if(h){const bt=new p2;ze.push({label:bt.label,run:()=>$r(this,void 0,void 0,function*(){return bt.runAction(Q)})})}if(r.kind===0){const bt=new su;ze.push({label:bt.label,run:()=>$r(this,void 0,void 0,function*(){return bt.runAction(Q)})})}else if(r.kind===1){const bt=new Jh;ze.push({label:bt.label,run:()=>$r(this,void 0,void 0,function*(){return bt.runAction(Q)})})}else if(r.kind===2){const bt=new qh;ze.push({label:bt.label,run:()=>$r(this,void 0,void 0,function*(){return bt.runAction(Q)})})}else C2(r);const Xe=yield ne.pick(ze,{title:Le.N("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});Xe&&(yield Xe.run())})}}tg.ID="editor.action.unicodeHighlight.showExcludeOptions";function _2(g,e){return $r(this,void 0,void 0,function*(){const t=g.getValue(so.qt.allowedCharacters);let n;typeof t=="object"&&t?n=t:n={};for(const s of e)n[String.fromCodePoint(s)]=!0;yield g.updateValue(so.qt.allowedCharacters,n,1)})}function v2(g,e){var t;return $r(this,void 0,void 0,function*(){const n=(t=g.inspect(so.qt.allowedLocales).user)===null||t===void 0?void 0:t.value;let s;typeof n=="object"&&n?s=Object.assign({},n):s={};for(const r of e)s[r]=!0;yield g.updateValue(so.qt.allowedLocales,s,1)})}function C2(g){throw new Error(`Unexpected value: ${g}`)}(0,Pe.Qr)(su),(0,Pe.Qr)(Jh),(0,Pe.Qr)(qh),(0,Pe.Qr)(tg),(0,Pe._K)(Qh.ID,Qh),da.register(I0);var M0=l(94666),b2=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},P_=function(g,e){return function(t,n){e(t,n,g)}},w2=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};const O_="ignoreUnusualLineTerminators";function y2(g,e,t){g.setModelProperty(e.uri,O_,t)}function S2(g,e){return g.getModelProperty(e.uri,O_)}let ng=class extends lt.JT{constructor(e,t,n){super(),this._editor=e,this._dialogService=t,this._codeEditorService=n,this._config=this._editor.getOption(114),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(114)&&(this._config=this._editor.getOption(114),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(s=>{s.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return w2(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const e=this._editor.getModel();if(!e.mightContainUnusualLineTerminators()||S2(this._codeEditorService,e)===!0||this._editor.getOption(81))return;if(this._config==="auto"){e.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:Le.N("unusualLineTerminators.title","Unusual Line Terminators"),message:Le.N("unusualLineTerminators.message","Detected unusual line terminators"),detail:Le.N("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",(0,Ss.EZ)(e.uri)),primaryButton:Le.N("unusualLineTerminators.fix","Remove Unusual Line Terminators"),secondaryButton:Le.N("unusualLineTerminators.ignore","Ignore")})).confirmed){y2(this._codeEditorService,e,!0);return}e.removeUnusualLineTerminators(this._editor.getSelections())})}};ng.ID="editor.contrib.unusualLineTerminatorsDetector",ng=b2([P_(1,M0.S),P_(2,On.$)],ng),(0,Pe._K)(ng.ID,ng);var F_=l(57871),B_=l(14334),L2=l(71026),E2=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},ig=function(g,e){return function(t,n){e(t,n,g)}};let sg=class extends lt.JT{constructor(e,t,n,s,r,h){super(),this._modelService=t,this._themeService=n,this._configurationService=s,this._editor=e,this._provider=h.documentRangeSemanticTokensProvider,this._debounceInformation=r.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new Ht.pY(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const S=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{S()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),S()})),this._register(this._editor.onDidChangeModelContent(Y=>{this._cancelAll(),S()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),S()})),this._register(this._configurationService.onDidChangeConfiguration(Y=>{Y.affectsConfiguration(B_.e3)&&(this._cancelAll(),S())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),S()}))}_cancelAll(){for(const e of this._outstandingRequests)e.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(e){for(let t=0,n=this._outstandingRequests.length;t<n;t++)if(this._outstandingRequests[t]===e){this._outstandingRequests.splice(t,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const e=this._editor.getModel();if(e.hasCompleteSemanticTokens())return;if(!(0,B_.tw)(e,this._themeService,this._configurationService)){e.hasSomeSemanticTokens()&&e.setSemanticTokens(null,!1);return}if(!(0,F_.KO)(this._provider,e)){e.hasSomeSemanticTokens()&&e.setSemanticTokens(null,!1);return}const t=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(t.map(n=>this._requestRange(e,n)))}_requestRange(e,t){const n=e.getVersionId(),s=(0,Ht.PG)(h=>Promise.resolve((0,F_.OG)(this._provider,e,t,h))),r=new Ji.G(!1);return s.then(h=>{if(this._debounceInformation.update(e,r.elapsed()),!h||!h.tokens||e.isDisposed()||e.getVersionId()!==n)return;const{provider:S,tokens:Y}=h,ne=this._modelService.getSemanticTokensProviderStyling(S);e.setPartialSemanticTokens(t,(0,L2.h)(Y,ne,e.getLanguageId()))}).then(()=>this._removeOutstandingRequest(s),()=>this._removeOutstandingRequest(s)),s}};sg.ID="editor.contrib.viewportSemanticTokens",sg=E2([ig(1,zs.q),ig(2,St.XE),ig(3,js.Ui),ig(4,xs.A),ig(5,ri.p)],sg),(0,Pe._K)(sg.ID,sg);var D2=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},W_=function(g,e){return function(t,n){e(t,n,g)}};const x2=(0,Se.P6G)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},Le.N("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),N2=(0,Se.P6G)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},Le.N("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),I2=(0,Se.P6G)("editor.wordHighlightBorder",{light:null,dark:null,hc:Se.xL1},Le.N("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),T2=(0,Se.P6G)("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:Se.xL1},Le.N("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),M2=(0,Se.P6G)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},Le.N("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),k2=(0,Se.P6G)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},Le.N("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Tm=new nn.uy("hasWordHighlights",!1);function V_(g,e,t,n){const s=g.ordered(e);return(0,Ht.Ps)(s.map(r=>()=>Promise.resolve(r.provideDocumentHighlights(e,t,n)).then(void 0,ui.Cp)),ki.Of)}class H_{constructor(e,t,n){this._model=e,this._selection=t,this._wordSeparators=n,this._wordRange=this._getCurrentWordRange(e,t),this._result=null}get result(){return this._result||(this._result=(0,Ht.PG)(e=>this._compute(this._model,this._selection,this._wordSeparators,e))),this._result}_getCurrentWordRange(e,t){const n=e.getWordAtPosition(t.getPosition());return n?new Ue.e(t.startLineNumber,n.startColumn,t.startLineNumber,n.endColumn):null}isValid(e,t,n){const s=t.startLineNumber,r=t.startColumn,h=t.endColumn,S=this._getCurrentWordRange(e,t);let Y=Boolean(this._wordRange&&this._wordRange.equalsRange(S));for(let ne=0,Q=n.length;!Y&&ne<Q;ne++){let he=e.getDecorationRange(n[ne]);he&&he.startLineNumber===s&&he.startColumn<=r&&he.endColumn>=h&&(Y=!0)}return Y}cancel(){this.result.cancel()}}class R2 extends H_{constructor(e,t,n,s){super(e,t,n),this._providers=s}_compute(e,t,n,s){return V_(this._providers,e,t.getPosition(),s).then(r=>r||[])}}class A2 extends H_{constructor(e,t,n){super(e,t,n),this._selectionIsEmpty=t.isEmpty()}_compute(e,t,n,s){return(0,Ht.Vs)(250,s).then(()=>{if(!t.isEmpty())return[];const r=e.getWordAtPosition(t.getPosition());return!r||r.word.length>1e3?[]:e.findMatches(r.word,!0,!1,!0,n,!1).map(S=>({range:S.range,kind:qe.MY.Text}))})}isValid(e,t,n){const s=t.isEmpty();return this._selectionIsEmpty!==s?!1:super.isValid(e,t,n)}}function P2(g,e,t,n){return g.has(e)?new R2(e,t,n,g):new A2(e,t,n)}(0,Pe.sb)("_executeDocumentHighlights",(g,e,t)=>{const n=g.get(ri.p);return V_(n.documentHighlightProvider,e,t,bn.T.None)});class ef{constructor(e,t,n){this.toUnhook=new lt.SL,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this.providers=t,this._hasWordHighlights=Tm.bindTo(n),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(72),this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition(s=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(s)})),this.toUnhook.add(e.onDidChangeModelContent(s=>{this._stopAll()})),this.toUnhook.add(e.onDidChangeConfiguration(s=>{let r=this.editor.getOption(72);this.occurrencesHighlight!==r&&(this.occurrencesHighlight=r,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return ki.kX(this._decorationIds.map(e=>this.model.getDecorationRange(e)).sort(Ue.e.compareRangesUsingStarts))}moveNext(){let e=this._getSortedHighlights(),n=(e.findIndex(r=>r.containsPosition(this.editor.getPosition()))+1)%e.length,s=e[n];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(s.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(s);const r=this._getWord();if(r){const h=this.editor.getModel().getLineContent(s.startLineNumber);(0,Rt.Z9)(`${h}, ${n+1} of ${e.length} for '${r.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let e=this._getSortedHighlights(),n=(e.findIndex(r=>r.containsPosition(this.editor.getPosition()))-1+e.length)%e.length,s=e[n];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(s.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(s);const r=this._getWord();if(r){const h=this.editor.getModel().getLineContent(s.startLineNumber);(0,Rt.Z9)(`${h}, ${n+1} of ${e.length} for '${r.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(e){if(!this.occurrencesHighlight){this._stopAll();return}if(e.reason!==3){this._stopAll();return}this._run()}_getWord(){let e=this.editor.getSelection(),t=e.startLineNumber,n=e.startColumn;return this.model.getWordAtPosition({lineNumber:t,column:n})}_run(){let e=this.editor.getSelection();if(e.startLineNumber!==e.endLineNumber){this._stopAll();return}let t=e.startColumn,n=e.endColumn;const s=this._getWord();if(!s||s.startColumn>t||s.endColumn<n){this._stopAll();return}const r=this.workerRequest&&this.workerRequest.isValid(this.model,e,this._decorationIds);if(this.lastCursorPositionChangeTime=new Date().getTime(),r)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let h=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=P2(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(117)),this.workerRequest.result.then(S=>{h===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=S||[],this._beginRenderDecorations())},ui.dL)}}_beginRenderDecorations(){let e=new Date().getTime(),t=this.lastCursorPositionChangeTime+250;e>=t?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},t-e)}renderDecorations(){this.renderDecorationsTimer=-1;let e=[];for(const t of this.workerRequestValue)t.range&&e.push({range:t.range,options:ef._getDecorationOptions(t.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,e),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(e){return e===qe.MY.Write?this._WRITE_OPTIONS:e===qe.MY.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}ef._WRITE_OPTIONS=Lt.qx.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,St.EN)(k2),position:Pt.sh.Center},minimap:{color:(0,St.EN)(Se.IYc),position:Pt.F5.Inline}}),ef._TEXT_OPTIONS=Lt.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,St.EN)(Se.SPM),position:Pt.sh.Center},minimap:{color:(0,St.EN)(Se.IYc),position:Pt.F5.Inline}}),ef._REGULAR_OPTIONS=Lt.qx.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,St.EN)(M2),position:Pt.sh.Center},minimap:{color:(0,St.EN)(Se.IYc),position:Pt.F5.Inline}});let Gu=class Hv extends lt.JT{constructor(e,t,n){super(),this.wordHighlighter=null;const s=()=>{e.hasModel()&&(this.wordHighlighter=new ef(e,n.documentHighlightProvider,t))};this._register(e.onDidChangeModel(r=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),s()})),s()}static get(e){return e.getContribution(Hv.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(e){this.wordHighlighter&&e&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};Gu.ID="editor.contrib.wordHighlighter",Gu=D2([W_(1,nn.i6),W_(2,ri.p)],Gu);class z_ extends Pe.R6{constructor(e,t){super(t),this._isNext=e}run(e,t){const n=Gu.get(t);!n||(this._isNext?n.moveNext():n.moveBack())}}class O2 extends z_{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:Le.N("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:Tm,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:65,weight:100}})}}class F2 extends z_{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:Le.N("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:Tm,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1089,weight:100}})}}class B2 extends Pe.R6{constructor(){super({id:"editor.action.wordHighlight.trigger",label:Le.N("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:Tm.toNegated(),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:0,weight:100}})}run(e,t,n){const s=Gu.get(t);!s||s.restoreViewState(!0)}}(0,Pe._K)(Gu.ID,Gu),(0,Pe.Qr)(O2),(0,Pe.Qr)(F2),(0,Pe.Qr)(B2),(0,St.Ic)((g,e)=>{const t=g.getColor(Se.Rzx);t&&(e.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${t}; }`),e.addRule(`.monaco-editor .selectionHighlight { background-color: ${t.transparent(.5)}; }`));const n=g.getColor(x2);n&&e.addRule(`.monaco-editor .wordHighlight { background-color: ${n}; }`);const s=g.getColor(N2);s&&e.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${s}; }`);const r=g.getColor(Se.g_n);r&&e.addRule(`.monaco-editor .selectionHighlight { border: 1px ${g.type==="hc"?"dotted":"solid"} ${r}; box-sizing: border-box; }`);const h=g.getColor(I2);h&&e.addRule(`.monaco-editor .wordHighlight { border: 1px ${g.type==="hc"?"dashed":"solid"} ${h}; box-sizing: border-box; }`);const S=g.getColor(T2);S&&e.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${g.type==="hc"?"dashed":"solid"} ${S}; box-sizing: border-box; }`)});var W2=l(92386),vd=l(1712),Zu=l(75328),Mm=l(89829);class km extends Pe._l{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,n){if(!t.hasModel())return;const s=(0,Zu.u)(t.getOption(117)),r=t.getModel(),S=t.getSelections().map(Y=>{const ne=new Cn.L(Y.positionLineNumber,Y.positionColumn),Q=this._move(s,r,ne,this._wordNavigationType);return this._moveTo(Y,Q,this._inSelectionMode)});if(r.pushStackElement(),t._getViewModel().setCursorStates("moveWordCommand",3,S.map(Y=>W2.Vi.fromModelSelection(Y))),S.length===1){const Y=new Cn.L(S[0].positionLineNumber,S[0].positionColumn);t.revealPosition(Y,0)}}_moveTo(e,t,n){return n?new en.Y(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new en.Y(t.lineNumber,t.column,t.lineNumber,t.column)}}class ou extends km{_move(e,t,n,s){return vd.w.moveWordLeft(e,t,n,s)}}class ru extends km{_move(e,t,n,s){return vd.w.moveWordRight(e,t,n,s)}}class V2 extends ou{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}class H2 extends ou{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}class z2 extends ou{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:nn.Ao.and(vt.u.textInputFocus,(e=nn.Ao.and(hl.U,Mm.cv))===null||e===void 0?void 0:e.negate()),primary:2063,mac:{primary:527},weight:100}})}}class U2 extends ou{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}class j2 extends ou{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}class K2 extends ou{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:nn.Ao.and(vt.u.textInputFocus,(e=nn.Ao.and(hl.U,Mm.cv))===null||e===void 0?void 0:e.negate()),primary:3087,mac:{primary:1551},weight:100}})}}class $2 extends ou{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(e,t,n,s){return super._move((0,Zu.u)(so.BH.wordSeparators.defaultValue),t,n,s)}}class G2 extends ou{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(e,t,n,s){return super._move((0,Zu.u)(so.BH.wordSeparators.defaultValue),t,n,s)}}class Z2 extends ru{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}class Y2 extends ru{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:nn.Ao.and(vt.u.textInputFocus,(e=nn.Ao.and(hl.U,Mm.cv))===null||e===void 0?void 0:e.negate()),primary:2065,mac:{primary:529},weight:100}})}}class Q2 extends ru{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}class X2 extends ru{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}class J2 extends ru{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:nn.Ao.and(vt.u.textInputFocus,(e=nn.Ao.and(hl.U,Mm.cv))===null||e===void 0?void 0:e.negate()),primary:3089,mac:{primary:1553},weight:100}})}}class q2 extends ru{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}class eL extends ru{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(e,t,n,s){return super._move((0,Zu.u)(so.BH.wordSeparators.defaultValue),t,n,s)}}class tL extends ru{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(e,t,n,s){return super._move((0,Zu.u)(so.BH.wordSeparators.defaultValue),t,n,s)}}class Rm extends Pe._l{constructor(e){super(e),this._whitespaceHeuristics=e.whitespaceHeuristics,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,n){const s=e.get(ao.c_);if(!t.hasModel())return;const r=(0,Zu.u)(t.getOption(117)),h=t.getModel(),S=t.getSelections(),Y=t.getOption(5),ne=t.getOption(8),Q=s.getLanguageConfiguration(h.getLanguageId()).getAutoClosingPairs(),he=t._getViewModel(),ze=S.map(Xe=>{const bt=this._delete({wordSeparators:r,model:h,selection:Xe,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:t.getOption(6),autoClosingBrackets:Y,autoClosingQuotes:ne,autoClosingPairs:Q,autoClosedCharacters:he.getCursorAutoClosedCharacters()},this._wordNavigationType);return new ti.T4(bt,"")});t.pushUndoStop(),t.executeCommands(this.id,ze),t.pushUndoStop()}}class k0 extends Rm{_delete(e,t){let n=vd.w.deleteWordLeft(e,t);return n||new Ue.e(1,1,1,1)}}class R0 extends Rm{_delete(e,t){let n=vd.w.deleteWordRight(e,t);if(n)return n;const s=e.model.getLineCount(),r=e.model.getLineMaxColumn(s);return new Ue.e(s,r,s,r)}}class nL extends k0{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:vt.u.writable})}}class iL extends k0{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:vt.u.writable})}}class sL extends k0{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}class oL extends R0{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:vt.u.writable})}}class rL extends R0{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:vt.u.writable})}}class aL extends R0{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}class lL extends Pe.R6{constructor(){super({id:"deleteInsideWord",precondition:vt.u.writable,label:Le.N("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(e,t,n){if(!t.hasModel())return;const s=(0,Zu.u)(t.getOption(117)),r=t.getModel(),S=t.getSelections().map(Y=>{const ne=vd.w.deleteInsideWord(s,r,Y);return new ti.T4(ne,"")});t.pushUndoStop(),t.executeCommands(this.id,S),t.pushUndoStop()}}(0,Pe.fK)(new V2),(0,Pe.fK)(new H2),(0,Pe.fK)(new z2),(0,Pe.fK)(new U2),(0,Pe.fK)(new j2),(0,Pe.fK)(new K2),(0,Pe.fK)(new Z2),(0,Pe.fK)(new Y2),(0,Pe.fK)(new Q2),(0,Pe.fK)(new X2),(0,Pe.fK)(new J2),(0,Pe.fK)(new q2),(0,Pe.fK)(new $2),(0,Pe.fK)(new G2),(0,Pe.fK)(new eL),(0,Pe.fK)(new tL),(0,Pe.fK)(new nL),(0,Pe.fK)(new iL),(0,Pe.fK)(new sL),(0,Pe.fK)(new oL),(0,Pe.fK)(new rL),(0,Pe.fK)(new aL),(0,Pe.Qr)(lL);class cL extends Rm{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(e,t){let n=vd.L.deleteWordPartLeft(e);return n||new Ue.e(1,1,1,1)}}class dL extends Rm{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(e,t){let n=vd.L.deleteWordPartRight(e);if(n)return n;const s=e.model.getLineCount(),r=e.model.getLineMaxColumn(s);return new Ue.e(s,r,s,r)}}class U_ extends km{_move(e,t,n,s){return vd.L.moveWordPartLeft(e,t,n)}}class uL extends U_{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:vt.u.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}Ki.P0.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class hL extends U_{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:vt.u.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}Ki.P0.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class j_ extends km{_move(e,t,n,s){return vd.L.moveWordPartRight(e,t,n)}}class fL extends j_{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:vt.u.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}class gL extends j_{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:vt.u.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}(0,Pe.fK)(new cL),(0,Pe.fK)(new dL),(0,Pe.fK)(new uL),(0,Pe.fK)(new hL),(0,Pe.fK)(new fL),(0,Pe.fK)(new gL);var vo=l(86641),K_=l(34653),$_=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Am=function(g,e){return function(t,n){e(t,n,g)}};const G_=new nn.uy("accessibilityHelpWidgetVisible",!1);let Yu=class zv extends lt.JT{constructor(e,t){super(),this._editor=e,this._widget=this._register(t.createInstance(tf,this._editor))}static get(e){return e.getContribution(zv.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};Yu.ID="editor.contrib.accessibilityHelpController",Yu=$_([Am(1,G.TG)],Yu);function mL(g,e){return!g||g.length===0?vo.Oe.noSelection:g.length===1?e?En.WU(vo.Oe.singleSelectionRange,g[0].positionLineNumber,g[0].positionColumn,e):En.WU(vo.Oe.singleSelection,g[0].positionLineNumber,g[0].positionColumn):e?En.WU(vo.Oe.multiSelectionRange,g.length,e):g.length>0?En.WU(vo.Oe.multiSelection,g.length):""}let tf=class qm extends _r.${constructor(e,t,n,s){super(),this._contextKeyService=t,this._keybindingService=n,this._openerService=s,this._editor=e,this._isVisibleKey=G_.bindTo(this._contextKeyService),this._domNode=(0,K_.X)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,K_.X)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(q.mu(this._contentDomNode.domNode,"keydown",r=>{if(!!this._isVisible&&(r.equals(2083)&&((0,Rt.Z9)(vo.Oe.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),q.PO(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),r.preventDefault(),r.stopPropagation()),r.equals(2086))){(0,Rt.Z9)(vo.Oe.openingDocs);let h=this._editor.getRawOptions().accessibilityHelpUrl;typeof h=="undefined"&&(h="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(qi.o.parse(h)),r.preventDefault(),r.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return qm.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(e,t,n){const s=this._keybindingService.lookupKeybinding(e);return s?En.WU(t,s.getAriaLabel()):En.WU(n,e)}_buildContent(){const e=this._editor.getOptions(),t=this._editor.getSelections();let n=0;if(t){const S=this._editor.getModel();S&&t.forEach(Y=>{n+=S.getValueLengthInRange(Y)})}let s=mL(t,n);e.get(54)?e.get(81)?s+=vo.Oe.readonlyDiffEditor:s+=vo.Oe.editableDiffEditor:e.get(81)?s+=vo.Oe.readonlyEditor:s+=vo.Oe.editableEditor;const r=Yn.dz?vo.Oe.changeConfigToOnMac:vo.Oe.changeConfigToOnWinLinux;switch(e.get(2)){case 0:s+=`

 - `+r;break;case 2:s+=`

 - `+vo.Oe.auto_on;break;case 1:s+=`

 - `+vo.Oe.auto_off,s+=" "+r;break}e.get(130)?s+=`

 - `+this._descriptionForCommand(Gh.ID,vo.Oe.tabFocusModeOnMsg,vo.Oe.tabFocusModeOnMsgNoKb):s+=`

 - `+this._descriptionForCommand(Gh.ID,vo.Oe.tabFocusModeOffMsg,vo.Oe.tabFocusModeOffMsgNoKb);const h=Yn.dz?vo.Oe.openDocMac:vo.Oe.openDocWinLinux;s+=`

 - `+h,s+=`

`+vo.Oe.outroMsg,this._contentDomNode.domNode.appendChild((0,xg.BO)(s)),this._contentDomNode.domNode.setAttribute("aria-label",s)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,q.PO(this._contentDomNode.domNode),this._editor.focus())}_layout(){const e=this._editor.getLayoutInfo(),t=Math.max(5,Math.min(qm.WIDTH,e.width-40)),n=Math.max(5,Math.min(qm.HEIGHT,e.height-40));this._domNode.setWidth(t),this._domNode.setHeight(n);const s=Math.round((e.height-n)/2);this._domNode.setTop(s);const r=Math.round((e.width-t)/2);this._domNode.setLeft(r)}};tf.ID="editor.contrib.accessibilityHelpWidget",tf.WIDTH=500,tf.HEIGHT=300,tf=$_([Am(1,nn.i6),Am(2,F.d),Am(3,za.v4)],tf);class pL extends Pe.R6{constructor(){super({id:"editor.action.showAccessibilityHelp",label:vo.Oe.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(e,t){const n=Yu.get(t);n&&n.show()}}(0,Pe._K)(Yu.ID,Yu),(0,Pe.Qr)(pL);const _L=Pe._l.bindToContribution(Yu.get);(0,Pe.fK)(new _L({id:"closeAccessibilityHelp",precondition:G_,handler:g=>g.hide(),kbOpts:{weight:100+100,kbExpr:vt.u.focus,primary:9,secondary:[1033]}})),(0,St.Ic)((g,e)=>{const t=g.getColor(Se.D0T);t&&e.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${t}; }`);const n=g.getColor(Se.Hfx);n&&e.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${n}; }`);const s=g.getColor(Se.rh);s&&e.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${s}; }`);const r=g.getColor(Se.lRK);r&&e.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${r}; }`)});class A0 extends lt.JT{constructor(e){super(),this.editor=e,this.widget=null,Yn.gn&&(this._register(e.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const e=!this.editor.getOption(81);!this.widget&&e?this.widget=new Pm(this.editor):this.widget&&!e&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}A0.ID="editor.contrib.iPadShowKeyboard";class Pm extends lt.JT{constructor(e){super(),this.editor=e,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(q.nm(this._domNode,"touchstart",t=>{this.editor.focus()})),this._register(q.nm(this._domNode,"focus",t=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return Pm.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}Pm.ID="editor.contrib.ShowKeyboardWidget",(0,Pe._K)(A0.ID,A0);var P0=l(62318),Z_=l(44011),vL=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Y_=function(g,e){return function(t,n){e(t,n,g)}};let nf=class Uv extends lt.JT{constructor(e,t,n){super(),this._editor=e,this._languageService=n,this._widget=null,this._register(this._editor.onDidChangeModel(s=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(s=>this.stop())),this._register(qe.RW.onDidChange(s=>this.stop())),this._register(this._editor.onKeyUp(s=>s.keyCode===9&&this.stop()))}static get(e){return e.getContribution(Uv.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new Om(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};nf.ID="editor.contrib.inspectTokens",nf=vL([Y_(1,Z_.Z),Y_(2,Xr.O)],nf);class CL extends Pe.R6{constructor(){super({id:"editor.action.inspectTokens",label:vo.ug.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(e,t){const n=nf.get(t);n&&n.launch()}}function bL(g){let e="";for(let t=0,n=g.length;t<n;t++){const s=g.charCodeAt(t);switch(s){case 9:e+="\u2192";break;case 32:e+="\xB7";break;default:e+=String.fromCharCode(s)}}return e}function wL(g,e){const t=qe.RW.get(e);if(t)return t;const n=g.encodeLanguageId(e);return{getInitialState:()=>P0.TJ,tokenize:(s,r,h)=>(0,P0.Ri)(e,h),tokenizeEncoded:(s,r,h)=>(0,P0.Dy)(n,h)}}class Om extends lt.JT{constructor(e,t){super(),this.allowEditorOverflow=!0,this._editor=e,this._languageService=t,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=wL(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(n=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return Om._ID}_compute(e){const t=this._getTokensAtLine(e.lineNumber);let n=0;for(let Y=t.tokens1.length-1;Y>=0;Y--){const ne=t.tokens1[Y];if(e.column-1>=ne.offset){n=Y;break}}let s=0;for(let Y=t.tokens2.length>>>1;Y>=0;Y--)if(e.column-1>=t.tokens2[Y<<1]){s=Y;break}const r=this._model.getLineContent(e.lineNumber);let h="";if(n<t.tokens1.length){const Y=t.tokens1[n].offset,ne=n+1<t.tokens1.length?t.tokens1[n+1].offset:r.length;h=r.substring(Y,ne)}(0,q.mc)(this._domNode,(0,q.$)("h2.tm-token",void 0,bL(h),(0,q.$)("span.tm-token-length",void 0,`${h.length} ${h.length===1?"char":"chars"}`))),(0,q.R3)(this._domNode,(0,q.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const S=(s<<1)+1<t.tokens2.length?this._decodeMetadata(t.tokens2[(s<<1)+1]):null;(0,q.R3)(this._domNode,(0,q.$)("table.tm-metadata-table",void 0,(0,q.$)("tbody",void 0,(0,q.$)("tr",void 0,(0,q.$)("td.tm-metadata-key",void 0,"language"),(0,q.$)("td.tm-metadata-value",void 0,`${S?S.languageId:"-?-"}`)),(0,q.$)("tr",void 0,(0,q.$)("td.tm-metadata-key",void 0,"token type"),(0,q.$)("td.tm-metadata-value",void 0,`${S?this._tokenTypeToString(S.tokenType):"-?-"}`)),(0,q.$)("tr",void 0,(0,q.$)("td.tm-metadata-key",void 0,"font style"),(0,q.$)("td.tm-metadata-value",void 0,`${S?this._fontStyleToString(S.fontStyle):"-?-"}`)),(0,q.$)("tr",void 0,(0,q.$)("td.tm-metadata-key",void 0,"foreground"),(0,q.$)("td.tm-metadata-value",void 0,`${S?Ei.Il.Format.CSS.formatHex(S.foreground):"-?-"}`)),(0,q.$)("tr",void 0,(0,q.$)("td.tm-metadata-key",void 0,"background"),(0,q.$)("td.tm-metadata-value",void 0,`${S?Ei.Il.Format.CSS.formatHex(S.background):"-?-"}`))))),(0,q.R3)(this._domNode,(0,q.$)("hr.tokens-inspect-separator")),n<t.tokens1.length&&(0,q.R3)(this._domNode,(0,q.$)("span.tm-token-type",void 0,t.tokens1[n].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(e){const t=qe.RW.getColorMap(),n=qe.NX.getLanguageId(e),s=qe.NX.getTokenType(e),r=qe.NX.getFontStyle(e),h=qe.NX.getForeground(e),S=qe.NX.getBackground(e);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(n),tokenType:s,fontStyle:r,foreground:t[h],background:t[S]}}_tokenTypeToString(e){switch(e){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(e){let t="";return e&1&&(t+="italic "),e&2&&(t+="bold "),e&4&&(t+="underline "),e&8&&(t+="strikethrough "),t.length===0&&(t="---"),t}_getTokensAtLine(e){const t=this._getStateBeforeLine(e),n=this._tokenizationSupport.tokenize(this._model.getLineContent(e),!0,t),s=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(e),!0,t);return{startState:t,tokens1:n.tokens,tokens2:s.tokens,endState:n.endState}}_getStateBeforeLine(e){let t=this._tokenizationSupport.getInitialState();for(let n=1;n<e;n++)t=this._tokenizationSupport.tokenize(this._model.getLineContent(n),!0,t).endState;return t}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}Om._ID="editor.contrib.inspectTokensWidget",(0,Pe._K)(nf.ID,nf),(0,Pe.Qr)(CL),(0,St.Ic)((g,e)=>{const t=g.getColor(Se.CNo);if(t){const r=g.type===D_.e.HIGH_CONTRAST?2:1;e.addRule(`.monaco-editor .tokens-inspect-widget { border: ${r}px solid ${t}; }`),e.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${t}; }`)}const n=g.getColor(Se.yJx);n&&e.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${n}; }`);const s=g.getColor(Se.Sbf);s&&e.addRule(`.monaco-editor .tokens-inspect-widget { color: ${s}; }`)});var og=l(89913),yL=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},SL=function(g,e){return function(t,n){e(t,n,g)}};let Fm=class ep{constructor(e){this.quickInputService=e,this.registry=Kh.B.as(og.IP.Quickaccess)}provide(e){const t=new lt.SL;t.add(e.onDidAccept(()=>{const[r]=e.selectedItems;r&&this.quickInputService.quickAccess.show(r.prefix,{preserveValue:!0})})),t.add(e.onDidChangeValue(r=>{const h=this.registry.getQuickAccessProvider(r.substr(ep.PREFIX.length));h&&h.prefix&&h.prefix!==ep.PREFIX&&this.quickInputService.quickAccess.show(h.prefix,{preserveValue:!0})}));const{editorProviders:n,globalProviders:s}=this.getQuickAccessProviders();return e.items=n.length===0||s.length===0?[...n.length===0?s:n]:[{label:(0,Le.N)("globalCommands","global commands"),type:"separator"},...s,{label:(0,Le.N)("editorCommands","editor commands"),type:"separator"},...n],t}getQuickAccessProviders(){const e=[],t=[];for(const n of this.registry.getQuickAccessProviders().sort((s,r)=>s.prefix.localeCompare(r.prefix)))if(n.prefix!==ep.PREFIX)for(const s of n.helpEntries){const r=s.prefix||n.prefix,h=r||"\u2026";(s.needsEditor?t:e).push({prefix:r,label:h,ariaLabel:(0,Le.N)("helpPickAriaLabel","{0}, {1}",h,s.description),description:s.description})}return{editorProviders:t,globalProviders:e}}};Fm.PREFIX="?",Fm=yL([SL(0,$s.eJ)],Fm),Kh.B.as(og.IP.Quickaccess).registerQuickAccessProvider({ctor:Fm,prefix:"",helpEntries:[{description:vo.ld.helpQuickAccessActionLabel,needsEditor:!0}]});class Q_{constructor(e){this.options=e,this.rangeHighlightDecorationId=void 0}provide(e,t){var n;const s=new lt.SL;e.canAcceptInBackground=!!(!((n=this.options)===null||n===void 0)&&n.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const r=s.add(new lt.XK);return r.value=this.doProvide(e,t),s.add(this.onDidActiveTextEditorControlChange(()=>{r.value=void 0,r.value=this.doProvide(e,t)})),s}doProvide(e,t){const n=new lt.SL,s=this.activeTextEditorControl;if(s&&this.canProvideWithTextEditor(s)){const r={editor:s},h=(0,Qe.Pi)(s);if(h){let S=(0,gs.f6)(s.saveViewState());n.add(h.onDidChangeCursorPosition(()=>{S=(0,gs.f6)(s.saveViewState())})),r.restoreViewState=()=>{S&&s===this.activeTextEditorControl&&s.restoreViewState(S)},n.add((0,Oa.I)(t.onCancellationRequested)(()=>{var Y;return(Y=r.restoreViewState)===null||Y===void 0?void 0:Y.call(r)}))}n.add((0,lt.OF)(()=>this.clearDecorations(s))),n.add(this.provideWithTextEditor(r,e,t))}else n.add(this.provideWithoutTextEditor(e,t));return n}canProvideWithTextEditor(e){return!0}gotoLocation({editor:e},t){e.setSelection(t.range),e.revealRangeInCenter(t.range,0),t.preserveFocus||e.focus()}getModel(e){var t;return(0,Qe.QI)(e)?(t=e.getModel())===null||t===void 0?void 0:t.modified:e.getModel()}addDecorations(e,t){e.changeDecorations(n=>{const s=[];this.rangeHighlightDecorationId&&(s.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),s.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const r=[{range:t,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,St.EN)(He.m9),position:Pt.sh.Full}}}],[h,S]=n.deltaDecorations(s,r);this.rangeHighlightDecorationId={rangeHighlightId:h,overviewRulerDecorationId:S}})}clearDecorations(e){const t=this.rangeHighlightDecorationId;t&&(e.changeDecorations(n=>{n.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}class Bm extends Q_{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(e){const t=(0,Le.N)("cannotRunGotoLine","Open a text editor first to go to a line.");return e.items=[{label:t}],e.ariaLabel=t,lt.JT.None}provideWithTextEditor(e,t,n){const s=e.editor,r=new lt.SL;r.add(t.onDidAccept(Y=>{const[ne]=t.selectedItems;if(ne){if(!this.isValidLineNumber(s,ne.lineNumber))return;this.gotoLocation(e,{range:this.toRange(ne.lineNumber,ne.column),keyMods:t.keyMods,preserveFocus:Y.inBackground}),Y.inBackground||t.hide()}}));const h=()=>{const Y=this.parsePosition(s,t.value.trim().substr(Bm.PREFIX.length)),ne=this.getPickLabel(s,Y.lineNumber,Y.column);if(t.items=[{lineNumber:Y.lineNumber,column:Y.column,label:ne}],t.ariaLabel=ne,!this.isValidLineNumber(s,Y.lineNumber)){this.clearDecorations(s);return}const Q=this.toRange(Y.lineNumber,Y.column);s.revealRangeInCenter(Q,0),this.addDecorations(s,Q)};h(),r.add(t.onDidChangeValue(()=>h()));const S=(0,Qe.Pi)(s);return S&&S.getOptions().get(60).renderType===2&&(S.updateOptions({lineNumbers:"on"}),r.add((0,lt.OF)(()=>S.updateOptions({lineNumbers:"relative"})))),r}toRange(e=1,t=1){return{startLineNumber:e,startColumn:t,endLineNumber:e,endColumn:t}}parsePosition(e,t){const n=t.split(/,|:|#/).map(r=>parseInt(r,10)).filter(r=>!isNaN(r)),s=this.lineCount(e)+1;return{lineNumber:n[0]>0?n[0]:s+n[0],column:n[1]}}getPickLabel(e,t,n){if(this.isValidLineNumber(e,t))return this.isValidColumn(e,t,n)?(0,Le.N)("gotoLineColumnLabel","Go to line {0} and character {1}.",t,n):(0,Le.N)("gotoLineLabel","Go to line {0}.",t);const s=e.getPosition()||{lineNumber:1,column:1},r=this.lineCount(e);return r>1?(0,Le.N)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",s.lineNumber,s.column,r):(0,Le.N)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",s.lineNumber,s.column)}isValidLineNumber(e,t){return!t||typeof t!="number"?!1:t>0&&t<=this.lineCount(e)}isValidColumn(e,t,n){if(!n||typeof n!="number")return!1;const s=this.getModel(e);if(!s)return!1;const r={lineNumber:t,column:n};return s.validatePosition(r).equals(r)}lineCount(e){var t,n;return(n=(t=this.getModel(e))===null||t===void 0?void 0:t.getLineCount())!==null&&n!==void 0?n:0}}Bm.PREFIX=":";var LL=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},EL=function(g,e){return function(t,n){e(t,n,g)}};let rg=class extends Bm{constructor(e){super(),this.editorService=e,this.onDidActiveTextEditorControlChange=wt.ju.None}get activeTextEditorControl(){return(0,gs.f6)(this.editorService.getFocusedCodeEditor())}};rg=LL([EL(0,On.$)],rg),Kh.B.as(og.IP.Quickaccess).registerQuickAccessProvider({ctor:rg,prefix:rg.PREFIX,helpEntries:[{description:vo.qq.gotoLineActionLabel,needsEditor:!0}]});class DL extends Pe.R6{constructor(){super({id:"editor.action.gotoLine",label:vo.qq.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:2085,mac:{primary:293},weight:100}})}run(e){e.get($s.eJ).quickAccess.show(rg.PREFIX)}}(0,Pe.Qr)(DL);const X_=[void 0,[]];function O0(g,e,t=0,n=0){const s=e;return s.values&&s.values.length>1?xL(g,s.values,t,n):J_(g,e,t,n)}function xL(g,e,t,n){let s=0;const r=[];for(const h of e){const[S,Y]=J_(g,h,t,n);if(typeof S!="number")return X_;s+=S,r.push(...Y)}return[s,NL(r)]}function J_(g,e,t,n){const s=(0,bi.EW)(e.original,e.originalLowercase,t,g,g.toLowerCase(),n,!0);return s?[s[0],(0,bi.mB)(s)]:X_}const rE=Object.freeze({score:0});function NL(g){const e=g.sort((s,r)=>s.start-r.start),t=[];let n;for(const s of e)!n||!IL(n,s)?(n=s,t.push(s)):(n.start=Math.min(n.start,s.start),n.end=Math.max(n.end,s.end));return t}function IL(g,e){return!(g.end<e.start||e.end<g.start)}function q_(g){return g.startsWith('"')&&g.endsWith('"')}const ev=" ";function F0(g){typeof g!="string"&&(g="");const e=g.toLowerCase(),{pathNormalized:t,normalized:n,normalizedLowercase:s}=tv(g),r=t.indexOf(pd.ir)>=0,h=q_(g);let S;const Y=g.split(ev);if(Y.length>1)for(const ne of Y){const Q=q_(ne),{pathNormalized:he,normalized:ze,normalizedLowercase:Xe}=tv(ne);ze&&(S||(S=[]),S.push({original:ne,originalLowercase:ne.toLowerCase(),pathNormalized:he,normalized:ze,normalizedLowercase:Xe,expectContiguousMatch:Q}))}return{original:g,originalLowercase:e,pathNormalized:t,normalized:n,normalizedLowercase:s,values:S,containsPathSeparator:r,expectContiguousMatch:h}}function tv(g){let e;Yn.ED?e=g.replace(/\//g,pd.ir):e=g.replace(/\\/g,pd.ir);const t=(0,En.R1)(e).replace(/\s|"/g,"");return{pathNormalized:e,normalized:t,normalizedLowercase:t.toLowerCase()}}function nv(g){return Array.isArray(g)?F0(g.map(e=>e.original).join(ev)):F0(g.original)}var TL=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},iv=function(g,e){return function(t,n){e(t,n,g)}},ag=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};let zl=class t1 extends Q_{constructor(e,t,n=Object.create(null)){super(n),this._languageFeaturesService=e,this._outlineModelService=t,this.options=n,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(e){return this.provideLabelPick(e,(0,Le.N)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),lt.JT.None}provideWithTextEditor(e,t,n){const s=e.editor,r=this.getModel(s);return r?this._languageFeaturesService.documentSymbolProvider.has(r)?this.doProvideWithEditorSymbols(e,r,t,n):this.doProvideWithoutEditorSymbols(e,r,t,n):lt.JT.None}doProvideWithoutEditorSymbols(e,t,n,s){const r=new lt.SL;return this.provideLabelPick(n,(0,Le.N)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),ag(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(t,r))||s.isCancellationRequested||r.add(this.doProvideWithEditorSymbols(e,t,n,s))}),r}provideLabelPick(e,t){e.items=[{label:t,index:0,kind:14}],e.ariaLabel=t}waitForLanguageSymbolRegistry(e,t){return ag(this,void 0,void 0,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(e))return!0;const n=new Ht.CR,s=t.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(e)&&(s.dispose(),n.complete(!0))}));return t.add((0,lt.OF)(()=>n.complete(!1))),n.p})}doProvideWithEditorSymbols(e,t,n,s){const r=e.editor,h=new lt.SL;h.add(n.onDidAccept(he=>{const[ze]=n.selectedItems;ze&&ze.range&&(this.gotoLocation(e,{range:ze.range.selection,keyMods:n.keyMods,preserveFocus:he.inBackground}),he.inBackground||n.hide())})),h.add(n.onDidTriggerItemButton(({item:he})=>{he&&he.range&&(this.gotoLocation(e,{range:he.range.selection,keyMods:n.keyMods,forceSideBySide:!0}),n.hide())}));const S=this.getDocumentSymbols(t,s);let Y;const ne=()=>ag(this,void 0,void 0,function*(){Y==null||Y.dispose(!0),n.busy=!1,Y=new bn.A(s),n.busy=!0;try{const he=F0(n.value.substr(t1.PREFIX.length).trim()),ze=yield this.doGetSymbolPicks(S,he,void 0,Y.token);if(s.isCancellationRequested)return;ze.length>0?n.items=ze:he.original.length>0?this.provideLabelPick(n,(0,Le.N)("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(n,(0,Le.N)("noSymbolResults","No editor symbols"))}finally{s.isCancellationRequested||(n.busy=!1)}});h.add(n.onDidChangeValue(()=>ne())),ne();let Q=!0;return h.add(n.onDidChangeActive(()=>{const[he]=n.activeItems;if(he&&he.range){if(Q){Q=!1;return}r.revealRangeInCenter(he.range.selection,0),this.addDecorations(r,he.range.decoration)}})),h}doGetSymbolPicks(e,t,n,s){return ag(this,void 0,void 0,function*(){const r=yield e;if(s.isCancellationRequested)return[];const h=t.original.indexOf(t1.SCOPE_PREFIX)===0,S=h?1:0;let Y,ne;t.values&&t.values.length>1?(Y=nv(t.values[0]),ne=nv(t.values.slice(1))):Y=t;const Q=[];for(let Xe=0;Xe<r.length;Xe++){const bt=r[Xe],Gt=(0,En.fy)(bt.name),fn=`$(${qe.uZ.toIcon(bt.kind).id}) ${Gt}`,pn=fn.length-Gt.length;let zn=bt.containerName;n!=null&&n.extraContainerLabel&&(zn?zn=`${n.extraContainerLabel} \u2022 ${zn}`:zn=n.extraContainerLabel);let Rn,wi,yi,ys;if(t.original.length>S){let wr=!1;if(Y!==t&&([Rn,wi]=O0(fn,Object.assign(Object.assign({},t),{values:void 0}),S,pn),typeof Rn=="number"&&(wr=!0)),typeof Rn!="number"&&([Rn,wi]=O0(fn,Y,S,pn),typeof Rn!="number"))continue;if(!wr&&ne){if(zn&&ne.original.length>0&&([yi,ys]=O0(zn,ne)),typeof yi!="number")continue;typeof Rn=="number"&&(Rn+=yi)}}const as=bt.tags&&bt.tags.indexOf(1)>=0;Q.push({index:Xe,kind:bt.kind,score:Rn,label:fn,ariaLabel:Gt,description:zn,highlights:as?void 0:{label:wi,description:ys},range:{selection:Ue.e.collapseToStart(bt.selectionRange),decoration:bt.range},strikethrough:as,buttons:(()=>{var wr,Gr;const Zr=!((wr=this.options)===null||wr===void 0)&&wr.openSideBySideDirection?(Gr=this.options)===null||Gr===void 0?void 0:Gr.openSideBySideDirection():void 0;if(!!Zr)return[{iconClass:Zr==="right"?ft.lA.splitHorizontal.classNames:ft.lA.splitVertical.classNames,tooltip:Zr==="right"?(0,Le.N)("openToSide","Open to the Side"):(0,Le.N)("openToBottom","Open to the Bottom")}]})()})}const he=Q.sort((Xe,bt)=>h?this.compareByKindAndScore(Xe,bt):this.compareByScore(Xe,bt));let ze=[];if(h){let fn=function(){bt&&typeof Xe=="number"&&Gt>0&&(bt.label=(0,En.WU)(W0[Xe]||B0,Gt))},Xe,bt,Gt=0;for(const pn of he)Xe!==pn.kind?(fn(),Xe=pn.kind,Gt=1,bt={type:"separator"},ze.push(bt)):Gt++,ze.push(pn);fn()}else he.length>0&&(ze=[{label:(0,Le.N)("symbols","symbols ({0})",Q.length),type:"separator"},...he]);return ze})}compareByScore(e,t){if(typeof e.score!="number"&&typeof t.score=="number")return 1;if(typeof e.score=="number"&&typeof t.score!="number")return-1;if(typeof e.score=="number"&&typeof t.score=="number"){if(e.score>t.score)return-1;if(e.score<t.score)return 1}return e.index<t.index?-1:e.index>t.index?1:0}compareByKindAndScore(e,t){const n=W0[e.kind]||B0,s=W0[t.kind]||B0,r=n.localeCompare(s);return r===0?this.compareByScore(e,t):r}getDocumentSymbols(e,t){return ag(this,void 0,void 0,function*(){const n=yield this._outlineModelService.getOrCreate(e,t);return t.isCancellationRequested?[]:n.asListOfDocumentSymbols()})}};zl.PREFIX="@",zl.SCOPE_PREFIX=":",zl.PREFIX_BY_CATEGORY=`${zl.PREFIX}${zl.SCOPE_PREFIX}`,zl=TL([iv(0,ri.p),iv(1,tm)],zl);const B0=(0,Le.N)("property","properties ({0})"),W0={[5]:(0,Le.N)("method","methods ({0})"),[11]:(0,Le.N)("function","functions ({0})"),[8]:(0,Le.N)("_constructor","constructors ({0})"),[12]:(0,Le.N)("variable","variables ({0})"),[4]:(0,Le.N)("class","classes ({0})"),[22]:(0,Le.N)("struct","structs ({0})"),[23]:(0,Le.N)("event","events ({0})"),[24]:(0,Le.N)("operator","operators ({0})"),[10]:(0,Le.N)("interface","interfaces ({0})"),[2]:(0,Le.N)("namespace","namespaces ({0})"),[3]:(0,Le.N)("package","packages ({0})"),[25]:(0,Le.N)("typeParameter","type parameters ({0})"),[1]:(0,Le.N)("modules","modules ({0})"),[6]:(0,Le.N)("property","properties ({0})"),[9]:(0,Le.N)("enum","enumerations ({0})"),[21]:(0,Le.N)("enumMember","enumeration members ({0})"),[14]:(0,Le.N)("string","strings ({0})"),[0]:(0,Le.N)("file","files ({0})"),[17]:(0,Le.N)("array","arrays ({0})"),[15]:(0,Le.N)("number","numbers ({0})"),[16]:(0,Le.N)("boolean","booleans ({0})"),[18]:(0,Le.N)("object","objects ({0})"),[19]:(0,Le.N)("key","keys ({0})"),[7]:(0,Le.N)("field","fields ({0})"),[13]:(0,Le.N)("constant","constants ({0})")};var ML=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},V0=function(g,e){return function(t,n){e(t,n,g)}};let H0=class extends zl{constructor(e,t,n){super(t,n),this.editorService=e,this.onDidActiveTextEditorControlChange=wt.ju.None}get activeTextEditorControl(){return(0,gs.f6)(this.editorService.getFocusedCodeEditor())}};H0=ML([V0(0,On.$),V0(1,ri.p),V0(2,tm)],H0),Kh.B.as(og.IP.Quickaccess).registerQuickAccessProvider({ctor:H0,prefix:zl.PREFIX,helpEntries:[{description:vo.aq.quickOutlineActionLabel,prefix:zl.PREFIX,needsEditor:!0},{description:vo.aq.quickOutlineByCategoryActionLabel,prefix:zl.PREFIX_BY_CATEGORY,needsEditor:!0}]});class kL extends Pe.R6{constructor(){super({id:"editor.action.quickOutline",label:vo.aq.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:vt.u.hasDocumentSymbolProvider,kbOpts:{kbExpr:vt.u.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(e){e.get($s.eJ).quickAccess.show(zl.PREFIX)}}(0,Pe.Qr)(kL);function z0(g,e){return e&&(g.stack||g.stacktrace)?Le.N("stackTrace.format","{0}: {1}",ov(g),sv(g.stack)||sv(g.stacktrace)):ov(g)}function sv(g){return Array.isArray(g)?g.join(`
`):g}function ov(g){return typeof g.code=="string"&&typeof g.errno=="number"&&typeof g.syscall=="string"?Le.N("nodeExceptionMessage","A system error occurred ({0})",g.message):g.message||Le.N("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function rv(g=null,e=!1){if(!g)return Le.N("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(g)){const t=ki.kX(g),n=rv(t[0],e);return t.length>1?Le.N("error.moreErrors","{0} ({1} errors in total)",n,t.length):n}if(gs.HD(g))return g;if(g.detail){const t=g.detail;if(t.error)return z0(t.error,e);if(t.exception)return z0(t.exception,e)}return g.stack?z0(g,e):g.message?g.message:Le.N("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}var Wm=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})},sf;(function(g){g[g.NO_ACTION=0]="NO_ACTION",g[g.CLOSE_PICKER=1]="CLOSE_PICKER",g[g.REFRESH_PICKER=2]="REFRESH_PICKER",g[g.REMOVE_ITEM=3]="REMOVE_ITEM"})(sf||(sf={}));function U0(g){const e=g;return Array.isArray(e.items)}function RL(g){const e=g;return!!e.picks&&e.additionalPicks instanceof Promise}class Vm extends lt.JT{constructor(e,t){super(),this.prefix=e,this.options=t}provide(e,t){var n;const s=new lt.SL;e.canAcceptInBackground=!!(!((n=this.options)===null||n===void 0)&&n.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;let r;const h=s.add(new lt.XK),S=()=>Wm(this,void 0,void 0,function*(){const Y=h.value=new lt.SL;r==null||r.dispose(!0),e.busy=!1,r=new bn.A(t);const ne=r.token,Q=e.value.substr(this.prefix.length).trim(),he=this._getPicks(Q,Y,ne),ze=(Xe,bt)=>{var Gt;let fn,pn;if(U0(Xe)?(fn=Xe.items,pn=Xe.active):fn=Xe,fn.length===0){if(bt)return!1;Q.length>0&&((Gt=this.options)===null||Gt===void 0?void 0:Gt.noResultsPick)&&(fn=[this.options.noResultsPick])}return e.items=fn,pn&&(e.activeItems=[pn]),!0};if(he!==null)if(RL(he)){let Xe=!1,bt=!1;yield Promise.all([(()=>Wm(this,void 0,void 0,function*(){yield(0,Ht.Vs)(Vm.FAST_PICKS_RACE_DELAY),!ne.isCancellationRequested&&(bt||(Xe=ze(he.picks,!0)))}))(),(()=>Wm(this,void 0,void 0,function*(){e.busy=!0;try{const Gt=yield he.additionalPicks;if(ne.isCancellationRequested)return;let fn,pn;U0(he.picks)?(fn=he.picks.items,pn=he.picks.active):fn=he.picks;let zn,Rn;if(U0(Gt)?(zn=Gt.items,Rn=Gt.active):zn=Gt,zn.length>0||!Xe){let wi;if(!pn&&!Rn){const yi=e.activeItems[0];yi&&fn.indexOf(yi)!==-1&&(wi=yi)}ze({items:[...fn,...zn],active:pn||Rn||wi})}}finally{ne.isCancellationRequested||(e.busy=!1),bt=!0}}))()])}else if(!(he instanceof Promise))ze(he);else{e.busy=!0;try{const Xe=yield he;if(ne.isCancellationRequested)return;ze(Xe)}finally{ne.isCancellationRequested||(e.busy=!1)}}});return s.add(e.onDidChangeValue(()=>S())),S(),s.add(e.onDidAccept(Y=>{const[ne]=e.selectedItems;typeof(ne==null?void 0:ne.accept)=="function"&&(Y.inBackground||e.hide(),ne.accept(e.keyMods,Y))})),s.add(e.onDidTriggerItemButton(({button:Y,item:ne})=>Wm(this,void 0,void 0,function*(){var Q,he;if(typeof ne.trigger=="function"){const ze=(he=(Q=ne.buttons)===null||Q===void 0?void 0:Q.indexOf(Y))!==null&&he!==void 0?he:-1;if(ze>=0){const Xe=ne.trigger(ze,e.keyMods),bt=typeof Xe=="number"?Xe:yield Xe;if(t.isCancellationRequested)return;switch(bt){case sf.NO_ACTION:break;case sf.CLOSE_PICKER:e.hide();break;case sf.REFRESH_PICKER:S();break;case sf.REMOVE_ITEM:{const Gt=e.items.indexOf(ne);if(Gt!==-1){const fn=e.items.slice(),pn=fn.splice(Gt,1),zn=e.activeItems.filter(wi=>wi!==pn[0]),Rn=e.keepScrollPosition;e.keepScrollPosition=!0,e.items=fn,zn&&(e.activeItems=zn),e.keepScrollPosition=Rn}break}}}}}))),s}}Vm.FAST_PICKS_RACE_DELAY=200;var av=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Qu=function(g,e){return function(t,n){e(t,n,g)}},lv=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};let lg=class tp extends Vm{constructor(e,t,n,s,r,h){super(tp.PREFIX,e),this.instantiationService=t,this.keybindingService=n,this.commandService=s,this.telemetryService=r,this.dialogService=h,this.commandsHistory=this._register(this.instantiationService.createInstance(Xu)),this.options=e}_getPicks(e,t,n){return lv(this,void 0,void 0,function*(){const s=yield this.getCommandPicks(t,n);if(n.isCancellationRequested)return[];const r=[];for(const ne of s){const Q=(0,gs.f6)(tp.WORD_FILTER(e,ne.label)),he=ne.commandAlias?(0,gs.f6)(tp.WORD_FILTER(e,ne.commandAlias)):void 0;Q||he?(ne.highlights={label:Q,detail:this.options.showAlias?he:void 0},r.push(ne)):e===ne.commandId&&r.push(ne)}const h=new Map;for(const ne of r){const Q=h.get(ne.label);Q?(ne.description=ne.commandId,Q.description=Q.commandId):h.set(ne.label,ne)}r.sort((ne,Q)=>{const he=this.commandsHistory.peek(ne.commandId),ze=this.commandsHistory.peek(Q.commandId);return he&&ze?he>ze?-1:1:he?-1:ze?1:ne.label.localeCompare(Q.label)});const S=[];let Y=!1;for(let ne=0;ne<r.length;ne++){const Q=r[ne],he=this.keybindingService.lookupKeybinding(Q.commandId),ze=he?(0,Le.N)("commandPickAriaLabelWithKeybinding","{0}, {1}",Q.label,he.getAriaLabel()):Q.label;ne===0&&this.commandsHistory.peek(Q.commandId)&&(S.push({type:"separator",label:(0,Le.N)("recentlyUsed","recently used")}),Y=!0),ne!==0&&Y&&!this.commandsHistory.peek(Q.commandId)&&(S.push({type:"separator",label:(0,Le.N)("morecCommands","other commands")}),Y=!1),S.push(Object.assign(Object.assign({},Q),{ariaLabel:ze,detail:this.options.showAlias&&Q.commandAlias!==Q.label?Q.commandAlias:void 0,keybinding:he,accept:()=>lv(this,void 0,void 0,function*(){this.commandsHistory.push(Q.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:Q.commandId,from:"quick open"});try{yield this.commandService.executeCommand(Q.commandId)}catch(Xe){(0,ui.n2)(Xe)||this.dialogService.show(Kd.Z.Error,(0,Le.N)("canNotRun","Command '{0}' resulted in an error ({1})",Q.label,rv(Xe)))}})}))}return S})}};lg.PREFIX=">",lg.WORD_FILTER=(0,bi.or)(bi.Ji,bi.KZ,bi.ir),lg=av([Qu(1,G.TG),Qu(2,F.d),Qu(3,Ki.Hy),Qu(4,ks.b),Qu(5,M0.S)],lg);let Xu=class fr extends lt.JT{constructor(e,t){super(),this.storageService=e,this.configurationService=t,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=fr.getConfiguredCommandHistoryLength(this.configurationService),fr.cache&&fr.cache.limit!==this.configuredCommandsHistoryLength&&(fr.cache.limit=this.configuredCommandsHistoryLength,fr.saveState(this.storageService))}load(){const e=this.storageService.get(fr.PREF_KEY_CACHE,0);let t;if(e)try{t=JSON.parse(e)}catch(s){}const n=fr.cache=new kr.z6(this.configuredCommandsHistoryLength,1);if(t){let s;t.usesLRU?s=t.entries:s=t.entries.sort((r,h)=>r.value-h.value),s.forEach(r=>n.set(r.key,r.value))}fr.counter=this.storageService.getNumber(fr.PREF_KEY_COUNTER,0,fr.counter)}push(e){!fr.cache||(fr.cache.set(e,fr.counter++),fr.saveState(this.storageService))}peek(e){var t;return(t=fr.cache)===null||t===void 0?void 0:t.peek(e)}static saveState(e){if(!fr.cache)return;const t={usesLRU:!0,entries:[]};fr.cache.forEach((n,s)=>t.entries.push({key:s,value:n})),e.store(fr.PREF_KEY_CACHE,JSON.stringify(t),0,0),e.store(fr.PREF_KEY_COUNTER,fr.counter,0,0)}static getConfiguredCommandHistoryLength(e){var t,n;const r=(n=(t=e.getValue().workbench)===null||t===void 0?void 0:t.commandPalette)===null||n===void 0?void 0:n.history;return typeof r=="number"?r:fr.DEFAULT_COMMANDS_HISTORY_LENGTH}};Xu.DEFAULT_COMMANDS_HISTORY_LENGTH=50,Xu.PREF_KEY_CACHE="commandPalette.mru.cache",Xu.PREF_KEY_COUNTER="commandPalette.mru.counter",Xu.counter=1,Xu=av([Qu(0,ar.Uy),Qu(1,js.Ui)],Xu);class AL extends lg{constructor(e,t,n,s,r,h){super(e,t,n,s,r,h)}getCodeEditorCommandPicks(){const e=this.activeTextEditorControl;if(!e)return[];const t=[];for(const n of e.getSupportedActions())t.push({commandId:n.id,commandAlias:n.alias,label:(0,Ng.x$)(n.label)||n.id});return t}}var PL=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},of=function(g,e){return function(t,n){e(t,n,g)}},OL=function(g,e,t,n){function s(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function S(Q){try{ne(n.next(Q))}catch(he){h(he)}}function Y(Q){try{ne(n.throw(Q))}catch(he){h(he)}}function ne(Q){Q.done?r(Q.value):s(Q.value).then(S,Y)}ne((n=n.apply(g,e||[])).next())})};let cg=class extends AL{constructor(e,t,n,s,r,h){super({showAlias:!1},e,n,s,r,h),this.codeEditorService=t}get activeTextEditorControl(){return(0,gs.f6)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return OL(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};cg=PL([of(0,G.TG),of(1,On.$),of(2,F.d),of(3,Ki.Hy),of(4,ks.b),of(5,M0.S)],cg),Kh.B.as(og.IP.Quickaccess).registerQuickAccessProvider({ctor:cg,prefix:cg.PREFIX,helpEntries:[{description:vo.UX.quickCommandHelp,needsEditor:!0}]});class FL extends Pe.R6{constructor(){super({id:"editor.action.quickCommand",label:vo.UX.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(e){e.get($s.eJ).quickAccess.show(cg.PREFIX)}}(0,Pe.Qr)(FL);var BL=function(g,e,t,n){var s=arguments.length,r=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(g,e,t,n);else for(var S=g.length-1;S>=0;S--)(h=g[S])&&(r=(s<3?h(r):s>3?h(e,t,r):h(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},rf=function(g,e){return function(t,n){e(t,n,g)}};let j0=class extends el{constructor(e,t,n,s,r,h,S){super(!0,e,t,n,s,r,h,S)}};j0=BL([rf(1,nn.i6),rf(2,On.$),rf(3,zi.lT),rf(4,G.TG),rf(5,ar.Uy),rf(6,js.Ui)],j0),(0,Pe._K)(el.ID,j0);class WL extends Pe.R6{constructor(){super({id:"editor.action.toggleHighContrast",label:vo.xi.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(e,t){const n=e.get(Z_.Z);this._originalThemeName?(n.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=n.getColorTheme().themeName,n.setTheme("hc-black"))}}(0,Pe.Qr)(WL)},44011:function(it,Ee,l){"use strict";l.d(Ee,{Z:function(){return d}});var C=l(95024);const d=(0,C.yh)("themeService")},73541:function(it,Ee,l){"use strict";l.d(Ee,{TG:function(){return k}});var C=l(95021);var d=Object.defineProperty,z=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,y=Object.prototype.hasOwnProperty,W=(b,P,V,H)=>{if(P&&typeof P=="object"||typeof P=="function")for(let ee of O(P))!y.call(b,ee)&&(V||ee!=="default")&&d(b,ee,{get:()=>P[ee],enumerable:!(H=z(P,ee))||H.enumerable});return b},A="4.5.5",M={};W(M,C);var I=(b=>(b[b.None=0]="None",b[b.CommonJS=1]="CommonJS",b[b.AMD=2]="AMD",b[b.UMD=3]="UMD",b[b.System=4]="System",b[b.ES2015=5]="ES2015",b[b.ESNext=99]="ESNext",b))(I||{}),w=(b=>(b[b.None=0]="None",b[b.Preserve=1]="Preserve",b[b.React=2]="React",b[b.ReactNative=3]="ReactNative",b[b.ReactJSX=4]="ReactJSX",b[b.ReactJSXDev=5]="ReactJSXDev",b))(w||{}),_=(b=>(b[b.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",b[b.LineFeed=1]="LineFeed",b))(_||{}),f=(b=>(b[b.ES3=0]="ES3",b[b.ES5=1]="ES5",b[b.ES2015=2]="ES2015",b[b.ES2016=3]="ES2016",b[b.ES2017=4]="ES2017",b[b.ES2018=5]="ES2018",b[b.ES2019=6]="ES2019",b[b.ES2020=7]="ES2020",b[b.ESNext=99]="ESNext",b[b.JSON=100]="JSON",b[b.Latest=99]="Latest",b))(f||{}),m=(b=>(b[b.Classic=1]="Classic",b[b.NodeJs=2]="NodeJs",b))(m||{}),a=class{constructor(b,P,V,H){Ao(this,"_onDidChange",new M.Emitter);Ao(this,"_onDidExtraLibsChange",new M.Emitter);Ao(this,"_extraLibs");Ao(this,"_removedExtraLibs");Ao(this,"_eagerModelSync");Ao(this,"_compilerOptions");Ao(this,"_diagnosticsOptions");Ao(this,"_workerOptions");Ao(this,"_onDidExtraLibsChangeTimeout");Ao(this,"_inlayHintsOptions");this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(b),this.setDiagnosticsOptions(P),this.setWorkerOptions(V),this.setInlayHintsOptions(H),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(b,P){let V;if(typeof P=="undefined"?V=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:V=P,this._extraLibs[V]&&this._extraLibs[V].content===b)return{dispose:()=>{}};let H=1;return this._removedExtraLibs[V]&&(H=this._removedExtraLibs[V]+1),this._extraLibs[V]&&(H=this._extraLibs[V].version+1),this._extraLibs[V]={content:b,version:H},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let ee=this._extraLibs[V];!ee||ee.version===H&&(delete this._extraLibs[V],this._removedExtraLibs[V]=H,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(b){for(const P in this._extraLibs)this._removedExtraLibs[P]=this._extraLibs[P].version;if(this._extraLibs=Object.create(null),b&&b.length>0)for(const P of b){const V=P.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,H=P.content;let ee=1;this._removedExtraLibs[V]&&(ee=this._removedExtraLibs[V]+1),this._extraLibs[V]={content:H,version:ee}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(b){this._compilerOptions=b||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(b){this._diagnosticsOptions=b||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(b){this._workerOptions=b||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(b){this._inlayHintsOptions=b||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(b){}setEagerModelSync(b){this._eagerModelSync=b}getEagerModelSync(){return this._eagerModelSync}},x=A,k=new a({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),T=new a({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{}),N=()=>R().then(b=>b.getTypeScriptWorker()),L=()=>R().then(b=>b.getJavaScriptWorker());M.languages.typescript={ModuleKind:I,JsxEmit:w,NewLineKind:_,ScriptTarget:f,ModuleResolutionKind:m,typescriptVersion:x,typescriptDefaults:k,javascriptDefaults:T,getTypeScriptWorker:N,getJavaScriptWorker:L};function R(){return l.e(7278).then(l.bind(l,37278))}M.languages.onLanguage("typescript",()=>R().then(b=>b.setupTypeScript(k))),M.languages.onLanguage("javascript",()=>R().then(b=>b.setupJavaScript(T)))},82215:function(it,Ee,l){"use strict";l.d(Ee,{N:function(){return d}});function C(z,O){let y;return O.length===0?y=z:y=z.replace(/\{(\d+)\}/g,function(W,A){const M=A[0];return typeof O[M]!="undefined"?O[M]:W}),y}function d(z,O,...y){return C(O,y)}},40761:function(it,Ee,l){"use strict";l.d(Ee,{F:function(){return z},U:function(){return O}});var C=l(96072),d=l(95024);const z=(0,d.yh)("accessibilityService"),O=new C.uy("accessibilityModeEnabled",!1)},56878:function(it,Ee,l){"use strict";l.d(Ee,{BH:function(){return k},NZ:function(){return T},U8:function(){return N},co:function(){return x},eH:function(){return a},vr:function(){return m}});var C=l(83337),d=l(74696),z=l(60774),O=l(80050),y=l(1405),W=l(80200),A=l(58829),M=l(96072),I=l(95024),w=l(63655),_=function(L,R,b,P){var V=arguments.length,H=V<3?R:P===null?P=Object.getOwnPropertyDescriptor(R,b):P,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(L,R,b,P);else for(var ae=L.length-1;ae>=0;ae--)(ee=L[ae])&&(H=(V<3?ee(H):V>3?ee(R,b,H):ee(R,b))||H);return V>3&&H&&Object.defineProperty(R,b,H),H},f=function(L,R){return function(b,P){R(b,P,L)}};function m(L){return L.command!==void 0}class a{constructor(R){this.id=a._idPool++,this._debugName=R}}a._idPool=0,a.CommandPalette=new a("CommandPalette"),a.DebugBreakpointsContext=new a("DebugBreakpointsContext"),a.DebugCallStackContext=new a("DebugCallStackContext"),a.DebugConsoleContext=new a("DebugConsoleContext"),a.DebugVariablesContext=new a("DebugVariablesContext"),a.DebugWatchContext=new a("DebugWatchContext"),a.DebugToolBar=new a("DebugToolBar"),a.EditorContext=new a("EditorContext"),a.SimpleEditorContext=new a("SimpleEditorContext"),a.EditorContextCopy=new a("EditorContextCopy"),a.EditorContextPeek=new a("EditorContextPeek"),a.EditorTitle=new a("EditorTitle"),a.EditorTitleRun=new a("EditorTitleRun"),a.EditorTitleContext=new a("EditorTitleContext"),a.EmptyEditorGroup=new a("EmptyEditorGroup"),a.EmptyEditorGroupContext=new a("EmptyEditorGroupContext"),a.ExplorerContext=new a("ExplorerContext"),a.ExtensionContext=new a("ExtensionContext"),a.GlobalActivity=new a("GlobalActivity"),a.LayoutControlMenuSubmenu=new a("LayoutControlMenuSubmenu"),a.LayoutControlMenu=new a("LayoutControlMenu"),a.MenubarMainMenu=new a("MenubarMainMenu"),a.MenubarAppearanceMenu=new a("MenubarAppearanceMenu"),a.MenubarDebugMenu=new a("MenubarDebugMenu"),a.MenubarEditMenu=new a("MenubarEditMenu"),a.MenubarCopy=new a("MenubarCopy"),a.MenubarFileMenu=new a("MenubarFileMenu"),a.MenubarGoMenu=new a("MenubarGoMenu"),a.MenubarHelpMenu=new a("MenubarHelpMenu"),a.MenubarLayoutMenu=new a("MenubarLayoutMenu"),a.MenubarNewBreakpointMenu=new a("MenubarNewBreakpointMenu"),a.MenubarPanelAlignmentMenu=new a("MenubarPanelAlignmentMenu"),a.MenubarPanelPositionMenu=new a("MenubarPanelPositionMenu"),a.MenubarPreferencesMenu=new a("MenubarPreferencesMenu"),a.MenubarRecentMenu=new a("MenubarRecentMenu"),a.MenubarSelectionMenu=new a("MenubarSelectionMenu"),a.MenubarSwitchEditorMenu=new a("MenubarSwitchEditorMenu"),a.MenubarSwitchGroupMenu=new a("MenubarSwitchGroupMenu"),a.MenubarTerminalMenu=new a("MenubarTerminalMenu"),a.MenubarViewMenu=new a("MenubarViewMenu"),a.MenubarHomeMenu=new a("MenubarHomeMenu"),a.OpenEditorsContext=new a("OpenEditorsContext"),a.ProblemsPanelContext=new a("ProblemsPanelContext"),a.SCMChangeContext=new a("SCMChangeContext"),a.SCMResourceContext=new a("SCMResourceContext"),a.SCMResourceFolderContext=new a("SCMResourceFolderContext"),a.SCMResourceGroupContext=new a("SCMResourceGroupContext"),a.SCMSourceControl=new a("SCMSourceControl"),a.SCMTitle=new a("SCMTitle"),a.SearchContext=new a("SearchContext"),a.StatusBarWindowIndicatorMenu=new a("StatusBarWindowIndicatorMenu"),a.StatusBarRemoteIndicatorMenu=new a("StatusBarRemoteIndicatorMenu"),a.TestItem=new a("TestItem"),a.TestItemGutter=new a("TestItemGutter"),a.TestPeekElement=new a("TestPeekElement"),a.TestPeekTitle=new a("TestPeekTitle"),a.TouchBarContext=new a("TouchBarContext"),a.TitleBarContext=new a("TitleBarContext"),a.TunnelContext=new a("TunnelContext"),a.TunnelPrivacy=new a("TunnelPrivacy"),a.TunnelProtocol=new a("TunnelProtocol"),a.TunnelPortInline=new a("TunnelInline"),a.TunnelTitle=new a("TunnelTitle"),a.TunnelLocalAddressInline=new a("TunnelLocalAddressInline"),a.TunnelOriginInline=new a("TunnelOriginInline"),a.ViewItemContext=new a("ViewItemContext"),a.ViewContainerTitle=new a("ViewContainerTitle"),a.ViewContainerTitleContext=new a("ViewContainerTitleContext"),a.ViewTitle=new a("ViewTitle"),a.ViewTitleContext=new a("ViewTitleContext"),a.CommentThreadTitle=new a("CommentThreadTitle"),a.CommentThreadActions=new a("CommentThreadActions"),a.CommentTitle=new a("CommentTitle"),a.CommentActions=new a("CommentActions"),a.InteractiveToolbar=new a("InteractiveToolbar"),a.InteractiveCellTitle=new a("InteractiveCellTitle"),a.InteractiveCellExecute=new a("InteractiveCellExecute"),a.InteractiveInputExecute=new a("InteractiveInputExecute"),a.NotebookToolbar=new a("NotebookToolbar"),a.NotebookCellTitle=new a("NotebookCellTitle"),a.NotebookCellInsert=new a("NotebookCellInsert"),a.NotebookCellBetween=new a("NotebookCellBetween"),a.NotebookCellListTop=new a("NotebookCellTop"),a.NotebookCellExecute=new a("NotebookCellExecute"),a.NotebookCellExecutePrimary=new a("NotebookCellExecutePrimary"),a.NotebookDiffCellInputTitle=new a("NotebookDiffCellInputTitle"),a.NotebookDiffCellMetadataTitle=new a("NotebookDiffCellMetadataTitle"),a.NotebookDiffCellOutputsTitle=new a("NotebookDiffCellOutputsTitle"),a.NotebookOutputToolbar=new a("NotebookOutputToolbar"),a.NotebookEditorLayoutConfigure=new a("NotebookEditorLayoutConfigure"),a.BulkEditTitle=new a("BulkEditTitle"),a.BulkEditContext=new a("BulkEditContext"),a.TimelineItemContext=new a("TimelineItemContext"),a.TimelineTitle=new a("TimelineTitle"),a.TimelineTitleContext=new a("TimelineTitleContext"),a.AccountsContext=new a("AccountsContext"),a.PanelTitle=new a("PanelTitle"),a.AuxiliaryBarTitle=new a("AuxiliaryBarTitle"),a.TerminalInstanceContext=new a("TerminalInstanceContext"),a.TerminalEditorInstanceContext=new a("TerminalEditorInstanceContext"),a.TerminalNewDropdownContext=new a("TerminalNewDropdownContext"),a.TerminalTabContext=new a("TerminalTabContext"),a.TerminalTabEmptyAreaContext=new a("TerminalTabEmptyAreaContext"),a.TerminalInlineTabContext=new a("TerminalInlineTabContext"),a.WebviewContext=new a("WebviewContext"),a.InlineCompletionsActions=new a("InlineCompletionsActions"),a.NewFile=new a("NewFile");const x=(0,I.yh)("menuService"),k=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new z.Q5,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:L=>L===a.CommandPalette}}addCommand(L){return this.addCommands(O.$.single(L))}addCommands(L){for(const R of L)this._commands.set(R.id,R);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,y.OF)(()=>{let R=!1;for(const b of L)R=this._commands.delete(b.id)||R;R&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(L){return this._commands.get(L)}getCommands(){const L=new Map;return this._commands.forEach((R,b)=>L.set(b,R)),L}appendMenuItem(L,R){return this.appendMenuItems(O.$.single({id:L,item:R}))}appendMenuItems(L){const R=new Set,b=new W.S;for(const{id:P,item:V}of L){let H=this._menuItems.get(P);H||(H=new W.S,this._menuItems.set(P,H)),b.push(H.push(V)),R.add(P)}return this._onDidChangeMenu.fire(R),(0,y.OF)(()=>{if(b.size>0){for(let P of b)P();this._onDidChangeMenu.fire(R),b.clear()}})}getMenuItems(L){let R;return this._menuItems.has(L)?R=[...this._menuItems.get(L)]:R=[],L===a.CommandPalette&&this._appendImplicitItems(R),R}_appendImplicitItems(L){const R=new Set;for(const b of L)m(b)&&(R.add(b.command.id),b.alt&&R.add(b.alt.id));this._commands.forEach((b,P)=>{R.has(P)||L.push({command:b})})}};class T extends C.wY{constructor(R,b,P,V){super(`submenuitem.${R.submenu.id}`,typeof R.title=="string"?R.title:R.title.value,[],"submenu"),this.item=R,this._menuService=b,this._contextKeyService=P,this._options=V}get actions(){const R=[],b=this._menuService.createMenu(this.item.submenu,this._contextKeyService),P=b.getActions(this._options);b.dispose();for(const[,V]of P)V.length>0&&(R.push(...V),R.push(new C.Z0));return R.length&&R.pop(),R}}let N=class jv{constructor(R,b,P,V,H){var ee,ae;if(this._commandService=H,this.id=R.id,this.label=(P==null?void 0:P.renderShortTitle)&&R.shortTitle?typeof R.shortTitle=="string"?R.shortTitle:R.shortTitle.value:typeof R.title=="string"?R.title:R.title.value,this.tooltip=(ae=typeof R.tooltip=="string"?R.tooltip:(ee=R.tooltip)===null||ee===void 0?void 0:ee.value)!==null&&ae!==void 0?ae:"",this.enabled=!R.precondition||V.contextMatchesRules(R.precondition),this.checked=void 0,R.toggled){const me=R.toggled.condition?R.toggled:{condition:R.toggled};this.checked=V.contextMatchesRules(me.condition),this.checked&&me.tooltip&&(this.tooltip=typeof me.tooltip=="string"?me.tooltip:me.tooltip.value),me.title&&(this.label=typeof me.title=="string"?me.title:me.title.value)}this.item=R,this.alt=b?new jv(b,void 0,P,V,H):void 0,this._options=P,w.kS.isThemeIcon(R.icon)&&(this.class=d.dT.asClassName(R.icon))}dispose(){}run(...R){var b,P;let V=[];return!((b=this._options)===null||b===void 0)&&b.arg&&(V=[...V,this._options.arg]),!((P=this._options)===null||P===void 0)&&P.shouldForwardArgs&&(V=[...V,...R]),this._commandService.executeCommand(this.id,...V)}};N=_([f(3,M.i6),f(4,A.Hy)],N)},83410:function(it,Ee,l){"use strict";l.d(Ee,{p:function(){return d}});var C=l(95024);const d=(0,C.yh)("clipboardService")},58829:function(it,Ee,l){"use strict";l.d(Ee,{Hy:function(){return A},P0:function(){return M}});var C=l(60774),d=l(80050),z=l(1405),O=l(80200),y=l(37061),W=l(95024);const A=(0,W.yh)("commandService"),M=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new C.Q5,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(w,_){if(!w)throw new Error("invalid command");if(typeof w=="string"){if(!_)throw new Error("invalid command");return this.registerCommand({id:w,handler:_})}if(w.description){const k=[];for(let N of w.description.args)k.push(N.constraint);const T=w.handler;w.handler=function(N,...L){return(0,y.D8)(L,k),T(N,...L)}}const{id:f}=w;let m=this._commands.get(f);m||(m=new O.S,this._commands.set(f,m));let a=m.unshift(w),x=(0,z.OF)(()=>{a();const k=this._commands.get(f);k!=null&&k.isEmpty()&&this._commands.delete(f)});return this._onDidRegisterCommand.fire(f),x}registerCommandAlias(w,_){return M.registerCommand(w,(f,...m)=>f.get(A).executeCommand(_,...m))}getCommand(w){const _=this._commands.get(w);if(!(!_||_.isEmpty()))return d.$.first(_)}getCommands(){const w=new Map;for(const _ of this._commands.keys()){const f=this.getCommand(_);f&&w.set(_,f)}return w}},I={_serviceBrand:void 0,onWillExecuteCommand:()=>z.JT.None,onDidExecuteCommand:()=>z.JT.None,executeCommand(){return Promise.resolve(void 0)}};M.registerCommand("noop",()=>{})},68491:function(it,Ee,l){"use strict";l.d(Ee,{KV:function(){return O},Mt:function(){return A},Od:function(){return z},Ui:function(){return d},xL:function(){return y}});var C=l(95024);const d=(0,C.yh)("configurationService");function z(M,I){const w=Object.create(null);for(let _ in M)O(w,_,M[_],I);return w}function O(M,I,w,_){const f=I.split("."),m=f.pop();let a=M;for(let x=0;x<f.length;x++){let k=f[x],T=a[k];switch(typeof T){case"undefined":T=a[k]=Object.create(null);break;case"object":break;default:_(`Ignoring ${I} as ${f.slice(0,x+1).join(".")} is ${JSON.stringify(T)}`);return}a=T}if(typeof a=="object"&&a!==null)try{a[m]=w}catch(x){_(`Ignoring ${I} as ${f.join(".")} is ${JSON.stringify(a)}`)}else _(`Ignoring ${I} as ${f.join(".")} is ${JSON.stringify(a)}`)}function y(M,I){const w=I.split(".");W(M,w)}function W(M,I){const w=I.shift();if(I.length===0){delete M[w];return}if(Object.keys(M).indexOf(w)!==-1){const _=M[w];typeof _=="object"&&!Array.isArray(_)&&(W(_,I),Object.keys(_).length===0&&delete M[w])}}function A(M,I,w){function _(a,x){let k=a;for(const T of x){if(typeof k!="object"||k===null)return;k=k[T]}return k}const f=I.split("."),m=_(M,f);return typeof m=="undefined"?w:m}},75232:function(it,Ee,l){"use strict";l.d(Ee,{IP:function(){return A},eU:function(){return R},ny:function(){return b}});var C=l(825),d=l(60774),z=l(37061),O=l(82215),y=l(82393),W=l(1062);const A={Configuration:"base.contributions.configuration"},M={properties:{},patternProperties:{}},I={properties:{},patternProperties:{}},w={properties:{},patternProperties:{}},_={properties:{},patternProperties:{}},f={properties:{},patternProperties:{}},m={properties:{},patternProperties:{}},a="vscode://schemas/settings/resourceLanguage",x=W.B.as(y.I.JSONContribution);class k{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new d.Q5,this._onDidUpdateConfiguration=new d.Q5,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:O.N("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},x.registerSchema(a,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(ae,me=!0){this.registerConfigurations([ae],me)}registerConfigurations(ae,me=!0){const ge=this.doRegisterConfigurations(ae,me);x.registerSchema(a,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:ge})}registerDefaultConfigurations(ae){var me;const ge=[],re=[];for(const{overrides:se,source:X}of ae)for(const $ in se)if(ge.push($),R.test($)){const j=Object.assign(Object.assign({},((me=this.configurationDefaultsOverrides.get($))===null||me===void 0?void 0:me.value)||{}),se[$]);this.configurationDefaultsOverrides.set($,{source:X,value:j});const ie={type:"object",default:j,description:O.N("defaultLanguageConfiguration.description","Configure settings to be overridden for {0} language.",$),$ref:a,defaultDefaultValue:j,source:z.HD(X)?void 0:X};re.push(...b($)),this.configurationProperties[$]=ie,this.defaultLanguageConfigurationOverridesNode.properties[$]=ie}else{this.configurationDefaultsOverrides.set($,{value:se[$],source:X});const j=this.configurationProperties[$];j&&(this.updatePropertyDefaultValue($,j),this.updateSchema($,j))}this.registerOverrideIdentifiers(re),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:ge,defaultsOverrides:!0})}registerOverrideIdentifiers(ae){for(const me of ae)this.overrideIdentifiers.add(me);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(ae,me){const ge=[];return ae.forEach(re=>{ge.push(...this.validateAndRegisterProperties(re,me,re.extensionInfo,re.restrictedProperties)),this.configurationContributors.push(re),this.registerJSONConfiguration(re)}),ge}validateAndRegisterProperties(ae,me=!0,ge,re,se=3){se=z.Jp(ae.scope)?se:ae.scope;let X=[],$=ae.properties;if($)for(let ie in $){if(me&&H(ie)){delete $[ie];continue}const J=$[ie];if(J.source=ge,J.defaultDefaultValue=$[ie].default,this.updatePropertyDefaultValue(ie,J),R.test(ie)?J.scope=void 0:(J.scope=z.Jp(J.scope)?se:J.scope,J.restricted=z.Jp(J.restricted)?!!(re!=null&&re.includes(ie)):J.restricted),$[ie].hasOwnProperty("included")&&!$[ie].included){this.excludedConfigurationProperties[ie]=$[ie],delete $[ie];continue}else this.configurationProperties[ie]=$[ie];!$[ie].deprecationMessage&&$[ie].markdownDeprecationMessage&&($[ie].deprecationMessage=$[ie].markdownDeprecationMessage),X.push(ie)}let j=ae.allOf;if(j)for(let ie of j)X.push(...this.validateAndRegisterProperties(ie,me,ge,re,se));return X}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(ae){const me=ge=>{let re=ge.properties;if(re)for(const X in re)this.updateSchema(X,re[X]);let se=ge.allOf;se&&se.forEach(me)};me(ae)}updateSchema(ae,me){switch(M.properties[ae]=me,me.scope){case 1:I.properties[ae]=me;break;case 2:w.properties[ae]=me;break;case 6:_.properties[ae]=me;break;case 3:f.properties[ae]=me;break;case 4:m.properties[ae]=me;break;case 5:m.properties[ae]=me,this.resourceLanguageSettingsSchema.properties[ae]=me;break}}updateOverridePropertyPatternKey(){for(const ae of this.overrideIdentifiers.values()){const me=`[${ae}]`,ge={type:"object",description:O.N("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:O.N("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:a};this.updatePropertyDefaultValue(me,ge),M.properties[me]=ge,I.properties[me]=ge,w.properties[me]=ge,_.properties[me]=ge,f.properties[me]=ge,m.properties[me]=ge}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){const ae={type:"object",description:O.N("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:O.N("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:a};M.patternProperties[L]=ae,I.patternProperties[L]=ae,w.patternProperties[L]=ae,_.patternProperties[L]=ae,f.patternProperties[L]=ae,m.patternProperties[L]=ae,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(ae,me){const ge=this.configurationDefaultsOverrides.get(ae);let re=ge==null?void 0:ge.value,se=ge==null?void 0:ge.source;z.o8(re)&&(re=me.defaultDefaultValue,se=void 0),z.o8(re)&&(re=P(me.type)),me.default=re,me.defaultValueSource=se}}const T="\\[([^\\]]+)\\]",N=new RegExp(T,"g"),L=`^(${T})+$`,R=new RegExp(L);function b(ee){const ae=[];if(R.test(ee)){let me=N.exec(ee);for(;me!=null&&me.length;){const ge=me[1].trim();ge&&ae.push(ge),me=N.exec(ee)}}return(0,C.EB)(ae)}function P(ee){switch(Array.isArray(ee)?ee[0]:ee){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const V=new k;W.B.add(A.Configuration,V);function H(ee){return ee.trim()?R.test(ee)?O.N("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",ee):V.getConfigurationProperties()[ee]!==void 0?O.N("config.property.duplicate","Cannot register '{0}'. This property is already registered.",ee):null:O.N("config.property.empty","Cannot register an empty property")}},96072:function(it,Ee,l){"use strict";l.d(Ee,{Ao:function(){return W},Eq:function(){return re},Fb:function(){return A},K8:function(){return $},i6:function(){return ge},uy:function(){return me}});var C=l(24180),d=l(76311),z=l(95024);const O=new Map;O.set("false",!1),O.set("true",!0),O.set("isMac",C.dz),O.set("isLinux",C.IJ),O.set("isWindows",C.ED),O.set("isWeb",C.$L),O.set("isMacNative",C.dz&&!C.$L),O.set("isEdge",C.un),O.set("isFirefox",C.vU),O.set("isChrome",C.i7),O.set("isSafari",C.G6);const y=Object.prototype.hasOwnProperty;class W{static has(J){return _.create(J)}static equals(J,oe){return f.create(J,oe)}static regex(J,oe){return P.create(J,oe)}static not(J){return k.create(J)}static and(...J){return ee.create(J,null)}static or(...J){return ae.create(J,null,!0)}static deserialize(J,oe=!1){if(!!J)return this._deserializeOrExpression(J,oe)}static _deserializeOrExpression(J,oe){let ce=J.split("||");return ae.create(ce.map(we=>this._deserializeAndExpression(we,oe)),null,!0)}static _deserializeAndExpression(J,oe){let ce=J.split("&&");return ee.create(ce.map(we=>this._deserializeOne(we,oe)),null)}static _deserializeOne(J,oe){if(J=J.trim(),J.indexOf("!=")>=0){let ce=J.split("!=");return x.create(ce[0].trim(),this._deserializeValue(ce[1],oe))}if(J.indexOf("==")>=0){let ce=J.split("==");return f.create(ce[0].trim(),this._deserializeValue(ce[1],oe))}if(J.indexOf("=~")>=0){let ce=J.split("=~");return P.create(ce[0].trim(),this._deserializeRegexValue(ce[1],oe))}if(J.indexOf(" in ")>=0){let ce=J.split(" in ");return m.create(ce[0].trim(),ce[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(J)){const ce=J.split(">=");return L.create(ce[0].trim(),ce[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(J)){const ce=J.split(">");return N.create(ce[0].trim(),ce[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(J)){const ce=J.split("<=");return b.create(ce[0].trim(),ce[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(J)){const ce=J.split("<");return R.create(ce[0].trim(),ce[1].trim())}return/^\!\s*/.test(J)?k.create(J.substr(1).trim()):_.create(J)}static _deserializeValue(J,oe){if(J=J.trim(),J==="true")return!0;if(J==="false")return!1;let ce=/^'([^']*)'$/.exec(J);return ce?ce[1].trim():J}static _deserializeRegexValue(J,oe){if((0,d.m5)(J)){if(oe)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let ce=J.indexOf("/"),we=J.lastIndexOf("/");if(ce===we||ce<0){if(oe)throw new Error(`bad regexp-value '${J}', missing /-enclosure`);return console.warn(`bad regexp-value '${J}', missing /-enclosure`),null}let Me=J.slice(ce+1,we),Ke=J[we+1]==="i"?"i":"";try{return new RegExp(Me,Ke)}catch(De){if(oe)throw new Error(`bad regexp-value '${J}', parse error: ${De}`);return console.warn(`bad regexp-value '${J}', parse error: ${De}`),null}}}function A(ie,J){const oe=ie?ie.substituteConstants():void 0,ce=J?J.substituteConstants():void 0;return!oe&&!ce?!0:!oe||!ce?!1:oe.equals(ce)}function M(ie,J){return ie.cmp(J)}class I{constructor(){this.type=0}cmp(J){return this.type-J.type}equals(J){return J.type===this.type}substituteConstants(){return this}evaluate(J){return!1}serialize(){return"false"}keys(){return[]}negate(){return w.INSTANCE}}I.INSTANCE=new I;class w{constructor(){this.type=1}cmp(J){return this.type-J.type}equals(J){return J.type===this.type}substituteConstants(){return this}evaluate(J){return!0}serialize(){return"true"}keys(){return[]}negate(){return I.INSTANCE}}w.INSTANCE=new w;class _{constructor(J,oe){this.key=J,this.negated=oe,this.type=2}static create(J,oe=null){const ce=O.get(J);return typeof ce=="boolean"?ce?w.INSTANCE:I.INSTANCE:new _(J,oe)}cmp(J){return J.type!==this.type?this.type-J.type:se(this.key,J.key)}equals(J){return J.type===this.type?this.key===J.key:!1}substituteConstants(){const J=O.get(this.key);return typeof J=="boolean"?J?w.INSTANCE:I.INSTANCE:this}evaluate(J){return!!J.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=k.create(this.key,this)),this.negated}}class f{constructor(J,oe,ce){this.key=J,this.value=oe,this.negated=ce,this.type=4}static create(J,oe,ce=null){if(typeof oe=="boolean")return oe?_.create(J,ce):k.create(J,ce);const we=O.get(J);return typeof we=="boolean"?oe===(we?"true":"false")?w.INSTANCE:I.INSTANCE:new f(J,oe,ce)}cmp(J){return J.type!==this.type?this.type-J.type:X(this.key,this.value,J.key,J.value)}equals(J){return J.type===this.type?this.key===J.key&&this.value===J.value:!1}substituteConstants(){const J=O.get(this.key);if(typeof J=="boolean"){const oe=J?"true":"false";return this.value===oe?w.INSTANCE:I.INSTANCE}return this}evaluate(J){return J.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=x.create(this.key,this.value,this)),this.negated}}class m{constructor(J,oe){this.key=J,this.valueKey=oe,this.type=10,this.negated=null}static create(J,oe){return new m(J,oe)}cmp(J){return J.type!==this.type?this.type-J.type:X(this.key,this.valueKey,J.key,J.valueKey)}equals(J){return J.type===this.type?this.key===J.key&&this.valueKey===J.valueKey:!1}substituteConstants(){return this}evaluate(J){const oe=J.getValue(this.valueKey),ce=J.getValue(this.key);return Array.isArray(oe)?oe.indexOf(ce)>=0:typeof ce=="string"&&typeof oe=="object"&&oe!==null?y.call(oe,ce):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=a.create(this)),this.negated}}class a{constructor(J){this._actual=J,this.type=11}static create(J){return new a(J)}cmp(J){return J.type!==this.type?this.type-J.type:this._actual.cmp(J._actual)}equals(J){return J.type===this.type?this._actual.equals(J._actual):!1}substituteConstants(){return this}evaluate(J){return!this._actual.evaluate(J)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class x{constructor(J,oe,ce){this.key=J,this.value=oe,this.negated=ce,this.type=5}static create(J,oe,ce=null){if(typeof oe=="boolean")return oe?k.create(J,ce):_.create(J,ce);const we=O.get(J);return typeof we=="boolean"?oe===(we?"true":"false")?I.INSTANCE:w.INSTANCE:new x(J,oe,ce)}cmp(J){return J.type!==this.type?this.type-J.type:X(this.key,this.value,J.key,J.value)}equals(J){return J.type===this.type?this.key===J.key&&this.value===J.value:!1}substituteConstants(){const J=O.get(this.key);if(typeof J=="boolean"){const oe=J?"true":"false";return this.value===oe?I.INSTANCE:w.INSTANCE}return this}evaluate(J){return J.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=f.create(this.key,this.value,this)),this.negated}}class k{constructor(J,oe){this.key=J,this.negated=oe,this.type=3}static create(J,oe=null){const ce=O.get(J);return typeof ce=="boolean"?ce?I.INSTANCE:w.INSTANCE:new k(J,oe)}cmp(J){return J.type!==this.type?this.type-J.type:se(this.key,J.key)}equals(J){return J.type===this.type?this.key===J.key:!1}substituteConstants(){const J=O.get(this.key);return typeof J=="boolean"?J?I.INSTANCE:w.INSTANCE:this}evaluate(J){return!J.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=_.create(this.key,this)),this.negated}}function T(ie,J){if(typeof ie=="string"){const oe=parseFloat(ie);isNaN(oe)||(ie=oe)}return typeof ie=="string"||typeof ie=="number"?J(ie):I.INSTANCE}class N{constructor(J,oe,ce){this.key=J,this.value=oe,this.negated=ce,this.type=12}static create(J,oe,ce=null){return T(oe,we=>new N(J,we,ce))}cmp(J){return J.type!==this.type?this.type-J.type:X(this.key,this.value,J.key,J.value)}equals(J){return J.type===this.type?this.key===J.key&&this.value===J.value:!1}substituteConstants(){return this}evaluate(J){return typeof this.value=="string"?!1:parseFloat(J.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=b.create(this.key,this.value,this)),this.negated}}class L{constructor(J,oe,ce){this.key=J,this.value=oe,this.negated=ce,this.type=13}static create(J,oe,ce=null){return T(oe,we=>new L(J,we,ce))}cmp(J){return J.type!==this.type?this.type-J.type:X(this.key,this.value,J.key,J.value)}equals(J){return J.type===this.type?this.key===J.key&&this.value===J.value:!1}substituteConstants(){return this}evaluate(J){return typeof this.value=="string"?!1:parseFloat(J.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=R.create(this.key,this.value,this)),this.negated}}class R{constructor(J,oe,ce){this.key=J,this.value=oe,this.negated=ce,this.type=14}static create(J,oe,ce=null){return T(oe,we=>new R(J,we,ce))}cmp(J){return J.type!==this.type?this.type-J.type:X(this.key,this.value,J.key,J.value)}equals(J){return J.type===this.type?this.key===J.key&&this.value===J.value:!1}substituteConstants(){return this}evaluate(J){return typeof this.value=="string"?!1:parseFloat(J.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=L.create(this.key,this.value,this)),this.negated}}class b{constructor(J,oe,ce){this.key=J,this.value=oe,this.negated=ce,this.type=15}static create(J,oe,ce=null){return T(oe,we=>new b(J,we,ce))}cmp(J){return J.type!==this.type?this.type-J.type:X(this.key,this.value,J.key,J.value)}equals(J){return J.type===this.type?this.key===J.key&&this.value===J.value:!1}substituteConstants(){return this}evaluate(J){return typeof this.value=="string"?!1:parseFloat(J.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=N.create(this.key,this.value,this)),this.negated}}class P{constructor(J,oe){this.key=J,this.regexp=oe,this.type=7,this.negated=null}static create(J,oe){return new P(J,oe)}cmp(J){if(J.type!==this.type)return this.type-J.type;if(this.key<J.key)return-1;if(this.key>J.key)return 1;const oe=this.regexp?this.regexp.source:"",ce=J.regexp?J.regexp.source:"";return oe<ce?-1:oe>ce?1:0}equals(J){if(J.type===this.type){const oe=this.regexp?this.regexp.source:"",ce=J.regexp?J.regexp.source:"";return this.key===J.key&&oe===ce}return!1}substituteConstants(){return this}evaluate(J){let oe=J.getValue(this.key);return this.regexp?this.regexp.test(oe):!1}serialize(){const J=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${J}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=V.create(this)),this.negated}}class V{constructor(J){this._actual=J,this.type=8}static create(J){return new V(J)}cmp(J){return J.type!==this.type?this.type-J.type:this._actual.cmp(J._actual)}equals(J){return J.type===this.type?this._actual.equals(J._actual):!1}substituteConstants(){return this}evaluate(J){return!this._actual.evaluate(J)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}function H(ie){let J=null;for(let oe=0,ce=ie.length;oe<ce;oe++){const we=ie[oe].substituteConstants();if(ie[oe]!==we&&J===null){J=[];for(let Me=0;Me<oe;Me++)J[Me]=ie[Me]}J!==null&&(J[oe]=we)}return J===null?ie:J}class ee{constructor(J,oe){this.expr=J,this.negated=oe,this.type=6}static create(J,oe){return ee._normalizeArr(J,oe)}cmp(J){if(J.type!==this.type)return this.type-J.type;if(this.expr.length<J.expr.length)return-1;if(this.expr.length>J.expr.length)return 1;for(let oe=0,ce=this.expr.length;oe<ce;oe++){const we=M(this.expr[oe],J.expr[oe]);if(we!==0)return we}return 0}equals(J){if(J.type===this.type){if(this.expr.length!==J.expr.length)return!1;for(let oe=0,ce=this.expr.length;oe<ce;oe++)if(!this.expr[oe].equals(J.expr[oe]))return!1;return!0}return!1}substituteConstants(){const J=H(this.expr);return J===this.expr?this:ee.create(J,this.negated)}evaluate(J){for(let oe=0,ce=this.expr.length;oe<ce;oe++)if(!this.expr[oe].evaluate(J))return!1;return!0}static _normalizeArr(J,oe){const ce=[];let we=!1;for(const Me of J)if(!!Me){if(Me.type===1){we=!0;continue}if(Me.type===0)return I.INSTANCE;if(Me.type===6){ce.push(...Me.expr);continue}ce.push(Me)}if(ce.length===0&&we)return w.INSTANCE;if(ce.length!==0){if(ce.length===1)return ce[0];ce.sort(M);for(let Me=1;Me<ce.length;Me++)ce[Me-1].equals(ce[Me])&&(ce.splice(Me,1),Me--);if(ce.length===1)return ce[0];for(;ce.length>1;){const Me=ce[ce.length-1];if(Me.type!==9)break;ce.pop();const Ke=ce.pop(),De=ce.length===0,be=ae.create(Me.expr.map(We=>ee.create([We,Ke],null)),null,De);be&&(ce.push(be),ce.sort(M))}return ce.length===1?ce[0]:new ee(ce,oe)}}serialize(){return this.expr.map(J=>J.serialize()).join(" && ")}keys(){const J=[];for(let oe of this.expr)J.push(...oe.keys());return J}negate(){if(!this.negated){const J=[];for(let oe of this.expr)J.push(oe.negate());this.negated=ae.create(J,this,!0)}return this.negated}}class ae{constructor(J,oe){this.expr=J,this.negated=oe,this.type=9}static create(J,oe,ce){return ae._normalizeArr(J,oe,ce)}cmp(J){if(J.type!==this.type)return this.type-J.type;if(this.expr.length<J.expr.length)return-1;if(this.expr.length>J.expr.length)return 1;for(let oe=0,ce=this.expr.length;oe<ce;oe++){const we=M(this.expr[oe],J.expr[oe]);if(we!==0)return we}return 0}equals(J){if(J.type===this.type){if(this.expr.length!==J.expr.length)return!1;for(let oe=0,ce=this.expr.length;oe<ce;oe++)if(!this.expr[oe].equals(J.expr[oe]))return!1;return!0}return!1}substituteConstants(){const J=H(this.expr);return J===this.expr?this:ae.create(J,this.negated,!1)}evaluate(J){for(let oe=0,ce=this.expr.length;oe<ce;oe++)if(this.expr[oe].evaluate(J))return!0;return!1}static _normalizeArr(J,oe,ce){let we=[],Me=!1;if(J){for(let Ke=0,De=J.length;Ke<De;Ke++){const be=J[Ke];if(!!be){if(be.type===0){Me=!0;continue}if(be.type===1)return w.INSTANCE;if(be.type===9){we=we.concat(be.expr);continue}we.push(be)}}if(we.length===0&&Me)return I.INSTANCE;we.sort(M)}if(we.length!==0){if(we.length===1)return we[0];for(let Ke=1;Ke<we.length;Ke++)we[Ke-1].equals(we[Ke])&&(we.splice(Ke,1),Ke--);if(we.length===1)return we[0];if(ce){for(let Ke=0;Ke<we.length;Ke++)for(let De=Ke+1;De<we.length;De++)$(we[Ke],we[De])&&(we.splice(De,1),De--);if(we.length===1)return we[0]}return new ae(we,oe)}}serialize(){return this.expr.map(J=>J.serialize()).join(" || ")}keys(){const J=[];for(let oe of this.expr)J.push(...oe.keys());return J}negate(){if(!this.negated){let J=[];for(let oe of this.expr)J.push(oe.negate());for(;J.length>1;){const oe=J.shift(),ce=J.shift(),we=[];for(const Ke of j(oe))for(const De of j(ce))we.push(ee.create([Ke,De],null));const Me=J.length===0;J.unshift(ae.create(we,null,Me))}this.negated=J[0]}return this.negated}}class me extends _{constructor(J,oe,ce){super(J,null),this._defaultValue=oe,typeof ce=="object"?me._info.push(Object.assign(Object.assign({},ce),{key:J})):ce!==!0&&me._info.push({key:J,description:ce,type:oe!=null?typeof oe:void 0})}static all(){return me._info.values()}bindTo(J){return J.createKey(this.key,this._defaultValue)}getValue(J){return J.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(J){return f.create(this.key,J)}}me._info=[];const ge=(0,z.yh)("contextKeyService"),re="setContext";function se(ie,J){return ie<J?-1:ie>J?1:0}function X(ie,J,oe,ce){return ie<oe?-1:ie>oe?1:J<ce?-1:J>ce?1:0}function $(ie,J){if(J.type===6&&ie.type!==9&&ie.type!==6){for(const we of J.expr)if(ie.equals(we))return!0}const oe=ie.negate(),ce=j(oe).concat(j(J));ce.sort(M);for(let we=0;we<ce.length;we++){const Ke=ce[we].negate();for(let De=we+1;De<ce.length;De++){const be=ce[De];if(Ke.equals(be))return!0}}return!1}function j(ie){return ie.type===9?ie.expr:[ie]}},89829:function(it,Ee,l){"use strict";l.d(Ee,{cv:function(){return W},d0:function(){return _}});var C=l(24180),d=l(82215),z=l(96072);const O=new z.uy("isMac",C.dz,(0,d.N)("isMac","Whether the operating system is macOS")),y=new z.uy("isLinux",C.IJ,(0,d.N)("isLinux","Whether the operating system is Linux")),W=new z.uy("isWindows",C.ED,(0,d.N)("isWindows","Whether the operating system is Windows")),A=new z.uy("isWeb",C.$L,(0,d.N)("isWeb","Whether the platform is a web browser")),M=new z.uy("isMacNative",C.dz&&!C.$L,(0,d.N)("isMacNative","Whether the operating system is macOS on a non-browser platform")),I=new z.uy("isIOS",C.gn,(0,d.N)("isIOS","Whether the operating system is iOS")),w=new z.uy("isDevelopment",!1,!0),_="inputFocus",f=new z.uy(_,!1,(0,d.N)("inputFocus","Whether keyboard focus is inside an input box"))},18708:function(it,Ee,l){"use strict";l.d(Ee,{i:function(){return z},u:function(){return d}});var C=l(95024);const d=(0,C.yh)("contextViewService"),z=(0,C.yh)("contextMenuService")},94666:function(it,Ee,l){"use strict";l.d(Ee,{S:function(){return d}});var C=l(95024);const d=(0,C.yh)("dialogService")},22069:function(it,Ee,l){"use strict";l.d(Ee,{M:function(){return C}});class C{constructor(z,O=[],y=!1){this.ctor=z,this.staticArguments=O,this.supportsDelayedInstantiation=y}}},74896:function(it,Ee,l){"use strict";l.d(Ee,{d:function(){return O},z:function(){return z}});var C=l(22069);const d=[];function z(y,W,A){W instanceof C.M||(W=new C.M(W,[],A)),d.push([y,W])}function O(){return d}},95024:function(it,Ee,l){"use strict";l.d(Ee,{I8:function(){return C},TG:function(){return d},yh:function(){return O}});var C;(function(y){y.serviceIds=new Map,y.DI_TARGET="$di$target",y.DI_DEPENDENCIES="$di$dependencies";function W(A){return A[y.DI_DEPENDENCIES]||[]}y.getServiceDependencies=W})(C||(C={}));const d=O("instantiationService");function z(y,W,A){W[C.DI_TARGET]===W?W[C.DI_DEPENDENCIES].push({id:y,index:A}):(W[C.DI_DEPENDENCIES]=[{id:y,index:A}],W[C.DI_TARGET]=W)}function O(y){if(C.serviceIds.has(y))return C.serviceIds.get(y);const W=function(A,M,I){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");z(W,A,I)};return W.toString=()=>y,C.serviceIds.set(y,W),W}},85549:function(it,Ee,l){"use strict";l.d(Ee,{y:function(){return C}});class C{constructor(...z){this._entries=new Map;for(let[O,y]of z)this.set(O,y)}set(z,O){const y=this._entries.get(z);return this._entries.set(z,O),y}get(z){return this._entries.get(z)}}},82393:function(it,Ee,l){"use strict";l.d(Ee,{I:function(){return z}});var C=l(60774),d=l(1062);const z={JSONContribution:"base.contributions.json"};function O(A){return A.length>0&&A.charAt(A.length-1)==="#"?A.substring(0,A.length-1):A}class y{constructor(){this._onDidChangeSchema=new C.Q5,this.schemasById={}}registerSchema(M,I){this.schemasById[O(M)]=I,this._onDidChangeSchema.fire(M)}notifySchemaChanged(M){this._onDidChangeSchema.fire(M)}}const W=new y;d.B.add(z.JSONContribution,W)},49622:function(it,Ee,l){"use strict";l.d(Ee,{d:function(){return d}});var C=l(95024);const d=(0,C.yh)("keybindingService")},82918:function(it,Ee,l){"use strict";l.d(Ee,{W:function(){return W}});var C=l(66534),d=l(24180),z=l(58829),O=l(1062);class y{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(w){if(d.OS===1){if(w&&w.win)return w.win}else if(d.OS===2){if(w&&w.mac)return w.mac}else if(w&&w.linux)return w.linux;return w}registerKeybindingRule(w){const _=y.bindToCurrentPlatform(w);if(_&&_.primary){const f=(0,C.gm)(_.primary,d.OS);f&&this._registerDefaultKeybinding(f,w.id,w.args,w.weight,0,w.when)}if(_&&Array.isArray(_.secondary))for(let f=0,m=_.secondary.length;f<m;f++){const a=_.secondary[f],x=(0,C.gm)(a,d.OS);x&&this._registerDefaultKeybinding(x,w.id,w.args,w.weight,-f-1,w.when)}}registerCommandAndKeybindingRule(w){this.registerKeybindingRule(w),z.P0.registerCommand(w)}static _mightProduceChar(w){return w>=21&&w<=30||w>=31&&w<=56?!0:w===80||w===81||w===82||w===83||w===84||w===85||w===86||w===110||w===111||w===87||w===88||w===89||w===90||w===91||w===92}_assertNoCtrlAlt(w,_){w.ctrlKey&&w.altKey&&!w.metaKey&&y._mightProduceChar(w.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",w," for ",_)}_registerDefaultKeybinding(w,_,f,m,a,x){d.OS===1&&this._assertNoCtrlAlt(w.parts[0],_),this._coreKeybindings.push({keybinding:w.parts,command:_,commandArgs:f,when:x,weight1:m,weight2:a,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(M)),this._cachedMergedKeybindings.slice(0)}}const W=new y,A={EditorModes:"platform.keybindingsRegistry"};O.B.add(A.EditorModes,W);function M(I,w){return I.weight1!==w.weight1?I.weight1-w.weight1:I.command<w.command?-1:I.command>w.command?1:I.weight2-w.weight2}},51318:function(it,Ee,l){"use strict";l.d(Ee,{e:function(){return d}});var C=l(95024);const d=(0,C.yh)("labelService")},1296:function(it,Ee,l){"use strict";l.d(Ee,{Lw:function(){return Si},XN:function(){return Di},ls:function(){return qo},ev:function(){return bo},CQ:function(){return Pi},PS:function(){return It},uJ:function(){return on}});var C=l(50082),d=l(825),z=l(34484),O=l(60774),y=l(1405),W=l(23838),A=l(96653);class M{constructor(G,q){this.renderer=G,this.modelProvider=q}get templateId(){return this.renderer.templateId}renderTemplate(G){return{data:this.renderer.renderTemplate(G),disposable:y.JT.None}}renderElement(G,q,fe,p){if(fe.disposable&&fe.disposable.dispose(),!fe.data)return;const F=this.modelProvider();if(F.isResolved(G))return this.renderer.renderElement(F.get(G),G,fe.data,p);const Z=new z.A,de=F.resolve(G,Z.token);fe.disposable={dispose:()=>Z.cancel()},this.renderer.renderPlaceholder(G,fe.data),de.then(pe=>this.renderer.renderElement(pe,G,fe.data,p))}disposeTemplate(G){G.disposable&&(G.disposable.dispose(),G.disposable=void 0),G.data&&(this.renderer.disposeTemplate(G.data),G.data=void 0)}}class I{constructor(G,q){this.modelProvider=G,this.accessibilityProvider=q}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(G){const q=this.modelProvider();return q.isResolved(G)?this.accessibilityProvider.getAriaLabel(q.get(G)):null}}function w(tn,G){return Object.assign(Object.assign({},G),{accessibilityProvider:G.accessibilityProvider&&new I(tn,G.accessibilityProvider)})}class _{constructor(G,q,fe,p,F={}){const Z=()=>this.model,de=p.map(pe=>new M(pe,Z));this.list=new A.aV(G,q,fe,de,w(Z,F))}updateOptions(G){this.list.updateOptions(G)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return O.ju.map(this.list.onMouseDblClick,({element:G,index:q,browserEvent:fe})=>({element:G===void 0?void 0:this._model.get(G),index:q,browserEvent:fe}))}get onPointer(){return O.ju.map(this.list.onPointer,({element:G,index:q,browserEvent:fe})=>({element:G===void 0?void 0:this._model.get(G),index:q,browserEvent:fe}))}get onDidChangeSelection(){return O.ju.map(this.list.onDidChangeSelection,({elements:G,indexes:q,browserEvent:fe})=>({elements:G.map(p=>this._model.get(p)),indexes:q,browserEvent:fe}))}get model(){return this._model}set model(G){this._model=G,this.list.splice(0,this.list.length,(0,d.w6)(G.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(G=>this.model.get(G))}style(G){this.list.style(G)}dispose(){this.list.dispose()}}var f=l(61350);class m{constructor(G,q,fe){this.columns=G,this.getColumnSize=fe,this.templateId=m.TemplateId,this.renderedTemplates=new Set;const p=new Map(q.map(F=>[F.templateId,F]));this.renderers=[];for(const F of G){const Z=p.get(F.templateId);if(!Z)throw new Error(`Table cell renderer for template id ${F.templateId} not found.`);this.renderers.push(Z)}}renderTemplate(G){const q=(0,C.R3)(G,(0,C.$)(".monaco-table-tr")),fe=[],p=[];for(let Z=0;Z<this.columns.length;Z++){const de=this.renderers[Z],pe=(0,C.R3)(q,(0,C.$)(".monaco-table-td",{"data-col-index":Z}));pe.style.width=`${this.getColumnSize(Z)}px`,fe.push(pe),p.push(de.renderTemplate(pe))}const F={container:G,cellContainers:fe,cellTemplateData:p};return this.renderedTemplates.add(F),F}renderElement(G,q,fe,p){for(let F=0;F<this.columns.length;F++){const de=this.columns[F].project(G);this.renderers[F].renderElement(de,q,fe.cellTemplateData[F],p)}}disposeElement(G,q,fe,p){for(let F=0;F<this.columns.length;F++){const Z=this.renderers[F];if(Z.disposeElement){const pe=this.columns[F].project(G);Z.disposeElement(pe,q,fe.cellTemplateData[F],p)}}}disposeTemplate(G){for(let q=0;q<this.columns.length;q++)this.renderers[q].disposeTemplate(G.cellTemplateData[q]);(0,C.PO)(G.container),this.renderedTemplates.delete(G)}layoutColumn(G,q){for(const{cellContainers:fe}of this.renderedTemplates)fe[G].style.width=`${q}px`}}m.TemplateId="row";function a(tn){return{getHeight(G){return tn.getHeight(G)},getTemplateId(){return m.TemplateId}}}class x{constructor(G,q){this.column=G,this.index=q,this._onDidLayout=new O.Q5,this.onDidLayout=this._onDidLayout.event,this.element=(0,C.$)(".monaco-table-th",{"data-col-index":q,title:G.tooltip},G.label)}get minimumSize(){var G;return(G=this.column.minimumWidth)!==null&&G!==void 0?G:120}get maximumSize(){var G;return(G=this.column.maximumWidth)!==null&&G!==void 0?G:Number.POSITIVE_INFINITY}get onDidChange(){var G;return(G=this.column.onDidChangeWidthConstraints)!==null&&G!==void 0?G:O.ju.None}layout(G){this._onDidLayout.fire([this.index,G])}}class k{constructor(G,q,fe,p,F,Z){this.virtualDelegate=fe,this.domId=`table_id_${++k.InstanceCount}`,this.disposables=new y.SL,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,C.R3)(q,(0,C.$)(`.monaco-table.${this.domId}`));const de=p.map((st,ot)=>new x(st,ot)),pe={size:de.reduce((st,ot)=>st+ot.column.weight,0),views:de.map(st=>({size:st.column.weight,view:st}))};this.splitview=this.disposables.add(new f.z(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:pe})),this.splitview.el.style.height=`${fe.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${fe.headerRowHeight}px`;const Ie=new m(p,F,st=>this.splitview.getViewSize(st));this.list=this.disposables.add(new A.aV(G,this.domNode,a(fe),[Ie],Z)),O.ju.any(...de.map(st=>st.onDidLayout))(([st,ot])=>Ie.layoutColumn(st,ot),null,this.disposables),this.splitview.onDidSashReset(st=>{const ot=p.reduce((mt,xt)=>mt+xt.weight,0),pt=p[st].weight/ot*this.cachedWidth;this.splitview.resizeView(st,pt)},null,this.disposables),this.styleElement=(0,C.dS)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(G){this.list.updateOptions(G)}splice(G,q,fe=[]){this.list.splice(G,q,fe)}getHTMLElement(){return this.domNode}style(G){const q=[];q.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=q.join(`
`),this.list.style(G)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}k.InstanceCount=0;var T=l(77964),N=l(78333),L=l(30053),R=l(16259),b;(function(tn){tn[tn.Unknown=0]="Unknown",tn[tn.Twistie=1]="Twistie",tn[tn.Element=2]="Element"})(b||(b={}));class P extends Error{constructor(G,q){super(`TreeError [${G}] ${q}`)}}class V{constructor(G){this.fn=G,this._map=new WeakMap}map(G){let q=this._map.get(G);return q||(q=this.fn(G),this._map.set(G,q)),q}}var H=l(57186),ee=l(42946),ae=l(80050);function me(tn){return typeof tn=="object"&&"visibility"in tn&&"data"in tn}function ge(tn){switch(tn){case!0:return 1;case!1:return 0;default:return tn}}function re(tn){return typeof tn.collapsible=="boolean"}class se{constructor(G,q,fe,p={}){this.user=G,this.list=q,this.rootRef=[],this.eventBufferer=new O.E7,this._onDidChangeCollapseState=new O.Q5,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new O.Q5,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new O.Q5,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new H.vp(H.ne),this.collapseByDefault=typeof p.collapseByDefault=="undefined"?!1:p.collapseByDefault,this.filter=p.filter,this.autoExpandSingleChildren=typeof p.autoExpandSingleChildren=="undefined"?!1:p.autoExpandSingleChildren,this.root={parent:void 0,element:fe,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(G,q,fe=ae.$.empty(),p={}){if(G.length===0)throw new P(this.user,"Invalid tree location");p.diffIdentityProvider?this.spliceSmart(p.diffIdentityProvider,G,q,fe,p):this.spliceSimple(G,q,fe,p)}spliceSmart(G,q,fe,p,F,Z){var de;p===void 0&&(p=ae.$.empty()),Z===void 0&&(Z=(de=F.diffDepth)!==null&&de!==void 0?de:0);const{parentNode:pe}=this.getParentNodeWithListIndex(q);if(!pe.lastDiffIds)return this.spliceSimple(q,fe,p,F);const Ie=[...p],st=q[q.length-1],ot=new ee.Hs({getElements:()=>pe.lastDiffIds},{getElements:()=>[...pe.children.slice(0,st),...Ie,...pe.children.slice(st+fe)].map(wt=>G.getId(wt.element).toString())}).ComputeDiff(!1);if(ot.quitEarly)return pe.lastDiffIds=void 0,this.spliceSimple(q,fe,Ie,F);const pt=q.slice(0,-1),mt=(wt,_n,$n)=>{if(Z>0)for(let Wn=0;Wn<$n;Wn++)wt--,_n--,this.spliceSmart(G,[...pt,wt,0],Number.MAX_SAFE_INTEGER,Ie[_n].children,F,Z-1)};let xt=Math.min(pe.children.length,st+fe),ft=Ie.length;for(const wt of ot.changes.sort((_n,$n)=>$n.originalStart-_n.originalStart))mt(xt,ft,xt-(wt.originalStart+wt.originalLength)),xt=wt.originalStart,ft=wt.modifiedStart-st,this.spliceSimple([...pt,xt],wt.originalLength,ae.$.slice(Ie,ft,ft+wt.modifiedLength),F);mt(xt,ft,xt)}spliceSimple(G,q,fe=ae.$.empty(),{onDidCreateNode:p,onDidDeleteNode:F,diffIdentityProvider:Z}){const{parentNode:de,listIndex:pe,revealed:Ie,visible:st}=this.getParentNodeWithListIndex(G),ot=[],pt=ae.$.map(fe,vi=>this.createTreeNode(vi,de,de.visible?1:0,Ie,ot,p)),mt=G[G.length-1],xt=de.children.length>0;let ft=0;for(let vi=mt;vi>=0&&vi<de.children.length;vi--){const rs=de.children[vi];if(rs.visible){ft=rs.visibleChildIndex;break}}const wt=[];let _n=0,$n=0;for(const vi of pt)wt.push(vi),$n+=vi.renderNodeCount,vi.visible&&(vi.visibleChildIndex=ft+_n++);const Wn=(0,d.db)(de.children,mt,q,wt);Z?de.lastDiffIds?(0,d.db)(de.lastDiffIds,mt,q,wt.map(vi=>Z.getId(vi.element).toString())):de.lastDiffIds=de.children.map(vi=>Z.getId(vi.element).toString()):de.lastDiffIds=void 0;let fi=0;for(const vi of Wn)vi.visible&&fi++;if(fi!==0)for(let vi=mt+wt.length;vi<de.children.length;vi++){const rs=de.children[vi];rs.visible&&(rs.visibleChildIndex-=fi)}if(de.visibleChildrenCount+=_n-fi,Ie&&st){const vi=Wn.reduce((rs,Fs)=>rs+(Fs.visible?Fs.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(de,$n-vi),this.list.splice(pe,vi,ot)}if(Wn.length>0&&F){const vi=rs=>{F(rs),rs.children.forEach(vi)};Wn.forEach(vi)}this._onDidSplice.fire({insertedNodes:wt,deletedNodes:Wn});const Fi=de.children.length>0;xt!==Fi&&this.setCollapsible(G.slice(0,-1),Fi);let jt=de;for(;jt;){if(jt.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}jt=jt.parent}}rerender(G){if(G.length===0)throw new P(this.user,"Invalid tree location");const{node:q,listIndex:fe,revealed:p}=this.getTreeNodeWithListIndex(G);q.visible&&p&&this.list.splice(fe,1,[q])}has(G){return this.hasTreeNode(G)}getListIndex(G){const{listIndex:q,visible:fe,revealed:p}=this.getTreeNodeWithListIndex(G);return fe&&p?q:-1}getListRenderCount(G){return this.getTreeNode(G).renderNodeCount}isCollapsible(G){return this.getTreeNode(G).collapsible}setCollapsible(G,q){const fe=this.getTreeNode(G);typeof q=="undefined"&&(q=!fe.collapsible);const p={collapsible:q};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(G,p))}isCollapsed(G){return this.getTreeNode(G).collapsed}setCollapsed(G,q,fe){const p=this.getTreeNode(G);typeof q=="undefined"&&(q=!p.collapsed);const F={collapsed:q,recursive:fe||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(G,F))}_setCollapseState(G,q){const{node:fe,listIndex:p,revealed:F}=this.getTreeNodeWithListIndex(G),Z=this._setListNodeCollapseState(fe,p,F,q);if(fe!==this.root&&this.autoExpandSingleChildren&&Z&&!re(q)&&fe.collapsible&&!fe.collapsed&&!q.recursive){let de=-1;for(let pe=0;pe<fe.children.length;pe++)if(fe.children[pe].visible)if(de>-1){de=-1;break}else de=pe;de>-1&&this._setCollapseState([...G,de],q)}return Z}_setListNodeCollapseState(G,q,fe,p){const F=this._setNodeCollapseState(G,p,!1);if(!fe||!G.visible||!F)return F;const Z=G.renderNodeCount,de=this.updateNodeAfterCollapseChange(G),pe=Z-(q===-1?0:1);return this.list.splice(q+1,pe,de.slice(1)),F}_setNodeCollapseState(G,q,fe){let p;if(G===this.root?p=!1:(re(q)?(p=G.collapsible!==q.collapsible,G.collapsible=q.collapsible):G.collapsible?(p=G.collapsed!==q.collapsed,G.collapsed=q.collapsed):p=!1,p&&this._onDidChangeCollapseState.fire({node:G,deep:fe})),!re(q)&&q.recursive)for(const F of G.children)p=this._setNodeCollapseState(F,q,!0)||p;return p}expandTo(G){this.eventBufferer.bufferEvents(()=>{let q=this.getTreeNode(G);for(;q.parent;)q=q.parent,G=G.slice(0,G.length-1),q.collapsed&&this._setCollapseState(G,{collapsed:!1,recursive:!1})})}refilter(){const G=this.root.renderNodeCount,q=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,G,q),this.refilterDelayer.cancel()}createTreeNode(G,q,fe,p,F,Z){const de={parent:q,element:G.element,children:[],depth:q.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof G.collapsible=="boolean"?G.collapsible:typeof G.collapsed!="undefined",collapsed:typeof G.collapsed=="undefined"?this.collapseByDefault:G.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},pe=this._filterNode(de,fe);de.visibility=pe,p&&F.push(de);const Ie=G.children||ae.$.empty(),st=p&&pe!==0&&!de.collapsed,ot=ae.$.map(Ie,xt=>this.createTreeNode(xt,de,pe,st,F,Z));let pt=0,mt=1;for(const xt of ot)de.children.push(xt),mt+=xt.renderNodeCount,xt.visible&&(xt.visibleChildIndex=pt++);return de.collapsible=de.collapsible||de.children.length>0,de.visibleChildrenCount=pt,de.visible=pe===2?pt>0:pe===1,de.visible?de.collapsed||(de.renderNodeCount=mt):(de.renderNodeCount=0,p&&F.pop()),Z&&Z(de),de}updateNodeAfterCollapseChange(G){const q=G.renderNodeCount,fe=[];return this._updateNodeAfterCollapseChange(G,fe),this._updateAncestorsRenderNodeCount(G.parent,fe.length-q),fe}_updateNodeAfterCollapseChange(G,q){if(G.visible===!1)return 0;if(q.push(G),G.renderNodeCount=1,!G.collapsed)for(const fe of G.children)G.renderNodeCount+=this._updateNodeAfterCollapseChange(fe,q);return this._onDidChangeRenderNodeCount.fire(G),G.renderNodeCount}updateNodeAfterFilterChange(G){const q=G.renderNodeCount,fe=[];return this._updateNodeAfterFilterChange(G,G.visible?1:0,fe),this._updateAncestorsRenderNodeCount(G.parent,fe.length-q),fe}_updateNodeAfterFilterChange(G,q,fe,p=!0){let F;if(G!==this.root){if(F=this._filterNode(G,q),F===0)return G.visible=!1,G.renderNodeCount=0,!1;p&&fe.push(G)}const Z=fe.length;G.renderNodeCount=G===this.root?0:1;let de=!1;if(!G.collapsed||F!==0){let pe=0;for(const Ie of G.children)de=this._updateNodeAfterFilterChange(Ie,F,fe,p&&!G.collapsed)||de,Ie.visible&&(Ie.visibleChildIndex=pe++);G.visibleChildrenCount=pe}else G.visibleChildrenCount=0;return G!==this.root&&(G.visible=F===2?de:F===1,G.visibility=F),G.visible?G.collapsed||(G.renderNodeCount+=fe.length-Z):(G.renderNodeCount=0,p&&fe.pop()),this._onDidChangeRenderNodeCount.fire(G),G.visible}_updateAncestorsRenderNodeCount(G,q){if(q!==0)for(;G;)G.renderNodeCount+=q,this._onDidChangeRenderNodeCount.fire(G),G=G.parent}_filterNode(G,q){const fe=this.filter?this.filter.filter(G.element,q):1;return typeof fe=="boolean"?(G.filterData=void 0,fe?1:0):me(fe)?(G.filterData=fe.data,ge(fe.visibility)):(G.filterData=void 0,ge(fe))}hasTreeNode(G,q=this.root){if(!G||G.length===0)return!0;const[fe,...p]=G;return fe<0||fe>q.children.length?!1:this.hasTreeNode(p,q.children[fe])}getTreeNode(G,q=this.root){if(!G||G.length===0)return q;const[fe,...p]=G;if(fe<0||fe>q.children.length)throw new P(this.user,"Invalid tree location");return this.getTreeNode(p,q.children[fe])}getTreeNodeWithListIndex(G){if(G.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:q,listIndex:fe,revealed:p,visible:F}=this.getParentNodeWithListIndex(G),Z=G[G.length-1];if(Z<0||Z>q.children.length)throw new P(this.user,"Invalid tree location");const de=q.children[Z];return{node:de,listIndex:fe,revealed:p,visible:F&&de.visible}}getParentNodeWithListIndex(G,q=this.root,fe=0,p=!0,F=!0){const[Z,...de]=G;if(Z<0||Z>q.children.length)throw new P(this.user,"Invalid tree location");for(let pe=0;pe<Z;pe++)fe+=q.children[pe].renderNodeCount;return p=p&&!q.collapsed,F=F&&q.visible,de.length===0?{parentNode:q,listIndex:fe,revealed:p,visible:F}:this.getParentNodeWithListIndex(de,q.children[Z],fe+1,p,F)}getNode(G=[]){return this.getTreeNode(G)}getNodeLocation(G){const q=[];let fe=G;for(;fe.parent;)q.push(fe.parent.children.indexOf(fe)),fe=fe.parent;return q.reverse()}getParentNodeLocation(G){if(G.length!==0)return G.length===1?[]:(0,d.JH)(G)[0]}getFirstElementChild(G){const q=this.getTreeNode(G);if(q.children.length!==0)return q.children[0].element}}var X=l(74696),$=l(32926),j=l(79669),ie=l(48641),J=l(24180),oe=l(82215);class ce extends T.kX{constructor(G){super(G.elements.map(q=>q.element)),this.data=G}}function we(tn){return tn instanceof T.kX?new ce(tn):tn}class Me{constructor(G,q){this.modelProvider=G,this.dnd=q,this.autoExpandDisposable=y.JT.None}getDragURI(G){return this.dnd.getDragURI(G.element)}getDragLabel(G,q){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(G.map(fe=>fe.element),q)}onDragStart(G,q){this.dnd.onDragStart&&this.dnd.onDragStart(we(G),q)}onDragOver(G,q,fe,p,F=!0){const Z=this.dnd.onDragOver(we(G),q&&q.element,fe,p),de=this.autoExpandNode!==q;if(de&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=q),typeof q=="undefined")return Z;if(de&&typeof Z!="boolean"&&Z.autoExpand&&(this.autoExpandDisposable=(0,H.Vg)(()=>{const pt=this.modelProvider(),mt=pt.getNodeLocation(q);pt.isCollapsed(mt)&&pt.setCollapsed(mt,!1),this.autoExpandNode=void 0},500)),typeof Z=="boolean"||!Z.accept||typeof Z.bubble=="undefined"||Z.feedback){if(!F){const pt=typeof Z=="boolean"?Z:Z.accept,mt=typeof Z=="boolean"?void 0:Z.effect;return{accept:pt,effect:mt,feedback:[fe]}}return Z}if(Z.bubble===1){const pt=this.modelProvider(),mt=pt.getNodeLocation(q),xt=pt.getParentNodeLocation(mt),ft=pt.getNode(xt),wt=xt&&pt.getListIndex(xt);return this.onDragOver(G,ft,wt,p,!1)}const pe=this.modelProvider(),Ie=pe.getNodeLocation(q),st=pe.getListIndex(Ie),ot=pe.getListRenderCount(Ie);return Object.assign(Object.assign({},Z),{feedback:(0,d.w6)(st,st+ot)})}drop(G,q,fe,p){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(we(G),q&&q.element,fe,p)}onDragEnd(G){this.dnd.onDragEnd&&this.dnd.onDragEnd(G)}}function Ke(tn,G){return G&&Object.assign(Object.assign({},G),{identityProvider:G.identityProvider&&{getId(q){return G.identityProvider.getId(q.element)}},dnd:G.dnd&&new Me(tn,G.dnd),multipleSelectionController:G.multipleSelectionController&&{isSelectionSingleChangeEvent(q){return G.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},q),{element:q.element}))},isSelectionRangeChangeEvent(q){return G.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},q),{element:q.element}))}},accessibilityProvider:G.accessibilityProvider&&Object.assign(Object.assign({},G.accessibilityProvider),{getSetSize(q){const fe=tn(),p=fe.getNodeLocation(q),F=fe.getParentNodeLocation(p);return fe.getNode(F).visibleChildrenCount},getPosInSet(q){return q.visibleChildIndex+1},isChecked:G.accessibilityProvider&&G.accessibilityProvider.isChecked?q=>G.accessibilityProvider.isChecked(q.element):void 0,getRole:G.accessibilityProvider&&G.accessibilityProvider.getRole?q=>G.accessibilityProvider.getRole(q.element):()=>"treeitem",getAriaLabel(q){return G.accessibilityProvider.getAriaLabel(q.element)},getWidgetAriaLabel(){return G.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:G.accessibilityProvider&&G.accessibilityProvider.getWidgetRole?()=>G.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:G.accessibilityProvider&&G.accessibilityProvider.getAriaLevel?q=>G.accessibilityProvider.getAriaLevel(q.element):q=>q.depth,getActiveDescendantId:G.accessibilityProvider.getActiveDescendantId&&(q=>G.accessibilityProvider.getActiveDescendantId(q.element))}),keyboardNavigationLabelProvider:G.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},G.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(q){return G.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(q.element)}}),enableKeyboardNavigation:G.simpleKeyboardNavigation})}class De{constructor(G){this.delegate=G}getHeight(G){return this.delegate.getHeight(G.element)}getTemplateId(G){return this.delegate.getTemplateId(G.element)}hasDynamicHeight(G){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(G.element)}setDynamicHeight(G,q){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(G.element,q)}}var be;(function(tn){tn.None="none",tn.OnHover="onHover",tn.Always="always"})(be||(be={}));class We{constructor(G,q=[]){this._elements=q,this.onDidChange=O.ju.forEach(G,fe=>this._elements=fe)}get elements(){return this._elements}}class et{constructor(G,q,fe,p,F={}){this.renderer=G,this.modelProvider=q,this.activeNodes=p,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=et.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new $.r,this.activeIndentNodes=new Set,this.indentGuidesDisposable=y.JT.None,this.disposables=new y.SL,this.templateId=G.templateId,this.updateOptions(F),O.ju.map(fe,Z=>Z.node)(this.onDidChangeNodeTwistieState,this,this.disposables),G.onDidChangeTwistieState&&G.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(G={}){if(typeof G.indent!="undefined"&&(this.indent=(0,ie.uZ)(G.indent,0,40)),typeof G.renderIndentGuides!="undefined"){const q=G.renderIndentGuides!==be.None;if(q!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=q,this.indentGuidesDisposable.dispose(),q)){const fe=new y.SL;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,fe),this.indentGuidesDisposable=fe,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof G.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=G.hideTwistiesOfChildlessElements)}renderTemplate(G){const q=(0,C.R3)(G,(0,C.$)(".monaco-tl-row")),fe=(0,C.R3)(q,(0,C.$)(".monaco-tl-indent")),p=(0,C.R3)(q,(0,C.$)(".monaco-tl-twistie")),F=(0,C.R3)(q,(0,C.$)(".monaco-tl-contents")),Z=this.renderer.renderTemplate(F);return{container:G,indent:fe,twistie:p,indentGuidesDisposable:y.JT.None,templateData:Z}}renderElement(G,q,fe,p){typeof p=="number"&&(this.renderedNodes.set(G,{templateData:fe,height:p}),this.renderedElements.set(G.element,G));const F=et.DefaultIndent+(G.depth-1)*this.indent;fe.twistie.style.paddingLeft=`${F}px`,fe.indent.style.width=`${F+this.indent-16}px`,this.renderTwistie(G,fe),typeof p=="number"&&this.renderIndentGuides(G,fe),this.renderer.renderElement(G,q,fe.templateData,p)}disposeElement(G,q,fe,p){fe.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(G,q,fe.templateData,p),typeof p=="number"&&(this.renderedNodes.delete(G),this.renderedElements.delete(G.element))}disposeTemplate(G){this.renderer.disposeTemplate(G.templateData)}onDidChangeTwistieState(G){const q=this.renderedElements.get(G);!q||this.onDidChangeNodeTwistieState(q)}onDidChangeNodeTwistieState(G){const q=this.renderedNodes.get(G);!q||(this.renderTwistie(G,q.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(G,q.templateData))}renderTwistie(G,q){q.twistie.classList.remove(...X.lA.treeItemExpanded.classNamesArray);let fe=!1;this.renderer.renderTwistie&&(fe=this.renderer.renderTwistie(G.element,q.twistie)),G.collapsible&&(!this.hideTwistiesOfChildlessElements||G.visibleChildrenCount>0)?(fe||q.twistie.classList.add(...X.lA.treeItemExpanded.classNamesArray),q.twistie.classList.add("collapsible"),q.twistie.classList.toggle("collapsed",G.collapsed)):q.twistie.classList.remove("collapsible","collapsed"),G.collapsible?q.container.setAttribute("aria-expanded",String(!G.collapsed)):q.container.removeAttribute("aria-expanded")}renderIndentGuides(G,q){if((0,C.PO)(q.indent),q.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const fe=new y.SL,p=this.modelProvider();let F=G;for(;;){const Z=p.getNodeLocation(F),de=p.getParentNodeLocation(Z);if(!de)break;const pe=p.getNode(de),Ie=(0,C.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(pe)&&Ie.classList.add("active"),q.indent.childElementCount===0?q.indent.appendChild(Ie):q.indent.insertBefore(Ie,q.indent.firstElementChild),this.renderedIndentGuides.add(pe,Ie),fe.add((0,y.OF)(()=>this.renderedIndentGuides.delete(pe,Ie))),F=pe}q.indentGuidesDisposable=fe}_onDidChangeActiveNodes(G){if(!this.shouldRenderIndentGuides)return;const q=new Set,fe=this.modelProvider();G.forEach(p=>{const F=fe.getNodeLocation(p);try{const Z=fe.getParentNodeLocation(F);p.collapsible&&p.children.length>0&&!p.collapsed?q.add(p):Z&&q.add(fe.getNode(Z))}catch(Z){}}),this.activeIndentNodes.forEach(p=>{q.has(p)||this.renderedIndentGuides.forEach(p,F=>F.classList.remove("active"))}),q.forEach(p=>{this.activeIndentNodes.has(p)||this.renderedIndentGuides.forEach(p,F=>F.classList.add("active"))}),this.activeIndentNodes=q}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,y.B9)(this.disposables)}}et.DefaultIndent=8;class Kt{constructor(G,q,fe){this.tree=G,this.keyboardNavigationLabelProvider=q,this._filter=fe,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new y.SL,G.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(G){this._pattern=G,this._lowercasePattern=G.toLowerCase()}filter(G,q){if(this._filter){const F=this._filter.filter(G,q);if(this.tree.options.simpleKeyboardNavigation)return F;let Z;if(typeof F=="boolean"?Z=F?1:0:me(F)?Z=ge(F.visibility):Z=F,Z===0)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:j.CL.Default,visibility:!0};const fe=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(G),p=Array.isArray(fe)?fe:[fe];for(const F of p){const Z=F&&F.toString();if(typeof Z=="undefined")return{data:j.CL.Default,visibility:!0};const de=(0,j.EW)(this._pattern,this._lowercasePattern,0,Z,Z.toLowerCase(),0,!0);if(de)return this._matchCount++,p.length===1?{data:de,visibility:!0}:{data:{label:Z,score:de},visibility:!0}}return this.tree.options.filterOnType?2:{data:j.CL.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,y.B9)(this.disposables)}}class _t{constructor(G,q,fe,p,F){this.tree=G,this.view=fe,this.filter=p,this.keyboardNavigationDelegate=F,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new O.Q5,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new O.Q5,this.enabledDisposables=new y.SL,this.disposables=new y.SL,this.domNode=(0,C.$)(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add((0,C.nm)(this.domNode,"dragstart",()=>this.onDragStart())),this.messageDomNode=(0,C.R3)(fe.getHTMLElement(),(0,C.$)(".monaco-list-type-filter-message")),this.labelDomNode=(0,C.R3)(this.domNode,(0,C.$)("span.label"));const Z=(0,C.R3)(this.domNode,(0,C.$)(".controls"));this._filterOnType=!!G.options.filterOnType,this.filterOnTypeDomNode=(0,C.R3)(Z,(0,C.$)("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add((0,C.nm)(this.filterOnTypeDomNode,"input",()=>this.onDidChangeFilterOnType())),this.clearDomNode=(0,C.R3)(Z,(0,C.$)("button.clear"+X.lA.treeFilterClear.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=(0,oe.N)("clear","Clear"),this.keyboardNavigationEventFilter=G.options.keyboardNavigationEventFilter,q.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(G.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(G){G.simpleKeyboardNavigation?this.disable():this.enable(),typeof G.filterOnType!="undefined"&&(this._filterOnType=!!G.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),typeof G.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=G.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const G=this.enabledDisposables.add(new L.Y(this.view.getHTMLElement(),"keydown")),q=O.ju.chain(G.event).filter(p=>!(0,A.cK)(p.target)||p.target===this.filterOnTypeDomNode).filter(p=>p.key!=="Dead"&&!/^Media/.test(p.key)).map(p=>new R.y(p)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(p=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(p)&&!(p.keyCode===18||p.keyCode===16||p.keyCode===15||p.keyCode===17)||(this.pattern.length>0||this.triggered)&&(p.keyCode===9||p.keyCode===1)&&!p.altKey&&!p.ctrlKey&&!p.metaKey||p.keyCode===1&&(J.dz?p.altKey&&!p.metaKey:p.ctrlKey)&&!p.shiftKey).forEach(p=>{p.stopPropagation(),p.preventDefault()}).event,fe=this.enabledDisposables.add(new L.Y(this.clearDomNode,"click"));O.ju.chain(O.ju.any(q,fe.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){!this._enabled||(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(G){typeof G=="string"?this.onInput(G):G instanceof MouseEvent||G.keyCode===9||G.keyCode===1&&(J.dz?G.altKey:G.ctrlKey)?this.onInput(""):G.keyCode===1?this.onInput(this.pattern.length===0?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+G.browserEvent.key)}onInput(G){const q=this.view.getHTMLElement();G&&!this.domNode.parentElement?q.append(this.domNode):!G&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=G,this._onDidChangePattern.fire(G),this.filter.pattern=G,this.tree.refilter(),G&&this.tree.focusNext(0,!0,void 0,p=>!j.CL.isDefault(p.filterData));const fe=this.tree.getFocus();if(fe.length>0){const p=fe[0];this.tree.getRelativeTop(p)===null&&this.tree.reveal(p,.5)}this.render(),G||(this.triggered=!1)}onDragStart(){const G=this.view.getHTMLElement(),{left:q}=(0,C.i)(G),fe=G.clientWidth,p=fe/2,F=this.domNode.clientWidth,Z=new y.SL;let de=this.positionClassName;const pe=()=>{switch(de){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=`${fe-F-6}px`;break}},Ie=ot=>{ot.preventDefault();const pt=ot.clientX-q;ot.dataTransfer&&(ot.dataTransfer.dropEffect="none"),pt<p?de="nw":de="ne",pe()},st=()=>{this.positionClassName=de,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",(0,y.B9)(Z)};pe(),this.domNode.classList.remove(de),this.domNode.classList.add("dragging"),Z.add((0,y.OF)(()=>this.domNode.classList.remove("dragging"))),Z.add((0,C.nm)(document,"dragover",ot=>Ie(ot))),Z.add((0,C.nm)(this.domNode,"dragend",()=>st())),N.P$.CurrentDragAndDropData=new N.TN("vscode-ui"),Z.add((0,y.OF)(()=>N.P$.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||this.pattern.length===0||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...X.lA.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.classList.add(...X.lA.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.title=(0,oe.N)("disable filter on type","Disable Filter on Type")):(this.filterOnTypeDomNode.classList.remove(...X.lA.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.classList.add(...X.lA.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.title=(0,oe.N)("enable filter on type","Enable Filter on Type"))}render(){const G=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&this.tree.options.filterOnType&&G?(this.messageDomNode.textContent=(0,oe.N)("empty","No elements found"),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",G),this.domNode.title=(0,oe.N)("found","Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(G){return!this.enabled||!this.pattern||this.filterOnType||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!j.CL.isDefault(G.filterData)}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),(0,y.B9)(this.disposables)}}function tt(tn){let G=b.Unknown;return(0,C.uU)(tn.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?G=b.Twistie:(0,C.uU)(tn.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(G=b.Element),{browserEvent:tn.browserEvent,element:tn.element?tn.element.element:null,target:G}}function kt(tn,G){G(tn),tn.children.forEach(q=>kt(q,G))}class Ut{constructor(G,q){this.getFirstViewElementWithTrait=G,this.identityProvider=q,this.nodes=[],this._onDidChange=new O.Q5,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(G,q){!(q!=null&&q.__forceEvent)&&(0,d.fS)(this.nodes,G)||this._set(G,!1,q)}_set(G,q,fe){if(this.nodes=[...G],this.elements=void 0,this._nodeSet=void 0,!q){const p=this;this._onDidChange.fire({get elements(){return p.get()},browserEvent:fe})}}get(){return this.elements||(this.elements=this.nodes.map(G=>G.element)),[...this.elements]}getNodes(){return this.nodes}has(G){return this.nodeSet.has(G)}onDidModelSplice({insertedNodes:G,deletedNodes:q}){if(!this.identityProvider){const pe=this.createNodeSet(),Ie=st=>pe.delete(st);q.forEach(st=>kt(st,Ie)),this.set([...pe.values()]);return}const fe=new Set,p=pe=>fe.add(this.identityProvider.getId(pe.element).toString());q.forEach(pe=>kt(pe,p));const F=new Map,Z=pe=>F.set(this.identityProvider.getId(pe.element).toString(),pe);G.forEach(pe=>kt(pe,Z));const de=[];for(const pe of this.nodes){const Ie=this.identityProvider.getId(pe.element).toString();if(!fe.has(Ie))de.push(pe);else{const ot=F.get(Ie);ot&&de.push(ot)}}if(this.nodes.length>0&&de.length===0){const pe=this.getFirstViewElementWithTrait();pe&&de.push(pe)}this._set(de,!0)}createNodeSet(){const G=new Set;for(const q of this.nodes)G.add(q);return G}}class Ft extends A.sx{constructor(G,q){super(G),this.tree=q}onViewPointer(G){if((0,A.cK)(G.browserEvent.target)||(0,A.hD)(G.browserEvent.target))return;const q=G.element;if(!q)return super.onViewPointer(G);if(this.isSelectionRangeChangeEvent(G)||this.isSelectionSingleChangeEvent(G))return super.onViewPointer(G);const fe=G.browserEvent.target,p=fe.classList.contains("monaco-tl-twistie")||fe.classList.contains("monaco-icon-label")&&fe.classList.contains("folder-icon")&&G.browserEvent.offsetX<16;let F=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?F=this.tree.expandOnlyOnTwistieClick(q.element):F=!!this.tree.expandOnlyOnTwistieClick,F&&!p&&G.browserEvent.detail!==2)return super.onViewPointer(G);if(!this.tree.expandOnDoubleClick&&G.browserEvent.detail===2)return super.onViewPointer(G);if(q.collapsible){const Z=this.tree.model,de=Z.getNodeLocation(q),pe=G.browserEvent.altKey;if(this.tree.setFocus([de]),Z.setCollapsed(de,void 0,pe),F&&p)return}super.onViewPointer(G)}onDoubleClick(G){G.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(G)}}class Te extends A.aV{constructor(G,q,fe,p,F,Z,de,pe){super(G,q,fe,p,pe),this.focusTrait=F,this.selectionTrait=Z,this.anchorTrait=de}createMouseController(G){return new Ft(this,G.tree)}splice(G,q,fe=[]){if(super.splice(G,q,fe),fe.length===0)return;const p=[],F=[];let Z;fe.forEach((de,pe)=>{this.focusTrait.has(de)&&p.push(G+pe),this.selectionTrait.has(de)&&F.push(G+pe),this.anchorTrait.has(de)&&(Z=G+pe)}),p.length>0&&super.setFocus((0,d.EB)([...super.getFocus(),...p])),F.length>0&&super.setSelection((0,d.EB)([...super.getSelection(),...F])),typeof Z=="number"&&super.setAnchor(Z)}setFocus(G,q,fe=!1){super.setFocus(G,q),fe||this.focusTrait.set(G.map(p=>this.element(p)),q)}setSelection(G,q,fe=!1){super.setSelection(G,q),fe||this.selectionTrait.set(G.map(p=>this.element(p)),q)}setAnchor(G,q=!1){super.setAnchor(G),q||(typeof G=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(G)]))}}class Ge{constructor(G,q,fe,p,F={}){this._user=G,this._options=F,this.eventBufferer=new O.E7,this.disposables=new y.SL,this._onWillRefilter=new O.Q5,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new O.Q5;const Z=new De(fe),de=new O.ZD,pe=new O.ZD,Ie=new We(pe.event);this.renderers=p.map(pt=>new et(pt,()=>this.model,de.event,Ie,F));for(let pt of this.renderers)this.disposables.add(pt);let st;F.keyboardNavigationLabelProvider&&(st=new Kt(this,F.keyboardNavigationLabelProvider,F.filter),F=Object.assign(Object.assign({},F),{filter:st}),this.disposables.add(st)),this.focus=new Ut(()=>this.view.getFocusedElements()[0],F.identityProvider),this.selection=new Ut(()=>this.view.getSelectedElements()[0],F.identityProvider),this.anchor=new Ut(()=>this.view.getAnchorElement(),F.identityProvider),this.view=new Te(G,q,Z,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},Ke(()=>this.model,F)),{tree:this})),this.model=this.createModel(G,this.view,F),de.input=this.model.onDidChangeCollapseState;const ot=O.ju.forEach(this.model.onDidSplice,pt=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(pt),this.selection.onDidModelSplice(pt)})});if(ot(()=>null,null,this.disposables),pe.input=O.ju.chain(O.ju.any(ot,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const pt=new Set;for(const mt of this.focus.getNodes())pt.add(mt);for(const mt of this.selection.getNodes())pt.add(mt);return[...pt.values()]}).event,F.keyboardSupport!==!1){const pt=O.ju.chain(this.view.onKeyDown).filter(mt=>!(0,A.cK)(mt.target)).map(mt=>new R.y(mt));pt.filter(mt=>mt.keyCode===15).on(this.onLeftArrow,this,this.disposables),pt.filter(mt=>mt.keyCode===17).on(this.onRightArrow,this,this.disposables),pt.filter(mt=>mt.keyCode===10).on(this.onSpace,this,this.disposables)}if(F.keyboardNavigationLabelProvider){const pt=F.keyboardNavigationDelegate||A.WK;this.typeFilterController=new _t(this,this.model,this.view,st,pt),this.focusNavigationFilter=mt=>this.typeFilterController.shouldAllowFocus(mt),this.disposables.add(this.typeFilterController)}this.styleElement=(0,C.dS)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===be.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return O.ju.map(this.view.onMouseDblClick,tt)}get onPointer(){return O.ju.map(this.view.onPointer,tt)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return O.ju.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(G={}){this._options=Object.assign(Object.assign({},this._options),G);for(const q of this.renderers)q.updateOptions(G);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===be.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(G){this.view.scrollTop=G}domFocus(){this.view.domFocus()}layout(G,q){this.view.layout(G,q)}style(G){const q=`.${this.view.domId}`,fe=[];G.treeIndentGuidesStroke&&(fe.push(`.monaco-list${q}:hover .monaco-tl-indent > .indent-guide, .monaco-list${q}.always .monaco-tl-indent > .indent-guide  { border-color: ${G.treeIndentGuidesStroke.transparent(.4)}; }`),fe.push(`.monaco-list${q} .monaco-tl-indent > .indent-guide.active { border-color: ${G.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=fe.join(`
`),this.view.style(G)}getParentElement(G){const q=this.model.getParentNodeLocation(G);return this.model.getNode(q).element}getFirstElementChild(G){return this.model.getFirstElementChild(G)}getNode(G){return this.model.getNode(G)}collapse(G,q=!1){return this.model.setCollapsed(G,!0,q)}expand(G,q=!1){return this.model.setCollapsed(G,!1,q)}isCollapsible(G){return this.model.isCollapsible(G)}setCollapsible(G,q){return this.model.setCollapsible(G,q)}isCollapsed(G){return this.model.isCollapsed(G)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(G,q){const fe=G.map(F=>this.model.getNode(F));this.selection.set(fe,q);const p=G.map(F=>this.model.getListIndex(F)).filter(F=>F>-1);this.view.setSelection(p,q,!0)}getSelection(){return this.selection.get()}setFocus(G,q){const fe=G.map(F=>this.model.getNode(F));this.focus.set(fe,q);const p=G.map(F=>this.model.getListIndex(F)).filter(F=>F>-1);this.view.setFocus(p,q,!0)}focusNext(G=1,q=!1,fe,p=this.focusNavigationFilter){this.view.focusNext(G,q,fe,p)}getFocus(){return this.focus.get()}reveal(G,q){this.model.expandTo(G);const fe=this.model.getListIndex(G);fe!==-1&&this.view.reveal(fe,q)}getRelativeTop(G){const q=this.model.getListIndex(G);return q===-1?null:this.view.getRelativeTop(q)}onLeftArrow(G){G.preventDefault(),G.stopPropagation();const q=this.view.getFocusedElements();if(q.length===0)return;const fe=q[0],p=this.model.getNodeLocation(fe);if(!this.model.setCollapsed(p,!0)){const Z=this.model.getParentNodeLocation(p);if(!Z)return;const de=this.model.getListIndex(Z);this.view.reveal(de),this.view.setFocus([de])}}onRightArrow(G){G.preventDefault(),G.stopPropagation();const q=this.view.getFocusedElements();if(q.length===0)return;const fe=q[0],p=this.model.getNodeLocation(fe);if(!this.model.setCollapsed(p,!1)){if(!fe.children.some(pe=>pe.visible))return;const[Z]=this.view.getFocus(),de=Z+1;this.view.reveal(de),this.view.setFocus([de])}}onSpace(G){G.preventDefault(),G.stopPropagation();const q=this.view.getFocusedElements();if(q.length===0)return;const fe=q[0],p=this.model.getNodeLocation(fe),F=G.browserEvent.altKey;this.model.setCollapsed(p,void 0,F)}dispose(){(0,y.B9)(this.disposables),this.view.dispose()}}class Et{constructor(G,q,fe={}){this.user=G,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new se(G,q,null,fe),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,fe.sorter&&(this.sorter={compare(p,F){return fe.sorter.compare(p.element,F.element)}}),this.identityProvider=fe.identityProvider}setChildren(G,q=ae.$.empty(),fe={}){const p=this.getElementLocation(G);this._setChildren(p,this.preserveCollapseState(q),fe)}_setChildren(G,q=ae.$.empty(),fe){const p=new Set,F=new Set,Z=pe=>{var Ie;if(pe.element===null)return;const st=pe;if(p.add(st.element),this.nodes.set(st.element,st),this.identityProvider){const ot=this.identityProvider.getId(st.element).toString();F.add(ot),this.nodesByIdentity.set(ot,st)}(Ie=fe.onDidCreateNode)===null||Ie===void 0||Ie.call(fe,st)},de=pe=>{var Ie;if(pe.element===null)return;const st=pe;if(p.has(st.element)||this.nodes.delete(st.element),this.identityProvider){const ot=this.identityProvider.getId(st.element).toString();F.has(ot)||this.nodesByIdentity.delete(ot)}(Ie=fe.onDidDeleteNode)===null||Ie===void 0||Ie.call(fe,st)};this.model.splice([...G,0],Number.MAX_VALUE,q,Object.assign(Object.assign({},fe),{onDidCreateNode:Z,onDidDeleteNode:de}))}preserveCollapseState(G=ae.$.empty()){return this.sorter&&(G=[...G].sort(this.sorter.compare.bind(this.sorter))),ae.$.map(G,q=>{let fe=this.nodes.get(q.element);if(!fe&&this.identityProvider){const Z=this.identityProvider.getId(q.element).toString();fe=this.nodesByIdentity.get(Z)}if(!fe)return Object.assign(Object.assign({},q),{children:this.preserveCollapseState(q.children)});const p=typeof q.collapsible=="boolean"?q.collapsible:fe.collapsible,F=typeof q.collapsed!="undefined"?q.collapsed:fe.collapsed;return Object.assign(Object.assign({},q),{collapsible:p,collapsed:F,children:this.preserveCollapseState(q.children)})})}rerender(G){const q=this.getElementLocation(G);this.model.rerender(q)}getFirstElementChild(G=null){const q=this.getElementLocation(G);return this.model.getFirstElementChild(q)}has(G){return this.nodes.has(G)}getListIndex(G){const q=this.getElementLocation(G);return this.model.getListIndex(q)}getListRenderCount(G){const q=this.getElementLocation(G);return this.model.getListRenderCount(q)}isCollapsible(G){const q=this.getElementLocation(G);return this.model.isCollapsible(q)}setCollapsible(G,q){const fe=this.getElementLocation(G);return this.model.setCollapsible(fe,q)}isCollapsed(G){const q=this.getElementLocation(G);return this.model.isCollapsed(q)}setCollapsed(G,q,fe){const p=this.getElementLocation(G);return this.model.setCollapsed(p,q,fe)}expandTo(G){const q=this.getElementLocation(G);this.model.expandTo(q)}refilter(){this.model.refilter()}getNode(G=null){if(G===null)return this.model.getNode(this.model.rootRef);const q=this.nodes.get(G);if(!q)throw new P(this.user,`Tree element not found: ${G}`);return q}getNodeLocation(G){return G.element}getParentNodeLocation(G){if(G===null)throw new P(this.user,"Invalid getParentNodeLocation call");const q=this.nodes.get(G);if(!q)throw new P(this.user,`Tree element not found: ${G}`);const fe=this.model.getNodeLocation(q),p=this.model.getParentNodeLocation(fe);return this.model.getNode(p).element}getElementLocation(G){if(G===null)return[];const q=this.nodes.get(G);if(!q)throw new P(this.user,`Tree element not found: ${G}`);return this.model.getNodeLocation(q)}}function Wt(tn){const G=[tn.element],q=tn.incompressible||!1;return{element:{elements:G,incompressible:q},children:ae.$.map(ae.$.from(tn.children),Wt),collapsible:tn.collapsible,collapsed:tn.collapsed}}function Ze(tn){const G=[tn.element],q=tn.incompressible||!1;let fe,p;for(;[p,fe]=ae.$.consume(ae.$.from(tn.children),2),!(p.length!==1||p[0].incompressible);)tn=p[0],G.push(tn.element);return{element:{elements:G,incompressible:q},children:ae.$.map(ae.$.concat(p,fe),Ze),collapsible:tn.collapsible,collapsed:tn.collapsed}}function xe(tn,G=0){let q;return G<tn.element.elements.length-1?q=[xe(tn,G+1)]:q=ae.$.map(ae.$.from(tn.children),fe=>xe(fe,0)),G===0&&tn.element.incompressible?{element:tn.element.elements[G],children:q,incompressible:!0,collapsible:tn.collapsible,collapsed:tn.collapsed}:{element:tn.element.elements[G],children:q,collapsible:tn.collapsible,collapsed:tn.collapsed}}function ve(tn){return xe(tn,0)}function $e(tn,G,q){return tn.element===G?Object.assign(Object.assign({},tn),{children:q}):Object.assign(Object.assign({},tn),{children:ae.$.map(ae.$.from(tn.children),fe=>$e(fe,G,q))})}const at=tn=>({getId(G){return G.elements.map(q=>tn.getId(q).toString()).join("\0")}});class Tt{constructor(G,q,fe={}){this.user=G,this.rootRef=null,this.nodes=new Map,this.model=new Et(G,q,fe),this.enabled=typeof fe.compressionEnabled=="undefined"?!0:fe.compressionEnabled,this.identityProvider=fe.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(G,q=ae.$.empty(),fe){const p=fe.diffIdentityProvider&&at(fe.diffIdentityProvider);if(G===null){const mt=ae.$.map(q,this.enabled?Ze:Wt);this._setChildren(null,mt,{diffIdentityProvider:p,diffDepth:1/0});return}const F=this.nodes.get(G);if(!F)throw new Error("Unknown compressed tree node");const Z=this.model.getNode(F),de=this.model.getParentNodeLocation(F),pe=this.model.getNode(de),Ie=ve(Z),st=$e(Ie,G,q),ot=(this.enabled?Ze:Wt)(st),pt=pe.children.map(mt=>mt===Z?ot:mt);this._setChildren(pe.element,pt,{diffIdentityProvider:p,diffDepth:Z.depth-pe.depth})}setCompressionEnabled(G){if(G===this.enabled)return;this.enabled=G;const fe=this.model.getNode().children,p=ae.$.map(fe,ve),F=ae.$.map(p,G?Ze:Wt);this._setChildren(null,F,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(G,q,fe){const p=new Set,F=de=>{for(const pe of de.element.elements)p.add(pe),this.nodes.set(pe,de.element)},Z=de=>{for(const pe of de.element.elements)p.has(pe)||this.nodes.delete(pe)};this.model.setChildren(G,q,Object.assign(Object.assign({},fe),{onDidCreateNode:F,onDidDeleteNode:Z}))}has(G){return this.nodes.has(G)}getListIndex(G){const q=this.getCompressedNode(G);return this.model.getListIndex(q)}getListRenderCount(G){const q=this.getCompressedNode(G);return this.model.getListRenderCount(q)}getNode(G){if(typeof G=="undefined")return this.model.getNode();const q=this.getCompressedNode(G);return this.model.getNode(q)}getNodeLocation(G){const q=this.model.getNodeLocation(G);return q===null?null:q.elements[q.elements.length-1]}getParentNodeLocation(G){const q=this.getCompressedNode(G),fe=this.model.getParentNodeLocation(q);return fe===null?null:fe.elements[fe.elements.length-1]}getFirstElementChild(G){const q=this.getCompressedNode(G);return this.model.getFirstElementChild(q)}isCollapsible(G){const q=this.getCompressedNode(G);return this.model.isCollapsible(q)}setCollapsible(G,q){const fe=this.getCompressedNode(G);return this.model.setCollapsible(fe,q)}isCollapsed(G){const q=this.getCompressedNode(G);return this.model.isCollapsed(q)}setCollapsed(G,q,fe){const p=this.getCompressedNode(G);return this.model.setCollapsed(p,q,fe)}expandTo(G){const q=this.getCompressedNode(G);this.model.expandTo(q)}rerender(G){const q=this.getCompressedNode(G);this.model.rerender(q)}refilter(){this.model.refilter()}getCompressedNode(G){if(G===null)return null;const q=this.nodes.get(G);if(!q)throw new P(this.user,`Tree element not found: ${G}`);return q}}const Mt=tn=>tn[tn.length-1];class gt{constructor(G,q){this.unwrapper=G,this.node=q}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(G=>new gt(this.unwrapper,G))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function Rt(tn,G){return{splice(q,fe,p){G.splice(q,fe,p.map(F=>tn.map(F)))},updateElementHeight(q,fe){G.updateElementHeight(q,fe)}}}function Zt(tn,G){return Object.assign(Object.assign({},G),{identityProvider:G.identityProvider&&{getId(q){return G.identityProvider.getId(tn(q))}},sorter:G.sorter&&{compare(q,fe){return G.sorter.compare(q.elements[0],fe.elements[0])}},filter:G.filter&&{filter(q,fe){return G.filter.filter(tn(q),fe)}}})}class hn{constructor(G,q,fe={}){this.rootRef=null,this.elementMapper=fe.elementMapper||Mt;const p=F=>this.elementMapper(F.elements);this.nodeMapper=new V(F=>new gt(p,F)),this.model=new Tt(G,Rt(this.nodeMapper,q),Zt(p,fe))}get onDidSplice(){return O.ju.map(this.model.onDidSplice,({insertedNodes:G,deletedNodes:q})=>({insertedNodes:G.map(fe=>this.nodeMapper.map(fe)),deletedNodes:q.map(fe=>this.nodeMapper.map(fe))}))}get onDidChangeCollapseState(){return O.ju.map(this.model.onDidChangeCollapseState,({node:G,deep:q})=>({node:this.nodeMapper.map(G),deep:q}))}get onDidChangeRenderNodeCount(){return O.ju.map(this.model.onDidChangeRenderNodeCount,G=>this.nodeMapper.map(G))}setChildren(G,q=ae.$.empty(),fe={}){this.model.setChildren(G,q,fe)}setCompressionEnabled(G){this.model.setCompressionEnabled(G)}has(G){return this.model.has(G)}getListIndex(G){return this.model.getListIndex(G)}getListRenderCount(G){return this.model.getListRenderCount(G)}getNode(G){return this.nodeMapper.map(this.model.getNode(G))}getNodeLocation(G){return G.element}getParentNodeLocation(G){return this.model.getParentNodeLocation(G)}getFirstElementChild(G){const q=this.model.getFirstElementChild(G);return q===null||typeof q=="undefined"?q:this.elementMapper(q.elements)}isCollapsible(G){return this.model.isCollapsible(G)}setCollapsible(G,q){return this.model.setCollapsible(G,q)}isCollapsed(G){return this.model.isCollapsed(G)}setCollapsed(G,q,fe){return this.model.setCollapsed(G,q,fe)}expandTo(G){return this.model.expandTo(G)}rerender(G){return this.model.rerender(G)}refilter(){return this.model.refilter()}getCompressedTreeNode(G=null){return this.model.getNode(G)}}var Pe=l(52069),en=function(tn,G,q,fe){var p=arguments.length,F=p<3?G:fe===null?fe=Object.getOwnPropertyDescriptor(G,q):fe,Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(tn,G,q,fe);else for(var de=tn.length-1;de>=0;de--)(Z=tn[de])&&(F=(p<3?Z(F):p>3?Z(G,q,F):Z(G,q))||F);return p>3&&F&&Object.defineProperty(G,q,F),F};class vt extends Ge{constructor(G,q,fe,p,F={}){super(G,q,fe,p,F),this.user=G}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(G,q=ae.$.empty(),fe){this.model.setChildren(G,q,fe)}rerender(G){if(G===void 0){this.view.rerender();return}this.model.rerender(G)}hasElement(G){return this.model.has(G)}createModel(G,q,fe){return new Et(G,q,fe)}}class Le{constructor(G,q){this._compressedTreeNodeProvider=G,this.renderer=q,this.templateId=q.templateId,q.onDidChangeTwistieState&&(this.onDidChangeTwistieState=q.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(G){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(G)}}renderElement(G,q,fe,p){const F=this.compressedTreeNodeProvider.getCompressedTreeNode(G.element);F.element.elements.length===1?(fe.compressedTreeNode=void 0,this.renderer.renderElement(G,q,fe.data,p)):(fe.compressedTreeNode=F,this.renderer.renderCompressedElements(F,q,fe.data,p))}disposeElement(G,q,fe,p){fe.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(fe.compressedTreeNode,q,fe.data,p):this.renderer.disposeElement&&this.renderer.disposeElement(G,q,fe.data,p)}disposeTemplate(G){this.renderer.disposeTemplate(G.data)}renderTwistie(G,q){return this.renderer.renderTwistie?this.renderer.renderTwistie(G,q):!1}}en([Pe.H],Le.prototype,"compressedTreeNodeProvider",null);function nn(tn,G){return G&&Object.assign(Object.assign({},G),{keyboardNavigationLabelProvider:G.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(q){let fe;try{fe=tn().getCompressedTreeNode(q)}catch(p){return G.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(q)}return fe.element.elements.length===1?G.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(q):G.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(fe.element.elements)}}})}class sn extends vt{constructor(G,q,fe,p,F={}){const Z=()=>this,de=p.map(pe=>new Le(Z,pe));super(G,q,fe,de,nn(Z,F))}setChildren(G,q=ae.$.empty(),fe){this.model.setChildren(G,q,fe)}createModel(G,q,fe){return new hn(G,q,fe)}updateOptions(G={}){super.updateOptions(G),typeof G.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(G.compressionEnabled)}getCompressedTreeNode(G=null){return this.model.getCompressedTreeNode(G)}}var ei=l(91273),wn=l(37061),Ne=function(tn,G,q,fe){function p(F){return F instanceof q?F:new q(function(Z){Z(F)})}return new(q||(q=Promise))(function(F,Z){function de(st){try{Ie(fe.next(st))}catch(ot){Z(ot)}}function pe(st){try{Ie(fe.throw(st))}catch(ot){Z(ot)}}function Ie(st){st.done?F(st.value):p(st.value).then(de,pe)}Ie((fe=fe.apply(tn,G||[])).next())})};function Fe(tn){return Object.assign(Object.assign({},tn),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function ht(tn,G){return G.parent?G.parent===tn?!0:ht(tn,G.parent):!1}function Qt(tn,G){return tn===G||ht(tn,G)||ht(G,tn)}class dn{constructor(G){this.node=G}get element(){return this.node.element.element}get children(){return this.node.children.map(G=>new dn(G))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class gn{constructor(G,q,fe){this.renderer=G,this.nodeMapper=q,this.onDidChangeTwistieState=fe,this.renderedNodes=new Map,this.templateId=G.templateId}renderTemplate(G){return{templateData:this.renderer.renderTemplate(G)}}renderElement(G,q,fe,p){this.renderer.renderElement(this.nodeMapper.map(G),q,fe.templateData,p)}renderTwistie(G,q){return G.slow?(q.classList.add(...X.lA.treeItemLoading.classNamesArray),!0):(q.classList.remove(...X.lA.treeItemLoading.classNamesArray),!1)}disposeElement(G,q,fe,p){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(G),q,fe.templateData,p)}disposeTemplate(G){this.renderer.disposeTemplate(G.templateData)}dispose(){this.renderedNodes.clear()}}function Ht(tn){return{browserEvent:tn.browserEvent,elements:tn.elements.map(G=>G.element)}}function lt(tn){return{browserEvent:tn.browserEvent,element:tn.element&&tn.element.element,target:tn.target}}class Cn extends T.kX{constructor(G){super(G.elements.map(q=>q.element)),this.data=G}}function Ue(tn){return tn instanceof T.kX?new Cn(tn):tn}class Pt{constructor(G){this.dnd=G}getDragURI(G){return this.dnd.getDragURI(G.element)}getDragLabel(G,q){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(G.map(fe=>fe.element),q)}onDragStart(G,q){this.dnd.onDragStart&&this.dnd.onDragStart(Ue(G),q)}onDragOver(G,q,fe,p,F=!0){return this.dnd.onDragOver(Ue(G),q&&q.element,fe,p)}drop(G,q,fe,p){this.dnd.drop(Ue(G),q&&q.element,fe,p)}onDragEnd(G){this.dnd.onDragEnd&&this.dnd.onDragEnd(G)}}function Lt(tn){return tn&&Object.assign(Object.assign({},tn),{collapseByDefault:!0,identityProvider:tn.identityProvider&&{getId(G){return tn.identityProvider.getId(G.element)}},dnd:tn.dnd&&new Pt(tn.dnd),multipleSelectionController:tn.multipleSelectionController&&{isSelectionSingleChangeEvent(G){return tn.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},G),{element:G.element}))},isSelectionRangeChangeEvent(G){return tn.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},G),{element:G.element}))}},accessibilityProvider:tn.accessibilityProvider&&Object.assign(Object.assign({},tn.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:tn.accessibilityProvider.getRole?G=>tn.accessibilityProvider.getRole(G.element):()=>"treeitem",isChecked:tn.accessibilityProvider.isChecked?G=>{var q;return!!(!((q=tn.accessibilityProvider)===null||q===void 0)&&q.isChecked(G.element))}:void 0,getAriaLabel(G){return tn.accessibilityProvider.getAriaLabel(G.element)},getWidgetAriaLabel(){return tn.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:tn.accessibilityProvider.getWidgetRole?()=>tn.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:tn.accessibilityProvider.getAriaLevel&&(G=>tn.accessibilityProvider.getAriaLevel(G.element)),getActiveDescendantId:tn.accessibilityProvider.getActiveDescendantId&&(G=>tn.accessibilityProvider.getActiveDescendantId(G.element))}),filter:tn.filter&&{filter(G,q){return tn.filter.filter(G.element,q)}},keyboardNavigationLabelProvider:tn.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},tn.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(G){return tn.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(G.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof tn.expandOnlyOnTwistieClick=="undefined"?void 0:typeof tn.expandOnlyOnTwistieClick!="function"?tn.expandOnlyOnTwistieClick:G=>tn.expandOnlyOnTwistieClick(G.element),additionalScrollHeight:tn.additionalScrollHeight})}function He(tn,G){G(tn),tn.children.forEach(q=>He(q,G))}class Ve{constructor(G,q,fe,p,F,Z={}){this.user=G,this.dataSource=F,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new O.Q5,this._onDidChangeNodeSlowState=new O.Q5,this.nodeMapper=new V(de=>new dn(de)),this.disposables=new y.SL,this.identityProvider=Z.identityProvider,this.autoExpandSingleChildren=typeof Z.autoExpandSingleChildren=="undefined"?!1:Z.autoExpandSingleChildren,this.sorter=Z.sorter,this.collapseByDefault=Z.collapseByDefault,this.tree=this.createTree(G,q,fe,p,Z),this.root=Fe({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return O.ju.map(this.tree.onDidChangeFocus,Ht)}get onDidChangeSelection(){return O.ju.map(this.tree.onDidChangeSelection,Ht)}get onMouseDblClick(){return O.ju.map(this.tree.onMouseDblClick,lt)}get onPointer(){return O.ju.map(this.tree.onPointer,lt)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidDispose(){return this.tree.onDidDispose}createTree(G,q,fe,p,F){const Z=new De(fe),de=p.map(Ie=>new gn(Ie,this.nodeMapper,this._onDidChangeNodeSlowState.event)),pe=Lt(F)||{};return new vt(G,q,Z,de,pe)}updateOptions(G={}){this.tree.updateOptions(G)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(G){this.tree.scrollTop=G}domFocus(){this.tree.domFocus()}layout(G,q){this.tree.layout(G,q)}style(G){this.tree.style(G)}getInput(){return this.root.element}setInput(G,q){return Ne(this,void 0,void 0,function*(){this.refreshPromises.forEach(p=>p.cancel()),this.refreshPromises.clear(),this.root.element=G;const fe=q&&{viewState:q,focus:[],selection:[]};yield this._updateChildren(G,!0,!1,fe),fe&&(this.tree.setFocus(fe.focus),this.tree.setSelection(fe.selection)),q&&typeof q.scrollTop=="number"&&(this.scrollTop=q.scrollTop)})}_updateChildren(G=this.root.element,q=!0,fe=!1,p,F){return Ne(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new P(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield O.ju.toPromise(this._onDidRender.event));const Z=this.getDataNode(G);if(yield this.refreshAndRenderNode(Z,q,p,F),fe)try{this.tree.rerender(Z)}catch(de){}})}rerender(G){if(G===void 0||G===this.root.element){this.tree.rerender();return}const q=this.getDataNode(G);this.tree.rerender(q)}getNode(G=this.root.element){const q=this.getDataNode(G),fe=this.tree.getNode(q===this.root?null:q);return this.nodeMapper.map(fe)}collapse(G,q=!1){const fe=this.getDataNode(G);return this.tree.collapse(fe===this.root?null:fe,q)}expand(G,q=!1){return Ne(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new P(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield O.ju.toPromise(this._onDidRender.event));const fe=this.getDataNode(G);if(this.tree.hasElement(fe)&&!this.tree.isCollapsible(fe)||(fe.refreshPromise&&(yield this.root.refreshPromise,yield O.ju.toPromise(this._onDidRender.event)),fe!==this.root&&!fe.refreshPromise&&!this.tree.isCollapsed(fe)))return!1;const p=this.tree.expand(fe===this.root?null:fe,q);return fe.refreshPromise&&(yield this.root.refreshPromise,yield O.ju.toPromise(this._onDidRender.event)),p})}setSelection(G,q){const fe=G.map(p=>this.getDataNode(p));this.tree.setSelection(fe,q)}getSelection(){return this.tree.getSelection().map(q=>q.element)}setFocus(G,q){const fe=G.map(p=>this.getDataNode(p));this.tree.setFocus(fe,q)}getFocus(){return this.tree.getFocus().map(q=>q.element)}reveal(G,q){this.tree.reveal(this.getDataNode(G),q)}getParentElement(G){const q=this.tree.getParentElement(this.getDataNode(G));return q&&q.element}getFirstElementChild(G=this.root.element){const q=this.getDataNode(G),fe=this.tree.getFirstElementChild(q===this.root?null:q);return fe&&fe.element}getDataNode(G){const q=this.nodes.get(G===this.root.element?null:G);if(!q)throw new P(this.user,`Data tree node not found: ${G}`);return q}refreshAndRenderNode(G,q,fe,p){return Ne(this,void 0,void 0,function*(){yield this.refreshNode(G,q,fe),this.render(G,fe,p)})}refreshNode(G,q,fe){return Ne(this,void 0,void 0,function*(){let p;return this.subTreeRefreshPromises.forEach((F,Z)=>{!p&&Qt(Z,G)&&(p=F.then(()=>this.refreshNode(G,q,fe)))}),p||this.doRefreshSubTree(G,q,fe)})}doRefreshSubTree(G,q,fe){return Ne(this,void 0,void 0,function*(){let p;G.refreshPromise=new Promise(F=>p=F),this.subTreeRefreshPromises.set(G,G.refreshPromise),G.refreshPromise.finally(()=>{G.refreshPromise=void 0,this.subTreeRefreshPromises.delete(G)});try{const F=yield this.doRefreshNode(G,q,fe);G.stale=!1,yield H.jT.settled(F.map(Z=>this.doRefreshSubTree(Z,q,fe)))}finally{p()}})}doRefreshNode(G,q,fe){return Ne(this,void 0,void 0,function*(){G.hasChildren=!!this.dataSource.hasChildren(G.element);let p;if(!G.hasChildren)p=Promise.resolve(ae.$.empty());else{const F=this.doGetChildren(G);if((0,wn.TW)(F))p=Promise.resolve(F);else{const Z=(0,H.Vs)(800);Z.then(()=>{G.slow=!0,this._onDidChangeNodeSlowState.fire(G)},de=>null),p=F.finally(()=>Z.cancel())}}try{const F=yield p;return this.setChildren(G,F,q,fe)}catch(F){if(G!==this.root&&this.tree.hasElement(G)&&this.tree.collapse(G),(0,ei.n2)(F))return[];throw F}finally{G.slow&&(G.slow=!1,this._onDidChangeNodeSlowState.fire(G))}})}doGetChildren(G){let q=this.refreshPromises.get(G);if(q)return q;const fe=this.dataSource.getChildren(G.element);return(0,wn.TW)(fe)?this.processChildren(fe):(q=(0,H.PG)(()=>Ne(this,void 0,void 0,function*(){return this.processChildren(yield fe)})),this.refreshPromises.set(G,q),q.finally(()=>{this.refreshPromises.delete(G)}))}_onDidChangeCollapseState({node:G,deep:q}){G.element!==null&&!G.collapsed&&G.element.stale&&(q?this.collapse(G.element.element):this.refreshAndRenderNode(G.element,!1).catch(ei.dL))}setChildren(G,q,fe,p){const F=[...q];if(G.children.length===0&&F.length===0)return[];const Z=new Map,de=new Map;for(const st of G.children)if(Z.set(st.element,st),this.identityProvider){const ot=this.tree.isCollapsed(st);de.set(st.id,{node:st,collapsed:ot})}const pe=[],Ie=F.map(st=>{const ot=!!this.dataSource.hasChildren(st);if(!this.identityProvider){const ft=Fe({element:st,parent:G,hasChildren:ot});return ot&&this.collapseByDefault&&!this.collapseByDefault(st)&&(ft.collapsedByDefault=!1,pe.push(ft)),ft}const pt=this.identityProvider.getId(st).toString(),mt=de.get(pt);if(mt){const ft=mt.node;return Z.delete(ft.element),this.nodes.delete(ft.element),this.nodes.set(st,ft),ft.element=st,ft.hasChildren=ot,fe?mt.collapsed?(ft.children.forEach(wt=>He(wt,_n=>this.nodes.delete(_n.element))),ft.children.splice(0,ft.children.length),ft.stale=!0):pe.push(ft):ot&&this.collapseByDefault&&!this.collapseByDefault(st)&&(ft.collapsedByDefault=!1,pe.push(ft)),ft}const xt=Fe({element:st,parent:G,id:pt,hasChildren:ot});return p&&p.viewState.focus&&p.viewState.focus.indexOf(pt)>-1&&p.focus.push(xt),p&&p.viewState.selection&&p.viewState.selection.indexOf(pt)>-1&&p.selection.push(xt),p&&p.viewState.expanded&&p.viewState.expanded.indexOf(pt)>-1?pe.push(xt):ot&&this.collapseByDefault&&!this.collapseByDefault(st)&&(xt.collapsedByDefault=!1,pe.push(xt)),xt});for(const st of Z.values())He(st,ot=>this.nodes.delete(ot.element));for(const st of Ie)this.nodes.set(st.element,st);return G.children.splice(0,G.children.length,...Ie),G!==this.root&&this.autoExpandSingleChildren&&Ie.length===1&&pe.length===0&&(Ie[0].collapsedByDefault=!1,pe.push(Ie[0])),pe}render(G,q,fe){const p=G.children.map(Z=>this.asTreeElement(Z,q)),F=fe&&Object.assign(Object.assign({},fe),{diffIdentityProvider:fe.diffIdentityProvider&&{getId(Z){return fe.diffIdentityProvider.getId(Z.element)}}});this.tree.setChildren(G===this.root?null:G,p,F),G!==this.root&&this.tree.setCollapsible(G,G.hasChildren),this._onDidRender.fire()}asTreeElement(G,q){if(G.stale)return{element:G,collapsible:G.hasChildren,collapsed:!0};let fe;return q&&q.viewState.expanded&&G.id&&q.viewState.expanded.indexOf(G.id)>-1?fe=!1:fe=G.collapsedByDefault,G.collapsedByDefault=void 0,{element:G,children:G.hasChildren?ae.$.map(G.children,p=>this.asTreeElement(p,q)):[],collapsible:G.hasChildren,collapsed:fe}}processChildren(G){return this.sorter&&(G=[...G].sort(this.sorter.compare.bind(this.sorter))),G}dispose(){this.disposables.dispose()}}class Se{constructor(G){this.node=G}get element(){return{elements:this.node.element.elements.map(G=>G.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(G=>new Se(G))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class St{constructor(G,q,fe,p){this.renderer=G,this.nodeMapper=q,this.compressibleNodeMapperProvider=fe,this.onDidChangeTwistieState=p,this.renderedNodes=new Map,this.disposables=[],this.templateId=G.templateId}renderTemplate(G){return{templateData:this.renderer.renderTemplate(G)}}renderElement(G,q,fe,p){this.renderer.renderElement(this.nodeMapper.map(G),q,fe.templateData,p)}renderCompressedElements(G,q,fe,p){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(G),q,fe.templateData,p)}renderTwistie(G,q){return G.slow?(q.classList.add(...X.lA.treeItemLoading.classNamesArray),!0):(q.classList.remove(...X.lA.treeItemLoading.classNamesArray),!1)}disposeElement(G,q,fe,p){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(G),q,fe.templateData,p)}disposeCompressedElements(G,q,fe,p){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(G),q,fe.templateData,p)}disposeTemplate(G){this.renderer.disposeTemplate(G.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,y.B9)(this.disposables)}}function Jt(tn){const G=tn&&Lt(tn);return G&&Object.assign(Object.assign({},G),{keyboardNavigationLabelProvider:G.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},G.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(q){return tn.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(q.map(fe=>fe.element))}})})}class mn extends Ve{constructor(G,q,fe,p,F,Z,de={}){super(G,q,fe,F,Z,de),this.compressionDelegate=p,this.compressibleNodeMapper=new V(pe=>new Se(pe)),this.filter=de.filter}createTree(G,q,fe,p,F){const Z=new De(fe),de=p.map(Ie=>new St(Ie,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),pe=Jt(F)||{};return new sn(G,q,Z,de,pe)}asTreeElement(G,q){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(G.element)},super.asTreeElement(G,q))}updateOptions(G={}){this.tree.updateOptions(G)}render(G,q){if(!this.identityProvider)return super.render(G,q);const fe=pt=>this.identityProvider.getId(pt).toString(),p=pt=>{const mt=new Set;for(const xt of pt){const ft=this.tree.getCompressedTreeNode(xt===this.root?null:xt);if(!!ft.element)for(const wt of ft.element.elements)mt.add(fe(wt.element))}return mt},F=p(this.tree.getSelection()),Z=p(this.tree.getFocus());super.render(G,q);const de=this.getSelection();let pe=!1;const Ie=this.getFocus();let st=!1;const ot=pt=>{const mt=pt.element;if(mt)for(let xt=0;xt<mt.elements.length;xt++){const ft=fe(mt.elements[xt].element),wt=mt.elements[mt.elements.length-1].element;F.has(ft)&&de.indexOf(wt)===-1&&(de.push(wt),pe=!0),Z.has(ft)&&Ie.indexOf(wt)===-1&&(Ie.push(wt),st=!0)}pt.children.forEach(ot)};ot(this.tree.getCompressedTreeNode(G===this.root?null:G)),pe&&this.setSelection(de),st&&this.setFocus(Ie)}processChildren(G){return this.filter&&(G=ae.$.filter(G,q=>{const fe=this.filter.filter(q,1),p=Mn(fe);if(p===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return p===1})),super.processChildren(G)}}function Mn(tn){return typeof tn=="boolean"?tn?1:0:me(tn)?ge(tn.visibility):ge(tn)}class kn extends Ge{constructor(G,q,fe,p,F,Z={}){super(G,q,fe,p,Z),this.user=G,this.dataSource=F,this.identityProvider=Z.identityProvider}createModel(G,q,fe){return new Et(G,q,fe)}}var Nn=l(40761),xn=l(68491),Xn=l(75232),Sn=l(96072),Gn=l(89829),ti=l(95024),An=l(49622),Bi=l(1062),oi=l(80417),Yn=l(63655),Ci=function(tn,G,q,fe){var p=arguments.length,F=p<3?G:fe===null?fe=Object.getOwnPropertyDescriptor(G,q):fe,Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(tn,G,q,fe);else for(var de=tn.length-1;de>=0;de--)(Z=tn[de])&&(F=(p<3?Z(F):p>3?Z(G,q,F):Z(G,q))||F);return p>3&&F&&Object.defineProperty(G,q,F),F},On=function(tn,G){return function(q,fe){G(q,fe,tn)}};const Si=(0,ti.yh)("listService");let Di=class{constructor(G){this._themeService=G,this.disposables=new y.SL,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}setLastFocusedList(G){var q,fe;G!==this._lastFocusedWidget&&((q=this._lastFocusedWidget)===null||q===void 0||q.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=G,(fe=this._lastFocusedWidget)===null||fe===void 0||fe.getHTMLElement().classList.add("last-focused"))}register(G,q){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const p=new A.wD((0,C.dS)(),"");this.disposables.add((0,oi.Jl)(p,this._themeService))}if(this.lists.some(p=>p.widget===G))throw new Error("Cannot register the same widget multiple times");const fe={widget:G,extraContextKeys:q};return this.lists.push(fe),G.getHTMLElement()===document.activeElement&&this.setLastFocusedList(G),(0,y.F8)(G.onDidFocus(()=>this.setLastFocusedList(G)),(0,y.OF)(()=>this.lists.splice(this.lists.indexOf(fe),1)),G.onDidDispose(()=>{this.lists=this.lists.filter(p=>p!==fe),this._lastFocusedWidget===G&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}};Di=Ci([On(0,Yn.XE)],Di);const ni=new Sn.uy("listFocus",!0),Kn=new Sn.uy("listSupportsMultiselect",!0),Pi=Sn.Ao.and(ni,Sn.Ao.not(Gn.d0)),Vi=new Sn.uy("listHasSelectionOrFocus",!1),Oi=new Sn.uy("listDoubleSelection",!1),_i=new Sn.uy("listMultiSelection",!1),Ye=new Sn.uy("listSelectionNavigation",!1),It=new Sn.uy("treeElementCanCollapse",!1),cn=new Sn.uy("treeElementHasParent",!1),on=new Sn.uy("treeElementCanExpand",!1),bn=new Sn.uy("treeElementHasChild",!1),hi="listAutomaticKeyboardNavigation";function En(tn,G){const q=tn.createScoped(G.getHTMLElement());return ni.bindTo(q),q}const Zi="workbench.list.multiSelectModifier",ri="workbench.list.openMode",ki="workbench.list.horizontalScrolling",ui="workbench.list.keyboardNavigation",qi="workbench.list.automaticKeyboardNavigation",Xs="workbench.tree.indent",zs="workbench.tree.renderIndentGuides",Ki="workbench.list.smoothScrolling",Os="workbench.list.mouseWheelScrollSensitivity",ai="workbench.list.fastScrollSensitivity",Jo="workbench.tree.expandMode";function co(tn){return tn.getValue(Zi)==="alt"}class Ks extends y.JT{constructor(G){super(),this.configurationService=G,this.useAltAsMultipleSelectionModifier=co(G),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(G=>{G.affectsConfiguration(Zi)&&(this.useAltAsMultipleSelectionModifier=co(this.configurationService))}))}isSelectionSingleChangeEvent(G){return this.useAltAsMultipleSelectionModifier?G.browserEvent.altKey:(0,A.Zo)(G)}isSelectionRangeChangeEvent(G){return(0,A.wn)(G)}}function ts(tn,G,q){var fe;const p=new y.SL;return[Object.assign(Object.assign({},tn),{keyboardNavigationDelegate:{mightProducePrintableCharacter(Z){return q.mightProducePrintableCharacter(Z)}},smoothScrolling:Boolean(G.getValue(Ki)),mouseWheelScrollSensitivity:G.getValue(Os),fastScrollSensitivity:G.getValue(ai),multipleSelectionController:(fe=tn.multipleSelectionController)!==null&&fe!==void 0?fe:p.add(new Ks(G))}),p]}let bo=class extends A.aV{constructor(G,q,fe,p,F,Z,de,pe,Ie,st){const ot=typeof F.horizontalScrolling!="undefined"?F.horizontalScrolling:Boolean(Ie.getValue(ki)),[pt,mt]=ts(F,Ie,st);super(G,q,fe,p,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,oi.o)(pe.getColorTheme(),oi.O2)),pt),{horizontalScrolling:ot})),this.disposables.add(mt),this.contextKeyService=En(Z,this),this.themeService=pe,this.listSupportsMultiSelect=Kn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(F.multipleSelectionSupport!==!1),Ye.bindTo(this.contextKeyService).set(Boolean(F.selectionNavigation)),this.listHasSelectionOrFocus=Vi.bindTo(this.contextKeyService),this.listDoubleSelection=Oi.bindTo(this.contextKeyService),this.listMultiSelection=_i.bindTo(this.contextKeyService),this.horizontalScrolling=F.horizontalScrolling,this._useAltAsMultipleSelectionModifier=co(Ie),this.disposables.add(this.contextKeyService),this.disposables.add(de.register(this)),F.overrideStyles&&this.updateStyles(F.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const ft=this.getSelection(),wt=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(ft.length>0||wt.length>0),this.listMultiSelection.set(ft.length>1),this.listDoubleSelection.set(ft.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const ft=this.getSelection(),wt=this.getFocus();this.listHasSelectionOrFocus.set(ft.length>0||wt.length>0)})),this.disposables.add(Ie.onDidChangeConfiguration(ft=>{ft.affectsConfiguration(Zi)&&(this._useAltAsMultipleSelectionModifier=co(Ie));let wt={};if(ft.affectsConfiguration(ki)&&this.horizontalScrolling===void 0){const _n=Boolean(Ie.getValue(ki));wt=Object.assign(Object.assign({},wt),{horizontalScrolling:_n})}if(ft.affectsConfiguration(Ki)){const _n=Boolean(Ie.getValue(Ki));wt=Object.assign(Object.assign({},wt),{smoothScrolling:_n})}if(ft.affectsConfiguration(Os)){const _n=Ie.getValue(Os);wt=Object.assign(Object.assign({},wt),{mouseWheelScrollSensitivity:_n})}if(ft.affectsConfiguration(ai)){const _n=Ie.getValue(ai);wt=Object.assign(Object.assign({},wt),{fastScrollSensitivity:_n})}Object.keys(wt).length>0&&this.updateOptions(wt)})),this.navigator=new Ns(this,Object.assign({configurationService:Ie},F)),this.disposables.add(this.navigator)}updateOptions(G){super.updateOptions(G),G.overrideStyles&&this.updateStyles(G.overrideStyles),G.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!G.multipleSelectionSupport)}updateStyles(G){var q;(q=this._styler)===null||q===void 0||q.dispose(),this._styler=(0,oi.Jl)(this,this.themeService,G)}dispose(){var G;(G=this._styler)===null||G===void 0||G.dispose(),super.dispose()}};bo=Ci([On(5,Sn.i6),On(6,Si),On(7,Yn.XE),On(8,xn.Ui),On(9,An.d)],bo);let Lo=class extends _{constructor(G,q,fe,p,F,Z,de,pe,Ie,st){const ot=typeof F.horizontalScrolling!="undefined"?F.horizontalScrolling:Boolean(Ie.getValue(ki)),[pt,mt]=ts(F,Ie,st);super(G,q,fe,p,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,oi.o)(pe.getColorTheme(),oi.O2)),pt),{horizontalScrolling:ot})),this.disposables=new y.SL,this.disposables.add(mt),this.contextKeyService=En(Z,this),this.themeService=pe,this.horizontalScrolling=F.horizontalScrolling,this.listSupportsMultiSelect=Kn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(F.multipleSelectionSupport!==!1),Ye.bindTo(this.contextKeyService).set(Boolean(F.selectionNavigation)),this._useAltAsMultipleSelectionModifier=co(Ie),this.disposables.add(this.contextKeyService),this.disposables.add(de.register(this)),F.overrideStyles&&this.updateStyles(F.overrideStyles),F.overrideStyles&&this.disposables.add((0,oi.Jl)(this,pe,F.overrideStyles)),this.disposables.add(Ie.onDidChangeConfiguration(ft=>{ft.affectsConfiguration(Zi)&&(this._useAltAsMultipleSelectionModifier=co(Ie));let wt={};if(ft.affectsConfiguration(ki)&&this.horizontalScrolling===void 0){const _n=Boolean(Ie.getValue(ki));wt=Object.assign(Object.assign({},wt),{horizontalScrolling:_n})}if(ft.affectsConfiguration(Ki)){const _n=Boolean(Ie.getValue(Ki));wt=Object.assign(Object.assign({},wt),{smoothScrolling:_n})}if(ft.affectsConfiguration(Os)){const _n=Ie.getValue(Os);wt=Object.assign(Object.assign({},wt),{mouseWheelScrollSensitivity:_n})}if(ft.affectsConfiguration(ai)){const _n=Ie.getValue(ai);wt=Object.assign(Object.assign({},wt),{fastScrollSensitivity:_n})}Object.keys(wt).length>0&&this.updateOptions(wt)})),this.navigator=new Ns(this,Object.assign({configurationService:Ie},F)),this.disposables.add(this.navigator)}updateOptions(G){super.updateOptions(G),G.overrideStyles&&this.updateStyles(G.overrideStyles),G.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!G.multipleSelectionSupport)}updateStyles(G){var q;(q=this._styler)===null||q===void 0||q.dispose(),this._styler=(0,oi.Jl)(this,this.themeService,G)}dispose(){var G;(G=this._styler)===null||G===void 0||G.dispose(),this.disposables.dispose(),super.dispose()}};Lo=Ci([On(5,Sn.i6),On(6,Si),On(7,Yn.XE),On(8,xn.Ui),On(9,An.d)],Lo);let Us=class extends k{constructor(G,q,fe,p,F,Z,de,pe,Ie,st,ot){const pt=typeof Z.horizontalScrolling!="undefined"?Z.horizontalScrolling:Boolean(st.getValue(ki)),[mt,xt]=ts(Z,st,ot);super(G,q,fe,p,F,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,oi.o)(Ie.getColorTheme(),oi.O2)),mt),{horizontalScrolling:pt})),this.disposables.add(xt),this.contextKeyService=En(de,this),this.themeService=Ie,this.listSupportsMultiSelect=Kn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Z.multipleSelectionSupport!==!1),Ye.bindTo(this.contextKeyService).set(Boolean(Z.selectionNavigation)),this.listHasSelectionOrFocus=Vi.bindTo(this.contextKeyService),this.listDoubleSelection=Oi.bindTo(this.contextKeyService),this.listMultiSelection=_i.bindTo(this.contextKeyService),this.horizontalScrolling=Z.horizontalScrolling,this._useAltAsMultipleSelectionModifier=co(st),this.disposables.add(this.contextKeyService),this.disposables.add(pe.register(this)),Z.overrideStyles&&this.updateStyles(Z.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const wt=this.getSelection(),_n=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(wt.length>0||_n.length>0),this.listMultiSelection.set(wt.length>1),this.listDoubleSelection.set(wt.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const wt=this.getSelection(),_n=this.getFocus();this.listHasSelectionOrFocus.set(wt.length>0||_n.length>0)})),this.disposables.add(st.onDidChangeConfiguration(wt=>{wt.affectsConfiguration(Zi)&&(this._useAltAsMultipleSelectionModifier=co(st));let _n={};if(wt.affectsConfiguration(ki)&&this.horizontalScrolling===void 0){const $n=Boolean(st.getValue(ki));_n=Object.assign(Object.assign({},_n),{horizontalScrolling:$n})}if(wt.affectsConfiguration(Ki)){const $n=Boolean(st.getValue(Ki));_n=Object.assign(Object.assign({},_n),{smoothScrolling:$n})}if(wt.affectsConfiguration(Os)){const $n=st.getValue(Os);_n=Object.assign(Object.assign({},_n),{mouseWheelScrollSensitivity:$n})}if(wt.affectsConfiguration(ai)){const $n=st.getValue(ai);_n=Object.assign(Object.assign({},_n),{fastScrollSensitivity:$n})}Object.keys(_n).length>0&&this.updateOptions(_n)})),this.navigator=new Vo(this,Object.assign({configurationService:st},Z)),this.disposables.add(this.navigator)}updateOptions(G){super.updateOptions(G),G.overrideStyles&&this.updateStyles(G.overrideStyles),G.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!G.multipleSelectionSupport)}updateStyles(G){var q;(q=this._styler)===null||q===void 0||q.dispose(),this._styler=(0,oi.Jl)(this,this.themeService,G)}dispose(){var G;(G=this._styler)===null||G===void 0||G.dispose(),this.disposables.dispose(),super.dispose()}};Us=Ci([On(6,Sn.i6),On(7,Si),On(8,Yn.XE),On(9,xn.Ui),On(10,An.d)],Us);class Rs extends y.JT{constructor(G,q){var fe;super(),this.widget=G,this._onDidOpen=this._register(new O.Q5),this.onDidOpen=this._onDidOpen.event,this._register(O.ju.filter(this.widget.onDidChangeSelection,p=>p.browserEvent instanceof KeyboardEvent)(p=>this.onSelectionFromKeyboard(p))),this._register(this.widget.onPointer(p=>this.onPointer(p.element,p.browserEvent))),this._register(this.widget.onMouseDblClick(p=>this.onMouseDblClick(p.element,p.browserEvent))),typeof(q==null?void 0:q.openOnSingleClick)!="boolean"&&(q==null?void 0:q.configurationService)?(this.openOnSingleClick=(q==null?void 0:q.configurationService.getValue(ri))!=="doubleClick",this._register(q==null?void 0:q.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=(q==null?void 0:q.configurationService.getValue(ri))!=="doubleClick"}))):this.openOnSingleClick=(fe=q==null?void 0:q.openOnSingleClick)!==null&&fe!==void 0?fe:!0}onSelectionFromKeyboard(G){if(G.elements.length!==1)return;const q=G.browserEvent,fe=typeof q.preserveFocus=="boolean"?q.preserveFocus:!0,p=typeof q.pinned=="boolean"?q.pinned:!fe,F=!1;this._open(this.getSelectedElement(),fe,p,F,G.browserEvent)}onPointer(G,q){if(!this.openOnSingleClick||q.detail===2)return;const p=q.button===1,F=!0,Z=p,de=q.ctrlKey||q.metaKey||q.altKey;this._open(G,F,Z,de,q)}onMouseDblClick(G,q){if(!q)return;const fe=q.target;if(fe.classList.contains("monaco-tl-twistie")||fe.classList.contains("monaco-icon-label")&&fe.classList.contains("folder-icon")&&q.offsetX<16)return;const F=!1,Z=!0,de=q.ctrlKey||q.metaKey||q.altKey;this._open(G,F,Z,de,q)}_open(G,q,fe,p,F){!G||this._onDidOpen.fire({editorOptions:{preserveFocus:q,pinned:fe,revealIfVisible:!0},sideBySide:p,element:G,browserEvent:F})}}class Ns extends Rs{constructor(G,q){super(G,q),this.widget=G}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Vo extends Rs{constructor(G,q){super(G,q)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Po extends Rs{constructor(G,q){super(G,q)}getSelectedElement(){var G;return(G=this.widget.getSelection()[0])!==null&&G!==void 0?G:void 0}}function $o(tn,G){let q=!1;return fe=>{if(fe.toKeybinding().isModifierKey())return!1;if(q)return q=!1,!1;const p=G.softDispatch(fe,tn);return p&&p.enterChord?(q=!0,!1):(q=!1,!0)}}let go=class extends vt{constructor(G,q,fe,p,F,Z,de,pe,Ie,st,ot){const{options:pt,getAutomaticKeyboardNavigation:mt,disposable:xt}=Gs(q,F,Z,Ie,st,ot);super(G,q,fe,p,pt),this.disposables.add(xt),this.internals=new es(this,F,mt,F.overrideStyles,Z,de,pe,Ie,ot),this.disposables.add(this.internals)}updateOptions(G){super.updateOptions(G),this.internals.updateOptions(G)}};go=Ci([On(5,Sn.i6),On(6,Si),On(7,Yn.XE),On(8,xn.Ui),On(9,An.d),On(10,Nn.F)],go);let Is=class extends sn{constructor(G,q,fe,p,F,Z,de,pe,Ie,st,ot){const{options:pt,getAutomaticKeyboardNavigation:mt,disposable:xt}=Gs(q,F,Z,Ie,st,ot);super(G,q,fe,p,pt),this.disposables.add(xt),this.internals=new es(this,F,mt,F.overrideStyles,Z,de,pe,Ie,ot),this.disposables.add(this.internals)}updateOptions(G={}){super.updateOptions(G),G.overrideStyles&&this.internals.updateStyleOverrides(G.overrideStyles),this.internals.updateOptions(G)}};Is=Ci([On(5,Sn.i6),On(6,Si),On(7,Yn.XE),On(8,xn.Ui),On(9,An.d),On(10,Nn.F)],Is);let Go=class extends kn{constructor(G,q,fe,p,F,Z,de,pe,Ie,st,ot,pt){const{options:mt,getAutomaticKeyboardNavigation:xt,disposable:ft}=Gs(q,Z,de,st,ot,pt);super(G,q,fe,p,F,mt),this.disposables.add(ft),this.internals=new es(this,Z,xt,Z.overrideStyles,de,pe,Ie,st,pt),this.disposables.add(this.internals)}updateOptions(G={}){super.updateOptions(G),G.overrideStyles&&this.internals.updateStyleOverrides(G.overrideStyles),this.internals.updateOptions(G)}};Go=Ci([On(6,Sn.i6),On(7,Si),On(8,Yn.XE),On(9,xn.Ui),On(10,An.d),On(11,Nn.F)],Go);let qo=class extends Ve{constructor(G,q,fe,p,F,Z,de,pe,Ie,st,ot,pt){const{options:mt,getAutomaticKeyboardNavigation:xt,disposable:ft}=Gs(q,Z,de,st,ot,pt);super(G,q,fe,p,F,mt),this.disposables.add(ft),this.internals=new es(this,Z,xt,Z.overrideStyles,de,pe,Ie,st,pt),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(G={}){super.updateOptions(G),G.overrideStyles&&this.internals.updateStyleOverrides(G.overrideStyles),this.internals.updateOptions(G)}};qo=Ci([On(6,Sn.i6),On(7,Si),On(8,Yn.XE),On(9,xn.Ui),On(10,An.d),On(11,Nn.F)],qo);let Xi=class extends mn{constructor(G,q,fe,p,F,Z,de,pe,Ie,st,ot,pt,mt){const{options:xt,getAutomaticKeyboardNavigation:ft,disposable:wt}=Gs(q,de,pe,ot,pt,mt);super(G,q,fe,p,F,Z,xt),this.disposables.add(wt),this.internals=new es(this,de,ft,de.overrideStyles,pe,Ie,st,ot,mt),this.disposables.add(this.internals)}updateOptions(G){super.updateOptions(G),this.internals.updateOptions(G)}};Xi=Ci([On(7,Sn.i6),On(8,Si),On(9,Yn.XE),On(10,xn.Ui),On(11,An.d),On(12,Nn.F)],Xi);function Gs(tn,G,q,fe,p,F){var Z;const de=()=>{let xt=Boolean(q.getContextKeyValue(hi));return xt&&(xt=Boolean(fe.getValue(qi))),xt},pe=F.isScreenReaderOptimized(),Ie=G.simpleKeyboardNavigation||pe?"simple":fe.getValue(ui),st=G.horizontalScrolling!==void 0?G.horizontalScrolling:Boolean(fe.getValue(ki)),[ot,pt]=ts(G,fe,p),mt=G.additionalScrollHeight;return{getAutomaticKeyboardNavigation:de,disposable:pt,options:Object.assign(Object.assign({keyboardSupport:!1},ot),{indent:typeof fe.getValue(Xs)=="number"?fe.getValue(Xs):void 0,renderIndentGuides:fe.getValue(zs),smoothScrolling:Boolean(fe.getValue(Ki)),automaticKeyboardNavigation:de(),simpleKeyboardNavigation:Ie==="simple",filterOnType:Ie==="filter",horizontalScrolling:st,keyboardNavigationEventFilter:$o(tn,p),additionalScrollHeight:mt,hideTwistiesOfChildlessElements:G.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(Z=G.expandOnlyOnTwistieClick)!==null&&Z!==void 0?Z:fe.getValue(Jo)==="doubleClick"})}}let es=class{constructor(G,q,fe,p,F,Z,de,pe,Ie){this.tree=G,this.themeService=de,this.disposables=[],this.contextKeyService=En(F,G),this.listSupportsMultiSelect=Kn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(q.multipleSelectionSupport!==!1),Ye.bindTo(this.contextKeyService).set(Boolean(q.selectionNavigation)),this.hasSelectionOrFocus=Vi.bindTo(this.contextKeyService),this.hasDoubleSelection=Oi.bindTo(this.contextKeyService),this.hasMultiSelection=_i.bindTo(this.contextKeyService),this.treeElementCanCollapse=It.bindTo(this.contextKeyService),this.treeElementHasParent=cn.bindTo(this.contextKeyService),this.treeElementCanExpand=on.bindTo(this.contextKeyService),this.treeElementHasChild=bn.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=co(pe);const ot=new Set;ot.add(hi);const pt=()=>{const ft=Ie.isScreenReaderOptimized()?"simple":pe.getValue(ui);G.updateOptions({simpleKeyboardNavigation:ft==="simple",filterOnType:ft==="filter"})};this.updateStyleOverrides(p);const mt=()=>{const xt=G.getFocus()[0];if(!xt)return;const ft=G.getNode(xt);this.treeElementCanCollapse.set(ft.collapsible&&!ft.collapsed),this.treeElementHasParent.set(!!G.getParentElement(xt)),this.treeElementCanExpand.set(ft.collapsible&&ft.collapsed),this.treeElementHasChild.set(!!G.getFirstElementChild(xt))};this.disposables.push(this.contextKeyService,Z.register(G),G.onDidChangeSelection(()=>{const xt=G.getSelection(),ft=G.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(xt.length>0||ft.length>0),this.hasMultiSelection.set(xt.length>1),this.hasDoubleSelection.set(xt.length===2)})}),G.onDidChangeFocus(()=>{const xt=G.getSelection(),ft=G.getFocus();this.hasSelectionOrFocus.set(xt.length>0||ft.length>0),mt()}),G.onDidChangeCollapseState(mt),G.onDidChangeModel(mt),pe.onDidChangeConfiguration(xt=>{let ft={};if(xt.affectsConfiguration(Zi)&&(this._useAltAsMultipleSelectionModifier=co(pe)),xt.affectsConfiguration(Xs)){const wt=pe.getValue(Xs);ft=Object.assign(Object.assign({},ft),{indent:wt})}if(xt.affectsConfiguration(zs)){const wt=pe.getValue(zs);ft=Object.assign(Object.assign({},ft),{renderIndentGuides:wt})}if(xt.affectsConfiguration(Ki)){const wt=Boolean(pe.getValue(Ki));ft=Object.assign(Object.assign({},ft),{smoothScrolling:wt})}if(xt.affectsConfiguration(ui)&&pt(),xt.affectsConfiguration(qi)&&(ft=Object.assign(Object.assign({},ft),{automaticKeyboardNavigation:fe()})),xt.affectsConfiguration(ki)&&q.horizontalScrolling===void 0){const wt=Boolean(pe.getValue(ki));ft=Object.assign(Object.assign({},ft),{horizontalScrolling:wt})}if(xt.affectsConfiguration(Jo)&&q.expandOnlyOnTwistieClick===void 0&&(ft=Object.assign(Object.assign({},ft),{expandOnlyOnTwistieClick:pe.getValue(Jo)==="doubleClick"})),xt.affectsConfiguration(Os)){const wt=pe.getValue(Os);ft=Object.assign(Object.assign({},ft),{mouseWheelScrollSensitivity:wt})}if(xt.affectsConfiguration(ai)){const wt=pe.getValue(ai);ft=Object.assign(Object.assign({},ft),{fastScrollSensitivity:wt})}Object.keys(ft).length>0&&G.updateOptions(ft)}),this.contextKeyService.onDidChangeContext(xt=>{xt.affectsSome(ot)&&G.updateOptions({automaticKeyboardNavigation:fe()})}),Ie.onDidChangeScreenReaderOptimized(()=>pt())),this.navigator=new Po(G,Object.assign({configurationService:pe},q)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(G){G.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!G.multipleSelectionSupport)}updateStyleOverrides(G){(0,y.B9)(this.styler),this.styler=G?(0,oi.Jl)(this.tree,this.themeService,G):y.JT.None}dispose(){this.disposables=(0,y.B9)(this.disposables),(0,y.B9)(this.styler),this.styler=void 0}};es=Ci([On(4,Sn.i6),On(5,Si),On(6,Yn.XE),On(7,xn.Ui),On(8,Nn.F)],es),Bi.B.as(Xn.IP.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,oe.N)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[Zi]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[(0,oe.N)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),(0,oe.N)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:(0,oe.N)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[ri]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,oe.N)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[ki]:{type:"boolean",default:!1,description:(0,oe.N)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[Xs]:{type:"number",default:8,minimum:4,maximum:40,description:(0,oe.N)("tree indent setting","Controls tree indentation in pixels.")},[zs]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,oe.N)("render tree indent guides","Controls whether the tree should render indent guides.")},[Ki]:{type:"boolean",default:!1,description:(0,oe.N)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[Os]:{type:"number",default:1,description:(0,oe.N)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[ai]:{type:"number",default:5,description:(0,oe.N)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[ui]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,oe.N)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),(0,oe.N)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),(0,oe.N)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:(0,oe.N)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},[qi]:{type:"boolean",default:!0,markdownDescription:(0,oe.N)("automatic keyboard navigation setting","Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")},[Jo]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,oe.N)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}})},76057:function(it,Ee,l){"use strict";l.d(Ee,{$V:function(){return I},VZ:function(){return O},in:function(){return y},kw:function(){return M}});var C=l(60774),d=l(1405),z=l(95024);const O=(0,z.yh)("logService");var y;(function(w){w[w.Trace=0]="Trace",w[w.Debug=1]="Debug",w[w.Info=2]="Info",w[w.Warning=3]="Warning",w[w.Error=4]="Error",w[w.Critical=5]="Critical",w[w.Off=6]="Off"})(y||(y={}));const W=y.Info;class A extends d.JT{constructor(){super(...arguments),this.level=W,this._onDidChangeLogLevel=this._register(new C.Q5)}setLevel(_){this.level!==_&&(this.level=_,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class M extends A{constructor(_=W){super(),this.setLevel(_)}trace(_,...f){this.getLevel()<=y.Trace&&console.log("%cTRACE","color: #888",_,...f)}debug(_,...f){this.getLevel()<=y.Debug&&console.log("%cDEBUG","background: #eee; color: #888",_,...f)}info(_,...f){this.getLevel()<=y.Info&&console.log("%c INFO","color: #33f",_,...f)}error(_,...f){this.getLevel()<=y.Error&&console.log("%c  ERR","color: #f33",_,...f)}dispose(){}}class I extends d.JT{constructor(_){super(),this.logger=_,this._register(_)}getLevel(){return this.logger.getLevel()}trace(_,...f){this.logger.trace(_,...f)}debug(_,...f){this.logger.debug(_,...f)}info(_,...f){this.logger.info(_,...f)}error(_,...f){this.logger.error(_,...f)}}},28236:function(it,Ee,l){"use strict";l.d(Ee,{H0:function(){return y},ZL:function(){return O},lT:function(){return W}});var C=l(75780),d=l(82215),z=l(95024),O;(function(A){A[A.Hint=1]="Hint",A[A.Info=2]="Info",A[A.Warning=4]="Warning",A[A.Error=8]="Error"})(O||(O={})),function(A){function M(m,a){return a-m}A.compare=M;const I=Object.create(null);I[A.Error]=(0,d.N)("sev.error","Error"),I[A.Warning]=(0,d.N)("sev.warning","Warning"),I[A.Info]=(0,d.N)("sev.info","Info");function w(m){return I[m]||""}A.toString=w;function _(m){switch(m){case C.Z.Error:return A.Error;case C.Z.Warning:return A.Warning;case C.Z.Info:return A.Info;case C.Z.Ignore:return A.Hint}}A.fromSeverity=_;function f(m){switch(m){case A.Error:return C.Z.Error;case A.Warning:return C.Z.Warning;case A.Info:return C.Z.Info;case A.Hint:return C.Z.Ignore}}A.toSeverity=f}(O||(O={}));var y;(function(A){const M="";function I(_){return w(_,!0)}A.makeKey=I;function w(_,f){let m=[M];return _.source?m.push(_.source.replace("\xA6","\\\xA6")):m.push(M),_.code?typeof _.code=="string"?m.push(_.code.replace("\xA6","\\\xA6")):m.push(_.code.value.replace("\xA6","\\\xA6")):m.push(M),_.severity!==void 0&&_.severity!==null?m.push(O.toString(_.severity)):m.push(M),_.message&&f?m.push(_.message.replace("\xA6","\\\xA6")):m.push(M),_.startLineNumber!==void 0&&_.startLineNumber!==null?m.push(_.startLineNumber.toString()):m.push(M),_.startColumn!==void 0&&_.startColumn!==null?m.push(_.startColumn.toString()):m.push(M),_.endLineNumber!==void 0&&_.endLineNumber!==null?m.push(_.endLineNumber.toString()):m.push(M),_.endColumn!==void 0&&_.endColumn!==null?m.push(_.endColumn.toString()):m.push(M),m.push(M),m.join("\xA6")}A.makeKeyOptionalMessage=w})(y||(y={}));const W=(0,z.yh)("markerService")},3565:function(it,Ee,l){"use strict";l.d(Ee,{EO:function(){return y},lT:function(){return O},zb:function(){return z}});var C=l(75780),d=l(95024),z=C.Z;const O=(0,d.yh)("notificationService");class y{}},83926:function(it,Ee,l){"use strict";l.d(Ee,{Gs:function(){return I},SW:function(){return A},v4:function(){return W},xI:function(){return w},xn:function(){return M}});var C=l(1405),d=l(76311),z=l(47087),O=l(95024),y=function(_,f,m,a){function x(k){return k instanceof m?k:new m(function(T){T(k)})}return new(m||(m=Promise))(function(k,T){function N(b){try{R(a.next(b))}catch(P){T(P)}}function L(b){try{R(a.throw(b))}catch(P){T(P)}}function R(b){b.done?k(b.value):x(b.value).then(N,L)}R((a=a.apply(_,f||[])).next())})};const W=(0,O.yh)("openerService"),A=Object.freeze({_serviceBrand:void 0,registerOpener(){return C.JT.None},registerValidator(){return C.JT.None},registerExternalUriResolver(){return C.JT.None},setDefaultExternalOpener(){},registerExternalOpener(){return C.JT.None},open(){return y(this,void 0,void 0,function*(){return!1})},resolveExternalUri(_){return y(this,void 0,void 0,function*(){return{resolved:_,dispose(){}}})}});function M(_,f){return z.o.isUri(_)?(0,d.qq)(_.scheme,f):(0,d.ok)(_,f+":")}function I(_,...f){return f.some(m=>M(_,m))}function w(_){let f;const m=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(_.fragment);return m&&(f={startLineNumber:parseInt(m[1]),startColumn:m[2]?parseInt(m[2]):1,endLineNumber:m[4]?parseInt(m[4]):void 0,endColumn:m[4]?m[5]?parseInt(m[5]):1:void 0},_=_.with({fragment:""})),{selection:f,uri:_}}},11476:function(it,Ee,l){"use strict";l.d(Ee,{Ex:function(){return z},ek:function(){return O}});var C=l(95024);const d=Object.freeze({total(){},worked(){},done(){}});class z{constructor(W){this.callback=W}report(W){this._value=W,this.callback(this._value)}}z.None=Object.freeze({report(){}});const O=(0,C.yh)("editorProgressService")},89913:function(it,Ee,l){"use strict";l.d(Ee,{IP:function(){return y},Ry:function(){return O}});var C=l(825),d=l(1405),z=l(1062),O;(function(A){A[A.PRESERVE=0]="PRESERVE",A[A.LAST=1]="LAST"})(O||(O={}));const y={Quickaccess:"workbench.contributions.quickaccess"};class W{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(M){return M.prefix.length===0?this.defaultProvider=M:this.providers.push(M),this.providers.sort((I,w)=>w.prefix.length-I.prefix.length),(0,d.OF)(()=>{this.providers.splice(this.providers.indexOf(M),1),this.defaultProvider===M&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,C.kX)([this.defaultProvider,...this.providers])}getQuickAccessProvider(M){return M&&this.providers.find(w=>M.startsWith(w.prefix))||void 0||this.defaultProvider}}z.B.add(y.Quickaccess,new W)},52045:function(it,Ee,l){"use strict";l.d(Ee,{eJ:function(){return z},jG:function(){return d.jG}});var C=l(95024),d=l(76176);const z=(0,C.yh)("quickInputService")},1062:function(it,Ee,l){"use strict";l.d(Ee,{B:function(){return O}});var C=l(83158),d=l(37061);class z{constructor(){this.data=new Map}add(W,A){C.ok(d.HD(W)),C.ok(d.Kn(A)),C.ok(!this.data.has(W),"There is already an extension with this id"),this.data.set(W,A)}as(W){return this.data.get(W)||null}}const O=new z},99371:function(it,Ee,l){"use strict";l.d(Ee,{Uy:function(){return _},vm:function(){return a},fk:function(){return f}});var C=l(60774),d=l(1405),z=l(37061),O=l(57186),y=function(x,k,T,N){function L(R){return R instanceof T?R:new T(function(b){b(R)})}return new(T||(T=Promise))(function(R,b){function P(ee){try{H(N.next(ee))}catch(ae){b(ae)}}function V(ee){try{H(N.throw(ee))}catch(ae){b(ae)}}function H(ee){ee.done?R(ee.value):L(ee.value).then(P,V)}H((N=N.apply(x,k||[])).next())})},W;(function(x){x[x.None=0]="None",x[x.Initialized=1]="Initialized",x[x.Closed=2]="Closed"})(W||(W={}));class A extends d.JT{constructor(k,T=Object.create(null)){super(),this.database=k,this.options=T,this._onDidChangeStorage=this._register(new C.Q5),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=W.None,this.cache=new Map,this.flushDelayer=new O.rH(A.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(k=>this.onDidChangeItemsExternal(k)))}onDidChangeItemsExternal(k){var T,N;(T=k.changed)===null||T===void 0||T.forEach((L,R)=>this.accept(R,L)),(N=k.deleted)===null||N===void 0||N.forEach(L=>this.accept(L,void 0))}accept(k,T){if(this.state===W.Closed)return;let N=!1;(0,z.Jp)(T)?N=this.cache.delete(k):this.cache.get(k)!==T&&(this.cache.set(k,T),N=!0),N&&this._onDidChangeStorage.fire(k)}get(k,T){const N=this.cache.get(k);return(0,z.Jp)(N)?T:N}getBoolean(k,T){const N=this.get(k);return(0,z.Jp)(N)?T:N==="true"}getNumber(k,T){const N=this.get(k);return(0,z.Jp)(N)?T:parseInt(N,10)}set(k,T){return y(this,void 0,void 0,function*(){if(this.state===W.Closed)return;if((0,z.Jp)(T))return this.delete(k);const N=String(T);if(this.cache.get(k)!==N)return this.cache.set(k,N),this.pendingInserts.set(k,N),this.pendingDeletes.delete(k),this._onDidChangeStorage.fire(k),this.doFlush()})}delete(k){return y(this,void 0,void 0,function*(){if(!(this.state===W.Closed||!this.cache.delete(k)))return this.pendingDeletes.has(k)||this.pendingDeletes.add(k),this.pendingInserts.delete(k),this._onDidChangeStorage.fire(k),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return y(this,void 0,void 0,function*(){if(!this.hasPending)return;const k={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(k).finally(()=>{var T;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(T=this.whenFlushedCallbacks.pop())===null||T===void 0||T()})})}doFlush(k){return y(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),k)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}A.DEFAULT_FLUSH_DELAY=100;class M{constructor(){this.onDidChangeItemsExternal=C.ju.None,this.items=new Map}updateItems(k){return y(this,void 0,void 0,function*(){k.insert&&k.insert.forEach((T,N)=>this.items.set(N,T)),k.delete&&k.delete.forEach(T=>this.items.delete(T))})}}var I=l(95024);const w="__$__targetStorageMarker",_=(0,I.yh)("storageService");var f;(function(x){x[x.NONE=0]="NONE",x[x.SHUTDOWN=1]="SHUTDOWN"})(f||(f={}));class m extends d.JT{constructor(k={flushInterval:m.DEFAULT_FLUSH_INTERVAL}){super(),this.options=k,this._onDidChangeValue=this._register(new C.K3),this._onDidChangeTarget=this._register(new C.K3),this._onWillSaveState=this._register(new C.Q5),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(k,T){T===w?(k===0?this._globalKeyTargets=void 0:k===1&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:k})):this._onDidChangeValue.fire({scope:k,key:T,target:this.getKeyTargets(k)[T]})}get(k,T,N){var L;return(L=this.getStorage(T))===null||L===void 0?void 0:L.get(k,N)}getBoolean(k,T,N){var L;return(L=this.getStorage(T))===null||L===void 0?void 0:L.getBoolean(k,N)}getNumber(k,T,N){var L;return(L=this.getStorage(T))===null||L===void 0?void 0:L.getNumber(k,N)}store(k,T,N,L){if((0,z.Jp)(T)){this.remove(k,N);return}this.withPausedEmitters(()=>{var R;this.updateKeyTarget(k,N,L),(R=this.getStorage(N))===null||R===void 0||R.set(k,T)})}remove(k,T){this.withPausedEmitters(()=>{var N;this.updateKeyTarget(k,T,void 0),(N=this.getStorage(T))===null||N===void 0||N.delete(k)})}withPausedEmitters(k){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{k()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(k,T,N){var L,R;const b=this.getKeyTargets(T);typeof N=="number"?b[k]!==N&&(b[k]=N,(L=this.getStorage(T))===null||L===void 0||L.set(w,JSON.stringify(b))):typeof b[k]=="number"&&(delete b[k],(R=this.getStorage(T))===null||R===void 0||R.set(w,JSON.stringify(b)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(k){return k===0?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(k){const T=this.get(w,k);if(T)try{return JSON.parse(T)}catch(N){}return Object.create(null)}}m.DEFAULT_FLUSH_INTERVAL=60*1e3;class a extends m{constructor(){super(),this.globalStorage=this._register(new A(new M)),this.workspaceStorage=this._register(new A(new M)),this._register(this.workspaceStorage.onDidChangeStorage(k=>this.emitDidChangeValue(1,k))),this._register(this.globalStorage.onDidChangeStorage(k=>this.emitDidChangeValue(0,k)))}getStorage(k){return k===0?this.globalStorage:this.workspaceStorage}}},27983:function(it,Ee,l){"use strict";l.d(Ee,{b:function(){return d}});var C=l(95024);const d=(0,C.yh)("telemetryService")},58385:function(it,Ee,l){"use strict";l.d(Ee,{$DX:function(){return fi},$d5:function(){return Xi},ABB:function(){return Zt},AS1:function(){return Gs},AWI:function(){return Mn},BOY:function(){return Oa},C3g:function(){return be},CA6:function(){return gs},CNo:function(){return Pi},Cdg:function(){return wt},CzK:function(){return Zi},D0T:function(){return lt},D1_:function(){return Ue},DEr:function(){return _n},Dut:function(){return ht},E3h:function(){return Fi},EPQ:function(){return Me},EQn:function(){return st},ES4:function(){return Xn},EiJ:function(){return Yn},F3d:function(){return Go},F9q:function(){return ai},Fm_:function(){return is},Fu1:function(){return hi},GO4:function(){return Ze},Gj_:function(){return er},Gwp:function(){return es},HCL:function(){return on},Hfx:function(){return Cn},Hz8:function(){return $n},IPX:function(){return I},IYc:function(){return wo},Ido:function(){return a},Itd:function(){return so},Ivo:function(){return jl},JpG:function(){return sa},K19:function(){return kn},LLc:function(){return Ks},L_H:function(){return en},L_t:function(){return ts},LoV:function(){return Vi},M6C:function(){return Ns},MUv:function(){return An},NOs:function(){return Ht},NPS:function(){return mt},Ng6:function(){return Pt},OLZ:function(){return kr},OZR:function(){return Kt},Oop:function(){return Us},P4M:function(){return ui},P6G:function(){return f},P6Y:function(){return Os},PRb:function(){return $},PX0:function(){return va},PpC:function(){return Ye},Pvw:function(){return J},QO2:function(){return M},R80:function(){return T},RV_:function(){return Ke},Rzx:function(){return Sn},SPM:function(){return Ts},SUG:function(){return De},SUY:function(){return Ls},Saq:function(){return F},Sbf:function(){return Kn},Snq:function(){return oo},SwI:function(){return me},T83:function(){return Fe},Tnx:function(){return Vo},UnT:function(){return pe},VVv:function(){return _i},Vqd:function(){return ft},XEs:function(){return ie},XL$:function(){return Jo},XZx:function(){return k},Xy4:function(){return Yo},YI3:function(){return we},ZGJ:function(){return jt},ZnX:function(){return mi},_2n:function(){return Lo},_Yy:function(){return Oi},_bK:function(){return bo},_lC:function(){return ce},_t9:function(){return et},_wn:function(){return gt},b6y:function(){return Le},b7$:function(){return Wt},bKB:function(){return cn},brw:function(){return pr},c63:function(){return Ne},cbQ:function(){return xt},cvW:function(){return gn},dCr:function(){return Rs},dRz:function(){return m},dt_:function(){return X},etL:function(){return Rt},fEB:function(){return Qt},few:function(){return wn},g8u:function(){return Tt},g_n:function(){return Gn},gkn:function(){return Ci},gpD:function(){return nn},hEj:function(){return Nn},hX8:function(){return It},hzo:function(){return qi},j51:function(){return zs},j5u:function(){return Et},jUe:function(){return Bi},jbW:function(){return Wn},kJk:function(){return Se},kVY:function(){return Pa},keg:function(){return ri},kvU:function(){return go},kwl:function(){return $s},lRK:function(){return N},lUq:function(){return vi},lWp:function(){return mn},lXJ:function(){return vt},loF:function(){return Ve},mHy:function(){return co},mV1:function(){return qo},nyM:function(){return ti},oQ$:function(){return Jt},oSI:function(){return p},opG:function(){return St},ov3:function(){return Ho},pW3:function(){return ei},paE:function(){return We},phM:function(){return bn},pnM:function(){return oi},ptc:function(){return Di},qeD:function(){return Mt},rg2:function(){return Po},rh:function(){return ge},s$:function(){return Is},sEe:function(){return re},sKV:function(){return En},sgC:function(){return V},tZ6:function(){return He},uoC:function(){return sn},url:function(){return P},uxu:function(){return Ie},vGG:function(){return fe},xL1:function(){return L},xi6:function(){return Xs},yJx:function(){return ni},yb5:function(){return xn},ynu:function(){return hn},ypS:function(){return ki},ytC:function(){return $o},zJb:function(){return se},zKr:function(){return Lt},zOm:function(){return Ki},zRJ:function(){return Pe}});var C=l(57186),d=l(8957),z=l(60774),O=l(37061),y=l(82215),W=l(82393),A=l(1062);function M(Ji){return`--vscode-${Ji.replace(/\./g,"-")}`}const I={ColorContribution:"base.contributions.colors"};class w{constructor(){this._onDidChangeSchema=new z.Q5,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(Cs,ro,Do,js=!1,Oo){let Lr={id:Cs,description:Do,defaults:ro,needsTransparency:js,deprecationMessage:Oo};this.colorsById[Cs]=Lr;let Ga={type:"string",description:Do,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return Oo&&(Ga.deprecationMessage=Oo),this.colorSchema.properties[Cs]=Ga,this.colorReferenceSchema.enum.push(Cs),this.colorReferenceSchema.enumDescriptions.push(Do),this._onDidChangeSchema.fire(),Cs}getColors(){return Object.keys(this.colorsById).map(Cs=>this.colorsById[Cs])}resolveDefaultColor(Cs,ro){const Do=this.colorsById[Cs];if(Do&&Do.defaults){const js=Do.defaults[ro.type];return oo(js,ro)}}getColorSchema(){return this.colorSchema}toString(){let Cs=(ro,Do)=>{let js=ro.indexOf(".")===-1?0:1,Oo=Do.indexOf(".")===-1?0:1;return js!==Oo?js-Oo:ro.localeCompare(Do)};return Object.keys(this.colorsById).sort(Cs).map(ro=>`- \`${ro}\`: ${this.colorsById[ro].description}`).join(`
`)}}const _=new w;A.B.add(I.ColorContribution,_);function f(Ji,Cs,ro,Do,js){return _.registerColor(Ji,Cs,ro,Do,js)}const m=f("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},y.N("foreground","Overall foreground color. This color is only used if not overridden by a component.")),a=f("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},y.N("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),x=f("descriptionForeground",{light:"#717171",dark:mi(m,.7),hc:mi(m,.7)},y.N("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),k=f("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},y.N("iconForeground","The default color for icons in the workbench.")),T=f("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},y.N("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),N=f("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},y.N("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),L=f("contrastActiveBorder",{light:null,dark:null,hc:T},y.N("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),R=f("selection.background",{light:null,dark:null,hc:null},y.N("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),b=f("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hc:d.Il.black},y.N("textSeparatorForeground","Color for text separators.")),P=f("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},y.N("textLinkForeground","Foreground color for links in text.")),V=f("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},y.N("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),H=f("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hc:"#D7BA7D"},y.N("textPreformatForeground","Foreground color for preformatted text segments.")),ee=f("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hc:null},y.N("textBlockQuoteBackground","Background color for block quotes in text.")),ae=f("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hc:d.Il.white},y.N("textBlockQuoteBorder","Border color for block quotes in text.")),me=f("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:d.Il.black},y.N("textCodeBlockBackground","Background color for code blocks in text.")),ge=f("widget.shadow",{dark:mi(d.Il.black,.36),light:mi(d.Il.black,.16),hc:null},y.N("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),re=f("input.background",{dark:"#3C3C3C",light:d.Il.white,hc:d.Il.black},y.N("inputBoxBackground","Input box background.")),se=f("input.foreground",{dark:m,light:m,hc:m},y.N("inputBoxForeground","Input box foreground.")),X=f("input.border",{dark:null,light:null,hc:N},y.N("inputBoxBorder","Input box border.")),$=f("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:N},y.N("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),j=f("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hc:null},y.N("inputOption.hoverBackground","Background color of activated options in input fields.")),ie=f("inputOption.activeBackground",{dark:mi(T,.4),light:mi(T,.2),hc:d.Il.transparent},y.N("inputOption.activeBackground","Background hover color of options in input fields.")),J=f("inputOption.activeForeground",{dark:d.Il.white,light:d.Il.black,hc:null},y.N("inputOption.activeForeground","Foreground color of activated options in input fields.")),oe=f("input.placeholderForeground",{light:mi(m,.5),dark:mi(m,.5),hc:mi(m,.7)},y.N("inputPlaceholderForeground","Input box foreground color for placeholder text.")),ce=f("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:d.Il.black},y.N("inputValidationInfoBackground","Input validation background color for information severity.")),we=f("inputValidation.infoForeground",{dark:null,light:null,hc:null},y.N("inputValidationInfoForeground","Input validation foreground color for information severity.")),Me=f("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:N},y.N("inputValidationInfoBorder","Input validation border color for information severity.")),Ke=f("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:d.Il.black},y.N("inputValidationWarningBackground","Input validation background color for warning severity.")),De=f("inputValidation.warningForeground",{dark:null,light:null,hc:null},y.N("inputValidationWarningForeground","Input validation foreground color for warning severity.")),be=f("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:N},y.N("inputValidationWarningBorder","Input validation border color for warning severity.")),We=f("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:d.Il.black},y.N("inputValidationErrorBackground","Input validation background color for error severity.")),et=f("inputValidation.errorForeground",{dark:null,light:null,hc:null},y.N("inputValidationErrorForeground","Input validation foreground color for error severity.")),Kt=f("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:N},y.N("inputValidationErrorBorder","Input validation border color for error severity.")),_t=f("dropdown.background",{dark:"#3C3C3C",light:d.Il.white,hc:d.Il.black},y.N("dropdownBackground","Dropdown background.")),tt=f("dropdown.listBackground",{dark:null,light:null,hc:d.Il.black},y.N("dropdownListBackground","Dropdown list background.")),kt=f("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:d.Il.white},y.N("dropdownForeground","Dropdown foreground.")),Ut=f("dropdown.border",{dark:_t,light:"#CECECE",hc:N},y.N("dropdownBorder","Dropdown border.")),Ft=f("checkbox.background",{dark:_t,light:_t,hc:_t},y.N("checkbox.background","Background color of checkbox widget.")),Te=f("checkbox.foreground",{dark:kt,light:kt,hc:kt},y.N("checkbox.foreground","Foreground color of checkbox widget.")),Ge=f("checkbox.border",{dark:Ut,light:Ut,hc:Ut},y.N("checkbox.border","Border color of checkbox widget.")),Et=f("button.foreground",{dark:d.Il.white,light:d.Il.white,hc:d.Il.white},y.N("buttonForeground","Button foreground color.")),Wt=f("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},y.N("buttonBackground","Button background color.")),Ze=f("button.hoverBackground",{dark:lr(Wt,.2),light:Ca(Wt,.2),hc:null},y.N("buttonHoverBackground","Button background color when hovering.")),xe=f("button.border",{dark:N,light:N,hc:N},y.N("buttonBorder","Button border color.")),ve=f("button.secondaryForeground",{dark:d.Il.white,light:d.Il.white,hc:d.Il.white},y.N("buttonSecondaryForeground","Secondary button foreground color.")),$e=f("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hc:null},y.N("buttonSecondaryBackground","Secondary button background color.")),at=f("button.secondaryHoverBackground",{dark:lr($e,.2),light:Ca($e,.2),hc:null},y.N("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),Tt=f("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:d.Il.black},y.N("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),Mt=f("badge.foreground",{dark:d.Il.white,light:"#333",hc:d.Il.white},y.N("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),gt=f("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},y.N("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),Rt=f("scrollbarSlider.background",{dark:d.Il.fromHex("#797979").transparent(.4),light:d.Il.fromHex("#646464").transparent(.4),hc:mi(N,.6)},y.N("scrollbarSliderBackground","Scrollbar slider background color.")),Zt=f("scrollbarSlider.hoverBackground",{dark:d.Il.fromHex("#646464").transparent(.7),light:d.Il.fromHex("#646464").transparent(.7),hc:mi(N,.8)},y.N("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),hn=f("scrollbarSlider.activeBackground",{dark:d.Il.fromHex("#BFBFBF").transparent(.4),light:d.Il.fromHex("#000000").transparent(.6),hc:N},y.N("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),Pe=f("progressBar.background",{dark:d.Il.fromHex("#0E70C0"),light:d.Il.fromHex("#0E70C0"),hc:N},y.N("progressBarBackground","Background color of the progress bar that can show for long running operations.")),en=f("editorError.background",{dark:null,light:null,hc:null},y.N("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),vt=f("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hc:null},y.N("editorError.foreground","Foreground color of error squigglies in the editor.")),Le=f("editorError.border",{dark:null,light:null,hc:d.Il.fromHex("#E47777").transparent(.8)},y.N("errorBorder","Border color of error boxes in the editor.")),nn=f("editorWarning.background",{dark:null,light:null,hc:null},y.N("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),sn=f("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},y.N("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),ei=f("editorWarning.border",{dark:null,light:null,hc:d.Il.fromHex("#FFCC00").transparent(.8)},y.N("warningBorder","Border color of warning boxes in the editor.")),wn=f("editorInfo.background",{dark:null,light:null,hc:null},y.N("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Ne=f("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hc:"#3794FF"},y.N("editorInfo.foreground","Foreground color of info squigglies in the editor.")),Fe=f("editorInfo.border",{dark:null,light:null,hc:d.Il.fromHex("#3794FF").transparent(.8)},y.N("infoBorder","Border color of info boxes in the editor.")),ht=f("editorHint.foreground",{dark:d.Il.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},y.N("editorHint.foreground","Foreground color of hint squigglies in the editor.")),Qt=f("editorHint.border",{dark:null,light:null,hc:d.Il.fromHex("#eeeeee").transparent(.8)},y.N("hintBorder","Border color of hint boxes in the editor.")),dn=f("sash.hoverBorder",{dark:T,light:T,hc:T},y.N("sashActiveBorder","Border color of active sashes.")),gn=f("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:d.Il.black},y.N("editorBackground","Editor background color.")),Ht=f("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:d.Il.white},y.N("editorForeground","Editor default foreground color.")),lt=f("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},y.N("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),Cn=f("editorWidget.foreground",{dark:m,light:m,hc:m},y.N("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),Ue=f("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:N},y.N("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),Pt=f("editorWidget.resizeBorder",{light:null,dark:null,hc:null},y.N("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),Lt=f("quickInput.background",{dark:lt,light:lt,hc:lt},y.N("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),He=f("quickInput.foreground",{dark:Cn,light:Cn,hc:Cn},y.N("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),Ve=f("quickInputTitle.background",{dark:new d.Il(new d.VS(255,255,255,.105)),light:new d.Il(new d.VS(0,0,0,.06)),hc:"#000000"},y.N("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),Se=f("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:d.Il.white},y.N("pickerGroupForeground","Quick picker color for grouping labels.")),St=f("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:d.Il.white},y.N("pickerGroupBorder","Quick picker color for grouping borders.")),Jt=f("keybindingLabel.background",{dark:new d.Il(new d.VS(128,128,128,.17)),light:new d.Il(new d.VS(221,221,221,.4)),hc:d.Il.transparent},y.N("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),mn=f("keybindingLabel.foreground",{dark:d.Il.fromHex("#CCCCCC"),light:d.Il.fromHex("#555555"),hc:d.Il.white},y.N("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Mn=f("keybindingLabel.border",{dark:new d.Il(new d.VS(51,51,51,.6)),light:new d.Il(new d.VS(204,204,204,.4)),hc:new d.Il(new d.VS(111,195,223))},y.N("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),kn=f("keybindingLabel.bottomBorder",{dark:new d.Il(new d.VS(68,68,68,.6)),light:new d.Il(new d.VS(187,187,187,.4)),hc:new d.Il(new d.VS(111,195,223))},y.N("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),Nn=f("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},y.N("editorSelectionBackground","Color of the editor selection.")),xn=f("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},y.N("editorSelectionForeground","Color of the selected text for high contrast.")),Xn=f("editor.inactiveSelectionBackground",{light:mi(Nn,.5),dark:mi(Nn,.5),hc:mi(Nn,.5)},y.N("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),Sn=f("editor.selectionHighlightBackground",{light:zo(Nn,gn,.3,.6),dark:zo(Nn,gn,.3,.6),hc:null},y.N("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),Gn=f("editor.selectionHighlightBorder",{light:null,dark:null,hc:L},y.N("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),ti=f("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},y.N("editorFindMatch","Color of the current search match.")),An=f("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},y.N("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),Bi=f("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},y.N("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),oi=f("editor.findMatchBorder",{light:null,dark:null,hc:L},y.N("editorFindMatchBorder","Border color of the current search match.")),Yn=f("editor.findMatchHighlightBorder",{light:null,dark:null,hc:L},y.N("findMatchHighlightBorder","Border color of the other search matches.")),Ci=f("editor.findRangeHighlightBorder",{dark:null,light:null,hc:mi(L,.4)},y.N("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),On=f("searchEditor.findMatchBackground",{light:mi(An,.66),dark:mi(An,.66),hc:An},y.N("searchEditor.queryMatch","Color of the Search Editor query matches.")),Si=f("searchEditor.findMatchBorder",{light:mi(Yn,.66),dark:mi(Yn,.66),hc:Yn},y.N("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),Di=f("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},y.N("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),ni=f("editorHoverWidget.background",{light:lt,dark:lt,hc:lt},y.N("hoverBackground","Background color of the editor hover.")),Kn=f("editorHoverWidget.foreground",{light:Cn,dark:Cn,hc:Cn},y.N("hoverForeground","Foreground color of the editor hover.")),Pi=f("editorHoverWidget.border",{light:Ue,dark:Ue,hc:Ue},y.N("hoverBorder","Border color of the editor hover.")),Vi=f("editorHoverWidget.statusBarBackground",{dark:lr(ni,.2),light:Ca(ni,.05),hc:lt},y.N("statusBarBackground","Background color of the editor hover status bar.")),Oi=f("editorLink.activeForeground",{dark:"#4E94CE",light:d.Il.blue,hc:d.Il.cyan},y.N("activeLinkForeground","Color of active links.")),_i=f("editorInlayHint.foreground",{dark:mi(Mt,.8),light:mi(Mt,.8),hc:Mt},y.N("editorInlayHintForeground","Foreground color of inline hints")),Ye=f("editorInlayHint.background",{dark:mi(Tt,.6),light:mi(Tt,.3),hc:Tt},y.N("editorInlayHintBackground","Background color of inline hints")),It=f("editorInlayHint.typeForeground",{dark:_i,light:_i,hc:_i},y.N("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),cn=f("editorInlayHint.typeBackground",{dark:Ye,light:Ye,hc:Ye},y.N("editorInlayHintBackgroundTypes","Background color of inline hints for types")),on=f("editorInlayHint.parameterForeground",{dark:_i,light:_i,hc:_i},y.N("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),bn=f("editorInlayHint.parameterBackground",{dark:Ye,light:Ye,hc:Ye},y.N("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),hi=f("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},y.N("editorLightBulbForeground","The color used for the lightbulb actions icon.")),En=f("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},y.N("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),Zi=new d.Il(new d.VS(155,185,85,.2)),ri=new d.Il(new d.VS(255,0,0,.2)),ki=f("diffEditor.insertedTextBackground",{dark:Zi,light:Zi,hc:null},y.N("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),ui=f("diffEditor.removedTextBackground",{dark:ri,light:ri,hc:null},y.N("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),qi=f("diffEditor.insertedLineBackground",{dark:null,light:null,hc:null},y.N("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Xs=f("diffEditor.removedLineBackground",{dark:null,light:null,hc:null},y.N("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),zs=f("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hc:null},y.N("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),Ki=f("diffEditorGutter.removedLineBackground",{dark:null,light:null,hc:null},y.N("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),Os=f("diffEditorOverview.insertedForeground",{dark:null,light:null,hc:null},y.N("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),ai=f("diffEditorOverview.removedForeground",{dark:null,light:null,hc:null},y.N("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),Jo=f("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},y.N("diffEditorInsertedOutline","Outline color for the text that got inserted.")),co=f("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},y.N("diffEditorRemovedOutline","Outline color for text that got removed.")),Ks=f("diffEditor.border",{dark:null,light:null,hc:N},y.N("diffEditorBorder","Border color between the two text editors.")),ts=f("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},y.N("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),bo=f("list.focusBackground",{dark:null,light:null,hc:null},y.N("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Lo=f("list.focusForeground",{dark:null,light:null,hc:null},y.N("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Us=f("list.focusOutline",{dark:T,light:T,hc:L},y.N("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Rs=f("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},y.N("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Ns=f("list.activeSelectionForeground",{dark:d.Il.white,light:d.Il.white,hc:null},y.N("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Vo=f("list.activeSelectionIconForeground",{dark:null,light:null,hc:null},y.N("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Po=f("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},y.N("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),$o=f("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},y.N("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),go=f("list.inactiveSelectionIconForeground",{dark:null,light:null,hc:null},y.N("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Is=f("list.inactiveFocusBackground",{dark:null,light:null,hc:null},y.N("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Go=f("list.inactiveFocusOutline",{dark:null,light:null,hc:null},y.N("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),qo=f("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},y.N("listHoverBackground","List/Tree background when hovering over items using the mouse.")),Xi=f("list.hoverForeground",{dark:null,light:null,hc:null},y.N("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),Gs=f("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},y.N("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),es=f("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:T},y.N("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),va=f("list.focusHighlightForeground",{dark:es,light:xs(Rs,es,"#9DDDFF"),hc:es},y.N("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),tn=f("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hc:"#B89500"},y.N("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),G=f("list.errorForeground",{dark:"#F88070",light:"#B01011",hc:null},y.N("listErrorForeground","Foreground color of list items containing errors.")),q=f("list.warningForeground",{dark:"#CCA700",light:"#855F00",hc:null},y.N("listWarningForeground","Foreground color of list items containing warnings.")),fe=f("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:d.Il.black},y.N("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),p=f("listFilterWidget.outline",{dark:d.Il.transparent,light:d.Il.transparent,hc:"#f38518"},y.N("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),F=f("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:N},y.N("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),Z=f("list.filterMatchBackground",{dark:An,light:An,hc:null},y.N("listFilterMatchHighlight","Background color of the filtered match.")),de=f("list.filterMatchBorder",{dark:Yn,light:Yn,hc:N},y.N("listFilterMatchHighlightBorder","Border color of the filtered match.")),pe=f("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},y.N("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),Ie=f("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},y.N("tableColumnsBorder","Table border color between columns.")),st=f("tree.tableOddRowsBackground",{dark:mi(m,.04),light:mi(m,.04),hc:null},y.N("tableOddRowsBackgroundColor","Background color for odd table rows.")),ot=f("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hc:"#A7A8A9"},y.N("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),pt=f("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,y.N("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),mt=f("quickInputList.focusForeground",{dark:Ns,light:Ns,hc:Ns},y.N("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),xt=f("quickInputList.focusIconForeground",{dark:Vo,light:Vo,hc:Vo},y.N("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),ft=f("quickInputList.focusBackground",{dark:$s(pt,Rs),light:$s(pt,Rs),hc:null},y.N("quickInput.listFocusBackground","Quick picker background color for the focused item.")),wt=f("menu.border",{dark:null,light:null,hc:N},y.N("menuBorder","Border color of menus.")),_n=f("menu.foreground",{dark:kt,light:m,hc:kt},y.N("menuForeground","Foreground color of menu items.")),$n=f("menu.background",{dark:_t,light:_t,hc:_t},y.N("menuBackground","Background color of menu items.")),Wn=f("menu.selectionForeground",{dark:Ns,light:Ns,hc:Ns},y.N("menuSelectionForeground","Foreground color of the selected menu item in menus.")),fi=f("menu.selectionBackground",{dark:Rs,light:Rs,hc:Rs},y.N("menuSelectionBackground","Background color of the selected menu item in menus.")),Fi=f("menu.selectionBorder",{dark:null,light:null,hc:L},y.N("menuSelectionBorder","Border color of the selected menu item in menus.")),jt=f("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:N},y.N("menuSeparatorBackground","Color of a separator menu item in menus.")),vi=f("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hc:null},y.N("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),rs=f("toolbar.hoverOutline",{dark:null,light:null,hc:L},y.N("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),Fs=f("toolbar.activeBackground",{dark:lr(vi,.1),light:Ca(vi,.1),hc:null},y.N("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),Js=f("editor.snippetTabstopHighlightBackground",{dark:new d.Il(new d.VS(124,124,124,.3)),light:new d.Il(new d.VS(10,50,100,.2)),hc:new d.Il(new d.VS(124,124,124,.3))},y.N("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),gr=f("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},y.N("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),Zo=f("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},y.N("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),ls=f("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new d.Il(new d.VS(10,50,100,.5)),hc:"#525252"},y.N("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),zi=f("breadcrumb.foreground",{light:mi(m,.8),dark:mi(m,.8),hc:mi(m,.8)},y.N("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),ks=f("breadcrumb.background",{light:gn,dark:gn,hc:gn},y.N("breadcrumbsBackground","Background color of breadcrumb items.")),Ss=f("breadcrumb.focusForeground",{light:Ca(m,.2),dark:lr(m,.1),hc:lr(m,.1)},y.N("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),Mr=f("breadcrumb.activeSelectionForeground",{light:Ca(m,.2),dark:lr(m,.1),hc:lr(m,.1)},y.N("breadcrumbsSelectedForegound","Color of selected breadcrumb items.")),Io=f("breadcrumbPicker.background",{light:lt,dark:lt,hc:lt},y.N("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),us=.5,uo=d.Il.fromHex("#40C8AE").transparent(us),xo=d.Il.fromHex("#40A6FF").transparent(us),Sr=d.Il.fromHex("#606060").transparent(.4),mr=.4,Eo=1,xi=f("merge.currentHeaderBackground",{dark:uo,light:uo,hc:null},y.N("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),nt=f("merge.currentContentBackground",{dark:mi(xi,mr),light:mi(xi,mr),hc:mi(xi,mr)},y.N("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Ae=f("merge.incomingHeaderBackground",{dark:xo,light:xo,hc:null},y.N("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),dt=f("merge.incomingContentBackground",{dark:mi(Ae,mr),light:mi(Ae,mr),hc:mi(Ae,mr)},y.N("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Bt=f("merge.commonHeaderBackground",{dark:Sr,light:Sr,hc:null},y.N("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Yt=f("merge.commonContentBackground",{dark:mi(Bt,mr),light:mi(Bt,mr),hc:mi(Bt,mr)},y.N("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),ln=f("merge.border",{dark:null,light:null,hc:"#C3DF6F"},y.N("mergeBorder","Border color on headers and the splitter in inline merge-conflicts.")),jn=f("editorOverviewRuler.currentContentForeground",{dark:mi(xi,Eo),light:mi(xi,Eo),hc:ln},y.N("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),ci=f("editorOverviewRuler.incomingContentForeground",{dark:mi(Ae,Eo),light:mi(Ae,Eo),hc:ln},y.N("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),Li=f("editorOverviewRuler.commonContentForeground",{dark:mi(Bt,Eo),light:mi(Bt,Eo),hc:ln},y.N("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),is=f("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},y.N("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),Ts=f("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},y.N("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Ls=f("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},y.N("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),wo=f("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hc:"#ffffff"},y.N("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),Ho=f("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},y.N("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),er=f("minimap.errorHighlight",{dark:new d.Il(new d.VS(255,18,18,.7)),light:new d.Il(new d.VS(255,18,18,.7)),hc:new d.Il(new d.VS(255,50,50,1))},y.N("minimapError","Minimap marker color for errors.")),jl=f("minimap.warningHighlight",{dark:sn,light:sn,hc:ei},y.N("overviewRuleWarning","Minimap marker color for warnings.")),Pa=f("minimap.background",{dark:null,light:null,hc:null},y.N("minimapBackground","Minimap background color.")),so=f("minimap.foregroundOpacity",{dark:d.Il.fromHex("#000f"),light:d.Il.fromHex("#000f"),hc:d.Il.fromHex("#000f")},y.N("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),gs=f("minimapSlider.background",{light:mi(Rt,.5),dark:mi(Rt,.5),hc:mi(Rt,.5)},y.N("minimapSliderBackground","Minimap slider background color.")),Yo=f("minimapSlider.hoverBackground",{light:mi(Zt,.5),dark:mi(Zt,.5),hc:mi(Zt,.5)},y.N("minimapSliderHoverBackground","Minimap slider background color when hovering.")),pr=f("minimapSlider.activeBackground",{light:mi(hn,.5),dark:mi(hn,.5),hc:mi(hn,.5)},y.N("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),sa=f("problemsErrorIcon.foreground",{dark:vt,light:vt,hc:vt},y.N("problemsErrorIconForeground","The color used for the problems error icon.")),Oa=f("problemsWarningIcon.foreground",{dark:sn,light:sn,hc:sn},y.N("problemsWarningIconForeground","The color used for the problems warning icon.")),kr=f("problemsInfoIcon.foreground",{dark:Ne,light:Ne,hc:Ne},y.N("problemsInfoIconForeground","The color used for the problems info icon.")),tr=f("charts.foreground",{dark:m,light:m,hc:m},y.N("chartsForeground","The foreground color used in charts.")),ar=f("charts.lines",{dark:mi(m,.5),light:mi(m,.5),hc:mi(m,.5)},y.N("chartsLines","The color used for horizontal lines in charts.")),Sl=f("charts.red",{dark:vt,light:vt,hc:vt},y.N("chartsRed","The red color used in chart visualizations.")),wd=f("charts.blue",{dark:Ne,light:Ne,hc:Ne},y.N("chartsBlue","The blue color used in chart visualizations.")),$a=f("charts.yellow",{dark:sn,light:sn,hc:sn},y.N("chartsYellow","The yellow color used in chart visualizations.")),Ll=f("charts.orange",{dark:Ls,light:Ls,hc:Ls},y.N("chartsOrange","The orange color used in chart visualizations.")),El=f("charts.green",{dark:"#89D185",light:"#388A34",hc:"#89D185"},y.N("chartsGreen","The green color used in chart visualizations.")),cl=f("charts.purple",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},y.N("chartsPurple","The purple color used in chart visualizations."));function Uc(Ji,Cs){var ro,Do,js;switch(Ji.op){case 0:return(ro=oo(Ji.value,Cs))===null||ro===void 0?void 0:ro.darken(Ji.factor);case 1:return(Do=oo(Ji.value,Cs))===null||Do===void 0?void 0:Do.lighten(Ji.factor);case 2:return(js=oo(Ji.value,Cs))===null||js===void 0?void 0:js.transparent(Ji.factor);case 3:for(const Oo of Ji.values){const Lr=oo(Oo,Cs);if(Lr)return Lr}return;case 5:return oo(Cs.defines(Ji.if)?Ji.then:Ji.else,Cs);case 4:{const Oo=oo(Ji.value,Cs);if(!Oo)return;const Lr=oo(Ji.background,Cs);return Lr?Oo.isDarkerThan(Lr)?d.Il.getLighterColor(Oo,Lr,Ji.factor).transparent(Ji.transparency):d.Il.getDarkerColor(Oo,Lr,Ji.factor).transparent(Ji.transparency):Oo.transparent(Ji.factor*Ji.transparency)}default:throw(0,O.vE)(Ji)}}function Ca(Ji,Cs){return{op:0,value:Ji,factor:Cs}}function lr(Ji,Cs){return{op:1,value:Ji,factor:Cs}}function mi(Ji,Cs){return{op:2,value:Ji,factor:Cs}}function $s(...Ji){return{op:3,values:Ji}}function xs(Ji,Cs,ro){return{op:5,if:Ji,then:Cs,else:ro}}function zo(Ji,Cs,ro,Do){return{op:4,value:Ji,background:Cs,factor:ro,transparency:Do}}function oo(Ji,Cs){if(Ji!==null){if(typeof Ji=="string")return Ji[0]==="#"?d.Il.fromHex(Ji):Cs.getColor(Ji);if(Ji instanceof d.Il)return Ji;if(typeof Ji=="object")return Uc(Ji,Cs)}}const fc="vscode://schemas/workbench-colors";let Qr=A.B.as(W.I.JSONContribution);Qr.registerSchema(fc,_.getColorSchema());const Ei=new C.pY(()=>Qr.notifySchemaChanged(fc),200);_.onDidChangeSchema(()=>{Ei.isScheduled()||Ei.schedule()})},99305:function(it,Ee,l){"use strict";l.d(Ee,{Ks:function(){return m},q5:function(){return f},s_:function(){return N}});var C=l(57186),d=l(74696),z=l(60774),O=l(82215),y=l(82393),W=l(1062),A=l(63655);const M={IconContribution:"base.contributions.icons"};var I;(function(V){function H(ee,ae){let me=ee.defaults;for(;A.kS.isThemeIcon(me);){const ge=_.getIcon(me.id);if(!ge)return;me=ge.defaults}return me}V.getDefinition=H})(I||(I={}));class w{constructor(){this._onDidChange=new z.Q5,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,O.N)("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:(0,O.N)("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${d.dT.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(H,ee,ae,me){const ge=this.iconsById[H];if(ge){if(ae&&!ge.description){ge.description=ae,this.iconSchema.properties[H].markdownDescription=`${ae} $(${H})`;const X=this.iconReferenceSchema.enum.indexOf(H);X!==-1&&(this.iconReferenceSchema.enumDescriptions[X]=ae),this._onDidChange.fire()}return ge}let re={id:H,description:ae,defaults:ee,deprecationMessage:me};this.iconsById[H]=re;let se={$ref:"#/definitions/icons"};return me&&(se.deprecationMessage=me),ae&&(se.markdownDescription=`${ae}: $(${H})`),this.iconSchema.properties[H]=se,this.iconReferenceSchema.enum.push(H),this.iconReferenceSchema.enumDescriptions.push(ae||""),this._onDidChange.fire(),{id:H}}getIcons(){return Object.keys(this.iconsById).map(H=>this.iconsById[H])}getIcon(H){return this.iconsById[H]}getIconSchema(){return this.iconSchema}toString(){const H=(ge,re)=>ge.id.localeCompare(re.id),ee=ge=>{for(;A.kS.isThemeIcon(ge.defaults);)ge=this.iconsById[ge.defaults.id];return`codicon codicon-${ge?ge.id:""}`};let ae=[];ae.push("| preview     | identifier                        | default codicon ID                | description"),ae.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const me=Object.keys(this.iconsById).map(ge=>this.iconsById[ge]);for(const ge of me.filter(re=>!!re.description).sort(H))ae.push(`|<i class="${ee(ge)}"></i>|${ge.id}|${A.kS.isThemeIcon(ge.defaults)?ge.defaults.id:ge.id}|${ge.description||""}|`);ae.push("| preview     | identifier                        "),ae.push("| ----------- | --------------------------------- |");for(const ge of me.filter(re=>!A.kS.isThemeIcon(re.defaults)).sort(H))ae.push(`|<i class="${ee(ge)}"></i>|${ge.id}|`);return ae.join(`
`)}}const _=new w;W.B.add(M.IconContribution,_);function f(V,H,ee,ae){return _.registerIcon(V,H,ee,ae)}function m(){return _}function a(){for(const V of d.lA.getAll())_.registerIcon(V.id,V.definition,V.description)}a();const x="vscode://schemas/icons";let k=W.B.as(y.I.JSONContribution);k.registerSchema(x,_.getIconSchema());const T=new C.pY(()=>k.notifySchemaChanged(x),200);_.onDidChange(()=>{T.isScheduled()||T.schedule()});const N=f("widget-close",d.lA.close,(0,O.N)("widgetClose","Icon for the close action in widgets.")),L=f("goto-previous-location",d.lA.arrowUp,(0,O.N)("previousChangeIcon","Icon for goto previous editor location.")),R=f("goto-next-location",d.lA.arrowDown,(0,O.N)("nextChangeIcon","Icon for goto next editor location.")),b=A.kS.modify(d.lA.sync,"spin"),P=A.kS.modify(d.lA.loading,"spin")},80417:function(it,Ee,l){"use strict";l.d(Ee,{Jl:function(){return y},O2:function(){return W},WZ:function(){return O},o:function(){return d},tj:function(){return M}});var C=l(58385);function d(I,w){const _=Object.create(null);for(let f in w){const m=w[f];m&&(_[f]=(0,C.Snq)(m,I))}return _}function z(I,w,_){function f(){const m=d(I.getColorTheme(),w);typeof _=="function"?_(m):_.style(m)}return f(),I.onDidColorThemeChange(f)}function O(I,w,_){return z(w,{badgeBackground:(_==null?void 0:_.badgeBackground)||C.g8u,badgeForeground:(_==null?void 0:_.badgeForeground)||C.qeD,badgeBorder:C.lRK},I)}function y(I,w,_){return z(w,Object.assign(Object.assign({},W),_||{}),I)}const W={listFocusBackground:C._bK,listFocusForeground:C._2n,listFocusOutline:C.Oop,listActiveSelectionBackground:C.dCr,listActiveSelectionForeground:C.M6C,listActiveSelectionIconForeground:C.Tnx,listFocusAndSelectionBackground:C.dCr,listFocusAndSelectionForeground:C.M6C,listInactiveSelectionBackground:C.rg2,listInactiveSelectionIconForeground:C.kvU,listInactiveSelectionForeground:C.ytC,listInactiveFocusBackground:C.s$,listInactiveFocusOutline:C.F3d,listHoverBackground:C.mV1,listHoverForeground:C.$d5,listDropBackground:C.AS1,listSelectionOutline:C.xL1,listHoverOutline:C.xL1,listFilterWidgetBackground:C.vGG,listFilterWidgetOutline:C.oSI,listFilterWidgetNoMatchesOutline:C.Saq,listMatchesShadow:C.rh,treeIndentGuidesStroke:C.UnT,tableColumnsBorder:C.uxu,tableOddRowsBackgroundColor:C.EQn},A={shadowColor:C.rh,borderColor:C.Cdg,foregroundColor:C.DEr,backgroundColor:C.Hz8,selectionForegroundColor:C.jbW,selectionBackgroundColor:C.$DX,selectionBorderColor:C.E3h,separatorColor:C.ZGJ,scrollbarShadow:C._wn,scrollbarSliderBackground:C.etL,scrollbarSliderHoverBackground:C.ABB,scrollbarSliderActiveBackground:C.ynu};function M(I,w,_){return z(w,Object.assign(Object.assign({},A),_),I)}},48475:function(it,Ee,l){"use strict";l.d(Ee,{e:function(){return C}});var C;(function(d){d.DARK="dark",d.LIGHT="light",d.HIGH_CONTRAST="hc"})(C||(C={}))},63655:function(it,Ee,l){"use strict";l.d(Ee,{EN:function(){return I},IP:function(){return f},Ic:function(){return x},XE:function(){return A},bB:function(){return k},kS:function(){return w},m6:function(){return _}});var C=l(74696),d=l(60774),z=l(1405),O=l(95024),y=l(1062),W=l(48475);const A=(0,O.yh)("themeService");var M;(function(T){function N(L){return L&&typeof L=="object"&&typeof L.id=="string"}T.isThemeColor=N})(M||(M={}));function I(T){return{id:T}}var w;(function(T){function N(ae){return ae&&typeof ae=="object"&&typeof ae.id=="string"&&(typeof ae.color=="undefined"||M.isThemeColor(ae.color))}T.isThemeIcon=N;const L=new RegExp(`^\\$\\((${C.dT.iconNameExpression}(?:${C.dT.iconModifierExpression})?)\\)$`);function R(ae){const me=L.exec(ae);if(!me)return;let[,ge]=me;return{id:ge}}T.fromString=R;function b(ae){return{id:ae}}T.fromId=b;function P(ae,me){let ge=ae.id;const re=ge.lastIndexOf("~");return re!==-1&&(ge=ge.substring(0,re)),me&&(ge=`${ge}~${me}`),{id:ge}}T.modify=P;function V(ae){const me=ae.id.lastIndexOf("~");if(me!==-1)return ae.id.substring(me+1)}T.getModifier=V;function H(ae,me){var ge,re;return ae.id===me.id&&((ge=ae.color)===null||ge===void 0?void 0:ge.id)===((re=me.color)===null||re===void 0?void 0:re.id)}T.isEqual=H;function ee(ae,me){return{id:ae.id,color:me?I(me):void 0}}T.asThemeIcon=ee,T.asClassNameArray=C.dT.asClassNameArray,T.asClassName=C.dT.asClassName,T.asCSSSelector=C.dT.asCSSSelector})(w||(w={}));function _(T){switch(T){case W.e.DARK:return"vs-dark";case W.e.HIGH_CONTRAST:return"hc-black";default:return"vs"}}const f={ThemingContribution:"base.contributions.theming"};class m{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new d.Q5}onColorThemeChange(N){return this.themingParticipants.push(N),this.onThemingParticipantAddedEmitter.fire(N),(0,z.OF)(()=>{const L=this.themingParticipants.indexOf(N);this.themingParticipants.splice(L,1)})}getThemingParticipants(){return this.themingParticipants}}let a=new m;y.B.add(f.ThemingContribution,a);function x(T){return a.onColorThemeChange(T)}class k extends z.JT{constructor(N){super(),this.themeService=N,this.theme=N.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(L=>this.onThemeChange(L)))}onThemeChange(N){this.theme=N,this.updateStyles()}updateStyles(){}}},25055:function(it,Ee,l){"use strict";l.d(Ee,{Xt:function(){return O},YO:function(){return z},gJ:function(){return y},tJ:function(){return d}});var C=l(95024);const d=(0,C.yh)("undoRedoService");class z{constructor(A,M){this.resource=A,this.elements=M}}class O{constructor(){this.id=O._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}O._ID=0,O.None=new O;class y{constructor(){this.id=y._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}y._ID=0,y.None=new y},54132:function(it,Ee,l){"use strict";l.d(Ee,{A6:function(){return w},eb:function(){return W},ec:function(){return y},md:function(){return I},uT:function(){return A}});var C=l(82215),d=l(30860),z=l(47087),O=l(95024);const y=(0,O.yh)("contextService");function W(f){const m=f;return typeof(m==null?void 0:m.id)=="string"&&z.o.isUri(m.uri)}function A(f){if(f.configuration)return{id:f.id,configPath:f.configuration};if(f.folders.length===1)return{id:f.id,uri:f.folders[0].uri}}class M{constructor(m,a,x,k,T){this._id=m,this._transient=x,this._configuration=k,this._ignorePathCasing=T,this._foldersMap=TernarySearchTree.forUris(this._ignorePathCasing),this.folders=a}get folders(){return this._folders}set folders(m){this._folders=m,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(m){this._configuration=m}getFolder(m){return m&&this._foldersMap.findSubstr(m.with({scheme:m.scheme,authority:m.authority,path:m.path}))||null}updateFoldersMap(){this._foldersMap=TernarySearchTree.forUris(this._ignorePathCasing);for(const m of this.folders)this._foldersMap.set(m.uri,m)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}class I{constructor(m,a){this.raw=a,this.uri=m.uri,this.index=m.index,this.name=m.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const w="code-workspace",_=[{name:(0,C.N)("codeWorkspace","Code Workspace"),extensions:[w]}]},16270:function(it,Ee,l){"use strict";l.d(Ee,{Y:function(){return d}});var C=l(95024);const d=(0,C.yh)("workspaceTrustManagementService")},71770:function(it,Ee){"use strict";function l(C,d){for(var z=Object.assign({},C),O=0;O<d.length;O+=1){var y=d[O];delete z[y]}return z}Ee.Z=l},58809:function(it){it.exports=f,it.exports.parse=d,it.exports.compile=z,it.exports.tokensToFunction=O,it.exports.tokensToRegExp=_;var Ee="/",l="./",C=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function d(m,a){for(var x=[],k=0,T=0,N="",L=a&&a.delimiter||Ee,R=a&&a.delimiters||l,b=!1,P;(P=C.exec(m))!==null;){var V=P[0],H=P[1],ee=P.index;if(N+=m.slice(T,ee),T=ee+V.length,H){N+=H[1],b=!0;continue}var ae="",me=m[T],ge=P[2],re=P[3],se=P[4],X=P[5];if(!b&&N.length){var $=N.length-1;R.indexOf(N[$])>-1&&(ae=N[$],N=N.slice(0,$))}N&&(x.push(N),N="",b=!1);var j=ae!==""&&me!==void 0&&me!==ae,ie=X==="+"||X==="*",J=X==="?"||X==="*",oe=ae||L,ce=re||se;x.push({name:ge||k++,prefix:ae,delimiter:oe,optional:J,repeat:ie,partial:j,pattern:ce?W(ce):"[^"+y(oe)+"]+?"})}return(N||T<m.length)&&x.push(N+m.substr(T)),x}function z(m,a){return O(d(m,a))}function O(m){for(var a=new Array(m.length),x=0;x<m.length;x++)typeof m[x]=="object"&&(a[x]=new RegExp("^(?:"+m[x].pattern+")$"));return function(k,T){for(var N="",L=T&&T.encode||encodeURIComponent,R=0;R<m.length;R++){var b=m[R];if(typeof b=="string"){N+=b;continue}var P=k?k[b.name]:void 0,V;if(Array.isArray(P)){if(!b.repeat)throw new TypeError('Expected "'+b.name+'" to not repeat, but got array');if(P.length===0){if(b.optional)continue;throw new TypeError('Expected "'+b.name+'" to not be empty')}for(var H=0;H<P.length;H++){if(V=L(P[H],b),!a[R].test(V))throw new TypeError('Expected all "'+b.name+'" to match "'+b.pattern+'"');N+=(H===0?b.prefix:b.delimiter)+V}continue}if(typeof P=="string"||typeof P=="number"||typeof P=="boolean"){if(V=L(String(P),b),!a[R].test(V))throw new TypeError('Expected "'+b.name+'" to match "'+b.pattern+'", but got "'+V+'"');N+=b.prefix+V;continue}if(b.optional){b.partial&&(N+=b.prefix);continue}throw new TypeError('Expected "'+b.name+'" to be '+(b.repeat?"an array":"a string"))}return N}}function y(m){return m.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function W(m){return m.replace(/([=!:$/()])/g,"\\$1")}function A(m){return m&&m.sensitive?"":"i"}function M(m,a){if(!a)return m;var x=m.source.match(/\((?!\?)/g);if(x)for(var k=0;k<x.length;k++)a.push({name:k,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return m}function I(m,a,x){for(var k=[],T=0;T<m.length;T++)k.push(f(m[T],a,x).source);return new RegExp("(?:"+k.join("|")+")",A(x))}function w(m,a,x){return _(d(m,x),a,x)}function _(m,a,x){x=x||{};for(var k=x.strict,T=x.start!==!1,N=x.end!==!1,L=y(x.delimiter||Ee),R=x.delimiters||l,b=[].concat(x.endsWith||[]).map(y).concat("$").join("|"),P=T?"^":"",V=m.length===0,H=0;H<m.length;H++){var ee=m[H];if(typeof ee=="string")P+=y(ee),V=H===m.length-1&&R.indexOf(ee[ee.length-1])>-1;else{var ae=ee.repeat?"(?:"+ee.pattern+")(?:"+y(ee.delimiter)+"(?:"+ee.pattern+"))*":ee.pattern;a&&a.push(ee),ee.optional?ee.partial?P+=y(ee.prefix)+"("+ae+")?":P+="(?:"+y(ee.prefix)+"("+ae+"))?":P+=y(ee.prefix)+"("+ae+")"}}return N?(k||(P+="(?:"+L+")?"),P+=b==="$"?"$":"(?="+b+")"):(k||(P+="(?:"+L+"(?="+b+"))?"),V||(P+="(?="+L+"|"+b+")")),new RegExp(P,A(x))}function f(m,a,x){return m instanceof RegExp?M(m,a):Array.isArray(m)?I(m,a,x):w(m,a,x)}},98878:function(it,Ee){"use strict";var l=Object.prototype.hasOwnProperty,C;function d(W){try{return decodeURIComponent(W.replace(/\+/g," "))}catch(A){return null}}function z(W){try{return encodeURIComponent(W)}catch(A){return null}}function O(W){for(var A=/([^=?#&]+)=?([^&]*)/g,M={},I;I=A.exec(W);){var w=d(I[1]),_=d(I[2]);w===null||_===null||w in M||(M[w]=_)}return M}function y(W,A){A=A||"";var M=[],I,w;typeof A!="string"&&(A="?");for(w in W)if(l.call(W,w)){if(I=W[w],!I&&(I===null||I===C||isNaN(I))&&(I=""),w=z(w),I=z(I),w===null||I===null)continue;M.push(w+"="+I)}return M.length?A+M.join("&"):""}Ee.stringify=y,Ee.parse=O},29712:function(it,Ee,l){"use strict";l.d(Ee,{Z:function(){return $}});var C=l(15882),d=l(56453),z=l(6614),O=l(30486),y=l(63313),W=l(84875),A=l.n(W),M=l(91926),I=l(44993),w=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],_=void 0;function f(j,ie){var J=j.prefixCls,oe=j.invalidate,ce=j.item,we=j.renderItem,Me=j.responsive,Ke=j.responsiveDisabled,De=j.registerSize,be=j.itemKey,We=j.className,et=j.style,Kt=j.children,_t=j.display,tt=j.order,kt=j.component,Ut=kt===void 0?"div":kt,Ft=(0,O.Z)(j,w),Te=Me&&!_t;function Ge(ve){De(be,ve)}y.useEffect(function(){return function(){Ge(null)}},[]);var Et=we&&ce!==_?we(ce):Kt,Wt;oe||(Wt={opacity:Te?0:1,height:Te?0:_,overflowY:Te?"hidden":_,order:Me?tt:_,pointerEvents:Te?"none":_,position:Te?"absolute":_});var Ze={};Te&&(Ze["aria-hidden"]=!0);var xe=y.createElement(Ut,(0,C.Z)({className:A()(!oe&&J,We),style:(0,d.Z)((0,d.Z)({},Wt),et)},Ze,Ft,{ref:ie}),Et);return Me&&(xe=y.createElement(M.Z,{onResize:function($e){var at=$e.offsetWidth;Ge(at)},disabled:Ke},xe)),xe}var m=y.forwardRef(f);m.displayName="Item";var a=m,x=l(45829),k=l(50536);function T(){var j=(0,k.Z)({}),ie=(0,z.Z)(j,2),J=ie[1],oe=(0,y.useRef)([]),ce=0,we=0;function Me(Ke){var De=ce;ce+=1,oe.current.length<De+1&&(oe.current[De]=Ke);var be=oe.current[De];function We(et){oe.current[De]=typeof et=="function"?et(oe.current[De]):et,x.Z.cancel(we),we=(0,x.Z)(function(){J({},!0)})}return[be,We]}return Me}var N=["component"],L=["className"],R=["className"],b=function(ie,J){var oe=y.useContext(ee);if(!oe){var ce=ie.component,we=ce===void 0?"div":ce,Me=(0,O.Z)(ie,N);return y.createElement(we,(0,C.Z)({},Me,{ref:J}))}var Ke=oe.className,De=(0,O.Z)(oe,L),be=ie.className,We=(0,O.Z)(ie,R);return y.createElement(ee.Provider,{value:null},y.createElement(a,(0,C.Z)({ref:J,className:A()(Ke,be)},De,We)))},P=y.forwardRef(b);P.displayName="RawItem";var V=P,H=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],ee=y.createContext(null),ae="responsive",me="invalidate";function ge(j){return"+ ".concat(j.length," ...")}function re(j,ie){var J=j.prefixCls,oe=J===void 0?"rc-overflow":J,ce=j.data,we=ce===void 0?[]:ce,Me=j.renderItem,Ke=j.renderRawItem,De=j.itemKey,be=j.itemWidth,We=be===void 0?10:be,et=j.ssr,Kt=j.style,_t=j.className,tt=j.maxCount,kt=j.renderRest,Ut=j.renderRawRest,Ft=j.suffix,Te=j.component,Ge=Te===void 0?"div":Te,Et=j.itemComponent,Wt=j.onVisibleChange,Ze=(0,O.Z)(j,H),xe=T(),ve=et==="full",$e=xe(null),at=(0,z.Z)($e,2),Tt=at[0],Mt=at[1],gt=Tt||0,Rt=xe(new Map),Zt=(0,z.Z)(Rt,2),hn=Zt[0],Pe=Zt[1],en=xe(0),vt=(0,z.Z)(en,2),Le=vt[0],nn=vt[1],sn=xe(0),ei=(0,z.Z)(sn,2),wn=ei[0],Ne=ei[1],Fe=xe(0),ht=(0,z.Z)(Fe,2),Qt=ht[0],dn=ht[1],gn=(0,y.useState)(null),Ht=(0,z.Z)(gn,2),lt=Ht[0],Cn=Ht[1],Ue=(0,y.useState)(null),Pt=(0,z.Z)(Ue,2),Lt=Pt[0],He=Pt[1],Ve=y.useMemo(function(){return Lt===null&&ve?Number.MAX_SAFE_INTEGER:Lt||0},[Lt,Tt]),Se=(0,y.useState)(!1),St=(0,z.Z)(Se,2),Jt=St[0],mn=St[1],Mn="".concat(oe,"-item"),kn=Math.max(Le,wn),Nn=tt===ae,xn=we.length&&Nn,Xn=tt===me,Sn=xn||typeof tt=="number"&&we.length>tt,Gn=(0,y.useMemo)(function(){var cn=we;return xn?Tt===null&&ve?cn=we:cn=we.slice(0,Math.min(we.length,gt/We)):typeof tt=="number"&&(cn=we.slice(0,tt)),cn},[we,We,Tt,tt,xn]),ti=(0,y.useMemo)(function(){return xn?we.slice(Ve+1):we.slice(Gn.length)},[we,Gn,xn,Ve]),An=(0,y.useCallback)(function(cn,on){var bn;return typeof De=="function"?De(cn):(bn=De&&(cn==null?void 0:cn[De]))!==null&&bn!==void 0?bn:on},[De]),Bi=(0,y.useCallback)(Me||function(cn){return cn},[Me]);function oi(cn,on,bn){Lt===cn&&(on===void 0||on===lt)||(He(cn),bn||(mn(cn<we.length-1),Wt==null||Wt(cn)),on!==void 0&&Cn(on))}function Yn(cn,on){Mt(on.clientWidth)}function Ci(cn,on){Pe(function(bn){var hi=new Map(bn);return on===null?hi.delete(cn):hi.set(cn,on),hi})}function On(cn,on){Ne(on),nn(wn)}function Si(cn,on){dn(on)}function Di(cn){return hn.get(An(Gn[cn],cn))}(0,I.Z)(function(){if(gt&&kn&&Gn){var cn=Qt,on=Gn.length,bn=on-1;if(!on){oi(0,null);return}for(var hi=0;hi<on;hi+=1){var En=Di(hi);if(ve&&(En=En||0),En===void 0){oi(hi-1,void 0,!0);break}if(cn+=En,bn===0&&cn<=gt||hi===bn-1&&cn+Di(bn)<=gt){oi(bn,null);break}else if(cn+kn>gt){oi(hi-1,cn-En-Qt+wn);break}}Ft&&Di(0)+Qt>gt&&Cn(null)}},[gt,hn,wn,Qt,An,Gn]);var ni=Jt&&!!ti.length,Kn={};lt!==null&&xn&&(Kn={position:"absolute",left:lt,top:0});var Pi={prefixCls:Mn,responsive:xn,component:Et,invalidate:Xn},Vi=Ke?function(cn,on){var bn=An(cn,on);return y.createElement(ee.Provider,{key:bn,value:(0,d.Z)((0,d.Z)({},Pi),{},{order:on,item:cn,itemKey:bn,registerSize:Ci,display:on<=Ve})},Ke(cn,on))}:function(cn,on){var bn=An(cn,on);return y.createElement(a,(0,C.Z)({},Pi,{order:on,key:bn,item:cn,renderItem:Bi,itemKey:bn,registerSize:Ci,display:on<=Ve}))},Oi,_i={order:ni?Ve:Number.MAX_SAFE_INTEGER,className:"".concat(Mn,"-rest"),registerSize:On,display:ni};if(Ut)Ut&&(Oi=y.createElement(ee.Provider,{value:(0,d.Z)((0,d.Z)({},Pi),_i)},Ut(ti)));else{var Ye=kt||ge;Oi=y.createElement(a,(0,C.Z)({},Pi,_i),typeof Ye=="function"?Ye(ti):Ye)}var It=y.createElement(Ge,(0,C.Z)({className:A()(!Xn&&oe,_t),style:Kt,ref:ie},Ze),Gn.map(Vi),Sn?Oi:null,Ft&&y.createElement(a,(0,C.Z)({},Pi,{responsive:Nn,responsiveDisabled:!xn,order:Ve,className:"".concat(Mn,"-suffix"),registerSize:Si,display:!0,style:Kn}),Ft));return Nn&&(It=y.createElement(M.Z,{onResize:Yn,disabled:!xn},It)),It}var se=y.forwardRef(re);se.displayName="Overflow",se.Item=V,se.RESPONSIVE=ae,se.INVALIDATE=me;var X=se,$=X},41883:function(it,Ee){"use strict";Ee.Z={items_per_page:"\u6761/\u9875",jump_to:"\u8DF3\u81F3",jump_to_confirm:"\u786E\u5B9A",page:"\u9875",prev_page:"\u4E0A\u4E00\u9875",next_page:"\u4E0B\u4E00\u9875",prev_5:"\u5411\u524D 5 \u9875",next_5:"\u5411\u540E 5 \u9875",prev_3:"\u5411\u524D 3 \u9875",next_3:"\u5411\u540E 3 \u9875",page_size:"\u9875\u7801"}},30337:function(it,Ee,l){"use strict";l.d(Ee,{g1:function(){return _},os:function(){return m}});var C=/margin|padding|width|height|max|min|offset/,d={left:!0,top:!0},z={cssFloat:1,styleFloat:1,float:1};function O(a){return a.nodeType===1?a.ownerDocument.defaultView.getComputedStyle(a,null):{}}function y(a,x,k){if(x=x.toLowerCase(),k==="auto"){if(x==="height")return a.offsetHeight;if(x==="width")return a.offsetWidth}return x in d||(d[x]=C.test(x)),d[x]?parseFloat(k)||0:k}function W(a,x){var k=arguments.length,T=O(a);return x=z[x]?"cssFloat"in a.style?"cssFloat":"styleFloat":x,k===1?T:y(a,x,T[x]||a.style[x])}function A(a,x,k){var T=arguments.length;if(x=z[x]?"cssFloat"in a.style?"cssFloat":"styleFloat":x,T===3)return typeof k=="number"&&C.test(x)&&(k="".concat(k,"px")),a.style[x]=k,k;for(var N in x)x.hasOwnProperty(N)&&A(a,N,x[N]);return O(a)}function M(a){return a===document.body?document.documentElement.clientWidth:a.offsetWidth}function I(a){return a===document.body?window.innerHeight||document.documentElement.clientHeight:a.offsetHeight}function w(){var a=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),x=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);return{width:a,height:x}}function _(){var a=document.documentElement.clientWidth,x=window.innerHeight||document.documentElement.clientHeight;return{width:a,height:x}}function f(){return{scrollLeft:Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),scrollTop:Math.max(document.documentElement.scrollTop,document.body.scrollTop)}}function m(a){var x=a.getBoundingClientRect(),k=document.documentElement;return{left:x.left+(window.pageXOffset||k.scrollLeft)-(k.clientLeft||document.body.clientLeft||0),top:x.top+(window.pageYOffset||k.scrollTop)-(k.clientTop||document.body.clientTop||0)}}},41384:function(it){"use strict";it.exports=function(l,C){if(C=C.split(":")[0],l=+l,!l)return!1;switch(C){case"http":case"ws":return l!==80;case"https":case"wss":return l!==443;case"ftp":return l!==21;case"gopher":return l!==70;case"file":return!1}return l!==0}},78078:function(it,Ee,l){"use strict";var C=l(63683);it.exports=l(80608)(C),"_sockjs_onload"in l.g&&setTimeout(l.g._sockjs_onload,1)},45014:function(it,Ee,l){"use strict";var C=l(2937),d=l(92789);function z(){d.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}C(z,d),it.exports=z},39622:function(it,Ee,l){"use strict";var C=l(2937),d=l(36393);function z(){d.call(this)}C(z,d),z.prototype.removeAllListeners=function(O){O?delete this._listeners[O]:this._listeners={}},z.prototype.once=function(O,y){var W=this,A=!1;function M(){W.removeListener(O,M),A||(A=!0,y.apply(this,arguments))}this.on(O,M)},z.prototype.emit=function(){var O=arguments[0],y=this._listeners[O];if(!!y){for(var W=arguments.length,A=new Array(W-1),M=1;M<W;M++)A[M-1]=arguments[M];for(var I=0;I<y.length;I++)y[I].apply(this,A)}},z.prototype.on=z.prototype.addListener=d.prototype.addEventListener,z.prototype.removeListener=d.prototype.removeEventListener,it.exports.v=z},92789:function(it){"use strict";function Ee(l){this.type=l}Ee.prototype.initEvent=function(l,C,d){return this.type=l,this.bubbles=C,this.cancelable=d,this.timeStamp=+new Date,this},Ee.prototype.stopPropagation=function(){},Ee.prototype.preventDefault=function(){},Ee.CAPTURING_PHASE=1,Ee.AT_TARGET=2,Ee.BUBBLING_PHASE=3,it.exports=Ee},36393:function(it){"use strict";function Ee(){this._listeners={}}Ee.prototype.addEventListener=function(l,C){l in this._listeners||(this._listeners[l]=[]);var d=this._listeners[l];d.indexOf(C)===-1&&(d=d.concat([C])),this._listeners[l]=d},Ee.prototype.removeEventListener=function(l,C){var d=this._listeners[l];if(!!d){var z=d.indexOf(C);if(z!==-1){d.length>1?this._listeners[l]=d.slice(0,z).concat(d.slice(z+1)):delete this._listeners[l];return}}},Ee.prototype.dispatchEvent=function(){var l=arguments[0],C=l.type,d=arguments.length===1?[l]:Array.apply(null,arguments);if(this["on"+C]&&this["on"+C].apply(this,d),C in this._listeners)for(var z=this._listeners[C],O=0;O<z.length;O++)z[O].apply(this,d)},it.exports=Ee},53385:function(it,Ee,l){"use strict";var C=l(2937),d=l(92789);function z(O){d.call(this),this.initEvent("message",!1,!1),this.data=O}C(z,d),it.exports=z},28809:function(it,Ee,l){"use strict";var C=l(68734);function d(z){this._transport=z,z.on("message",this._transportMessage.bind(this)),z.on("close",this._transportClose.bind(this))}d.prototype._transportClose=function(z,O){C.postMessage("c",JSON.stringify([z,O]))},d.prototype._transportMessage=function(z){C.postMessage("t",z)},d.prototype._send=function(z){this._transport.send(z)},d.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},it.exports=d},80317:function(it,Ee,l){"use strict";var C=l(11803),d=l(56831),z=l(28809),O=l(57694),y=l(68734),W=l(81637),A=function(){};it.exports=function(M,I){var w={};I.forEach(function(f){f.facadeTransport&&(w[f.facadeTransport.transportName]=f.facadeTransport)}),w[O.transportName]=O;var _;M.bootstrap_iframe=function(){var f;y.currentWindowId=W.hash.slice(1);var m=function(a){if(a.source===parent&&(typeof _=="undefined"&&(_=a.origin),a.origin===_)){var x;try{x=JSON.parse(a.data)}catch(b){A("bad json",a.data);return}if(x.windowId===y.currentWindowId)switch(x.type){case"s":var k;try{k=JSON.parse(x.data)}catch(b){A("bad json",x.data);break}var T=k[0],N=k[1],L=k[2],R=k[3];if(A(T,N,L,R),T!==M.version)throw new Error('Incompatible SockJS! Main site uses: "'+T+'", the iframe: "'+M.version+'".');if(!C.isOriginEqual(L,W.href)||!C.isOriginEqual(R,W.href))throw new Error("Can't connect to different domain from within an iframe. ("+W.href+", "+L+", "+R+")");f=new z(new w[N](L,R));break;case"m":f._send(x.data);break;case"c":f&&f._close(),f=null;break}}};d.attachEvent("message",m),y.postMessage("s")}}},65263:function(it,Ee,l){"use strict";var C=l(39622).v,d=l(2937),z=l(77234),O=function(){};function y(W,A){C.call(this);var M=this,I=+new Date;this.xo=new A("GET",W),this.xo.once("finish",function(w,_){var f,m;if(w===200){if(m=+new Date-I,_)try{f=JSON.parse(_)}catch(a){O("bad json",_)}z.isObject(f)||(f={})}M.emit("finish",f,m),M.removeAllListeners()})}d(y,C),y.prototype.close=function(){this.removeAllListeners(),this.xo.close()},it.exports=y},57694:function(it,Ee,l){"use strict";var C=l(2937),d=l(39622).v,z=l(82458),O=l(65263);function y(W){var A=this;d.call(this),this.ir=new O(W,z),this.ir.once("finish",function(M,I){A.ir=null,A.emit("message",JSON.stringify([M,I]))})}C(y,d),y.transportName="iframe-info-receiver",y.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},it.exports=y},49834:function(it,Ee,l){"use strict";var C=l(39622).v,d=l(2937),z=l(56831),O=l(36010),y=l(57694),W=function(){};function A(M,I){var w=this;C.call(this);var _=function(){var f=w.ifr=new O(y.transportName,I,M);f.once("message",function(m){if(m){var a;try{a=JSON.parse(m)}catch(T){W("bad json",m),w.emit("finish"),w.close();return}var x=a[0],k=a[1];w.emit("finish",x,k)}w.close()}),f.once("close",function(){w.emit("finish"),w.close()})};l.g.document.body?_():z.attachEvent("load",_)}d(A,C),A.enabled=function(){return O.enabled()},A.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},it.exports=A},33639:function(it,Ee,l){"use strict";var C=l(39622).v,d=l(2937),z=l(11803),O=l(79150),y=l(91278),W=l(82458),A=l(69431),M=l(49834),I=l(65263),w=function(){};function _(f,m){w(f);var a=this;C.call(this),setTimeout(function(){a.doXhr(f,m)},0)}d(_,C),_._getReceiver=function(f,m,a){return a.sameOrigin?new I(m,W):y.enabled?new I(m,y):O.enabled&&a.sameScheme?new I(m,O):M.enabled()?new M(f,m):new I(m,A)},_.prototype.doXhr=function(f,m){var a=this,x=z.addPath(f,"/info");w("doXhr",x),this.xo=_._getReceiver(f,x,m),this.timeoutRef=setTimeout(function(){w("timeout"),a._cleanup(!1),a.emit("finish")},_.timeout),this.xo.once("finish",function(k,T){w("finish",k,T),a._cleanup(!0),a.emit("finish",k,T)})},_.prototype._cleanup=function(f){w("_cleanup"),clearTimeout(this.timeoutRef),this.timeoutRef=null,!f&&this.xo&&this.xo.close(),this.xo=null},_.prototype.close=function(){w("close"),this.removeAllListeners(),this._cleanup(!1)},_.timeout=8e3,it.exports=_},81637:function(it,Ee,l){"use strict";it.exports=l.g.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}},80608:function(it,Ee,l){"use strict";l(71953);var C=l(52296),d=l(2937),z=l(36032),O=l(16118),y=l(11803),W=l(56831),A=l(99404),M=l(77234),I=l(36626),w=l(97254),_=l(92789),f=l(36393),m=l(81637),a=l(45014),x=l(53385),k=l(33639),T=function(){},N;function L(b,P,V){if(!(this instanceof L))return new L(b,P,V);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");f.call(this),this.readyState=L.CONNECTING,this.extensions="",this.protocol="",V=V||{},V.protocols_whitelist&&w.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=V.transports,this._transportOptions=V.transportOptions||{},this._timeout=V.timeout||0;var H=V.sessionId||8;if(typeof H=="function")this._generateSessionId=H;else if(typeof H=="number")this._generateSessionId=function(){return z.string(H)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=V.server||z.numberString(1e3);var ee=new C(b);if(!ee.host||!ee.protocol)throw new SyntaxError("The URL '"+b+"' is invalid");if(ee.hash)throw new SyntaxError("The URL must not contain a fragment");if(ee.protocol!=="http:"&&ee.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+ee.protocol+"' is not allowed.");var ae=ee.protocol==="https:";if(m.protocol==="https:"&&!ae&&!y.isLoopbackAddr(ee.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");P?Array.isArray(P)||(P=[P]):P=[];var me=P.sort();me.forEach(function(re,se){if(!re)throw new SyntaxError("The protocols entry '"+re+"' is invalid.");if(se<me.length-1&&re===me[se+1])throw new SyntaxError("The protocols entry '"+re+"' is duplicated.")});var ge=y.getOrigin(m.href);this._origin=ge?ge.toLowerCase():null,ee.set("pathname",ee.pathname.replace(/\/+$/,"")),this.url=ee.href,T("using url",this.url),this._urlInfo={nullOrigin:!I.hasDomain(),sameOrigin:y.isOriginEqual(this.url,m.href),sameScheme:y.isSchemeEqual(this.url,m.href)},this._ir=new k(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}d(L,f);function R(b){return b===1e3||b>=3e3&&b<=4999}L.prototype.close=function(b,P){if(b&&!R(b))throw new Error("InvalidAccessError: Invalid code");if(P&&P.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===L.CLOSING||this.readyState===L.CLOSED)){var V=!0;this._close(b||1e3,P||"Normal closure",V)}},L.prototype.send=function(b){if(typeof b!="string"&&(b=""+b),this.readyState===L.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===L.OPEN&&this._transport.send(O.quote(b))},L.version=l(19534),L.CONNECTING=0,L.OPEN=1,L.CLOSING=2,L.CLOSED=3,L.prototype._receiveInfo=function(b,P){if(T("_receiveInfo",P),this._ir=null,!b){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(P),this._transUrl=b.base_url?b.base_url:this.url,b=M.extend(b,this._urlInfo),T("info",b);var V=N.filterToEnabled(this._transportsWhitelist,b);this._transports=V.main,T(this._transports.length+" enabled transports"),this._connect()},L.prototype._connect=function(){for(var b=this._transports.shift();b;b=this._transports.shift()){if(T("attempt",b.transportName),b.needBody&&(!l.g.document.body||typeof l.g.document.readyState!="undefined"&&l.g.document.readyState!=="complete"&&l.g.document.readyState!=="interactive")){T("waiting for body"),this._transports.unshift(b),W.attachEvent("load",this._connect.bind(this));return}var P=Math.max(this._timeout,this._rto*b.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),P),T("using timeout",P);var V=y.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),H=this._transportOptions[b.transportName];T("transport url",V);var ee=new b(V,this._transUrl,H);ee.on("message",this._transportMessage.bind(this)),ee.once("close",this._transportClose.bind(this)),ee.transportName=b.transportName,this._transport=ee;return}this._close(2e3,"All transports failed",!1)},L.prototype._transportTimeout=function(){T("_transportTimeout"),this.readyState===L.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},L.prototype._transportMessage=function(b){T("_transportMessage",b);var P=this,V=b.slice(0,1),H=b.slice(1),ee;switch(V){case"o":this._open();return;case"h":this.dispatchEvent(new _("heartbeat")),T("heartbeat",this.transport);return}if(H)try{ee=JSON.parse(H)}catch(ae){T("bad json",H)}if(typeof ee=="undefined"){T("empty payload",H);return}switch(V){case"a":Array.isArray(ee)&&ee.forEach(function(ae){T("message",P.transport,ae),P.dispatchEvent(new x(ae))});break;case"m":T("message",this.transport,ee),this.dispatchEvent(new x(ee));break;case"c":Array.isArray(ee)&&ee.length===2&&this._close(ee[0],ee[1],!0);break}},L.prototype._transportClose=function(b,P){if(T("_transportClose",this.transport,b,P),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!R(b)&&b!==2e3&&this.readyState===L.CONNECTING){this._connect();return}this._close(b,P)},L.prototype._open=function(){T("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===L.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=L.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new _("open")),T("connected",this.transport)):this._close(1006,"Server lost session")},L.prototype._close=function(b,P,V){T("_close",this.transport,b,P,V,this.readyState);var H=!1;if(this._ir&&(H=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===L.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=L.CLOSING,setTimeout(function(){this.readyState=L.CLOSED,H&&this.dispatchEvent(new _("error"));var ee=new a("close");ee.wasClean=V||!1,ee.code=b||1e3,ee.reason=P,this.dispatchEvent(ee),this.onmessage=this.onclose=this.onerror=null,T("disconnected")}.bind(this),0)},L.prototype.countRTO=function(b){return b>100?4*b:300+b},it.exports=function(b){return N=A(b),l(80317)(L,b),L}},71953:function(){"use strict";var it=Array.prototype,Ee=Object.prototype,l=Function.prototype,C=String.prototype,d=it.slice,z=Ee.toString,O=function(b){return Ee.toString.call(b)==="[object Function]"},y=function(P){return z.call(P)==="[object Array]"},W=function(P){return z.call(P)==="[object String]"},A=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(b){return!1}}(),M;A?M=function(b,P,V,H){!H&&P in b||Object.defineProperty(b,P,{configurable:!0,enumerable:!1,writable:!0,value:V})}:M=function(b,P,V,H){!H&&P in b||(b[P]=V)};var I=function(b,P,V){for(var H in P)Ee.hasOwnProperty.call(P,H)&&M(b,H,P[H],V)},w=function(b){if(b==null)throw new TypeError("can't convert "+b+" to object");return Object(b)};function _(b){var P=+b;return P!==P?P=0:P!==0&&P!==1/0&&P!==-(1/0)&&(P=(P>0||-1)*Math.floor(Math.abs(P))),P}function f(b){return b>>>0}function m(){}I(l,{bind:function(P){var V=this;if(!O(V))throw new TypeError("Function.prototype.bind called on incompatible "+V);for(var H=d.call(arguments,1),ee=function(){if(this instanceof re){var se=V.apply(this,H.concat(d.call(arguments)));return Object(se)===se?se:this}else return V.apply(P,H.concat(d.call(arguments)))},ae=Math.max(0,V.length-H.length),me=[],ge=0;ge<ae;ge++)me.push("$"+ge);var re=Function("binder","return function ("+me.join(",")+"){ return binder.apply(this, arguments); }")(ee);return V.prototype&&(m.prototype=V.prototype,re.prototype=new m,m.prototype=null),re}}),I(Array,{isArray:y});var a=Object("a"),x=a[0]!=="a"||!(0 in a),k=function(P){var V=!0,H=!0;return P&&(P.call("foo",function(ee,ae,me){typeof me!="object"&&(V=!1)}),P.call([1],function(){"use strict";H=typeof this=="string"},"x")),!!P&&V&&H};I(it,{forEach:function(P){var V=w(this),H=x&&W(this)?this.split(""):V,ee=arguments[1],ae=-1,me=H.length>>>0;if(!O(P))throw new TypeError;for(;++ae<me;)ae in H&&P.call(ee,H[ae],ae,V)}},!k(it.forEach));var T=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;I(it,{indexOf:function(P){var V=x&&W(this)?this.split(""):w(this),H=V.length>>>0;if(!H)return-1;var ee=0;for(arguments.length>1&&(ee=_(arguments[1])),ee=ee>=0?ee:Math.max(0,H+ee);ee<H;ee++)if(ee in V&&V[ee]===P)return ee;return-1}},T);var N=C.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var b=/()??/.exec("")[1]===void 0;C.split=function(P,V){var H=this;if(P===void 0&&V===0)return[];if(z.call(P)!=="[object RegExp]")return N.call(this,P,V);var ee=[],ae=(P.ignoreCase?"i":"")+(P.multiline?"m":"")+(P.extended?"x":"")+(P.sticky?"y":""),me=0,ge,re,se,X;for(P=new RegExp(P.source,ae+"g"),H+="",b||(ge=new RegExp("^"+P.source+"$(?!\\s)",ae)),V=V===void 0?-1>>>0:f(V);(re=P.exec(H))&&(se=re.index+re[0].length,!(se>me&&(ee.push(H.slice(me,re.index)),!b&&re.length>1&&re[0].replace(ge,function(){for(var $=1;$<arguments.length-2;$++)arguments[$]===void 0&&(re[$]=void 0)}),re.length>1&&re.index<H.length&&it.push.apply(ee,re.slice(1)),X=re[0].length,me=se,ee.length>=V)));)P.lastIndex===re.index&&P.lastIndex++;return me===H.length?(X||!P.test(""))&&ee.push(""):ee.push(H.slice(me)),ee.length>V?ee.slice(0,V):ee}}():"0".split(void 0,0).length&&(C.split=function(P,V){return P===void 0&&V===0?[]:N.call(this,P,V)});var L=C.substr,R="".substr&&"0b".substr(-1)!=="b";I(C,{substr:function(P,V){return L.call(this,P<0&&(P=this.length+P)<0?0:P,V)}},R)},63683:function(it,Ee,l){"use strict";it.exports=[l(89712),l(18690),l(63358),l(98213),l(34930)(l(98213)),l(40651),l(34930)(l(40651)),l(13900),l(16685),l(34930)(l(13900)),l(77911)]},90771:function(it,Ee,l){"use strict";var C=l(39622).v,d=l(2937),z=l(56831),O=l(11803),y=l.g.XMLHttpRequest,W=function(){};function A(w,_,f,m){W(w,_);var a=this;C.call(this),setTimeout(function(){a._start(w,_,f,m)},0)}d(A,C),A.prototype._start=function(w,_,f,m){var a=this;try{this.xhr=new y}catch(k){}if(!this.xhr){W("no xhr"),this.emit("finish",0,"no xhr support"),this._cleanup();return}_=O.addQuery(_,"t="+ +new Date),this.unloadRef=z.unloadAdd(function(){W("unload cleanup"),a._cleanup(!0)});try{this.xhr.open(w,_,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){W("xhr timeout"),a.emit("finish",0,""),a._cleanup(!1)})}catch(k){W("exception",k),this.emit("finish",0,""),this._cleanup(!1);return}if((!m||!m.noCredentials)&&A.supportsCORS&&(W("withCredentials"),this.xhr.withCredentials=!0),m&&m.headers)for(var x in m.headers)this.xhr.setRequestHeader(x,m.headers[x]);this.xhr.onreadystatechange=function(){if(a.xhr){var k=a.xhr,T,N;switch(W("readyState",k.readyState),k.readyState){case 3:try{N=k.status,T=k.responseText}catch(L){}W("status",N),N===1223&&(N=204),N===200&&T&&T.length>0&&(W("chunk"),a.emit("chunk",N,T));break;case 4:N=k.status,W("status",N),N===1223&&(N=204),(N===12005||N===12029)&&(N=0),W("finish",N,k.responseText),a.emit("finish",N,k.responseText),a._cleanup(!1);break}}};try{a.xhr.send(f)}catch(k){a.emit("finish",0,""),a._cleanup(!1)}},A.prototype._cleanup=function(w){if(W("cleanup"),!!this.xhr){if(this.removeAllListeners(),z.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),w)try{this.xhr.abort()}catch(_){}this.unloadRef=this.xhr=null}},A.prototype.close=function(){W("close"),this._cleanup(!0)},A.enabled=!!y;var M=["Active"].concat("Object").join("X");!A.enabled&&M in l.g&&(W("overriding xmlhttprequest"),y=function(){try{return new l.g[M]("Microsoft.XMLHTTP")}catch(w){return null}},A.enabled=!!new y);var I=!1;try{I="withCredentials"in new y}catch(w){}A.supportsCORS=I,it.exports=A},71494:function(it,Ee,l){it.exports=l.g.EventSource},53485:function(it,Ee,l){"use strict";var C=l.g.WebSocket||l.g.MozWebSocket;C?it.exports=function(z){return new C(z)}:it.exports=void 0},98213:function(it,Ee,l){"use strict";var C=l(2937),d=l(72261),z=l(95765),O=l(91278),y=l(71494);function W(A){if(!W.enabled())throw new Error("Transport created when disabled");d.call(this,A,"/eventsource",z,O)}C(W,d),W.enabled=function(){return!!y},W.transportName="eventsource",W.roundTrips=2,it.exports=W},40651:function(it,Ee,l){"use strict";var C=l(2937),d=l(86119),z=l(82458),O=l(72261);function y(W){if(!d.enabled)throw new Error("Transport created when disabled");O.call(this,W,"/htmlfile",d,z)}C(y,O),y.enabled=function(W){return d.enabled&&W.sameOrigin},y.transportName="htmlfile",y.roundTrips=2,it.exports=y},36010:function(it,Ee,l){"use strict";var C=l(2937),d=l(39622).v,z=l(19534),O=l(11803),y=l(68734),W=l(56831),A=l(36032),M=function(){};function I(w,_,f){if(!I.enabled())throw new Error("Transport created when disabled");d.call(this);var m=this;this.origin=O.getOrigin(f),this.baseUrl=f,this.transUrl=_,this.transport=w,this.windowId=A.string(8);var a=O.addPath(f,"/iframe.html")+"#"+this.windowId;M(w,_,a),this.iframeObj=y.createIframe(a,function(x){M("err callback"),m.emit("close",1006,"Unable to load an iframe ("+x+")"),m.close()}),this.onmessageCallback=this._message.bind(this),W.attachEvent("message",this.onmessageCallback)}C(I,d),I.prototype.close=function(){if(M("close"),this.removeAllListeners(),this.iframeObj){W.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(w){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},I.prototype._message=function(w){if(M("message",w.data),!O.isOriginEqual(w.origin,this.origin)){M("not same origin",w.origin,this.origin);return}var _;try{_=JSON.parse(w.data)}catch(m){M("bad json",w.data);return}if(_.windowId!==this.windowId){M("mismatched window id",_.windowId,this.windowId);return}switch(_.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([z,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",_.data);break;case"c":var f;try{f=JSON.parse(_.data)}catch(m){M("bad json",_.data);return}this.emit("close",f[0],f[1]),this.close();break}},I.prototype.postMessage=function(w,_){M("postMessage",w,_),this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:w,data:_||""}),this.origin)},I.prototype.send=function(w){M("send",w),this.postMessage("m",w)},I.enabled=function(){return y.iframeEnabled},I.transportName="iframe",I.roundTrips=2,it.exports=I},77911:function(it,Ee,l){"use strict";var C=l(2937),d=l(34430),z=l(48003),O=l(70605);function y(W){if(!y.enabled())throw new Error("Transport created when disabled");d.call(this,W,"/jsonp",O,z)}C(y,d),y.enabled=function(){return!!l.g.document},y.transportName="jsonp-polling",y.roundTrips=1,y.needBody=!0,it.exports=y},72261:function(it,Ee,l){"use strict";var C=l(2937),d=l(11803),z=l(34430),O=function(){};function y(A){return function(M,I,w){O("create ajax sender",M,I);var _={};typeof I=="string"&&(_.headers={"Content-type":"text/plain"});var f=d.addPath(M,"/xhr_send"),m=new A("POST",f,I,_);return m.once("finish",function(a){if(O("finish",a),m=null,a!==200&&a!==204)return w(new Error("http status "+a));w()}),function(){O("abort"),m.close(),m=null;var a=new Error("Aborted");a.code=1e3,w(a)}}}function W(A,M,I,w){z.call(this,A,M,y(w),I,w)}C(W,z),it.exports=W},83626:function(it,Ee,l){"use strict";var C=l(2937),d=l(39622).v,z=function(){};function O(y,W){z(y),d.call(this),this.sendBuffer=[],this.sender=W,this.url=y}C(O,d),O.prototype.send=function(y){z("send",y),this.sendBuffer.push(y),this.sendStop||this.sendSchedule()},O.prototype.sendScheduleWait=function(){z("sendScheduleWait");var y=this,W;this.sendStop=function(){z("sendStop"),y.sendStop=null,clearTimeout(W)},W=setTimeout(function(){z("timeout"),y.sendStop=null,y.sendSchedule()},25)},O.prototype.sendSchedule=function(){z("sendSchedule",this.sendBuffer.length);var y=this;if(this.sendBuffer.length>0){var W="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,W,function(A){y.sendStop=null,A?(z("error",A),y.emit("close",A.code||1006,"Sending error: "+A),y.close()):y.sendScheduleWait()}),this.sendBuffer=[]}},O.prototype._cleanup=function(){z("_cleanup"),this.removeAllListeners()},O.prototype.close=function(){z("close"),this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},it.exports=O},34930:function(it,Ee,l){"use strict";var C=l(2937),d=l(36010),z=l(77234);it.exports=function(O){function y(W,A){d.call(this,O.transportName,W,A)}return C(y,d),y.enabled=function(W,A){if(!l.g.document)return!1;var M=z.extend({},A);return M.sameOrigin=!0,O.enabled(M)&&d.enabled()},y.transportName="iframe-"+O.transportName,y.needBody=!0,y.roundTrips=d.roundTrips+O.roundTrips-1,y.facadeTransport=O,y}},24408:function(it,Ee,l){"use strict";var C=l(2937),d=l(39622).v,z=function(){};function O(y,W,A){z(W),d.call(this),this.Receiver=y,this.receiveUrl=W,this.AjaxObject=A,this._scheduleReceiver()}C(O,d),O.prototype._scheduleReceiver=function(){z("_scheduleReceiver");var y=this,W=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);W.on("message",function(A){z("message",A),y.emit("message",A)}),W.once("close",function(A,M){z("close",A,M,y.pollIsClosing),y.poll=W=null,y.pollIsClosing||(M==="network"?y._scheduleReceiver():(y.emit("close",A||1006,M),y.removeAllListeners()))})},O.prototype.abort=function(){z("abort"),this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},it.exports=O},34430:function(it,Ee,l){"use strict";var C=l(2937),d=l(11803),z=l(83626),O=l(24408),y=function(){};function W(A,M,I,w,_){var f=d.addPath(A,M);y(f);var m=this;z.call(this,A,I),this.poll=new O(w,f,_),this.poll.on("message",function(a){y("poll message",a),m.emit("message",a)}),this.poll.once("close",function(a,x){y("poll close",a,x),m.poll=null,m.emit("close",a,x),m.close()})}C(W,z),W.prototype.close=function(){z.prototype.close.call(this),y("close"),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},it.exports=W},95765:function(it,Ee,l){"use strict";var C=l(2937),d=l(39622).v,z=l(71494),O=function(){};function y(W){O(W),d.call(this);var A=this,M=this.es=new z(W);M.onmessage=function(I){O("message",I.data),A.emit("message",decodeURI(I.data))},M.onerror=function(I){O("error",M.readyState,I);var w=M.readyState!==2?"network":"permanent";A._cleanup(),A._close(w)}}C(y,d),y.prototype.abort=function(){O("abort"),this._cleanup(),this._close("user")},y.prototype._cleanup=function(){O("cleanup");var W=this.es;W&&(W.onmessage=W.onerror=null,W.close(),this.es=null)},y.prototype._close=function(W){O("close",W);var A=this;setTimeout(function(){A.emit("close",null,W),A.removeAllListeners()},200)},it.exports=y},86119:function(it,Ee,l){"use strict";var C=l(2937),d=l(68734),z=l(11803),O=l(39622).v,y=l(36032),W=function(){};function A(I){W(I),O.call(this);var w=this;d.polluteGlobalNamespace(),this.id="a"+y.string(6),I=z.addQuery(I,"c="+decodeURIComponent(d.WPrefix+"."+this.id)),W("using htmlfile",A.htmlfileEnabled);var _=A.htmlfileEnabled?d.createHtmlfile:d.createIframe;l.g[d.WPrefix][this.id]={start:function(){W("start"),w.iframeObj.loaded()},message:function(f){W("message",f),w.emit("message",f)},stop:function(){W("stop"),w._cleanup(),w._close("network")}},this.iframeObj=_(I,function(){W("callback"),w._cleanup(),w._close("permanent")})}C(A,O),A.prototype.abort=function(){W("abort"),this._cleanup(),this._close("user")},A.prototype._cleanup=function(){W("_cleanup"),this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete l.g[d.WPrefix][this.id]},A.prototype._close=function(I){W("_close",I),this.emit("close",null,I),this.removeAllListeners()},A.htmlfileEnabled=!1;var M=["Active"].concat("Object").join("X");if(M in l.g)try{A.htmlfileEnabled=!!new l.g[M]("htmlfile")}catch(I){}A.enabled=A.htmlfileEnabled||d.iframeEnabled,it.exports=A},48003:function(it,Ee,l){"use strict";var C=l(68734),d=l(36032),z=l(36626),O=l(11803),y=l(2937),W=l(39622).v,A=function(){};function M(I){A(I);var w=this;W.call(this),C.polluteGlobalNamespace(),this.id="a"+d.string(6);var _=O.addQuery(I,"c="+encodeURIComponent(C.WPrefix+"."+this.id));l.g[C.WPrefix][this.id]=this._callback.bind(this),this._createScript(_),this.timeoutId=setTimeout(function(){A("timeout"),w._abort(new Error("JSONP script loaded abnormally (timeout)"))},M.timeout)}y(M,W),M.prototype.abort=function(){if(A("abort"),l.g[C.WPrefix][this.id]){var I=new Error("JSONP user aborted read");I.code=1e3,this._abort(I)}},M.timeout=35e3,M.scriptErrorTimeout=1e3,M.prototype._callback=function(I){A("_callback",I),this._cleanup(),!this.aborting&&(I&&(A("message",I),this.emit("message",I)),this.emit("close",null,"network"),this.removeAllListeners())},M.prototype._abort=function(I){A("_abort",I),this._cleanup(),this.aborting=!0,this.emit("close",I.code,I.message),this.removeAllListeners()},M.prototype._cleanup=function(){if(A("_cleanup"),clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var I=this.script;I.parentNode.removeChild(I),I.onreadystatechange=I.onerror=I.onload=I.onclick=null,this.script=null}delete l.g[C.WPrefix][this.id]},M.prototype._scriptError=function(){A("_scriptError");var I=this;this.errorTimer||(this.errorTimer=setTimeout(function(){I.loadedOkay||I._abort(new Error("JSONP script loaded abnormally (onerror)"))},M.scriptErrorTimeout))},M.prototype._createScript=function(I){A("_createScript",I);var w=this,_=this.script=l.g.document.createElement("script"),f;if(_.id="a"+d.string(8),_.src=I,_.type="text/javascript",_.charset="UTF-8",_.onerror=this._scriptError.bind(this),_.onload=function(){A("onload"),w._abort(new Error("JSONP script loaded abnormally (onload)"))},_.onreadystatechange=function(){if(A("onreadystatechange",_.readyState),/loaded|closed/.test(_.readyState)){if(_&&_.htmlFor&&_.onclick){w.loadedOkay=!0;try{_.onclick()}catch(a){}}_&&w._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof _.async=="undefined"&&l.g.document.attachEvent)if(z.isOpera())f=this.script2=l.g.document.createElement("script"),f.text="try{var a = document.getElementById('"+_.id+"'); if(a)a.onerror();}catch(x){};",_.async=f.async=!1;else{try{_.htmlFor=_.id,_.event="onclick"}catch(a){}_.async=!0}typeof _.async!="undefined"&&(_.async=!0);var m=l.g.document.getElementsByTagName("head")[0];m.insertBefore(_,m.firstChild),f&&m.insertBefore(f,m.firstChild)},it.exports=M},96960:function(it,Ee,l){"use strict";var C=l(2937),d=l(39622).v,z=function(){};function O(y,W){z(y),d.call(this);var A=this;this.bufferPosition=0,this.xo=new W("POST",y,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(M,I){z("finish",M,I),A._chunkHandler(M,I),A.xo=null;var w=M===200?"network":"permanent";z("close",w),A.emit("close",null,w),A._cleanup()})}C(O,d),O.prototype._chunkHandler=function(y,W){if(z("_chunkHandler",y),!(y!==200||!W))for(var A=-1;;this.bufferPosition+=A+1){var M=W.slice(this.bufferPosition);if(A=M.indexOf(`
`),A===-1)break;var I=M.slice(0,A);I&&(z("message",I),this.emit("message",I))}},O.prototype._cleanup=function(){z("_cleanup"),this.removeAllListeners()},O.prototype.abort=function(){z("abort"),this.xo&&(this.xo.close(),z("close"),this.emit("close",null,"user"),this.xo=null),this._cleanup()},it.exports=O},70605:function(it,Ee,l){"use strict";var C=l(36032),d=l(11803),z=function(){},O,y;function W(M){z("createIframe",M);try{return l.g.document.createElement('<iframe name="'+M+'">')}catch(w){var I=l.g.document.createElement("iframe");return I.name=M,I}}function A(){z("createForm"),O=l.g.document.createElement("form"),O.style.display="none",O.style.position="absolute",O.method="POST",O.enctype="application/x-www-form-urlencoded",O.acceptCharset="UTF-8",y=l.g.document.createElement("textarea"),y.name="d",O.appendChild(y),l.g.document.body.appendChild(O)}it.exports=function(M,I,w){z(M,I),O||A();var _="a"+C.string(8);O.target=_,O.action=d.addQuery(d.addPath(M,"/jsonp_send"),"i="+_);var f=W(_);f.id=_,f.style.display="none",O.appendChild(f);try{y.value=I}catch(a){}O.submit();var m=function(a){z("completed",_,a),f.onerror&&(f.onreadystatechange=f.onerror=f.onload=null,setTimeout(function(){z("cleaning up",_),f.parentNode.removeChild(f),f=null},500),y.value="",w(a))};return f.onerror=function(){z("onerror",_),m()},f.onload=function(){z("onload",_),m()},f.onreadystatechange=function(a){z("onreadystatechange",_,f.readyState,a),f.readyState==="complete"&&m()},function(){z("aborted",_),m(new Error("Aborted"))}}},79150:function(it,Ee,l){"use strict";var C=l(39622).v,d=l(2937),z=l(56831),O=l(36626),y=l(11803),W=function(){};function A(M,I,w){W(M,I);var _=this;C.call(this),setTimeout(function(){_._start(M,I,w)},0)}d(A,C),A.prototype._start=function(M,I,w){W("_start");var _=this,f=new l.g.XDomainRequest;I=y.addQuery(I,"t="+ +new Date),f.onerror=function(){W("onerror"),_._error()},f.ontimeout=function(){W("ontimeout"),_._error()},f.onprogress=function(){W("progress",f.responseText),_.emit("chunk",200,f.responseText)},f.onload=function(){W("load"),_.emit("finish",200,f.responseText),_._cleanup(!1)},this.xdr=f,this.unloadRef=z.unloadAdd(function(){_._cleanup(!0)});try{this.xdr.open(M,I),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(w)}catch(m){this._error()}},A.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},A.prototype._cleanup=function(M){if(W("cleanup",M),!!this.xdr){if(this.removeAllListeners(),z.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,M)try{this.xdr.abort()}catch(I){}this.unloadRef=this.xdr=null}},A.prototype.close=function(){W("close"),this._cleanup(!0)},A.enabled=!!(l.g.XDomainRequest&&O.hasDomain()),it.exports=A},91278:function(it,Ee,l){"use strict";var C=l(2937),d=l(90771);function z(O,y,W,A){d.call(this,O,y,W,A)}C(z,d),z.enabled=d.enabled&&d.supportsCORS,it.exports=z},69431:function(it,Ee,l){"use strict";var C=l(39622).v,d=l(2937);function z(){var O=this;C.call(this),this.to=setTimeout(function(){O.emit("finish",200,"{}")},z.timeout)}d(z,C),z.prototype.close=function(){clearTimeout(this.to)},z.timeout=2e3,it.exports=z},82458:function(it,Ee,l){"use strict";var C=l(2937),d=l(90771);function z(O,y,W){d.call(this,O,y,W,{noCredentials:!0})}C(z,d),z.enabled=d.enabled,it.exports=z},89712:function(it,Ee,l){"use strict";var C=l(56831),d=l(11803),z=l(2937),O=l(39622).v,y=l(53485),W=function(){};function A(M,I,w){if(!A.enabled())throw new Error("Transport created when disabled");O.call(this),W("constructor",M);var _=this,f=d.addPath(M,"/websocket");f.slice(0,5)==="https"?f="wss"+f.slice(5):f="ws"+f.slice(4),this.url=f,this.ws=new y(this.url,[],w),this.ws.onmessage=function(m){W("message event",m.data),_.emit("message",m.data)},this.unloadRef=C.unloadAdd(function(){W("unload"),_.ws.close()}),this.ws.onclose=function(m){W("close event",m.code,m.reason),_.emit("close",m.code,m.reason),_._cleanup()},this.ws.onerror=function(m){W("error event",m),_.emit("close",1006,"WebSocket connection broken"),_._cleanup()}}z(A,O),A.prototype.send=function(M){var I="["+M+"]";W("send",I),this.ws.send(I)},A.prototype.close=function(){W("close");var M=this.ws;this._cleanup(),M&&M.close()},A.prototype._cleanup=function(){W("_cleanup");var M=this.ws;M&&(M.onmessage=M.onclose=M.onerror=null),C.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},A.enabled=function(){return W("enabled"),!!y},A.transportName="websocket",A.roundTrips=2,it.exports=A},16685:function(it,Ee,l){"use strict";var C=l(2937),d=l(72261),z=l(63358),O=l(96960),y=l(79150);function W(A){if(!y.enabled)throw new Error("Transport created when disabled");d.call(this,A,"/xhr",O,y)}C(W,d),W.enabled=z.enabled,W.transportName="xdr-polling",W.roundTrips=2,it.exports=W},63358:function(it,Ee,l){"use strict";var C=l(2937),d=l(72261),z=l(96960),O=l(79150);function y(W){if(!O.enabled)throw new Error("Transport created when disabled");d.call(this,W,"/xhr_streaming",z,O)}C(y,d),y.enabled=function(W){return W.cookie_needed||W.nullOrigin?!1:O.enabled&&W.sameScheme},y.transportName="xdr-streaming",y.roundTrips=2,it.exports=y},13900:function(it,Ee,l){"use strict";var C=l(2937),d=l(72261),z=l(96960),O=l(91278),y=l(82458);function W(A){if(!y.enabled&&!O.enabled)throw new Error("Transport created when disabled");d.call(this,A,"/xhr",z,O)}C(W,d),W.enabled=function(A){return A.nullOrigin?!1:y.enabled&&A.sameOrigin?!0:O.enabled},W.transportName="xhr-polling",W.roundTrips=2,it.exports=W},18690:function(it,Ee,l){"use strict";var C=l(2937),d=l(72261),z=l(96960),O=l(91278),y=l(82458),W=l(36626);function A(M){if(!y.enabled&&!O.enabled)throw new Error("Transport created when disabled");d.call(this,M,"/xhr_streaming",z,O)}C(A,d),A.enabled=function(M){return M.nullOrigin||W.isOpera()?!1:O.enabled},A.transportName="xhr-streaming",A.roundTrips=2,A.needBody=!!l.g.document,it.exports=A},20971:function(it,Ee,l){"use strict";l.g.crypto&&l.g.crypto.getRandomValues?it.exports.randomBytes=function(C){var d=new Uint8Array(C);return l.g.crypto.getRandomValues(d),d}:it.exports.randomBytes=function(C){for(var d=new Array(C),z=0;z<C;z++)d[z]=Math.floor(Math.random()*256);return d}},36626:function(it,Ee,l){"use strict";it.exports={isOpera:function(){return l.g.navigator&&/opera/i.test(l.g.navigator.userAgent)},isKonqueror:function(){return l.g.navigator&&/konqueror/i.test(l.g.navigator.userAgent)},hasDomain:function(){if(!l.g.document)return!0;try{return!!l.g.document.domain}catch(C){return!1}}}},16118:function(it){"use strict";var Ee=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,l,C=function(d){var z,O={},y=[];for(z=0;z<65536;z++)y.push(String.fromCharCode(z));return d.lastIndex=0,y.join("").replace(d,function(W){return O[W]="\\u"+("0000"+W.charCodeAt(0).toString(16)).slice(-4),""}),d.lastIndex=0,O};it.exports={quote:function(d){var z=JSON.stringify(d);return Ee.lastIndex=0,Ee.test(z)?(l||(l=C(Ee)),z.replace(Ee,function(O){return l[O]})):z}}},56831:function(it,Ee,l){"use strict";var C=l(36032),d={},z=!1,O=l.g.chrome&&l.g.chrome.app&&l.g.chrome.app.runtime;it.exports={attachEvent:function(W,A){typeof l.g.addEventListener!="undefined"?l.g.addEventListener(W,A,!1):l.g.document&&l.g.attachEvent&&(l.g.document.attachEvent("on"+W,A),l.g.attachEvent("on"+W,A))},detachEvent:function(W,A){typeof l.g.addEventListener!="undefined"?l.g.removeEventListener(W,A,!1):l.g.document&&l.g.detachEvent&&(l.g.document.detachEvent("on"+W,A),l.g.detachEvent("on"+W,A))},unloadAdd:function(W){if(O)return null;var A=C.string(8);return d[A]=W,z&&setTimeout(this.triggerUnloadCallbacks,0),A},unloadDel:function(W){W in d&&delete d[W]},triggerUnloadCallbacks:function(){for(var W in d)d[W](),delete d[W]}};var y=function(){z||(z=!0,it.exports.triggerUnloadCallbacks())};O||it.exports.attachEvent("unload",y)},68734:function(it,Ee,l){"use strict";var C=l(56831),d=l(36626),z=function(){};it.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){it.exports.WPrefix in l.g||(l.g[it.exports.WPrefix]={})},postMessage:function(O,y){l.g.parent!==l.g?l.g.parent.postMessage(JSON.stringify({windowId:it.exports.currentWindowId,type:O,data:y||""}),"*"):z("Cannot postMessage, no parent window.",O,y)},createIframe:function(O,y){var W=l.g.document.createElement("iframe"),A,M,I=function(){z("unattach"),clearTimeout(A);try{W.onload=null}catch(m){}W.onerror=null},w=function(){z("cleanup"),W&&(I(),setTimeout(function(){W&&W.parentNode.removeChild(W),W=null},0),C.unloadDel(M))},_=function(m){z("onerror",m),W&&(w(),y(m))},f=function(m,a){z("post",m,a),setTimeout(function(){try{W&&W.contentWindow&&W.contentWindow.postMessage(m,a)}catch(x){}},0)};return W.src=O,W.style.display="none",W.style.position="absolute",W.onerror=function(){_("onerror")},W.onload=function(){z("onload"),clearTimeout(A),A=setTimeout(function(){_("onload timeout")},2e3)},l.g.document.body.appendChild(W),A=setTimeout(function(){_("timeout")},15e3),M=C.unloadAdd(w),{post:f,cleanup:w,loaded:I}},createHtmlfile:function(O,y){var W=["Active"].concat("Object").join("X"),A=new l.g[W]("htmlfile"),M,I,w,_=function(){clearTimeout(M),w.onerror=null},f=function(){A&&(_(),C.unloadDel(I),w.parentNode.removeChild(w),w=A=null,CollectGarbage())},m=function(k){z("onerror",k),A&&(f(),y(k))},a=function(k,T){try{setTimeout(function(){w&&w.contentWindow&&w.contentWindow.postMessage(k,T)},0)}catch(N){}};A.open(),A.write('<html><script>document.domain="'+l.g.document.domain+'";<\/script></html>'),A.close(),A.parentWindow[it.exports.WPrefix]=l.g[it.exports.WPrefix];var x=A.createElement("div");return A.body.appendChild(x),w=A.createElement("iframe"),x.appendChild(w),w.src=O,w.onerror=function(){m("onerror")},M=setTimeout(function(){m("timeout")},15e3),I=C.unloadAdd(f),{post:a,cleanup:f,loaded:_}}},it.exports.iframeEnabled=!1,l.g.document&&(it.exports.iframeEnabled=(typeof l.g.postMessage=="function"||typeof l.g.postMessage=="object")&&!d.isKonqueror())},97254:function(it,Ee,l){"use strict";var C={};["log","debug","warn"].forEach(function(d){var z;try{z=l.g.console&&l.g.console[d]&&l.g.console[d].apply}catch(O){}C[d]=z?function(){return l.g.console[d].apply(l.g.console,arguments)}:d==="log"?function(){}:C.log}),it.exports=C},77234:function(it){"use strict";it.exports={isObject:function(Ee){var l=typeof Ee;return l==="function"||l==="object"&&!!Ee},extend:function(Ee){if(!this.isObject(Ee))return Ee;for(var l,C,d=1,z=arguments.length;d<z;d++){l=arguments[d];for(C in l)Object.prototype.hasOwnProperty.call(l,C)&&(Ee[C]=l[C])}return Ee}}},36032:function(it,Ee,l){"use strict";var C=l(20971),d="abcdefghijklmnopqrstuvwxyz012345";it.exports={string:function(z){for(var O=d.length,y=C.randomBytes(z),W=[],A=0;A<z;A++)W.push(d.substr(y[A]%O,1));return W.join("")},number:function(z){return Math.floor(Math.random()*z)},numberString:function(z){var O=(""+(z-1)).length,y=new Array(O+1).join("0");return(y+this.number(z)).slice(-O)}}},99404:function(it){"use strict";var Ee=function(){};it.exports=function(l){return{filterToEnabled:function(C,d){var z={main:[],facade:[]};return C?typeof C=="string"&&(C=[C]):C=[],l.forEach(function(O){if(!!O){if(O.transportName==="websocket"&&d.websocket===!1){Ee("disabled from server","websocket");return}if(C.length&&C.indexOf(O.transportName)===-1){Ee("not in whitelist",O.transportName);return}O.enabled(d)?(Ee("enabled",O.transportName),z.main.push(O),O.facadeTransport&&z.facade.push(O.facadeTransport)):Ee("disabled",O.transportName)}}),z}}}},11803:function(it,Ee,l){"use strict";var C=l(52296),d=function(){};it.exports={getOrigin:function(z){if(!z)return null;var O=new C(z);if(O.protocol==="file:")return null;var y=O.port;return y||(y=O.protocol==="https:"?"443":"80"),O.protocol+"//"+O.hostname+":"+y},isOriginEqual:function(z,O){var y=this.getOrigin(z)===this.getOrigin(O);return d("same",z,O,y),y},isSchemeEqual:function(z,O){return z.split(":")[0]===O.split(":")[0]},addPath:function(z,O){var y=z.split("?");return y[0]+O+(y[1]?"?"+y[1]:"")},addQuery:function(z,O){return z+(z.indexOf("?")===-1?"?"+O:"&"+O)},isLoopbackAddr:function(z){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(z)||/^\[::1\]$/.test(z)}}},19534:function(it){it.exports="1.6.1"},52296:function(it,Ee,l){"use strict";var C=l(41384),d=l(98878),z=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,O=/[\n\r\t]/g,y=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,W=/:\d+$/,A=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,M=/^[a-zA-Z]:/;function I(L){return(L||"").toString().replace(z,"")}var w=[["#","hash"],["?","query"],function(R,b){return m(b.protocol)?R.replace(/\\/g,"/"):R},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],_={hash:1,query:1};function f(L){var R;typeof window!="undefined"?R=window:typeof l.g!="undefined"?R=l.g:typeof self!="undefined"?R=self:R={};var b=R.location||{};L=L||b;var P={},V=typeof L,H;if(L.protocol==="blob:")P=new k(unescape(L.pathname),{});else if(V==="string"){P=new k(L,{});for(H in _)delete P[H]}else if(V==="object"){for(H in L)H in _||(P[H]=L[H]);P.slashes===void 0&&(P.slashes=y.test(L.href))}return P}function m(L){return L==="file:"||L==="ftp:"||L==="http:"||L==="https:"||L==="ws:"||L==="wss:"}function a(L,R){L=I(L),L=L.replace(O,""),R=R||{};var b=A.exec(L),P=b[1]?b[1].toLowerCase():"",V=!!b[2],H=!!b[3],ee=0,ae;return V?H?(ae=b[2]+b[3]+b[4],ee=b[2].length+b[3].length):(ae=b[2]+b[4],ee=b[2].length):H?(ae=b[3]+b[4],ee=b[3].length):ae=b[4],P==="file:"?ee>=2&&(ae=ae.slice(2)):m(P)?ae=b[4]:P?V&&(ae=ae.slice(2)):ee>=2&&m(R.protocol)&&(ae=b[4]),{protocol:P,slashes:V||m(P),slashesCount:ee,rest:ae}}function x(L,R){if(L==="")return R;for(var b=(R||"/").split("/").slice(0,-1).concat(L.split("/")),P=b.length,V=b[P-1],H=!1,ee=0;P--;)b[P]==="."?b.splice(P,1):b[P]===".."?(b.splice(P,1),ee++):ee&&(P===0&&(H=!0),b.splice(P,1),ee--);return H&&b.unshift(""),(V==="."||V==="..")&&b.push(""),b.join("/")}function k(L,R,b){if(L=I(L),L=L.replace(O,""),!(this instanceof k))return new k(L,R,b);var P,V,H,ee,ae,me,ge=w.slice(),re=typeof R,se=this,X=0;for(re!=="object"&&re!=="string"&&(b=R,R=null),b&&typeof b!="function"&&(b=d.parse),R=f(R),V=a(L||"",R),P=!V.protocol&&!V.slashes,se.slashes=V.slashes||P&&R.slashes,se.protocol=V.protocol||R.protocol||"",L=V.rest,(V.protocol==="file:"&&(V.slashesCount!==2||M.test(L))||!V.slashes&&(V.protocol||V.slashesCount<2||!m(se.protocol)))&&(ge[3]=[/(.*)/,"pathname"]);X<ge.length;X++){if(ee=ge[X],typeof ee=="function"){L=ee(L,se);continue}H=ee[0],me=ee[1],H!==H?se[me]=L:typeof H=="string"?(ae=H==="@"?L.lastIndexOf(H):L.indexOf(H),~ae&&(typeof ee[2]=="number"?(se[me]=L.slice(0,ae),L=L.slice(ae+ee[2])):(se[me]=L.slice(ae),L=L.slice(0,ae)))):(ae=H.exec(L))&&(se[me]=ae[1],L=L.slice(0,ae.index)),se[me]=se[me]||P&&ee[3]&&R[me]||"",ee[4]&&(se[me]=se[me].toLowerCase())}b&&(se.query=b(se.query)),P&&R.slashes&&se.pathname.charAt(0)!=="/"&&(se.pathname!==""||R.pathname!=="")&&(se.pathname=x(se.pathname,R.pathname)),se.pathname.charAt(0)!=="/"&&m(se.protocol)&&(se.pathname="/"+se.pathname),C(se.port,se.protocol)||(se.host=se.hostname,se.port=""),se.username=se.password="",se.auth&&(ae=se.auth.indexOf(":"),~ae?(se.username=se.auth.slice(0,ae),se.username=encodeURIComponent(decodeURIComponent(se.username)),se.password=se.auth.slice(ae+1),se.password=encodeURIComponent(decodeURIComponent(se.password))):se.username=encodeURIComponent(decodeURIComponent(se.auth)),se.auth=se.password?se.username+":"+se.password:se.username),se.origin=se.protocol!=="file:"&&m(se.protocol)&&se.host?se.protocol+"//"+se.host:"null",se.href=se.toString()}function T(L,R,b){var P=this;switch(L){case"query":typeof R=="string"&&R.length&&(R=(b||d.parse)(R)),P[L]=R;break;case"port":P[L]=R,C(R,P.protocol)?R&&(P.host=P.hostname+":"+R):(P.host=P.hostname,P[L]="");break;case"hostname":P[L]=R,P.port&&(R+=":"+P.port),P.host=R;break;case"host":P[L]=R,W.test(R)?(R=R.split(":"),P.port=R.pop(),P.hostname=R.join(":")):(P.hostname=R,P.port="");break;case"protocol":P.protocol=R.toLowerCase(),P.slashes=!b;break;case"pathname":case"hash":if(R){var V=L==="pathname"?"/":"#";P[L]=R.charAt(0)!==V?V+R:R}else P[L]=R;break;case"username":case"password":P[L]=encodeURIComponent(R);break;case"auth":var H=R.indexOf(":");~H?(P.username=R.slice(0,H),P.username=encodeURIComponent(decodeURIComponent(P.username)),P.password=R.slice(H+1),P.password=encodeURIComponent(decodeURIComponent(P.password))):P.username=encodeURIComponent(decodeURIComponent(R))}for(var ee=0;ee<w.length;ee++){var ae=w[ee];ae[4]&&(P[ae[1]]=P[ae[1]].toLowerCase())}return P.auth=P.password?P.username+":"+P.password:P.username,P.origin=P.protocol!=="file:"&&m(P.protocol)&&P.host?P.protocol+"//"+P.host:"null",P.href=P.toString(),P}function N(L){(!L||typeof L!="function")&&(L=d.stringify);var R,b=this,P=b.host,V=b.protocol;V&&V.charAt(V.length-1)!==":"&&(V+=":");var H=V+(b.protocol&&b.slashes||m(b.protocol)?"//":"");return b.username?(H+=b.username,b.password&&(H+=":"+b.password),H+="@"):b.password?(H+=":"+b.password,H+="@"):b.protocol!=="file:"&&m(b.protocol)&&!P&&b.pathname!=="/"&&(H+="@"),(P[P.length-1]===":"||W.test(b.hostname)&&!b.port)&&(P+=":"),H+=P+b.pathname,R=typeof b.query=="object"?L(b.query):b.query,R&&(H+=R.charAt(0)!=="?"?"?"+R:R),b.hash&&(H+=b.hash),H}k.prototype={set:T,toString:N},k.extractProtocol=a,k.location=f,k.trimLeft=I,k.qs=d,it.exports=k},86563:function(it){(function(Ee,l){it.exports=l()})(this,function(){"use strict";var Ee=function(){return Ee=Object.assign||function(R){for(var b,P=1,V=arguments.length;P<V;P++){b=arguments[P];for(var H in b)Object.prototype.hasOwnProperty.call(b,H)&&(R[H]=b[H])}return R},Ee.apply(this,arguments)};function l(){var L=document.createElement("div");return L.style.cssText="position: fixed; top: 0; height: 100vh; pointer-events: none;",document.documentElement.insertBefore(L,document.documentElement.firstChild),L}function C(L){document.documentElement.removeChild(L)}function d(){var L=l(),R=window.innerHeight,b=L.offsetHeight,P=b-R;return C(L),{vh:b,windowHeight:R,offset:P,isNeeded:P!==0,value:0}}function z(){}function O(){var L=d();return L.value=L.offset,L}function y(){var L=d();return L.value=L.windowHeight*.01,L}var W=Object.freeze({noop:z,computeDifference:O,redefineVhUnit:y});function A(L){return typeof L=="string"&&L.length>0}function M(L){return typeof L=="function"}var I=Object.freeze({cssVarName:"vh-offset",redefineVh:!1,method:O,force:!1,bind:!0,updateOnTouch:!1,onUpdate:z});function w(L){if(A(L))return Ee({},I,{cssVarName:L});if(typeof L!="object")return I;var R={force:L.force===!0,bind:L.bind!==!1,updateOnTouch:L.updateOnTouch===!0,onUpdate:M(L.onUpdate)?L.onUpdate:z},b=L.redefineVh===!0;return R.method=W[b?"redefineVhUnit":"computeDifference"],R.cssVarName=A(L.cssVarName)?L.cssVarName:b?"vh":I.cssVarName,R}var _=!1,f=[];try{var m=Object.defineProperty({},"passive",{get:function(){_=!0}});window.addEventListener("test",m,m),window.removeEventListener("test",m,m)}catch(L){_=!1}function a(L,R){f.push({eventName:L,callback:R}),window.addEventListener(L,R,_?{passive:!0}:!1)}function x(){f.forEach(function(L){window.removeEventListener(L.eventName,L.callback)}),f=[]}function k(L,R){document.documentElement.style.setProperty("--"+L,R.value+"px")}function T(L,R){return Ee({},L,{unbind:x,recompute:R.method})}function N(L){var R=Object.freeze(w(L)),b=T(R.method(),R);if(!b.isNeeded&&!R.force||(k(R.cssVarName,b),R.onUpdate(b),!R.bind))return b;function P(){window.requestAnimationFrame(function(){var V=R.method();k(R.cssVarName,V),R.onUpdate(T(V,R))})}return b.unbind(),a("orientationchange",P),R.updateOnTouch&&a("touchmove",P),b}return N})},91190:function(it){"use strict";var Ee=!1,l=function(){};if(Ee){var C=function(z,O){var y=arguments.length;O=new Array(y>1?y-1:0);for(var W=1;W<y;W++)O[W-1]=arguments[W];var A=0,M="Warning: "+z.replace(/%s/g,function(){return O[A++]});typeof console!="undefined"&&console.error(M);try{throw new Error(M)}catch(I){}};l=function(d,z,O){var y=arguments.length;O=new Array(y>2?y-2:0);for(var W=2;W<y;W++)O[W-2]=arguments[W];if(z===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");d||C.apply(null,[z].concat(O))}}it.exports=l}}]);

"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2340],{85143:function(w,F,e){e.r(F);var j=e(35290),S=e.n(j),L=e(30279),N=e.n(L),T=e(411),c=e.n(T),E=e(46686),f=e.n(E),x=e(63313),R=e.n(x),r=e(71976),W=e(63533),v=e(4352),h=e(30314),P=e(61839),b=e(73835),Y=e(41601),U=e(11527),K=function(l){var o=l.app,s=l.handleCancel,a=l.visible,d=r.Z.useForm(),k=f()(d,1),A=k[0],I=(0,x.useState)(!1),$=f()(I,2),M=$[0],O=$[1],p=function(){var m=c()(S()().mark(function i(C){var Q,_,y,z,n;return S()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return O(!0),Q=o?"put":"post",_=N()({},C),o&&(_.id=o.id),Z.prev=4,Z.next=7,b.W[Q]("".concat(Y.Z.apiPrefix,"apps"),{data:_});case 7:y=Z.sent,z=y.code,n=y.data,z===200&&(W.ZP.success(o?"\u66F4\u65B0\u5E94\u7528\u6210\u529F":"\u65B0\u5EFA\u5E94\u7528\u6210\u529F"),s(n)),O(!1),Z.next=17;break;case 14:Z.prev=14,Z.t0=Z.catch(4),O(!1);case 17:case"end":return Z.stop()}},i,null,[[4,14]])}));return function(C){return m.apply(this,arguments)}}();return(0,x.useEffect)(function(){A.resetFields()},[o,a]),(0,U.jsx)(v.Z,{title:o?"\u7F16\u8F91\u5E94\u7528":"\u65B0\u5EFA\u5E94\u7528",open:a,forceRender:!0,centered:!0,maskClosable:!1,onOk:function(){A.validateFields().then(function(i){p(i)}).catch(function(i){console.log("Validate Failed:",i)})},onCancel:function(){return s()},confirmLoading:M,children:(0,U.jsxs)(r.Z,{form:A,layout:"vertical",name:"form_app_modal",initialValues:o,children:[(0,U.jsx)(r.Z.Item,{name:"name",label:"\u540D\u79F0",rules:[{validator:function(i,C){return["system"].includes(C)?Promise.reject(new Error("\u540D\u79F0\u4E0D\u80FD\u4E3A\u4FDD\u7559\u5173\u952E\u5B57")):Promise.resolve()}}],children:(0,U.jsx)(h.Z,{placeholder:"\u8BF7\u8F93\u5165\u5E94\u7528\u540D\u79F0"})}),(0,U.jsx)(r.Z.Item,{name:"scopes",label:"\u6743\u9650",rules:[{required:!0}],children:(0,U.jsx)(P.Z,{mode:"multiple",placeholder:"\u8BF7\u9009\u62E9\u6A21\u5757\u6743\u9650",allowClear:!0,style:{width:"100%"},children:Y.Z.scopes.map(function(m){return(0,U.jsx)(P.Z.Option,{value:m.value,children:m.name},m.value)})})})]})})};F.default=K},28346:function(w,F,e){e.r(F);var j=e(46686),S=e.n(j),L=e(63313),N=e.n(L),T=e(27387),c=e(63533),E=e(4352),f=e(59225),x=e(73835),R=e(41601),r=e(11527),W=T.Z.Countdown,v=function(P){var b=P.socketMessage,Y=P.systemInfo,U=(0,L.useState)(!1),K=S()(U,2),H=K[0],l=K[1],o=(0,L.useState)(""),s=S()(o,2),a=s[0],d=s[1],k=(0,L.useRef)(),A=function(){H||(l(!0),c.ZP.loading("\u68C0\u67E5\u66F4\u65B0\u4E2D...",0),x.W.put("".concat(R.Z.apiPrefix,"system/update-check")).then(function(p){var m=p.code,i=p.data;c.ZP.destroy(),m===200&&(i.hasNewVersion?$(i):I(i))}).catch(function(p){c.ZP.destroy(),console.log(p)}).finally(function(){l(!1)}))},I=function(p){E.Z.confirm({width:500,title:"\u66F4\u65B0",content:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:"\u5DF2\u7ECF\u662F\u6700\u65B0\u7248\u4E86\uFF01"}),(0,r.jsxs)("div",{style:{fontSize:12,fontWeight:400,marginTop:5},children:["\u9752\u9F99 ",p.lastVersion," \u662F\u76EE\u524D\u68C0\u6D4B\u5230\u7684\u6700\u65B0\u53EF\u7528\u7248\u672C\u4E86\u3002"]})]}),okText:"\u786E\u8BA4",cancelText:"\u5F3A\u5236\u66F4\u65B0",onCancel:function(){M(),x.W.put("".concat(R.Z.apiPrefix,"system/update")).then(function(i){}).catch(function(i){console.log(i)})}})},$=function(p){var m=p.lastVersion,i=p.lastLog;E.Z.confirm({width:500,title:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:"\u66F4\u65B0\u53EF\u7528"}),(0,r.jsxs)("div",{style:{fontSize:12,fontWeight:400,marginTop:5},children:["\u65B0\u7248\u672C ",m," \u53EF\u7528\uFF0C\u4F60\u4F7F\u7528\u7684\u7248\u672C\u4E3A ",Y.version,"\u3002"]})]}),content:(0,r.jsx)("pre",{style:{fontSize:12,fontWeight:400},children:i}),okText:"\u66F4\u65B0",cancelText:"\u4EE5\u540E\u518D\u8BF4",onOk:function(){M(),x.W.put("".concat(R.Z.apiPrefix,"system/update")).then(function(Q){}).catch(function(Q){console.log(Q)})}})},M=function(){d(""),k.current=E.Z.info({width:600,maskClosable:!1,closable:!1,okButtonProps:{disabled:!0},title:"\u66F4\u65B0\u4E2D...",centered:!0,content:(0,r.jsx)("pre",{style:{fontSize:12,fontWeight:400},children:a})})};return(0,L.useEffect)(function(){if(!(!k.current||!b)){var O=b.type,p=b.message,m=b.references;if(O==="updateSystemVersion"){var i="".concat(a).concat(p),C=i.includes("\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5");k.current.update({maskClosable:C,closable:C,okButtonProps:{disabled:!C},content:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("pre",{style:{fontSize:12,fontWeight:400},children:i}),(0,r.jsx)("div",{id:"log-identifier",style:{paddingBottom:5}})]})}),C&&!a.includes("\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5")&&c.ZP.error("\u66F4\u65B0\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC\u53CA\u65E5\u5FD7\u6216\u7A0D\u540E\u518D\u8BD5"),d(i),document.getElementById("log-identifier")&&document.getElementById("log-identifier").scrollIntoView({behavior:"smooth",block:"nearest"}),p.includes("\u91CD\u542F\u9762\u677F")&&(c.ZP.warning({content:(0,r.jsxs)("span",{children:["\u7CFB\u7EDF\u5C06\u5728",(0,r.jsx)(W,{className:"inline-countdown",format:"ss",value:Date.now()+1e3*30}),"\u79D2\u540E\u81EA\u52A8\u5237\u65B0"]}),duration:30}),setTimeout(function(){window.location.reload()},3e4))}}},[b]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(f.Z,{type:"primary",onClick:A,children:"\u68C0\u67E5\u66F4\u65B0"})})};F.default=v},2742:function(w,F,e){e.r(F),e.d(F,{default:function(){return ue}});var j=e(30279),S=e.n(j),L=e(94434),N=e.n(L),T=e(46686),c=e.n(T),E=e(63313),f=e(87670),x=e(96384),R=e(65646),r=e(61135),W=e(71976),v=e(4352),h=e(63533),P=e(59225),b=e(44514),Y=e(61685),U=e(28666),K=e(30314),H=e(50499),l=e(41601),o=e(11168),s=e(73835),a=e(71571),d=e(85143),k=e(97947),A=e(56453),I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},$=I,M=e(17536),O=function(B,q){return E.createElement(M.Z,(0,A.Z)((0,A.Z)({},B),{},{ref:q,icon:$}))};O.displayName="ReloadOutlined";var p=E.forwardRef(O),m=e(5962),i=e(2156),C=e(72340),Q=e(60220),_=e(28346),y=e(55015),z=e(65731),n=e(11527),G=f.Z.Text,Z=[{label:"\u4EAE\u8272",value:"light"},{label:"\u6697\u8272",value:"dark"},{label:"\u8DDF\u968F\u7CFB\u7EDF",value:"auto"}],te=function(){var B=(0,z.bx)(),q=B.headerStyle,ae=B.isPhone,de=B.user,ce=B.reloadUser,fe=B.reloadTheme,le=B.socketMessage,oe=B.systemInfo,re=[{title:"\u540D\u79F0",dataIndex:"name",key:"name",align:"center"},{title:"Client ID",dataIndex:"client_id",key:"client_id",align:"center",render:function(t,u){return(0,n.jsx)(G,{copyable:!0,children:u.client_id})}},{title:"Client Secret",dataIndex:"client_secret",key:"client_secret",align:"center",render:function(t,u){return(0,n.jsx)(G,{copyable:{text:u.client_secret},children:"*******"})}},{title:"\u6743\u9650",dataIndex:"scopes",key:"scopes",align:"center",width:"40%",render:function(t,u){return(0,n.jsx)("div",{style:{textAlign:"left"},children:u.scopes.map(function(g){return(0,n.jsx)(x.Z,{children:l.Z.scopesMap[g]},g)})})}},{title:"\u64CD\u4F5C",key:"action",align:"center",render:function(t,u,g){var V=!ae;return(0,n.jsxs)(R.Z,{size:"middle",style:{paddingLeft:8},children:[(0,n.jsx)(r.Z,{title:V?"\u7F16\u8F91":"",children:(0,n.jsx)("a",{onClick:function(){return nt(u,g)},children:(0,n.jsx)(k.Z,{})})}),(0,n.jsx)(r.Z,{title:V?"\u91CD\u7F6Esecret":"",children:(0,n.jsx)("a",{onClick:function(){return lt(u,g)},children:(0,n.jsx)(p,{})})}),(0,n.jsx)(r.Z,{title:V?"\u5220\u9664":"",children:(0,n.jsx)("a",{onClick:function(){return at(u,g)},children:(0,n.jsx)(m.Z,{})})})]})}}],se=(0,E.useState)(!0),J=c()(se,2),Le=J[0],_e=J[1],he=localStorage.getItem("qinglong_dark_theme")||"auto",Ae=(0,E.useState)([]),ge=c()(Ae,2),ie=ge[0],ve=ge[1],Ie=(0,E.useState)(!1),Ee=c()(Ie,2),Ze=Ee[0],me=Ee[1],Se=(0,E.useState)(),pe=c()(Se,2),Te=pe[0],Ce=pe[1],Re=(0,E.useState)("security"),Pe=c()(Re,2),We=Pe[0],be=Pe[1],Ue=(0,E.useState)([]),Oe=c()(Ue,2),Ke=Oe[0],Qe=Oe[1],Ne=(0,E.useState)(),ye=c()(Ne,2),ke=ye[0],$e=ye[1],Ve=(0,E.useState)(),xe=c()(Ve,2),Me=xe[0],De=xe[1],ze=W.Z.useForm(),Ge=c()(ze,1),Ye=Ge[0],ee=a||{},He=ee.enable,Je=ee.disable,ct=ee.exportGeneratedCSS,Xe=ee.setFetchMethod,we=ee.auto,qe=function(t){var u=t.target.value;localStorage.setItem("qinglong_dark_theme",t.target.value),Xe(fetch),u==="dark"?He({}):u==="light"?Je():we({}),fe()},et=function(){_e(!0),s.W.get("".concat(l.Z.apiPrefix,"apps")).then(function(t){var u=t.code,g=t.data;u===200&&ve(g)}).finally(function(){return _e(!1)})},tt=function(){Ce(null),me(!0)},nt=function(t,u){Ce(t),me(!0)},at=function(t,u){v.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:(0,n.jsxs)(n.Fragment,{children:["\u786E\u8BA4\u5220\u9664\u5E94\u7528"," ",(0,n.jsx)(G,{style:{wordBreak:"break-all"},type:"warning",children:t.name})," ","\u5417"]}),onOk:function(){s.W.delete("".concat(l.Z.apiPrefix,"apps"),{data:[t.id]}).then(function(V){var X=V.code,Fe=V.data;if(X===200){h.ZP.success("\u5220\u9664\u6210\u529F");var je=N()(ie);je.splice(u,1),ve(je)}})},onCancel:function(){console.log("Cancel")}})},lt=function(t,u){v.Z.confirm({title:"\u786E\u8BA4\u91CD\u7F6E",content:(0,n.jsxs)(n.Fragment,{children:["\u786E\u8BA4\u91CD\u7F6E\u5E94\u7528"," ",(0,n.jsx)(G,{style:{wordBreak:"break-all"},type:"warning",children:t.name})," ","\u7684Secret\u5417",(0,n.jsx)("br",{}),(0,n.jsx)(G,{type:"secondary",children:"\u91CD\u7F6ESecret\u4F1A\u8BA9\u5F53\u524D\u5E94\u7528\u6240\u6709token\u5931\u6548"})]}),onOk:function(){s.W.put("".concat(l.Z.apiPrefix,"apps/").concat(t.id,"/reset-secret")).then(function(V){var X=V.code,Fe=V.data;X===200&&(h.ZP.success("\u91CD\u7F6E\u6210\u529F"),Be(Fe))})},onCancel:function(){console.log("Cancel")}})},ot=function(t){me(!1),t&&Be(t)},Be=function(t){var u=ie.findIndex(function(V){return V.id===t.id}),g=N()(ie);u===-1?g.push(t):g.splice(u,1,S()({},t)),ve(g)},rt=function(){s.W.get("".concat(l.Z.apiPrefix,"user/login-log")).then(function(t){var u=t.code,g=t.data;u===200&&Qe(g)}).catch(function(t){console.log(t)})},st=function(t){be(t),t==="app"?et():t==="login"?rt():t==="notification"?it():t==="other"&&ut()},it=function(){s.W.get("".concat(l.Z.apiPrefix,"user/notification")).then(function(t){var u=t.code,g=t.data;u===200&&$e(g)}).catch(function(t){console.log(t)})},ut=function(){s.W.get("".concat(l.Z.apiPrefix,"system/log/remove")).then(function(t){var u=t.code,g=t.data;if(u===200&&g.info){var V=g.info.frequency;De(V)}}).catch(function(t){console.log(t)})},dt=function(){setTimeout(function(){s.W.put("".concat(l.Z.apiPrefix,"system/log/remove"),{data:{frequency:Me}}).then(function(t){var u=t.code,g=t.data;u===200&&h.ZP.success("\u66F4\u65B0\u6210\u529F")}).catch(function(t){console.log(t)})})};return(0,n.jsxs)(o.ZP,{className:"ql-container-wrapper ql-container-wrapper-has-tab ql-setting-container",title:"\u7CFB\u7EDF\u8BBE\u7F6E",header:{style:q},extra:We==="app"?[(0,n.jsx)(P.Z,{type:"primary",onClick:function(){return tt()},children:"\u65B0\u5EFA\u5E94\u7528"},"2")]:[],children:[(0,n.jsx)(b.Z,{defaultActiveKey:"security",size:"small",tabPosition:"top",onChange:st,items:[{key:"security",label:"\u5B89\u5168\u8BBE\u7F6E",children:(0,n.jsx)(i.default,{user:de,userChange:ce})},{key:"app",label:"\u5E94\u7528\u8BBE\u7F6E",children:(0,n.jsx)(Y.Z,{columns:re,pagination:!1,dataSource:ie,rowKey:"id",size:"middle",scroll:{x:768},loading:Le})},{key:"notification",label:"\u901A\u77E5\u8BBE\u7F6E",children:(0,n.jsx)(Q.default,{data:ke})},{key:"login",label:"\u767B\u5F55\u65E5\u5FD7",children:(0,n.jsx)(C.default,{data:Ke})},{key:"other",label:"\u5176\u4ED6\u8BBE\u7F6E",children:(0,n.jsxs)(W.Z,{layout:"vertical",form:Ye,children:[(0,n.jsx)(W.Z.Item,{label:"\u4E3B\u9898\u8BBE\u7F6E",name:"theme",initialValue:he,children:(0,n.jsx)(U.ZP.Group,{options:Z,onChange:qe,value:he,optionType:"button",buttonStyle:"solid"})}),(0,n.jsx)(W.Z.Item,{label:"\u65E5\u5FD7\u5220\u9664\u9891\u7387",name:"frequency",tooltip:"\u6BCFx\u5929\u81EA\u52A8\u5220\u9664x\u5929\u4EE5\u524D\u7684\u65E5\u5FD7",children:(0,n.jsxs)(K.Z.Group,{compact:!0,children:[(0,n.jsx)(H.Z,{addonBefore:"\u6BCF",addonAfter:"\u5929",style:{width:150},min:0,value:Me,onChange:function(t){return De(t)}}),(0,n.jsx)(P.Z,{type:"primary",onClick:dt,children:"\u786E\u8BA4"})]})}),(0,n.jsx)(W.Z.Item,{label:"\u68C0\u67E5\u66F4\u65B0",name:"update",children:(0,n.jsx)(_.default,{systemInfo:oe,socketMessage:le})})]})},{key:"about",label:"\u5173\u4E8E",children:(0,n.jsx)(y.default,{systemInfo:oe})}]}),(0,n.jsx)(d.default,{visible:Ze,handleCancel:ot,app:Te})]})},ue=te},72340:function(w,F,e){e.r(F);var j=e(63313),S=e.n(j),L=e(87670),N=e(96384),T=e(61685),c=e(11527),E=L.Z.Text,f=L.Z.Link,x;(function(v){v[v.\u6210\u529F=0]="\u6210\u529F",v[v.\u5931\u8D25=1]="\u5931\u8D25"})(x||(x={}));var R;(function(v){v[v.success=0]="success",v[v.error=1]="error"})(R||(R={}));var r=[{title:"\u5E8F\u53F7",align:"center",width:50,render:function(h,P,b){return b+1}},{title:"\u767B\u5F55\u65F6\u95F4",dataIndex:"timestamp",key:"timestamp",align:"center",render:function(h,P){return new Date(P.timestamp).toLocaleString()}},{title:"\u767B\u5F55\u5730\u5740",dataIndex:"address",key:"address",align:"center"},{title:"\u767B\u5F55IP",dataIndex:"ip",key:"ip",align:"center"},{title:"\u767B\u5F55\u8BBE\u5907",dataIndex:"platform",key:"platform",align:"center"},{title:"\u767B\u5F55\u72B6\u6001",dataIndex:"status",key:"status",align:"center",render:function(h,P){return(0,c.jsx)(N.Z,{color:R[P.status],style:{marginRight:0},children:x[P.status]})}}],W=function(h){var P=h.data;return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(T.Z,{columns:r,pagination:!1,dataSource:P,rowKey:"id",size:"middle",scroll:{x:768}})})};F.default=W},60220:function(w,F,e){e.r(F);var j=e(30279),S=e.n(j),L=e(46686),N=e.n(L),T=e(63313),c=e.n(T),E=e(61839),f=e(71976),x=e(63533),R=e(30314),r=e(59225),W=e(73835),v=e(41601),h=e(11527),P=E.Z.Option,b=function(U){var K=U.data,H=(0,T.useState)(!1),l=N()(H,2),o=l[0],s=l[1],a=(0,T.useState)("closed"),d=N()(a,2),k=d[0],A=d[1],I=(0,T.useState)([]),$=N()(I,2),M=$[0],O=$[1],p=f.Z.useForm(),m=N()(p,1),i=m[0],C=function(y){var z=y.type;z=="closed"&&(y.type=""),W.W.put("".concat(v.Z.apiPrefix,"user/notification"),{data:S()({},y)}).then(function(n){var G=n.code,Z=n.data;G===200&&x.ZP.success(y.type?"\u901A\u77E5\u53D1\u9001\u6210\u529F":"\u901A\u77E5\u5173\u95ED\u6210\u529F")}).catch(function(n){console.log(n)})},Q=function(y){A(y);var z=v.Z.notificationModeMap[y];O(z||[])};return(0,T.useEffect)(function(){K&&K.type&&(Q(K.type),i.setFieldsValue(S()({},K)))},[K]),(0,h.jsx)("div",{children:(0,h.jsxs)(f.Z,{onFinish:C,form:i,layout:"vertical",children:[(0,h.jsx)(f.Z.Item,{label:"\u901A\u77E5\u65B9\u5F0F",name:"type",rules:[{required:!0}],style:{maxWidth:400},initialValue:k,children:(0,h.jsx)(E.Z,{onChange:Q,children:v.Z.notificationModes.map(function(_){return(0,h.jsx)(P,{value:_.value,children:_.label},_.value)})})}),M.map(function(_){return(0,h.jsx)(f.Z.Item,{label:_.label,name:_.label,extra:_.tip,rules:[{required:_.required}],style:{maxWidth:400},children:_.items?(0,h.jsx)(E.Z,{placeholder:_.placeholder||"\u8BF7\u9009\u62E9".concat(_.label),children:_.items.map(function(y){return(0,h.jsx)(P,{value:y.value,children:y.label||y.value},y.value)})}):(0,h.jsx)(R.Z.TextArea,{autoSize:!0,placeholder:_.placeholder||"\u8BF7\u8F93\u5165".concat(_.label)})},_.label)}),(0,h.jsx)(r.Z,{type:"primary",htmlType:"submit",children:"\u4FDD\u5B58"})]})})};F.default=b},96384:function(w,F,e){e.d(F,{Z:function(){return H}});var j=e(24255),S=e(15882),L=e(6614),N=e(47161),T=e(84875),c=e.n(T),E=e(33759),f=e(63313),x=e(47295),R=e(38439),r=e(75851),W=function(l,o){var s={};for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&o.indexOf(a)<0&&(s[a]=l[a]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,a=Object.getOwnPropertySymbols(l);d<a.length;d++)o.indexOf(a[d])<0&&Object.prototype.propertyIsEnumerable.call(l,a[d])&&(s[a[d]]=l[a[d]]);return s},v=function(o){var s,a=o.prefixCls,d=o.className,k=o.checked,A=o.onChange,I=o.onClick,$=W(o,["prefixCls","className","checked","onChange","onClick"]),M=f.useContext(x.E_),O=M.getPrefixCls,p=function(Q){A==null||A(!k),I==null||I(Q)},m=O("tag",a),i=c()(m,(s={},(0,j.Z)(s,"".concat(m,"-checkable"),!0),(0,j.Z)(s,"".concat(m,"-checkable-checked"),k),s),d);return f.createElement("span",(0,S.Z)({},$,{className:i,onClick:p}))},h=v,P=function(l,o){var s={};for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&o.indexOf(a)<0&&(s[a]=l[a]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,a=Object.getOwnPropertySymbols(l);d<a.length;d++)o.indexOf(a[d])<0&&Object.prototype.propertyIsEnumerable.call(l,a[d])&&(s[a[d]]=l[a[d]]);return s},b=new RegExp("^(".concat(R.Y.join("|"),")(-inverse)?$")),Y=new RegExp("^(".concat(R.E.join("|"),")$")),U=function(o,s){var a,d=o.prefixCls,k=o.className,A=o.style,I=o.children,$=o.icon,M=o.color,O=o.onClose,p=o.closeIcon,m=o.closable,i=m===void 0?!1:m,C=P(o,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),Q=f.useContext(x.E_),_=Q.getPrefixCls,y=Q.direction,z=f.useState(!0),n=(0,L.Z)(z,2),G=n[0],Z=n[1];f.useEffect(function(){"visible"in C&&Z(C.visible)},[C.visible]);var te=function(){return M?b.test(M)||Y.test(M):!1},ue=(0,S.Z)({backgroundColor:M&&!te()?M:void 0},A),ne=te(),B=_("tag",d),q=c()(B,(a={},(0,j.Z)(a,"".concat(B,"-").concat(M),ne),(0,j.Z)(a,"".concat(B,"-has-color"),M&&!ne),(0,j.Z)(a,"".concat(B,"-hidden"),!G),(0,j.Z)(a,"".concat(B,"-rtl"),y==="rtl"),a),k),ae=function(J){J.stopPropagation(),O==null||O(J),!J.defaultPrevented&&("visible"in C||Z(!1))},de=function(){return i?p?f.createElement("span",{className:"".concat(B,"-close-icon"),onClick:ae},p):f.createElement(N.Z,{className:"".concat(B,"-close-icon"),onClick:ae}):null},ce="onClick"in C||I&&I.type==="a",fe=(0,E.Z)(C,["visible"]),le=$||null,oe=le?f.createElement(f.Fragment,null,le,f.createElement("span",null,I)):I,re=f.createElement("span",(0,S.Z)({},fe,{ref:s,className:q,style:ue}),oe,de());return ce?f.createElement(r.Z,null,re):re},K=f.forwardRef(U);K.CheckableTag=h;var H=K}}]);
